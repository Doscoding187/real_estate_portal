function _mergeNamespaces(e,s){for(var a=0;a<s.length;a++){const l=s[a];if("string"!=typeof l&&!Array.isArray(l))for(const s in l)if("default"!==s&&!(s in e)){const a=Object.getOwnPropertyDescriptor(l,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>l[s]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function polyfill(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&processPreload(e)}).observe(document,{childList:!0,subtree:!0})}function processPreload(e){if(e.ep)return;e.ep=!0;const s=function getFetchOpts(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs$2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s,a,l={exports:{}},c={};var u=function requireJsxRuntime(){return a||(a=1,l.exports=function requireReactJsxRuntime_production(){if(s)return c;s=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function jsxProd(s,a,l){var c=null;if(void 0!==l&&(c=""+l),void 0!==a.key&&(c=""+a.key),"key"in a)for(var u in l={},a)"key"!==u&&(l[u]=a[u]);else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:void 0!==a?a:null,props:l}}return c.Fragment=a,c.jsx=jsxProd,c.jsxs=jsxProd,c}()),l.exports}(),p=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},h=new class{#e=m;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}};var f="undefined"==typeof window||"Deno"in globalThis;function noop$6(){}function isValidTimeout(e){return"number"==typeof e&&e>=0&&e!==1/0}function timeUntilStale(e,s){return Math.max(e+(s||0)-Date.now(),0)}function resolveStaleTime(e,s){return"function"==typeof e?e(s):e}function resolveEnabled(e,s){return"function"==typeof e?e(s):e}function matchQuery(e,s){const{type:a="all",exact:l,fetchStatus:c,predicate:u,queryKey:p,stale:m}=e;if(p)if(l){if(s.queryHash!==hashQueryKeyByOptions(p,s.options))return!1}else if(!partialMatchKey(s.queryKey,p))return!1;if("all"!==a){const e=s.isActive();if("active"===a&&!e)return!1;if("inactive"===a&&e)return!1}return("boolean"!=typeof m||s.isStale()===m)&&((!c||c===s.state.fetchStatus)&&!(u&&!u(s)))}function matchMutation(e,s){const{exact:a,status:l,predicate:c,mutationKey:u}=e;if(u){if(!s.options.mutationKey)return!1;if(a){if(hashKey(s.options.mutationKey)!==hashKey(u))return!1}else if(!partialMatchKey(s.options.mutationKey,u))return!1}return(!l||s.state.status===l)&&!(c&&!c(s))}function hashQueryKeyByOptions(e,s){return(s?.queryKeyHashFn||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(e,s)=>isPlainObject$4(s)?Object.keys(s).sort().reduce((e,a)=>(e[a]=s[a],e),{}):s)}function partialMatchKey(e,s){return e===s||typeof e==typeof s&&(!(!e||!s||"object"!=typeof e||"object"!=typeof s)&&Object.keys(s).every(a=>partialMatchKey(e[a],s[a])))}var g=Object.prototype.hasOwnProperty;function replaceEqualDeep(e,s){if(e===s)return e;const a=isPlainArray(e)&&isPlainArray(s);if(!(a||isPlainObject$4(e)&&isPlainObject$4(s)))return s;const l=(a?e:Object.keys(e)).length,c=a?s:Object.keys(s),u=c.length,p=a?new Array(u):{};let m=0;for(let h=0;h<u;h++){const u=a?h:c[h],f=e[u],b=s[u];if(f===b){p[u]=f,(a?h<l:g.call(e,u))&&m++;continue}if(null===f||null===b||"object"!=typeof f||"object"!=typeof b){p[u]=b;continue}const j=replaceEqualDeep(f,b);p[u]=j,j===f&&m++}return l===u&&m===l?e:p}function shallowEqualObjects(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const a in e)if(e[a]!==s[a])return!1;return!0}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject$4(e){if(!hasObjectPrototype(e))return!1;const s=e.constructor;if(void 0===s)return!0;const a=s.prototype;return!!hasObjectPrototype(a)&&(!!a.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function hasObjectPrototype(e){return"[object Object]"===Object.prototype.toString.call(e)}function replaceData(e,s,a){return"function"==typeof a.structuralSharing?a.structuralSharing(e,s):!1!==a.structuralSharing?replaceEqualDeep(e,s):s}function addToEnd(e,s,a=0){const l=[...e,s];return a&&l.length>a?l.slice(1):l}function addToStart(e,s,a=0){const l=[s,...e];return a&&l.length>a?l.slice(0,-1):l}var b=Symbol();function ensureQueryFn(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:e.queryFn&&e.queryFn!==b?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function shouldThrowError(e,s){return"function"==typeof e?e(...s):!!e}var j=new class extends p{#r;#n;#s;constructor(){super(),this.#s=e=>{if(!f&&window.addEventListener){const listener=()=>e();return window.addEventListener("visibilitychange",listener,!1),()=>{window.removeEventListener("visibilitychange",listener)}}}}onSubscribe(){this.#n||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#s=e,this.#n?.(),this.#n=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#r!==e&&(this.#r=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return"boolean"==typeof this.#r?this.#r:"hidden"!==globalThis.document?.visibilityState}};function pendingThenable(){let e,s;const a=new Promise((a,l)=>{e=a,s=l});function finalize(e){Object.assign(a,e),delete a.resolve,delete a.reject}return a.status="pending",a.catch(()=>{}),a.resolve=s=>{finalize({status:"fulfilled",value:s}),e(s)},a.reject=e=>{finalize({status:"rejected",reason:e}),s(e)},a}var N=function systemSetTimeoutZero(e){setTimeout(e,0)};var k=function createNotifyManager(){let e=[],s=0,notifyFn=e=>{e()},batchNotifyFn=e=>{e()},a=N;const schedule=l=>{s?e.push(l):a(()=>{notifyFn(l)})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||(()=>{const s=e;e=[],s.length&&a(()=>{batchNotifyFn(()=>{s.forEach(e=>{notifyFn(e)})})})})()}return c},batchCalls:e=>(...s)=>{schedule(()=>{e(...s)})},schedule:schedule,setNotifyFunction:e=>{notifyFn=e},setBatchNotifyFunction:e=>{batchNotifyFn=e},setScheduler:e=>{a=e}}}(),_=new class extends p{#a=!0;#n;#s;constructor(){super(),this.#s=e=>{if(!f&&window.addEventListener){const onlineListener=()=>e(!0),offlineListener=()=>e(!1);return window.addEventListener("online",onlineListener,!1),window.addEventListener("offline",offlineListener,!1),()=>{window.removeEventListener("online",onlineListener),window.removeEventListener("offline",offlineListener)}}}}onSubscribe(){this.#n||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#s=e,this.#n?.(),this.#n=e(this.setOnline.bind(this))}setOnline(e){this.#a!==e&&(this.#a=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#a}};function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return"online"!==(e??"online")||_.isOnline()}var T=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function createRetryer(e){let s,a=!1,l=0;const c=pendingThenable(),isResolved=()=>"pending"!==c.status,canContinue=()=>j.isFocused()&&("always"===e.networkMode||_.isOnline())&&e.canRun(),canStart=()=>canFetch(e.networkMode)&&e.canRun(),resolve=e=>{isResolved()||(s?.(),c.resolve(e))},reject=e=>{isResolved()||(s?.(),c.reject(e))},pause=()=>new Promise(a=>{s=e=>{(isResolved()||canContinue())&&a(e)},e.onPause?.()}).then(()=>{s=void 0,isResolved()||e.onContinue?.()}),run=()=>{if(isResolved())return;let s;const c=0===l?e.initialPromise:void 0;try{s=c??e.fn()}catch(u){s=Promise.reject(u)}Promise.resolve(s).then(resolve).catch(s=>{if(isResolved())return;const c=e.retry??(f?0:3),u=e.retryDelay??defaultRetryDelay,p="function"==typeof u?u(l,s):u,m=!0===c||"number"==typeof c&&l<c||"function"==typeof c&&c(l,s);!a&&m?(l++,e.onFail?.(l,s),function sleep(e){return new Promise(s=>{h.setTimeout(s,e)})}(p).then(()=>canContinue()?void 0:pause()).then(()=>{a?reject(s):run()})):reject(s)})};return{promise:c,status:()=>c.status,cancel:s=>{if(!isResolved()){const a=new T(s);reject(a),e.onCancel?.(a)}},continue:()=>(s?.(),c),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1},canStart:canStart,start:()=>(canStart()?run():pause().then(run),c)}}var E=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#i=h.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(f?1/0:3e5))}clearGcTimeout(){this.#i&&(h.clearTimeout(this.#i),this.#i=void 0)}},A=class extends E{#o;#l;#c;#d;#u;#p;#m;constructor(e){super(),this.#m=!1,this.#p=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#d=e.client,this.#c=this.#d.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=getDefaultState$1(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){if(this.options={...this.#p,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=getDefaultState$1(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,s){const a=replaceData(this.state.data,e,this.options);return this.#h({data:a,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),a}setState(e,s){this.#h({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#u?.promise;return this.#u?.cancel(e),s?s.then(noop$6).catch(noop$6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==resolveEnabled(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===resolveStaleTime(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!timeUntilStale(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#u&&(this.#m?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}async fetch(e,s){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#u?.status())if(void 0!==this.state.data&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,addSignalProperty=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#m=!0,a.signal)})},fetchFn=()=>{const e=ensureQueryFn(this.options,s),a=(()=>{const e={client:this.#d,queryKey:this.queryKey,meta:this.meta};return addSignalProperty(e),e})();return this.#m=!1,this.options.persister?this.options.persister(e,a,this):e(a)},l=(()=>{const e={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:fetchFn};return addSignalProperty(e),e})();this.options.behavior?.onFetch(l,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===l.fetchOptions?.meta||this.#h({type:"fetch",meta:l.fetchOptions?.meta}),this.#u=createRetryer({initialPromise:s?.initialPromise,fn:l.fetchFn,onCancel:e=>{e instanceof T&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),a.abort()},onFail:(e,s)=>{this.#h({type:"failed",failureCount:e,error:s})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const e=await this.#u.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(c){if(c instanceof T){if(c.silent)return this.#u.promise;if(c.revert){if(void 0===this.state.data)throw c;return this.state.data}}throw this.#h({type:"error",error:c}),this.#c.config.onError?.(c,this),this.#c.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#h(e){this.state=(s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fetchState(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}})(this.state),k.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function fetchState(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function getDefaultState$1(e){const s="function"==typeof e.initialData?e.initialData():e.initialData,a=void 0!==s,l=a?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var O=class extends p{constructor(e,s){super(),this.options=s,this.#d=e,this.#f=null,this.#g=pendingThenable(),this.bindMethods(),this.setOptions(s)}#d;#x=void 0;#v=void 0;#y=void 0;#b;#j;#g;#f;#w;#N;#S;#C;#k;#_;#P=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#x.addObserver(this),shouldFetchOnMount(this.#x,this.options)?this.#T():this.updateResult(),this.#E())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#x,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#x,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#A(),this.#M(),this.#x.removeObserver(this)}setOptions(e){const s=this.options,a=this.#x;if(this.options=this.#d.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof resolveEnabled(this.options.enabled,this.#x))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#L(),this.#x.setOptions(this.options),s._defaulted&&!shallowEqualObjects(this.options,s)&&this.#d.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#x,observer:this});const l=this.hasListeners();l&&shouldFetchOptionally(this.#x,a,this.options,s)&&this.#T(),this.updateResult(),!l||this.#x===a&&resolveEnabled(this.options.enabled,this.#x)===resolveEnabled(s.enabled,this.#x)&&resolveStaleTime(this.options.staleTime,this.#x)===resolveStaleTime(s.staleTime,this.#x)||this.#D();const c=this.#O();!l||this.#x===a&&resolveEnabled(this.options.enabled,this.#x)===resolveEnabled(s.enabled,this.#x)&&c===this.#_||this.#I(c)}getOptimisticResult(e){const s=this.#d.getQueryCache().build(this.#d,e),a=this.createResult(s,e);return function shouldAssignObserverCurrentProperties(e,s){if(!shallowEqualObjects(e.getCurrentResult(),s))return!0;return!1}(this,a)&&(this.#y=a,this.#j=this.options,this.#b=this.#x.state),a}getCurrentResult(){return this.#y}trackResult(e,s){return new Proxy(e,{get:(e,a)=>(this.trackProp(a),s?.(a),"promise"!==a||this.options.experimental_prefetchInRender||"pending"!==this.#g.status||this.#g.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,a))})}trackProp(e){this.#P.add(e)}getCurrentQuery(){return this.#x}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#d.defaultQueryOptions(e),a=this.#d.getQueryCache().build(this.#d,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){return this.#T({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#T(e){this.#L();let s=this.#x.fetch(this.options,e);return e?.throwOnError||(s=s.catch(noop$6)),s}#D(){this.#A();const e=resolveStaleTime(this.options.staleTime,this.#x);if(f||this.#y.isStale||!isValidTimeout(e))return;const s=timeUntilStale(this.#y.dataUpdatedAt,e)+1;this.#C=h.setTimeout(()=>{this.#y.isStale||this.updateResult()},s)}#O(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#x):this.options.refetchInterval)??!1}#I(e){this.#M(),this.#_=e,!f&&!1!==resolveEnabled(this.options.enabled,this.#x)&&isValidTimeout(this.#_)&&0!==this.#_&&(this.#k=h.setInterval(()=>{(this.options.refetchIntervalInBackground||j.isFocused())&&this.#T()},this.#_))}#E(){this.#D(),this.#I(this.#O())}#A(){this.#C&&(h.clearTimeout(this.#C),this.#C=void 0)}#M(){this.#k&&(h.clearInterval(this.#k),this.#k=void 0)}createResult(e,s){const a=this.#x,l=this.options,c=this.#y,u=this.#b,p=this.#j,m=e!==a?e.state:this.#v,{state:h}=e;let f,g={...h},b=!1;if(s._optimisticResults){const c=this.hasListeners(),u=!c&&shouldFetchOnMount(e,s),p=c&&shouldFetchOptionally(e,a,s,l);(u||p)&&(g={...g,...fetchState(h.data,e.options)}),"isRestoring"===s._optimisticResults&&(g.fetchStatus="idle")}let{error:j,errorUpdatedAt:N,status:k}=g;f=g.data;let _=!1;if(void 0!==s.placeholderData&&void 0===f&&"pending"===k){let e;c?.isPlaceholderData&&s.placeholderData===p?.placeholderData?(e=c.data,_=!0):e="function"==typeof s.placeholderData?s.placeholderData(this.#S?.state.data,this.#S):s.placeholderData,void 0!==e&&(k="success",f=replaceData(c?.data,e,s),b=!0)}if(s.select&&void 0!==f&&!_)if(c&&f===u?.data&&s.select===this.#w)f=this.#N;else try{this.#w=s.select,f=s.select(f),f=replaceData(c?.data,f,s),this.#N=f,this.#f=null}catch($){this.#f=$}this.#f&&(j=this.#f,f=this.#N,N=Date.now(),k="error");const T="fetching"===g.fetchStatus,E="pending"===k,A="error"===k,L=E&&T,O=void 0!==f,I={status:k,fetchStatus:g.fetchStatus,isPending:E,isSuccess:"success"===k,isError:A,isInitialLoading:L,isLoading:L,data:f,dataUpdatedAt:g.dataUpdatedAt,error:j,errorUpdatedAt:N,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:A&&!O,isPaused:"paused"===g.fetchStatus,isPlaceholderData:b,isRefetchError:A&&O,isStale:isStale(e,s),refetch:this.refetch,promise:this.#g,isEnabled:!1!==resolveEnabled(s.enabled,e)};if(this.options.experimental_prefetchInRender){const finalizeThenableIfPossible=e=>{"error"===I.status?e.reject(I.error):void 0!==I.data&&e.resolve(I.data)},recreateThenable=()=>{const e=this.#g=I.promise=pendingThenable();finalizeThenableIfPossible(e)},s=this.#g;switch(s.status){case"pending":e.queryHash===a.queryHash&&finalizeThenableIfPossible(s);break;case"fulfilled":"error"!==I.status&&I.data===s.value||recreateThenable();break;case"rejected":"error"===I.status&&I.error===s.reason||recreateThenable()}}return I}updateResult(){const e=this.#y,s=this.createResult(this.#x,this.options);if(this.#b=this.#x.state,this.#j=this.options,void 0!==this.#b.data&&(this.#S=this.#x),shallowEqualObjects(s,e))return;this.#y=s;this.#$({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a="function"==typeof s?s():s;if("all"===a||!a&&!this.#P.size)return!0;const l=new Set(a??this.#P);return this.options.throwOnError&&l.add("error"),Object.keys(this.#y).some(s=>{const a=s;return this.#y[a]!==e[a]&&l.has(a)})})()})}#L(){const e=this.#d.getQueryCache().build(this.#d,this.options);if(e===this.#x)return;const s=this.#x;this.#x=e,this.#v=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#E()}#$(e){k.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#d.getQueryCache().notify({query:this.#x,type:"observerResultsUpdated"})})}};function shouldFetchOnMount(e,s){return function shouldLoadOnMount(e,s){return!1!==resolveEnabled(s.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===s.retryOnMount)}(e,s)||void 0!==e.state.data&&shouldFetchOn(e,s,s.refetchOnMount)}function shouldFetchOn(e,s,a){if(!1!==resolveEnabled(s.enabled,e)&&"static"!==resolveStaleTime(s.staleTime,e)){const l="function"==typeof a?a(e):a;return"always"===l||!1!==l&&isStale(e,s)}return!1}function shouldFetchOptionally(e,s,a,l){return(e!==s||!1===resolveEnabled(l.enabled,e))&&(!a.suspense||"error"!==e.state.status)&&isStale(e,a)}function isStale(e,s){return!1!==resolveEnabled(s.enabled,e)&&e.isStaleByTime(resolveStaleTime(s.staleTime,e))}function infiniteQueryBehavior(e){return{onFetch:(s,a)=>{const l=s.options,c=s.fetchOptions?.meta?.fetchMore?.direction,u=s.state.data?.pages||[],p=s.state.data?.pageParams||[];let m={pages:[],pageParams:[]},h=0;const fetchFn=async()=>{let a=!1;const f=ensureQueryFn(s.options,s.fetchOptions),fetchPage=async(e,l,c)=>{if(a)return Promise.reject();if(null==l&&e.pages.length)return Promise.resolve(e);const u=(()=>{const e={client:s.client,queryKey:s.queryKey,pageParam:l,direction:c?"backward":"forward",meta:s.options.meta};var u;return u=e,Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(s.signal.aborted?a=!0:s.signal.addEventListener("abort",()=>{a=!0}),s.signal)}),e})(),p=await f(u),{maxPages:m}=s.options,h=c?addToStart:addToEnd;return{pages:h(e.pages,p,m),pageParams:h(e.pageParams,l,m)}};if(c&&u.length){const e="backward"===c,s={pages:u,pageParams:p},a=(e?getPreviousPageParam:getNextPageParam)(l,s);m=await fetchPage(s,a,e)}else{const s=e??u.length;do{const e=0===h?p[0]??l.initialPageParam:getNextPageParam(l,m);if(h>0&&null==e)break;m=await fetchPage(m,e),h++}while(h<s)}return m};s.options.persister?s.fetchFn=()=>s.options.persister?.(fetchFn,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a):s.fetchFn=fetchFn}}}function getNextPageParam(e,{pages:s,pageParams:a}){const l=s.length-1;return s.length>0?e.getNextPageParam(s[l],s,a[l],a):void 0}function getPreviousPageParam(e,{pages:s,pageParams:a}){return s.length>0?e.getPreviousPageParam?.(s[0],s,a[0],a):void 0}function hasNextPage(e,s){return!!s&&null!=getNextPageParam(e,s)}function hasPreviousPage(e,s){return!(!s||!e.getPreviousPageParam)&&null!=getPreviousPageParam(e,s)}var I=class extends O{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:infiniteQueryBehavior()})}getOptimisticResult(e){return e.behavior=infiniteQueryBehavior(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,s){const{state:a}=e,l=super.createResult(e,s),{isFetching:c,isRefetching:u,isError:p,isRefetchError:m}=l,h=a.fetchMeta?.fetchMore?.direction,f=p&&"forward"===h,g=c&&"forward"===h,b=p&&"backward"===h,j=c&&"backward"===h;return{...l,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(s,a.data),hasPreviousPage:hasPreviousPage(s,a.data),isFetchNextPageError:f,isFetchingNextPage:g,isFetchPreviousPageError:b,isFetchingPreviousPage:j,isRefetchError:m&&!f&&!b,isRefetching:u&&!g&&!j}}},$=class extends E{#d;#R;#F;#u;constructor(e){super(),this.#d=e.client,this.mutationId=e.mutationId,this.#F=e.mutationCache,this.#R=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#R.includes(e)||(this.#R.push(e),this.clearGcTimeout(),this.#F.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#R=this.#R.filter(s=>s!==e),this.scheduleGc(),this.#F.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#R.length||("pending"===this.state.status?this.scheduleGc():this.#F.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){const onContinue=()=>{this.#h({type:"continue"})},s={client:this.#d,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#u=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(e,s)=>{this.#h({type:"failed",failureCount:e,error:s})},onPause:()=>{this.#h({type:"pause"})},onContinue:onContinue,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#F.canRun(this)});const a="pending"===this.state.status,l=!this.#u.canStart();try{if(a)onContinue();else{this.#h({type:"pending",variables:e,isPaused:l}),await(this.#F.config.onMutate?.(e,this,s));const a=await(this.options.onMutate?.(e,s));a!==this.state.context&&this.#h({type:"pending",context:a,variables:e,isPaused:l})}const c=await this.#u.start();return await(this.#F.config.onSuccess?.(c,e,this.state.context,this,s)),await(this.options.onSuccess?.(c,e,this.state.context,s)),await(this.#F.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s)),await(this.options.onSettled?.(c,null,e,this.state.context,s)),this.#h({type:"success",data:c}),c}catch(c){try{throw await(this.#F.config.onError?.(c,e,this.state.context,this,s)),await(this.options.onError?.(c,e,this.state.context,s)),await(this.#F.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s)),await(this.options.onSettled?.(void 0,c,e,this.state.context,s)),c}finally{this.#h({type:"error",error:c})}}finally{this.#F.runNext(this)}}#h(e){this.state=(s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),k.batch(()=>{this.#R.forEach(s=>{s.onMutationUpdate(e)}),this.#F.notify({mutation:this,type:"updated",action:e})})}};var z=class extends p{constructor(e={}){super(),this.config=e,this.#B=new Set,this.#z=new Map,this.#V=0}#B;#z;#V;build(e,s,a){const l=new $({client:e,mutationCache:this,mutationId:++this.#V,options:e.defaultMutationOptions(s),state:a});return this.add(l),l}add(e){this.#B.add(e);const s=scopeFor(e);if("string"==typeof s){const a=this.#z.get(s);a?a.push(e):this.#z.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#B.delete(e)){const s=scopeFor(e);if("string"==typeof s){const a=this.#z.get(s);if(a)if(a.length>1){const s=a.indexOf(e);-1!==s&&a.splice(s,1)}else a[0]===e&&this.#z.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=scopeFor(e);if("string"==typeof s){const a=this.#z.get(s),l=a?.find(e=>"pending"===e.state.status);return!l||l===e}return!0}runNext(e){const s=scopeFor(e);if("string"==typeof s){const a=this.#z.get(s)?.find(s=>s!==e&&s.state.isPaused);return a?.continue()??Promise.resolve()}return Promise.resolve()}clear(){k.batch(()=>{this.#B.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#B.clear(),this.#z.clear()})}getAll(){return Array.from(this.#B)}find(e){const s={exact:!0,...e};return this.getAll().find(e=>matchMutation(s,e))}findAll(e={}){return this.getAll().filter(s=>matchMutation(e,s))}notify(e){k.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return k.batch(()=>Promise.all(e.map(e=>e.continue().catch(noop$6))))}};function scopeFor(e){return e.options.scope?.id}var U=class MutationObserver2 extends p{#d;#y=void 0;#U;#H;constructor(e,s){super(),this.#d=e,this.setOptions(s),this.bindMethods(),this.#q()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const s=this.options;this.options=this.#d.defaultMutationOptions(e),shallowEqualObjects(this.options,s)||this.#d.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#U,observer:this}),s?.mutationKey&&this.options.mutationKey&&hashKey(s.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():"pending"===this.#U?.state.status&&this.#U.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#U?.removeObserver(this)}onMutationUpdate(e){this.#q(),this.#$(e)}getCurrentResult(){return this.#y}reset(){this.#U?.removeObserver(this),this.#U=void 0,this.#q(),this.#$()}mutate(e,s){return this.#H=s,this.#U?.removeObserver(this),this.#U=this.#d.getMutationCache().build(this.#d,this.options),this.#U.addObserver(this),this.#U.execute(e)}#q(){const e=this.#U?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#y={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#$(e){k.batch(()=>{if(this.#H&&this.hasListeners()){const s=this.#y.variables,a=this.#y.context,l={client:this.#d,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#H.onSuccess?.(e.data,s,a,l),this.#H.onSettled?.(e.data,null,s,a,l)):"error"===e?.type&&(this.#H.onError?.(e.error,s,a,l),this.#H.onSettled?.(void 0,e.error,s,a,l))}this.listeners.forEach(e=>{e(this.#y)})})}};function difference(e,s){const a=new Set(s);return e.filter(e=>!a.has(e))}var H,q,Z=class extends p{#d;#W;#Z;#K;#R;#G;#Y;#Q;#X=[];constructor(e,s,a){super(),this.#d=e,this.#K=a,this.#Z=[],this.#R=[],this.#W=[],this.setQueries(s)}onSubscribe(){1===this.listeners.size&&this.#R.forEach(e=>{e.subscribe(s=>{this.#J(e,s)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#R.forEach(e=>{e.destroy()})}setQueries(e,s){this.#Z=e,this.#K=s,k.batch(()=>{const e=this.#R,s=this.#ee(this.#Z);this.#X=s,s.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions));const a=s.map(e=>e.observer),l=a.map(e=>e.getCurrentResult()),c=e.length!==a.length,u=a.some((s,a)=>s!==e[a]),p=c||u,m=!!p||l.some((e,s)=>{const a=this.#W[s];return!a||!shallowEqualObjects(e,a)});(p||m)&&(p&&(this.#R=a),this.#W=l,this.hasListeners()&&(p&&(difference(e,a).forEach(e=>{e.destroy()}),difference(a,e).forEach(e=>{e.subscribe(s=>{this.#J(e,s)})})),this.#$()))})}getCurrentResult(){return this.#W}getQueries(){return this.#R.map(e=>e.getCurrentQuery())}getObservers(){return this.#R}getOptimisticResult(e,s){const a=this.#ee(e),l=a.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[l,e=>this.#te(e??l,s),()=>this.#re(l,a)]}#re(e,s){return s.map((a,l)=>{const c=e[l];return a.defaultedQueryOptions.notifyOnChangeProps?c:a.observer.trackResult(c,e=>{s.forEach(s=>{s.observer.trackProp(e)})})})}#te(e,s){return s?(this.#G&&this.#W===this.#Q&&s===this.#Y||(this.#Y=s,this.#Q=this.#W,this.#G=replaceEqualDeep(this.#G,s(e))),this.#G):e}#ee(e){const s=new Map(this.#R.map(e=>[e.options.queryHash,e])),a=[];return e.forEach(e=>{const l=this.#d.defaultQueryOptions(e),c=s.get(l.queryHash);c?a.push({defaultedQueryOptions:l,observer:c}):a.push({defaultedQueryOptions:l,observer:new O(this.#d,l)})}),a}#J(e,s){const a=this.#R.indexOf(e);-1!==a&&(this.#W=function replaceAt(e,s,a){const l=e.slice(0);return l[s]=a,l}(this.#W,a,s),this.#$())}#$(){if(this.hasListeners()){const e=this.#G,s=this.#re(this.#W,this.#X);e!==this.#te(s,this.#K?.combine)&&k.batch(()=>{this.listeners.forEach(e=>{e(this.#W)})})}}},Y=class extends p{constructor(e={}){super(),this.config=e,this.#Z=new Map}#Z;build(e,s,a){const l=s.queryKey,c=s.queryHash??hashQueryKeyByOptions(l,s);let u=this.get(c);return u||(u=new A({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(s),state:a,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){this.#Z.has(e.queryHash)||(this.#Z.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#Z.get(e.queryHash);s&&(e.destroy(),s===e&&this.#Z.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){k.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#Z.get(e)}getAll(){return[...this.#Z.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(e=>matchQuery(s,e))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(s=>matchQuery(e,s)):s}notify(e){k.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){k.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){k.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},X={exports:{}},J={};function requireReact_production(){if(H)return J;H=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),j=Symbol.iterator;var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function Component2(e,s,a){this.props=e,this.context=s,this.refs=_,this.updater=a||N}function ComponentDummy(){}function PureComponent(e,s,a){this.props=e,this.context=s,this.refs=_,this.updater=a||N}Component2.prototype.isReactComponent={},Component2.prototype.setState=function(e,s){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")},Component2.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ComponentDummy.prototype=Component2.prototype;var T=PureComponent.prototype=new ComponentDummy;T.constructor=PureComponent,k(T,Component2.prototype),T.isPureReactComponent=!0;var E=Array.isArray;function noop3(){}var A={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function ReactElement(s,a,l){var c=l.ref;return{$$typeof:e,type:s,key:a,ref:void 0!==c?c:null,props:l}}function isValidElement(s){return"object"==typeof s&&null!==s&&s.$$typeof===e}var O=/\/+/g;function getElementKey(e,s){return"object"==typeof e&&null!==e&&null!=e.key?function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return s[e]})}(""+e.key):s.toString(36)}function mapIntoArray(a,l,c,u,p){var m=typeof a;"undefined"!==m&&"boolean"!==m||(a=null);var h=!1;if(null===a)h=!0;else switch(m){case"bigint":case"string":case"number":h=!0;break;case"object":switch(a.$$typeof){case e:case s:h=!0;break;case g:return mapIntoArray((h=a._init)(a._payload),l,c,u,p)}}if(h)return p=p(a),h=""===u?"."+getElementKey(a,0):u,E(p)?(c="",null!=h&&(c=h.replace(O,"$&/")+"/"),mapIntoArray(p,l,c,"",function(e){return e})):null!=p&&(isValidElement(p)&&(p=function cloneAndReplaceKey(e,s){return ReactElement(e.type,s,e.props)}(p,c+(null==p.key||a&&a.key===p.key?"":(""+p.key).replace(O,"$&/")+"/")+h)),l.push(p)),1;h=0;var f=""===u?".":u+":";if(E(a))for(var b=0;b<a.length;b++)h+=mapIntoArray(u=a[b],l,c,m=f+getElementKey(u,b),p);else if("function"==typeof(b=function getIteratorFn(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}(a)))for(a=b.call(a),b=0;!(u=a.next()).done;)h+=mapIntoArray(u=u.value,l,c,m=f+getElementKey(u,b++),p);else if("object"===m){if("function"==typeof a.then)return mapIntoArray(function resolveThenable(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(noop3,noop3):(e.status="pending",e.then(function(s){"pending"===e.status&&(e.status="fulfilled",e.value=s)},function(s){"pending"===e.status&&(e.status="rejected",e.reason=s)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(a),l,c,u,p);throw l=String(a),Error("Objects are not valid as a React child (found: "+("[object Object]"===l?"object with keys {"+Object.keys(a).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}return h}function mapChildren(e,s,a){if(null==e)return e;var l=[],c=0;return mapIntoArray(e,l,"","",function(e){return s.call(a,e,c++)}),l}function lazyInitializer(e){if(-1===e._status){var s=e._result;(s=s()).then(function(s){0!==e._status&&-1!==e._status||(e._status=1,e._result=s)},function(s){0!==e._status&&-1!==e._status||(e._status=2,e._result=s)}),-1===e._status&&(e._status=0,e._result=s)}if(1===e._status)return e._result.default;throw e._result}var I="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},$={map:mapChildren,forEach:function(e,s,a){mapChildren(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return mapChildren(e,function(){s++}),s},toArray:function(e){return mapChildren(e,function(e){return e})||[]},only:function(e){if(!isValidElement(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return J.Activity=b,J.Children=$,J.Component=Component2,J.Fragment=a,J.Profiler=c,J.PureComponent=PureComponent,J.StrictMode=l,J.Suspense=h,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return A.H.useMemoCache(e)}},J.cache=function(e){return function(){return e.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(e,s,a){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var l=k({},e.props),c=e.key;if(null!=s)for(u in void 0!==s.key&&(c=""+s.key),s)!L.call(s,u)||"key"===u||"__self"===u||"__source"===u||"ref"===u&&void 0===s.ref||(l[u]=s[u]);var u=arguments.length-2;if(1===u)l.children=a;else if(1<u){for(var p=Array(u),m=0;m<u;m++)p[m]=arguments[m+2];l.children=p}return ReactElement(e.type,c,l)},J.createContext=function(e){return(e={$$typeof:p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:u,_context:e},e},J.createElement=function(e,s,a){var l,c={},u=null;if(null!=s)for(l in void 0!==s.key&&(u=""+s.key),s)L.call(s,l)&&"key"!==l&&"__self"!==l&&"__source"!==l&&(c[l]=s[l]);var p=arguments.length-2;if(1===p)c.children=a;else if(1<p){for(var m=Array(p),h=0;h<p;h++)m[h]=arguments[h+2];c.children=m}if(e&&e.defaultProps)for(l in p=e.defaultProps)void 0===c[l]&&(c[l]=p[l]);return ReactElement(e,u,c)},J.createRef=function(){return{current:null}},J.forwardRef=function(e){return{$$typeof:m,render:e}},J.isValidElement=isValidElement,J.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:lazyInitializer}},J.memo=function(e,s){return{$$typeof:f,type:e,compare:void 0===s?null:s}},J.startTransition=function(e){var s=A.T,a={};A.T=a;try{var l=e(),c=A.S;null!==c&&c(a,l),"object"==typeof l&&null!==l&&"function"==typeof l.then&&l.then(noop3,I)}catch(u){I(u)}finally{null!==s&&null!==a.types&&(s.types=a.types),A.T=s}},J.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},J.use=function(e){return A.H.use(e)},J.useActionState=function(e,s,a){return A.H.useActionState(e,s,a)},J.useCallback=function(e,s){return A.H.useCallback(e,s)},J.useContext=function(e){return A.H.useContext(e)},J.useDebugValue=function(){},J.useDeferredValue=function(e,s){return A.H.useDeferredValue(e,s)},J.useEffect=function(e,s){return A.H.useEffect(e,s)},J.useEffectEvent=function(e){return A.H.useEffectEvent(e)},J.useId=function(){return A.H.useId()},J.useImperativeHandle=function(e,s,a){return A.H.useImperativeHandle(e,s,a)},J.useInsertionEffect=function(e,s){return A.H.useInsertionEffect(e,s)},J.useLayoutEffect=function(e,s){return A.H.useLayoutEffect(e,s)},J.useMemo=function(e,s){return A.H.useMemo(e,s)},J.useOptimistic=function(e,s){return A.H.useOptimistic(e,s)},J.useReducer=function(e,s,a){return A.H.useReducer(e,s,a)},J.useRef=function(e){return A.H.useRef(e)},J.useState=function(e){return A.H.useState(e)},J.useSyncExternalStore=function(e,s,a){return A.H.useSyncExternalStore(e,s,a)},J.useTransition=function(){return A.H.useTransition()},J.version="19.2.0",J}function requireReact(){return q||(q=1,X.exports=requireReact_production()),X.exports}var re=requireReact();const ae=getDefaultExportFromCjs$2(re),le=_mergeNamespaces({__proto__:null,default:ae},[re]);var ce=re.createContext(void 0),useQueryClient=e=>{const s=re.useContext(ce);if(e)return e;if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},QueryClientProvider=({client:e,children:s})=>(re.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(ce.Provider,{value:e,children:s})),de=re.createContext(!1),useIsRestoring=()=>re.useContext(de);de.Provider;var ue=re.createContext(function createValue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),useQueryErrorResetBoundary=()=>re.useContext(ue),ensurePreventErrorBoundaryRetry=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},useClearResetErrorBoundary=e=>{re.useEffect(()=>{e.clearReset()},[e])},getHasError=({result:e,errorResetBoundary:s,throwOnError:a,query:l,suspense:c})=>e.isError&&!s.isReset()&&!e.isFetching&&l&&(c&&void 0===e.data||shouldThrowError(a,[e.error,l])),defaultThrowOnError=(e,s)=>void 0===s.state.data,ensureSuspenseTimers=e=>{if(e.suspense){const s=1e3,clamp2=e=>"static"===e?e:Math.max(e??s,s),a=e.staleTime;e.staleTime="function"==typeof a?(...e)=>clamp2(a(...e)):clamp2(a),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,s))}},willFetch=(e,s)=>e.isLoading&&e.isFetching&&!s,shouldSuspend=(e,s)=>e?.suspense&&s.isPending,fetchOptimistic=(e,s,a)=>s.fetchOptimistic(e).catch(()=>{a.clearReset()});function useQueries({queries:e,...s},a){const l=useQueryClient(a),c=useIsRestoring(),u=useQueryErrorResetBoundary(),p=re.useMemo(()=>e.map(e=>{const s=l.defaultQueryOptions(e);return s._optimisticResults=c?"isRestoring":"optimistic",s}),[e,l,c]);p.forEach(e=>{ensureSuspenseTimers(e),ensurePreventErrorBoundaryRetry(e,u)}),useClearResetErrorBoundary(u);const[m]=re.useState(()=>new Z(l,p,s)),[h,f,g]=m.getOptimisticResult(p,s.combine),b=!c&&!1!==s.subscribed;re.useSyncExternalStore(re.useCallback(e=>b?m.subscribe(k.batchCalls(e)):noop$6,[m,b]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),re.useEffect(()=>{m.setQueries(p,s)},[p,s,m]);const j=h.some((e,s)=>shouldSuspend(p[s],e))?h.flatMap((e,s)=>{const a=p[s];if(a){const s=new O(l,a);if(shouldSuspend(a,e))return fetchOptimistic(a,s,u);willFetch(e,c)&&fetchOptimistic(a,s,u)}return[]}):[];if(j.length>0)throw Promise.all(j);const N=h.find((e,s)=>{const a=p[s];return a&&getHasError({result:e,errorResetBoundary:u,throwOnError:a.throwOnError,query:l.getQueryCache().get(a.queryHash),suspense:a.suspense})});if(N?.error)throw N.error;return f(g())}function useBaseQuery(e,s,a){const l=useIsRestoring(),c=useQueryErrorResetBoundary(),u=useQueryClient(a),p=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(p),p._optimisticResults=l?"isRestoring":"optimistic",ensureSuspenseTimers(p),ensurePreventErrorBoundaryRetry(p,c),useClearResetErrorBoundary(c);const m=!u.getQueryCache().get(p.queryHash),[h]=re.useState(()=>new s(u,p)),g=h.getOptimisticResult(p),b=!l&&!1!==e.subscribed;if(re.useSyncExternalStore(re.useCallback(e=>{const s=b?h.subscribe(k.batchCalls(e)):noop$6;return h.updateResult(),s},[h,b]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),re.useEffect(()=>{h.setOptions(p)},[p,h]),shouldSuspend(p,g))throw fetchOptimistic(p,h,c);if(getHasError({result:g,errorResetBoundary:c,throwOnError:p.throwOnError,query:u.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw g.error;if(u.getDefaultOptions().queries?._experimental_afterQuery?.(p,g),p.experimental_prefetchInRender&&!f&&willFetch(g,l)){const e=m?fetchOptimistic(p,h,c):u.getQueryCache().get(p.queryHash)?.promise;e?.catch(noop$6).finally(()=>{h.updateResult()})}return p.notifyOnChangeProps?g:h.trackResult(g)}function useQuery(e,s){return useBaseQuery(e,O,s)}function useMutation(e,s){const a=useQueryClient(s),[l]=re.useState(()=>new U(a,e));re.useEffect(()=>{l.setOptions(e)},[l,e]);const c=re.useSyncExternalStore(re.useCallback(e=>l.subscribe(k.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=re.useCallback((e,s)=>{l.mutate(e,s).catch(noop$6)},[l]);if(c.error&&shouldThrowError(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function isObject$5(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}const me="function"==typeof Symbol&&!!Symbol.asyncIterator;function isAsyncIterable(e){return me&&isObject$5(e)&&Symbol.asyncIterator in e}var he=Object.create,fe=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,xe=Object.getOwnPropertyNames,ye=Object.getPrototypeOf,be=Object.prototype.hasOwnProperty,__commonJS$2=(e,s)=>function(){return s||(0,e[xe(e)[0]])((s={exports:{}}).exports,s),s.exports},__toESM$2=(e,s,a)=>(a=null!=e?he(ye(e)):{},((e,s,a,l)=>{if(s&&"object"==typeof s||"function"==typeof s)for(var c,u=xe(s),p=0,m=u.length;p<m;p++)c=u[p],be.call(e,c)||c===a||fe(e,c,{get:(e=>s[e]).bind(null,c),enumerable:!(l=ge(s,c))||l.enumerable});return e})(fe(a,"default",{value:e,enumerable:!0}),e));const noop$5=()=>{},freezeIfAvailable=e=>{Object.freeze&&Object.freeze(e)};function createInnerProxy(e,s,a){var l;const c=s.join(".");return null!==(l=a[c])&&void 0!==l||(a[c]=new Proxy(noop$5,{get(l,c){if("string"==typeof c&&"then"!==c)return createInnerProxy(e,[...s,c],a)},apply(a,l,c){const u=s[s.length-1];let p={args:c,path:s};return"call"===u?p={args:c.length>=2?[c[1]]:[],path:s.slice(0,-1)}:"apply"===u&&(p={args:c.length>=2?c[1]:[],path:s.slice(0,-1)}),freezeIfAvailable(p.args),freezeIfAvailable(p.path),e(p)}})),a[c]}const createRecursiveProxy=e=>createInnerProxy(e,[],Object.create(null)),createFlatProxy=e=>new Proxy(noop$5,{get(s,a){if("then"!==a)return e(a)}});var je=__commonJS$2({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,s){function _typeof$22(e){return s.exports=_typeof$22="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s.exports.__esModule=!0,s.exports.default=s.exports,_typeof$22(e)}s.exports=_typeof$22,s.exports.__esModule=!0,s.exports.default=s.exports}}),Ne=__commonJS$2({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,s){var a=je().default;s.exports=function toPrimitive$1(e,s){if("object"!=a(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var c=l.call(e,s||"default");if("object"!=a(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)},s.exports.__esModule=!0,s.exports.default=s.exports}}),Se=__commonJS$2({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,s){var a=je().default,l=Ne();s.exports=function toPropertyKey$1(e){var s=l(e,"string");return"symbol"==a(s)?s:s+""},s.exports.__esModule=!0,s.exports.default=s.exports}}),Ce=__commonJS$2({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,s){var a=Se();s.exports=function _defineProperty2(e,s,l){return(s=a(s))in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e},s.exports.__esModule=!0,s.exports.default=s.exports}}),_e=__commonJS$2({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,s){var a=Ce();function ownKeys2(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}s.exports=function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var l=null!=arguments[s]?arguments[s]:{};s%2?ownKeys2(Object(l),!0).forEach(function(s){a(e,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys2(Object(l)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(l,s))})}return e},s.exports.__esModule=!0,s.exports.default=s.exports}});__toESM$2(_e()),__toESM$2(Ce());var Pe=__toESM$2(_e());var Te=class extends Error{constructor(){super("Unable to transform response from server")}};function transformResult(e,s){let a;try{a=function transformResultInner(e,s){if("error"in e){const a=s.deserialize(e.error);return{ok:!1,error:(0,Pe.default)((0,Pe.default)({},e),{},{error:a})}}return{ok:!0,result:(0,Pe.default)((0,Pe.default)({},e.result),(!e.result.type||"data"===e.result.type)&&{type:"data",data:s.deserialize(e.result.data)})}}(e,s)}catch(l){throw new Te}if(!(a.ok||isObject$5(a.error.error)&&"number"==typeof a.error.error.code))throw new Te;if(a.ok&&!isObject$5(a.result))throw new Te;return a}function observable(e){const s={subscribe(s){let a=null,l=!1,c=!1,u=!1;function unsubscribe(){null!==a?c||(c=!0,"function"==typeof a?a():a&&a.unsubscribe()):u=!0}return a=e({next(e){var a;l||null===(a=s.next)||void 0===a||a.call(s,e)},error(e){var a;l||(l=!0,null===(a=s.error)||void 0===a||a.call(s,e),unsubscribe())},complete(){var e;l||(l=!0,null===(e=s.complete)||void 0===e||e.call(s),unsubscribe())}}),u&&unsubscribe(),{unsubscribe:unsubscribe}},pipe:(...e)=>e.reduce(pipeReducer,s)};return s}function pipeReducer(e,s){return s(e)}__toESM$2(_e());var Ee=Object.create,Ae=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,Oe=Object.getOwnPropertyNames,Ie=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty,__commonJS$1=(e,s)=>function(){return s||(0,e[Oe(e)[0]])((s={exports:{}}).exports,s),s.exports},__toESM$1=(e,s,a)=>(a=null!=e?Ee(Ie(e)):{},((e,s,a,l)=>{if(s&&"object"==typeof s||"function"==typeof s)for(var c,u=Oe(s),p=0,m=u.length;p<m;p++)c=u[p],$e.call(e,c)||c===a||Ae(e,c,{get:(e=>s[e]).bind(null,c),enumerable:!(l=Le(s,c))||l.enumerable});return e})(!s&&e&&e.__esModule?a:Ae(a,"default",{value:e,enumerable:!0}),e)),Fe=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,s){s.exports=function _objectWithoutPropertiesLoose2(e,s){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;a[l]=e[l]}return a},s.exports.__esModule=!0,s.exports.default=s.exports}}),Be=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,s){var a=Fe();s.exports=function _objectWithoutProperties$12(e,s){if(null==e)return{};var l,c,u=a(e,s);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(c=0;c<p.length;c++)l=p[c],s.includes(l)||{}.propertyIsEnumerable.call(e,l)&&(u[l]=e[l])}return u},s.exports.__esModule=!0,s.exports.default=s.exports}}),ze=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,s){function _typeof$22(e){return s.exports=_typeof$22="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s.exports.__esModule=!0,s.exports.default=s.exports,_typeof$22(e)}s.exports=_typeof$22,s.exports.__esModule=!0,s.exports.default=s.exports}}),Ve=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,s){var a=ze().default;s.exports=function toPrimitive$1(e,s){if("object"!=a(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var c=l.call(e,s||"default");if("object"!=a(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)},s.exports.__esModule=!0,s.exports.default=s.exports}}),Ue=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,s){var a=ze().default,l=Ve();s.exports=function toPropertyKey$1(e){var s=l(e,"string");return"symbol"==a(s)?s:s+""},s.exports.__esModule=!0,s.exports.default=s.exports}}),He=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,s){var a=Ue();s.exports=function _defineProperty2(e,s,l){return(s=a(s))in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e},s.exports.__esModule=!0,s.exports.default=s.exports}}),qe=__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,s){var a=He();function ownKeys2(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}s.exports=function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var l=null!=arguments[s]?arguments[s]:{};s%2?ownKeys2(Object(l),!0).forEach(function(s){a(e,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys2(Object(l)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(l,s))})}return e},s.exports.__esModule=!0,s.exports.default=s.exports}}),We=__toESM$1(Be(),1),Ze=__toESM$1(qe(),1);const Ke=["cursor","direction"];function getQueryKeyInternal(e,s,a){const l=e.flatMap(e=>e.split("."));if(!(s||a&&"any"!==a))return l.length?[l]:[];if("infinite"===a&&isObject$5(s)&&("direction"in s||"cursor"in s)){const{cursor:e,direction:a}=s;return[l,{input:(0,We.default)(s,Ke),type:"infinite"}]}return[l,(0,Ze.default)((0,Ze.default)({},void 0!==s&&s!==b&&{input:s}),a&&"any"!==a&&{type:a})]}function getMutationKeyInternal(e){return getQueryKeyInternal(e,void 0,"any")}var Ge=Object.create,Ye=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Xe=Object.getOwnPropertyNames,Je=Object.getPrototypeOf,et=Object.prototype.hasOwnProperty,__commonJS=(e,s)=>function(){return s||(0,e[Xe(e)[0]])((s={exports:{}}).exports,s),s.exports},__toESM=(e,s,a)=>(a=null!=e?Ge(Je(e)):{},((e,s,a,l)=>{if(s&&"object"==typeof s||"function"==typeof s)for(var c,u=Xe(s),p=0,m=u.length;p<m;p++)c=u[p],et.call(e,c)||c===a||Ye(e,c,{get:(e=>s[e]).bind(null,c),enumerable:!(l=Qe(s,c))||l.enumerable});return e})(!s&&e&&e.__esModule?a:Ye(a,"default",{value:e,enumerable:!0}),e)),tt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,s){function _typeof$22(e){return s.exports=_typeof$22="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s.exports.__esModule=!0,s.exports.default=s.exports,_typeof$22(e)}s.exports=_typeof$22,s.exports.__esModule=!0,s.exports.default=s.exports}}),rt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,s){var a=tt().default;s.exports=function toPrimitive$1(e,s){if("object"!=a(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var c=l.call(e,s||"default");if("object"!=a(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)},s.exports.__esModule=!0,s.exports.default=s.exports}}),nt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,s){var a=tt().default,l=rt();s.exports=function toPropertyKey$1(e){var s=l(e,"string");return"symbol"==a(s)?s:s+""},s.exports.__esModule=!0,s.exports.default=s.exports}}),st=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,s){var a=nt();s.exports=function _defineProperty2(e,s,l){return(s=a(s))in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e},s.exports.__esModule=!0,s.exports.default=s.exports}}),at=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,s){var a=st();function ownKeys2(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}s.exports=function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var l=null!=arguments[s]?arguments[s]:{};s%2?ownKeys2(Object(l),!0).forEach(function(s){a(e,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ownKeys2(Object(l)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(l,s))})}return e},s.exports.__esModule=!0,s.exports.default=s.exports}});function share(e){return e=>{let s=0,a=null;const l=[];return observable(c=>(s++,l.push(c),function startIfNeeded(){a||(a=e.subscribe({next(e){for(const a of l){var s;null===(s=a.next)||void 0===s||s.call(a,e)}},error(e){for(const a of l){var s;null===(s=a.error)||void 0===s||s.call(a,e)}},complete(){for(const s of l){var e;null===(e=s.complete)||void 0===e||e.call(s)}}}))}(),{unsubscribe(){s--,function resetIfNeeded(){if(0===s&&a){const e=a;a=null,e.unsubscribe()}}();const e=l.findIndex(e=>e===c);e>-1&&l.splice(e,1)}}))}}function behaviorSubject(e){let s=e;const a=[],l=observable(e=>((e=>{void 0!==s&&e.next(s),a.push(e)})(e),()=>{(e=>{a.splice(a.indexOf(e),1)})(e)}));return l.next=e=>{if(s!==e){s=e;for(const s of a)s.next(e)}},l.get=()=>s,l}var it=__toESM(st(),1),ot=__toESM(at(),1);var lt=class TRPCClientError2 extends Error{constructor(e,s){var a,l;const c=null==s?void 0:s.cause;super(e,{cause:c}),(0,it.default)(this,"cause",void 0),(0,it.default)(this,"shape",void 0),(0,it.default)(this,"data",void 0),(0,it.default)(this,"meta",void 0),this.meta=null==s?void 0:s.meta,this.cause=c,this.shape=null==s||null===(a=s.result)||void 0===a?void 0:a.error,this.data=null==s||null===(l=s.result)||void 0===l?void 0:l.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError2.prototype)}static from(e,s={}){const a=e;return function isTRPCClientError(e){return e instanceof lt}(a)?(s.meta&&(a.meta=(0,ot.default)((0,ot.default)({},a.meta),s.meta)),a):function isTRPCErrorResponse(e){return isObject$5(e)&&isObject$5(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message}(a)?new TRPCClientError2(a.error.message,(0,ot.default)((0,ot.default)({},s),{},{result:a})):new TRPCClientError2(function getMessageFromUnknownError(e,s){return"string"==typeof e?e:isObject$5(e)&&"string"==typeof e.message?e.message:s}(a,"Unknown error"),(0,ot.default)((0,ot.default)({},s),{},{cause:a}))}};const isFunction$4=e=>"function"==typeof e;var ct=__toESM(at());const dt={query:"GET",mutation:"POST",subscription:"PATCH"};function getInput(e){return"input"in e?e.transformer.input.serialize(e.input):function arrayToDict(e){const s={};for(let a=0;a<e.length;a++){const l=e[a];s[a]=l}return s}(e.inputs.map(s=>e.transformer.input.serialize(s)))}const getUrl=e=>{const s=e.url.split("?");let a=s[0].replace(/\/$/,"")+"/"+e.path;const l=[];if(s[1]&&l.push(s[1]),"inputs"in e&&l.push("batch=1"),"query"===e.type||"subscription"===e.type){const s=getInput(e);void 0!==s&&"POST"!==e.methodOverride&&l.push(`input=${encodeURIComponent(JSON.stringify(s))}`)}return l.length&&(a+="?"+l.join("&")),a},getBody=e=>{if("query"===e.type&&"POST"!==e.methodOverride)return;const s=getInput(e);return void 0!==s?JSON.stringify(s):void 0},jsonHttpRequester=e=>async function httpRequest(e){const s={},a=await async function fetchHTTPResponse(e){var s;throwIfAborted(e.signal);const a=e.getUrl(e),l=e.getBody(e),c=null!==(s=e.methodOverride)&&void 0!==s?s:dt[e.type],u=await(async()=>{const s=await e.headers();return Symbol.iterator in s?Object.fromEntries(s):s})(),p=(0,ct.default)((0,ct.default)((0,ct.default)({},e.contentTypeHeader&&"GET"!==c?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),u);return function getFetch(e){if(e)return e;if("undefined"!=typeof window&&isFunction$4(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&isFunction$4(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}(e.fetch)(a,{method:c,signal:e.signal,body:l,headers:p})}(e);s.response=a;const l=await a.json();return s.responseJSON=l,{json:l,meta:s}}((0,ct.default)((0,ct.default)({},e),{},{contentTypeHeader:"application/json",getUrl:getUrl,getBody:getBody}));var ut=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const throwIfAborted=e=>{var s;if(null==e?void 0:e.aborted){if(null===(s=e.throwIfAborted)||void 0===s||s.call(e),"undefined"!=typeof DOMException)throw new DOMException("AbortError","AbortError");throw new ut}};__toESM(at(),1);const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(e){let s=null,a=null;function dispatch(){const l=function groupItems(s){const a=[[]];let l=0;for(;;){const p=s[l];if(!p)break;const m=a[a.length-1];var c,u;if(p.aborted)null===(c=p.reject)||void 0===c||c.call(p,new Error("Aborted")),l++;else e.validate(m.concat(p).map(e=>e.key))?(m.push(p),l++):0!==m.length?a.push([]):(null===(u=p.reject)||void 0===u||u.call(p,new Error("Input is too big for a single dispatch")),l++)}return a}(s);clearTimeout(a),a=null,s=null;for(const s of l){if(!s.length)continue;const a={items:s};for(const e of s)e.batch=a;e.fetch(a.items.map(e=>e.key)).then(async e=>{await Promise.all(e.map(async(e,s)=>{const l=a.items[s];try{var c;const s=await Promise.resolve(e);null===(c=l.resolve)||void 0===c||c.call(l,s)}catch(p){var u;null===(u=l.reject)||void 0===u||u.call(l,p)}l.batch=null,l.reject=null,l.resolve=null}));for(const l of a.items){var s;null===(s=l.reject)||void 0===s||s.call(l,new Error("Missing result")),l.batch=null}}).catch(e=>{for(const l of a.items){var s;null===(s=l.reject)||void 0===s||s.call(l,e),l.batch=null}})}}return{load:function load(e){var l;const c={aborted:!1,key:e,batch:null,resolve:throwFatalError,reject:throwFatalError},u=new Promise((e,a)=>{var l;c.reject=a,c.resolve=e,null!==(l=s)&&void 0!==l||(s=[]),s.push(c)});return null!==(l=a)&&void 0!==l||(a=setTimeout(dispatch)),u}}}var pt=__toESM(at(),1);__toESM(at(),1);const resultOf=(e,...s)=>"function"==typeof e?e(...s):e;__toESM(st(),1),__toESM(st(),1);var mt=__toESM(st(),1);function asyncWsOpen(e){const{promise:s,resolve:a,reject:l}=function withResolvers(){let e,s;return{promise:new Promise((a,l)=>{e=a,s=l}),resolve:e,reject:s}}();return e.addEventListener("open",()=>{e.removeEventListener("error",l),a()}),e.addEventListener("error",l),s}function setupPingInterval(e,{intervalMs:s,pongTimeoutMs:a}){let l,c;function start(){l=setTimeout(()=>{e.send("PING"),c=setTimeout(()=>{e.close()},a)},s)}function pong(){clearTimeout(c),function reset(){clearTimeout(l),start()}()}e.addEventListener("open",start),e.addEventListener("message",({data:e})=>{clearTimeout(l),start(),"PONG"===e&&pong()}),e.addEventListener("close",()=>{clearTimeout(l),clearTimeout(c)})}(0,mt.default)(class WsConnection2{constructor(e){var s;if((0,mt.default)(this,"id",++WsConnection2.connectCount),(0,mt.default)(this,"WebSocketPonyfill",void 0),(0,mt.default)(this,"urlOptions",void 0),(0,mt.default)(this,"keepAliveOpts",void 0),(0,mt.default)(this,"wsObservable",behaviorSubject(null)),(0,mt.default)(this,"openPromise",null),this.WebSocketPonyfill=null!==(s=e.WebSocketPonyfill)&&void 0!==s?s:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=e.urlOptions,this.keepAliveOpts=e.keepAlive}get ws(){return this.wsObservable.get()}set ws(e){this.wsObservable.next(e)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var e=this;if(e.openPromise)return e.openPromise;e.id=++WsConnection2.connectCount;const s=async function prepareUrl(e){const s=await resultOf(e.url);if(!e.connectionParams)return s;const a=s.includes("?")?"&":"?";return s+`${a}connectionParams=1`}(e.urlOptions).then(s=>new e.WebSocketPonyfill(s));e.openPromise=s.then(async s=>{e.ws=s,s.addEventListener("message",function({data:e}){"PING"===e&&this.send("PONG")}),e.keepAliveOpts.enabled&&setupPingInterval(s,e.keepAliveOpts),s.addEventListener("close",()=>{e.ws===s&&(e.ws=null)}),await asyncWsOpen(s),e.urlOptions.connectionParams&&s.send(await async function buildConnectionMessage(e){const s={method:"connectionParams",data:await resultOf(e)};return JSON.stringify(s)}(e.urlOptions.connectionParams))});try{await e.openPromise}finally{e.openPromise=null}}async close(){try{await this.openPromise}finally{var e;null===(e=this.ws)||void 0===e||e.close()}}},"connectCount",0),__toESM(st(),1),__toESM(at(),1);var ht=__toESM(st(),1),ft=__toESM(at(),1),gt=class{constructor(e){(0,ht.default)(this,"links",void 0),(0,ht.default)(this,"runtime",void 0),(0,ht.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(e=>e(this.runtime))}$request(e){var s;const a=function createChain(e){return observable(s=>function execute(s=0,a=e.op){const l=e.links[s];if(!l)throw new Error("No more links to execute - did you forget to add an ending link?");return l({op:a,next:e=>execute(s+1,e)})}().subscribe(s))}({links:this.links,op:(0,ft.default)((0,ft.default)({},e),{},{context:null!==(s=e.context)&&void 0!==s?s:{},id:++this.requestId})});return a.pipe(share())}async requestAsPromise(e){try{const s=this.$request(e),a=await function observableToPromise(e){const s=new AbortController;return new Promise((a,l)=>{let c=!1;function onDone(){c||(c=!0,u.unsubscribe())}s.signal.addEventListener("abort",()=>{l(s.signal.reason)});const u=e.subscribe({next(e){c=!0,a(e),onDone()},error(e){l(e)},complete(){s.abort(),onDone()}})})}(s);return a.result.data}catch(s){throw lt.from(s)}}query(e,s,a){return this.requestAsPromise({type:"query",path:e,input:s,context:null==a?void 0:a.context,signal:null==a?void 0:a.signal})}mutation(e,s,a){return this.requestAsPromise({type:"mutation",path:e,input:s,context:null==a?void 0:a.context,signal:null==a?void 0:a.signal})}subscription(e,s,a){return this.$request({type:"subscription",path:e,input:s,context:a.context,signal:a.signal}).subscribe({next(e){switch(e.result.type){case"state":var s;null===(s=a.onConnectionStateChange)||void 0===s||s.call(a,e.result);break;case"started":var l;null===(l=a.onStarted)||void 0===l||l.call(a,{context:e.context});break;case"stopped":var c;null===(c=a.onStopped)||void 0===c||c.call(a);break;case"data":case void 0:var u;null===(u=a.onData)||void 0===u||u.call(a,e.result.data)}},error(e){var s;null===(s=a.onError)||void 0===s||s.call(a,e)},complete(){var e;null===(e=a.onComplete)||void 0===e||e.call(a)}})}};const xt=Symbol.for("trpc_untypedClient"),vt={query:"query",mutate:"mutation",subscribe:"subscription"};function createTRPCClientProxy(e){const s=createRecursiveProxy(({path:s,args:a})=>{const l=[...s],c=(u=l.pop(),vt[u]);var u;const p=l.join(".");return e[c](p,...a)});return createFlatProxy(a=>a===xt?e:s[a])}function createTRPCClient(e){return createTRPCClientProxy(new gt(e))}function getUntypedClient(e){return e[xt]}__toESM(at(),1),__toESM(at(),1),__toESM(__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,s){function AsyncFromSyncIterator(e){function AsyncFromSyncIteratorContinuation(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var s=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:s}})}return(AsyncFromSyncIterator=function AsyncFromSyncIterator$1(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):AsyncFromSyncIteratorContinuation(s.apply(this.s,arguments))},throw:function _throw(e){var s=this.s.return;return void 0===s?Promise.reject(e):AsyncFromSyncIteratorContinuation(s.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}s.exports=function _asyncIterator$1(e){var s,a,l,c=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,l=Symbol.iterator);c--;){if(a&&null!=(s=e[a]))return s.call(e);if(l&&null!=(s=e[l]))return new AsyncFromSyncIterator(s.call(e));a="@@asyncIterator",l="@@iterator"}throw new TypeError("Object is not async iterable")},s.exports.__esModule=!0,s.exports.default=s.exports}})(),1),__toESM(at(),1);var yt,bt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,s){s.exports=function _usingCtx(){var e="function"==typeof SuppressedError?SuppressedError:function(e,s){var a=Error();return a.name="SuppressedError",a.error=e,a.suppressed=s,a},s={},a=[];function using(e,s){if(null!=s){if(Object(s)!==s)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(e)var l=s[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===l&&(l=s[Symbol.dispose||Symbol.for("Symbol.dispose")],e))var c=l;if("function"!=typeof l)throw new TypeError("Object is not disposable.");c&&(l=function o$1(){try{c.call(s)}catch(e){return Promise.reject(e)}}),a.push({v:s,d:l,a:e})}else e&&a.push({d:s,a:e});return s}return{e:s,u:using.bind(null,!1),a:using.bind(null,!0),d:function d(){var l,c=this.e,u=0;function next(){for(;l=a.pop();)try{if(!l.a&&1===u)return u=0,a.push(l),Promise.resolve().then(next);if(l.d){var e=l.d.call(l.v);if(l.a)return u|=2,Promise.resolve(e).then(next,err)}else u|=1}catch(p){return err(p)}if(1===u)return c!==s?Promise.reject(c):Promise.resolve();if(c!==s)throw c}function err(a){return c=c!==s?new e(a,c):a,next()}return next()}}},s.exports.__esModule=!0,s.exports.default=s.exports}}),jt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,s){s.exports=function _OverloadYield(e,s){this.v=e,this.k=s},s.exports.__esModule=!0,s.exports.default=s.exports}}),wt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,s){var a=jt();s.exports=function _awaitAsyncGenerator$1(e){return new a(e,0)},s.exports.__esModule=!0,s.exports.default=s.exports}}),Nt=__commonJS({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,s){var a=jt();function AsyncGenerator(e){var s,l;function resume(s,l){try{var c=e[s](l),u=c.value,p=u instanceof a;Promise.resolve(p?u.v:u).then(function(a){if(p){var l="return"===s?"return":"next";if(!u.k||a.done)return resume(l,a);a=e[l](a).value}settle(c.done?"return":"normal",a)},function(e){resume("throw",e)})}catch(m){settle("throw",m)}}function settle(e,a){switch(e){case"return":s.resolve({value:a,done:!0});break;case"throw":s.reject(a);break;default:s.resolve({value:a,done:!1})}(s=s.next)?resume(s.key,s.arg):l=null}this._invoke=function(e,a){return new Promise(function(c,u){var p={key:e,arg:a,resolve:c,reject:u,next:null};l?l=l.next=p:(s=l=p,resume(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)},s.exports=function _wrapAsyncGenerator$1(e){return function(){return new AsyncGenerator(e.apply(this,arguments))}},s.exports.__esModule=!0,s.exports.default=s.exports}});__toESM(bt(),1),__toESM(wt(),1),__toESM(Nt(),1),__toESM(at(),1);const St=["client","ssrContext","ssrState","abortOnUnmount"],Ct=null===(yt=re.createContext)||void 0===yt?void 0:yt.call(le,null);function createReactQueryUtils(e){const s=createTRPCClientProxy(e.client),a=function createRecursiveUtilsProxy(e){return createRecursiveProxy(s=>{const a=[...s.path],l=a.pop(),c=[...s.args],u=c.shift(),p=(e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}})(l),m=getQueryKeyInternal(a,u,p);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(a,m,c[0]),queryOptions:()=>e.queryOptions(a,m,...c),fetch:()=>e.fetchQuery(m,...c),fetchInfinite:()=>e.fetchInfiniteQuery(m,c[0]),prefetch:()=>e.prefetchQuery(m,...c),prefetchInfinite:()=>e.prefetchInfiniteQuery(m,c[0]),ensureData:()=>e.ensureQueryData(m,...c),invalidate:()=>e.invalidateQueries(m,...c),reset:()=>e.resetQueries(m,...c),refetch:()=>e.refetchQueries(m,...c),cancel:()=>e.cancelQuery(m,...c),setData:()=>{e.setQueryData(m,c[0],c[1])},setQueriesData:()=>e.setQueriesData(m,c[0],c[1],c[2]),setInfiniteData:()=>{e.setInfiniteQueryData(m,c[0],c[1])},getData:()=>e.getQueryData(m),getInfiniteData:()=>e.getInfiniteQueryData(m),setMutationDefaults:()=>e.setMutationDefaults(getMutationKeyInternal(a),u),getMutationDefaults:()=>e.getMutationDefaults(getMutationKeyInternal(a)),isMutating:()=>e.isMutating({mutationKey:getMutationKeyInternal(a)})}[l]()})}(e);return createFlatProxy(l=>{const c=l;return"client"===c?s:St.includes(c)?e[c]:a[l]})}var kt=__toESM$1(qe(),1);function createUseQueries(e){const s=e instanceof gt?e:getUntypedClient(e);return createRecursiveProxy(e=>{const a=e.path,l=a.join("."),[c,u]=e.args;return(0,kt.default)({queryKey:getQueryKeyInternal(a,c,"query"),queryFn:()=>s.query(l,c,null==u?void 0:u.trpc)},u)})}var _t=__toESM$1(qe(),1);function getClientArgs(e,s,a){var l;const c=e[0];let u=null===(l=e[1])||void 0===l?void 0:l.input;var p;a&&(u=(0,_t.default)((0,_t.default)((0,_t.default)({},null!==(p=u)&&void 0!==p?p:{}),a.pageParam?{cursor:a.pageParam}:{}),{},{direction:a.direction}));return[c.join("."),u,null==s?void 0:s.trpc]}var Pt=__toESM$1(__commonJS$1({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,s){function AsyncFromSyncIterator(e){function AsyncFromSyncIteratorContinuation(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var s=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:s}})}return(AsyncFromSyncIterator=function AsyncFromSyncIterator$1(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):AsyncFromSyncIteratorContinuation(s.apply(this.s,arguments))},throw:function _throw(e){var s=this.s.return;return void 0===s?Promise.reject(e):AsyncFromSyncIteratorContinuation(s.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}s.exports=function _asyncIterator$1(e){var s,a,l,c=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,l=Symbol.iterator);c--;){if(a&&null!=(s=e[a]))return s.call(e);if(l&&null!=(s=e[l]))return new AsyncFromSyncIterator(s.call(e));a="@@asyncIterator",l="@@iterator"}throw new TypeError("Object is not async iterable")},s.exports.__esModule=!0,s.exports.default=s.exports}})(),1);function createTRPCOptionsResult(e){return{path:e.path.join(".")}}function useHookResult(e){const s=createTRPCOptionsResult(e);return re.useMemo(()=>s,[s])}async function buildQueryFromAsyncIterable(e,s,a){const l=s.getQueryCache().build(s,{queryKey:a});l.setState({data:[],status:"success"});const c=[];var u,p=!1,m=!1;try{for(var h,f=(0,Pt.default)(e);p=!(h=await f.next()).done;p=!1){const e=h.value;c.push(e),l.setState({data:[...c]})}}catch(g){m=!0,u=g}finally{try{p&&null!=f.return&&await f.return()}finally{if(m)throw u}}return c}var Tt=__toESM$1(qe(),1);var Et=__toESM$1(qe());const trackResult=(e,s)=>new Proxy(e,{get:(e,a)=>(s(a),e[a])});function createRootHooks(e){const mutationSuccessOverride=e=>e.originalFn(),s=Ct;function useContext(){const e=re.useContext(s);if(!e)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return e}function useSSRQueryOptionsIfNeeded(e,s){var a;const{queryClient:l,ssrState:c}=useContext();return c&&"mounted"!==c&&"error"===(null===(a=l.getQueryCache().find({queryKey:e}))||void 0===a?void 0:a.state.status)?(0,Et.default)({retryOnMount:!1},s):s}const a={data:void 0,error:null,status:"idle"},l={data:void 0,error:null,status:"connecting"};return{Provider:e=>{var a;const{abortOnUnmount:l=!1,queryClient:c,ssrContext:p}=e,[m,h]=re.useState(null!==(a=e.ssrState)&&void 0!==a&&a),f=e.client instanceof gt?e.client:getUntypedClient(e.client),g=re.useMemo(()=>function createUtilityFunctions(e){const{client:s,queryClient:a}=e,l=s instanceof gt?s:getUntypedClient(s);return{infiniteQueryOptions:(e,s,a)=>{var c,u;const p=(null===(c=s[1])||void 0===c?void 0:c.input)===b;return Object.assign((0,Tt.default)((0,Tt.default)({},a),{},{initialData:null==a?void 0:a.initialData,queryKey:s,queryFn:p?b:async e=>{var c;const u=(0,Tt.default)((0,Tt.default)({},a),{},{trpc:(0,Tt.default)((0,Tt.default)({},null==a?void 0:a.trpc),(null==a||null===(c=a.trpc)||void 0===c?void 0:c.abortOnUnmount)?{signal:e.signal}:{signal:null})});return await l.query(...getClientArgs(s,u,{direction:e.direction,pageParam:e.pageParam}))},initialPageParam:null!==(u=null==a?void 0:a.initialCursor)&&void 0!==u?u:null}),{trpc:createTRPCOptionsResult({path:e})})},queryOptions:(e,s,c)=>{var u;const p=(null===(u=s[1])||void 0===u?void 0:u.input)===b;return Object.assign((0,Tt.default)((0,Tt.default)({},c),{},{initialData:null==c?void 0:c.initialData,queryKey:s,queryFn:p?b:async e=>{var u;const p=(0,Tt.default)((0,Tt.default)({},c),{},{trpc:(0,Tt.default)((0,Tt.default)({},null==c?void 0:c.trpc),(null==c||null===(u=c.trpc)||void 0===u?void 0:u.abortOnUnmount)?{signal:e.signal}:{signal:null})}),m=await l.query(...getClientArgs(s,p));return isAsyncIterable(m)?buildQueryFromAsyncIterable(m,a,s):m}}),{trpc:createTRPCOptionsResult({path:e})})},fetchQuery:(e,s)=>a.fetchQuery((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e,queryFn:()=>l.query(...getClientArgs(e,s))})),fetchInfiniteQuery:(e,s)=>{var c;return a.fetchInfiniteQuery((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e,queryFn:({pageParam:a,direction:c})=>l.query(...getClientArgs(e,s,{pageParam:a,direction:c})),initialPageParam:null!==(c=null==s?void 0:s.initialCursor)&&void 0!==c?c:null}))},prefetchQuery:(e,s)=>a.prefetchQuery((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e,queryFn:()=>l.query(...getClientArgs(e,s))})),prefetchInfiniteQuery:(e,s)=>{var c;return a.prefetchInfiniteQuery((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e,queryFn:({pageParam:a,direction:c})=>l.query(...getClientArgs(e,s,{pageParam:a,direction:c})),initialPageParam:null!==(c=null==s?void 0:s.initialCursor)&&void 0!==c?c:null}))},ensureQueryData:(e,s)=>a.ensureQueryData((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e,queryFn:()=>l.query(...getClientArgs(e,s))})),invalidateQueries:(e,s,l)=>a.invalidateQueries((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e}),l),resetQueries:(e,s,l)=>a.resetQueries((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e}),l),refetchQueries:(e,s,l)=>a.refetchQueries((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e}),l),cancelQuery:(e,s)=>a.cancelQueries({queryKey:e},s),setQueryData:(e,s,l)=>a.setQueryData(e,s,l),setQueriesData:(e,s,l,c)=>a.setQueriesData((0,Tt.default)((0,Tt.default)({},s),{},{queryKey:e}),l,c),getQueryData:e=>a.getQueryData(e),setInfiniteQueryData:(e,s,l)=>a.setQueryData(e,s,l),getInfiniteQueryData:e=>a.getQueryData(e),setMutationDefaults:(s,c)=>{const u=s[0];return a.setMutationDefaults(s,"function"==typeof c?c({canonicalMutationFn:s=>l.mutation(...getClientArgs([u,{input:s}],e))}):c)},getMutationDefaults:e=>a.getMutationDefaults(e),isMutating:e=>a.isMutating((0,Tt.default)((0,Tt.default)({},e),{},{exact:!0}))}}({client:f,queryClient:c}),[f,c]),j=re.useMemo(()=>(0,Et.default)({abortOnUnmount:l,queryClient:c,client:f,ssrContext:null!=p?p:null,ssrState:m},g),[l,f,g,c,p,m]);return re.useEffect(()=>{h(e=>!!e&&"mounted")},[]),u.jsx(s.Provider,{value:j,children:e.children})},createClient:createTRPCClient,useContext:useContext,useUtils:useContext,useQuery:function useQuery$1(e,s,a){var l,c,u,p,m;const h=useContext(),{abortOnUnmount:f,client:g,ssrState:j,queryClient:N,prefetchQuery:k}=h,_=getQueryKeyInternal(e,s,"query"),T=N.getQueryDefaults(_),E=s===b;"undefined"!=typeof window||"prepass"!==j||!1===(null==a||null===(l=a.trpc)||void 0===l?void 0:l.ssr)||!1===(null!==(c=null==a?void 0:a.enabled)&&void 0!==c?c:null==T?void 0:T.enabled)||E||N.getQueryCache().find({queryKey:_})||k(_,a);const A=useSSRQueryOptionsIfNeeded(_,(0,Et.default)((0,Et.default)({},T),a)),L=null!==(u=null!==(p=null==a||null===(m=a.trpc)||void 0===m?void 0:m.abortOnUnmount)&&void 0!==p?p:void 0)&&void 0!==u?u:f,O=useQuery((0,Et.default)((0,Et.default)({},A),{},{queryKey:_,queryFn:E?s:async e=>{const s=(0,Et.default)((0,Et.default)({},A),{},{trpc:(0,Et.default)((0,Et.default)({},null==A?void 0:A.trpc),L?{signal:e.signal}:{signal:null})}),a=await g.query(...getClientArgs(_,s));return isAsyncIterable(a)?buildQueryFromAsyncIterable(a,N,_):a}}),N);return O.trpc=useHookResult({path:e}),O},usePrefetchQuery:function usePrefetchQuery$1(e,s,a){var l,c,u;const p=useContext(),m=getQueryKeyInternal(e,s,"query"),h=s===b,f=null!==(l=null!==(c=null==a||null===(u=a.trpc)||void 0===u?void 0:u.abortOnUnmount)&&void 0!==c?c:void 0)&&void 0!==l?l:p.abortOnUnmount;!function usePrefetchQuery(e,s){const a=useQueryClient(s);a.getQueryState(e.queryKey)||a.prefetchQuery(e)}((0,Et.default)((0,Et.default)({},a),{},{queryKey:m,queryFn:h?s:e=>{const s={trpc:(0,Et.default)((0,Et.default)({},null==a?void 0:a.trpc),f?{signal:e.signal}:{})};return p.client.query(...getClientArgs(m,s))}}))},useSuspenseQuery:function useSuspenseQuery$1(e,s,a){var l,c,u;const p=useContext(),m=getQueryKeyInternal(e,s,"query"),h=null!==(l=null!==(c=null==a||null===(u=a.trpc)||void 0===u?void 0:u.abortOnUnmount)&&void 0!==c?c:void 0)&&void 0!==l?l:p.abortOnUnmount,f=function useSuspenseQuery(e,s){return useBaseQuery({...e,enabled:!0,suspense:!0,throwOnError:defaultThrowOnError,placeholderData:void 0},O,s)}((0,Et.default)((0,Et.default)({},a),{},{queryKey:m,queryFn:e=>{const s=(0,Et.default)((0,Et.default)({},a),{},{trpc:(0,Et.default)((0,Et.default)({},null==a?void 0:a.trpc),h?{signal:e.signal}:{signal:null})});return p.client.query(...getClientArgs(m,s))}}),p.queryClient);return f.trpc=useHookResult({path:e}),[f.data,f]},useQueries:(e,s)=>{const{ssrState:a,queryClient:l,prefetchQuery:c,client:u}=useContext(),p=e(createUseQueries(u));if("undefined"==typeof window&&"prepass"===a)for(const h of p){var m;const e=h;!1===(null===(m=e.trpc)||void 0===m?void 0:m.ssr)||l.getQueryCache().find({queryKey:e.queryKey})||c(e.queryKey,e)}return useQueries({queries:p.map(e=>(0,Et.default)((0,Et.default)({},e),{},{queryKey:e.queryKey})),combine:null==s?void 0:s.combine},l)},useSuspenseQueries:e=>{const{queryClient:s,client:a}=useContext(),l=function useSuspenseQueries(e,s){return useQueries({...e,queries:e.queries.map(e=>({...e,suspense:!0,throwOnError:defaultThrowOnError,enabled:!0,placeholderData:void 0}))},s)}({queries:e(createUseQueries(a)).map(e=>(0,Et.default)((0,Et.default)({},e),{},{queryFn:e.queryFn,queryKey:e.queryKey}))},s);return[l.map(e=>e.data),l]},useMutation:function useMutation$1(e,s){const{client:a,queryClient:l}=useContext(),c=getMutationKeyInternal(e),u=l.defaultMutationOptions(l.getMutationDefaults(c)),p=useMutation((0,Et.default)((0,Et.default)({},s),{},{mutationKey:c,mutationFn:l=>a.mutation(...getClientArgs([e,{input:l}],s)),onSuccess(...e){var a,c;return mutationSuccessOverride({originalFn:()=>{var a,l,c;return null!==(a=null==s||null===(l=s.onSuccess)||void 0===l?void 0:l.call(s,...e))&&void 0!==a?a:null==u||null===(c=u.onSuccess)||void 0===c?void 0:c.call(u,...e)},queryClient:l,meta:null!==(a=null!==(c=null==s?void 0:s.meta)&&void 0!==c?c:null==u?void 0:u.meta)&&void 0!==a?a:{}})}}),l);return p.trpc=useHookResult({path:e}),p},useSubscription:
/* istanbul ignore next -- @preserve */
function useSubscription(e,s,c){var u;const p=null!==(u=null==c?void 0:c.enabled)&&void 0!==u?u:s!==b,m=hashKey(getQueryKeyInternal(e,s,"any")),{client:h}=useContext(),f=re.useRef(c);re.useEffect(()=>{f.current=c});const[g]=re.useState(new Set([])),j=re.useCallback(e=>{g.add(e)},[g]),N=re.useRef(null),k=re.useCallback(e=>{const s=T.current,a=T.current=e(s);let l=!1;for(const c of g)if(s[c]!==a[c]){l=!0;break}l&&A(trackResult(a,j))},[j,g]),_=re.useCallback(()=>{var c;if(null===(c=N.current)||void 0===c||c.unsubscribe(),!p)return void k(()=>(0,Et.default)((0,Et.default)({},a),{},{reset:_}));k(()=>(0,Et.default)((0,Et.default)({},l),{},{reset:_}));const u=h.subscription(e.join("."),null!=s?s:void 0,{onStarted:()=>{var e,s;null===(e=(s=f.current).onStarted)||void 0===e||e.call(s),k(e=>(0,Et.default)((0,Et.default)({},e),{},{status:"pending",error:null}))},onData:e=>{var s,a;null===(s=(a=f.current).onData)||void 0===s||s.call(a,e),k(s=>(0,Et.default)((0,Et.default)({},s),{},{status:"pending",data:e,error:null}))},onError:e=>{var s,a;null===(s=(a=f.current).onError)||void 0===s||s.call(a,e),k(s=>(0,Et.default)((0,Et.default)({},s),{},{status:"error",error:e}))},onConnectionStateChange:e=>{k(s=>{switch(e.state){case"idle":return(0,Et.default)((0,Et.default)({},s),{},{status:e.state,error:null,data:void 0});case"connecting":return(0,Et.default)((0,Et.default)({},s),{},{error:e.error,status:e.state});case"pending":return s}})},onComplete:()=>{var e,s;null===(e=(s=f.current).onComplete)||void 0===e||e.call(s),k(e=>(0,Et.default)((0,Et.default)({},e),{},{status:"idle",error:null,data:void 0}))}});N.current=u},[h,m,p,k]);re.useEffect(()=>(_(),()=>{var e;null===(e=N.current)||void 0===e||e.unsubscribe()}),[_]);const T=re.useRef(p?(0,Et.default)((0,Et.default)({},l),{},{reset:_}):(0,Et.default)((0,Et.default)({},a),{},{reset:_})),[E,A]=re.useState(trackResult(T.current,j));return E},useInfiniteQuery:function useInfiniteQuery$1(e,s,a){var l,c,u,p,m;const{client:h,ssrState:f,prefetchInfiniteQuery:g,queryClient:j,abortOnUnmount:N}=useContext(),k=getQueryKeyInternal(e,s,"infinite"),_=j.getQueryDefaults(k),T=s===b;"undefined"!=typeof window||"prepass"!==f||!1===(null==a||null===(l=a.trpc)||void 0===l?void 0:l.ssr)||!1===(null!==(c=null==a?void 0:a.enabled)&&void 0!==c?c:null==_?void 0:_.enabled)||T||j.getQueryCache().find({queryKey:k})||g(k,(0,Et.default)((0,Et.default)({},_),a));const E=useSSRQueryOptionsIfNeeded(k,(0,Et.default)((0,Et.default)({},_),a)),A=null!==(u=null==a||null===(p=a.trpc)||void 0===p?void 0:p.abortOnUnmount)&&void 0!==u?u:N,L=function useInfiniteQuery(e,s){return useBaseQuery(e,I,s)}((0,Et.default)((0,Et.default)({},E),{},{initialPageParam:null!==(m=a.initialCursor)&&void 0!==m?m:null,persister:a.persister,queryKey:k,queryFn:T?s:e=>{var s;const l=(0,Et.default)((0,Et.default)({},E),{},{trpc:(0,Et.default)((0,Et.default)({},null==E?void 0:E.trpc),A?{signal:e.signal}:{signal:null})});return h.query(...getClientArgs(k,l,{pageParam:null!==(s=e.pageParam)&&void 0!==s?s:a.initialCursor,direction:e.direction}))}}),j);return L.trpc=useHookResult({path:e}),L},usePrefetchInfiniteQuery:function usePrefetchInfiniteQuery$1(e,s,a){var l,c,u;const p=useContext(),m=getQueryKeyInternal(e,s,"infinite"),h=p.queryClient.getQueryDefaults(m),f=s===b,g=useSSRQueryOptionsIfNeeded(m,(0,Et.default)((0,Et.default)({},h),a)),j=null!==(l=null==a||null===(c=a.trpc)||void 0===c?void 0:c.abortOnUnmount)&&void 0!==l?l:p.abortOnUnmount;!function usePrefetchInfiniteQuery(e,s){const a=useQueryClient(s);a.getQueryState(e.queryKey)||a.prefetchInfiniteQuery(e)}((0,Et.default)((0,Et.default)({},a),{},{initialPageParam:null!==(u=a.initialCursor)&&void 0!==u?u:null,queryKey:m,queryFn:f?s:e=>{var s;const l=(0,Et.default)((0,Et.default)({},g),{},{trpc:(0,Et.default)((0,Et.default)({},null==g?void 0:g.trpc),j?{signal:e.signal}:{})});return p.client.query(...getClientArgs(m,l,{pageParam:null!==(s=e.pageParam)&&void 0!==s?s:a.initialCursor,direction:e.direction}))}}))},useSuspenseInfiniteQuery:function useSuspenseInfiniteQuery$1(e,s,a){var l,c,u;const p=useContext(),m=getQueryKeyInternal(e,s,"infinite"),h=p.queryClient.getQueryDefaults(m),f=useSSRQueryOptionsIfNeeded(m,(0,Et.default)((0,Et.default)({},h),a)),g=null!==(l=null==a||null===(c=a.trpc)||void 0===c?void 0:c.abortOnUnmount)&&void 0!==l?l:p.abortOnUnmount,b=function useSuspenseInfiniteQuery(e,s){return useBaseQuery({...e,enabled:!0,suspense:!0,throwOnError:defaultThrowOnError},I,s)}((0,Et.default)((0,Et.default)({},a),{},{initialPageParam:null!==(u=a.initialCursor)&&void 0!==u?u:null,queryKey:m,queryFn:e=>{var s;const l=(0,Et.default)((0,Et.default)({},f),{},{trpc:(0,Et.default)((0,Et.default)({},null==f?void 0:f.trpc),g?{signal:e.signal}:{})});return p.client.query(...getClientArgs(m,l,{pageParam:null!==(s=e.pageParam)&&void 0!==s?s:a.initialCursor,direction:e.direction}))}}),p.queryClient);return b.trpc=useHookResult({path:e}),[b.data,b]}}}function createHooksInternal(e){const s=function createReactDecoration(e){return createRecursiveProxy(({path:s,args:a})=>{var l;const c=[...s],u=c.pop();if("useMutation"===u)return e[u](c,...a);if("_def"===u)return{path:c};const[p,...m]=a,h=null!==(l=m[0])&&void 0!==l?l:{};return e[u](c,p,h)})}(e);return createFlatProxy(a=>"useContext"===a||"useUtils"===a?()=>{const s=e.useUtils();return re.useMemo(()=>createReactQueryUtils(s),[s])}:e.hasOwnProperty(a)?e[a]:s[a])}const At=function createTRPCReact(e){return createHooksInternal(createRootHooks())}();var Mt,Lt,Dt={exports:{}},Ot={},It={exports:{}},$t={};function requireScheduler(){return Lt||(Lt=1,It.exports=function requireScheduler_production(){return Mt||(Mt=1,function(e){function push(e,s){var a=e.length;e.push(s);e:for(;0<a;){var l=a-1>>>1,c=e[l];if(!(0<compare(c,s)))break e;e[l]=s,e[a]=c,a=l}}function peek(e){return 0===e.length?null:e[0]}function pop(e){if(0===e.length)return null;var s=e[0],a=e.pop();if(a!==s){e[0]=a;e:for(var l=0,c=e.length,u=c>>>1;l<u;){var p=2*(l+1)-1,m=e[p],h=p+1,f=e[h];if(0>compare(m,a))h<c&&0>compare(f,m)?(e[l]=f,e[h]=a,l=h):(e[l]=m,e[p]=a,l=p);else{if(!(h<c&&0>compare(f,a)))break e;e[l]=f,e[h]=a,l=h}}}return s}function compare(e,s){var a=e.sortIndex-s.sortIndex;return 0!==a?a:e.id-s.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],p=1,m=null,h=3,f=!1,g=!1,b=!1,j=!1,N="function"==typeof setTimeout?setTimeout:null,k="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function advanceTimers(e){for(var s=peek(u);null!==s;){if(null===s.callback)pop(u);else{if(!(s.startTime<=e))break;pop(u),s.sortIndex=s.expirationTime,push(c,s)}s=peek(u)}}function handleTimeout(e){if(b=!1,advanceTimers(e),!g)if(null!==peek(c))g=!0,E||(E=!0,T());else{var s=peek(u);null!==s&&requestHostTimeout(handleTimeout,s.startTime-e)}}var T,E=!1,A=-1,L=5,O=-1;function shouldYieldToHost(){return!(!j&&e.unstable_now()-O<L)}function performWorkUntilDeadline(){if(j=!1,E){var s=e.unstable_now();O=s;var a=!0;try{e:{g=!1,b&&(b=!1,k(A),A=-1),f=!0;var l=h;try{t:{for(advanceTimers(s),m=peek(c);null!==m&&!(m.expirationTime>s&&shouldYieldToHost());){var p=m.callback;if("function"==typeof p){m.callback=null,h=m.priorityLevel;var N=p(m.expirationTime<=s);if(s=e.unstable_now(),"function"==typeof N){m.callback=N,advanceTimers(s),a=!0;break t}m===peek(c)&&pop(c),advanceTimers(s)}else pop(c);m=peek(c)}if(null!==m)a=!0;else{var _=peek(u);null!==_&&requestHostTimeout(handleTimeout,_.startTime-s),a=!1}}break e}finally{m=null,h=l,f=!1}a=void 0}}finally{a?T():E=!1}}}if("function"==typeof _)T=function(){_(performWorkUntilDeadline)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,$=I.port2;I.port1.onmessage=performWorkUntilDeadline,T=function(){$.postMessage(null)}}else T=function(){N(performWorkUntilDeadline,0)};function requestHostTimeout(s,a){A=N(function(){s(e.unstable_now())},a)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var s=3;break;default:s=h}var a=h;h=s;try{return e()}finally{h=a}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(e,s){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return s()}finally{h=a}},e.unstable_scheduleCallback=function(s,a,l){var m=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?m+l:m,s){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return s={id:p++,callback:a,priorityLevel:s,startTime:l,expirationTime:h=l+h,sortIndex:-1},l>m?(s.sortIndex=l,push(u,s),null===peek(c)&&s===peek(u)&&(b?(k(A),A=-1):b=!0,requestHostTimeout(handleTimeout,l-m))):(s.sortIndex=h,push(c,s),g||f||(g=!0,E||(E=!0,T()))),s},e.unstable_shouldYield=shouldYieldToHost,e.unstable_wrapCallback=function(e){var s=h;return function(){var a=h;h=s;try{return e.apply(this,arguments)}finally{h=a}}}}($t)),$t}()),It.exports}var Rt,Ft,Bt,zt,Vt={exports:{}},Ut={};function requireReactDom_production(){if(Rt)return Ut;Rt=1;var e=requireReact();function formatProdErrorMessage(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop3(){}var s={d:{f:noop3,r:function(){throw Error(formatProdErrorMessage(522))},D:noop3,C:noop3,L:noop3,m:noop3,X:noop3,S:noop3,M:noop3},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(e,s){return"font"===e?"":"string"==typeof s?"use-credentials"===s?s:"":void 0}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ut.createPortal=function(e,s){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!s||1!==s.nodeType&&9!==s.nodeType&&11!==s.nodeType)throw Error(formatProdErrorMessage(299));return function createPortal$1(e,s,l){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==c?null:""+c,children:e,containerInfo:s,implementation:l}}(e,s,null,l)},Ut.flushSync=function(e){var a=l.T,c=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=a,s.p=c,s.d.f()}},Ut.preconnect=function(e,a){"string"==typeof e&&(a?a="string"==typeof(a=a.crossOrigin)?"use-credentials"===a?a:"":void 0:a=null,s.d.C(e,a))},Ut.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},Ut.preinit=function(e,a){if("string"==typeof e&&a&&"string"==typeof a.as){var l=a.as,c=getCrossOriginStringAs(l,a.crossOrigin),u="string"==typeof a.integrity?a.integrity:void 0,p="string"==typeof a.fetchPriority?a.fetchPriority:void 0;"style"===l?s.d.S(e,"string"==typeof a.precedence?a.precedence:void 0,{crossOrigin:c,integrity:u,fetchPriority:p}):"script"===l&&s.d.X(e,{crossOrigin:c,integrity:u,fetchPriority:p,nonce:"string"==typeof a.nonce?a.nonce:void 0})}},Ut.preinitModule=function(e,a){if("string"==typeof e)if("object"==typeof a&&null!==a){if(null==a.as||"script"===a.as){var l=getCrossOriginStringAs(a.as,a.crossOrigin);s.d.M(e,{crossOrigin:l,integrity:"string"==typeof a.integrity?a.integrity:void 0,nonce:"string"==typeof a.nonce?a.nonce:void 0})}}else null==a&&s.d.M(e)},Ut.preload=function(e,a){if("string"==typeof e&&"object"==typeof a&&null!==a&&"string"==typeof a.as){var l=a.as,c=getCrossOriginStringAs(l,a.crossOrigin);s.d.L(e,l,{crossOrigin:c,integrity:"string"==typeof a.integrity?a.integrity:void 0,nonce:"string"==typeof a.nonce?a.nonce:void 0,type:"string"==typeof a.type?a.type:void 0,fetchPriority:"string"==typeof a.fetchPriority?a.fetchPriority:void 0,referrerPolicy:"string"==typeof a.referrerPolicy?a.referrerPolicy:void 0,imageSrcSet:"string"==typeof a.imageSrcSet?a.imageSrcSet:void 0,imageSizes:"string"==typeof a.imageSizes?a.imageSizes:void 0,media:"string"==typeof a.media?a.media:void 0})}},Ut.preloadModule=function(e,a){if("string"==typeof e)if(a){var l=getCrossOriginStringAs(a.as,a.crossOrigin);s.d.m(e,{as:"string"==typeof a.as&&"script"!==a.as?a.as:void 0,crossOrigin:l,integrity:"string"==typeof a.integrity?a.integrity:void 0})}else s.d.m(e)},Ut.requestFormReset=function(e){s.d.r(e)},Ut.unstable_batchedUpdates=function(e,s){return e(s)},Ut.useFormState=function(e,s,a){return l.H.useFormState(e,s,a)},Ut.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ut.version="19.2.0",Ut}function requireReactDom(){if(Ft)return Vt.exports;return Ft=1,function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}(),Vt.exports=requireReactDom_production(),Vt.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function requireReactDomClient_production(){if(Bt)return Ot;Bt=1;var e=requireScheduler(),s=requireReact(),a=requireReactDom();function formatProdErrorMessage(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function isValidContainer(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function getNearestMountedFiber(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do{!!(4098&(s=e).flags)&&(a=s.return),e=s.return}while(e)}return 3===s.tag?a:null}function getSuspenseInstanceFromFiber(e){if(13===e.tag){var s=e.memoizedState;if(null===s&&(null!==(e=e.alternate)&&(s=e.memoizedState)),null!==s)return s.dehydrated}return null}function getActivityInstanceFromFiber(e){if(31===e.tag){var s=e.memoizedState;if(null===s&&(null!==(e=e.alternate)&&(s=e.memoizedState)),null!==s)return s.dehydrated}return null}function assertIsMounted(e){if(getNearestMountedFiber(e)!==e)throw Error(formatProdErrorMessage(188))}function findCurrentHostFiberImpl(e){var s=e.tag;if(5===s||26===s||27===s||6===s)return e;for(e=e.child;null!==e;){if(null!==(s=findCurrentHostFiberImpl(e)))return s;e=e.sibling}return null}var l=Object.assign,c=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function getIteratorFn(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function getComponentNameFromType(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case f:return"Profiler";case h:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case b:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case j:var s=e.render;return(e=e.displayName)||(e=""!==(e=s.displayName||s.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(s=e.displayName||null)?s:getComponentNameFromType(e.type)||"Memo";case T:s=e._payload,e=e._init;try{return getComponentNameFromType(e(s))}catch(a){}}return null}var I=Array.isArray,$=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},H=[],q=-1;function createCursor(e){return{current:e}}function pop(e){0>q||(e.current=H[q],H[q]=null,q--)}function push(e,s){q++,H[q]=e.current,e.current=s}var Z,Y,X=createCursor(null),J=createCursor(null),re=createCursor(null),ae=createCursor(null);function pushHostContainer(e,s){switch(push(re,s),push(J,e),push(X,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?getOwnHostContext(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)e=getChildHostContextProd(s=getOwnHostContext(s),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pop(X),push(X,e)}function popHostContainer(){pop(X),pop(J),pop(re)}function pushHostContext(e){null!==e.memoizedState&&push(ae,e);var s=X.current,a=getChildHostContextProd(s,e.type);s!==a&&(push(J,e),push(X,a))}function popHostContext(e){J.current===e&&(pop(X),pop(J)),ae.current===e&&(pop(ae),ea._currentValue=U)}function describeBuiltInComponentFrame(e){if(void 0===Z)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Z=s&&s[1]||"",Y=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Z+e+Y}var le=!1;function describeNativeComponentFrame(e,s){if(!e||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Fake=function(){throw Error()};if(Object.defineProperty(Fake.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(Fake,[])}catch(l){var a=l}Reflect.construct(e,[],Fake)}else{try{Fake.call()}catch(c){a=c}e.call(Fake.prototype)}}else{try{throw Error()}catch(u){a=u}(Fake=e())&&"function"==typeof Fake.catch&&Fake.catch(function(){})}}catch(p){if(p&&a&&"string"==typeof p.stack)return[p.stack,a.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),p=u[0],m=u[1];if(p&&m){var h=p.split("\n"),f=m.split("\n");for(c=l=0;l<h.length&&!h[l].includes("DetermineComponentFrameRoot");)l++;for(;c<f.length&&!f[c].includes("DetermineComponentFrameRoot");)c++;if(l===h.length||c===f.length)for(l=h.length-1,c=f.length-1;1<=l&&0<=c&&h[l]!==f[c];)c--;for(;1<=l&&0<=c;l--,c--)if(h[l]!==f[c]){if(1!==l||1!==c)do{if(l--,0>--c||h[l]!==f[c]){var g="\n"+h[l].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}}while(1<=l&&0<=c);break}}}finally{le=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?describeBuiltInComponentFrame(a):""}function describeFiber(e,s){switch(e.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(e.type);case 16:return describeBuiltInComponentFrame("Lazy");case 13:return e.child!==s&&null!==s?describeBuiltInComponentFrame("Suspense Fallback"):describeBuiltInComponentFrame("Suspense");case 19:return describeBuiltInComponentFrame("SuspenseList");case 0:case 15:return describeNativeComponentFrame(e.type,!1);case 11:return describeNativeComponentFrame(e.type.render,!1);case 1:return describeNativeComponentFrame(e.type,!0);case 31:return describeBuiltInComponentFrame("Activity");default:return""}}function getStackByFiberInDevAndProd(e){try{var s="",a=null;do{s+=describeFiber(e,a),a=e,e=e.return}while(e);return s}catch(l){return"\nError generating stack: "+l.message+"\n"+l.stack}}var ce=Object.prototype.hasOwnProperty,de=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,me=e.unstable_shouldYield,he=e.unstable_requestPaint,fe=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,xe=e.unstable_ImmediatePriority,ye=e.unstable_UserBlockingPriority,be=e.unstable_NormalPriority,je=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,Se=e.log,Ce=e.unstable_setDisableYieldValue,_e=null,Pe=null;function setIsStrictModeForDevtools(e){if("function"==typeof Se&&Ce(e),Pe&&"function"==typeof Pe.setStrictMode)try{Pe.setStrictMode(_e,e)}catch(s){}}var Te=Math.clz32?Math.clz32:function clz32Fallback(e){return 0===(e>>>=0)?32:31-(Ee(e)/Ae|0)|0},Ee=Math.log,Ae=Math.LN2;var Le=256,Oe=262144,Ie=4194304;function getHighestPriorityLanes(e){var s=42&e;if(0!==s)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function getNextLanes(e,s,a){var l=e.pendingLanes;if(0===l)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var m=134217727&l;return 0!==m?0!==(l=m&~u)?c=getHighestPriorityLanes(l):0!==(p&=m)?c=getHighestPriorityLanes(p):a||0!==(a=m&~e)&&(c=getHighestPriorityLanes(a)):0!==(m=l&~u)?c=getHighestPriorityLanes(m):0!==p?c=getHighestPriorityLanes(p):a||0!==(a=l&~e)&&(c=getHighestPriorityLanes(a)),0===c?0:0!==s&&s!==c&&0===(s&u)&&((u=c&-c)>=(a=s&-s)||32===u&&4194048&a)?s:c}function checkIfRootIsPrerendering(e,s){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)}function computeExpirationTime(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;default:return-1}}function claimNextRetryLane(){var e=Ie;return!(62914560&(Ie<<=1))&&(Ie=4194304),e}function createLaneMap(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function markRootUpdated$1(e,s){e.pendingLanes|=s,268435456!==s&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function markSpawnedDeferredLane(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Te(s);e.entangledLanes|=s,e.entanglements[l]=1073741824|e.entanglements[l]|261930&a}function markRootEntangled(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Te(a),c=1<<l;c&s|e[l]&s&&(e[l]|=s),a&=~c}}function getBumpedLaneForHydration(e,s){var a=s&-s;return 0!==((a=42&a?1:getBumpedLaneForHydrationByLane(a))&(e.suspendedLanes|s))?0:a}function getBumpedLaneForHydrationByLane(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lanesToEventPriority(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function resolveUpdatePriority(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:getEventPriority(e.type)}function runWithPriority(e,s){var a=z.p;try{return z.p=e,s()}finally{z.p=a}}var $e=Math.random().toString(36).slice(2),Fe="__reactFiber$"+$e,Be="__reactProps$"+$e,ze="__reactContainer$"+$e,Ve="__reactEvents$"+$e,Ue="__reactListeners$"+$e,He="__reactHandles$"+$e,qe="__reactResources$"+$e,We="__reactMarker$"+$e;function detachDeletedInstance(e){delete e[Fe],delete e[Be],delete e[Ve],delete e[Ue],delete e[He]}function getClosestInstanceFromNode(e){var s=e[Fe];if(s)return s;for(var a=e.parentNode;a;){if(s=a[ze]||a[Fe]){if(a=s.alternate,null!==s.child||null!==a&&null!==a.child)for(e=getParentHydrationBoundary(e);null!==e;){if(a=e[Fe])return a;e=getParentHydrationBoundary(e)}return s}a=(e=a).parentNode}return null}function getInstanceFromNode(e){if(e=e[Fe]||e[ze]){var s=e.tag;if(5===s||6===s||13===s||31===s||26===s||27===s||3===s)return e}return null}function getNodeFromInstance(e){var s=e.tag;if(5===s||26===s||27===s||6===s)return e.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(e){var s=e[qe];return s||(s=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function markNodeAsHoistable(e){e[We]=!0}var Ze=new Set,Ke={};function registerTwoPhaseEvent(e,s){registerDirectEvent(e,s),registerDirectEvent(e+"Capture",s)}function registerDirectEvent(e,s){for(Ke[e]=s,e=0;e<s.length;e++)Ze.add(s[e])}var Ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ye={},Qe={};function setValueForAttribute(e,s,a){if(function isAttributeNameSafe(e){return!!ce.call(Qe,e)||!ce.call(Ye,e)&&(Ge.test(e)?Qe[e]=!0:(Ye[e]=!0,!1))}(s))if(null===a)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(s);case"boolean":var l=s.toLowerCase().slice(0,5);if("data-"!==l&&"aria-"!==l)return void e.removeAttribute(s)}e.setAttribute(s,""+a)}}function setValueForKnownAttribute(e,s,a){if(null===a)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttribute(s,""+a)}}function setValueForNamespacedAttribute(e,s,a,l){if(null===l)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(s,a,""+l)}}function getToStringValue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function isCheckable(e){var s=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===s||"radio"===s)}function track(e){if(!e._valueTracker){var s=isCheckable(e)?"checked":"value";e._valueTracker=function trackValueOnNode(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&void 0!==l&&"function"==typeof l.get&&"function"==typeof l.set){var c=l.get,u=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return c.call(this)},set:function(e){a=""+e,u.call(this,e)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}(e,s,""+e[s])}}function updateValueIfChanged(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=isCheckable(e)?e.checked?"true":"false":e.value),(e=l)!==a&&(s.setValue(e),!0)}function getActiveElement(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(s){return e.body}}var Xe=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(e){return e.replace(Xe,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function updateInput(e,s,a,l,c,u,p,m){e.name="",null!=p&&"function"!=typeof p&&"symbol"!=typeof p&&"boolean"!=typeof p?e.type=p:e.removeAttribute("type"),null!=s?"number"===p?(0===s&&""===e.value||e.value!=s)&&(e.value=""+getToStringValue(s)):e.value!==""+getToStringValue(s)&&(e.value=""+getToStringValue(s)):"submit"!==p&&"reset"!==p||e.removeAttribute("value"),null!=s?setDefaultValue(e,p,getToStringValue(s)):null!=a?setDefaultValue(e,p,getToStringValue(a)):null!=l&&e.removeAttribute("value"),null==c&&null!=u&&(e.defaultChecked=!!u),null!=c&&(e.checked=c&&"function"!=typeof c&&"symbol"!=typeof c),null!=m&&"function"!=typeof m&&"symbol"!=typeof m&&"boolean"!=typeof m?e.name=""+getToStringValue(m):e.removeAttribute("name")}function initInput(e,s,a,l,c,u,p,m){if(null!=u&&"function"!=typeof u&&"symbol"!=typeof u&&"boolean"!=typeof u&&(e.type=u),null!=s||null!=a){if(("submit"===u||"reset"===u)&&null==s)return void track(e);a=null!=a?""+getToStringValue(a):"",s=null!=s?""+getToStringValue(s):a,m||s===e.value||(e.value=s),e.defaultValue=s}l="function"!=typeof(l=null!=l?l:c)&&"symbol"!=typeof l&&!!l,e.checked=m?e.checked:!!l,e.defaultChecked=!!l,null!=p&&"function"!=typeof p&&"symbol"!=typeof p&&"boolean"!=typeof p&&(e.name=p),track(e)}function setDefaultValue(e,s,a){"number"===s&&getActiveElement(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function updateOptions(e,s,a,l){if(e=e.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=s.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+getToStringValue(a),s=null,c=0;c<e.length;c++){if(e[c].value===a)return e[c].selected=!0,void(l&&(e[c].defaultSelected=!0));null!==s||e[c].disabled||(s=e[c])}null!==s&&(s.selected=!0)}}function updateTextarea(e,s,a){null==s||((s=""+getToStringValue(s))!==e.value&&(e.value=s),null!=a)?e.defaultValue=null!=a?""+getToStringValue(a):"":e.defaultValue!==s&&(e.defaultValue=s)}function initTextarea(e,s,a,l){if(null==s){if(null!=l){if(null!=a)throw Error(formatProdErrorMessage(92));if(I(l)){if(1<l.length)throw Error(formatProdErrorMessage(93));l=l[0]}a=l}null==a&&(a=""),s=a}a=getToStringValue(s),e.defaultValue=a,(l=e.textContent)===a&&""!==l&&null!==l&&(e.value=l),track(e)}function setTextContent(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=s)}e.textContent=s}var Je=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function setValueForStyle(e,s,a){var l=0===s.indexOf("--");null==a||"boolean"==typeof a||""===a?l?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="":l?e.setProperty(s,a):"number"!=typeof a||0===a||Je.has(s)?"float"===s?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function setValueForStyles(e,s,a){if(null!=s&&"object"!=typeof s)throw Error(formatProdErrorMessage(62));if(e=e.style,null!=a){for(var l in a)!a.hasOwnProperty(l)||null!=s&&s.hasOwnProperty(l)||(0===l.indexOf("--")?e.setProperty(l,""):"float"===l?e.cssFloat="":e[l]="");for(var c in s)l=s[c],s.hasOwnProperty(c)&&a[c]!==l&&setValueForStyle(e,c,l)}else for(var u in s)s.hasOwnProperty(u)&&setValueForStyle(e,u,s[u])}function isCustomElement(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(e){return tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function noop$12(){}var rt=null;function getEventTarget(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var nt=null,st=null;function restoreStateOfTarget(e){var s=getInstanceFromNode(e);if(s&&(e=s.stateNode)){var a=e[Be]||null;e:switch(e=s.stateNode,s.type){case"input":if(updateInput(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,"radio"===a.type&&null!=s){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+escapeSelectorAttributeValueInsideDoubleQuotes(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var c=l[Be]||null;if(!c)throw Error(formatProdErrorMessage(90));updateInput(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)(l=a[s]).form===e.form&&updateValueIfChanged(l)}break e;case"textarea":updateTextarea(e,a.value,a.defaultValue);break e;case"select":null!=(s=a.value)&&updateOptions(e,!!a.multiple,s,!1)}}}var at=!1;function batchedUpdates$1(e,s,a){if(at)return e(s,a);at=!0;try{return e(s)}finally{if(at=!1,(null!==nt||null!==st)&&(flushSyncWork$1(),nt&&(s=nt,e=st,st=nt=null,restoreStateOfTarget(s),e)))for(s=0;s<e.length;s++)restoreStateOfTarget(e[s])}}function getListener(e,s){var a=e.stateNode;if(null===a)return null;var l=a[Be]||null;if(null===l)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(a&&"function"!=typeof a)throw Error(formatProdErrorMessage(231,s,typeof a));return a}var it=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ot=!1;if(it)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ot=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch(fa){ot=!1}var ct=null,dt=null,ut=null;function getData(){if(ut)return ut;var e,s,a=dt,l=a.length,c="value"in ct?ct.value:ct.textContent,u=c.length;for(e=0;e<l&&a[e]===c[e];e++);var p=l-e;for(s=1;s<=p&&a[l-s]===c[u-s];s++);return ut=c.slice(e,1<s?1-s:void 0)}function getEventCharCode(e){var s=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===s&&(e=13):e=s,10===e&&(e=13),32<=e||13===e?e:0}function functionThatReturnsTrue(){return!0}function functionThatReturnsFalse(){return!1}function createSyntheticEvent(e){function SyntheticBaseEvent(s,a,l,c,u){for(var p in this._reactName=s,this._targetInst=l,this.type=a,this.nativeEvent=c,this.target=u,this.currentTarget=null,e)e.hasOwnProperty(p)&&(s=e[p],this[p]=s?s(c):c[p]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?functionThatReturnsTrue:functionThatReturnsFalse,this.isPropagationStopped=functionThatReturnsFalse,this}return l(SyntheticBaseEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue}),SyntheticBaseEvent}var pt,mt,ht,ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gt=createSyntheticEvent(ft),xt=l({},ft,{view:0,detail:0}),vt=createSyntheticEvent(xt),yt=l({},xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ht&&(ht&&"mousemove"===e.type?(pt=e.screenX-ht.screenX,mt=e.screenY-ht.screenY):mt=pt=0,ht=e),pt)},movementY:function(e){return"movementY"in e?e.movementY:mt}}),bt=createSyntheticEvent(yt),jt=createSyntheticEvent(l({},yt,{dataTransfer:0})),wt=createSyntheticEvent(l({},xt,{relatedTarget:0})),Nt=createSyntheticEvent(l({},ft,{animationName:0,elapsedTime:0,pseudoElement:0})),St=createSyntheticEvent(l({},ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Ct=createSyntheticEvent(l({},ft,{data:0})),kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):!!(e=Pt[e])&&!!s[e]}function getEventModifierState(){return modifierStateGetter}var Tt=createSyntheticEvent(l({},xt,{key:function(e){if(e.key){var s=kt[e.key]||e.key;if("Unidentified"!==s)return s}return"keypress"===e.type?13===(e=getEventCharCode(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_t[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(e){return"keypress"===e.type?getEventCharCode(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?getEventCharCode(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Et=createSyntheticEvent(l({},yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),At=createSyntheticEvent(l({},xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState})),Mt=createSyntheticEvent(l({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0})),Lt=createSyntheticEvent(l({},yt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dt=createSyntheticEvent(l({},ft,{newState:0,oldState:0})),It=[9,13,27,32],$t=it&&"CompositionEvent"in window,Rt=null;it&&"documentMode"in document&&(Rt=document.documentMode);var Ft=it&&"TextEvent"in window&&!Rt,zt=it&&(!$t||Rt&&8<Rt&&11>=Rt),Vt=String.fromCharCode(32),Ut=!1;function isFallbackCompositionEnd(e,s){switch(e){case"keyup":return-1!==It.indexOf(s.keyCode);case"keydown":return 229!==s.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function getDataFromCustomEvent(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ht=!1;var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function isTextInputElement(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===s?!!qt[e.type]:"textarea"===s}function createAndAccumulateChangeEvent(e,s,a,l){nt?st?st.push(l):st=[l]:nt=l,0<(s=accumulateTwoPhaseListeners(s,"onChange")).length&&(a=new gt("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Wt=null,Zt=null;function runEventInBatch(e){processDispatchQueue(e,0)}function getInstIfValueChanged(e){if(updateValueIfChanged(getNodeFromInstance(e)))return e}function getTargetInstForChangeEvent(e,s){if("change"===e)return s}var Kt=!1;if(it){var Gt;if(it){var Yt="oninput"in document;if(!Yt){var Qt=document.createElement("div");Qt.setAttribute("oninput","return;"),Yt="function"==typeof Qt.oninput}Gt=Yt}else Gt=!1;Kt=Gt&&(!document.documentMode||9<document.documentMode)}function stopWatchingForValueChange(){Wt&&(Wt.detachEvent("onpropertychange",handlePropertyChange),Zt=Wt=null)}function handlePropertyChange(e){if("value"===e.propertyName&&getInstIfValueChanged(Zt)){var s=[];createAndAccumulateChangeEvent(s,Zt,e,getEventTarget(e)),batchedUpdates$1(runEventInBatch,s)}}function handleEventsForInputEventPolyfill(e,s,a){"focusin"===e?(stopWatchingForValueChange(),Zt=a,(Wt=s).attachEvent("onpropertychange",handlePropertyChange)):"focusout"===e&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return getInstIfValueChanged(Zt)}function getTargetInstForClickEvent(e,s){if("click"===e)return getInstIfValueChanged(s)}function getTargetInstForInputOrChangeEvent(e,s){if("input"===e||"change"===e)return getInstIfValueChanged(s)}var Xt="function"==typeof Object.is?Object.is:function is(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s};function shallowEqual2(e,s){if(Xt(e,s))return!0;if("object"!=typeof e||null===e||"object"!=typeof s||null===s)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ce.call(s,c)||!Xt(e[c],s[c]))return!1}return!0}function getLeafNode(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function getNodeForCharacterOffset(e,s){var a,l=getLeafNode(e);for(e=0;l;){if(3===l.nodeType){if(a=e+l.textContent.length,e<=s&&a>=s)return{node:l,offset:s-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=getLeafNode(l)}}function containsNode(e,s){return!(!e||!s)&&(e===s||(!e||3!==e.nodeType)&&(s&&3===s.nodeType?containsNode(e,s.parentNode):"contains"in e?e.contains(s):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(s))))}function getActiveElementDeep(e){for(var s=getActiveElement((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);s instanceof e.HTMLIFrameElement;){try{var a="string"==typeof s.contentWindow.location.href}catch(l){a=!1}if(!a)break;s=getActiveElement((e=s.contentWindow).document)}return s}function hasSelectionCapabilities(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&("input"===s&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===s||"true"===e.contentEditable)}var Jt=it&&"documentMode"in document&&11>=document.documentMode,er=null,tr=null,rr=null,nr=!1;function constructSelectEvent(e,s,a){var l=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;nr||null==er||er!==getActiveElement(l)||("selectionStart"in(l=er)&&hasSelectionCapabilities(l)?l={start:l.selectionStart,end:l.selectionEnd}:l={anchorNode:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset},rr&&shallowEqual2(rr,l)||(rr=l,0<(l=accumulateTwoPhaseListeners(tr,"onSelect")).length&&(s=new gt("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=er)))}function makePrefixMap(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var sr={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionrun:makePrefixMap("Transition","TransitionRun"),transitionstart:makePrefixMap("Transition","TransitionStart"),transitioncancel:makePrefixMap("Transition","TransitionCancel"),transitionend:makePrefixMap("Transition","TransitionEnd")},ar={},ir={};function getVendorPrefixedEventName(e){if(ar[e])return ar[e];if(!sr[e])return e;var s,a=sr[e];for(s in a)if(a.hasOwnProperty(s)&&s in ir)return ar[e]=a[s];return e}it&&(ir=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);var or=getVendorPrefixedEventName("animationend"),lr=getVendorPrefixedEventName("animationiteration"),cr=getVendorPrefixedEventName("animationstart"),dr=getVendorPrefixedEventName("transitionrun"),ur=getVendorPrefixedEventName("transitionstart"),pr=getVendorPrefixedEventName("transitioncancel"),mr=getVendorPrefixedEventName("transitionend"),hr=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function registerSimpleEvent(e,s){hr.set(e,s),registerTwoPhaseEvent(s,[e])}fr.push("scrollEnd");var gr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},xr=[],vr=0,yr=0;function finishQueueingConcurrentUpdates(){for(var e=vr,s=yr=vr=0;s<e;){var a=xr[s];xr[s++]=null;var l=xr[s];xr[s++]=null;var c=xr[s];xr[s++]=null;var u=xr[s];if(xr[s++]=null,null!==l&&null!==c){var p=l.pending;null===p?c.next=c:(c.next=p.next,p.next=c),l.pending=c}0!==u&&markUpdateLaneFromFiberToRoot(a,c,u)}}function enqueueUpdate$1(e,s,a,l){xr[vr++]=e,xr[vr++]=s,xr[vr++]=a,xr[vr++]=l,yr|=l,e.lanes|=l,null!==(e=e.alternate)&&(e.lanes|=l)}function enqueueConcurrentHookUpdate(e,s,a,l){return enqueueUpdate$1(e,s,a,l),getRootForUpdatedFiber(e)}function enqueueConcurrentRenderForLane(e,s){return enqueueUpdate$1(e,null,null,s),getRootForUpdatedFiber(e)}function markUpdateLaneFromFiberToRoot(e,s,a){e.lanes|=a;var l=e.alternate;null!==l&&(l.lanes|=a);for(var c=!1,u=e.return;null!==u;)u.childLanes|=a,null!==(l=u.alternate)&&(l.childLanes|=a),22===u.tag&&(null===(e=u.stateNode)||1&e._visibility||(c=!0)),e=u,u=u.return;return 3===e.tag?(u=e.stateNode,c&&null!==s&&(c=31-Te(a),null===(l=(e=u.hiddenUpdates)[c])?e[c]=[s]:l.push(s),s.lane=536870912|a),u):null}function getRootForUpdatedFiber(e){if(50<Ss)throw Ss=0,Cs=null,Error(formatProdErrorMessage(185));for(var s=e.return;null!==s;)s=(e=s).return;return 3===e.tag?e.stateNode:null}var br={};function FiberNode(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function createFiberImplClass(e,s,a,l){return new FiberNode(e,s,a,l)}function shouldConstruct(e){return!(!(e=e.prototype)||!e.isReactComponent)}function createWorkInProgress(e,s){var a=e.alternate;return null===a?((a=createFiberImplClass(e.tag,s,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function resetWorkInProgress(e,s){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=null===s?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function createFiberFromTypeAndProps(e,s,a,l,c,u){var p=0;if(l=e,"function"==typeof e)shouldConstruct(e)&&(p=1);else if("string"==typeof e)p=function isHostHoistableType(e,s,a){if(1===a||null!=s.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof s.precedence||"string"!=typeof s.href||""===s.href)break;return!0;case"link":if("string"!=typeof s.rel||"string"!=typeof s.href||""===s.href||s.onLoad||s.onError)break;return"stylesheet"!==s.rel||(e=s.disabled,"string"==typeof s.precedence&&null==e);case"script":if(s.async&&"function"!=typeof s.async&&"symbol"!=typeof s.async&&!s.onLoad&&!s.onError&&s.src&&"string"==typeof s.src)return!0}return!1}(e,a,X.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=createFiberImplClass(31,a,s,c)).elementType=E,e.lanes=u,e;case m:return createFiberFromFragment(a.children,c,u,s);case h:p=8,c|=24;break;case f:return(e=createFiberImplClass(12,a,s,2|c)).elementType=f,e.lanes=u,e;case N:return(e=createFiberImplClass(13,a,s,c)).elementType=N,e.lanes=u,e;case k:return(e=createFiberImplClass(19,a,s,c)).elementType=k,e.lanes=u,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:p=10;break e;case g:p=9;break e;case j:p=11;break e;case _:p=14;break e;case T:p=16,l=null;break e}p=29,a=Error(formatProdErrorMessage(130,null===e?"null":typeof e,"")),l=null}return(s=createFiberImplClass(p,a,s,c)).elementType=e,s.type=l,s.lanes=u,s}function createFiberFromFragment(e,s,a,l){return(e=createFiberImplClass(7,e,l,s)).lanes=a,e}function createFiberFromText(e,s,a){return(e=createFiberImplClass(6,e,null,s)).lanes=a,e}function createFiberFromDehydratedFragment(e){var s=createFiberImplClass(18,null,null,0);return s.stateNode=e,s}function createFiberFromPortal(e,s,a){return(s=createFiberImplClass(4,null!==e.children?e.children:[],e.key,s)).lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var jr=new WeakMap;function createCapturedValueAtFiber(e,s){if("object"==typeof e&&null!==e){var a=jr.get(e);return void 0!==a?a:(s={value:e,source:s,stack:getStackByFiberInDevAndProd(s)},jr.set(e,s),s)}return{value:e,source:s,stack:getStackByFiberInDevAndProd(s)}}var wr=[],Nr=0,Sr=null,Cr=0,kr=[],_r=0,Pr=null,Tr=1,Er="";function pushTreeFork(e,s){wr[Nr++]=Cr,wr[Nr++]=Sr,Sr=e,Cr=s}function pushTreeId(e,s,a){kr[_r++]=Tr,kr[_r++]=Er,kr[_r++]=Pr,Pr=e;var l=Tr;e=Er;var c=32-Te(l)-1;l&=~(1<<c),a+=1;var u=32-Te(s)+c;if(30<u){var p=c-c%5;u=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Tr=1<<32-Te(s)+c|a<<c|l,Er=u+e}else Tr=1<<u|a<<c|l,Er=e}function pushMaterializedTreeId(e){null!==e.return&&(pushTreeFork(e,1),pushTreeId(e,1,0))}function popTreeContext(e){for(;e===Sr;)Sr=wr[--Nr],wr[Nr]=null,Cr=wr[--Nr],wr[Nr]=null;for(;e===Pr;)Pr=kr[--_r],kr[_r]=null,Er=kr[--_r],kr[_r]=null,Tr=kr[--_r],kr[_r]=null}function restoreSuspendedTreeContext(e,s){kr[_r++]=Tr,kr[_r++]=Er,kr[_r++]=Pr,Tr=s.id,Er=s.overflow,Pr=e}var Ar=null,Mr=null,Lr=!1,Dr=null,Or=!1,Ir=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(e){throw queueHydrationError(createCapturedValueAtFiber(Error(formatProdErrorMessage(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),Ir}function prepareToHydrateHostInstance(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Fe]=e,s[Be]=l,a){case"dialog":listenToNonDelegatedEvent("cancel",s),listenToNonDelegatedEvent("close",s);break;case"iframe":case"object":case"embed":listenToNonDelegatedEvent("load",s);break;case"video":case"audio":for(a=0;a<Ds.length;a++)listenToNonDelegatedEvent(Ds[a],s);break;case"source":listenToNonDelegatedEvent("error",s);break;case"img":case"image":case"link":listenToNonDelegatedEvent("error",s),listenToNonDelegatedEvent("load",s);break;case"details":listenToNonDelegatedEvent("toggle",s);break;case"input":listenToNonDelegatedEvent("invalid",s),initInput(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":listenToNonDelegatedEvent("invalid",s);break;case"textarea":listenToNonDelegatedEvent("invalid",s),initTextarea(s,l.value,l.defaultValue,l.children)}"string"!=typeof(a=l.children)&&"number"!=typeof a&&"bigint"!=typeof a||s.textContent===""+a||!0===l.suppressHydrationWarning||checkForUnmatchedText(s.textContent,a)?(null!=l.popover&&(listenToNonDelegatedEvent("beforetoggle",s),listenToNonDelegatedEvent("toggle",s)),null!=l.onScroll&&listenToNonDelegatedEvent("scroll",s),null!=l.onScrollEnd&&listenToNonDelegatedEvent("scrollend",s),null!=l.onClick&&(s.onclick=noop$12),s=!0):s=!1,s||throwOnHydrationMismatch(e,!0)}function popToNextHostParent(e){for(Ar=e.return;Ar;)switch(Ar.tag){case 5:case 31:case 13:return void(Or=!1);case 27:case 3:return void(Or=!0);default:Ar=Ar.return}}function popHydrationState(e){if(e!==Ar)return!1;if(!Lr)return popToNextHostParent(e),Lr=!0,!1;var s,a=e.tag;if((s=3!==a&&27!==a)&&((s=5===a)&&(s=!("form"!==(s=e.type)&&"button"!==s)||shouldSetTextContent(e.type,e.memoizedProps)),s=!s),s&&Mr&&throwOnHydrationMismatch(e),popToNextHostParent(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(formatProdErrorMessage(317));Mr=getNextHydratableInstanceAfterHydrationBoundary(e)}else if(31===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(formatProdErrorMessage(317));Mr=getNextHydratableInstanceAfterHydrationBoundary(e)}else 27===a?(a=Mr,isSingletonScope(e.type)?(e=Ws,Ws=null,Mr=e):Mr=a):Mr=Ar?getNextHydratable(e.stateNode.nextSibling):null;return!0}function resetHydrationState(){Mr=Ar=null,Lr=!1}function upgradeHydrationErrorsToRecoverable(){var e=Dr;return null!==e&&(null===ds?ds=e:ds.push.apply(ds,e),Dr=null),e}function queueHydrationError(e){null===Dr?Dr=[e]:Dr.push(e)}var $r=createCursor(null),Rr=null,Fr=null;function pushProvider(e,s,a){push($r,s._currentValue),s._currentValue=a}function popProvider(e){e._currentValue=$r.current,pop($r)}function scheduleContextWorkOnParentPath(e,s,a){for(;null!==e;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,null!==l&&(l.childLanes|=s)):null!==l&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function propagateContextChanges(e,s,a,l){var c=e.child;for(null!==c&&(c.return=e);null!==c;){var u=c.dependencies;if(null!==u){var p=c.child;u=u.firstContext;e:for(;null!==u;){var m=u;u=c;for(var h=0;h<s.length;h++)if(m.context===s[h]){u.lanes|=a,null!==(m=u.alternate)&&(m.lanes|=a),scheduleContextWorkOnParentPath(u.return,a,e),l||(p=null);break e}u=m.next}}else if(18===c.tag){if(null===(p=c.return))throw Error(formatProdErrorMessage(341));p.lanes|=a,null!==(u=p.alternate)&&(u.lanes|=a),scheduleContextWorkOnParentPath(p,a,e),p=null}else p=c.child;if(null!==p)p.return=c;else for(p=c;null!==p;){if(p===e){p=null;break}if(null!==(c=p.sibling)){c.return=p.return,p=c;break}p=p.return}c=p}}function propagateParentContextChanges(e,s,a,l){e=null;for(var c=s,u=!1;null!==c;){if(!u)if(524288&c.flags)u=!0;else if(262144&c.flags)break;if(10===c.tag){var p=c.alternate;if(null===p)throw Error(formatProdErrorMessage(387));if(null!==(p=p.memoizedProps)){var m=c.type;Xt(c.pendingProps.value,p.value)||(null!==e?e.push(m):e=[m])}}else if(c===ae.current){if(null===(p=c.alternate))throw Error(formatProdErrorMessage(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(null!==e?e.push(ea):e=[ea])}c=c.return}null!==e&&propagateContextChanges(s,e,a,l),s.flags|=262144}function checkIfContextChanged(e){for(e=e.firstContext;null!==e;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function prepareToReadContext(e){Rr=e,Fr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function readContext(e){return readContextForConsumer(Rr,e)}function readContextDuringReconciliation(e,s){return null===Rr&&prepareToReadContext(e),readContextForConsumer(e,s)}function readContextForConsumer(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},null===Fr){if(null===e)throw Error(formatProdErrorMessage(308));Fr=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Fr=Fr.next=s;return a}var Br="undefined"!=typeof AbortController?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(s,a){e.push(a)}};this.abort=function(){s.aborted=!0,e.forEach(function(e){return e()})}},zr=e.unstable_scheduleCallback,Vr=e.unstable_NormalPriority,Ur={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache(){return{controller:new Br,data:new Map,refCount:0}}function releaseCache(e){e.refCount--,0===e.refCount&&zr(Vr,function(){e.controller.abort()})}var Hr=null,qr=0,Wr=0,Zr=null;function pingEngtangledActionScope(){if(0===--qr&&null!==Hr){null!==Zr&&(Zr.status="fulfilled");var e=Hr;Hr=null,Wr=0,Zr=null;for(var s=0;s<e.length;s++)(0,e[s])()}}var Kr=$.S;$.S=function(e,s){ms=fe(),"object"==typeof s&&null!==s&&"function"==typeof s.then&&function entangleAsyncAction(e,s){if(null===Hr){var a=Hr=[];qr=0,Wr=requestTransitionLane(),Zr={status:"pending",value:void 0,then:function(e){a.push(e)}}}return qr++,s.then(pingEngtangledActionScope,pingEngtangledActionScope),s}(0,s),null!==Kr&&Kr(e,s)};var Gr=createCursor(null);function peekCacheFromPool(){var e=Gr.current;return null!==e?e:Zn.pooledCache}function pushTransition(e,s){push(Gr,null===s?Gr.current:s.pool)}function getSuspendedCache(){var e=peekCacheFromPool();return null===e?null:{parent:Ur._currentValue,pool:e}}var Yr=Error(formatProdErrorMessage(460)),Qr=Error(formatProdErrorMessage(474)),Xr=Error(formatProdErrorMessage(542)),Jr={then:function(){}};function isThenableResolved(e){return"fulfilled"===(e=e.status)||"rejected"===e}function trackUsedThenable(e,s,a){switch(void 0===(a=e[a])?e.push(s):a!==s&&(s.then(noop$12,noop$12),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw checkIfUseWrappedInAsyncCatch(e=s.reason),e;default:if("string"==typeof s.status)s.then(noop$12,noop$12);else{if(null!==(e=Zn)&&100<e.shellSuspendCounter)throw Error(formatProdErrorMessage(482));(e=s).status="pending",e.then(function(e){if("pending"===s.status){var a=s;a.status="fulfilled",a.value=e}},function(e){if("pending"===s.status){var a=s;a.status="rejected",a.reason=e}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw checkIfUseWrappedInAsyncCatch(e=s.reason),e}throw en=s,Yr}}function resolveLazy(e){try{return(0,e._init)(e._payload)}catch(s){if(null!==s&&"object"==typeof s&&"function"==typeof s.then)throw en=s,Yr;throw s}}var en=null;function getSuspendedThenable(){if(null===en)throw Error(formatProdErrorMessage(459));var e=en;return en=null,e}function checkIfUseWrappedInAsyncCatch(e){if(e===Yr||e===Xr)throw Error(formatProdErrorMessage(483))}var tn=null,rn=0;function unwrapThenable(e){var s=rn;return rn+=1,null===tn&&(tn=[]),trackUsedThenable(tn,e,s)}function coerceRef(e,s){s=s.props.ref,e.ref=void 0!==s?s:null}function throwOnInvalidObjectTypeImpl(e,s){if(s.$$typeof===c)throw Error(formatProdErrorMessage(525));throw e=Object.prototype.toString.call(s),Error(formatProdErrorMessage(31,"[object Object]"===e?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function createChildReconciler(e){function deleteChild(s,a){if(e){var l=s.deletions;null===l?(s.deletions=[a],s.flags|=16):l.push(a)}}function deleteRemainingChildren(s,a){if(!e)return null;for(;null!==a;)deleteChild(s,a),a=a.sibling;return null}function mapRemainingChildren(e){for(var s=new Map;null!==e;)null!==e.key?s.set(e.key,e):s.set(e.index,e),e=e.sibling;return s}function useFiber(e,s){return(e=createWorkInProgress(e,s)).index=0,e.sibling=null,e}function placeChild(s,a,l){return s.index=l,e?null!==(l=s.alternate)?(l=l.index)<a?(s.flags|=67108866,a):l:(s.flags|=67108866,a):(s.flags|=1048576,a)}function placeSingleChild(s){return e&&null===s.alternate&&(s.flags|=67108866),s}function updateTextNode(e,s,a,l){return null===s||6!==s.tag?((s=createFiberFromText(a,e.mode,l)).return=e,s):((s=useFiber(s,a)).return=e,s)}function updateElement(e,s,a,l){var c=a.type;return c===m?updateFragment(e,s,a.props.children,l,a.key):null!==s&&(s.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===T&&resolveLazy(c)===s.type)?(coerceRef(s=useFiber(s,a.props),a),s.return=e,s):(coerceRef(s=createFiberFromTypeAndProps(a.type,a.key,a.props,null,e.mode,l),a),s.return=e,s)}function updatePortal(e,s,a,l){return null===s||4!==s.tag||s.stateNode.containerInfo!==a.containerInfo||s.stateNode.implementation!==a.implementation?((s=createFiberFromPortal(a,e.mode,l)).return=e,s):((s=useFiber(s,a.children||[])).return=e,s)}function updateFragment(e,s,a,l,c){return null===s||7!==s.tag?((s=createFiberFromFragment(a,e.mode,l,c)).return=e,s):((s=useFiber(s,a)).return=e,s)}function createChild(e,s,a){if("string"==typeof s&&""!==s||"number"==typeof s||"bigint"==typeof s)return(s=createFiberFromText(""+s,e.mode,a)).return=e,s;if("object"==typeof s&&null!==s){switch(s.$$typeof){case u:return coerceRef(a=createFiberFromTypeAndProps(s.type,s.key,s.props,null,e.mode,a),s),a.return=e,a;case p:return(s=createFiberFromPortal(s,e.mode,a)).return=e,s;case T:return createChild(e,s=resolveLazy(s),a)}if(I(s)||getIteratorFn(s))return(s=createFiberFromFragment(s,e.mode,a,null)).return=e,s;if("function"==typeof s.then)return createChild(e,unwrapThenable(s),a);if(s.$$typeof===b)return createChild(e,readContextDuringReconciliation(e,s),a);throwOnInvalidObjectTypeImpl(e,s)}return null}function updateSlot(e,s,a,l){var c=null!==s?s.key:null;if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return null!==c?null:updateTextNode(e,s,""+a,l);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return a.key===c?updateElement(e,s,a,l):null;case p:return a.key===c?updatePortal(e,s,a,l):null;case T:return updateSlot(e,s,a=resolveLazy(a),l)}if(I(a)||getIteratorFn(a))return null!==c?null:updateFragment(e,s,a,l,null);if("function"==typeof a.then)return updateSlot(e,s,unwrapThenable(a),l);if(a.$$typeof===b)return updateSlot(e,s,readContextDuringReconciliation(e,a),l);throwOnInvalidObjectTypeImpl(e,a)}return null}function updateFromMap(e,s,a,l,c){if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return updateTextNode(s,e=e.get(a)||null,""+l,c);if("object"==typeof l&&null!==l){switch(l.$$typeof){case u:return updateElement(s,e=e.get(null===l.key?a:l.key)||null,l,c);case p:return updatePortal(s,e=e.get(null===l.key?a:l.key)||null,l,c);case T:return updateFromMap(e,s,a,l=resolveLazy(l),c)}if(I(l)||getIteratorFn(l))return updateFragment(s,e=e.get(a)||null,l,c,null);if("function"==typeof l.then)return updateFromMap(e,s,a,unwrapThenable(l),c);if(l.$$typeof===b)return updateFromMap(e,s,a,readContextDuringReconciliation(s,l),c);throwOnInvalidObjectTypeImpl(s,l)}return null}function reconcileChildFibersImpl(s,a,l,c){if("object"==typeof l&&null!==l&&l.type===m&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case u:e:{for(var h=l.key;null!==a;){if(a.key===h){if((h=l.type)===m){if(7===a.tag){deleteRemainingChildren(s,a.sibling),(c=useFiber(a,l.props.children)).return=s,s=c;break e}}else if(a.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===T&&resolveLazy(h)===a.type){deleteRemainingChildren(s,a.sibling),coerceRef(c=useFiber(a,l.props),l),c.return=s,s=c;break e}deleteRemainingChildren(s,a);break}deleteChild(s,a),a=a.sibling}l.type===m?((c=createFiberFromFragment(l.props.children,s.mode,c,l.key)).return=s,s=c):(coerceRef(c=createFiberFromTypeAndProps(l.type,l.key,l.props,null,s.mode,c),l),c.return=s,s=c)}return placeSingleChild(s);case p:e:{for(h=l.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){deleteRemainingChildren(s,a.sibling),(c=useFiber(a,l.children||[])).return=s,s=c;break e}deleteRemainingChildren(s,a);break}deleteChild(s,a),a=a.sibling}(c=createFiberFromPortal(l,s.mode,c)).return=s,s=c}return placeSingleChild(s);case T:return reconcileChildFibersImpl(s,a,l=resolveLazy(l),c)}if(I(l))return function reconcileChildrenArray(s,a,l,c){for(var u=null,p=null,m=a,h=a=0,f=null;null!==m&&h<l.length;h++){m.index>h?(f=m,m=null):f=m.sibling;var g=updateSlot(s,m,l[h],c);if(null===g){null===m&&(m=f);break}e&&m&&null===g.alternate&&deleteChild(s,m),a=placeChild(g,a,h),null===p?u=g:p.sibling=g,p=g,m=f}if(h===l.length)return deleteRemainingChildren(s,m),Lr&&pushTreeFork(s,h),u;if(null===m){for(;h<l.length;h++)null!==(m=createChild(s,l[h],c))&&(a=placeChild(m,a,h),null===p?u=m:p.sibling=m,p=m);return Lr&&pushTreeFork(s,h),u}for(m=mapRemainingChildren(m);h<l.length;h++)null!==(f=updateFromMap(m,s,h,l[h],c))&&(e&&null!==f.alternate&&m.delete(null===f.key?h:f.key),a=placeChild(f,a,h),null===p?u=f:p.sibling=f,p=f);return e&&m.forEach(function(e){return deleteChild(s,e)}),Lr&&pushTreeFork(s,h),u}(s,a,l,c);if(getIteratorFn(l)){if("function"!=typeof(h=getIteratorFn(l)))throw Error(formatProdErrorMessage(150));return function reconcileChildrenIterator(s,a,l,c){if(null==l)throw Error(formatProdErrorMessage(151));for(var u=null,p=null,m=a,h=a=0,f=null,g=l.next();null!==m&&!g.done;h++,g=l.next()){m.index>h?(f=m,m=null):f=m.sibling;var b=updateSlot(s,m,g.value,c);if(null===b){null===m&&(m=f);break}e&&m&&null===b.alternate&&deleteChild(s,m),a=placeChild(b,a,h),null===p?u=b:p.sibling=b,p=b,m=f}if(g.done)return deleteRemainingChildren(s,m),Lr&&pushTreeFork(s,h),u;if(null===m){for(;!g.done;h++,g=l.next())null!==(g=createChild(s,g.value,c))&&(a=placeChild(g,a,h),null===p?u=g:p.sibling=g,p=g);return Lr&&pushTreeFork(s,h),u}for(m=mapRemainingChildren(m);!g.done;h++,g=l.next())null!==(g=updateFromMap(m,s,h,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?h:g.key),a=placeChild(g,a,h),null===p?u=g:p.sibling=g,p=g);return e&&m.forEach(function(e){return deleteChild(s,e)}),Lr&&pushTreeFork(s,h),u}(s,a,l=h.call(l),c)}if("function"==typeof l.then)return reconcileChildFibersImpl(s,a,unwrapThenable(l),c);if(l.$$typeof===b)return reconcileChildFibersImpl(s,a,readContextDuringReconciliation(s,l),c);throwOnInvalidObjectTypeImpl(s,l)}return"string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l?(l=""+l,null!==a&&6===a.tag?(deleteRemainingChildren(s,a.sibling),(c=useFiber(a,l)).return=s,s=c):(deleteRemainingChildren(s,a),(c=createFiberFromText(l,s.mode,c)).return=s,s=c),placeSingleChild(s)):deleteRemainingChildren(s,a)}return function(e,s,a,l){try{rn=0;var c=reconcileChildFibersImpl(e,s,a,l);return tn=null,c}catch(p){if(p===Yr||p===Xr)throw p;var u=createFiberImplClass(29,p,null,e.mode);return u.lanes=l,u.return=e,u}}}var nn=createChildReconciler(!0),sn=createChildReconciler(!1),an=!1;function initializeUpdateQueue(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function createUpdate(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(e,s,a){var l=e.updateQueue;if(null===l)return null;if(l=l.shared,2&Wn){var c=l.pending;return null===c?s.next=s:(s.next=c.next,c.next=s),l.pending=s,s=getRootForUpdatedFiber(e),markUpdateLaneFromFiberToRoot(e,null,a),s}return enqueueUpdate$1(e,l,s,a),getRootForUpdatedFiber(e)}function entangleTransitions(e,s,a){if(null!==(s=s.updateQueue)&&(s=s.shared,4194048&a)){var l=s.lanes;a|=l&=e.pendingLanes,s.lanes=a,markRootEntangled(e,a)}}function enqueueCapturedUpdate(e,s){var a=e.updateQueue,l=e.alternate;if(null!==l&&a===(l=l.updateQueue)){var c=null,u=null;if(null!==(a=a.firstBaseUpdate)){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===u?c=u=p:u=u.next=p,a=a.next}while(null!==a);null===u?c=u=s:u=u.next=s}else c=u=s;return a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var dn=!1;function suspendIfUpdateReadFromEntangledAsyncAction(){if(dn){if(null!==Zr)throw Zr}}function processUpdateQueue(e,s,a,c){dn=!1;var u=e.updateQueue;an=!1;var p=u.firstBaseUpdate,m=u.lastBaseUpdate,h=u.shared.pending;if(null!==h){u.shared.pending=null;var f=h,g=f.next;f.next=null,null===m?p=g:m.next=g,m=f;var b=e.alternate;null!==b&&((h=(b=b.updateQueue).lastBaseUpdate)!==m&&(null===h?b.firstBaseUpdate=g:h.next=g,b.lastBaseUpdate=f))}if(null!==p){var j=u.baseState;for(m=0,b=g=f=null,h=p;;){var N=-536870913&h.lane,k=N!==h.lane;if(k?(Gn&N)===N:(c&N)===N){0!==N&&N===Wr&&(dn=!0),null!==b&&(b=b.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var _=e,T=h;N=s;var E=a;switch(T.tag){case 1:if("function"==typeof(_=T.payload)){j=_.call(E,j,N);break e}j=_;break e;case 3:_.flags=-65537&_.flags|128;case 0:if(null==(N="function"==typeof(_=T.payload)?_.call(E,j,N):_))break e;j=l({},j,N);break e;case 2:an=!0}}null!==(N=h.callback)&&(e.flags|=64,k&&(e.flags|=8192),null===(k=u.callbacks)?u.callbacks=[N]:k.push(N))}else k={lane:N,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===b?(g=b=k,f=j):b=b.next=k,m|=N;if(null===(h=h.next)){if(null===(h=u.shared.pending))break;h=(k=h).next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}null===b&&(f=j),u.baseState=f,u.firstBaseUpdate=g,u.lastBaseUpdate=b,null===p&&(u.shared.lanes=0),ns|=m,e.lanes=m,e.memoizedState=j}}function callCallback(e,s){if("function"!=typeof e)throw Error(formatProdErrorMessage(191,e));e.call(s)}function commitCallbacks(e,s){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)callCallback(a[e],s)}var un=createCursor(null),pn=createCursor(0);function pushHiddenContext(e,s){push(pn,e=ts),push(un,s),ts=e|s.baseLanes}function reuseHiddenContextOnStack(){push(pn,ts),push(un,un.current)}function popHiddenContext(){ts=pn.current,pop(un),pop(pn)}var mn=createCursor(null),hn=null;function pushPrimaryTreeSuspenseHandler(e){var s=e.alternate;push(fn,1&fn.current),push(mn,e),null===hn&&(null===s||null!==un.current||null!==s.memoizedState)&&(hn=e)}function pushDehydratedActivitySuspenseHandler(e){push(fn,fn.current),push(mn,e),null===hn&&(hn=e)}function pushOffscreenSuspenseHandler(e){22===e.tag?(push(fn,fn.current),push(mn,e),null===hn&&(hn=e)):reuseSuspenseHandlerOnStack()}function reuseSuspenseHandlerOnStack(){push(fn,fn.current),push(mn,mn.current)}function popSuspenseHandler(e){pop(mn),hn===e&&(hn=null),pop(fn)}var fn=createCursor(0);function findFirstSuspended(e){for(var s=e;null!==s;){if(13===s.tag){var a=s.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||isSuspenseInstancePending(a)||isSuspenseInstanceFallback(a)))return s}else if(19!==s.tag||"forwards"!==s.memoizedProps.revealOrder&&"backwards"!==s.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==s.memoizedProps.revealOrder&&"together"!==s.memoizedProps.revealOrder){if(null!==s.child){s.child.return=s,s=s.child;continue}}else if(128&s.flags)return s;if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gn=0,xn=null,vn=null,yn=null,bn=!1,jn=!1,wn=!1,Nn=0,Sn=0,Cn=null,kn=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(e,s){if(null===s)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Xt(e[a],s[a]))return!1;return!0}function renderWithHooks(e,s,a,l,c,u){return gn=u,xn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=null===e||null===e.memoizedState?Pn:Tn,wn=!1,u=a(l,c),wn=!1,jn&&(u=renderWithHooksAgain(s,a,l,c)),finishRenderingHooks(e),u}function finishRenderingHooks(e){$.H=_n;var s=null!==vn&&null!==vn.next;if(gn=0,yn=vn=xn=null,bn=!1,Sn=0,Cn=null,s)throw Error(formatProdErrorMessage(300));null===e||Ln||null!==(e=e.dependencies)&&checkIfContextChanged(e)&&(Ln=!0)}function renderWithHooksAgain(e,s,a,l){xn=e;var c=0;do{if(jn&&(Cn=null),Sn=0,jn=!1,25<=c)throw Error(formatProdErrorMessage(301));if(c+=1,yn=vn=null,null!=e.updateQueue){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,null!=u.memoCache&&(u.memoCache.index=0)}$.H=En,u=s(a,l)}while(jn);return u}function TransitionAwareHostComponent(){var e=$.H,s=e.useState()[0];return s="function"==typeof s.then?useThenable(s):s,e=e.useState()[0],(null!==vn?vn.memoizedState:null)!==e&&(xn.flags|=1024),s}function checkDidRenderIdHook(){var e=0!==Nn;return Nn=0,e}function bailoutHooks(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function resetHooksOnUnwind(e){if(bn){for(e=e.memoizedState;null!==e;){var s=e.queue;null!==s&&(s.pending=null),e=e.next}bn=!1}gn=0,yn=vn=xn=null,jn=!1,Sn=Nn=0,Cn=null}function mountWorkInProgressHook(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yn?xn.memoizedState=yn=e:yn=yn.next=e,yn}function updateWorkInProgressHook(){if(null===vn){var e=xn.alternate;e=null!==e?e.memoizedState:null}else e=vn.next;var s=null===yn?xn.memoizedState:yn.next;if(null!==s)yn=s,vn=e;else{if(null===e){if(null===xn.alternate)throw Error(formatProdErrorMessage(467));throw Error(formatProdErrorMessage(310))}e={memoizedState:(vn=e).memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},null===yn?xn.memoizedState=yn=e:yn=yn.next=e}return yn}function useThenable(e){var s=Sn;return Sn+=1,null===Cn&&(Cn=[]),e=trackUsedThenable(Cn,e,s),s=xn,null===(null===yn?s.memoizedState:yn.next)&&(s=s.alternate,$.H=null===s||null===s.memoizedState?Pn:Tn),e}function use(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return useThenable(e);if(e.$$typeof===b)return readContext(e)}throw Error(formatProdErrorMessage(438,String(e)))}function useMemoCache(e){var s=null,a=xn.updateQueue;if(null!==a&&(s=a.memoCache),null==s){var l=xn.alternate;null!==l&&(null!==(l=l.updateQueue)&&(null!=(l=l.memoCache)&&(s={data:l.data.map(function(e){return e.slice()}),index:0})))}if(null==s&&(s={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},xn.updateQueue=a),a.memoCache=s,void 0===(a=s.data[s.index]))for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=A;return s.index++,a}function basicStateReducer(e,s){return"function"==typeof s?s(e):s}function updateReducer(e){return updateReducerImpl(updateWorkInProgressHook(),vn,e)}function updateReducerImpl(e,s,a){var l=e.queue;if(null===l)throw Error(formatProdErrorMessage(311));l.lastRenderedReducer=a;var c=e.baseQueue,u=l.pending;if(null!==u){if(null!==c){var p=c.next;c.next=u.next,u.next=p}s.baseQueue=c=u,l.pending=null}if(u=e.baseState,null===c)e.memoizedState=u;else{var m=p=null,h=null,f=s=c.next,g=!1;do{var b=-536870913&f.lane;if(b!==f.lane?(Gn&b)===b:(gn&b)===b){var j=f.revertLane;if(0===j)null!==h&&(h=h.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),b===Wr&&(g=!0);else{if((gn&j)===j){f=f.next,j===Wr&&(g=!0);continue}b={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},null===h?(m=h=b,p=u):h=h.next=b,xn.lanes|=j,ns|=j}b=f.action,wn&&a(u,b),u=f.hasEagerState?f.eagerState:a(u,b)}else j={lane:b,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},null===h?(m=h=j,p=u):h=h.next=j,xn.lanes|=b,ns|=b;f=f.next}while(null!==f&&f!==s);if(null===h?p=u:h.next=m,!Xt(u,e.memoizedState)&&(Ln=!0,g&&null!==(a=Zr)))throw a;e.memoizedState=u,e.baseState=p,e.baseQueue=h,l.lastRenderedState=u}return null===c&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rerenderReducer(e){var s=updateWorkInProgressHook(),a=s.queue;if(null===a)throw Error(formatProdErrorMessage(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,u=s.memoizedState;if(null!==c){a.pending=null;var p=c=c.next;do{u=e(u,p.action),p=p.next}while(p!==c);Xt(u,s.memoizedState)||(Ln=!0),s.memoizedState=u,null===s.baseQueue&&(s.baseState=u),a.lastRenderedState=u}return[u,l]}function updateSyncExternalStore(e,s,a){var l=xn,c=updateWorkInProgressHook(),u=Lr;if(u){if(void 0===a)throw Error(formatProdErrorMessage(407));a=a()}else a=s();var p=!Xt((vn||c).memoizedState,a);if(p&&(c.memoizedState=a,Ln=!0),c=c.queue,updateEffect(subscribeToStore.bind(null,l,c,e),[e]),c.getSnapshot!==s||p||null!==yn&&1&yn.memoizedState.tag){if(l.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,l,c,a,s),null),null===Zn)throw Error(formatProdErrorMessage(349));u||127&gn||pushStoreConsistencyCheck(l,s,a)}return a}function pushStoreConsistencyCheck(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},null===(s=xn.updateQueue)?(s={lastEffect:null,events:null,stores:null,memoCache:null},xn.updateQueue=s,s.stores=[e]):null===(a=s.stores)?s.stores=[e]:a.push(e)}function updateStoreInstance(e,s,a,l){s.value=a,s.getSnapshot=l,checkIfSnapshotChanged(s)&&forceStoreRerender(e)}function subscribeToStore(e,s,a){return a(function(){checkIfSnapshotChanged(s)&&forceStoreRerender(e)})}function checkIfSnapshotChanged(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Xt(e,a)}catch(l){return!0}}function forceStoreRerender(e){var s=enqueueConcurrentRenderForLane(e,2);null!==s&&scheduleUpdateOnFiber(s,e,2)}function mountStateImpl(e){var s=mountWorkInProgressHook();if("function"==typeof e){var a=e;if(e=a(),wn){setIsStrictModeForDevtools(!0);try{a()}finally{setIsStrictModeForDevtools(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:e},s}function updateOptimisticImpl(e,s,a,l){return e.baseState=a,updateReducerImpl(e,vn,"function"==typeof l?l:basicStateReducer)}function dispatchActionState(e,s,a,l,c){if(isRenderPhaseUpdate(e))throw Error(formatProdErrorMessage(485));if(null!==(e=s.action)){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){u.listeners.push(e)}};null!==$.T?a(!0):u.isTransition=!1,l(u),null===(a=s.pending)?(u.next=s.pending=u,runActionStateAction(s,u)):(u.next=a.next,s.pending=a.next=u)}}function runActionStateAction(e,s){var a=s.action,l=s.payload,c=e.state;if(s.isTransition){var u=$.T,p={};$.T=p;try{var m=a(c,l),h=$.S;null!==h&&h(p,m),handleActionReturnValue(e,s,m)}catch(f){onActionError(e,s,f)}finally{null!==u&&null!==p.types&&(u.types=p.types),$.T=u}}else try{handleActionReturnValue(e,s,u=a(c,l))}catch(g){onActionError(e,s,g)}}function handleActionReturnValue(e,s,a){null!==a&&"object"==typeof a&&"function"==typeof a.then?a.then(function(a){onActionSuccess(e,s,a)},function(a){return onActionError(e,s,a)}):onActionSuccess(e,s,a)}function onActionSuccess(e,s,a){s.status="fulfilled",s.value=a,notifyActionListeners(s),e.state=a,null!==(s=e.pending)&&((a=s.next)===s?e.pending=null:(a=a.next,s.next=a,runActionStateAction(e,a)))}function onActionError(e,s,a){var l=e.pending;if(e.pending=null,null!==l){l=l.next;do{s.status="rejected",s.reason=a,notifyActionListeners(s),s=s.next}while(s!==l)}e.action=null}function notifyActionListeners(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function actionStateReducer(e,s){return s}function mountActionState(e,s){if(Lr){var a=Zn.formState;if(null!==a){e:{var l=xn;if(Lr){if(Mr){t:{for(var c=Mr,u=Or;8!==c.nodeType;){if(!u){c=null;break t}if(null===(c=getNextHydratable(c.nextSibling))){c=null;break t}}c="F!"===(u=c.data)||"F"===u?c:null}if(c){Mr=getNextHydratable(c.nextSibling),l="F!"===c.data;break e}}throwOnHydrationMismatch(l)}l=!1}l&&(s=a[0])}}return(a=mountWorkInProgressHook()).memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:s},a.queue=l,a=dispatchSetState.bind(null,xn,l),l.dispatch=a,l=mountStateImpl(!1),u=dispatchOptimisticSetState.bind(null,xn,!1,l.queue),c={state:s,dispatch:null,action:e,pending:null},(l=mountWorkInProgressHook()).queue=c,a=dispatchActionState.bind(null,xn,c,u,a),c.dispatch=a,l.memoizedState=e,[s,a,!1]}function updateActionState(e){return updateActionStateImpl(updateWorkInProgressHook(),vn,e)}function updateActionStateImpl(e,s,a){if(s=updateReducerImpl(e,s,actionStateReducer)[0],e=updateReducer(basicStateReducer)[0],"object"==typeof s&&null!==s&&"function"==typeof s.then)try{var l=useThenable(s)}catch(p){if(p===Yr)throw Xr;throw p}else l=s;var c=(s=updateWorkInProgressHook()).queue,u=c.dispatch;return a!==s.memoizedState&&(xn.flags|=2048,pushSimpleEffect(9,{destroy:void 0},actionStateActionEffect.bind(null,c,a),null)),[l,u,e]}function actionStateActionEffect(e,s){e.action=s}function rerenderActionState(e){var s=updateWorkInProgressHook(),a=vn;if(null!==a)return updateActionStateImpl(s,a,e);updateWorkInProgressHook(),s=s.memoizedState;var l=(a=updateWorkInProgressHook()).queue.dispatch;return a.memoizedState=e,[s,l,!1]}function pushSimpleEffect(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},null===(s=xn.updateQueue)&&(s={lastEffect:null,events:null,stores:null,memoCache:null},xn.updateQueue=s),null===(a=s.lastEffect)?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(e,s,a,l){var c=mountWorkInProgressHook();xn.flags|=e,c.memoizedState=pushSimpleEffect(1|s,{destroy:void 0},a,void 0===l?null:l)}function updateEffectImpl(e,s,a,l){var c=updateWorkInProgressHook();l=void 0===l?null:l;var u=c.memoizedState.inst;null!==vn&&null!==l&&areHookInputsEqual(l,vn.memoizedState.deps)?c.memoizedState=pushSimpleEffect(s,u,a,l):(xn.flags|=e,c.memoizedState=pushSimpleEffect(1|s,u,a,l))}function mountEffect(e,s){mountEffectImpl(8390656,8,e,s)}function updateEffect(e,s){updateEffectImpl(2048,8,e,s)}function updateEvent(e){var s=updateWorkInProgressHook().memoizedState;return function useEffectEventImpl(e){xn.flags|=4;var s=xn.updateQueue;if(null===s)s={lastEffect:null,events:null,stores:null,memoCache:null},xn.updateQueue=s,s.events=[e];else{var a=s.events;null===a?s.events=[e]:a.push(e)}}({ref:s,nextImpl:e}),function(){if(2&Wn)throw Error(formatProdErrorMessage(440));return s.impl.apply(void 0,arguments)}}function updateInsertionEffect(e,s){return updateEffectImpl(4,2,e,s)}function updateLayoutEffect(e,s){return updateEffectImpl(4,4,e,s)}function imperativeHandleEffect(e,s){if("function"==typeof s){e=e();var a=s(e);return function(){"function"==typeof a?a():s(null)}}if(null!=s)return e=e(),s.current=e,function(){s.current=null}}function updateImperativeHandle(e,s,a){a=null!=a?a.concat([e]):null,updateEffectImpl(4,4,imperativeHandleEffect.bind(null,s,e),a)}function mountDebugValue(){}function updateCallback(e,s){var a=updateWorkInProgressHook();s=void 0===s?null:s;var l=a.memoizedState;return null!==s&&areHookInputsEqual(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function updateMemo(e,s){var a=updateWorkInProgressHook();s=void 0===s?null:s;var l=a.memoizedState;if(null!==s&&areHookInputsEqual(s,l[1]))return l[0];if(l=e(),wn){setIsStrictModeForDevtools(!0);try{e()}finally{setIsStrictModeForDevtools(!1)}}return a.memoizedState=[l,s],l}function mountDeferredValueImpl(e,s,a){return void 0===a||1073741824&gn&&!(261930&Gn)?e.memoizedState=s:(e.memoizedState=a,e=requestDeferredLane(),xn.lanes|=e,ns|=e,a)}function updateDeferredValueImpl(e,s,a,l){return Xt(a,s)?a:null!==un.current?(e=mountDeferredValueImpl(e,a,l),Xt(e,s)||(Ln=!0),e):42&gn&&(!(1073741824&gn)||261930&Gn)?(e=requestDeferredLane(),xn.lanes|=e,ns|=e,s):(Ln=!0,e.memoizedState=a)}function startTransition(e,s,a,l,c){var u=z.p;z.p=0!==u&&8>u?u:8;var p=$.T,m={};$.T=m,dispatchOptimisticSetState(e,!1,s,a);try{var h=c(),f=$.S;if(null!==f&&f(m,h),null!==h&&"object"==typeof h&&"function"==typeof h.then)dispatchSetStateInternal(e,s,function chainThenableValue(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<a.length;e++)(0,a[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),l}(h,l),requestUpdateLane());else dispatchSetStateInternal(e,s,l,requestUpdateLane())}catch(g){dispatchSetStateInternal(e,s,{then:function(){},status:"rejected",reason:g},requestUpdateLane())}finally{z.p=u,null!==p&&null!==m.types&&(p.types=m.types),$.T=p}}function noop3(){}function startHostTransition(e,s,a,l){if(5!==e.tag)throw Error(formatProdErrorMessage(476));var c=ensureFormComponentIsStateful(e).queue;startTransition(e,c,s,U,null===a?noop3:function(){return requestFormReset$1(e),a(l)})}function ensureFormComponentIsStateful(e){var s=e.memoizedState;if(null!==s)return s;var a={};return(s={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:U},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:a},next:null},e.memoizedState=s,null!==(e=e.alternate)&&(e.memoizedState=s),s}function requestFormReset$1(e){var s=ensureFormComponentIsStateful(e);null===s.next&&(s=e.alternate.memoizedState),dispatchSetStateInternal(e,s.next.queue,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(ea)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(e){for(var s=e.return;null!==s;){switch(s.tag){case 24:case 3:var a=requestUpdateLane(),l=enqueueUpdate(s,e=createUpdate(a),a);return null!==l&&(scheduleUpdateOnFiber(l,s,a),entangleTransitions(l,s,a)),s={cache:createCache()},void(e.payload=s)}s=s.return}}function dispatchReducerAction(e,s,a){var l=requestUpdateLane();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(e)?enqueueRenderPhaseUpdate(s,a):null!==(a=enqueueConcurrentHookUpdate(e,s,a,l))&&(scheduleUpdateOnFiber(a,e,l),entangleTransitionUpdate(a,s,l))}function dispatchSetState(e,s,a){dispatchSetStateInternal(e,s,a,requestUpdateLane())}function dispatchSetStateInternal(e,s,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(isRenderPhaseUpdate(e))enqueueRenderPhaseUpdate(s,c);else{var u=e.alternate;if(0===e.lanes&&(null===u||0===u.lanes)&&null!==(u=s.lastRenderedReducer))try{var p=s.lastRenderedState,m=u(p,a);if(c.hasEagerState=!0,c.eagerState=m,Xt(m,p))return enqueueUpdate$1(e,s,c,0),null===Zn&&finishQueueingConcurrentUpdates(),!1}catch(h){}if(null!==(a=enqueueConcurrentHookUpdate(e,s,c,l)))return scheduleUpdateOnFiber(a,e,l),entangleTransitionUpdate(a,s,l),!0}return!1}function dispatchOptimisticSetState(e,s,a,l){if(l={lane:2,revertLane:requestTransitionLane(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(e)){if(s)throw Error(formatProdErrorMessage(479))}else null!==(s=enqueueConcurrentHookUpdate(e,a,l,2))&&scheduleUpdateOnFiber(s,e,2)}function isRenderPhaseUpdate(e){var s=e.alternate;return e===xn||null!==s&&s===xn}function enqueueRenderPhaseUpdate(e,s){jn=bn=!0;var a=e.pending;null===a?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function entangleTransitionUpdate(e,s,a){if(4194048&a){var l=s.lanes;a|=l&=e.pendingLanes,s.lanes=a,markRootEntangled(e,a)}}var _n={readContext:readContext,use:use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError,useHostTransitionStatus:throwInvalidHookError,useFormState:throwInvalidHookError,useActionState:throwInvalidHookError,useOptimistic:throwInvalidHookError,useMemoCache:throwInvalidHookError,useCacheRefresh:throwInvalidHookError};_n.useEffectEvent=throwInvalidHookError;var Pn={readContext:readContext,use:use,useCallback:function(e,s){return mountWorkInProgressHook().memoizedState=[e,void 0===s?null:s],e},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(e,s,a){a=null!=a?a.concat([e]):null,mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,s,e),a)},useLayoutEffect:function(e,s){return mountEffectImpl(4194308,4,e,s)},useInsertionEffect:function(e,s){mountEffectImpl(4,2,e,s)},useMemo:function(e,s){var a=mountWorkInProgressHook();s=void 0===s?null:s;var l=e();if(wn){setIsStrictModeForDevtools(!0);try{e()}finally{setIsStrictModeForDevtools(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=mountWorkInProgressHook();if(void 0!==a){var c=a(s);if(wn){setIsStrictModeForDevtools(!0);try{a(s)}finally{setIsStrictModeForDevtools(!1)}}}else c=s;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=dispatchReducerAction.bind(null,xn,e),[l.memoizedState,e]},useRef:function(e){return e={current:e},mountWorkInProgressHook().memoizedState=e},useState:function(e){var s=(e=mountStateImpl(e)).queue,a=dispatchSetState.bind(null,xn,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:mountDebugValue,useDeferredValue:function(e,s){return mountDeferredValueImpl(mountWorkInProgressHook(),e,s)},useTransition:function(){var e=mountStateImpl(!1);return e=startTransition.bind(null,xn,e.queue,!0,!1),mountWorkInProgressHook().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=xn,c=mountWorkInProgressHook();if(Lr){if(void 0===a)throw Error(formatProdErrorMessage(407));a=a()}else{if(a=s(),null===Zn)throw Error(formatProdErrorMessage(349));127&Gn||pushStoreConsistencyCheck(l,s,a)}c.memoizedState=a;var u={value:a,getSnapshot:s};return c.queue=u,mountEffect(subscribeToStore.bind(null,l,u,e),[e]),l.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,l,u,a,s),null),a},useId:function(){var e=mountWorkInProgressHook(),s=Zn.identifierPrefix;if(Lr){var a=Er;s="_"+s+"R_"+(a=(Tr&~(1<<32-Te(Tr)-1)).toString(32)+a),0<(a=Nn++)&&(s+="H"+a.toString(32)),s+="_"}else s="_"+s+"r_"+(a=kn++).toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:useHostTransitionStatus,useFormState:mountActionState,useActionState:mountActionState,useOptimistic:function(e){var s=mountWorkInProgressHook();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=dispatchOptimisticSetState.bind(null,xn,!0,a),a.dispatch=s,[e,s]},useMemoCache:useMemoCache,useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,xn)},useEffectEvent:function(e){var s=mountWorkInProgressHook(),a={impl:e};return s.memoizedState=a,function(){if(2&Wn)throw Error(formatProdErrorMessage(440));return a.impl.apply(void 0,arguments)}}},Tn={readContext:readContext,use:use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(e,s){return updateDeferredValueImpl(updateWorkInProgressHook(),vn.memoizedState,e,s)},useTransition:function(){var e=updateReducer(basicStateReducer)[0],s=updateWorkInProgressHook().memoizedState;return["boolean"==typeof e?e:useThenable(e),s]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus:useHostTransitionStatus,useFormState:updateActionState,useActionState:updateActionState,useOptimistic:function(e,s){return updateOptimisticImpl(updateWorkInProgressHook(),0,e,s)},useMemoCache:useMemoCache,useCacheRefresh:updateRefresh};Tn.useEffectEvent=updateEvent;var En={readContext:readContext,use:use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(e,s){var a=updateWorkInProgressHook();return null===vn?mountDeferredValueImpl(a,e,s):updateDeferredValueImpl(a,vn.memoizedState,e,s)},useTransition:function(){var e=rerenderReducer(basicStateReducer)[0],s=updateWorkInProgressHook().memoizedState;return["boolean"==typeof e?e:useThenable(e),s]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus:useHostTransitionStatus,useFormState:rerenderActionState,useActionState:rerenderActionState,useOptimistic:function(e,s){var a=updateWorkInProgressHook();return null!==vn?updateOptimisticImpl(a,0,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:useMemoCache,useCacheRefresh:updateRefresh};function applyDerivedStateFromProps(e,s,a,c){a=null==(a=a(c,s=e.memoizedState))?s:l({},s,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}En.useEffectEvent=updateEvent;var An={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=requestUpdateLane(),c=createUpdate(l);c.payload=s,null!=a&&(c.callback=a),null!==(s=enqueueUpdate(e,c,l))&&(scheduleUpdateOnFiber(s,e,l),entangleTransitions(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=requestUpdateLane(),c=createUpdate(l);c.tag=1,c.payload=s,null!=a&&(c.callback=a),null!==(s=enqueueUpdate(e,c,l))&&(scheduleUpdateOnFiber(s,e,l),entangleTransitions(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=requestUpdateLane(),l=createUpdate(a);l.tag=2,null!=s&&(l.callback=s),null!==(s=enqueueUpdate(e,l,a))&&(scheduleUpdateOnFiber(s,e,a),entangleTransitions(s,e,a))}};function checkShouldComponentUpdate(e,s,a,l,c,u,p){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(l,u,p):!s.prototype||!s.prototype.isPureReactComponent||(!shallowEqual2(a,l)||!shallowEqual2(c,u))}function callComponentWillReceiveProps(e,s,a,l){e=s.state,"function"==typeof s.componentWillReceiveProps&&s.componentWillReceiveProps(a,l),"function"==typeof s.UNSAFE_componentWillReceiveProps&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&An.enqueueReplaceState(s,s.state,null)}function resolveClassComponentProps(e,s){var a=s;if("ref"in s)for(var c in a={},s)"ref"!==c&&(a[c]=s[c]);if(e=e.defaultProps)for(var u in a===s&&(a=l({},a)),e)void 0===a[u]&&(a[u]=e[u]);return a}function defaultOnUncaughtError(e){gr(e)}function defaultOnCaughtError(e){console.error(e)}function defaultOnRecoverableError(e){gr(e)}function logUncaughtError(e,s){try{(0,e.onUncaughtError)(s.value,{componentStack:s.stack})}catch(a){setTimeout(function(){throw a})}}function logCaughtError(e,s,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===s.tag?s.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function createRootErrorUpdate(e,s,a){return(a=createUpdate(a)).tag=3,a.payload={element:null},a.callback=function(){logUncaughtError(e,s)},a}function createClassErrorUpdate(e){return(e=createUpdate(e)).tag=3,e}function initializeClassErrorUpdate(e,s,a,l){var c=a.type.getDerivedStateFromError;if("function"==typeof c){var u=l.value;e.payload=function(){return c(u)},e.callback=function(){logCaughtError(s,a,l)}}var p=a.stateNode;null!==p&&"function"==typeof p.componentDidCatch&&(e.callback=function(){logCaughtError(s,a,l),"function"!=typeof c&&(null===gs?gs=new Set([this]):gs.add(this));var e=l.stack;this.componentDidCatch(l.value,{componentStack:null!==e?e:""})})}var Mn=Error(formatProdErrorMessage(461)),Ln=!1;function reconcileChildren(e,s,a,l){s.child=null===e?sn(s,null,a,l):nn(s,e.child,a,l)}function updateForwardRef(e,s,a,l,c){a=a.render;var u=s.ref;if("ref"in l){var p={};for(var m in l)"ref"!==m&&(p[m]=l[m])}else p=l;return prepareToReadContext(s),l=renderWithHooks(e,s,a,p,u,c),m=checkDidRenderIdHook(),null===e||Ln?(Lr&&m&&pushMaterializedTreeId(s),s.flags|=1,reconcileChildren(e,s,l,c),s.child):(bailoutHooks(e,s,c),bailoutOnAlreadyFinishedWork(e,s,c))}function updateMemoComponent(e,s,a,l,c){if(null===e){var u=a.type;return"function"!=typeof u||shouldConstruct(u)||void 0!==u.defaultProps||null!==a.compare?((e=createFiberFromTypeAndProps(a.type,null,l,s,s.mode,c)).ref=s.ref,e.return=s,s.child=e):(s.tag=15,s.type=u,updateSimpleMemoComponent(e,s,u,l,c))}if(u=e.child,!checkScheduledUpdateOrContext(e,c)){var p=u.memoizedProps;if((a=null!==(a=a.compare)?a:shallowEqual2)(p,l)&&e.ref===s.ref)return bailoutOnAlreadyFinishedWork(e,s,c)}return s.flags|=1,(e=createWorkInProgress(u,l)).ref=s.ref,e.return=s,s.child=e}function updateSimpleMemoComponent(e,s,a,l,c){if(null!==e){var u=e.memoizedProps;if(shallowEqual2(u,l)&&e.ref===s.ref){if(Ln=!1,s.pendingProps=l=u,!checkScheduledUpdateOrContext(e,c))return s.lanes=e.lanes,bailoutOnAlreadyFinishedWork(e,s,c);131072&e.flags&&(Ln=!0)}}return updateFunctionComponent(e,s,a,l,c)}function updateOffscreenComponent(e,s,a,l){var c=l.children,u=null!==e?e.memoizedState:null;if(null===e&&null===s.stateNode&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===l.mode){if(128&s.flags){if(u=null!==u?u.baseLanes|a:a,null!==e){for(l=s.child=e.child,c=0;null!==l;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,s.child=null;return deferHiddenOffscreenComponent(e,s,u,a,l)}if(!(536870912&a))return l=s.lanes=536870912,deferHiddenOffscreenComponent(e,s,null!==u?u.baseLanes|a:a,a,l);s.memoizedState={baseLanes:0,cachePool:null},null!==e&&pushTransition(0,null!==u?u.cachePool:null),null!==u?pushHiddenContext(s,u):reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(s)}else null!==u?(pushTransition(0,u.cachePool),pushHiddenContext(s,u),reuseSuspenseHandlerOnStack(),s.memoizedState=null):(null!==e&&pushTransition(0,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack());return reconcileChildren(e,s,c,a),s.child}function bailoutOffscreenComponent(e,s){return null!==e&&22===e.tag||null!==s.stateNode||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function deferHiddenOffscreenComponent(e,s,a,l,c){var u=peekCacheFromPool();return u=null===u?null:{parent:Ur._currentValue,pool:u},s.memoizedState={baseLanes:a,cachePool:u},null!==e&&pushTransition(0,null),reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(s),null!==e&&propagateParentContextChanges(e,s,l,!0),s.childLanes=c,null}function mountActivityChildren(e,s){return(s=mountWorkInProgressOffscreenFiber({mode:s.mode,children:s.children},e.mode)).ref=e.ref,e.child=s,s.return=e,s}function retryActivityComponentWithoutHydrating(e,s,a){return nn(s,e.child,null,a),(e=mountActivityChildren(s,s.pendingProps)).flags|=2,popSuspenseHandler(s),s.memoizedState=null,e}function markRef(e,s){var a=s.ref;if(null===a)null!==e&&null!==e.ref&&(s.flags|=4194816);else{if("function"!=typeof a&&"object"!=typeof a)throw Error(formatProdErrorMessage(284));null!==e&&e.ref===a||(s.flags|=4194816)}}function updateFunctionComponent(e,s,a,l,c){return prepareToReadContext(s),a=renderWithHooks(e,s,a,l,void 0,c),l=checkDidRenderIdHook(),null===e||Ln?(Lr&&l&&pushMaterializedTreeId(s),s.flags|=1,reconcileChildren(e,s,a,c),s.child):(bailoutHooks(e,s,c),bailoutOnAlreadyFinishedWork(e,s,c))}function replayFunctionComponent(e,s,a,l,c,u){return prepareToReadContext(s),s.updateQueue=null,a=renderWithHooksAgain(s,l,a,c),finishRenderingHooks(e),l=checkDidRenderIdHook(),null===e||Ln?(Lr&&l&&pushMaterializedTreeId(s),s.flags|=1,reconcileChildren(e,s,a,u),s.child):(bailoutHooks(e,s,u),bailoutOnAlreadyFinishedWork(e,s,u))}function updateClassComponent(e,s,a,l,c){if(prepareToReadContext(s),null===s.stateNode){var u=br,p=a.contextType;"object"==typeof p&&null!==p&&(u=readContext(p)),u=new a(l,u),s.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,u.updater=An,s.stateNode=u,u._reactInternals=s,(u=s.stateNode).props=l,u.state=s.memoizedState,u.refs={},initializeUpdateQueue(s),p=a.contextType,u.context="object"==typeof p&&null!==p?readContext(p):br,u.state=s.memoizedState,"function"==typeof(p=a.getDerivedStateFromProps)&&(applyDerivedStateFromProps(s,a,p,l),u.state=s.memoizedState),"function"==typeof a.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||(p=u.state,"function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount(),p!==u.state&&An.enqueueReplaceState(u,u.state,null),processUpdateQueue(s,l,u,c),suspendIfUpdateReadFromEntangledAsyncAction(),u.state=s.memoizedState),"function"==typeof u.componentDidMount&&(s.flags|=4194308),l=!0}else if(null===e){u=s.stateNode;var m=s.memoizedProps,h=resolveClassComponentProps(a,m);u.props=h;var f=u.context,g=a.contextType;p=br,"object"==typeof g&&null!==g&&(p=readContext(g));var b=a.getDerivedStateFromProps;g="function"==typeof b||"function"==typeof u.getSnapshotBeforeUpdate,m=s.pendingProps!==m,g||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(m||f!==p)&&callComponentWillReceiveProps(s,u,l,p),an=!1;var j=s.memoizedState;u.state=j,processUpdateQueue(s,l,u,c),suspendIfUpdateReadFromEntangledAsyncAction(),f=s.memoizedState,m||j!==f||an?("function"==typeof b&&(applyDerivedStateFromProps(s,a,b,l),f=s.memoizedState),(h=an||checkShouldComponentUpdate(s,a,h,l,j,f,p))?(g||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(s.flags|=4194308)):("function"==typeof u.componentDidMount&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=f),u.props=l,u.state=f,u.context=p,l=h):("function"==typeof u.componentDidMount&&(s.flags|=4194308),l=!1)}else{u=s.stateNode,cloneUpdateQueue(e,s),g=resolveClassComponentProps(a,p=s.memoizedProps),u.props=g,b=s.pendingProps,j=u.context,f=a.contextType,h=br,"object"==typeof f&&null!==f&&(h=readContext(f)),(f="function"==typeof(m=a.getDerivedStateFromProps)||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(p!==b||j!==h)&&callComponentWillReceiveProps(s,u,l,h),an=!1,j=s.memoizedState,u.state=j,processUpdateQueue(s,l,u,c),suspendIfUpdateReadFromEntangledAsyncAction();var N=s.memoizedState;p!==b||j!==N||an||null!==e&&null!==e.dependencies&&checkIfContextChanged(e.dependencies)?("function"==typeof m&&(applyDerivedStateFromProps(s,a,m,l),N=s.memoizedState),(g=an||checkShouldComponentUpdate(s,a,g,l,j,N,h)||null!==e&&null!==e.dependencies&&checkIfContextChanged(e.dependencies))?(f||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(l,N,h),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(l,N,h)),"function"==typeof u.componentDidUpdate&&(s.flags|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(s.flags|=1024)):("function"!=typeof u.componentDidUpdate||p===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||p===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=N),u.props=l,u.state=N,u.context=h,l=g):("function"!=typeof u.componentDidUpdate||p===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||p===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),l=!1)}return u=l,markRef(e,s),l=!!(128&s.flags),u||l?(u=s.stateNode,a=l&&"function"!=typeof a.getDerivedStateFromError?null:u.render(),s.flags|=1,null!==e&&l?(s.child=nn(s,e.child,null,c),s.child=nn(s,null,a,c)):reconcileChildren(e,s,a,c),s.memoizedState=u.state,e=s.child):e=bailoutOnAlreadyFinishedWork(e,s,c),e}function mountHostRootWithoutHydrating(e,s,a,l){return resetHydrationState(),s.flags|=256,reconcileChildren(e,s,a,l),s.child}var Dn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mountSuspenseOffscreenState(e){return{baseLanes:e,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(e,s,a){return e=null!==e?e.childLanes&~a:0,s&&(e|=os),e}function updateSuspenseComponent(e,s,a){var l,c=s.pendingProps,u=!1,p=!!(128&s.flags);if((l=p)||(l=(null===e||null!==e.memoizedState)&&!!(2&fn.current)),l&&(u=!0,s.flags&=-129),l=!!(32&s.flags),s.flags&=-33,null===e){if(Lr){if(u?pushPrimaryTreeSuspenseHandler(s):reuseSuspenseHandlerOnStack(),(e=Mr)?null!==(e=null!==(e=canHydrateHydrationBoundary(e,Or))&&"&"!==e.data?e:null)&&(s.memoizedState={dehydrated:e,treeContext:null!==Pr?{id:Tr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},(a=createFiberFromDehydratedFragment(e)).return=s,s.child=a,Ar=s,Mr=null):e=null,null===e)throw throwOnHydrationMismatch(s);return isSuspenseInstanceFallback(e)?s.lanes=32:s.lanes=536870912,null}var m=c.children;return c=c.fallback,u?(reuseSuspenseHandlerOnStack(),m=mountWorkInProgressOffscreenFiber({mode:"hidden",children:m},u=s.mode),c=createFiberFromFragment(c,u,a,null),m.return=s,c.return=s,m.sibling=c,s.child=m,(c=s.child).memoizedState=mountSuspenseOffscreenState(a),c.childLanes=getRemainingWorkInPrimaryTree(e,l,a),s.memoizedState=Dn,bailoutOffscreenComponent(null,c)):(pushPrimaryTreeSuspenseHandler(s),mountSuspensePrimaryChildren(s,m))}var h=e.memoizedState;if(null!==h&&null!==(m=h.dehydrated)){if(p)256&s.flags?(pushPrimaryTreeSuspenseHandler(s),s.flags&=-257,s=retrySuspenseComponentWithoutHydrating(e,s,a)):null!==s.memoizedState?(reuseSuspenseHandlerOnStack(),s.child=e.child,s.flags|=128,s=null):(reuseSuspenseHandlerOnStack(),m=c.fallback,u=s.mode,c=mountWorkInProgressOffscreenFiber({mode:"visible",children:c.children},u),(m=createFiberFromFragment(m,u,a,null)).flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,nn(s,e.child,null,a),(c=s.child).memoizedState=mountSuspenseOffscreenState(a),c.childLanes=getRemainingWorkInPrimaryTree(e,l,a),s.memoizedState=Dn,s=bailoutOffscreenComponent(null,c));else if(pushPrimaryTreeSuspenseHandler(s),isSuspenseInstanceFallback(m)){if(l=m.nextSibling&&m.nextSibling.dataset)var f=l.dgst;l=f,(c=Error(formatProdErrorMessage(419))).stack="",c.digest=l,queueHydrationError({value:c,source:null,stack:null}),s=retrySuspenseComponentWithoutHydrating(e,s,a)}else if(Ln||propagateParentContextChanges(e,s,a,!1),l=0!==(a&e.childLanes),Ln||l){if(null!==(l=Zn)&&(0!==(c=getBumpedLaneForHydration(l,a))&&c!==h.retryLane))throw h.retryLane=c,enqueueConcurrentRenderForLane(e,c),scheduleUpdateOnFiber(l,e,c),Mn;isSuspenseInstancePending(m)||renderDidSuspendDelayIfPossible(),s=retrySuspenseComponentWithoutHydrating(e,s,a)}else isSuspenseInstancePending(m)?(s.flags|=192,s.child=e.child,s=null):(e=h.treeContext,Mr=getNextHydratable(m.nextSibling),Ar=s,Lr=!0,Dr=null,Or=!1,null!==e&&restoreSuspendedTreeContext(s,e),(s=mountSuspensePrimaryChildren(s,c.children)).flags|=4096);return s}return u?(reuseSuspenseHandlerOnStack(),m=c.fallback,u=s.mode,f=(h=e.child).sibling,(c=createWorkInProgress(h,{mode:"hidden",children:c.children})).subtreeFlags=65011712&h.subtreeFlags,null!==f?m=createWorkInProgress(f,m):(m=createFiberFromFragment(m,u,a,null)).flags|=2,m.return=s,c.return=s,c.sibling=m,s.child=c,bailoutOffscreenComponent(null,c),c=s.child,null===(m=e.child.memoizedState)?m=mountSuspenseOffscreenState(a):(null!==(u=m.cachePool)?(h=Ur._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=getSuspendedCache(),m={baseLanes:m.baseLanes|a,cachePool:u}),c.memoizedState=m,c.childLanes=getRemainingWorkInPrimaryTree(e,l,a),s.memoizedState=Dn,bailoutOffscreenComponent(e.child,c)):(pushPrimaryTreeSuspenseHandler(s),e=(a=e.child).sibling,(a=createWorkInProgress(a,{mode:"visible",children:c.children})).return=s,a.sibling=null,null!==e&&(null===(l=s.deletions)?(s.deletions=[e],s.flags|=16):l.push(e)),s.child=a,s.memoizedState=null,a)}function mountSuspensePrimaryChildren(e,s){return(s=mountWorkInProgressOffscreenFiber({mode:"visible",children:s},e.mode)).return=e,e.child=s}function mountWorkInProgressOffscreenFiber(e,s){return(e=createFiberImplClass(22,e,null,s)).lanes=0,e}function retrySuspenseComponentWithoutHydrating(e,s,a){return nn(s,e.child,null,a),(e=mountSuspensePrimaryChildren(s,s.pendingProps.children)).flags|=2,s.memoizedState=null,e}function scheduleSuspenseWorkOnFiber(e,s,a){e.lanes|=s;var l=e.alternate;null!==l&&(l.lanes|=s),scheduleContextWorkOnParentPath(e.return,s,a)}function initSuspenseListRenderState(e,s,a,l,c,u){var p=e.memoizedState;null===p?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:u}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=u)}function updateSuspenseListComponent(e,s,a){var l=s.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var p=fn.current,m=!!(2&p);if(m?(p=1&p|2,s.flags|=128):p&=1,push(fn,p),reconcileChildren(e,s,l,a),l=Lr?Cr:0,!m&&null!==e&&128&e.flags)e:for(e=s.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&scheduleSuspenseWorkOnFiber(e,a,s);else if(19===e.tag)scheduleSuspenseWorkOnFiber(e,a,s);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;null===e.sibling;){if(null===e.return||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=s.child,c=null;null!==a;)null!==(e=a.alternate)&&null===findFirstSuspended(e)&&(c=a),a=a.sibling;null===(a=c)?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),initSuspenseListRenderState(s,!1,c,a,u,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;null!==c;){if(null!==(e=c.alternate)&&null===findFirstSuspended(e)){s.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}initSuspenseListRenderState(s,!0,a,null,u,l);break;case"together":initSuspenseListRenderState(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function bailoutOnAlreadyFinishedWork(e,s,a){if(null!==e&&(s.dependencies=e.dependencies),ns|=s.lanes,0===(a&s.childLanes)){if(null===e)return null;if(propagateParentContextChanges(e,s,a,!1),0===(a&s.childLanes))return null}if(null!==e&&s.child!==e.child)throw Error(formatProdErrorMessage(153));if(null!==s.child){for(a=createWorkInProgress(e=s.child,e.pendingProps),s.child=a,a.return=s;null!==e.sibling;)e=e.sibling,(a=a.sibling=createWorkInProgress(e,e.pendingProps)).return=s;a.sibling=null}return s.child}function checkScheduledUpdateOrContext(e,s){return 0!==(e.lanes&s)||!(null===(e=e.dependencies)||!checkIfContextChanged(e))}function beginWork(e,s,a){if(null!==e)if(e.memoizedProps!==s.pendingProps)Ln=!0;else{if(!(checkScheduledUpdateOrContext(e,a)||128&s.flags))return Ln=!1,function attemptEarlyBailoutIfNoScheduledUpdate(e,s,a){switch(s.tag){case 3:pushHostContainer(s,s.stateNode.containerInfo),pushProvider(0,Ur,e.memoizedState.cache),resetHydrationState();break;case 27:case 5:pushHostContext(s);break;case 4:pushHostContainer(s,s.stateNode.containerInfo);break;case 10:pushProvider(0,s.type,s.memoizedProps.value);break;case 31:if(null!==s.memoizedState)return s.flags|=128,pushDehydratedActivitySuspenseHandler(s),null;break;case 13:var l=s.memoizedState;if(null!==l)return null!==l.dehydrated?(pushPrimaryTreeSuspenseHandler(s),s.flags|=128,null):0!==(a&s.child.childLanes)?updateSuspenseComponent(e,s,a):(pushPrimaryTreeSuspenseHandler(s),null!==(e=bailoutOnAlreadyFinishedWork(e,s,a))?e.sibling:null);pushPrimaryTreeSuspenseHandler(s);break;case 19:var c=!!(128&e.flags);if((l=0!==(a&s.childLanes))||(propagateParentContextChanges(e,s,a,!1),l=0!==(a&s.childLanes)),c){if(l)return updateSuspenseListComponent(e,s,a);s.flags|=128}if(null!==(c=s.memoizedState)&&(c.rendering=null,c.tail=null,c.lastEffect=null),push(fn,fn.current),l)break;return null;case 22:return s.lanes=0,updateOffscreenComponent(e,s,a,s.pendingProps);case 24:pushProvider(0,Ur,e.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(e,s,a)}(e,s,a);Ln=!!(131072&e.flags)}else Ln=!1,Lr&&1048576&s.flags&&pushTreeId(s,Cr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(e=resolveLazy(s.elementType),s.type=e,"function"!=typeof e){if(null!=e){var c=e.$$typeof;if(c===j){s.tag=11,s=updateForwardRef(null,s,e,l,a);break e}if(c===_){s.tag=14,s=updateMemoComponent(null,s,e,l,a);break e}}throw s=getComponentNameFromType(e)||e,Error(formatProdErrorMessage(306,s,""))}shouldConstruct(e)?(l=resolveClassComponentProps(e,l),s.tag=1,s=updateClassComponent(null,s,e,l,a)):(s.tag=0,s=updateFunctionComponent(null,s,e,l,a))}return s;case 0:return updateFunctionComponent(e,s,s.type,s.pendingProps,a);case 1:return updateClassComponent(e,s,l=s.type,c=resolveClassComponentProps(l,s.pendingProps),a);case 3:e:{if(pushHostContainer(s,s.stateNode.containerInfo),null===e)throw Error(formatProdErrorMessage(387));l=s.pendingProps;var u=s.memoizedState;c=u.element,cloneUpdateQueue(e,s),processUpdateQueue(s,l,null,a);var p=s.memoizedState;if(l=p.cache,pushProvider(0,Ur,l),l!==u.cache&&propagateContextChanges(s,[Ur],a,!0),suspendIfUpdateReadFromEntangledAsyncAction(),l=p.element,u.isDehydrated){if(u={element:l,isDehydrated:!1,cache:p.cache},s.updateQueue.baseState=u,s.memoizedState=u,256&s.flags){s=mountHostRootWithoutHydrating(e,s,l,a);break e}if(l!==c){queueHydrationError(c=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),s)),s=mountHostRootWithoutHydrating(e,s,l,a);break e}if(9===(e=s.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(Mr=getNextHydratable(e.firstChild),Ar=s,Lr=!0,Dr=null,Or=!0,a=sn(s,null,l,a),s.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(resetHydrationState(),l===c){s=bailoutOnAlreadyFinishedWork(e,s,a);break e}reconcileChildren(e,s,l,a)}s=s.child}return s;case 26:return markRef(e,s),null===e?(a=getResource(s.type,null,s.pendingProps,null))?s.memoizedState=a:Lr||(a=s.type,e=s.pendingProps,(l=getOwnerDocumentFromRootContainer(re.current).createElement(a))[Fe]=s,l[Be]=e,setInitialProperties(l,a,e),markNodeAsHoistable(l),s.stateNode=l):s.memoizedState=getResource(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return pushHostContext(s),null===e&&Lr&&(l=s.stateNode=resolveSingletonInstance(s.type,s.pendingProps,re.current),Ar=s,Or=!0,c=Mr,isSingletonScope(s.type)?(Ws=c,Mr=getNextHydratable(l.firstChild)):Mr=c),reconcileChildren(e,s,s.pendingProps.children,a),markRef(e,s),null===e&&(s.flags|=4194304),s.child;case 5:return null===e&&Lr&&((c=l=Mr)&&(null!==(l=function canHydrateInstance(e,s,a,l){for(;1===e.nodeType;){var c=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(l){if(!e[We])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(u=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(null==c.href||""===c.href?null:c.href)||e.getAttribute("crossorigin")!==(null==c.crossOrigin?null:c.crossOrigin)||e.getAttribute("title")!==(null==c.title?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((u=e.getAttribute("src"))!==(null==c.src?null:c.src)||e.getAttribute("type")!==(null==c.type?null:c.type)||e.getAttribute("crossorigin")!==(null==c.crossOrigin?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==s||"hidden"!==e.type)return e;var u=null==c.name?null:""+c.name;if("hidden"===c.type&&e.getAttribute("name")===u)return e}if(null===(e=getNextHydratable(e.nextSibling)))break}return null}(l,s.type,s.pendingProps,Or))?(s.stateNode=l,Ar=s,Mr=getNextHydratable(l.firstChild),Or=!1,c=!0):c=!1),c||throwOnHydrationMismatch(s)),pushHostContext(s),c=s.type,u=s.pendingProps,p=null!==e?e.memoizedProps:null,l=u.children,shouldSetTextContent(c,u)?l=null:null!==p&&shouldSetTextContent(c,p)&&(s.flags|=32),null!==s.memoizedState&&(c=renderWithHooks(e,s,TransitionAwareHostComponent,null,null,a),ea._currentValue=c),markRef(e,s),reconcileChildren(e,s,l,a),s.child;case 6:return null===e&&Lr&&((e=a=Mr)&&(null!==(a=function canHydrateTextInstance(e,s,a){if(""===s)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=getNextHydratable(e.nextSibling)))return null}return e}(a,s.pendingProps,Or))?(s.stateNode=a,Ar=s,Mr=null,e=!0):e=!1),e||throwOnHydrationMismatch(s)),null;case 13:return updateSuspenseComponent(e,s,a);case 4:return pushHostContainer(s,s.stateNode.containerInfo),l=s.pendingProps,null===e?s.child=nn(s,null,l,a):reconcileChildren(e,s,l,a),s.child;case 11:return updateForwardRef(e,s,s.type,s.pendingProps,a);case 7:return reconcileChildren(e,s,s.pendingProps,a),s.child;case 8:case 12:return reconcileChildren(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,pushProvider(0,s.type,l.value),reconcileChildren(e,s,l.children,a),s.child;case 9:return c=s.type._context,l=s.pendingProps.children,prepareToReadContext(s),l=l(c=readContext(c)),s.flags|=1,reconcileChildren(e,s,l,a),s.child;case 14:return updateMemoComponent(e,s,s.type,s.pendingProps,a);case 15:return updateSimpleMemoComponent(e,s,s.type,s.pendingProps,a);case 19:return updateSuspenseListComponent(e,s,a);case 31:return function updateActivityComponent(e,s,a){var l=s.pendingProps,c=!!(128&s.flags);if(s.flags&=-129,null===e){if(Lr){if("hidden"===l.mode)return e=mountActivityChildren(s,l),s.lanes=536870912,bailoutOffscreenComponent(null,e);if(pushDehydratedActivitySuspenseHandler(s),(e=Mr)?null!==(e=null!==(e=canHydrateHydrationBoundary(e,Or))&&"&"===e.data?e:null)&&(s.memoizedState={dehydrated:e,treeContext:null!==Pr?{id:Tr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},(a=createFiberFromDehydratedFragment(e)).return=s,s.child=a,Ar=s,Mr=null):e=null,null===e)throw throwOnHydrationMismatch(s);return s.lanes=536870912,null}return mountActivityChildren(s,l)}var u=e.memoizedState;if(null!==u){var p=u.dehydrated;if(pushDehydratedActivitySuspenseHandler(s),c)if(256&s.flags)s.flags&=-257,s=retryActivityComponentWithoutHydrating(e,s,a);else{if(null===s.memoizedState)throw Error(formatProdErrorMessage(558));s.child=e.child,s.flags|=128,s=null}else if(Ln||propagateParentContextChanges(e,s,a,!1),c=0!==(a&e.childLanes),Ln||c){if(null!==(l=Zn)&&0!==(p=getBumpedLaneForHydration(l,a))&&p!==u.retryLane)throw u.retryLane=p,enqueueConcurrentRenderForLane(e,p),scheduleUpdateOnFiber(l,e,p),Mn;renderDidSuspendDelayIfPossible(),s=retryActivityComponentWithoutHydrating(e,s,a)}else e=u.treeContext,Mr=getNextHydratable(p.nextSibling),Ar=s,Lr=!0,Dr=null,Or=!1,null!==e&&restoreSuspendedTreeContext(s,e),(s=mountActivityChildren(s,l)).flags|=4096;return s}return(e=createWorkInProgress(e.child,{mode:l.mode,children:l.children})).ref=s.ref,s.child=e,e.return=s,e}(e,s,a);case 22:return updateOffscreenComponent(e,s,a,s.pendingProps);case 24:return prepareToReadContext(s),l=readContext(Ur),null===e?(null===(c=peekCacheFromPool())&&(c=Zn,u=createCache(),c.pooledCache=u,u.refCount++,null!==u&&(c.pooledCacheLanes|=a),c=u),s.memoizedState={parent:l,cache:c},initializeUpdateQueue(s),pushProvider(0,Ur,c)):(0!==(e.lanes&a)&&(cloneUpdateQueue(e,s),processUpdateQueue(s,null,null,a),suspendIfUpdateReadFromEntangledAsyncAction()),c=e.memoizedState,u=s.memoizedState,c.parent!==l?(c={parent:l,cache:l},s.memoizedState=c,0===s.lanes&&(s.memoizedState=s.updateQueue.baseState=c),pushProvider(0,Ur,l)):(l=u.cache,pushProvider(0,Ur,l),l!==c.cache&&propagateContextChanges(s,[Ur],a,!0))),reconcileChildren(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(formatProdErrorMessage(156,s.tag))}function markUpdate(e){e.flags|=4}function preloadInstanceAndSuspendIfNeeded(e,s,a,l,c){if((s=!!(32&e.mode))&&(s=!1),s){if(e.flags|=16777216,(335544128&c)===c)if(e.stateNode.complete)e.flags|=8192;else{if(!shouldRemainOnPreviousScreen())throw en=Jr,Qr;e.flags|=8192}}else e.flags&=-16777217}function preloadResourceAndSuspendIfNeeded(e,s){if("stylesheet"!==s.type||4&s.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!preloadResource(s)){if(!shouldRemainOnPreviousScreen())throw en=Jr,Qr;e.flags|=8192}}function scheduleRetryEffect(e,s){null!==s&&(e.flags|=4),16384&e.flags&&(s=22!==e.tag?claimNextRetryLane():536870912,e.lanes|=s,ls|=s)}function cutOffTailIfNeeded(e,s){if(!Lr)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;null!==a;)null!==a.alternate&&(l=a),a=a.sibling;null===l?s||null===e.tail?e.tail=null:e.tail.sibling=null:l.sibling=null}}function bubbleProperties(e){var s=null!==e.alternate&&e.alternate.child===e.child,a=0,l=0;if(s)for(var c=e.child;null!==c;)a|=c.lanes|c.childLanes,l|=65011712&c.subtreeFlags,l|=65011712&c.flags,c.return=e,c=c.sibling;else for(c=e.child;null!==c;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function completeWork(e,s,a){var l=s.pendingProps;switch(popTreeContext(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return bubbleProperties(s),null;case 3:return a=s.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),popProvider(Ur),popHostContainer(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(popHydrationState(s)?markUpdate(s):null===e||e.memoizedState.isDehydrated&&!(256&s.flags)||(s.flags|=1024,upgradeHydrationErrorsToRecoverable())),bubbleProperties(s),null;case 26:var c=s.type,u=s.memoizedState;return null===e?(markUpdate(s),null!==u?(bubbleProperties(s),preloadResourceAndSuspendIfNeeded(s,u)):(bubbleProperties(s),preloadInstanceAndSuspendIfNeeded(s,c,0,0,a))):u?u!==e.memoizedState?(markUpdate(s),bubbleProperties(s),preloadResourceAndSuspendIfNeeded(s,u)):(bubbleProperties(s),s.flags&=-16777217):((e=e.memoizedProps)!==l&&markUpdate(s),bubbleProperties(s),preloadInstanceAndSuspendIfNeeded(s,c,0,0,a)),null;case 27:if(popHostContext(s),a=re.current,c=s.type,null!==e&&null!=s.stateNode)e.memoizedProps!==l&&markUpdate(s);else{if(!l){if(null===s.stateNode)throw Error(formatProdErrorMessage(166));return bubbleProperties(s),null}e=X.current,popHydrationState(s)?prepareToHydrateHostInstance(s):(e=resolveSingletonInstance(c,l,a),s.stateNode=e,markUpdate(s))}return bubbleProperties(s),null;case 5:if(popHostContext(s),c=s.type,null!==e&&null!=s.stateNode)e.memoizedProps!==l&&markUpdate(s);else{if(!l){if(null===s.stateNode)throw Error(formatProdErrorMessage(166));return bubbleProperties(s),null}if(u=X.current,popHydrationState(s))prepareToHydrateHostInstance(s);else{var p=getOwnerDocumentFromRootContainer(re.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":(u=p.createElement("div")).innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u="string"==typeof l.is?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u="string"==typeof l.is?p.createElement(c,{is:l.is}):p.createElement(c)}}u[Fe]=s,u[Be]=l;e:for(p=s.child;null!==p;){if(5===p.tag||6===p.tag)u.appendChild(p.stateNode);else if(4!==p.tag&&27!==p.tag&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;null===p.sibling;){if(null===p.return||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=u;e:switch(setInitialProperties(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&markUpdate(s)}}return bubbleProperties(s),preloadInstanceAndSuspendIfNeeded(s,s.type,null===e||e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&null!=s.stateNode)e.memoizedProps!==l&&markUpdate(s);else{if("string"!=typeof l&&null===s.stateNode)throw Error(formatProdErrorMessage(166));if(e=re.current,popHydrationState(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,null!==(c=Ar))switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Fe]=s,(e=!!(e.nodeValue===a||null!==l&&!0===l.suppressHydrationWarning||checkForUnmatchedText(e.nodeValue,a)))||throwOnHydrationMismatch(s,!0)}else(e=getOwnerDocumentFromRootContainer(e).createTextNode(l))[Fe]=s,s.stateNode=e}return bubbleProperties(s),null;case 31:if(a=s.memoizedState,null===e||null!==e.memoizedState){if(l=popHydrationState(s),null!==a){if(null===e){if(!l)throw Error(formatProdErrorMessage(318));if(!(e=null!==(e=s.memoizedState)?e.dehydrated:null))throw Error(formatProdErrorMessage(557));e[Fe]=s}else resetHydrationState(),!(128&s.flags)&&(s.memoizedState=null),s.flags|=4;bubbleProperties(s),e=!1}else a=upgradeHydrationErrorsToRecoverable(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return 256&s.flags?(popSuspenseHandler(s),s):(popSuspenseHandler(s),null);if(128&s.flags)throw Error(formatProdErrorMessage(558))}return bubbleProperties(s),null;case 13:if(l=s.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(c=popHydrationState(s),null!==l&&null!==l.dehydrated){if(null===e){if(!c)throw Error(formatProdErrorMessage(318));if(!(c=null!==(c=s.memoizedState)?c.dehydrated:null))throw Error(formatProdErrorMessage(317));c[Fe]=s}else resetHydrationState(),!(128&s.flags)&&(s.memoizedState=null),s.flags|=4;bubbleProperties(s),c=!1}else c=upgradeHydrationErrorsToRecoverable(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return 256&s.flags?(popSuspenseHandler(s),s):(popSuspenseHandler(s),null)}return popSuspenseHandler(s),128&s.flags?(s.lanes=a,s):(a=null!==l,e=null!==e&&null!==e.memoizedState,a&&(c=null,null!==(l=s.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(c=l.alternate.memoizedState.cachePool.pool),u=null,null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),scheduleRetryEffect(s,s.updateQueue),bubbleProperties(s),null);case 4:return popHostContainer(),null===e&&listenToAllSupportedEvents(s.stateNode.containerInfo),bubbleProperties(s),null;case 10:return popProvider(s.type),bubbleProperties(s),null;case 19:if(pop(fn),null===(l=s.memoizedState))return bubbleProperties(s),null;if(c=!!(128&s.flags),null===(u=l.rendering))if(c)cutOffTailIfNeeded(l,!1);else{if(0!==rs||null!==e&&128&e.flags)for(e=s.child;null!==e;){if(null!==(u=findFirstSuspended(e))){for(s.flags|=128,cutOffTailIfNeeded(l,!1),e=u.updateQueue,s.updateQueue=e,scheduleRetryEffect(s,e),s.subtreeFlags=0,e=a,a=s.child;null!==a;)resetWorkInProgress(a,e),a=a.sibling;return push(fn,1&fn.current|2),Lr&&pushTreeFork(s,l.treeForkCount),s.child}e=e.sibling}null!==l.tail&&fe()>hs&&(s.flags|=128,c=!0,cutOffTailIfNeeded(l,!1),s.lanes=4194304)}else{if(!c)if(null!==(e=findFirstSuspended(u))){if(s.flags|=128,c=!0,e=e.updateQueue,s.updateQueue=e,scheduleRetryEffect(s,e),cutOffTailIfNeeded(l,!0),null===l.tail&&"hidden"===l.tailMode&&!u.alternate&&!Lr)return bubbleProperties(s),null}else 2*fe()-l.renderingStartTime>hs&&536870912!==a&&(s.flags|=128,c=!0,cutOffTailIfNeeded(l,!1),s.lanes=4194304);l.isBackwards?(u.sibling=s.child,s.child=u):(null!==(e=l.last)?e.sibling=u:s.child=u,l.last=u)}return null!==l.tail?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=fe(),e.sibling=null,a=fn.current,push(fn,c?1&a|2:1&a),Lr&&pushTreeFork(s,l.treeForkCount),e):(bubbleProperties(s),null);case 22:case 23:return popSuspenseHandler(s),popHiddenContext(),l=null!==s.memoizedState,null!==e?null!==e.memoizedState!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?!!(536870912&a)&&!(128&s.flags)&&(bubbleProperties(s),6&s.subtreeFlags&&(s.flags|=8192)):bubbleProperties(s),null!==(a=s.updateQueue)&&scheduleRetryEffect(s,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),l=null,null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),null!==e&&pop(Gr),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),popProvider(Ur),bubbleProperties(s),null;case 25:case 30:return null}throw Error(formatProdErrorMessage(156,s.tag))}function unwindWork(e,s){switch(popTreeContext(s),s.tag){case 1:return 65536&(e=s.flags)?(s.flags=-65537&e|128,s):null;case 3:return popProvider(Ur),popHostContainer(),65536&(e=s.flags)&&!(128&e)?(s.flags=-65537&e|128,s):null;case 26:case 27:case 5:return popHostContext(s),null;case 31:if(null!==s.memoizedState){if(popSuspenseHandler(s),null===s.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}return 65536&(e=s.flags)?(s.flags=-65537&e|128,s):null;case 13:if(popSuspenseHandler(s),null!==(e=s.memoizedState)&&null!==e.dehydrated){if(null===s.alternate)throw Error(formatProdErrorMessage(340));resetHydrationState()}return 65536&(e=s.flags)?(s.flags=-65537&e|128,s):null;case 19:return pop(fn),null;case 4:return popHostContainer(),null;case 10:return popProvider(s.type),null;case 22:case 23:return popSuspenseHandler(s),popHiddenContext(),null!==e&&pop(Gr),65536&(e=s.flags)?(s.flags=-65537&e|128,s):null;case 24:return popProvider(Ur),null;default:return null}}function unwindInterruptedWork(e,s){switch(popTreeContext(s),s.tag){case 3:popProvider(Ur),popHostContainer();break;case 26:case 27:case 5:popHostContext(s);break;case 4:popHostContainer();break;case 31:null!==s.memoizedState&&popSuspenseHandler(s);break;case 13:popSuspenseHandler(s);break;case 19:pop(fn);break;case 10:popProvider(s.type);break;case 22:case 23:popSuspenseHandler(s),popHiddenContext(),null!==e&&pop(Gr);break;case 24:popProvider(Ur)}}function commitHookEffectListMount(e,s){try{var a=s.updateQueue,l=null!==a?a.lastEffect:null;if(null!==l){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var u=a.create,p=a.inst;l=u(),p.destroy=l}a=a.next}while(a!==c)}}catch(m){captureCommitPhaseError(s,s.return,m)}}function commitHookEffectListUnmount(e,s,a){try{var l=s.updateQueue,c=null!==l?l.lastEffect:null;if(null!==c){var u=c.next;l=u;do{if((l.tag&e)===e){var p=l.inst,m=p.destroy;if(void 0!==m){p.destroy=void 0,c=s;var h=a,f=m;try{f()}catch(g){captureCommitPhaseError(c,h,g)}}}l=l.next}while(l!==u)}}catch(g){captureCommitPhaseError(s,s.return,g)}}function commitClassCallbacks(e){var s=e.updateQueue;if(null!==s){var a=e.stateNode;try{commitCallbacks(s,a)}catch(l){captureCommitPhaseError(e,e.return,l)}}}function safelyCallComponentWillUnmount(e,s,a){a.props=resolveClassComponentProps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){captureCommitPhaseError(e,s,l)}}function safelyAttachRef(e,s){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;default:l=e.stateNode}"function"==typeof a?e.refCleanup=a(l):a.current=l}}catch(c){captureCommitPhaseError(e,s,c)}}function safelyDetachRef(e,s){var a=e.ref,l=e.refCleanup;if(null!==a)if("function"==typeof l)try{l()}catch(c){captureCommitPhaseError(e,s,c)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof a)try{a(null)}catch(u){captureCommitPhaseError(e,s,u)}else a.current=null}function commitHostMount(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){captureCommitPhaseError(e,e.return,c)}}function commitHostUpdate(e,s,a){try{var l=e.stateNode;!function updateProperties(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,m=null,h=null,f=null,g=null;for(N in a){var b=a[N];if(a.hasOwnProperty(N)&&null!=b)switch(N){case"checked":case"value":break;case"defaultValue":h=b;default:l.hasOwnProperty(N)||setProp(e,s,N,null,l,b)}}for(var j in l){var N=l[j];if(b=a[j],l.hasOwnProperty(j)&&(null!=N||null!=b))switch(j){case"type":u=N;break;case"name":c=N;break;case"checked":f=N;break;case"defaultChecked":g=N;break;case"value":p=N;break;case"defaultValue":m=N;break;case"children":case"dangerouslySetInnerHTML":if(null!=N)throw Error(formatProdErrorMessage(137,s));break;default:N!==b&&setProp(e,s,j,N,l,b)}}return void updateInput(e,p,m,h,f,g,u,c);case"select":for(u in N=p=m=j=null,a)if(h=a[u],a.hasOwnProperty(u)&&null!=h)switch(u){case"value":break;case"multiple":N=h;default:l.hasOwnProperty(u)||setProp(e,s,u,null,l,h)}for(c in l)if(u=l[c],h=a[c],l.hasOwnProperty(c)&&(null!=u||null!=h))switch(c){case"value":j=u;break;case"defaultValue":m=u;break;case"multiple":p=u;default:u!==h&&setProp(e,s,c,u,l,h)}return s=m,a=p,l=N,void(null!=j?updateOptions(e,!!a,j,!1):!!l!=!!a&&(null!=s?updateOptions(e,!!a,s,!0):updateOptions(e,!!a,a?[]:"",!1)));case"textarea":for(m in N=j=null,a)if(c=a[m],a.hasOwnProperty(m)&&null!=c&&!l.hasOwnProperty(m))switch(m){case"value":case"children":break;default:setProp(e,s,m,null,l,c)}for(p in l)if(c=l[p],u=a[p],l.hasOwnProperty(p)&&(null!=c||null!=u))switch(p){case"value":j=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(formatProdErrorMessage(91));break;default:c!==u&&setProp(e,s,p,c,l,u)}return void updateTextarea(e,j,N);case"option":for(var k in a)if(j=a[k],a.hasOwnProperty(k)&&null!=j&&!l.hasOwnProperty(k))if("selected"===k)e.selected=!1;else setProp(e,s,k,null,l,j);for(h in l)if(j=l[h],N=a[h],l.hasOwnProperty(h)&&j!==N&&(null!=j||null!=N))if("selected"===h)e.selected=j&&"function"!=typeof j&&"symbol"!=typeof j;else setProp(e,s,h,j,l,N);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)j=a[_],a.hasOwnProperty(_)&&null!=j&&!l.hasOwnProperty(_)&&setProp(e,s,_,null,l,j);for(f in l)if(j=l[f],N=a[f],l.hasOwnProperty(f)&&j!==N&&(null!=j||null!=N))switch(f){case"children":case"dangerouslySetInnerHTML":if(null!=j)throw Error(formatProdErrorMessage(137,s));break;default:setProp(e,s,f,j,l,N)}return;default:if(isCustomElement(s)){for(var T in a)j=a[T],a.hasOwnProperty(T)&&void 0!==j&&!l.hasOwnProperty(T)&&setPropOnCustomElement(e,s,T,void 0,l,j);for(g in l)j=l[g],N=a[g],!l.hasOwnProperty(g)||j===N||void 0===j&&void 0===N||setPropOnCustomElement(e,s,g,j,l,N);return}}for(var E in a)j=a[E],a.hasOwnProperty(E)&&null!=j&&!l.hasOwnProperty(E)&&setProp(e,s,E,null,l,j);for(b in l)j=l[b],N=a[b],!l.hasOwnProperty(b)||j===N||null==j&&null==N||setProp(e,s,b,j,l,N)}(l,e.type,a,s),l[Be]=s}catch(c){captureCommitPhaseError(e,e.return,c)}}function isHostParent(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&isSingletonScope(e.type)||4===e.tag}function getHostSibling(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||isHostParent(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&isSingletonScope(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function insertOrAppendPlacementNodeIntoContainer(e,s,a){var l=e.tag;if(5===l||6===l)e=e.stateNode,s?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,s):((s=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!=(a=a._reactRootContainer)||null!==s.onclick||(s.onclick=noop$12));else if(4!==l&&(27===l&&isSingletonScope(e.type)&&(a=e.stateNode,s=null),null!==(e=e.child)))for(insertOrAppendPlacementNodeIntoContainer(e,s,a),e=e.sibling;null!==e;)insertOrAppendPlacementNodeIntoContainer(e,s,a),e=e.sibling}function insertOrAppendPlacementNode(e,s,a){var l=e.tag;if(5===l||6===l)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(4!==l&&(27===l&&isSingletonScope(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(insertOrAppendPlacementNode(e,s,a),e=e.sibling;null!==e;)insertOrAppendPlacementNode(e,s,a),e=e.sibling}function commitHostSingletonAcquisition(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);setInitialProperties(s,l,a),s[Fe]=e,s[Be]=a}catch(u){captureCommitPhaseError(e,e.return,u)}}var On=!1,In=!1,$n=!1,Rn="function"==typeof WeakSet?WeakSet:Set,Fn=null;function commitLayoutEffectOnFiber(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(e,a),4&l&&commitHookEffectListMount(5,a);break;case 1:if(recursivelyTraverseLayoutEffects(e,a),4&l)if(e=a.stateNode,null===s)try{e.componentDidMount()}catch(p){captureCommitPhaseError(a,a.return,p)}else{var c=resolveClassComponentProps(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(c,s,e.__reactInternalSnapshotBeforeUpdate)}catch(m){captureCommitPhaseError(a,a.return,m)}}64&l&&commitClassCallbacks(a),512&l&&safelyAttachRef(a,a.return);break;case 3:if(recursivelyTraverseLayoutEffects(e,a),64&l&&null!==(e=a.updateQueue)){if(s=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:s=a.child.stateNode}try{commitCallbacks(e,s)}catch(p){captureCommitPhaseError(a,a.return,p)}}break;case 27:null===s&&4&l&&commitHostSingletonAcquisition(a);case 26:case 5:recursivelyTraverseLayoutEffects(e,a),null===s&&4&l&&commitHostMount(a),512&l&&safelyAttachRef(a,a.return);break;case 12:recursivelyTraverseLayoutEffects(e,a);break;case 31:recursivelyTraverseLayoutEffects(e,a),4&l&&commitActivityHydrationCallbacks(e,a);break;case 13:recursivelyTraverseLayoutEffects(e,a),4&l&&commitSuspenseHydrationCallbacks(e,a),64&l&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function registerSuspenseInstanceRetry(e,s){var a=e.ownerDocument;if("$~"===e.data)e._reactRetry=s;else if("$?"!==e.data||"loading"!==a.readyState)s();else{var listener=function(){s(),a.removeEventListener("DOMContentLoaded",listener)};a.addEventListener("DOMContentLoaded",listener),e._reactRetry=listener}}(e,a=retryDehydratedSuspenseBoundary.bind(null,a))));break;case 22:if(!(l=null!==a.memoizedState||On)){s=null!==s&&null!==s.memoizedState||In,c=On;var u=In;On=l,(In=s)&&!u?recursivelyTraverseReappearLayoutEffects(e,a,!!(8772&a.subtreeFlags)):recursivelyTraverseLayoutEffects(e,a),On=c,In=u}break;case 30:break;default:recursivelyTraverseLayoutEffects(e,a)}}function detachFiberAfterEffects(e){var s=e.alternate;null!==s&&(e.alternate=null,detachFiberAfterEffects(s)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(s=e.stateNode)&&detachDeletedInstance(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bn=null,zn=!1;function recursivelyTraverseDeletionEffects(e,s,a){for(a=a.child;null!==a;)commitDeletionEffectsOnFiber(e,s,a),a=a.sibling}function commitDeletionEffectsOnFiber(e,s,a){if(Pe&&"function"==typeof Pe.onCommitFiberUnmount)try{Pe.onCommitFiberUnmount(_e,a)}catch(u){}switch(a.tag){case 26:In||safelyDetachRef(a,s),recursivelyTraverseDeletionEffects(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:In||safelyDetachRef(a,s);var l=Bn,c=zn;isSingletonScope(a.type)&&(Bn=a.stateNode,zn=!1),recursivelyTraverseDeletionEffects(e,s,a),releaseSingletonInstance(a.stateNode),Bn=l,zn=c;break;case 5:In||safelyDetachRef(a,s);case 6:if(l=Bn,c=zn,Bn=null,recursivelyTraverseDeletionEffects(e,s,a),zn=c,null!==(Bn=l))if(zn)try{(9===Bn.nodeType?Bn.body:"HTML"===Bn.nodeName?Bn.ownerDocument.body:Bn).removeChild(a.stateNode)}catch(p){captureCommitPhaseError(a,s,p)}else try{Bn.removeChild(a.stateNode)}catch(p){captureCommitPhaseError(a,s,p)}break;case 18:null!==Bn&&(zn?(clearHydrationBoundary(9===(e=Bn).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),retryIfBlockedOn(e)):clearHydrationBoundary(Bn,a.stateNode));break;case 4:l=Bn,c=zn,Bn=a.stateNode.containerInfo,zn=!0,recursivelyTraverseDeletionEffects(e,s,a),Bn=l,zn=c;break;case 0:case 11:case 14:case 15:commitHookEffectListUnmount(2,a,s),In||commitHookEffectListUnmount(4,a,s),recursivelyTraverseDeletionEffects(e,s,a);break;case 1:In||(safelyDetachRef(a,s),"function"==typeof(l=a.stateNode).componentWillUnmount&&safelyCallComponentWillUnmount(a,s,l)),recursivelyTraverseDeletionEffects(e,s,a);break;case 21:recursivelyTraverseDeletionEffects(e,s,a);break;case 22:In=(l=In)||null!==a.memoizedState,recursivelyTraverseDeletionEffects(e,s,a),In=l;break;default:recursivelyTraverseDeletionEffects(e,s,a)}}function commitActivityHydrationCallbacks(e,s){if(null===s.memoizedState&&(null!==(e=s.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{retryIfBlockedOn(e)}catch(a){captureCommitPhaseError(s,s.return,a)}}}function commitSuspenseHydrationCallbacks(e,s){if(null===s.memoizedState&&(null!==(e=s.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{retryIfBlockedOn(e)}catch(a){captureCommitPhaseError(s,s.return,a)}}function attachSuspenseRetryListeners(e,s){var a=function getRetryCache(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return null===s&&(s=e.stateNode=new Rn),s;case 22:return null===(s=(e=e.stateNode)._retryCache)&&(s=e._retryCache=new Rn),s;default:throw Error(formatProdErrorMessage(435,e.tag))}}(e);s.forEach(function(s){if(!a.has(s)){a.add(s);var l=resolveRetryWakeable.bind(null,e,s);s.then(l,l)}})}function recursivelyTraverseMutationEffects(e,s){var a=s.deletions;if(null!==a)for(var l=0;l<a.length;l++){var c=a[l],u=e,p=s,m=p;e:for(;null!==m;){switch(m.tag){case 27:if(isSingletonScope(m.type)){Bn=m.stateNode,zn=!1;break e}break;case 5:Bn=m.stateNode,zn=!1;break e;case 3:case 4:Bn=m.stateNode.containerInfo,zn=!0;break e}m=m.return}if(null===Bn)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(u,p,c),Bn=null,zn=!1,null!==(u=c.alternate)&&(u.return=null),c.return=null}if(13886&s.subtreeFlags)for(s=s.child;null!==s;)commitMutationEffectsOnFiber(s,e),s=s.sibling}var Vn=null;function commitMutationEffectsOnFiber(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),4&l&&(commitHookEffectListUnmount(3,e,e.return),commitHookEffectListMount(3,e),commitHookEffectListUnmount(5,e,e.return));break;case 1:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),512&l&&(In||null===a||safelyDetachRef(a,a.return)),64&l&&On&&(null!==(e=e.updateQueue)&&(null!==(l=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?l:a.concat(l))));break;case 26:var c=Vn;if(recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),512&l&&(In||null===a||safelyDetachRef(a,a.return)),4&l){var u=null!==a?a.memoizedState:null;if(l=e.memoizedState,null===a)if(null===l)if(null===e.stateNode){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":(!(u=c.getElementsByTagName("title")[0])||u[We]||u[Fe]||"http://www.w3.org/2000/svg"===u.namespaceURI||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),setInitialProperties(u,l,a),u[Fe]=e,markNodeAsHoistable(u),l=u;break e;case"link":var p=getHydratableHoistableCache("link","href",c).get(l+(a.href||""));if(p)for(var m=0;m<p.length;m++)if((u=p[m]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&u.getAttribute("rel")===(null==a.rel?null:a.rel)&&u.getAttribute("title")===(null==a.title?null:a.title)&&u.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){p.splice(m,1);break t}setInitialProperties(u=c.createElement(l),l,a),c.head.appendChild(u);break;case"meta":if(p=getHydratableHoistableCache("meta","content",c).get(l+(a.content||"")))for(m=0;m<p.length;m++)if((u=p[m]).getAttribute("content")===(null==a.content?null:""+a.content)&&u.getAttribute("name")===(null==a.name?null:a.name)&&u.getAttribute("property")===(null==a.property?null:a.property)&&u.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&u.getAttribute("charset")===(null==a.charSet?null:a.charSet)){p.splice(m,1);break t}setInitialProperties(u=c.createElement(l),l,a),c.head.appendChild(u);break;default:throw Error(formatProdErrorMessage(468,l))}u[Fe]=e,markNodeAsHoistable(u),l=u}e.stateNode=l}else mountHoistable(c,e.type,e.stateNode);else e.stateNode=acquireResource(c,l,e.memoizedProps);else u!==l?(null===u?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):u.count--,null===l?mountHoistable(c,e.type,e.stateNode):acquireResource(c,l,e.memoizedProps)):null===l&&null!==e.stateNode&&commitHostUpdate(e,e.memoizedProps,a.memoizedProps)}break;case 27:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),512&l&&(In||null===a||safelyDetachRef(a,a.return)),null!==a&&4&l&&commitHostUpdate(e,e.memoizedProps,a.memoizedProps);break;case 5:if(recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),512&l&&(In||null===a||safelyDetachRef(a,a.return)),32&e.flags){c=e.stateNode;try{setTextContent(c,"")}catch(k){captureCommitPhaseError(e,e.return,k)}}4&l&&null!=e.stateNode&&commitHostUpdate(e,c=e.memoizedProps,null!==a?a.memoizedProps:c),1024&l&&($n=!0);break;case 6:if(recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),4&l){if(null===e.stateNode)throw Error(formatProdErrorMessage(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(k){captureCommitPhaseError(e,e.return,k)}}break;case 3:if(Qs=null,c=Vn,Vn=getHoistableRoot(s.containerInfo),recursivelyTraverseMutationEffects(s,e),Vn=c,commitReconciliationEffects(e),4&l&&null!==a&&a.memoizedState.isDehydrated)try{retryIfBlockedOn(s.containerInfo)}catch(k){captureCommitPhaseError(e,e.return,k)}$n&&($n=!1,recursivelyResetForms(e));break;case 4:l=Vn,Vn=getHoistableRoot(e.stateNode.containerInfo),recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),Vn=l;break;case 12:default:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e);break;case 31:case 19:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,attachSuspenseRetryListeners(e,l)));break;case 13:recursivelyTraverseMutationEffects(s,e),commitReconciliationEffects(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==a&&null!==a.memoizedState)&&(ps=fe()),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,attachSuspenseRetryListeners(e,l)));break;case 22:c=null!==e.memoizedState;var h=null!==a&&null!==a.memoizedState,f=On,g=In;if(On=f||c,In=g||h,recursivelyTraverseMutationEffects(s,e),In=g,On=f,commitReconciliationEffects(e),8192&l)e:for(s=e.stateNode,s._visibility=c?-2&s._visibility:1|s._visibility,c&&(null===a||h||On||In||recursivelyTraverseDisappearLayoutEffects(e)),a=null,s=e;;){if(5===s.tag||26===s.tag){if(null===a){h=a=s;try{if(u=h.stateNode,c)"function"==typeof(p=u.style).setProperty?p.setProperty("display","none","important"):p.display="none";else{m=h.stateNode;var b=h.memoizedProps.style,j=null!=b&&b.hasOwnProperty("display")?b.display:null;m.style.display=null==j||"boolean"==typeof j?"":(""+j).trim()}}catch(k){captureCommitPhaseError(h,h.return,k)}}}else if(6===s.tag){if(null===a){h=s;try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){captureCommitPhaseError(h,h.return,k)}}}else if(18===s.tag){if(null===a){h=s;try{var N=h.stateNode;c?hideOrUnhideDehydratedBoundary(N,!0):hideOrUnhideDehydratedBoundary(h.stateNode,!1)}catch(k){captureCommitPhaseError(h,h.return,k)}}}else if((22!==s.tag&&23!==s.tag||null===s.memoizedState||s===e)&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;null===s.sibling;){if(null===s.return||s.return===e)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}4&l&&(null!==(l=e.updateQueue)&&(null!==(a=l.retryQueue)&&(l.retryQueue=null,attachSuspenseRetryListeners(e,a))));case 30:case 21:}}function commitReconciliationEffects(e){var s=e.flags;if(2&s){try{for(var a,l=e.return;null!==l;){if(isHostParent(l)){a=l;break}l=l.return}if(null==a)throw Error(formatProdErrorMessage(160));switch(a.tag){case 27:var c=a.stateNode;insertOrAppendPlacementNode(e,getHostSibling(e),c);break;case 5:var u=a.stateNode;32&a.flags&&(setTextContent(u,""),a.flags&=-33),insertOrAppendPlacementNode(e,getHostSibling(e),u);break;case 3:case 4:var p=a.stateNode.containerInfo;insertOrAppendPlacementNodeIntoContainer(e,getHostSibling(e),p);break;default:throw Error(formatProdErrorMessage(161))}}catch(m){captureCommitPhaseError(e,e.return,m)}e.flags&=-3}4096&s&&(e.flags&=-4097)}function recursivelyResetForms(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var s=e;recursivelyResetForms(s),5===s.tag&&1024&s.flags&&s.stateNode.reset(),e=e.sibling}}function recursivelyTraverseLayoutEffects(e,s){if(8772&s.subtreeFlags)for(s=s.child;null!==s;)commitLayoutEffectOnFiber(e,s.alternate,s),s=s.sibling}function recursivelyTraverseDisappearLayoutEffects(e){for(e=e.child;null!==e;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,s,s.return),recursivelyTraverseDisappearLayoutEffects(s);break;case 1:safelyDetachRef(s,s.return);var a=s.stateNode;"function"==typeof a.componentWillUnmount&&safelyCallComponentWillUnmount(s,s.return,a),recursivelyTraverseDisappearLayoutEffects(s);break;case 27:releaseSingletonInstance(s.stateNode);case 26:case 5:safelyDetachRef(s,s.return),recursivelyTraverseDisappearLayoutEffects(s);break;case 22:null===s.memoizedState&&recursivelyTraverseDisappearLayoutEffects(s);break;default:recursivelyTraverseDisappearLayoutEffects(s)}e=e.sibling}}function recursivelyTraverseReappearLayoutEffects(e,s,a){for(a=a&&!!(8772&s.subtreeFlags),s=s.child;null!==s;){var l=s.alternate,c=e,u=s,p=u.flags;switch(u.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(c,u,a),commitHookEffectListMount(4,u);break;case 1:if(recursivelyTraverseReappearLayoutEffects(c,u,a),"function"==typeof(c=(l=u).stateNode).componentDidMount)try{c.componentDidMount()}catch(f){captureCommitPhaseError(l,l.return,f)}if(null!==(c=(l=u).updateQueue)){var m=l.stateNode;try{var h=c.shared.hiddenCallbacks;if(null!==h)for(c.shared.hiddenCallbacks=null,c=0;c<h.length;c++)callCallback(h[c],m)}catch(f){captureCommitPhaseError(l,l.return,f)}}a&&64&p&&commitClassCallbacks(u),safelyAttachRef(u,u.return);break;case 27:commitHostSingletonAcquisition(u);case 26:case 5:recursivelyTraverseReappearLayoutEffects(c,u,a),a&&null===l&&4&p&&commitHostMount(u),safelyAttachRef(u,u.return);break;case 12:recursivelyTraverseReappearLayoutEffects(c,u,a);break;case 31:recursivelyTraverseReappearLayoutEffects(c,u,a),a&&4&p&&commitActivityHydrationCallbacks(c,u);break;case 13:recursivelyTraverseReappearLayoutEffects(c,u,a),a&&4&p&&commitSuspenseHydrationCallbacks(c,u);break;case 22:null===u.memoizedState&&recursivelyTraverseReappearLayoutEffects(c,u,a),safelyAttachRef(u,u.return);break;case 30:break;default:recursivelyTraverseReappearLayoutEffects(c,u,a)}s=s.sibling}}function commitOffscreenPassiveMountEffects(e,s){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(e=s.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&releaseCache(a))}function commitCachePassiveMountEffect(e,s){e=null,null!==s.alternate&&(e=s.alternate.memoizedState.cache),(s=s.memoizedState.cache)!==e&&(s.refCount++,null!=e&&releaseCache(e))}function recursivelyTraversePassiveMountEffects(e,s,a,l){if(10256&s.subtreeFlags)for(s=s.child;null!==s;)commitPassiveMountOnFiber(e,s,a,l),s=s.sibling}function commitPassiveMountOnFiber(e,s,a,l){var c=s.flags;switch(s.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(e,s,a,l),2048&c&&commitHookEffectListMount(9,s);break;case 1:case 31:case 13:default:recursivelyTraversePassiveMountEffects(e,s,a,l);break;case 3:recursivelyTraversePassiveMountEffects(e,s,a,l),2048&c&&(e=null,null!==s.alternate&&(e=s.alternate.memoizedState.cache),(s=s.memoizedState.cache)!==e&&(s.refCount++,null!=e&&releaseCache(e)));break;case 12:if(2048&c){recursivelyTraversePassiveMountEffects(e,s,a,l),e=s.stateNode;try{var u=s.memoizedProps,p=u.id,m=u.onPostCommit;"function"==typeof m&&m(p,null===s.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(h){captureCommitPhaseError(s,s.return,h)}}else recursivelyTraversePassiveMountEffects(e,s,a,l);break;case 23:break;case 22:u=s.stateNode,p=s.alternate,null!==s.memoizedState?2&u._visibility?recursivelyTraversePassiveMountEffects(e,s,a,l):recursivelyTraverseAtomicPassiveEffects(e,s):2&u._visibility?recursivelyTraversePassiveMountEffects(e,s,a,l):(u._visibility|=2,recursivelyTraverseReconnectPassiveEffects(e,s,a,l,!!(10256&s.subtreeFlags)||!1)),2048&c&&commitOffscreenPassiveMountEffects(p,s);break;case 24:recursivelyTraversePassiveMountEffects(e,s,a,l),2048&c&&commitCachePassiveMountEffect(s.alternate,s)}}function recursivelyTraverseReconnectPassiveEffects(e,s,a,l,c){for(c=c&&(!!(10256&s.subtreeFlags)||!1),s=s.child;null!==s;){var u=e,p=s,m=a,h=l,f=p.flags;switch(p.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(u,p,m,h,c),commitHookEffectListMount(8,p);break;case 23:break;case 22:var g=p.stateNode;null!==p.memoizedState?2&g._visibility?recursivelyTraverseReconnectPassiveEffects(u,p,m,h,c):recursivelyTraverseAtomicPassiveEffects(u,p):(g._visibility|=2,recursivelyTraverseReconnectPassiveEffects(u,p,m,h,c)),c&&2048&f&&commitOffscreenPassiveMountEffects(p.alternate,p);break;case 24:recursivelyTraverseReconnectPassiveEffects(u,p,m,h,c),c&&2048&f&&commitCachePassiveMountEffect(p.alternate,p);break;default:recursivelyTraverseReconnectPassiveEffects(u,p,m,h,c)}s=s.sibling}}function recursivelyTraverseAtomicPassiveEffects(e,s){if(10256&s.subtreeFlags)for(s=s.child;null!==s;){var a=e,l=s,c=l.flags;switch(l.tag){case 22:recursivelyTraverseAtomicPassiveEffects(a,l),2048&c&&commitOffscreenPassiveMountEffects(l.alternate,l);break;case 24:recursivelyTraverseAtomicPassiveEffects(a,l),2048&c&&commitCachePassiveMountEffect(l.alternate,l);break;default:recursivelyTraverseAtomicPassiveEffects(a,l)}s=s.sibling}}var Un=8192;function recursivelyAccumulateSuspenseyCommit(e,s,a){if(e.subtreeFlags&Un)for(e=e.child;null!==e;)accumulateSuspenseyCommitOnFiber(e,s,a),e=e.sibling}function accumulateSuspenseyCommitOnFiber(e,s,a){switch(e.tag){case 26:recursivelyAccumulateSuspenseyCommit(e,s,a),e.flags&Un&&null!==e.memoizedState&&function suspendResource(e,s,a,l){if(!("stylesheet"!==a.type||"string"==typeof l.media&&!1===matchMedia(l.media).matches||4&a.state.loading)){if(null===a.instance){var c=getStyleKey(l.href),u=s.querySelector(getStylesheetSelectorFromKey(c));if(u)return null!==(s=u._p)&&"object"==typeof s&&"function"==typeof s.then&&(e.count++,e=onUnsuspend.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=u,void markNodeAsHoistable(u);u=s.ownerDocument||s,l=stylesheetPropsFromRawProps(l),(c=Zs.get(c))&&adoptPreloadPropsForStylesheet(l,c),markNodeAsHoistable(u=u.createElement("link"));var p=u;p._p=new Promise(function(e,s){p.onload=e,p.onerror=s}),setInitialProperties(u,"link",l),a.instance=u}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&!(3&a.state.loading)&&(e.count++,a=onUnsuspend.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}(a,Vn,e.memoizedState,e.memoizedProps);break;case 5:default:recursivelyAccumulateSuspenseyCommit(e,s,a);break;case 3:case 4:var l=Vn;Vn=getHoistableRoot(e.stateNode.containerInfo),recursivelyAccumulateSuspenseyCommit(e,s,a),Vn=l;break;case 22:null===e.memoizedState&&(null!==(l=e.alternate)&&null!==l.memoizedState?(l=Un,Un=16777216,recursivelyAccumulateSuspenseyCommit(e,s,a),Un=l):recursivelyAccumulateSuspenseyCommit(e,s,a))}}function detachAlternateSiblings(e){var s=e.alternate;if(null!==s&&null!==(e=s.child)){s.child=null;do{s=e.sibling,e.sibling=null,e=s}while(null!==e)}}function recursivelyTraversePassiveUnmountEffects(e){var s=e.deletions;if(16&e.flags){if(null!==s)for(var a=0;a<s.length;a++){var l=s[a];Fn=l,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(l,e)}detachAlternateSiblings(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)commitPassiveUnmountOnFiber(e),e=e.sibling}function commitPassiveUnmountOnFiber(e){switch(e.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(e),2048&e.flags&&commitHookEffectListUnmount(9,e,e.return);break;case 3:case 12:default:recursivelyTraversePassiveUnmountEffects(e);break;case 22:var s=e.stateNode;null!==e.memoizedState&&2&s._visibility&&(null===e.return||13!==e.return.tag)?(s._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(e)):recursivelyTraversePassiveUnmountEffects(e)}}function recursivelyTraverseDisconnectPassiveEffects(e){var s=e.deletions;if(16&e.flags){if(null!==s)for(var a=0;a<s.length;a++){var l=s[a];Fn=l,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(l,e)}detachAlternateSiblings(e)}for(e=e.child;null!==e;){switch((s=e).tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,s,s.return),recursivelyTraverseDisconnectPassiveEffects(s);break;case 22:2&(a=s.stateNode)._visibility&&(a._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(s));break;default:recursivelyTraverseDisconnectPassiveEffects(s)}e=e.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(e,s){for(;null!==Fn;){var a=Fn;switch(a.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,a,s);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var l=a.memoizedState.cachePool.pool;null!=l&&l.refCount++}break;case 24:releaseCache(a.memoizedState.cache)}if(null!==(l=a.child))l.return=a,Fn=l;else e:for(a=e;null!==Fn;){var c=(l=Fn).sibling,u=l.return;if(detachFiberAfterEffects(l),l===a){Fn=null;break e}if(null!==c){c.return=u,Fn=c;break e}Fn=u}}}var Hn={getCacheForType:function(e){var s=readContext(Ur),a=s.data.get(e);return void 0===a&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return readContext(Ur).controller.signal}},qn="function"==typeof WeakMap?WeakMap:Map,Wn=0,Zn=null,Kn=null,Gn=0,Yn=0,Qn=null,Xn=!1,Jn=!1,es=!1,ts=0,rs=0,ns=0,ss=0,as=0,os=0,ls=0,cs=null,ds=null,us=!1,ps=0,ms=0,hs=1/0,fs=null,gs=null,xs=0,vs=null,ys=null,bs=0,js=0,ws=null,Ns=null,Ss=0,Cs=null;function requestUpdateLane(){return 2&Wn&&0!==Gn?Gn&-Gn:null!==$.T?requestTransitionLane():resolveUpdatePriority()}function requestDeferredLane(){if(0===os)if(536870912&Gn&&!Lr)os=536870912;else{var e=Oe;!(3932160&(Oe<<=1))&&(Oe=262144),os=e}return null!==(e=mn.current)&&(e.flags|=32),os}function scheduleUpdateOnFiber(e,s,a){(e!==Zn||2!==Yn&&9!==Yn)&&null===e.cancelPendingCommit||(prepareFreshStack(e,0),markRootSuspended(e,Gn,os,!1)),markRootUpdated$1(e,a),2&Wn&&e===Zn||(e===Zn&&(!(2&Wn)&&(ss|=a),4===rs&&markRootSuspended(e,Gn,os,!1)),ensureRootIsScheduled(e))}function performWorkOnRoot(e,s,a){if(6&Wn)throw Error(formatProdErrorMessage(327));for(var l=!a&&!(127&s)&&0===(s&e.expiredLanes)||checkIfRootIsPrerendering(e,s),c=l?function renderRootConcurrent(e,s){var a=Wn;Wn|=2;var l=pushDispatcher(),c=pushAsyncDispatcher();Zn!==e||Gn!==s?(fs=null,hs=fe()+500,prepareFreshStack(e,s)):Jn=checkIfRootIsPrerendering(e,s);e:for(;;)try{if(0!==Yn&&null!==Kn){s=Kn;var u=Qn;t:switch(Yn){case 1:Yn=0,Qn=null,throwAndUnwindWorkLoop(e,s,u,1);break;case 2:case 9:if(isThenableResolved(u)){Yn=0,Qn=null,replaySuspendedUnitOfWork(s);break}s=function(){2!==Yn&&9!==Yn||Zn!==e||(Yn=7),ensureRootIsScheduled(e)},u.then(s,s);break e;case 3:Yn=7;break e;case 4:Yn=5;break e;case 7:isThenableResolved(u)?(Yn=0,Qn=null,replaySuspendedUnitOfWork(s)):(Yn=0,Qn=null,throwAndUnwindWorkLoop(e,s,u,7));break;case 5:var p=null;switch(Kn.tag){case 26:p=Kn.memoizedState;case 5:case 27:var m=Kn;if(p?preloadResource(p):m.stateNode.complete){Yn=0,Qn=null;var h=m.sibling;if(null!==h)Kn=h;else{var f=m.return;null!==f?(Kn=f,completeUnitOfWork(f)):Kn=null}break t}}Yn=0,Qn=null,throwAndUnwindWorkLoop(e,s,u,5);break;case 6:Yn=0,Qn=null,throwAndUnwindWorkLoop(e,s,u,6);break;case 8:resetWorkInProgressStack(),rs=6;break e;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrentByScheduler();break}catch(g){handleThrow(e,g)}return Fr=Rr=null,$.H=l,$.A=c,Wn=a,null!==Kn?0:(Zn=null,Gn=0,finishQueueingConcurrentUpdates(),rs)}(e,s):renderRootSync(e,s,!0),u=l;;){if(0===c){Jn&&!l&&markRootSuspended(e,s,0,!1);break}if(a=e.current.alternate,!u||isRenderConsistentWithExternalStores(a)){if(2===c){if(u=s,e.errorRecoveryDisabledLanes&u)var p=0;else p=0!==(p=-536870913&e.pendingLanes)?p:536870912&p?536870912:0;if(0!==p){s=p;e:{var m=e;c=cs;var h=m.current.memoizedState.isDehydrated;if(h&&(prepareFreshStack(m,p).flags|=256),2!==(p=renderRootSync(m,p,!1))){if(es&&!h){m.errorRecoveryDisabledLanes|=u,ss|=u,c=4;break e}u=ds,ds=c,null!==u&&(null===ds?ds=u:ds.push.apply(ds,u))}c=p}if(u=!1,2!==c)continue}}if(1===c){prepareFreshStack(e,0),markRootSuspended(e,s,0,!0);break}e:{switch(l=e,u=c){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if((4194048&s)!==s)break;case 6:markRootSuspended(l,s,os,!Xn);break e;case 2:ds=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if((62914560&s)===s&&10<(c=ps+300-fe())){if(markRootSuspended(l,s,os,!Xn),0!==getNextLanes(l,0,!0))break e;bs=s,l.timeoutHandle=Vs(commitRootWhenReady.bind(null,l,a,ds,fs,us,s,os,ss,ls,Xn,u,"Throttled",-0,0),c)}else commitRootWhenReady(l,a,ds,fs,us,s,os,ss,ls,Xn,u,null,-0,0)}break}c=renderRootSync(e,s,!1),u=!1}ensureRootIsScheduled(e)}function commitRootWhenReady(e,s,a,l,c,u,p,m,h,f,g,b,j,N){if(e.timeoutHandle=-1,8192&(b=s.subtreeFlags)||!(16785408&~b)){accumulateSuspenseyCommitOnFiber(s,u,b={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:noop$12});var k=(62914560&u)===u?ps-fe():(4194048&u)===u?ms-fe():0;if(null!==(k=function waitForCommitToBeReady(e,s){return e.stylesheets&&0===e.count&&insertSuspendedStylesheets(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&insertSuspendedStylesheets(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+s);0<e.imgBytes&&0===Xs&&(Xs=62500*function estimateBandwidth(){if("function"==typeof performance.getEntriesByType){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],u=c.transferSize,p=c.initiatorType,m=c.duration;if(u&&m&&isLikelyStaticResource(p)){for(p=0,m=c.responseEnd,l+=1;l<a.length;l++){var h=a[l],f=h.startTime;if(f>m)break;var g=h.transferSize,b=h.initiatorType;g&&isLikelyStaticResource(b)&&(p+=g*((h=h.responseEnd)<m?1:(m-f)/(h-f)))}if(--l,s+=8*(u+p)/(c.duration/1e3),10<++e)break}}if(0<e)return s/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var c=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&insertSuspendedStylesheets(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Xs?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}(b,k)))return bs=u,e.cancelPendingCommit=k(commitRoot.bind(null,e,s,u,a,l,c,p,m,h,g,b,null,j,N)),void markRootSuspended(e,u,p,!f)}commitRoot(e,s,u,a,l,c,p,m,h)}function isRenderConsistentWithExternalStores(e){for(var s=e;;){var a=s.tag;if((0===a||11===a||15===a)&&16384&s.flags&&(null!==(a=s.updateQueue)&&null!==(a=a.stores)))for(var l=0;l<a.length;l++){var c=a[l],u=c.getSnapshot;c=c.value;try{if(!Xt(u(),c))return!1}catch(p){return!1}}if(a=s.child,16384&s.subtreeFlags&&null!==a)a.return=s,s=a;else{if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function markRootSuspended(e,s,a,l){s&=~as,s&=~ss,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var c=s;0<c;){var u=31-Te(c),p=1<<u;l[u]=-1,c&=~p}0!==a&&markSpawnedDeferredLane(e,a,s)}function flushSyncWork$1(){return!!(6&Wn)||(flushSyncWorkAcrossRoots_impl(0),!1)}function resetWorkInProgressStack(){if(null!==Kn){if(0===Yn)var e=Kn.return;else Fr=Rr=null,resetHooksOnUnwind(e=Kn),tn=null,rn=0,e=Kn;for(;null!==e;)unwindInterruptedWork(e.alternate,e),e=e.return;Kn=null}}function prepareFreshStack(e,s){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,Us(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),bs=0,resetWorkInProgressStack(),Zn=e,Kn=a=createWorkInProgress(e.current,null),Gn=s,Yn=0,Qn=null,Xn=!1,Jn=checkIfRootIsPrerendering(e,s),es=!1,ls=os=as=ss=ns=rs=0,ds=cs=null,us=!1,8&s&&(s|=32&s);var l=e.entangledLanes;if(0!==l)for(e=e.entanglements,l&=s;0<l;){var c=31-Te(l),u=1<<c;s|=e[c],l&=~u}return ts=s,finishQueueingConcurrentUpdates(),a}function handleThrow(e,s){xn=null,$.H=_n,s===Yr||s===Xr?(s=getSuspendedThenable(),Yn=3):s===Qr?(s=getSuspendedThenable(),Yn=4):Yn=s===Mn?8:null!==s&&"object"==typeof s&&"function"==typeof s.then?6:1,Qn=s,null===Kn&&(rs=1,logUncaughtError(e,createCapturedValueAtFiber(s,e.current)))}function shouldRemainOnPreviousScreen(){var e=mn.current;return null===e||((4194048&Gn)===Gn?null===hn:!!((62914560&Gn)===Gn||536870912&Gn)&&e===hn)}function pushDispatcher(){var e=$.H;return $.H=_n,null===e?_n:e}function pushAsyncDispatcher(){var e=$.A;return $.A=Hn,e}function renderDidSuspendDelayIfPossible(){rs=4,Xn||(4194048&Gn)!==Gn&&null!==mn.current||(Jn=!0),!(134217727&ns)&&!(134217727&ss)||null===Zn||markRootSuspended(Zn,Gn,os,!1)}function renderRootSync(e,s,a){var l=Wn;Wn|=2;var c=pushDispatcher(),u=pushAsyncDispatcher();Zn===e&&Gn===s||(fs=null,prepareFreshStack(e,s)),s=!1;var p=rs;e:for(;;)try{if(0!==Yn&&null!==Kn){var m=Kn,h=Qn;switch(Yn){case 8:resetWorkInProgressStack(),p=6;break e;case 3:case 2:case 9:case 6:null===mn.current&&(s=!0);var f=Yn;if(Yn=0,Qn=null,throwAndUnwindWorkLoop(e,m,h,f),a&&Jn){p=0;break e}break;default:f=Yn,Yn=0,Qn=null,throwAndUnwindWorkLoop(e,m,h,f)}}workLoopSync(),p=rs;break}catch(g){handleThrow(e,g)}return s&&e.shellSuspendCounter++,Fr=Rr=null,Wn=l,$.H=c,$.A=u,null===Kn&&(Zn=null,Gn=0,finishQueueingConcurrentUpdates()),p}function workLoopSync(){for(;null!==Kn;)performUnitOfWork(Kn)}function workLoopConcurrentByScheduler(){for(;null!==Kn&&!me();)performUnitOfWork(Kn)}function performUnitOfWork(e){var s=beginWork(e.alternate,e,ts);e.memoizedProps=e.pendingProps,null===s?completeUnitOfWork(e):Kn=s}function replaySuspendedUnitOfWork(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=replayFunctionComponent(a,s,s.pendingProps,s.type,void 0,Gn);break;case 11:s=replayFunctionComponent(a,s,s.pendingProps,s.type.render,s.ref,Gn);break;case 5:resetHooksOnUnwind(s);default:unwindInterruptedWork(a,s),s=beginWork(a,s=Kn=resetWorkInProgress(s,ts),ts)}e.memoizedProps=e.pendingProps,null===s?completeUnitOfWork(e):Kn=s}function throwAndUnwindWorkLoop(e,s,a,l){Fr=Rr=null,resetHooksOnUnwind(s),tn=null,rn=0;var c=s.return;try{if(function throwException(e,s,a,l,c){if(a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){if(null!==(s=a.alternate)&&propagateParentContextChanges(s,a,c,!0),null!==(a=mn.current)){switch(a.tag){case 31:case 13:return null===hn?renderDidSuspendDelayIfPossible():null===a.alternate&&0===rs&&(rs=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Jr?a.flags|=16384:(null===(s=a.updateQueue)?a.updateQueue=new Set([l]):s.add(l),attachPingListener(e,l,c)),!1;case 22:return a.flags|=65536,l===Jr?a.flags|=16384:(null===(s=a.updateQueue)?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):null===(a=s.retryQueue)?s.retryQueue=new Set([l]):a.add(l),attachPingListener(e,l,c)),!1}throw Error(formatProdErrorMessage(435,a.tag))}return attachPingListener(e,l,c),renderDidSuspendDelayIfPossible(),!1}if(Lr)return null!==(s=mn.current)?(!(65536&s.flags)&&(s.flags|=256),s.flags|=65536,s.lanes=c,l!==Ir&&queueHydrationError(createCapturedValueAtFiber(e=Error(formatProdErrorMessage(422),{cause:l}),a))):(l!==Ir&&queueHydrationError(createCapturedValueAtFiber(s=Error(formatProdErrorMessage(423),{cause:l}),a)),(e=e.current.alternate).flags|=65536,c&=-c,e.lanes|=c,l=createCapturedValueAtFiber(l,a),enqueueCapturedUpdate(e,c=createRootErrorUpdate(e.stateNode,l,c)),4!==rs&&(rs=2)),!1;var u=Error(formatProdErrorMessage(520),{cause:l});if(u=createCapturedValueAtFiber(u,a),null===cs?cs=[u]:cs.push(u),4!==rs&&(rs=2),null===s)return!0;l=createCapturedValueAtFiber(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,enqueueCapturedUpdate(a,e=createRootErrorUpdate(a.stateNode,l,e)),!1;case 1:if(s=a.type,u=a.stateNode,!(128&a.flags||"function"!=typeof s.getDerivedStateFromError&&(null===u||"function"!=typeof u.componentDidCatch||null!==gs&&gs.has(u))))return a.flags|=65536,c&=-c,a.lanes|=c,initializeClassErrorUpdate(c=createClassErrorUpdate(c),e,a,l),enqueueCapturedUpdate(a,c),!1}a=a.return}while(null!==a);return!1}(e,c,s,a,Gn))return rs=1,logUncaughtError(e,createCapturedValueAtFiber(a,e.current)),void(Kn=null)}catch(u){if(null!==c)throw Kn=c,u;return rs=1,logUncaughtError(e,createCapturedValueAtFiber(a,e.current)),void(Kn=null)}32768&s.flags?(Lr||1===l?e=!0:Jn||536870912&Gn?e=!1:(Xn=e=!0,(2===l||9===l||3===l||6===l)&&(null!==(l=mn.current)&&13===l.tag&&(l.flags|=16384))),unwindUnitOfWork(s,e)):completeUnitOfWork(s)}function completeUnitOfWork(e){var s=e;do{if(32768&s.flags)return void unwindUnitOfWork(s,Xn);e=s.return;var a=completeWork(s.alternate,s,ts);if(null!==a)return void(Kn=a);if(null!==(s=s.sibling))return void(Kn=s);Kn=s=e}while(null!==s);0===rs&&(rs=5)}function unwindUnitOfWork(e,s){do{var a=unwindWork(e.alternate,e);if(null!==a)return a.flags&=32767,void(Kn=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&null!==(e=e.sibling))return void(Kn=e);Kn=e=a}while(null!==e);rs=6,Kn=null}function commitRoot(e,s,a,l,c,u,p,m,h){e.cancelPendingCommit=null;do{flushPendingEffects()}while(0!==xs);if(6&Wn)throw Error(formatProdErrorMessage(327));if(null!==s){if(s===e.current)throw Error(formatProdErrorMessage(177));if(u=s.lanes|s.childLanes,function markRootFinished(e,s,a,l,c,u){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var m=e.entanglements,h=e.expirationTimes,f=e.hiddenUpdates;for(a=p&~a;0<a;){var g=31-Te(a),b=1<<g;m[g]=0,h[g]=-1;var j=f[g];if(null!==j)for(f[g]=null,g=0;g<j.length;g++){var N=j[g];null!==N&&(N.lane&=-536870913)}a&=~b}0!==l&&markSpawnedDeferredLane(e,l,0),0!==u&&0===c&&0!==e.tag&&(e.suspendedLanes|=u&~(p&~s))}(e,a,u|=yr,p,m,h),e===Zn&&(Kn=Zn=null,Gn=0),ys=s,vs=e,bs=a,js=u,ws=c,Ns=l,10256&s.subtreeFlags||10256&s.flags?(e.callbackNode=null,e.callbackPriority=0,function scheduleCallback$1(e,s){return de(e,s)}(be,function(){return flushPassiveEffects(),null})):(e.callbackNode=null,e.callbackPriority=0),l=!!(13878&s.flags),13878&s.subtreeFlags||l){l=$.T,$.T=null,c=z.p,z.p=2,p=Wn,Wn|=4;try{!function commitBeforeMutationEffects(e,s){if(e=e.containerInfo,Fs=ta,hasSelectionCapabilities(e=getActiveElementDeep(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var l=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(l&&0!==l.rangeCount){a=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch(_){a=null;break e}var p=0,m=-1,h=-1,f=0,g=0,b=e,j=null;t:for(;;){for(var N;b!==a||0!==c&&3!==b.nodeType||(m=p+c),b!==u||0!==l&&3!==b.nodeType||(h=p+l),3===b.nodeType&&(p+=b.nodeValue.length),null!==(N=b.firstChild);)j=b,b=N;for(;;){if(b===e)break t;if(j===a&&++f===c&&(m=p),j===u&&++g===l&&(h=p),null!==(N=b.nextSibling))break;j=(b=j).parentNode}b=N}a=-1===m||-1===h?null:{start:m,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bs={focusedElem:e,selectionRange:a},ta=!1,Fn=s;null!==Fn;)if(e=(s=Fn).child,1028&s.subtreeFlags&&null!==e)e.return=s,Fn=e;else for(;null!==Fn;){switch(u=(s=Fn).alternate,e=s.flags,s.tag){case 0:if(4&e&&null!==(e=null!==(e=s.updateQueue)?e.events:null))for(a=0;a<e.length;a++)(c=e[a]).ref.impl=c.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==u){e=void 0,a=s,c=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var k=resolveClassComponentProps(a.type,c);e=l.getSnapshotBeforeUpdate(k,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(T){captureCommitPhaseError(a,a.return,T)}}break;case 3:if(1024&e)if(9===(a=(e=s.stateNode.containerInfo).nodeType))clearContainerSparingly(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":clearContainerSparingly(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(formatProdErrorMessage(163))}if(null!==(e=s.sibling)){e.return=s.return,Fn=e;break}Fn=s.return}}(e,s)}finally{Wn=p,z.p=c,$.T=l}}xs=1,flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork()}}function flushMutationEffects(){if(1===xs){xs=0;var e=vs,s=ys,a=!!(13878&s.flags);if(13878&s.subtreeFlags||a){a=$.T,$.T=null;var l=z.p;z.p=2;var c=Wn;Wn|=4;try{commitMutationEffectsOnFiber(s,e);var u=Bs,p=getActiveElementDeep(e.containerInfo),m=u.focusedElem,h=u.selectionRange;if(p!==m&&m&&m.ownerDocument&&containsNode(m.ownerDocument.documentElement,m)){if(null!==h&&hasSelectionCapabilities(m)){var f=h.start,g=h.end;if(void 0===g&&(g=f),"selectionStart"in m)m.selectionStart=f,m.selectionEnd=Math.min(g,m.value.length);else{var b=m.ownerDocument||document,j=b&&b.defaultView||window;if(j.getSelection){var N=j.getSelection(),k=m.textContent.length,_=Math.min(h.start,k),T=void 0===h.end?_:Math.min(h.end,k);!N.extend&&_>T&&(p=T,T=_,_=p);var E=getNodeForCharacterOffset(m,_),A=getNodeForCharacterOffset(m,T);if(E&&A&&(1!==N.rangeCount||N.anchorNode!==E.node||N.anchorOffset!==E.offset||N.focusNode!==A.node||N.focusOffset!==A.offset)){var L=b.createRange();L.setStart(E.node,E.offset),N.removeAllRanges(),_>T?(N.addRange(L),N.extend(A.node,A.offset)):(L.setEnd(A.node,A.offset),N.addRange(L))}}}}for(b=[],N=m;N=N.parentNode;)1===N.nodeType&&b.push({element:N,left:N.scrollLeft,top:N.scrollTop});for("function"==typeof m.focus&&m.focus(),m=0;m<b.length;m++){var O=b[m];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ta=!!Fs,Bs=Fs=null}finally{Wn=c,z.p=l,$.T=a}}e.current=s,xs=2}}function flushLayoutEffects(){if(2===xs){xs=0;var e=vs,s=ys,a=!!(8772&s.flags);if(8772&s.subtreeFlags||a){a=$.T,$.T=null;var l=z.p;z.p=2;var c=Wn;Wn|=4;try{commitLayoutEffectOnFiber(e,s.alternate,s)}finally{Wn=c,z.p=l,$.T=a}}xs=3}}function flushSpawnedWork(){if(4===xs||3===xs){xs=0,he();var e=vs,s=ys,a=bs,l=Ns;10256&s.subtreeFlags||10256&s.flags?xs=5:(xs=0,ys=vs=null,releaseRootPooledCache(e,e.pendingLanes));var c=e.pendingLanes;if(0===c&&(gs=null),lanesToEventPriority(a),s=s.stateNode,Pe&&"function"==typeof Pe.onCommitFiberRoot)try{Pe.onCommitFiberRoot(_e,s,void 0,!(128&~s.current.flags))}catch(h){}if(null!==l){s=$.T,c=z.p,z.p=2,$.T=null;try{for(var u=e.onRecoverableError,p=0;p<l.length;p++){var m=l[p];u(m.value,{componentStack:m.stack})}}finally{$.T=s,z.p=c}}3&bs&&flushPendingEffects(),ensureRootIsScheduled(e),c=e.pendingLanes,261930&a&&42&c?e===Cs?Ss++:(Ss=0,Cs=e):Ss=0,flushSyncWorkAcrossRoots_impl(0)}}function releaseRootPooledCache(e,s){0===(e.pooledCacheLanes&=s)&&(null!=(s=e.pooledCache)&&(e.pooledCache=null,releaseCache(s)))}function flushPendingEffects(){return flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork(),flushPassiveEffects()}function flushPassiveEffects(){if(5!==xs)return!1;var e=vs,s=js;js=0;var a=lanesToEventPriority(bs),l=$.T,c=z.p;try{z.p=32>a?32:a,$.T=null,a=ws,ws=null;var u=vs,p=bs;if(xs=0,ys=vs=null,bs=0,6&Wn)throw Error(formatProdErrorMessage(331));var m=Wn;if(Wn|=4,commitPassiveUnmountOnFiber(u.current),commitPassiveMountOnFiber(u,u.current,p,a),Wn=m,flushSyncWorkAcrossRoots_impl(0,!1),Pe&&"function"==typeof Pe.onPostCommitFiberRoot)try{Pe.onPostCommitFiberRoot(_e,u)}catch(h){}return!0}finally{z.p=c,$.T=l,releaseRootPooledCache(e,s)}}function captureCommitPhaseErrorOnRoot(e,s,a){s=createCapturedValueAtFiber(a,s),null!==(e=enqueueUpdate(e,s=createRootErrorUpdate(e.stateNode,s,2),2))&&(markRootUpdated$1(e,2),ensureRootIsScheduled(e))}function captureCommitPhaseError(e,s,a){if(3===e.tag)captureCommitPhaseErrorOnRoot(e,e,a);else for(;null!==s;){if(3===s.tag){captureCommitPhaseErrorOnRoot(s,e,a);break}if(1===s.tag){var l=s.stateNode;if("function"==typeof s.type.getDerivedStateFromError||"function"==typeof l.componentDidCatch&&(null===gs||!gs.has(l))){e=createCapturedValueAtFiber(a,e),null!==(l=enqueueUpdate(s,a=createClassErrorUpdate(2),2))&&(initializeClassErrorUpdate(a,l,s,e),markRootUpdated$1(l,2),ensureRootIsScheduled(l));break}}s=s.return}}function attachPingListener(e,s,a){var l=e.pingCache;if(null===l){l=e.pingCache=new qn;var c=new Set;l.set(s,c)}else void 0===(c=l.get(s))&&(c=new Set,l.set(s,c));c.has(a)||(es=!0,c.add(a),e=pingSuspendedRoot.bind(null,e,s,a),s.then(e,e))}function pingSuspendedRoot(e,s,a){var l=e.pingCache;null!==l&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zn===e&&(Gn&a)===a&&(4===rs||3===rs&&(62914560&Gn)===Gn&&300>fe()-ps?!(2&Wn)&&prepareFreshStack(e,0):as|=a,ls===Gn&&(ls=0)),ensureRootIsScheduled(e)}function retryTimedOutBoundary(e,s){0===s&&(s=claimNextRetryLane()),null!==(e=enqueueConcurrentRenderForLane(e,s))&&(markRootUpdated$1(e,s),ensureRootIsScheduled(e))}function retryDehydratedSuspenseBoundary(e){var s=e.memoizedState,a=0;null!==s&&(a=s.retryLane),retryTimedOutBoundary(e,a)}function resolveRetryWakeable(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;null!==c&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}null!==l&&l.delete(s),retryTimedOutBoundary(e,a)}var ks=null,_s=null,Ps=!1,Ts=!1,Es=!1,As=0;function ensureRootIsScheduled(e){e!==_s&&null===e.next&&(null===_s?ks=_s=e:_s=_s.next=e),Ts=!0,Ps||(Ps=!0,function scheduleImmediateRootScheduleTask(){qs(function(){6&Wn?de(xe,processRootScheduleInImmediateTask):processRootScheduleInMicrotask()})}())}function flushSyncWorkAcrossRoots_impl(e,s){if(!Es&&Ts){Es=!0;do{for(var a=!1,l=ks;null!==l;){if(0!==e){var c=l.pendingLanes;if(0===c)var u=0;else{var p=l.suspendedLanes,m=l.pingedLanes;u=(1<<31-Te(42|e)+1)-1,u=201326741&(u&=c&~(p&~m))?201326741&u|1:u?2|u:0}0!==u&&(a=!0,performSyncWorkOnRoot(l,u))}else u=Gn,!(3&(u=getNextLanes(l,l===Zn?u:0,null!==l.cancelPendingCommit||-1!==l.timeoutHandle)))||checkIfRootIsPrerendering(l,u)||(a=!0,performSyncWorkOnRoot(l,u));l=l.next}}while(a);Es=!1}}function processRootScheduleInImmediateTask(){processRootScheduleInMicrotask()}function processRootScheduleInMicrotask(){Ts=Ps=!1;var e=0;0!==As&&function shouldAttemptEagerTransition(){var e=window.event;if(e&&"popstate"===e.type)return e!==zs&&(zs=e,!0);return zs=null,!1}()&&(e=As);for(var s=fe(),a=null,l=ks;null!==l;){var c=l.next,u=scheduleTaskForRootDuringMicrotask(l,s);0===u?(l.next=null,null===a?ks=c:a.next=c,null===c&&(_s=a)):(a=l,(0!==e||3&u)&&(Ts=!0)),l=c}0!==xs&&5!==xs||flushSyncWorkAcrossRoots_impl(e),0!==As&&(As=0)}function scheduleTaskForRootDuringMicrotask(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,u=-62914561&e.pendingLanes;0<u;){var p=31-Te(u),m=1<<p,h=c[p];-1===h?0!==(m&a)&&0===(m&l)||(c[p]=computeExpirationTime(m,s)):h<=s&&(e.expiredLanes|=m),u&=~m}if(a=Gn,a=getNextLanes(e,e===(s=Zn)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),l=e.callbackNode,0===a||e===s&&(2===Yn||9===Yn)||null!==e.cancelPendingCommit)return null!==l&&null!==l&&ue(l),e.callbackNode=null,e.callbackPriority=0;if(!(3&a)||checkIfRootIsPrerendering(e,a)){if((s=a&-a)===e.callbackPriority)return s;switch(null!==l&&ue(l),lanesToEventPriority(a)){case 2:case 8:a=ye;break;case 32:default:a=be;break;case 268435456:a=Ne}return l=performWorkOnRootViaSchedulerTask.bind(null,e),a=de(a,l),e.callbackPriority=s,e.callbackNode=a,s}return null!==l&&null!==l&&ue(l),e.callbackPriority=2,e.callbackNode=null,2}function performWorkOnRootViaSchedulerTask(e,s){if(0!==xs&&5!==xs)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(flushPendingEffects()&&e.callbackNode!==a)return null;var l=Gn;return 0===(l=getNextLanes(e,e===Zn?l:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(performWorkOnRoot(e,l,s),scheduleTaskForRootDuringMicrotask(e,fe()),null!=e.callbackNode&&e.callbackNode===a?performWorkOnRootViaSchedulerTask.bind(null,e):null)}function performSyncWorkOnRoot(e,s){if(flushPendingEffects())return null;performWorkOnRoot(e,s,!0)}function requestTransitionLane(){if(0===As){var e=Wr;0===e&&(e=Le,!(261888&(Le<<=1))&&(Le=256)),As=e}return As}function coerceFormActionProp(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:sanitizeURL(""+e)}function createFormDataWithSubmitter(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Ms=0;Ms<fr.length;Ms++){var Ls=fr[Ms];registerSimpleEvent(Ls.toLowerCase(),"on"+(Ls[0].toUpperCase()+Ls.slice(1)))}registerSimpleEvent(or,"onAnimationEnd"),registerSimpleEvent(lr,"onAnimationIteration"),registerSimpleEvent(cr,"onAnimationStart"),registerSimpleEvent("dblclick","onDoubleClick"),registerSimpleEvent("focusin","onFocus"),registerSimpleEvent("focusout","onBlur"),registerSimpleEvent(dr,"onTransitionRun"),registerSimpleEvent(ur,"onTransitionStart"),registerSimpleEvent(pr,"onTransitionCancel"),registerSimpleEvent(mr,"onTransitionEnd"),registerDirectEvent("onMouseEnter",["mouseout","mouseover"]),registerDirectEvent("onMouseLeave",["mouseout","mouseover"]),registerDirectEvent("onPointerEnter",["pointerout","pointerover"]),registerDirectEvent("onPointerLeave",["pointerout","pointerover"]),registerTwoPhaseEvent("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),registerTwoPhaseEvent("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),registerTwoPhaseEvent("onBeforeInput",["compositionend","keypress","textInput","paste"]),registerTwoPhaseEvent("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),registerTwoPhaseEvent("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),registerTwoPhaseEvent("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Os=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ds));function processDispatchQueue(e,s){s=!!(4&s);for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var u=void 0;if(s)for(var p=l.length-1;0<=p;p--){var m=l[p],h=m.instance,f=m.currentTarget;if(m=m.listener,h!==u&&c.isPropagationStopped())break e;u=m,c.currentTarget=f;try{u(c)}catch(g){gr(g)}c.currentTarget=null,u=h}else for(p=0;p<l.length;p++){if(h=(m=l[p]).instance,f=m.currentTarget,m=m.listener,h!==u&&c.isPropagationStopped())break e;u=m,c.currentTarget=f;try{u(c)}catch(g){gr(g)}c.currentTarget=null,u=h}}}}function listenToNonDelegatedEvent(e,s){var a=s[Ve];void 0===a&&(a=s[Ve]=new Set);var l=e+"__bubble";a.has(l)||(addTrappedEventListener(s,e,2,!1),a.add(l))}function listenToNativeEvent(e,s,a){var l=0;s&&(l|=4),addTrappedEventListener(a,e,l,s)}var Is="_reactListening"+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(e){if(!e[Is]){e[Is]=!0,Ze.forEach(function(s){"selectionchange"!==s&&(Os.has(s)||listenToNativeEvent(s,!1,e),listenToNativeEvent(s,!0,e))});var s=9===e.nodeType?e:e.ownerDocument;null===s||s[Is]||(s[Is]=!0,listenToNativeEvent("selectionchange",!1,s))}}function addTrappedEventListener(e,s,a,l){switch(getEventPriority(s)){case 2:var c=dispatchDiscreteEvent;break;case 8:c=dispatchContinuousEvent;break;default:c=dispatchEvent2}a=c.bind(null,s,a,e),c=void 0,!ot||"touchstart"!==s&&"touchmove"!==s&&"wheel"!==s||(c=!0),l?void 0!==c?e.addEventListener(s,a,{capture:!0,passive:c}):e.addEventListener(s,a,!0):void 0!==c?e.addEventListener(s,a,{passive:c}):e.addEventListener(s,a,!1)}function dispatchEventForPluginEventSystem(e,s,a,l,c){var u=l;if(!(1&s||2&s||null===l))e:for(;;){if(null===l)return;var p=l.tag;if(3===p||4===p){var m=l.stateNode.containerInfo;if(m===c)break;if(4===p)for(p=l.return;null!==p;){var h=p.tag;if((3===h||4===h)&&p.stateNode.containerInfo===c)return;p=p.return}for(;null!==m;){if(null===(p=getClosestInstanceFromNode(m)))return;if(5===(h=p.tag)||6===h||26===h||27===h){l=u=p;continue e}m=m.parentNode}}l=l.return}batchedUpdates$1(function(){var l=u,c=getEventTarget(a),p=[];e:{var m=hr.get(e);if(void 0!==m){var h=gt,f=e;switch(e){case"keypress":if(0===getEventCharCode(a))break e;case"keydown":case"keyup":h=Tt;break;case"focusin":f="focus",h=wt;break;case"focusout":f="blur",h=wt;break;case"beforeblur":case"afterblur":h=wt;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=bt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=At;break;case or:case lr:case cr:h=Nt;break;case mr:h=Mt;break;case"scroll":case"scrollend":h=vt;break;case"wheel":h=Lt;break;case"copy":case"cut":case"paste":h=St;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Et;break;case"toggle":case"beforetoggle":h=Dt}var g=!!(4&s),b=!g&&("scroll"===e||"scrollend"===e),j=g?null!==m?m+"Capture":null:m;g=[];for(var N,k=l;null!==k;){var _=k;if(N=_.stateNode,5!==(_=_.tag)&&26!==_&&27!==_||null===N||null===j||null!=(_=getListener(k,j))&&g.push(createDispatchListener(k,_,N)),b)break;k=k.return}0<g.length&&(m=new h(m,f,null,a,c),p.push({event:m,listeners:g}))}}if(!(7&s)){if(h="mouseout"===e||"pointerout"===e,(!(m="mouseover"===e||"pointerover"===e)||a===rt||!(f=a.relatedTarget||a.fromElement)||!getClosestInstanceFromNode(f)&&!f[ze])&&(h||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,h?(h=l,null!==(f=(f=a.relatedTarget||a.toElement)?getClosestInstanceFromNode(f):null)&&(b=getNearestMountedFiber(f),g=f.tag,f!==b||5!==g&&27!==g&&6!==g)&&(f=null)):(h=null,f=l),h!==f)){if(g=bt,_="onMouseLeave",j="onMouseEnter",k="mouse","pointerout"!==e&&"pointerover"!==e||(g=Et,_="onPointerLeave",j="onPointerEnter",k="pointer"),b=null==h?m:getNodeFromInstance(h),N=null==f?m:getNodeFromInstance(f),(m=new g(_,k+"leave",h,a,c)).target=b,m.relatedTarget=N,_=null,getClosestInstanceFromNode(c)===l&&((g=new g(j,k+"enter",f,a,c)).target=N,g.relatedTarget=b,_=g),b=_,h&&f)e:{for(g=getParent,k=f,N=0,_=j=h;_;_=g(_))N++;_=0;for(var T=k;T;T=g(T))_++;for(;0<N-_;)j=g(j),N--;for(;0<_-N;)k=g(k),_--;for(;N--;){if(j===k||null!==k&&j===k.alternate){g=j;break e}j=g(j),k=g(k)}g=null}else g=null;null!==h&&accumulateEnterLeaveListenersForEvent(p,m,h,g,!1),null!==f&&null!==b&&accumulateEnterLeaveListenersForEvent(p,b,f,g,!0)}if("select"===(h=(m=l?getNodeFromInstance(l):window).nodeName&&m.nodeName.toLowerCase())||"input"===h&&"file"===m.type)var E=getTargetInstForChangeEvent;else if(isTextInputElement(m))if(Kt)E=getTargetInstForInputOrChangeEvent;else{E=getTargetInstForInputEventPolyfill;var A=handleEventsForInputEventPolyfill}else!(h=m.nodeName)||"input"!==h.toLowerCase()||"checkbox"!==m.type&&"radio"!==m.type?l&&isCustomElement(l.elementType)&&(E=getTargetInstForChangeEvent):E=getTargetInstForClickEvent;switch(E&&(E=E(e,l))?createAndAccumulateChangeEvent(p,E,a,c):(A&&A(e,m,l),"focusout"===e&&l&&"number"===m.type&&null!=l.memoizedProps.value&&setDefaultValue(m,"number",m.value)),A=l?getNodeFromInstance(l):window,e){case"focusin":(isTextInputElement(A)||"true"===A.contentEditable)&&(er=A,tr=l,rr=null);break;case"focusout":rr=tr=er=null;break;case"mousedown":nr=!0;break;case"contextmenu":case"mouseup":case"dragend":nr=!1,constructSelectEvent(p,a,c);break;case"selectionchange":if(Jt)break;case"keydown":case"keyup":constructSelectEvent(p,a,c)}var L;if($t)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ht?isFallbackCompositionEnd(e,a)&&(O="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(O="onCompositionStart");O&&(zt&&"ko"!==a.locale&&(Ht||"onCompositionStart"!==O?"onCompositionEnd"===O&&Ht&&(L=getData()):(dt="value"in(ct=c)?ct.value:ct.textContent,Ht=!0)),0<(A=accumulateTwoPhaseListeners(l,O)).length&&(O=new Ct(O,e,null,a,c),p.push({event:O,listeners:A}),L?O.data=L:null!==(L=getDataFromCustomEvent(a))&&(O.data=L))),(L=Ft?function getNativeBeforeInputChars(e,s){switch(e){case"compositionend":return getDataFromCustomEvent(s);case"keypress":return 32!==s.which?null:(Ut=!0,Vt);case"textInput":return(e=s.data)===Vt&&Ut?null:e;default:return null}}(e,a):function getFallbackBeforeInputChars(e,s){if(Ht)return"compositionend"===e||!$t&&isFallbackCompositionEnd(e,s)?(e=getData(),ut=dt=ct=null,Ht=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zt&&"ko"!==s.locale?null:s.data}}(e,a))&&(0<(O=accumulateTwoPhaseListeners(l,"onBeforeInput")).length&&(A=new Ct("onBeforeInput","beforeinput",null,a,c),p.push({event:A,listeners:O}),A.data=L)),function extractEvents$1(e,s,a,l,c){if("submit"===s&&a&&a.stateNode===c){var u=coerceFormActionProp((c[Be]||null).action),p=l.submitter;p&&null!==(s=(s=p[Be]||null)?coerceFormActionProp(s.formAction):p.getAttribute("formAction"))&&(u=s,p=null);var m=new gt("action","action",null,l,c);e.push({event:m,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(0!==As){var e=p?createFormDataWithSubmitter(c,p):new FormData(c);startHostTransition(a,{pending:!0,data:e,method:c.method,action:u},null,e)}}else"function"==typeof u&&(m.preventDefault(),e=p?createFormDataWithSubmitter(c,p):new FormData(c),startHostTransition(a,{pending:!0,data:e,method:c.method,action:u},u,e))},currentTarget:c}]})}}(p,e,l,a,c)}processDispatchQueue(p,s)})}function createDispatchListener(e,s,a){return{instance:e,listener:s,currentTarget:a}}function accumulateTwoPhaseListeners(e,s){for(var a=s+"Capture",l=[];null!==e;){var c=e,u=c.stateNode;if(5!==(c=c.tag)&&26!==c&&27!==c||null===u||(null!=(c=getListener(e,a))&&l.unshift(createDispatchListener(e,c,u)),null!=(c=getListener(e,s))&&l.push(createDispatchListener(e,c,u))),3===e.tag)return l;e=e.return}return[]}function getParent(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function accumulateEnterLeaveListenersForEvent(e,s,a,l,c){for(var u=s._reactName,p=[];null!==a&&a!==l;){var m=a,h=m.alternate,f=m.stateNode;if(m=m.tag,null!==h&&h===l)break;5!==m&&26!==m&&27!==m||null===f||(h=f,c?null!=(f=getListener(a,u))&&p.unshift(createDispatchListener(a,f,h)):c||null!=(f=getListener(a,u))&&p.push(createDispatchListener(a,f,h))),a=a.return}0!==p.length&&e.push({event:s,listeners:p})}var $s=/\r\n?/g,Rs=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(e){return("string"==typeof e?e:""+e).replace($s,"\n").replace(Rs,"")}function checkForUnmatchedText(e,s){return s=normalizeMarkupForTextOrAttribute(s),normalizeMarkupForTextOrAttribute(e)===s}function setProp(e,s,a,l,c,u){switch(a){case"children":"string"==typeof l?"body"===s||"textarea"===s&&""===l||setTextContent(e,l):("number"==typeof l||"bigint"==typeof l)&&"body"!==s&&setTextContent(e,""+l);break;case"className":setValueForKnownAttribute(e,"class",l);break;case"tabIndex":setValueForKnownAttribute(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":setValueForKnownAttribute(e,a,l);break;case"style":setValueForStyles(e,l,u);break;case"data":if("object"!==s){setValueForKnownAttribute(e,"data",l);break}case"src":case"href":if(""===l&&("a"!==s||"href"!==a)){e.removeAttribute(a);break}if(null==l||"function"==typeof l||"symbol"==typeof l||"boolean"==typeof l){e.removeAttribute(a);break}l=sanitizeURL(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if("function"==typeof l){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof u&&("formAction"===a?("input"!==s&&setProp(e,s,"name",c.name,c,null),setProp(e,s,"formEncType",c.formEncType,c,null),setProp(e,s,"formMethod",c.formMethod,c,null),setProp(e,s,"formTarget",c.formTarget,c,null)):(setProp(e,s,"encType",c.encType,c,null),setProp(e,s,"method",c.method,c,null),setProp(e,s,"target",c.target,c,null))),null==l||"symbol"==typeof l||"boolean"==typeof l){e.removeAttribute(a);break}l=sanitizeURL(""+l),e.setAttribute(a,l);break;case"onClick":null!=l&&(e.onclick=noop$12);break;case"onScroll":null!=l&&listenToNonDelegatedEvent("scroll",e);break;case"onScrollEnd":null!=l&&listenToNonDelegatedEvent("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=l){if("object"!=typeof l||!("__html"in l))throw Error(formatProdErrorMessage(61));if(null!=(a=l.__html)){if(null!=c.children)throw Error(formatProdErrorMessage(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&"function"!=typeof l&&"symbol"!=typeof l;break;case"muted":e.muted=l&&"function"!=typeof l&&"symbol"!=typeof l;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==l||"function"==typeof l||"boolean"==typeof l||"symbol"==typeof l){e.removeAttribute("xlink:href");break}a=sanitizeURL(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=l&&"function"!=typeof l&&"symbol"!=typeof l?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&"function"!=typeof l&&"symbol"!=typeof l?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===l?e.setAttribute(a,""):!1!==l&&null!=l&&"function"!=typeof l&&"symbol"!=typeof l?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":null==l||"function"==typeof l||"symbol"==typeof l||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":listenToNonDelegatedEvent("beforetoggle",e),listenToNonDelegatedEvent("toggle",e),setValueForAttribute(e,"popover",l);break;case"xlinkActuate":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":setValueForNamespacedAttribute(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":setValueForNamespacedAttribute(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":setValueForNamespacedAttribute(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":setValueForNamespacedAttribute(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":setValueForAttribute(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&setValueForAttribute(e,a=et.get(a)||a,l)}}function setPropOnCustomElement(e,s,a,l,c,u){switch(a){case"style":setValueForStyles(e,l,u);break;case"dangerouslySetInnerHTML":if(null!=l){if("object"!=typeof l||!("__html"in l))throw Error(formatProdErrorMessage(61));if(null!=(a=l.__html)){if(null!=c.children)throw Error(formatProdErrorMessage(60));e.innerHTML=a}}break;case"children":"string"==typeof l?setTextContent(e,l):("number"==typeof l||"bigint"==typeof l)&&setTextContent(e,""+l);break;case"onScroll":null!=l&&listenToNonDelegatedEvent("scroll",e);break;case"onScrollEnd":null!=l&&listenToNonDelegatedEvent("scrollend",e);break;case"onClick":null!=l&&(e.onclick=noop$12);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),"function"==typeof(u=null!=(u=e[Be]||null)?u[a]:null)&&e.removeEventListener(s,u,c),"function"!=typeof l)?a in e?e[a]=l:!0===l?e.setAttribute(a,""):setValueForAttribute(e,a,l):("function"!=typeof u&&null!==u&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,c)))}}function setInitialProperties(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":listenToNonDelegatedEvent("error",e),listenToNonDelegatedEvent("load",e);var l,c=!1,u=!1;for(l in a)if(a.hasOwnProperty(l)){var p=a[l];if(null!=p)switch(l){case"src":c=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,s));default:setProp(e,s,l,p,a,null)}}return u&&setProp(e,s,"srcSet",a.srcSet,a,null),void(c&&setProp(e,s,"src",a.src,a,null));case"input":listenToNonDelegatedEvent("invalid",e);var m=l=p=u=null,h=null,f=null;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(null!=g)switch(c){case"name":u=g;break;case"type":p=g;break;case"checked":h=g;break;case"defaultChecked":f=g;break;case"value":l=g;break;case"defaultValue":m=g;break;case"children":case"dangerouslySetInnerHTML":if(null!=g)throw Error(formatProdErrorMessage(137,s));break;default:setProp(e,s,c,g,a,null)}}return void initInput(e,l,m,h,f,p,u,!1);case"select":for(u in listenToNonDelegatedEvent("invalid",e),c=p=l=null,a)if(a.hasOwnProperty(u)&&null!=(m=a[u]))switch(u){case"value":l=m;break;case"defaultValue":p=m;break;case"multiple":c=m;default:setProp(e,s,u,m,a,null)}return s=l,a=p,e.multiple=!!c,void(null!=s?updateOptions(e,!!c,s,!1):null!=a&&updateOptions(e,!!c,a,!0));case"textarea":for(p in listenToNonDelegatedEvent("invalid",e),l=u=c=null,a)if(a.hasOwnProperty(p)&&null!=(m=a[p]))switch(p){case"value":c=m;break;case"defaultValue":u=m;break;case"children":l=m;break;case"dangerouslySetInnerHTML":if(null!=m)throw Error(formatProdErrorMessage(91));break;default:setProp(e,s,p,m,a,null)}return void initTextarea(e,c,u,l);case"option":for(h in a)if(a.hasOwnProperty(h)&&null!=(c=a[h]))if("selected"===h)e.selected=c&&"function"!=typeof c&&"symbol"!=typeof c;else setProp(e,s,h,c,a,null);return;case"dialog":listenToNonDelegatedEvent("beforetoggle",e),listenToNonDelegatedEvent("toggle",e),listenToNonDelegatedEvent("cancel",e),listenToNonDelegatedEvent("close",e);break;case"iframe":case"object":listenToNonDelegatedEvent("load",e);break;case"video":case"audio":for(c=0;c<Ds.length;c++)listenToNonDelegatedEvent(Ds[c],e);break;case"image":listenToNonDelegatedEvent("error",e),listenToNonDelegatedEvent("load",e);break;case"details":listenToNonDelegatedEvent("toggle",e);break;case"embed":case"source":case"link":listenToNonDelegatedEvent("error",e),listenToNonDelegatedEvent("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in a)if(a.hasOwnProperty(f)&&null!=(c=a[f]))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,s));default:setProp(e,s,f,c,a,null)}return;default:if(isCustomElement(s)){for(g in a)a.hasOwnProperty(g)&&(void 0!==(c=a[g])&&setPropOnCustomElement(e,s,g,c,a,void 0));return}}for(m in a)a.hasOwnProperty(m)&&(null!=(c=a[m])&&setProp(e,s,m,c,a,null))}function isLikelyStaticResource(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var Fs=null,Bs=null;function getOwnerDocumentFromRootContainer(e){return 9===e.nodeType?e:e.ownerDocument}function getOwnHostContext(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function getChildHostContextProd(e,s){if(0===e)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===s?0:e}function shouldSetTextContent(e,s){return"textarea"===e||"noscript"===e||"string"==typeof s.children||"number"==typeof s.children||"bigint"==typeof s.children||"object"==typeof s.dangerouslySetInnerHTML&&null!==s.dangerouslySetInnerHTML&&null!=s.dangerouslySetInnerHTML.__html}var zs=null;var Vs="function"==typeof setTimeout?setTimeout:void 0,Us="function"==typeof clearTimeout?clearTimeout:void 0,Hs="function"==typeof Promise?Promise:void 0,qs="function"==typeof queueMicrotask?queueMicrotask:void 0!==Hs?function(e){return Hs.resolve(null).then(e).catch(handleErrorInNextTick)}:Vs;function handleErrorInNextTick(e){setTimeout(function(){throw e})}function isSingletonScope(e){return"head"===e}function clearHydrationBoundary(e,s){var a=s,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&8===c.nodeType)if("/$"===(a=c.data)||"/&"===a){if(0===l)return e.removeChild(c),void retryIfBlockedOn(s);l--}else if("$"===a||"$?"===a||"$~"===a||"$!"===a||"&"===a)l++;else if("html"===a)releaseSingletonInstance(e.ownerDocument.documentElement);else if("head"===a){releaseSingletonInstance(a=e.ownerDocument.head);for(var u=a.firstChild;u;){var p=u.nextSibling,m=u.nodeName;u[We]||"SCRIPT"===m||"STYLE"===m||"LINK"===m&&"stylesheet"===u.rel.toLowerCase()||a.removeChild(u),u=p}}else"body"===a&&releaseSingletonInstance(e.ownerDocument.body);a=c}while(a);retryIfBlockedOn(s)}function hideOrUnhideDehydratedBoundary(e,s){var a=e;e=0;do{var l=a.nextSibling;if(1===a.nodeType?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",""===a.getAttribute("style")&&a.removeAttribute("style")):3===a.nodeType&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&8===l.nodeType)if("/$"===(a=l.data)){if(0===e)break;e--}else"$"!==a&&"$?"!==a&&"$~"!==a&&"$!"!==a||e++;a=l}while(a)}function clearContainerSparingly(e){var s=e.firstChild;for(s&&10===s.nodeType&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":clearContainerSparingly(a),detachDeletedInstance(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function canHydrateHydrationBoundary(e,s){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=getNextHydratable(e.nextSibling)))return null}return e}function isSuspenseInstancePending(e){return"$?"===e.data||"$~"===e.data}function isSuspenseInstanceFallback(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function getNextHydratable(e){for(;null!=e;e=e.nextSibling){var s=e.nodeType;if(1===s||3===s)break;if(8===s){if("$"===(s=e.data)||"$!"===s||"$?"===s||"$~"===s||"&"===s||"F!"===s||"F"===s)break;if("/$"===s||"/&"===s)return null}}return e}var Ws=null;function getNextHydratableInstanceAfterHydrationBoundary(e){e=e.nextSibling;for(var s=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a||"/&"===a){if(0===s)return getNextHydratable(e.nextSibling);s--}else"$"!==a&&"$!"!==a&&"$?"!==a&&"$~"!==a&&"&"!==a||s++}e=e.nextSibling}return null}function getParentHydrationBoundary(e){e=e.previousSibling;for(var s=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a||"$~"===a||"&"===a){if(0===s)return e;s--}else"/$"!==a&&"/&"!==a||s++}e=e.previousSibling}return null}function resolveSingletonInstance(e,s,a){switch(s=getOwnerDocumentFromRootContainer(a),e){case"html":if(!(e=s.documentElement))throw Error(formatProdErrorMessage(452));return e;case"head":if(!(e=s.head))throw Error(formatProdErrorMessage(453));return e;case"body":if(!(e=s.body))throw Error(formatProdErrorMessage(454));return e;default:throw Error(formatProdErrorMessage(451))}}function releaseSingletonInstance(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);detachDeletedInstance(e)}var Zs=new Map,Ks=new Set;function getHoistableRoot(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Gs=z.d;z.d={f:function flushSyncWork(){var e=Gs.f(),s=flushSyncWork$1();return e||s},r:function requestFormReset(e){var s=getInstanceFromNode(e);null!==s&&5===s.tag&&"form"===s.type?requestFormReset$1(s):Gs.r(e)},D:function prefetchDNS(e){Gs.D(e),preconnectAs("dns-prefetch",e,null)},C:function preconnect(e,s){Gs.C(e,s),preconnectAs("preconnect",e,s)},L:function preload2(e,s,a){Gs.L(e,s,a);var c=Ys;if(c&&e&&s){var u='link[rel="preload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(s)+'"]';"image"===s&&a&&a.imageSrcSet?(u+='[imagesrcset="'+escapeSelectorAttributeValueInsideDoubleQuotes(a.imageSrcSet)+'"]',"string"==typeof a.imageSizes&&(u+='[imagesizes="'+escapeSelectorAttributeValueInsideDoubleQuotes(a.imageSizes)+'"]')):u+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(e)+'"]';var p=u;switch(s){case"style":p=getStyleKey(e);break;case"script":p=getScriptKey(e)}Zs.has(p)||(e=l({rel:"preload",href:"image"===s&&a&&a.imageSrcSet?void 0:e,as:s},a),Zs.set(p,e),null!==c.querySelector(u)||"style"===s&&c.querySelector(getStylesheetSelectorFromKey(p))||"script"===s&&c.querySelector(getScriptSelectorFromKey(p))||(setInitialProperties(s=c.createElement("link"),"link",e),markNodeAsHoistable(s),c.head.appendChild(s)))}},m:function preloadModule(e,s){Gs.m(e,s);var a=Ys;if(a&&e){var c=s&&"string"==typeof s.as?s.as:"script",u='link[rel="modulepreload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(c)+'"][href="'+escapeSelectorAttributeValueInsideDoubleQuotes(e)+'"]',p=u;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=getScriptKey(e)}if(!Zs.has(p)&&(e=l({rel:"modulepreload",href:e},s),Zs.set(p,e),null===a.querySelector(u))){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(getScriptSelectorFromKey(p)))return}setInitialProperties(c=a.createElement("link"),"link",e),markNodeAsHoistable(c),a.head.appendChild(c)}}},X:function preinitScript(e,s){Gs.X(e,s);var a=Ys;if(a&&e){var c=getResourcesFromRoot(a).hoistableScripts,u=getScriptKey(e),p=c.get(u);p||((p=a.querySelector(getScriptSelectorFromKey(u)))||(e=l({src:e,async:!0},s),(s=Zs.get(u))&&adoptPreloadPropsForScript(e,s),markNodeAsHoistable(p=a.createElement("script")),setInitialProperties(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(u,p))}},S:function preinitStyle(e,s,a){Gs.S(e,s,a);var c=Ys;if(c&&e){var u=getResourcesFromRoot(c).hoistableStyles,p=getStyleKey(e);s=s||"default";var m=u.get(p);if(!m){var h={loading:0,preload:null};if(m=c.querySelector(getStylesheetSelectorFromKey(p)))h.loading=5;else{e=l({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Zs.get(p))&&adoptPreloadPropsForStylesheet(e,a);var f=m=c.createElement("link");markNodeAsHoistable(f),setInitialProperties(f,"link",e),f._p=new Promise(function(e,s){f.onload=e,f.onerror=s}),f.addEventListener("load",function(){h.loading|=1}),f.addEventListener("error",function(){h.loading|=2}),h.loading|=4,insertStylesheet(m,s,c)}m={type:"stylesheet",instance:m,count:1,state:h},u.set(p,m)}}},M:function preinitModuleScript(e,s){Gs.M(e,s);var a=Ys;if(a&&e){var c=getResourcesFromRoot(a).hoistableScripts,u=getScriptKey(e),p=c.get(u);p||((p=a.querySelector(getScriptSelectorFromKey(u)))||(e=l({src:e,async:!0,type:"module"},s),(s=Zs.get(u))&&adoptPreloadPropsForScript(e,s),markNodeAsHoistable(p=a.createElement("script")),setInitialProperties(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(u,p))}}};var Ys="undefined"==typeof document?null:document;function preconnectAs(e,s,a){var l=Ys;if(l&&"string"==typeof s&&s){var c=escapeSelectorAttributeValueInsideDoubleQuotes(s);c='link[rel="'+e+'"][href="'+c+'"]',"string"==typeof a&&(c+='[crossorigin="'+a+'"]'),Ks.has(c)||(Ks.add(c),e={rel:e,crossOrigin:a,href:s},null===l.querySelector(c)&&(setInitialProperties(s=l.createElement("link"),"link",e),markNodeAsHoistable(s),l.head.appendChild(s)))}}function getResource(e,s,a,l){var c=(c=re.current)?getHoistableRoot(c):null;if(!c)throw Error(formatProdErrorMessage(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof a.precedence&&"string"==typeof a.href?(s=getStyleKey(a.href),(l=(a=getResourcesFromRoot(c).hoistableStyles).get(s))||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"==typeof a.href&&"string"==typeof a.precedence){e=getStyleKey(a.href);var u=getResourcesFromRoot(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(getStylesheetSelectorFromKey(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Zs.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zs.set(e,a),u||function preloadStylesheet(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),setInitialProperties(s,"link",a),markNodeAsHoistable(s),e.head.appendChild(s))}(c,e,a,p.state))),s&&null===l)throw Error(formatProdErrorMessage(528,""));return p}if(s&&null!==l)throw Error(formatProdErrorMessage(529,""));return null;case"script":return s=a.async,"string"==typeof(a=a.src)&&s&&"function"!=typeof s&&"symbol"!=typeof s?(s=getScriptKey(a),(l=(a=getResourcesFromRoot(c).hoistableScripts).get(s))||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,e))}}function getStyleKey(e){return'href="'+escapeSelectorAttributeValueInsideDoubleQuotes(e)+'"'}function getStylesheetSelectorFromKey(e){return'link[rel="stylesheet"]['+e+"]"}function stylesheetPropsFromRawProps(e){return l({},e,{"data-precedence":e.precedence,precedence:null})}function getScriptKey(e){return'[src="'+escapeSelectorAttributeValueInsideDoubleQuotes(e)+'"]'}function getScriptSelectorFromKey(e){return"script[async]"+e}function acquireResource(e,s,a){if(s.count++,null===s.instance)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+escapeSelectorAttributeValueInsideDoubleQuotes(a.href)+'"]');if(c)return s.instance=c,markNodeAsHoistable(c),c;var u=l({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return markNodeAsHoistable(c=(e.ownerDocument||e).createElement("style")),setInitialProperties(c,"style",u),insertStylesheet(c,a.precedence,e),s.instance=c;case"stylesheet":u=getStyleKey(a.href);var p=e.querySelector(getStylesheetSelectorFromKey(u));if(p)return s.state.loading|=4,s.instance=p,markNodeAsHoistable(p),p;c=stylesheetPropsFromRawProps(a),(u=Zs.get(u))&&adoptPreloadPropsForStylesheet(c,u),markNodeAsHoistable(p=(e.ownerDocument||e).createElement("link"));var m=p;return m._p=new Promise(function(e,s){m.onload=e,m.onerror=s}),setInitialProperties(p,"link",c),s.state.loading|=4,insertStylesheet(p,a.precedence,e),s.instance=p;case"script":return p=getScriptKey(a.src),(u=e.querySelector(getScriptSelectorFromKey(p)))?(s.instance=u,markNodeAsHoistable(u),u):(c=a,(u=Zs.get(p))&&adoptPreloadPropsForScript(c=l({},a),u),markNodeAsHoistable(u=(e=e.ownerDocument||e).createElement("script")),setInitialProperties(u,"link",c),e.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(formatProdErrorMessage(443,s.type))}else"stylesheet"===s.type&&!(4&s.state.loading)&&(c=s.instance,s.state.loading|=4,insertStylesheet(c,a.precedence,e));return s.instance}function insertStylesheet(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,p=0;p<l.length;p++){var m=l[p];if(m.dataset.precedence===s)u=m;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(s=9===a.nodeType?a.head:a).insertBefore(e,s.firstChild)}function adoptPreloadPropsForStylesheet(e,s){null==e.crossOrigin&&(e.crossOrigin=s.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),null==e.title&&(e.title=s.title)}function adoptPreloadPropsForScript(e,s){null==e.crossOrigin&&(e.crossOrigin=s.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),null==e.integrity&&(e.integrity=s.integrity)}var Qs=null;function getHydratableHoistableCache(e,s,a){if(null===Qs){var l=new Map,c=Qs=new Map;c.set(a,l)}else(l=(c=Qs).get(a))||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var u=a[c];if(!(u[We]||u[Fe]||"link"===e&&"stylesheet"===u.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==u.namespaceURI){var p=u.getAttribute(s)||"";p=e+p;var m=l.get(p);m?m.push(u):l.set(p,[u])}}return l}function mountHoistable(e,s,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===s?e.querySelector("head > title"):null)}function preloadResource(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Xs=0;function onUnsuspend(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Js=null;function insertSuspendedStylesheets(e,s){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Js=new Map,s.forEach(insertStylesheetIntoRoot,e),Js=null,onUnsuspend.call(e))}function insertStylesheetIntoRoot(e,s){if(!(4&s.state.loading)){var a=Js.get(e);if(a)var l=a.get(null);else{a=new Map,Js.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];"LINK"!==p.nodeName&&"not all"===p.getAttribute("media")||(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}p=(c=s.instance).getAttribute("data-precedence"),(u=a.get(p)||l)===l&&a.set(null,c),a.set(p,c),this.count++,l=onUnsuspend.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(c,e.firstChild),s.state.loading|=4}}var ea={$$typeof:b,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function FiberRootNode(e,s,a,l,c,u,p,m,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=createLaneMap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=createLaneMap(0),this.hiddenUpdates=createLaneMap(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function createFiberRoot(e,s,a,l,c,u,p,m,h,f,g,b){return e=new FiberRootNode(e,s,a,p,h,f,g,b,m),s=1,!0===u&&(s|=24),u=createFiberImplClass(3,null,null,s),e.current=u,u.stateNode=e,(s=createCache()).refCount++,e.pooledCache=s,s.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:s},initializeUpdateQueue(u),e}function getContextForSubtree(e){return e?e=br:br}function updateContainerImpl(e,s,a,l,c,u){c=getContextForSubtree(c),null===l.context?l.context=c:l.pendingContext=c,(l=createUpdate(s)).payload={element:a},null!==(u=void 0===u?null:u)&&(l.callback=u),null!==(a=enqueueUpdate(e,l,s))&&(scheduleUpdateOnFiber(a,0,s),entangleTransitions(a,e,s))}function markRetryLaneImpl(e,s){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<s?a:s}}function markRetryLaneIfNotHydrated(e,s){markRetryLaneImpl(e,s),(e=e.alternate)&&markRetryLaneImpl(e,s)}function attemptContinuousHydration(e){if(13===e.tag||31===e.tag){var s=enqueueConcurrentRenderForLane(e,67108864);null!==s&&scheduleUpdateOnFiber(s,0,67108864),markRetryLaneIfNotHydrated(e,67108864)}}function attemptHydrationAtCurrentPriority(e){if(13===e.tag||31===e.tag){var s=requestUpdateLane(),a=enqueueConcurrentRenderForLane(e,s=getBumpedLaneForHydrationByLane(s));null!==a&&scheduleUpdateOnFiber(a,0,s),markRetryLaneIfNotHydrated(e,s)}}var ta=!0;function dispatchDiscreteEvent(e,s,a,l){var c=$.T;$.T=null;var u=z.p;try{z.p=2,dispatchEvent2(e,s,a,l)}finally{z.p=u,$.T=c}}function dispatchContinuousEvent(e,s,a,l){var c=$.T;$.T=null;var u=z.p;try{z.p=8,dispatchEvent2(e,s,a,l)}finally{z.p=u,$.T=c}}function dispatchEvent2(e,s,a,l){if(ta){var c=findInstanceBlockingEvent(l);if(null===c)dispatchEventForPluginEventSystem(e,s,l,ra,a),clearIfContinuousEvent(e,l);else if(function queueIfContinuousEvent(e,s,a,l,c){switch(s){case"focusin":return sa=accumulateOrCreateContinuousQueuedReplayableEvent(sa,e,s,a,l,c),!0;case"dragenter":return aa=accumulateOrCreateContinuousQueuedReplayableEvent(aa,e,s,a,l,c),!0;case"mouseover":return ia=accumulateOrCreateContinuousQueuedReplayableEvent(ia,e,s,a,l,c),!0;case"pointerover":var u=c.pointerId;return oa.set(u,accumulateOrCreateContinuousQueuedReplayableEvent(oa.get(u)||null,e,s,a,l,c)),!0;case"gotpointercapture":return u=c.pointerId,la.set(u,accumulateOrCreateContinuousQueuedReplayableEvent(la.get(u)||null,e,s,a,l,c)),!0}return!1}(c,e,s,a,l))l.stopPropagation();else if(clearIfContinuousEvent(e,l),4&s&&-1<da.indexOf(e)){for(;null!==c;){var u=getInstanceFromNode(c);if(null!==u)switch(u.tag){case 3:if((u=u.stateNode).current.memoizedState.isDehydrated){var p=getHighestPriorityLanes(u.pendingLanes);if(0!==p){var m=u;for(m.pendingLanes|=2,m.entangledLanes|=2;p;){var h=1<<31-Te(p);m.entanglements[1]|=h,p&=~h}ensureRootIsScheduled(u),!(6&Wn)&&(hs=fe()+500,flushSyncWorkAcrossRoots_impl(0))}}break;case 31:case 13:null!==(m=enqueueConcurrentRenderForLane(u,2))&&scheduleUpdateOnFiber(m,0,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(u,2)}if(null===(u=findInstanceBlockingEvent(l))&&dispatchEventForPluginEventSystem(e,s,l,ra,a),u===c)break;c=u}null!==c&&l.stopPropagation()}else dispatchEventForPluginEventSystem(e,s,l,null,a)}}function findInstanceBlockingEvent(e){return findInstanceBlockingTarget(e=getEventTarget(e))}var ra=null;function findInstanceBlockingTarget(e){if(ra=null,null!==(e=getClosestInstanceFromNode(e))){var s=getNearestMountedFiber(e);if(null===s)e=null;else{var a=s.tag;if(13===a){if(null!==(e=getSuspenseInstanceFromFiber(s)))return e;e=null}else if(31===a){if(null!==(e=getActivityInstanceFromFiber(s)))return e;e=null}else if(3===a){if(s.stateNode.current.memoizedState.isDehydrated)return 3===s.tag?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return ra=e,null}function getEventPriority(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case xe:return 2;case ye:return 8;case be:case je:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var na=!1,sa=null,aa=null,ia=null,oa=new Map,la=new Map,ca=[],da="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function clearIfContinuousEvent(e,s){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":oa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(s.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(e,s,a,l,c,u){return null===e||e.nativeEvent!==u?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},null!==s&&(null!==(s=getInstanceFromNode(s))&&attemptContinuousHydration(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,null!==c&&-1===s.indexOf(c)&&s.push(c),e)}function attemptExplicitHydrationTarget(e){var s=getClosestInstanceFromNode(e.target);if(null!==s){var a=getNearestMountedFiber(s);if(null!==a)if(13===(s=a.tag)){if(null!==(s=getSuspenseInstanceFromFiber(a)))return e.blockedOn=s,void runWithPriority(e.priority,function(){attemptHydrationAtCurrentPriority(a)})}else if(31===s){if(null!==(s=getActivityInstanceFromFiber(a)))return e.blockedOn=s,void runWithPriority(e.priority,function(){attemptHydrationAtCurrentPriority(a)})}else if(3===s&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function attemptReplayContinuousQueuedEvent(e){if(null!==e.blockedOn)return!1;for(var s=e.targetContainers;0<s.length;){var a=findInstanceBlockingEvent(e.nativeEvent);if(null!==a)return null!==(s=getInstanceFromNode(a))&&attemptContinuousHydration(s),e.blockedOn=a,!1;var l=new(a=e.nativeEvent).constructor(a.type,a);rt=l,a.target.dispatchEvent(l),rt=null,s.shift()}return!0}function attemptReplayContinuousQueuedEventInMap(e,s,a){attemptReplayContinuousQueuedEvent(e)&&a.delete(s)}function replayUnblockedEvents(){na=!1,null!==sa&&attemptReplayContinuousQueuedEvent(sa)&&(sa=null),null!==aa&&attemptReplayContinuousQueuedEvent(aa)&&(aa=null),null!==ia&&attemptReplayContinuousQueuedEvent(ia)&&(ia=null),oa.forEach(attemptReplayContinuousQueuedEventInMap),la.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(s,a){s.blockedOn===a&&(s.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,replayUnblockedEvents)))}var ua=null;function scheduleReplayQueueIfNeeded(s){ua!==s&&(ua=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ua===s&&(ua=null);for(var e=0;e<s.length;e+=3){var a=s[e],l=s[e+1],c=s[e+2];if("function"!=typeof l){if(null===findInstanceBlockingTarget(l||a))continue;break}var u=getInstanceFromNode(a);null!==u&&(s.splice(e,3),e-=3,startHostTransition(u,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function retryIfBlockedOn(e){function unblock(s){return scheduleCallbackIfUnblocked(s,e)}null!==sa&&scheduleCallbackIfUnblocked(sa,e),null!==aa&&scheduleCallbackIfUnblocked(aa,e),null!==ia&&scheduleCallbackIfUnblocked(ia,e),oa.forEach(unblock),la.forEach(unblock);for(var s=0;s<ca.length;s++){var a=ca[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ca.length&&null===(s=ca[0]).blockedOn;)attemptExplicitHydrationTarget(s),null===s.blockedOn&&ca.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],u=l[Be]||null;if("function"==typeof c)u||scheduleReplayQueueIfNeeded(s);else if(u){var p=null;if(c&&c.hasAttribute("formAction")){if(l=c,u=c[Be]||null)p=u.formAction;else if(null!==findInstanceBlockingTarget(l))continue}else p=u.action;"function"==typeof p?s[a+1]=p:(s.splice(a,3),a-=3),scheduleReplayQueueIfNeeded(s)}}}function defaultOnDefaultTransitionIndicator(){function handleNavigate(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function handleNavigateComplete(){null!==s&&(s(),s=null),e||setTimeout(startFakeNavigation,20)}function startFakeNavigation(){if(!e&&!navigation.transition){var s=navigation.currentEntry;s&&null!=s.url&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var e=!1,s=null;return navigation.addEventListener("navigate",handleNavigate),navigation.addEventListener("navigatesuccess",handleNavigateComplete),navigation.addEventListener("navigateerror",handleNavigateComplete),setTimeout(startFakeNavigation,100),function(){e=!0,navigation.removeEventListener("navigate",handleNavigate),navigation.removeEventListener("navigatesuccess",handleNavigateComplete),navigation.removeEventListener("navigateerror",handleNavigateComplete),null!==s&&(s(),s=null)}}}function ReactDOMRoot(e){this._internalRoot=e}function ReactDOMHydrationRoot(e){this._internalRoot=e}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(e){var s=this._internalRoot;if(null===s)throw Error(formatProdErrorMessage(409));updateContainerImpl(s.current,requestUpdateLane(),e,s,null,null)},ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var s=e.containerInfo;updateContainerImpl(e.current,2,null,e,null,null),flushSyncWork$1(),s[ze]=null}},ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(e){if(e){var s=resolveUpdatePriority();e={blockedOn:null,target:e,priority:s};for(var a=0;a<ca.length&&0!==s&&s<ca[a].priority;a++);ca.splice(a,0,e),0===a&&attemptExplicitHydrationTarget(e)}};var pa=s.version;if("19.2.0"!==pa)throw Error(formatProdErrorMessage(527,pa,"19.2.0"));z.findDOMNode=function(e){var s=e._reactInternals;if(void 0===s){if("function"==typeof e.render)throw Error(formatProdErrorMessage(188));throw e=Object.keys(e).join(","),Error(formatProdErrorMessage(268,e))}return e=function findCurrentFiberUsingSlowPath(e){var s=e.alternate;if(!s){if(null===(s=getNearestMountedFiber(e)))throw Error(formatProdErrorMessage(188));return s!==e?null:e}for(var a=e,l=s;;){var c=a.return;if(null===c)break;var u=c.alternate;if(null===u){if(null!==(l=c.return)){a=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===a)return assertIsMounted(c),e;if(u===l)return assertIsMounted(c),s;u=u.sibling}throw Error(formatProdErrorMessage(188))}if(a.return!==l.return)a=c,l=u;else{for(var p=!1,m=c.child;m;){if(m===a){p=!0,a=c,l=u;break}if(m===l){p=!0,l=c,a=u;break}m=m.sibling}if(!p){for(m=u.child;m;){if(m===a){p=!0,a=u,l=c;break}if(m===l){p=!0,l=u,a=c;break}m=m.sibling}if(!p)throw Error(formatProdErrorMessage(189))}}if(a.alternate!==l)throw Error(formatProdErrorMessage(190))}if(3!==a.tag)throw Error(formatProdErrorMessage(188));return a.stateNode.current===a?e:s}(s),e=null===(e=null!==e?findCurrentHostFiberImpl(e):null)?null:e.stateNode};var ma={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{_e=ha.inject(ma),Pe=ha}catch(ga){}}return Ot.createRoot=function(e,s){if(!isValidContainer(e))throw Error(formatProdErrorMessage(299));var a=!1,l="",c=defaultOnUncaughtError,u=defaultOnCaughtError,p=defaultOnRecoverableError;return null!=s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(l=s.identifierPrefix),void 0!==s.onUncaughtError&&(c=s.onUncaughtError),void 0!==s.onCaughtError&&(u=s.onCaughtError),void 0!==s.onRecoverableError&&(p=s.onRecoverableError)),s=createFiberRoot(e,1,!1,null,0,a,l,null,c,u,p,defaultOnDefaultTransitionIndicator),e[ze]=s.current,listenToAllSupportedEvents(e),new ReactDOMRoot(s)},Ot.hydrateRoot=function(e,s,a){if(!isValidContainer(e))throw Error(formatProdErrorMessage(299));var l=!1,c="",u=defaultOnUncaughtError,p=defaultOnCaughtError,m=defaultOnRecoverableError,h=null;return null!=a&&(!0===a.unstable_strictMode&&(l=!0),void 0!==a.identifierPrefix&&(c=a.identifierPrefix),void 0!==a.onUncaughtError&&(u=a.onUncaughtError),void 0!==a.onCaughtError&&(p=a.onCaughtError),void 0!==a.onRecoverableError&&(m=a.onRecoverableError),void 0!==a.formState&&(h=a.formState)),(s=createFiberRoot(e,1,!0,s,0,l,c,h,u,p,m,defaultOnDefaultTransitionIndicator)).context=getContextForSubtree(null),a=s.current,(c=createUpdate(l=getBumpedLaneForHydrationByLane(l=requestUpdateLane()))).callback=null,enqueueUpdate(a,c,l),a=l,s.current.lanes=a,markRootUpdated$1(s,a),ensureRootIsScheduled(s),e[ze]=s.current,listenToAllSupportedEvents(e),new ReactDOMHydrationRoot(s)},Ot.version="19.2.0",Ot}var Ht,qt,Wt=function requireClient(){return zt||(zt=1,function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}(),Dt.exports=requireReactDomClient_production()),Dt.exports}();const Zt=getDefaultExportFromCjs$2(function requireReactFastCompare(){if(qt)return Ht;qt=1;var e="undefined"!=typeof Element,s="function"==typeof Map,a="function"==typeof Set,l="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function equal3(c,u){if(c===u)return!0;if(c&&u&&"object"==typeof c&&"object"==typeof u){if(c.constructor!==u.constructor)return!1;var p,m,h,f;if(Array.isArray(c)){if((p=c.length)!=u.length)return!1;for(m=p;0!==m--;)if(!equal3(c[m],u[m]))return!1;return!0}if(s&&c instanceof Map&&u instanceof Map){if(c.size!==u.size)return!1;for(f=c.entries();!(m=f.next()).done;)if(!u.has(m.value[0]))return!1;for(f=c.entries();!(m=f.next()).done;)if(!equal3(m.value[1],u.get(m.value[0])))return!1;return!0}if(a&&c instanceof Set&&u instanceof Set){if(c.size!==u.size)return!1;for(f=c.entries();!(m=f.next()).done;)if(!u.has(m.value[0]))return!1;return!0}if(l&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(u)){if((p=c.length)!=u.length)return!1;for(m=p;0!==m--;)if(c[m]!==u[m])return!1;return!0}if(c.constructor===RegExp)return c.source===u.source&&c.flags===u.flags;if(c.valueOf!==Object.prototype.valueOf&&"function"==typeof c.valueOf&&"function"==typeof u.valueOf)return c.valueOf()===u.valueOf();if(c.toString!==Object.prototype.toString&&"function"==typeof c.toString&&"function"==typeof u.toString)return c.toString()===u.toString();if((p=(h=Object.keys(c)).length)!==Object.keys(u).length)return!1;for(m=p;0!==m--;)if(!Object.prototype.hasOwnProperty.call(u,h[m]))return!1;if(e&&c instanceof Element)return!1;for(m=p;0!==m--;)if(("_owner"!==h[m]&&"__v"!==h[m]&&"__o"!==h[m]||!c.$$typeof)&&!equal3(c[h[m]],u[h[m]]))return!1;return!0}return c!=c&&u!=u}return Ht=function isEqual2(e,s){try{return equal3(e,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}}());var Kt,Gt;const Yt=getDefaultExportFromCjs$2(function requireBrowser(){return Gt?Kt:(Gt=1,Kt=function(e,s,a,l,c,u,p,m){if(!e){var h;if(void 0===s)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[a,l,c,u,p,m],g=0;(h=new Error(s.replace(/%s/g,function(){return f[g++]}))).name="Invariant Violation"}throw h.framesToPop=1,h}})}());var Qt,Xt;const Jt=getDefaultExportFromCjs$2(function requireShallowequal(){return Xt?Qt:(Xt=1,Qt=function shallowEqual2(e,s,a,l){var c=a?a.call(l,e,s):void 0;if(void 0!==c)return!!c;if(e===s)return!0;if("object"!=typeof e||!e||"object"!=typeof s||!s)return!1;var u=Object.keys(e),p=Object.keys(s);if(u.length!==p.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(s),h=0;h<u.length;h++){var f=u[h];if(!m(f))return!1;var g=e[f],b=s[f];if(!1===(c=a?a.call(l,g,b,f):void 0)||void 0===c&&g!==b)return!1}return!0})}());var er=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(er||{}),tr={rel:["amphtml","canonical","alternate"]},rr={type:["application/ld+json"]},nr={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},sr=Object.values(er),ar={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ir=Object.entries(ar).reduce((e,[s,a])=>(e[a]=s,e),{}),or="data-rh",lr="defaultTitle",cr="defer",dr="encodeSpecialCharacters",ur="onChangeClientState",pr="titleTemplate",mr="prioritizeSeoTags",getInnermostProperty=(e,s)=>{for(let a=e.length-1;a>=0;a-=1){const l=e[a];if(Object.prototype.hasOwnProperty.call(l,s))return l[s]}return null},getTitleFromPropsList=e=>{let s=getInnermostProperty(e,"title");const a=getInnermostProperty(e,pr);if(Array.isArray(s)&&(s=s.join("")),a&&s)return a.replace(/%s/g,()=>s);const l=getInnermostProperty(e,lr);return s||l||void 0},getOnChangeClientState=e=>getInnermostProperty(e,ur)||(()=>{}),getAttributesFromPropsList=(e,s)=>s.filter(s=>void 0!==s[e]).map(s=>s[e]).reduce((e,s)=>({...e,...s}),{}),getBaseTagFromPropsList=(e,s)=>s.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((s,a)=>{if(!s.length){const l=Object.keys(a);for(let c=0;c<l.length;c+=1){const u=l[c].toLowerCase();if(-1!==e.indexOf(u)&&a[u])return s.concat(a)}}return s},[]),getTagsFromPropsList=(e,s,a)=>{const l={};return a.filter(s=>{return!!Array.isArray(s[e])||(void 0!==s[e]&&(a=`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`,console&&"function"==typeof console.warn&&console.warn(a)),!1);var a}).map(s=>s[e]).reverse().reduce((e,a)=>{const c={};a.filter(e=>{let a;const u=Object.keys(e);for(let l=0;l<u.length;l+=1){const c=u[l],p=c.toLowerCase();-1===s.indexOf(p)||"rel"===a&&"canonical"===e[a].toLowerCase()||"rel"===p&&"stylesheet"===e[p].toLowerCase()||(a=p),-1===s.indexOf(c)||"innerHTML"!==c&&"cssText"!==c&&"itemprop"!==c||(a=c)}if(!a||!e[a])return!1;const p=e[a].toLowerCase();return l[a]||(l[a]={}),c[a]||(c[a]={}),!l[a][p]&&(c[a][p]=!0,!0)}).reverse().forEach(s=>e.push(s));const u=Object.keys(c);for(let s=0;s<u.length;s+=1){const e=u[s],a={...l[e],...c[e]};l[e]=a}return e},[]).reverse()},getAnyTrueFromPropsList=(e,s)=>{if(Array.isArray(e)&&e.length)for(let a=0;a<e.length;a+=1){if(e[a][s])return!0}return!1},flattenArray=e=>Array.isArray(e)?e.join(""):e,prioritizer=(e,s)=>Array.isArray(e)?e.reduce((e,a)=>(((e,s)=>{const a=Object.keys(e);for(let l=0;l<a.length;l+=1)if(s[a[l]]&&s[a[l]].includes(e[a[l]]))return!0;return!1})(a,s)?e.priority.push(a):e.default.push(a),e),{priority:[],default:[]}):{default:e,priority:[]},without=(e,s)=>({...e,[s]:void 0}),hr=["noscript","script","style"],encodeSpecialCharacters=(e,s=!0)=>!1===s?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=e=>Object.keys(e).reduce((s,a)=>{const l=void 0!==e[a]?`${a}="${e[a]}"`:`${a}`;return s?`${s} ${l}`:l},""),convertElementAttributesToReactProps=(e,s={})=>Object.keys(e).reduce((s,a)=>(s[ar[a]||a]=e[a],s),s),generateTagsAsReactComponent=(e,s)=>s.map((s,a)=>{const l={key:a,[or]:!0};return Object.keys(s).forEach(e=>{const a=ar[e]||e;if("innerHTML"===a||"cssText"===a){const e=s.innerHTML||s.cssText;l.dangerouslySetInnerHTML={__html:e}}else l[a]=s[e]}),ae.createElement(e,l)}),getMethodsForTag=(e,s,a=!0)=>{switch(e){case"title":return{toComponent:()=>((e,s,a)=>{const l=convertElementAttributesToReactProps(a,{key:s,[or]:!0});return[ae.createElement("title",l,s)]})(0,s.title,s.titleAttributes),toString:()=>((e,s,a,l)=>{const c=generateElementAttributesAsString(a),u=flattenArray(s);return c?`<${e} ${or}="true" ${c}>${encodeSpecialCharacters(u,l)}</${e}>`:`<${e} ${or}="true">${encodeSpecialCharacters(u,l)}</${e}>`})(e,s.title,s.titleAttributes,a)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(s),toString:()=>generateElementAttributesAsString(s)};default:return{toComponent:()=>generateTagsAsReactComponent(e,s),toString:()=>((e,s,a=!0)=>s.reduce((s,l)=>{const c=l,u=Object.keys(c).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,s)=>{const l=void 0===c[s]?s:`${s}="${encodeSpecialCharacters(c[s],a)}"`;return e?`${e} ${l}`:l},""),p=c.innerHTML||c.cssText||"",m=-1===hr.indexOf(e);return`${s}<${e} ${or}="true" ${u}${m?"/>":`>${p}</${e}>`}`},""))(e,s,a)}}},server_default=e=>{const{baseTag:s,bodyAttributes:a,encode:l=!0,htmlAttributes:c,noscriptTags:u,styleTags:p,title:m="",titleAttributes:h,prioritizeSeoTags:f}=e;let{linkTags:g,metaTags:b,scriptTags:j}=e,N={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:N,linkTags:g,metaTags:b,scriptTags:j}=(({metaTags:e,linkTags:s,scriptTags:a,encode:l})=>{const c=prioritizer(e,nr),u=prioritizer(s,tr),p=prioritizer(a,rr);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",c.priority),...generateTagsAsReactComponent("link",u.priority),...generateTagsAsReactComponent("script",p.priority)],toString:()=>`${getMethodsForTag("meta",c.priority,l)} ${getMethodsForTag("link",u.priority,l)} ${getMethodsForTag("script",p.priority,l)}`},metaTags:c.default,linkTags:u.default,scriptTags:p.default}})(e)),{priority:N,base:getMethodsForTag("base",s,l),bodyAttributes:getMethodsForTag("bodyAttributes",a,l),htmlAttributes:getMethodsForTag("htmlAttributes",c,l),link:getMethodsForTag("link",g,l),meta:getMethodsForTag("meta",b,l),noscript:getMethodsForTag("noscript",u,l),script:getMethodsForTag("script",j,l),style:getMethodsForTag("style",p,l),title:getMethodsForTag("title",{title:m,titleAttributes:h},l)}},fr=[],gr=!("undefined"==typeof window||!window.document||!window.document.createElement),xr=class{instances=[];canUseDOM=gr;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?fr:this.instances,add:e=>{(this.canUseDOM?fr:this.instances).push(e)},remove:e=>{const s=(this.canUseDOM?fr:this.instances).indexOf(e);(this.canUseDOM?fr:this.instances).splice(s,1)}}};constructor(e,s){this.context=e,this.canUseDOM=s||!1,s||(e.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},vr=ae.createContext({}),yr=class _HelmetProvider extends re.Component{static canUseDOM=gr;helmetData;constructor(e){super(e),this.helmetData=new xr(this.props.context||{},_HelmetProvider.canUseDOM)}render(){return ae.createElement(vr.Provider,{value:this.helmetData.value},this.props.children)}},updateTags=(e,s)=>{const a=document.head||document.querySelector("head"),l=a.querySelectorAll(`${e}[${or}]`),c=[].slice.call(l),u=[];let p;return s&&s.length&&s.forEach(s=>{const a=document.createElement(e);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))if("innerHTML"===e)a.innerHTML=s.innerHTML;else if("cssText"===e)a.styleSheet?a.styleSheet.cssText=s.cssText:a.appendChild(document.createTextNode(s.cssText));else{const l=e,c=void 0===s[l]?"":s[l];a.setAttribute(e,c)}a.setAttribute(or,"true"),c.some((e,s)=>(p=s,a.isEqualNode(e)))?c.splice(p,1):u.push(a)}),c.forEach(e=>e.parentNode?.removeChild(e)),u.forEach(e=>a.appendChild(e)),{oldTags:c,newTags:u}},updateAttributes=(e,s)=>{const a=document.getElementsByTagName(e)[0];if(!a)return;const l=a.getAttribute(or),c=l?l.split(","):[],u=[...c],p=Object.keys(s);for(const m of p){const e=s[m]||"";a.getAttribute(m)!==e&&a.setAttribute(m,e),-1===c.indexOf(m)&&c.push(m);const l=u.indexOf(m);-1!==l&&u.splice(l,1)}for(let m=u.length-1;m>=0;m-=1)a.removeAttribute(u[m]);c.length===u.length?a.removeAttribute(or):a.getAttribute(or)!==p.join(",")&&a.setAttribute(or,p.join(","))},commitTagChanges=(e,s)=>{const{baseTag:a,bodyAttributes:l,htmlAttributes:c,linkTags:u,metaTags:p,noscriptTags:m,onChangeClientState:h,scriptTags:f,styleTags:g,title:b,titleAttributes:j}=e;updateAttributes("body",l),updateAttributes("html",c),((e,s)=>{void 0!==e&&document.title!==e&&(document.title=flattenArray(e)),updateAttributes("title",s)})(b,j);const N={baseTag:updateTags("base",a),linkTags:updateTags("link",u),metaTags:updateTags("meta",p),noscriptTags:updateTags("noscript",m),scriptTags:updateTags("script",f),styleTags:updateTags("style",g)},k={},_={};Object.keys(N).forEach(e=>{const{newTags:s,oldTags:a}=N[e];s.length&&(k[e]=s),a.length&&(_[e]=N[e].oldTags)}),s&&s(),h(e,k,_)},br=null,client_default=e=>{br&&cancelAnimationFrame(br),e.defer?br=requestAnimationFrame(()=>{commitTagChanges(e,()=>{br=null})}):(commitTagChanges(e),br=null)},jr=class extends re.Component{rendered=!1;shouldComponentUpdate(e){return!Jt(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let a=null;const l=(c=e.get().map(e=>{const s={...e.props};return delete s.context,s}),{baseTag:getBaseTagFromPropsList(["href"],c),bodyAttributes:getAttributesFromPropsList("bodyAttributes",c),defer:getInnermostProperty(c,cr),encode:getInnermostProperty(c,dr),htmlAttributes:getAttributesFromPropsList("htmlAttributes",c),linkTags:getTagsFromPropsList("link",["rel","href"],c),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],c),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],c),onChangeClientState:getOnChangeClientState(c),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],c),styleTags:getTagsFromPropsList("style",["cssText"],c),title:getTitleFromPropsList(c),titleAttributes:getAttributesFromPropsList("titleAttributes",c),prioritizeSeoTags:getAnyTrueFromPropsList(c,mr)});var c;yr.canUseDOM?client_default(l):server_default&&(a=server_default(l)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},wr=class extends re.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!Zt(without(this.props,"helmetData"),without(e,"helmetData"))}mapNestedChildrenToProps(e,s){if(!s)return null;switch(e.type){case"script":case"noscript":return{innerHTML:s};case"style":return{cssText:s};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,s,a,l){return{...s,[e.type]:[...s[e.type]||[],{...a,...this.mapNestedChildrenToProps(e,l)}]}}mapObjectTypeChildren(e,s,a,l){switch(e.type){case"title":return{...s,[e.type]:l,titleAttributes:{...a}};case"body":return{...s,bodyAttributes:{...a}};case"html":return{...s,htmlAttributes:{...a}};default:return{...s,[e.type]:{...a}}}}mapArrayTypeChildrenToProps(e,s){let a={...s};return Object.keys(e).forEach(s=>{a={...a,[s]:e[s]}}),a}warnOnInvalidChildren(e,s){return Yt(sr.some(s=>e.type===s),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${sr.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Yt(!s||"string"==typeof s||Array.isArray(s)&&!s.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,s){let a={};return ae.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:l,...c}=e.props,u=Object.keys(c).reduce((e,s)=>(e[ir[s]||s]=c[s],e),{});let{type:p}=e;switch("symbol"==typeof p?p=p.toString():this.warnOnInvalidChildren(e,l),p){case"Symbol(react.fragment)":s=this.mapChildrenToProps(l,s);break;case"link":case"meta":case"noscript":case"script":case"style":a=this.flattenArrayTypeChildren(e,a,u,l);break;default:s=this.mapObjectTypeChildren(e,s,u,l)}}),this.mapArrayTypeChildrenToProps(a,s)}render(){const{children:e,...s}=this.props;let a={...s},{helmetData:l}=s;if(e&&(a=this.mapChildrenToProps(e,a)),l&&!(l instanceof xr)){l=new xr(l.context,!0),delete a.helmetData}return l?ae.createElement(jr,{...a,context:l.value}):ae.createElement(vr.Consumer,null,e=>ae.createElement(jr,{...a,context:e}))}},Nr=function(){function DoubleIndexedKV2(){this.keyToValue=new Map,this.valueToKey=new Map}return DoubleIndexedKV2.prototype.set=function(e,s){this.keyToValue.set(e,s),this.valueToKey.set(s,e)},DoubleIndexedKV2.prototype.getByKey=function(e){return this.keyToValue.get(e)},DoubleIndexedKV2.prototype.getByValue=function(e){return this.valueToKey.get(e)},DoubleIndexedKV2.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},DoubleIndexedKV2}(),Sr=function(){function Registry2(e){this.generateIdentifier=e,this.kv=new Nr}return Registry2.prototype.register=function(e,s){this.kv.getByValue(e)||(s||(s=this.generateIdentifier(e)),this.kv.set(s,e))},Registry2.prototype.clear=function(){this.kv.clear()},Registry2.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},Registry2.prototype.getValue=function(e){return this.kv.getByKey(e)},Registry2}(),Cr=function(){var extendStatics=function(e,s){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])})(e,s)};return function(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,s),e.prototype=null===s?Object.create(s):(__.prototype=s.prototype,new __)}}(),kr=function(e){function ClassRegistry2(){var s=e.call(this,function(e){return e.name})||this;return s.classToAllowedProps=new Map,s}return Cr(ClassRegistry2,e),ClassRegistry2.prototype.register=function(s,a){"object"==typeof a?(a.allowProps&&this.classToAllowedProps.set(s,a.allowProps),e.prototype.register.call(this,s,a.identifier)):e.prototype.register.call(this,s,a)},ClassRegistry2.prototype.getAllowedProps=function(e){return this.classToAllowedProps.get(e)},ClassRegistry2}(Sr);function find$1(e,s){var a=function valuesOfObj(e){if("values"in Object)return Object.values(e);var s=[];for(var a in e)e.hasOwnProperty(a)&&s.push(e[a]);return s}(e);if("find"in a)return a.find(s);for(var l=a,c=0;c<l.length;c++){var u=l[c];if(s(u))return u}}function forEach$1(e,s){Object.entries(e).forEach(function(e){var a=function(e,s){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var l,c,u=a.call(e),p=[];try{for(;(void 0===s||s-- >0)&&!(l=u.next()).done;)p.push(l.value)}catch(m){c={error:m}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return p}(e,2),l=a[0],c=a[1];return s(c,l)})}function includes(e,s){return-1!==e.indexOf(s)}function findArr(e,s){for(var a=0;a<e.length;a++){var l=e[a];if(s(l))return l}}var _r=function(){function CustomTransformerRegistry2(){this.transfomers={}}return CustomTransformerRegistry2.prototype.register=function(e){this.transfomers[e.name]=e},CustomTransformerRegistry2.prototype.findApplicable=function(e){return find$1(this.transfomers,function(s){return s.isApplicable(e)})},CustomTransformerRegistry2.prototype.findByName=function(e){return this.transfomers[e]},CustomTransformerRegistry2}(),isUndefined$1=function(e){return void 0===e},isPlainObject$3=function(e){return"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype))},isEmptyObject$1=function(e){return isPlainObject$3(e)&&0===Object.keys(e).length},isArray$2=function(e){return Array.isArray(e)},isMap=function(e){return e instanceof Map},isSet=function(e){return e instanceof Set},isSymbol=function(e){return"Symbol"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)},isNaNValue=function(e){return"number"==typeof e&&isNaN(e)},isPrimitive$1=function(e){return function(e){return"boolean"==typeof e}(e)||function(e){return null===e}(e)||isUndefined$1(e)||function(e){return"number"==typeof e&&!isNaN(e)}(e)||function(e){return"string"==typeof e}(e)||isSymbol(e)},escapeKey=function(e){return e.replace(/\./g,"\\.")},stringifyPath=function(e){return e.map(String).map(escapeKey).join(".")},parsePath=function(e){for(var s=[],a="",l=0;l<e.length;l++){var c=e.charAt(l);if("\\"===c&&"."===e.charAt(l+1))a+=".",l++;else"."===c?(s.push(a),a=""):a+=c}var u=a;return s.push(u),s},__assign$2=function(){return __assign$2=Object.assign||function(e){for(var s,a=1,l=arguments.length;a<l;a++)for(var c in s=arguments[a])Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);return e},__assign$2.apply(this,arguments)},__read$2=function(e,s){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var l,c,u=a.call(e),p=[];try{for(;(void 0===s||s-- >0)&&!(l=u.next()).done;)p.push(l.value)}catch(m){c={error:m}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return p},__spreadArray$3=function(e,s){for(var a=0,l=s.length,c=e.length;a<l;a++,c++)e[c]=s[a];return e};function simpleTransformation(e,s,a,l){return{isApplicable:e,annotation:s,transform:a,untransform:l}}var Pr=[simpleTransformation(isUndefined$1,"undefined",function(){return null},function(){}),simpleTransformation(function(e){return"bigint"==typeof e},"bigint",function(e){return e.toString()},function(e){return"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),simpleTransformation(function(e){return e instanceof Date&&!isNaN(e.valueOf())},"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),simpleTransformation(function(e){return e instanceof Error},"Error",function(e,s){var a={name:e.name,message:e.message};return s.allowedErrorProps.forEach(function(s){a[s]=e[s]}),a},function(e,s){var a=new Error(e.message);return a.name=e.name,a.stack=e.stack,s.allowedErrorProps.forEach(function(s){a[s]=e[s]}),a}),simpleTransformation(function(e){return e instanceof RegExp},"regexp",function(e){return""+e},function(e){var s=e.slice(1,e.lastIndexOf("/")),a=e.slice(e.lastIndexOf("/")+1);return new RegExp(s,a)}),simpleTransformation(isSet,"set",function(e){return __spreadArray$3([],__read$2(e.values()))},function(e){return new Set(e)}),simpleTransformation(isMap,"map",function(e){return __spreadArray$3([],__read$2(e.entries()))},function(e){return new Map(e)}),simpleTransformation(function(e){return isNaNValue(e)||((s=e)===1/0||s===-1/0);var s},"number",function(e){return isNaNValue(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(e){return 0===e&&1/e==-1/0},"number",function(){return"-0"},Number),simpleTransformation(function(e){return e instanceof URL},"URL",function(e){return e.toString()},function(e){return new URL(e)})];function compositeTransformation(e,s,a,l){return{isApplicable:e,annotation:s,transform:a,untransform:l}}var Tr=compositeTransformation(function(e,s){return!!isSymbol(e)&&!!s.symbolRegistry.getIdentifier(e)},function(e,s){return["symbol",s.symbolRegistry.getIdentifier(e)]},function(e){return e.description},function(e,s,a){var l=a.symbolRegistry.getValue(s[1]);if(!l)throw new Error("Trying to deserialize unknown symbol");return l}),Er=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,s){return e[s.name]=s,e},{}),Ar=compositeTransformation(function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},function(e){return["typed-array",e.constructor.name]},function(e){return __spreadArray$3([],__read$2(e))},function(e,s){var a=Er[s[1]];if(!a)throw new Error("Trying to deserialize unknown typed array");return new a(e)});function isInstanceOfRegisteredClass(e,s){return!!(null==e?void 0:e.constructor)&&!!s.classRegistry.getIdentifier(e.constructor)}var Mr=compositeTransformation(isInstanceOfRegisteredClass,function(e,s){return["class",s.classRegistry.getIdentifier(e.constructor)]},function(e,s){var a=s.classRegistry.getAllowedProps(e.constructor);if(!a)return __assign$2({},e);var l={};return a.forEach(function(s){l[s]=e[s]}),l},function(e,s,a){var l=a.classRegistry.getValue(s[1]);if(!l)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(l.prototype),e)}),Lr=compositeTransformation(function(e,s){return!!s.customTransformerRegistry.findApplicable(e)},function(e,s){return["custom",s.customTransformerRegistry.findApplicable(e).name]},function(e,s){return s.customTransformerRegistry.findApplicable(e).serialize(e)},function(e,s,a){var l=a.customTransformerRegistry.findByName(s[1]);if(!l)throw new Error("Trying to deserialize unknown custom value");return l.deserialize(e)}),Dr=[Mr,Tr,Lr,Ar],transformValue=function(e,s){var a=findArr(Dr,function(a){return a.isApplicable(e,s)});if(a)return{value:a.transform(e,s),type:a.annotation(e,s)};var l=findArr(Pr,function(a){return a.isApplicable(e,s)});return l?{value:l.transform(e,s),type:l.annotation}:void 0},Or={};Pr.forEach(function(e){Or[e.annotation]=e});var getNthKey=function(e,s){for(var a=e.keys();s>0;)a.next(),s--;return a.next().value};function validatePath(e){if(includes(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(e,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(e,"constructor"))throw new Error("constructor is not allowed as a property")}var setDeep=function(e,s,a){if(validatePath(s),0===s.length)return a(e);for(var l=e,c=0;c<s.length-1;c++){var u=s[c];if(isArray$2(l))l=l[+u];else if(isPlainObject$3(l))l=l[u];else if(isSet(l)){l=getNthKey(l,p=+u)}else if(isMap(l)){if(c===s.length-2)break;var p=+u,m=0===+s[++c]?"key":"value",h=getNthKey(l,p);switch(m){case"key":l=h;break;case"value":l=l.get(h)}}}var f=s[s.length-1];if(isArray$2(l)?l[+f]=a(l[+f]):isPlainObject$3(l)&&(l[f]=a(l[f])),isSet(l)){var g=getNthKey(l,+f),b=a(g);g!==b&&(l.delete(g),l.add(b))}if(isMap(l)){p=+s[s.length-2];var j=getNthKey(l,p);switch(m=0===+f?"key":"value"){case"key":var N=a(j);l.set(N,l.get(j)),N!==j&&l.delete(j);break;case"value":l.set(j,a(l.get(j)))}}return e},__read$1=function(e,s){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var l,c,u=a.call(e),p=[];try{for(;(void 0===s||s-- >0)&&!(l=u.next()).done;)p.push(l.value)}catch(m){c={error:m}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return p},__spreadArray$2=function(e,s){for(var a=0,l=s.length,c=e.length;a<l;a++,c++)e[c]=s[a];return e};function traverse(e,s,a){if(void 0===a&&(a=[]),e)if(isArray$2(e)){var l=__read$1(e,2),c=l[0],u=l[1];u&&forEach$1(u,function(e,l){traverse(e,s,__spreadArray$2(__spreadArray$2([],__read$1(a)),__read$1(parsePath(l))))}),s(c,a)}else forEach$1(e,function(e,l){return traverse(e,s,__spreadArray$2(__spreadArray$2([],__read$1(a)),__read$1(parsePath(l))))})}function applyValueAnnotations(e,s,a){return traverse(s,function(s,l){e=setDeep(e,l,function(e){return function(e,s,a){if(!isArray$2(s)){var l=Or[s];if(!l)throw new Error("Unknown transformation: "+s);return l.untransform(e,a)}switch(s[0]){case"symbol":return Tr.untransform(e,s,a);case"class":return Mr.untransform(e,s,a);case"custom":return Lr.untransform(e,s,a);case"typed-array":return Ar.untransform(e,s,a);default:throw new Error("Unknown transformation: "+s)}}(e,s,a)})}),e}function applyReferentialEqualityAnnotations(e,s){function apply(s,a){var l=function(e,s){validatePath(s);for(var a=0;a<s.length;a++){var l=s[a];if(isSet(e))e=getNthKey(e,+l);else if(isMap(e)){var c=+l,u=0===+s[++a]?"key":"value",p=getNthKey(e,c);switch(u){case"key":e=p;break;case"value":e=e.get(p)}}else e=e[l]}return e}(e,parsePath(a));s.map(parsePath).forEach(function(s){e=setDeep(e,s,function(){return l})})}if(isArray$2(s)){var a=__read$1(s,2),l=a[0],c=a[1];l.forEach(function(s){e=setDeep(e,parsePath(s),function(){return e})}),c&&forEach$1(c,apply)}else forEach$1(s,apply);return e}var walker=function(e,s,a,l,c,u,p){var m;void 0===c&&(c=[]),void 0===u&&(u=[]),void 0===p&&(p=new Map);var h=isPrimitive$1(e);if(!h){!function addIdentity(e,s,a){var l=a.get(e);l?l.push(s):a.set(e,[s])}(e,c,s);var f=p.get(e);if(f)return l?{transformedValue:null}:f}if(!function(e,s){return isPlainObject$3(e)||isArray$2(e)||isMap(e)||isSet(e)||isInstanceOfRegisteredClass(e,s)}(e,a)){var g=transformValue(e,a),b=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:e};return h||p.set(e,b),b}if(includes(u,e))return{transformedValue:null};var j=transformValue(e,a),N=null!==(m=null==j?void 0:j.value)&&void 0!==m?m:e,k=isArray$2(N)?[]:{},_={};forEach$1(N,function(m,h){var f=walker(m,s,a,l,__spreadArray$2(__spreadArray$2([],__read$1(c)),[h]),__spreadArray$2(__spreadArray$2([],__read$1(u)),[e]),p);k[h]=f.transformedValue,isArray$2(f.annotations)?_[h]=f.annotations:isPlainObject$3(f.annotations)&&forEach$1(f.annotations,function(e,s){_[escapeKey(h)+"."+s]=e})});var T=isEmptyObject$1(_)?{transformedValue:k,annotations:j?[j.type]:void 0}:{transformedValue:k,annotations:j?[j.type,_]:_};return h||p.set(e,T),T};function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function isArray$1(e){return"Array"===getType(e)}function copy$2(e,s={}){if(isArray$1(e))return e.map(e=>copy$2(e,s));if(!function isPlainObject$2(e){if("Object"!==getType(e))return!1;const s=Object.getPrototypeOf(e);return!!s&&s.constructor===Object&&s===Object.prototype}(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((a,l)=>{if(isArray$1(s.props)&&!s.props.includes(l))return a;return function assignProp(e,s,a,l,c){const u={}.propertyIsEnumerable.call(l,s)?"enumerable":"nonenumerable";"enumerable"===u&&(e[s]=a),c&&"nonenumerable"===u&&Object.defineProperty(e,s,{value:a,enumerable:!1,writable:!0,configurable:!0})}(a,l,copy$2(e[l],s),e,s.nonenumerable),a},{})}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var s,a=1,l=arguments.length;a<l;a++)for(var c in s=arguments[a])Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);return e},__assign$1.apply(this,arguments)},Ir=function(){function SuperJSON2(e){var s=(void 0===e?{}:e).dedupe,a=void 0!==s&&s;this.classRegistry=new kr,this.symbolRegistry=new Sr(function(e){var s;return null!==(s=e.description)&&void 0!==s?s:""}),this.customTransformerRegistry=new _r,this.allowedErrorProps=[],this.dedupe=a}return SuperJSON2.prototype.serialize=function(e){var s=new Map,a=walker(e,s,this,this.dedupe),l={json:a.transformedValue};a.annotations&&(l.meta=__assign$1(__assign$1({},l.meta),{values:a.annotations}));var c=function generateReferentialEqualityAnnotations(e,s){var a={},l=void 0;return e.forEach(function(e){if(!(e.length<=1)){s||(e=e.map(function(e){return e.map(String)}).sort(function(e,s){return e.length-s.length}));var c=__read$1(e),u=c[0],p=c.slice(1);0===u.length?l=p.map(stringifyPath):a[stringifyPath(u)]=p.map(stringifyPath)}}),l?isEmptyObject$1(a)?[l]:[l,a]:isEmptyObject$1(a)?void 0:a}(s,this.dedupe);return c&&(l.meta=__assign$1(__assign$1({},l.meta),{referentialEqualities:c})),l},SuperJSON2.prototype.deserialize=function(e){var s=e.json,a=e.meta,l=copy$2(s);return(null==a?void 0:a.values)&&(l=applyValueAnnotations(l,a.values,this)),(null==a?void 0:a.referentialEqualities)&&(l=applyReferentialEqualityAnnotations(l,a.referentialEqualities)),l},SuperJSON2.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},SuperJSON2.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},SuperJSON2.prototype.registerClass=function(e,s){this.classRegistry.register(e,s)},SuperJSON2.prototype.registerSymbol=function(e,s){this.symbolRegistry.register(e,s)},SuperJSON2.prototype.registerCustom=function(e,s){this.customTransformerRegistry.register(__assign$1({name:s},e))},SuperJSON2.prototype.allowErrorProps=function(){for(var e,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];(e=this.allowedErrorProps).push.apply(e,function(e,s){for(var a=0,l=s.length,c=e.length;a<l;a++,c++)e[c]=s[a];return e}([],function(e,s){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var l,c,u=a.call(e),p=[];try{for(;(void 0===s||s-- >0)&&!(l=u.next()).done;)p.push(l.value)}catch(m){c={error:m}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return p}(s)))},SuperJSON2.defaultInstance=new SuperJSON2,SuperJSON2.serialize=SuperJSON2.defaultInstance.serialize.bind(SuperJSON2.defaultInstance),SuperJSON2.deserialize=SuperJSON2.defaultInstance.deserialize.bind(SuperJSON2.defaultInstance),SuperJSON2.stringify=SuperJSON2.defaultInstance.stringify.bind(SuperJSON2.defaultInstance),SuperJSON2.parse=SuperJSON2.defaultInstance.parse.bind(SuperJSON2.defaultInstance),SuperJSON2.registerClass=SuperJSON2.defaultInstance.registerClass.bind(SuperJSON2.defaultInstance),SuperJSON2.registerSymbol=SuperJSON2.defaultInstance.registerSymbol.bind(SuperJSON2.defaultInstance),SuperJSON2.registerCustom=SuperJSON2.defaultInstance.registerCustom.bind(SuperJSON2.defaultInstance),SuperJSON2.allowErrorProps=SuperJSON2.defaultInstance.allowErrorProps.bind(SuperJSON2.defaultInstance),SuperJSON2}();Ir.serialize,Ir.deserialize,Ir.stringify,Ir.parse,Ir.registerClass,Ir.registerCustom,Ir.registerSymbol,Ir.allowErrorProps;var M=(e,s,a,l,c,u,p,m)=>{let h=document.documentElement,f=["light","dark"];function p2(s){(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,l=a&&u?c.map(e=>u[e]||e):c;a?(h.classList.remove(...l),h.classList.add(u&&u[s]?u[s]:s)):h.setAttribute(e,s)}),function R(e){m&&f.includes(e)&&(h.style.colorScheme=e)}(s)}if(l)p2(l);else try{let e=localStorage.getItem(s)||a;p2(p&&"system"===e?function c2(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}():e)}catch(g){}},$r=re.createContext(void 0),Rr={setTheme:e=>{},themes:[]};re.memo(({forcedTheme:e,storageKey:s,attribute:a,enableSystem:l,enableColorScheme:c,defaultTheme:u,value:p,themes:m,nonce:h,scriptProps:f})=>{let g=JSON.stringify([a,s,u,e,m,p,l,c]).slice(1,-1);return re.createElement("script",{...f,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?h:"",dangerouslySetInnerHTML:{__html:`(${M.toString()})(${g})`}})});var Fr=requireReactDom();const Br=getDefaultExportFromCjs$2(Fr);const zr=Array(12).fill(0),Loader$1=({visible:e,className:s})=>ae.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},zr.map((e,s)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Vr=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ur=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hr=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qr=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Wr=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Zr=1;const Kr=new class Observer{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:a,...l}=e,c="number"==typeof(null==e?void 0:e.id)||(null==(s=e.id)?void 0:s.length)>0?e.id:Zr++,u=this.toasts.find(e=>e.id===c),p=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(s=>s.id===c?(this.publish({...s,...e,id:c,title:a}),{...s,...e,id:c,dismissible:p,title:a}):s):this.addToast({title:a,...l,dismissible:p,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let a;void 0!==s.loading&&(a=this.create({...s,promise:e,type:"loading",message:s.loading,description:"function"!=typeof s.description?s.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c,u=void 0!==a;const p=l.then(async e=>{c=["resolve",e];if(ae.isValidElement(e))u=!1,this.create({id:a,type:"default",message:e});else if(isHttpResponse(e)&&!e.ok){u=!1;const l="function"==typeof s.error?await s.error(`HTTP error! status: ${e.status}`):s.error,c="function"==typeof s.description?await s.description(`HTTP error! status: ${e.status}`):s.description,p="object"==typeof l&&!ae.isValidElement(l)?l:{message:l};this.create({id:a,type:"error",description:c,...p})}else if(e instanceof Error){u=!1;const l="function"==typeof s.error?await s.error(e):s.error,c="function"==typeof s.description?await s.description(e):s.description,p="object"==typeof l&&!ae.isValidElement(l)?l:{message:l};this.create({id:a,type:"error",description:c,...p})}else if(void 0!==s.success){u=!1;const l="function"==typeof s.success?await s.success(e):s.success,c="function"==typeof s.description?await s.description(e):s.description,p="object"==typeof l&&!ae.isValidElement(l)?l:{message:l};this.create({id:a,type:"success",description:c,...p})}}).catch(async e=>{if(c=["reject",e],void 0!==s.error){u=!1;const l="function"==typeof s.error?await s.error(e):s.error,c="function"==typeof s.description?await s.description(e):s.description,p="object"==typeof l&&!ae.isValidElement(l)?l:{message:l};this.create({id:a,type:"error",description:c,...p})}}).finally(()=>{u&&(this.dismiss(a),a=void 0),null==s.finally||s.finally.call(s)}),unwrap=()=>new Promise((e,s)=>p.then(()=>"reject"===c[0]?s(c[1]):e(c[1])).catch(s));return"string"!=typeof a&&"number"!=typeof a?{unwrap:unwrap}:Object.assign(a,{unwrap:unwrap})},this.custom=(e,s)=>{const a=(null==s?void 0:s.id)||Zr++;return this.create({jsx:e(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},isHttpResponse=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,basicToast=(e,s)=>{const a=(null==s?void 0:s.id)||Zr++;return Kr.addToast({title:e,...s,id:a}),a},Gr=Object.assign(basicToast,{success:Kr.success,info:Kr.info,warning:Kr.warning,error:Kr.error,custom:Kr.custom,message:Kr.message,promise:Kr.promise,dismiss:Kr.dismiss,loading:Kr.loading},{getHistory:()=>Kr.toasts,getToasts:()=>Kr.getActiveToasts()});function isAction(e){return void 0!==e.label}!function __insertCSS(e){if("undefined"==typeof document)return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Yr=3,Qr=14;function cn$1(...e){return e.filter(Boolean).join(" ")}const Toast=e=>{var s,a,l,c,u,p,m,h,f;const{invert:g,toast:b,unstyled:j,interacting:N,setHeights:k,visibleToasts:_,heights:T,index:E,toasts:A,expanded:L,removeToast:O,defaultRichColors:I,closeButton:$,style:z,cancelButtonStyle:U,actionButtonStyle:H,className:q="",descriptionClassName:Z="",duration:Y,position:X,gap:J,expandByDefault:re,classNames:le,icons:ce,closeButtonAriaLabel:de="Close toast"}=e,[ue,me]=ae.useState(null),[he,fe]=ae.useState(null),[ge,xe]=ae.useState(!1),[ye,be]=ae.useState(!1),[je,Ne]=ae.useState(!1),[Se,Ce]=ae.useState(!1),[_e,Pe]=ae.useState(!1),[Te,Ee]=ae.useState(0),[Ae,Le]=ae.useState(0),Oe=ae.useRef(b.duration||Y||4e3),Ie=ae.useRef(null),$e=ae.useRef(null),Fe=0===E,Be=E+1<=_,ze=b.type,Ve=!1!==b.dismissible,Ue=b.className||"",He=b.descriptionClassName||"",qe=ae.useMemo(()=>T.findIndex(e=>e.toastId===b.id)||0,[T,b.id]),We=ae.useMemo(()=>{var e;return null!=(e=b.closeButton)?e:$},[b.closeButton,$]),Ze=ae.useMemo(()=>b.duration||Y||4e3,[b.duration,Y]),Ke=ae.useRef(0),Ge=ae.useRef(0),Ye=ae.useRef(0),Qe=ae.useRef(null),[Xe,Je]=X.split("-"),et=ae.useMemo(()=>T.reduce((e,s,a)=>a>=qe?e:e+s.height,0),[T,qe]),tt=(()=>{const[e,s]=ae.useState(document.hidden);return ae.useEffect(()=>{const callback=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",callback),()=>window.removeEventListener("visibilitychange",callback)},[]),e})(),rt=b.invert||g,nt="loading"===ze;Ge.current=ae.useMemo(()=>qe*J+et,[qe,et]),ae.useEffect(()=>{Oe.current=Ze},[Ze]),ae.useEffect(()=>{xe(!0)},[]),ae.useEffect(()=>{const e=$e.current;if(e){const s=e.getBoundingClientRect().height;return Le(s),k(e=>[{toastId:b.id,height:s,position:b.position},...e]),()=>k(e=>e.filter(e=>e.toastId!==b.id))}},[k,b.id]),ae.useLayoutEffect(()=>{if(!ge)return;const e=$e.current,s=e.style.height;e.style.height="auto";const a=e.getBoundingClientRect().height;e.style.height=s,Le(a),k(e=>e.find(e=>e.toastId===b.id)?e.map(e=>e.toastId===b.id?{...e,height:a}:e):[{toastId:b.id,height:a,position:b.position},...e])},[ge,b.title,b.description,k,b.id,b.jsx,b.action,b.cancel]);const st=ae.useCallback(()=>{be(!0),Ee(Ge.current),k(e=>e.filter(e=>e.toastId!==b.id)),setTimeout(()=>{O(b)},200)},[b,O,k,Ge]);ae.useEffect(()=>{if(b.promise&&"loading"===ze||b.duration===1/0||"loading"===b.type)return;let e;return L||N||tt?(()=>{if(Ye.current<Ke.current){const e=(new Date).getTime()-Ke.current;Oe.current=Oe.current-e}Ye.current=(new Date).getTime()})():Oe.current!==1/0&&(Ke.current=(new Date).getTime(),e=setTimeout(()=>{null==b.onAutoClose||b.onAutoClose.call(b,b),st()},Oe.current)),()=>clearTimeout(e)},[L,N,b,ze,tt,st]),ae.useEffect(()=>{b.delete&&(st(),null==b.onDismiss||b.onDismiss.call(b,b))},[st,b.delete]);const at=b.icon||(null==ce?void 0:ce[ze])||(e=>{switch(e){case"success":return Vr;case"info":return Hr;case"warning":return Ur;case"error":return qr;default:return null}})(ze);var it,ot;return ae.createElement("li",{tabIndex:0,ref:$e,className:cn$1(q,Ue,null==le?void 0:le.toast,null==b||null==(s=b.classNames)?void 0:s.toast,null==le?void 0:le.default,null==le?void 0:le[ze],null==b||null==(a=b.classNames)?void 0:a[ze]),"data-sonner-toast":"","data-rich-colors":null!=(it=b.richColors)?it:I,"data-styled":!Boolean(b.jsx||b.unstyled||j),"data-mounted":ge,"data-promise":Boolean(b.promise),"data-swiped":_e,"data-removed":ye,"data-visible":Be,"data-y-position":Xe,"data-x-position":Je,"data-index":E,"data-front":Fe,"data-swiping":je,"data-dismissible":Ve,"data-type":ze,"data-invert":rt,"data-swipe-out":Se,"data-swipe-direction":he,"data-expanded":Boolean(L||re&&ge),"data-testid":b.testId,style:{"--index":E,"--toasts-before":E,"--z-index":A.length-E,"--offset":`${ye?Te:Ge.current}px`,"--initial-height":re?"auto":`${Ae}px`,...z,...b.style},onDragEnd:()=>{Ne(!1),me(null),Qe.current=null},onPointerDown:e=>{2!==e.button&&!nt&&Ve&&(Ie.current=new Date,Ee(Ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Ne(!0),Qe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,s,a;if(Se||!Ve)return;Qe.current=null;const l=Number((null==(e=$e.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),c=Number((null==(s=$e.current)?void 0:s.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),u=(new Date).getTime()-(null==(a=Ie.current)?void 0:a.getTime()),p="x"===ue?l:c,m=Math.abs(p)/u;if(Math.abs(p)>=45||m>.11)return Ee(Ge.current),null==b.onDismiss||b.onDismiss.call(b,b),fe("x"===ue?l>0?"right":"left":c>0?"down":"up"),st(),void Ce(!0);var h,f;null==(h=$e.current)||h.style.setProperty("--swipe-amount-x","0px"),null==(f=$e.current)||f.style.setProperty("--swipe-amount-y","0px"),Pe(!1),Ne(!1),me(null)},onPointerMove:s=>{var a,l,c;if(!Qe.current||!Ve)return;if((null==(a=window.getSelection())?void 0:a.toString().length)>0)return;const u=s.clientY-Qe.current.y,p=s.clientX-Qe.current.x;var m;const h=null!=(m=e.swipeDirections)?m:function getDefaultSwipeDirections(e){const[s,a]=e.split("-"),l=[];return s&&l.push(s),a&&l.push(a),l}(X);!ue&&(Math.abs(p)>1||Math.abs(u)>1)&&me(Math.abs(p)>Math.abs(u)?"x":"y");let f={x:0,y:0};const getDampening=e=>1/(1.5+Math.abs(e)/20);if("y"===ue){if(h.includes("top")||h.includes("bottom"))if(h.includes("top")&&u<0||h.includes("bottom")&&u>0)f.y=u;else{const e=u*getDampening(u);f.y=Math.abs(e)<Math.abs(u)?e:u}}else if("x"===ue&&(h.includes("left")||h.includes("right")))if(h.includes("left")&&p<0||h.includes("right")&&p>0)f.x=p;else{const e=p*getDampening(p);f.x=Math.abs(e)<Math.abs(p)?e:p}(Math.abs(f.x)>0||Math.abs(f.y)>0)&&Pe(!0),null==(l=$e.current)||l.style.setProperty("--swipe-amount-x",`${f.x}px`),null==(c=$e.current)||c.style.setProperty("--swipe-amount-y",`${f.y}px`)}},We&&!b.jsx&&"loading"!==ze?ae.createElement("button",{"aria-label":de,"data-disabled":nt,"data-close-button":!0,onClick:nt||!Ve?()=>{}:()=>{st(),null==b.onDismiss||b.onDismiss.call(b,b)},className:cn$1(null==le?void 0:le.closeButton,null==b||null==(l=b.classNames)?void 0:l.closeButton)},null!=(ot=null==ce?void 0:ce.close)?ot:Wr):null,(ze||b.icon||b.promise)&&null!==b.icon&&(null!==(null==ce?void 0:ce[ze])||b.icon)?ae.createElement("div",{"data-icon":"",className:cn$1(null==le?void 0:le.icon,null==b||null==(c=b.classNames)?void 0:c.icon)},b.promise||"loading"===b.type&&!b.icon?b.icon||function getLoadingIcon(){var e,s;return(null==ce?void 0:ce.loading)?ae.createElement("div",{className:cn$1(null==le?void 0:le.loader,null==b||null==(s=b.classNames)?void 0:s.loader,"sonner-loader"),"data-visible":"loading"===ze},ce.loading):ae.createElement(Loader$1,{className:cn$1(null==le?void 0:le.loader,null==b||null==(e=b.classNames)?void 0:e.loader),visible:"loading"===ze})}():null,"loading"!==b.type?at:null):null,ae.createElement("div",{"data-content":"",className:cn$1(null==le?void 0:le.content,null==b||null==(u=b.classNames)?void 0:u.content)},ae.createElement("div",{"data-title":"",className:cn$1(null==le?void 0:le.title,null==b||null==(p=b.classNames)?void 0:p.title)},b.jsx?b.jsx:"function"==typeof b.title?b.title():b.title),b.description?ae.createElement("div",{"data-description":"",className:cn$1(Z,He,null==le?void 0:le.description,null==b||null==(m=b.classNames)?void 0:m.description)},"function"==typeof b.description?b.description():b.description):null),ae.isValidElement(b.cancel)?b.cancel:b.cancel&&isAction(b.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||U,onClick:e=>{isAction(b.cancel)&&Ve&&(null==b.cancel.onClick||b.cancel.onClick.call(b.cancel,e),st())},className:cn$1(null==le?void 0:le.cancelButton,null==b||null==(h=b.classNames)?void 0:h.cancelButton)},b.cancel.label):null,ae.isValidElement(b.action)?b.action:b.action&&isAction(b.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||H,onClick:e=>{isAction(b.action)&&(null==b.action.onClick||b.action.onClick.call(b.action,e),e.defaultPrevented||st())},className:cn$1(null==le?void 0:le.actionButton,null==b||null==(f=b.classNames)?void 0:f.actionButton)},b.action.label):null)};function getDocumentDirection(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function assignOffset(e,s){const a={};return[e,s].forEach((e,s)=>{const l=1===s,c=l?"--mobile-offset":"--offset",u=l?"16px":"24px";function assignAll(e){["top","right","bottom","left"].forEach(s=>{a[`${c}-${s}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?assignAll(e):"object"==typeof e?["top","right","bottom","left"].forEach(s=>{void 0===e[s]?a[`${c}-${s}`]=u:a[`${c}-${s}`]="number"==typeof e[s]?`${e[s]}px`:e[s]}):assignAll(u)}),a}const Xr=ae.forwardRef(function Toaster(e,s){const{id:a,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:p,closeButton:m,className:h,offset:f,mobileOffset:g,theme:b="light",richColors:j,duration:N,style:k,visibleToasts:_=Yr,toastOptions:T,dir:E=getDocumentDirection(),gap:A=Qr,icons:L,containerAriaLabel:O="Notifications"}=e,[I,$]=ae.useState([]),z=ae.useMemo(()=>a?I.filter(e=>e.toasterId===a):I.filter(e=>!e.toasterId),[I,a]),U=ae.useMemo(()=>Array.from(new Set([c].concat(z.filter(e=>e.position).map(e=>e.position)))),[z,c]),[H,q]=ae.useState([]),[Z,Y]=ae.useState(!1),[X,J]=ae.useState(!1),[re,le]=ae.useState("system"!==b?b:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=ae.useRef(null),de=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=ae.useRef(null),me=ae.useRef(!1),he=ae.useCallback(e=>{$(s=>{var a;return(null==(a=s.find(s=>s.id===e.id))?void 0:a.delete)||Kr.dismiss(e.id),s.filter(({id:s})=>s!==e.id)})},[]);return ae.useEffect(()=>Kr.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{$(s=>s.map(s=>s.id===e.id?{...s,delete:!0}:s))}):setTimeout(()=>{Br.flushSync(()=>{$(s=>{const a=s.findIndex(s=>s.id===e.id);return-1!==a?[...s.slice(0,a),{...s[a],...e},...s.slice(a+1)]:[e,...s]})})})}),[I]),ae.useEffect(()=>{if("system"!==b)return void le(b);if("system"===b&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{le(e?"dark":"light")})}catch(s){e.addListener(({matches:e})=>{try{le(e?"dark":"light")}catch(s){console.error(s)}})}},[b]),ae.useEffect(()=>{I.length<=1&&Y(!1)},[I]),ae.useEffect(()=>{const handleKeyDown=e=>{var s;var a;u.every(s=>e[s]||e.code===s)&&(Y(!0),null==(a=ce.current)||a.focus());"Escape"!==e.code||document.activeElement!==ce.current&&!(null==(s=ce.current)?void 0:s.contains(document.activeElement))||Y(!1)};return document.addEventListener("keydown",handleKeyDown),()=>document.removeEventListener("keydown",handleKeyDown)},[u]),ae.useEffect(()=>{if(ce.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,me.current=!1)}},[ce.current]),ae.createElement("section",{ref:s,"aria-label":`${O} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((s,a)=>{var c;const[u,b]=s.split("-");return z.length?ae.createElement("ol",{key:s,dir:"auto"===E?getDocumentDirection():E,tabIndex:-1,ref:ce,className:h,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":u,"data-x-position":b,style:{"--front-toast-height":`${(null==(c=H[0])?void 0:c.height)||0}px`,"--width":"356px","--gap":`${A}px`,...k,...assignOffset(f,g)},onBlur:e=>{me.current&&!e.currentTarget.contains(e.relatedTarget)&&(me.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||me.current||(me.current=!0,ue.current=e.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{X||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||J(!0)},onPointerUp:()=>J(!1)},z.filter(e=>!e.position&&0===a||e.position===s).map((a,c)=>{var u,h;return ae.createElement(Toast,{key:a.id,icons:L,index:c,toast:a,defaultRichColors:j,duration:null!=(u=null==T?void 0:T.duration)?u:N,className:null==T?void 0:T.className,descriptionClassName:null==T?void 0:T.descriptionClassName,invert:l,visibleToasts:_,closeButton:null!=(h=null==T?void 0:T.closeButton)?h:m,interacting:X,position:s,style:null==T?void 0:T.style,unstyled:null==T?void 0:T.unstyled,classNames:null==T?void 0:T.classNames,cancelButtonStyle:null==T?void 0:T.cancelButtonStyle,actionButtonStyle:null==T?void 0:T.actionButtonStyle,closeButtonAriaLabel:null==T?void 0:T.closeButtonAriaLabel,removeToast:he,toasts:z.filter(e=>e.position==a.position),heights:H.filter(e=>e.position==a.position),setHeights:q,expandByDefault:p,gap:A,expanded:Z,swipeDirections:e.swipeDirections})})):null}))}),Toaster2=({...e})=>{const{theme:s="system"}=null!=(a=re.useContext($r))?a:Rr;var a;return u.jsx(Xr,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function composeEventHandlers(e,s,{checkForDefaultPrevented:a=!0}={}){return function handleEvent(l){if(e?.(l),!1===a||!l.defaultPrevented)return s?.(l)}}function setRef$1(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}function composeRefs$1(...e){return s=>{let a=!1;const l=e.map(e=>{const l=setRef$1(e,s);return a||"function"!=typeof l||(a=!0),l});if(a)return()=>{for(let s=0;s<l.length;s++){const a=l[s];"function"==typeof a?a():setRef$1(e[s],null)}}}}function useComposedRefs$1(...e){return re.useCallback(composeRefs$1(...e),e)}function createContextScope(e,s=[]){let a=[];const createScope=()=>{const s=a.map(e=>re.createContext(e));return function useScope(a){const l=a?.[e]||s;return re.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return createScope.scopeName=e,[function createContext3(s,l){const c=re.createContext(l),p=a.length;a=[...a,l];const Provider2=s=>{const{scope:a,children:l,...m}=s,h=a?.[e]?.[p]||c,f=re.useMemo(()=>m,Object.values(m));return u.jsx(h.Provider,{value:f,children:l})};return Provider2.displayName=s+"Provider",[Provider2,function useContext2(a,u){const m=u?.[e]?.[p]||c,h=re.useContext(m);if(h)return h;if(void 0!==l)return l;throw new Error(`\`${a}\` must be used within \`${s}\``)}]},composeContextScopes(createScope,...s)]}function composeContextScopes(...e){const s=e[0];if(1===e.length)return s;const createScope=()=>{const a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function useComposedScopes(e){const l=a.reduce((s,{useScope:a,scopeName:l})=>({...s,...a(e)[`__scope${l}`]}),{});return re.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return createScope.scopeName=s.scopeName,createScope}function createSlot(e){const s=createSlotClone(e),a=re.forwardRef((e,a)=>{const{children:l,...c}=e,p=re.Children.toArray(l),m=p.find(isSlottable);if(m){const e=m.props.children,l=p.map(s=>s===m?re.Children.count(e)>1?re.Children.only(null):re.isValidElement(e)?e.props.children:null:s);return u.jsx(s,{...c,ref:a,children:re.isValidElement(e)?re.cloneElement(e,void 0,l):null})}return u.jsx(s,{...c,ref:a,children:l})});return a.displayName=`${e}.Slot`,a}var Jr=createSlot("Slot");function createSlotClone(e){const s=re.forwardRef((e,s)=>{const{children:a,...l}=e;if(re.isValidElement(a)){const e=function getElementRef$1(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;if(a)return e.ref;if(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a),c=function mergeProps(e,s){const a={...s};for(const l in s){const c=e[l],u=s[l];/^on[A-Z]/.test(l)?c&&u?a[l]=(...e)=>{const s=u(...e);return c(...e),s}:c&&(a[l]=c):"style"===l?a[l]={...c,...u}:"className"===l&&(a[l]=[c,u].filter(Boolean).join(" "))}return{...e,...a}}(l,a.props);return a.type!==re.Fragment&&(c.ref=s?composeRefs$1(s,e):e),re.cloneElement(a,c)}return re.Children.count(a)>1?re.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var en=Symbol("radix.slottable");function createSlottable(e){const Slottable2=({children:e})=>u.jsx(u.Fragment,{children:e});return Slottable2.displayName=`${e}.Slottable`,Slottable2.__radixId=en,Slottable2}function isSlottable(e){return re.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===en}var tn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{const a=createSlot(`Primitive.${s}`),l=re.forwardRef((e,l)=>{const{asChild:c,...p}=e,m=c?a:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),u.jsx(m,{...p,ref:l})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{});function dispatchDiscreteCustomEvent(e,s){e&&Fr.flushSync(()=>e.dispatchEvent(s))}function useCallbackRef$1(e){const s=re.useRef(e);return re.useEffect(()=>{s.current=e}),re.useMemo(()=>(...e)=>s.current?.(...e),[])}var rn,nn="dismissableLayer.update",sn="dismissableLayer.pointerDownOutside",an="dismissableLayer.focusOutside",dn=re.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),un=re.forwardRef((e,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:p,onInteractOutside:m,onDismiss:h,...f}=e,g=re.useContext(dn),[b,j]=re.useState(null),N=b?.ownerDocument??globalThis?.document,[,k]=re.useState({}),_=useComposedRefs$1(s,e=>j(e)),T=Array.from(g.layers),[E]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(E),L=b?T.indexOf(b):-1,O=g.layersWithOutsidePointerEventsDisabled.size>0,I=L>=A,$=function usePointerDownOutside(e,s=globalThis?.document){const a=useCallbackRef$1(e),l=re.useRef(!1),c=re.useRef(()=>{});return re.useEffect(()=>{const handlePointerDown=e=>{if(e.target&&!l.current){let handleAndDispatchPointerDownOutsideEvent2=function(){handleAndDispatchCustomEvent(sn,a,l,{discrete:!0})};const l={originalEvent:e};"touch"===e.pointerType?(s.removeEventListener("click",c.current),c.current=handleAndDispatchPointerDownOutsideEvent2,s.addEventListener("click",c.current,{once:!0})):handleAndDispatchPointerDownOutsideEvent2()}else s.removeEventListener("click",c.current);l.current=!1},e=window.setTimeout(()=>{s.addEventListener("pointerdown",handlePointerDown)},0);return()=>{window.clearTimeout(e),s.removeEventListener("pointerdown",handlePointerDown),s.removeEventListener("click",c.current)}},[s,a]),{onPointerDownCapture:()=>l.current=!0}}(e=>{const s=e.target,a=[...g.branches].some(e=>e.contains(s));I&&!a&&(c?.(e),m?.(e),e.defaultPrevented||h?.())},N),z=function useFocusOutside(e,s=globalThis?.document){const a=useCallbackRef$1(e),l=re.useRef(!1);return re.useEffect(()=>{const handleFocus=e=>{if(e.target&&!l.current){handleAndDispatchCustomEvent(an,a,{originalEvent:e},{discrete:!1})}};return s.addEventListener("focusin",handleFocus),()=>s.removeEventListener("focusin",handleFocus)},[s,a]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}(e=>{const s=e.target;[...g.branches].some(e=>e.contains(s))||(p?.(e),m?.(e),e.defaultPrevented||h?.())},N);return function useEscapeKeydown(e,s=globalThis?.document){const a=useCallbackRef$1(e);re.useEffect(()=>{const handleKeyDown=e=>{"Escape"===e.key&&a(e)};return s.addEventListener("keydown",handleKeyDown,{capture:!0}),()=>s.removeEventListener("keydown",handleKeyDown,{capture:!0})},[a,s])}(e=>{L===g.layers.size-1&&(l?.(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))},N),re.useEffect(()=>{if(b)return a&&(0===g.layersWithOutsidePointerEventsDisabled.size&&(rn=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(b)),g.layers.add(b),dispatchUpdate(),()=>{a&&1===g.layersWithOutsidePointerEventsDisabled.size&&(N.body.style.pointerEvents=rn)}},[b,N,a,g]),re.useEffect(()=>()=>{b&&(g.layers.delete(b),g.layersWithOutsidePointerEventsDisabled.delete(b),dispatchUpdate())},[b,g]),re.useEffect(()=>{const handleUpdate=()=>k({});return document.addEventListener(nn,handleUpdate),()=>document.removeEventListener(nn,handleUpdate)},[]),u.jsx(tn.div,{...f,ref:_,style:{pointerEvents:O?I?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,z.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,$.onPointerDownCapture)})});un.displayName="DismissableLayer";function dispatchUpdate(){const e=new CustomEvent(nn);document.dispatchEvent(e)}function handleAndDispatchCustomEvent(e,s,a,{discrete:l}){const c=a.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});s&&c.addEventListener(e,s,{once:!0}),l?dispatchDiscreteCustomEvent(c,u):c.dispatchEvent(u)}re.forwardRef((e,s)=>{const a=re.useContext(dn),l=re.useRef(null),c=useComposedRefs$1(s,l);return re.useEffect(()=>{const e=l.current;if(e)return a.branches.add(e),()=>{a.branches.delete(e)}},[a.branches]),u.jsx(tn.div,{...e,ref:c})}).displayName="DismissableLayerBranch";var pn=globalThis?.document?re.useLayoutEffect:()=>{},mn=le[" useId ".trim().toString()]||(()=>{}),hn=0;function useId(e){const[s,a]=re.useState(mn());return pn(()=>{a(e=>e??String(hn++))},[e]),s?`radix-${s}`:""}const fn=["top","right","bottom","left"],gn=Math.min,xn=Math.max,vn=Math.round,yn=Math.floor,createCoords=e=>({x:e,y:e}),bn={left:"right",right:"left",bottom:"top",top:"bottom"},jn={start:"end",end:"start"};function clamp$2(e,s,a){return xn(e,gn(s,a))}function evaluate(e,s){return"function"==typeof e?e(s):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return"x"===e?"y":"x"}function getAxisLength(e){return"y"===e?"height":"width"}const wn=new Set(["top","bottom"]);function getSideAxis(e){return wn.has(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,e=>jn[e])}const Nn=["left","right"],Sn=["right","left"],Cn=["top","bottom"],kn=["bottom","top"];function getOppositeAxisPlacements(e,s,a,l){const c=getAlignment(e);let u=function getSideList(e,s,a){switch(e){case"top":case"bottom":return a?s?Sn:Nn:s?Nn:Sn;case"left":case"right":return s?Cn:kn;default:return[]}}(getSide(e),"start"===a,l);return c&&(u=u.map(e=>e+"-"+c),s&&(u=u.concat(u.map(getOppositeAlignmentPlacement)))),u}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,e=>bn[e])}function getPaddingObject(e){return"number"!=typeof e?function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){const{x:s,y:a,width:l,height:c}=e;return{width:l,height:c,top:a,left:s,right:s+l,bottom:a+c,x:s,y:a}}function computeCoordsFromPlacement(e,s,a){let{reference:l,floating:c}=e;const u=getSideAxis(s),p=getAlignmentAxis(s),m=getAxisLength(p),h=getSide(s),f="y"===u,g=l.x+l.width/2-c.width/2,b=l.y+l.height/2-c.height/2,j=l[m]/2-c[m]/2;let N;switch(h){case"top":N={x:g,y:l.y-c.height};break;case"bottom":N={x:g,y:l.y+l.height};break;case"right":N={x:l.x+l.width,y:b};break;case"left":N={x:l.x-c.width,y:b};break;default:N={x:l.x,y:l.y}}switch(getAlignment(s)){case"start":N[p]-=j*(a&&f?-1:1);break;case"end":N[p]+=j*(a&&f?-1:1)}return N}async function detectOverflow(e,s){var a;void 0===s&&(s={});const{x:l,y:c,platform:u,rects:p,elements:m,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:b="floating",altBoundary:j=!1,padding:N=0}=evaluate(s,e),k=getPaddingObject(N),_=m[j?"floating"===b?"reference":"floating":b],T=rectToClientRect(await u.getClippingRect({element:null==(a=await(null==u.isElement?void 0:u.isElement(_)))||a?_:_.contextElement||await(null==u.getDocumentElement?void 0:u.getDocumentElement(m.floating)),boundary:f,rootBoundary:g,strategy:h})),E="floating"===b?{x:l,y:c,width:p.floating.width,height:p.floating.height}:p.reference,A=await(null==u.getOffsetParent?void 0:u.getOffsetParent(m.floating)),L=await(null==u.isElement?void 0:u.isElement(A))&&await(null==u.getScale?void 0:u.getScale(A))||{x:1,y:1},O=rectToClientRect(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:E,offsetParent:A,strategy:h}):E);return{top:(T.top-O.top+k.top)/L.y,bottom:(O.bottom-T.bottom+k.bottom)/L.y,left:(T.left-O.left+k.left)/L.x,right:(O.right-T.right+k.right)/L.x}}function getSideOffsets(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function isAnySideFullyClipped(e){return fn.some(s=>e[s]>=0)}const _n=new Set(["left","top"]);function hasWindow(){return"undefined"!=typeof window}function getNodeName(e){return isNode$1(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow$1(e){var s;return(null==e||null==(s=e.ownerDocument)?void 0:s.defaultView)||window}function getDocumentElement(e){var s;return null==(s=(isNode$1(e)?e.ownerDocument:e.document)||window.document)?void 0:s.documentElement}function isNode$1(e){return!!hasWindow()&&(e instanceof Node||e instanceof getWindow$1(e).Node)}function isElement(e){return!!hasWindow()&&(e instanceof Element||e instanceof getWindow$1(e).Element)}function isHTMLElement$3(e){return!!hasWindow()&&(e instanceof HTMLElement||e instanceof getWindow$1(e).HTMLElement)}function isShadowRoot(e){return!(!hasWindow()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof getWindow$1(e).ShadowRoot)}const Pn=new Set(["inline","contents"]);function isOverflowElement(e){const{overflow:s,overflowX:a,overflowY:l,display:c}=getComputedStyle$2(e);return/auto|scroll|overlay|hidden|clip/.test(s+l+a)&&!Pn.has(c)}const Tn=new Set(["table","td","th"]);function isTableElement(e){return Tn.has(getNodeName(e))}const En=[":popover-open",":modal"];function isTopLayer(e){return En.some(s=>{try{return e.matches(s)}catch(a){return!1}})}const An=["transform","translate","scale","rotate","perspective"],Mn=["transform","translate","scale","rotate","perspective","filter"],Ln=["paint","layout","strict","content"];function isContainingBlock(e){const s=isWebKit(),a=isElement(e)?getComputedStyle$2(e):e;return An.some(e=>!!a[e]&&"none"!==a[e])||!!a.containerType&&"normal"!==a.containerType||!s&&!!a.backdropFilter&&"none"!==a.backdropFilter||!s&&!!a.filter&&"none"!==a.filter||Mn.some(e=>(a.willChange||"").includes(e))||Ln.some(e=>(a.contain||"").includes(e))}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Dn=new Set(["html","body","#document"]);function isLastTraversableNode(e){return Dn.has(getNodeName(e))}function getComputedStyle$2(e){return getWindow$1(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function getParentNode(e){if("html"===getNodeName(e))return e;const s=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(s)?s.host:s}function getNearestOverflowAncestor(e){const s=getParentNode(e);return isLastTraversableNode(s)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement$3(s)&&isOverflowElement(s)?s:getNearestOverflowAncestor(s)}function getOverflowAncestors(e,s,a){var l;void 0===s&&(s=[]),void 0===a&&(a=!0);const c=getNearestOverflowAncestor(e),u=c===(null==(l=e.ownerDocument)?void 0:l.body),p=getWindow$1(c);if(u){const e=getFrameElement(p);return s.concat(p,p.visualViewport||[],isOverflowElement(c)?c:[],e&&a?getOverflowAncestors(e):[])}return s.concat(c,getOverflowAncestors(c,[],a))}function getFrameElement(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function getCssDimensions(e){const s=getComputedStyle$2(e);let a=parseFloat(s.width)||0,l=parseFloat(s.height)||0;const c=isHTMLElement$3(e),u=c?e.offsetWidth:a,p=c?e.offsetHeight:l,m=vn(a)!==u||vn(l)!==p;return m&&(a=u,l=p),{width:a,height:l,$:m}}function unwrapElement(e){return isElement(e)?e:e.contextElement}function getScale(e){const s=unwrapElement(e);if(!isHTMLElement$3(s))return createCoords(1);const a=s.getBoundingClientRect(),{width:l,height:c,$:u}=getCssDimensions(s);let p=(u?vn(a.width):a.width)/l,m=(u?vn(a.height):a.height)/c;return p&&Number.isFinite(p)||(p=1),m&&Number.isFinite(m)||(m=1),{x:p,y:m}}const On=createCoords(0);function getVisualOffsets(e){const s=getWindow$1(e);return isWebKit()&&s.visualViewport?{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}:On}function getBoundingClientRect(e,s,a,l){void 0===s&&(s=!1),void 0===a&&(a=!1);const c=e.getBoundingClientRect(),u=unwrapElement(e);let p=createCoords(1);s&&(l?isElement(l)&&(p=getScale(l)):p=getScale(e));const m=function shouldAddVisualOffsets(e,s,a){return void 0===s&&(s=!1),!(!a||s&&a!==getWindow$1(e))&&s}(u,a,l)?getVisualOffsets(u):createCoords(0);let h=(c.left+m.x)/p.x,f=(c.top+m.y)/p.y,g=c.width/p.x,b=c.height/p.y;if(u){const e=getWindow$1(u),s=l&&isElement(l)?getWindow$1(l):l;let a=e,c=getFrameElement(a);for(;c&&l&&s!==a;){const e=getScale(c),s=c.getBoundingClientRect(),l=getComputedStyle$2(c),u=s.left+(c.clientLeft+parseFloat(l.paddingLeft))*e.x,p=s.top+(c.clientTop+parseFloat(l.paddingTop))*e.y;h*=e.x,f*=e.y,g*=e.x,b*=e.y,h+=u,f+=p,a=getWindow$1(c),c=getFrameElement(a)}}return rectToClientRect({width:g,height:b,x:h,y:f})}function getWindowScrollBarX(e,s){const a=getNodeScroll(e).scrollLeft;return s?s.left+a:getBoundingClientRect(getDocumentElement(e)).left+a}function getHTMLOffset(e,s){const a=e.getBoundingClientRect();return{x:a.left+s.scrollLeft-getWindowScrollBarX(e,a),y:a.top+s.scrollTop}}const In=new Set(["absolute","fixed"]);function getClientRectFromClippingAncestor(e,s,a){let l;if("viewport"===s)l=function getViewportRect(e,s){const a=getWindow$1(e),l=getDocumentElement(e),c=a.visualViewport;let u=l.clientWidth,p=l.clientHeight,m=0,h=0;if(c){u=c.width,p=c.height;const e=isWebKit();(!e||e&&"fixed"===s)&&(m=c.offsetLeft,h=c.offsetTop)}const f=getWindowScrollBarX(l);if(f<=0){const e=l.ownerDocument,s=e.body,a=getComputedStyle(s),c="CSS1Compat"===e.compatMode&&parseFloat(a.marginLeft)+parseFloat(a.marginRight)||0,p=Math.abs(l.clientWidth-s.clientWidth-c);p<=25&&(u-=p)}else f<=25&&(u+=f);return{width:u,height:p,x:m,y:h}}(e,a);else if("document"===s)l=function getDocumentRect(e){const s=getDocumentElement(e),a=getNodeScroll(e),l=e.ownerDocument.body,c=xn(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),u=xn(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight);let p=-a.scrollLeft+getWindowScrollBarX(e);const m=-a.scrollTop;return"rtl"===getComputedStyle$2(l).direction&&(p+=xn(s.clientWidth,l.clientWidth)-c),{width:c,height:u,x:p,y:m}}(getDocumentElement(e));else if(isElement(s))l=function getInnerBoundingClientRect(e,s){const a=getBoundingClientRect(e,!0,"fixed"===s),l=a.top+e.clientTop,c=a.left+e.clientLeft,u=isHTMLElement$3(e)?getScale(e):createCoords(1);return{width:e.clientWidth*u.x,height:e.clientHeight*u.y,x:c*u.x,y:l*u.y}}(s,a);else{const a=getVisualOffsets(e);l={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return rectToClientRect(l)}function hasFixedPositionAncestor(e,s){const a=getParentNode(e);return!(a===s||!isElement(a)||isLastTraversableNode(a))&&("fixed"===getComputedStyle$2(a).position||hasFixedPositionAncestor(a,s))}function getRectRelativeToOffsetParent(e,s,a){const l=isHTMLElement$3(s),c=getDocumentElement(s),u="fixed"===a,p=getBoundingClientRect(e,!0,u,s);let m={scrollLeft:0,scrollTop:0};const h=createCoords(0);function setLeftRTLScrollbarOffset(){h.x=getWindowScrollBarX(c)}if(l||!l&&!u)if(("body"!==getNodeName(s)||isOverflowElement(c))&&(m=getNodeScroll(s)),l){const e=getBoundingClientRect(s,!0,u,s);h.x=e.x+s.clientLeft,h.y=e.y+s.clientTop}else c&&setLeftRTLScrollbarOffset();u&&!l&&c&&setLeftRTLScrollbarOffset();const f=!c||l||u?createCoords(0):getHTMLOffset(c,m);return{x:p.left+m.scrollLeft-h.x-f.x,y:p.top+m.scrollTop-h.y-f.y,width:p.width,height:p.height}}function isStaticPositioned(e){return"static"===getComputedStyle$2(e).position}function getTrueOffsetParent(e,s){if(!isHTMLElement$3(e)||"fixed"===getComputedStyle$2(e).position)return null;if(s)return s(e);let a=e.offsetParent;return getDocumentElement(e)===a&&(a=a.ownerDocument.body),a}function getOffsetParent(e,s){const a=getWindow$1(e);if(isTopLayer(e))return a;if(!isHTMLElement$3(e)){let s=getParentNode(e);for(;s&&!isLastTraversableNode(s);){if(isElement(s)&&!isStaticPositioned(s))return s;s=getParentNode(s)}return a}let l=getTrueOffsetParent(e,s);for(;l&&isTableElement(l)&&isStaticPositioned(l);)l=getTrueOffsetParent(l,s);return l&&isLastTraversableNode(l)&&isStaticPositioned(l)&&!isContainingBlock(l)?a:l||function getContainingBlock(e){let s=getParentNode(e);for(;isHTMLElement$3(s)&&!isLastTraversableNode(s);){if(isContainingBlock(s))return s;if(isTopLayer(s))return null;s=getParentNode(s)}return null}(e)||a}const $n={convertOffsetParentRelativeRectToViewportRelativeRect:function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{elements:s,rect:a,offsetParent:l,strategy:c}=e;const u="fixed"===c,p=getDocumentElement(l),m=!!s&&isTopLayer(s.floating);if(l===p||m&&u)return a;let h={scrollLeft:0,scrollTop:0},f=createCoords(1);const g=createCoords(0),b=isHTMLElement$3(l);if((b||!b&&!u)&&(("body"!==getNodeName(l)||isOverflowElement(p))&&(h=getNodeScroll(l)),isHTMLElement$3(l))){const e=getBoundingClientRect(l);f=getScale(l),g.x=e.x+l.clientLeft,g.y=e.y+l.clientTop}const j=!p||b||u?createCoords(0):getHTMLOffset(p,h);return{width:a.width*f.x,height:a.height*f.y,x:a.x*f.x-h.scrollLeft*f.x+g.x+j.x,y:a.y*f.y-h.scrollTop*f.y+g.y+j.y}},getDocumentElement:getDocumentElement,getClippingRect:function getClippingRect(e){let{element:s,boundary:a,rootBoundary:l,strategy:c}=e;const u=[..."clippingAncestors"===a?isTopLayer(s)?[]:function getClippingElementAncestors(e,s){const a=s.get(e);if(a)return a;let l=getOverflowAncestors(e,[],!1).filter(e=>isElement(e)&&"body"!==getNodeName(e)),c=null;const u="fixed"===getComputedStyle$2(e).position;let p=u?getParentNode(e):e;for(;isElement(p)&&!isLastTraversableNode(p);){const s=getComputedStyle$2(p),a=isContainingBlock(p);a||"fixed"!==s.position||(c=null),(u?!a&&!c:!a&&"static"===s.position&&c&&In.has(c.position)||isOverflowElement(p)&&!a&&hasFixedPositionAncestor(e,p))?l=l.filter(e=>e!==p):c=s,p=getParentNode(p)}return s.set(e,l),l}(s,this._c):[].concat(a),l],p=u[0],m=u.reduce((e,a)=>{const l=getClientRectFromClippingAncestor(s,a,c);return e.top=xn(l.top,e.top),e.right=gn(l.right,e.right),e.bottom=gn(l.bottom,e.bottom),e.left=xn(l.left,e.left),e},getClientRectFromClippingAncestor(s,p,c));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}},getOffsetParent:getOffsetParent,getElementRects:async function(e){const s=this.getOffsetParent||getOffsetParent,a=this.getDimensions,l=await a(e.floating);return{reference:getRectRelativeToOffsetParent(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}},getClientRects:function getClientRects(e){return Array.from(e.getClientRects())},getDimensions:function getDimensions(e){const{width:s,height:a}=getCssDimensions(e);return{width:s,height:a}},getScale:getScale,isElement:isElement,isRTL:function isRTL(e){return"rtl"===getComputedStyle$2(e).direction}};function rectsAreEqual(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function autoUpdate(e,s,a,l){void 0===l&&(l={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:p="function"==typeof ResizeObserver,layoutShift:m="function"==typeof IntersectionObserver,animationFrame:h=!1}=l,f=unwrapElement(e),g=c||u?[...f?getOverflowAncestors(f):[],...getOverflowAncestors(s)]:[];g.forEach(e=>{c&&e.addEventListener("scroll",a,{passive:!0}),u&&e.addEventListener("resize",a)});const b=f&&m?function observeMove(e,s){let a,l=null;const c=getDocumentElement(e);function cleanup(){var e;clearTimeout(a),null==(e=l)||e.disconnect(),l=null}return function refresh(u,p){void 0===u&&(u=!1),void 0===p&&(p=1),cleanup();const m=e.getBoundingClientRect(),{left:h,top:f,width:g,height:b}=m;if(u||s(),!g||!b)return;const j={rootMargin:-yn(f)+"px "+-yn(c.clientWidth-(h+g))+"px "+-yn(c.clientHeight-(f+b))+"px "+-yn(h)+"px",threshold:xn(0,gn(1,p))||1};let N=!0;function handleObserve(s){const l=s[0].intersectionRatio;if(l!==p){if(!N)return refresh();l?refresh(!1,l):a=setTimeout(()=>{refresh(!1,1e-7)},1e3)}1!==l||rectsAreEqual(m,e.getBoundingClientRect())||refresh(),N=!1}try{l=new IntersectionObserver(handleObserve,{...j,root:c.ownerDocument})}catch(k){l=new IntersectionObserver(handleObserve,j)}l.observe(e)}(!0),cleanup}(f,a):null;let j,N=-1,k=null;p&&(k=new ResizeObserver(e=>{let[l]=e;l&&l.target===f&&k&&(k.unobserve(s),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var e;null==(e=k)||e.observe(s)})),a()}),f&&!h&&k.observe(f),k.observe(s));let _=h?getBoundingClientRect(e):null;return h&&function frameLoop(){const s=getBoundingClientRect(e);_&&!rectsAreEqual(_,s)&&a();_=s,j=requestAnimationFrame(frameLoop)}(),a(),()=>{var e;g.forEach(e=>{c&&e.removeEventListener("scroll",a),u&&e.removeEventListener("resize",a)}),null==b||b(),null==(e=k)||e.disconnect(),k=null,h&&cancelAnimationFrame(j)}}const offset$1=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(s){var a,l;const{x:c,y:u,placement:p,middlewareData:m}=s,h=await async function convertValueToCoords(e,s){const{placement:a,platform:l,elements:c}=e,u=await(null==l.isRTL?void 0:l.isRTL(c.floating)),p=getSide(a),m=getAlignment(a),h="y"===getSideAxis(a),f=_n.has(p)?-1:1,g=u&&h?-1:1,b=evaluate(s,e);let{mainAxis:j,crossAxis:N,alignmentAxis:k}="number"==typeof b?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&"number"==typeof k&&(N="end"===m?-1*k:k),h?{x:N*g,y:j*f}:{x:j*f,y:N*g}}(s,e);return p===(null==(a=m.offset)?void 0:a.placement)&&null!=(l=m.arrow)&&l.alignmentOffset?{}:{x:c+h.x,y:u+h.y,data:{...h,placement:p}}}}},shift$1=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(s){const{x:a,y:l,placement:c}=s,{mainAxis:u=!0,crossAxis:p=!1,limiter:m={fn:e=>{let{x:s,y:a}=e;return{x:s,y:a}}},...h}=evaluate(e,s),f={x:a,y:l},g=await detectOverflow(s,h),b=getSideAxis(getSide(c)),j=getOppositeAxis(b);let N=f[j],k=f[b];if(u){const e="y"===j?"bottom":"right";N=clamp$2(N+g["y"===j?"top":"left"],N,N-g[e])}if(p){const e="y"===b?"bottom":"right";k=clamp$2(k+g["y"===b?"top":"left"],k,k-g[e])}const _=m.fn({...s,[j]:N,[b]:k});return{..._,data:{x:_.x-a,y:_.y-l,enabled:{[j]:u,[b]:p}}}}}},flip$1=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(s){var a,l;const{placement:c,middlewareData:u,rects:p,initialPlacement:m,platform:h,elements:f}=s,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:j,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...T}=evaluate(e,s);if(null!=(a=u.arrow)&&a.alignmentOffset)return{};const E=getSide(c),A=getSideAxis(m),L=getSide(m)===m,O=await(null==h.isRTL?void 0:h.isRTL(f.floating)),I=j||(L||!_?[getOppositePlacement(m)]:function getExpandedPlacements(e){const s=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),s,getOppositeAlignmentPlacement(s)]}(m)),$="none"!==k;!j&&$&&I.push(...getOppositeAxisPlacements(m,_,k,O));const z=[m,...I],U=await detectOverflow(s,T),H=[];let q=(null==(l=u.flip)?void 0:l.overflows)||[];if(g&&H.push(U[E]),b){const e=function getAlignmentSides(e,s,a){void 0===a&&(a=!1);const l=getAlignment(e),c=getAlignmentAxis(e),u=getAxisLength(c);let p="x"===c?l===(a?"end":"start")?"right":"left":"start"===l?"bottom":"top";return s.reference[u]>s.floating[u]&&(p=getOppositePlacement(p)),[p,getOppositePlacement(p)]}(c,p,O);H.push(U[e[0]],U[e[1]])}if(q=[...q,{placement:c,overflows:H}],!H.every(e=>e<=0)){var Z,Y;const e=((null==(Z=u.flip)?void 0:Z.index)||0)+1,s=z[e];if(s){if(!("alignment"===b&&A!==getSideAxis(s))||q.every(e=>getSideAxis(e.placement)!==A||e.overflows[0]>0))return{data:{index:e,overflows:q},reset:{placement:s}}}let a=null==(Y=q.filter(e=>e.overflows[0]<=0).sort((e,s)=>e.overflows[1]-s.overflows[1])[0])?void 0:Y.placement;if(!a)switch(N){case"bestFit":{var X;const e=null==(X=q.filter(e=>{if($){const s=getSideAxis(e.placement);return s===A||"y"===s}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,s)=>e+s,0)]).sort((e,s)=>e[1]-s[1])[0])?void 0:X[0];e&&(a=e);break}case"initialPlacement":a=m}if(c!==a)return{reset:{placement:a}}}return{}}}},size$1=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(s){var a,l;const{placement:c,rects:u,platform:p,elements:m}=s,{apply:h=()=>{},...f}=evaluate(e,s),g=await detectOverflow(s,f),b=getSide(c),j=getAlignment(c),N="y"===getSideAxis(c),{width:k,height:_}=u.floating;let T,E;"top"===b||"bottom"===b?(T=b,E=j===(await(null==p.isRTL?void 0:p.isRTL(m.floating))?"start":"end")?"left":"right"):(E=b,T="end"===j?"top":"bottom");const A=_-g.top-g.bottom,L=k-g.left-g.right,O=gn(_-g[T],A),I=gn(k-g[E],L),$=!s.middlewareData.shift;let z=O,U=I;if(null!=(a=s.middlewareData.shift)&&a.enabled.x&&(U=L),null!=(l=s.middlewareData.shift)&&l.enabled.y&&(z=A),$&&!j){const e=xn(g.left,0),s=xn(g.right,0),a=xn(g.top,0),l=xn(g.bottom,0);N?U=k-2*(0!==e||0!==s?e+s:xn(g.left,g.right)):z=_-2*(0!==a||0!==l?a+l:xn(g.top,g.bottom))}await h({...s,availableWidth:U,availableHeight:z});const H=await p.getDimensions(m.floating);return k!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}},hide$1=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(s){const{rects:a}=s,{strategy:l="referenceHidden",...c}=evaluate(e,s);switch(l){case"referenceHidden":{const e=getSideOffsets(await detectOverflow(s,{...c,elementContext:"reference"}),a.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:isAnySideFullyClipped(e)}}}case"escaped":{const e=getSideOffsets(await detectOverflow(s,{...c,altBoundary:!0}),a.floating);return{data:{escapedOffsets:e,escaped:isAnySideFullyClipped(e)}}}default:return{}}}}},arrow$2=e=>({name:"arrow",options:e,async fn(s){const{x:a,y:l,placement:c,rects:u,platform:p,elements:m,middlewareData:h}=s,{element:f,padding:g=0}=evaluate(e,s)||{};if(null==f)return{};const b=getPaddingObject(g),j={x:a,y:l},N=getAlignmentAxis(c),k=getAxisLength(N),_=await p.getDimensions(f),T="y"===N,E=T?"top":"left",A=T?"bottom":"right",L=T?"clientHeight":"clientWidth",O=u.reference[k]+u.reference[N]-j[N]-u.floating[k],I=j[N]-u.reference[N],$=await(null==p.getOffsetParent?void 0:p.getOffsetParent(f));let z=$?$[L]:0;z&&await(null==p.isElement?void 0:p.isElement($))||(z=m.floating[L]||u.floating[k]);const U=O/2-I/2,H=z/2-_[k]/2-1,q=gn(b[E],H),Z=gn(b[A],H),Y=q,X=z-_[k]-Z,J=z/2-_[k]/2+U,re=clamp$2(Y,J,X),ae=!h.arrow&&null!=getAlignment(c)&&J!==re&&u.reference[k]/2-(J<Y?q:Z)-_[k]/2<0,le=ae?J<Y?J-Y:J-X:0;return{[N]:j[N]+le,data:{[N]:re,centerOffset:J-re-le,...ae&&{alignmentOffset:le}},reset:ae}}}),limitShift$1=function(e){return void 0===e&&(e={}),{options:e,fn(s){const{x:a,y:l,placement:c,rects:u,middlewareData:p}=s,{offset:m=0,mainAxis:h=!0,crossAxis:f=!0}=evaluate(e,s),g={x:a,y:l},b=getSideAxis(c),j=getOppositeAxis(b);let N=g[j],k=g[b];const _=evaluate(m,s),T="number"==typeof _?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const e="y"===j?"height":"width",s=u.reference[j]-u.floating[e]+T.mainAxis,a=u.reference[j]+u.reference[e]-T.mainAxis;N<s?N=s:N>a&&(N=a)}if(f){var E,A;const e="y"===j?"width":"height",s=_n.has(getSide(c)),a=u.reference[b]-u.floating[e]+(s&&(null==(E=p.offset)?void 0:E[b])||0)+(s?0:T.crossAxis),l=u.reference[b]+u.reference[e]+(s?0:(null==(A=p.offset)?void 0:A[b])||0)-(s?T.crossAxis:0);k<a?k=a:k>l&&(k=l)}return{[j]:N,[b]:k}}}},computePosition=(e,s,a)=>{const l=new Map,c={platform:$n,...a},u={...c.platform,_c:l};return(async(e,s,a)=>{const{placement:l="bottom",strategy:c="absolute",middleware:u=[],platform:p}=a,m=u.filter(Boolean),h=await(null==p.isRTL?void 0:p.isRTL(s));let f=await p.getElementRects({reference:e,floating:s,strategy:c}),{x:g,y:b}=computeCoordsFromPlacement(f,l,h),j=l,N={},k=0;for(let _=0;_<m.length;_++){const{name:a,fn:u}=m[_],{x:T,y:E,data:A,reset:L}=await u({x:g,y:b,initialPlacement:l,placement:j,strategy:c,middlewareData:N,rects:f,platform:p,elements:{reference:e,floating:s}});g=null!=T?T:g,b=null!=E?E:b,N={...N,[a]:{...N[a],...A}},L&&k<=50&&(k++,"object"==typeof L&&(L.placement&&(j=L.placement),L.rects&&(f=!0===L.rects?await p.getElementRects({reference:e,floating:s,strategy:c}):L.rects),({x:g,y:b}=computeCoordsFromPlacement(f,j,h))),_=-1)}return{x:g,y:b,placement:j,strategy:c,middlewareData:N}})(e,s,{...c,platform:u})};var Rn="undefined"!=typeof document?re.useLayoutEffect:function noop(){};function deepEqual$2(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if("function"==typeof e&&e.toString()===s.toString())return!0;let a,l,c;if(e&&s&&"object"==typeof e){if(Array.isArray(e)){if(a=e.length,a!==s.length)return!1;for(l=a;0!==l--;)if(!deepEqual$2(e[l],s[l]))return!1;return!0}if(c=Object.keys(e),a=c.length,a!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!{}.hasOwnProperty.call(s,c[l]))return!1;for(l=a;0!==l--;){const a=c[l];if(("_owner"!==a||!e.$$typeof)&&!deepEqual$2(e[a],s[a]))return!1}return!0}return e!=e&&s!=s}function getDPR(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(e,s){const a=getDPR(e);return Math.round(s*a)/a}function useLatestRef(e){const s=re.useRef(e);return Rn(()=>{s.current=e}),s}const arrow$1=e=>({name:"arrow",options:e,fn(s){const{element:a,padding:l}="function"==typeof e?e(s):e;return a&&function isRef(e){return{}.hasOwnProperty.call(e,"current")}(a)?null!=a.current?arrow$2({element:a.current,padding:l}).fn(s):{}:a?arrow$2({element:a,padding:l}).fn(s):{}}}),offset=(e,s)=>({...offset$1(e),options:[e,s]}),shift=(e,s)=>({...shift$1(e),options:[e,s]}),limitShift=(e,s)=>({...limitShift$1(e),options:[e,s]}),flip=(e,s)=>({...flip$1(e),options:[e,s]}),size=(e,s)=>({...size$1(e),options:[e,s]}),hide=(e,s)=>({...hide$1(e),options:[e,s]}),arrow=(e,s)=>({...arrow$1(e),options:[e,s]});var Fn=re.forwardRef((e,s)=>{const{children:a,width:l=10,height:c=5,...p}=e;return u.jsx(tn.svg,{...p,ref:s,width:l,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fn.displayName="Arrow";var Bn=Fn;function useSize(e){const[s,a]=re.useState(void 0);return pn(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(s=>{if(!Array.isArray(s))return;if(!s.length)return;const l=s[0];let c,u;if("borderBoxSize"in l){const e=l.borderBoxSize,s=Array.isArray(e)?e[0]:e;c=s.inlineSize,u=s.blockSize}else c=e.offsetWidth,u=e.offsetHeight;a({width:c,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}a(void 0)},[e]),s}var zn="Popper",[Vn,Un]=createContextScope(zn),[Hn,qn]=Vn(zn),Popper=e=>{const{__scopePopper:s,children:a}=e,[l,c]=re.useState(null);return u.jsx(Hn,{scope:s,anchor:l,onAnchorChange:c,children:a})};Popper.displayName=zn;var Wn="PopperAnchor",Zn=re.forwardRef((e,s)=>{const{__scopePopper:a,virtualRef:l,...c}=e,p=qn(Wn,a),m=re.useRef(null),h=useComposedRefs$1(s,m),f=re.useRef(null);return re.useEffect(()=>{const e=f.current;f.current=l?.current||m.current,e!==f.current&&p.onAnchorChange(f.current)}),l?null:u.jsx(tn.div,{...c,ref:h})});Zn.displayName=Wn;var Kn="PopperContent",[Gn,Yn]=Vn(Kn),Qn=re.forwardRef((e,s)=>{const{__scopePopper:a,side:l="bottom",sideOffset:c=0,align:p="center",alignOffset:m=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:g=[],collisionPadding:b=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:_,...T}=e,E=qn(Kn,a),[A,L]=re.useState(null),O=useComposedRefs$1(s,e=>L(e)),[I,$]=re.useState(null),z=useSize(I),U=z?.width??0,H=z?.height??0,q=l+("center"!==p?"-"+p:""),Z="number"==typeof b?b:{top:0,right:0,bottom:0,left:0,...b},Y=Array.isArray(g)?g:[g],X=Y.length>0,J={padding:Z,boundary:Y.filter(isNotNull$2),altBoundary:X},{refs:ae,floatingStyles:le,placement:ce,isPositioned:de,middlewareData:ue}=function useFloating(e){void 0===e&&(e={});const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:c,elements:{reference:u,floating:p}={},transform:m=!0,whileElementsMounted:h,open:f}=e,[g,b]=re.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[j,N]=re.useState(l);deepEqual$2(j,l)||N(l);const[k,_]=re.useState(null),[T,E]=re.useState(null),A=re.useCallback(e=>{e!==$.current&&($.current=e,_(e))},[]),L=re.useCallback(e=>{e!==z.current&&(z.current=e,E(e))},[]),O=u||k,I=p||T,$=re.useRef(null),z=re.useRef(null),U=re.useRef(g),H=null!=h,q=useLatestRef(h),Z=useLatestRef(c),Y=useLatestRef(f),X=re.useCallback(()=>{if(!$.current||!z.current)return;const e={placement:s,strategy:a,middleware:j};Z.current&&(e.platform=Z.current),computePosition($.current,z.current,e).then(e=>{const s={...e,isPositioned:!1!==Y.current};J.current&&!deepEqual$2(U.current,s)&&(U.current=s,Fr.flushSync(()=>{b(s)}))})},[j,s,a,Z,Y]);Rn(()=>{!1===f&&U.current.isPositioned&&(U.current.isPositioned=!1,b(e=>({...e,isPositioned:!1})))},[f]);const J=re.useRef(!1);Rn(()=>(J.current=!0,()=>{J.current=!1}),[]),Rn(()=>{if(O&&($.current=O),I&&(z.current=I),O&&I){if(q.current)return q.current(O,I,X);X()}},[O,I,X,q,H]);const ae=re.useMemo(()=>({reference:$,floating:z,setReference:A,setFloating:L}),[A,L]),le=re.useMemo(()=>({reference:O,floating:I}),[O,I]),ce=re.useMemo(()=>{const e={position:a,left:0,top:0};if(!le.floating)return e;const s=roundByDPR(le.floating,g.x),l=roundByDPR(le.floating,g.y);return m?{...e,transform:"translate("+s+"px, "+l+"px)",...getDPR(le.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:s,top:l}},[a,m,le.floating,g.x,g.y]);return re.useMemo(()=>({...g,update:X,refs:ae,elements:le,floatingStyles:ce}),[g,X,ae,le,ce])}({strategy:"fixed",placement:q,whileElementsMounted:(...e)=>autoUpdate(...e,{animationFrame:"always"===k}),elements:{reference:E.anchor},middleware:[offset({mainAxis:c+H,alignmentAxis:m}),f&&shift({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?limitShift():void 0,...J}),f&&flip({...J}),size({...J,apply:({elements:e,rects:s,availableWidth:a,availableHeight:l})=>{const{width:c,height:u}=s.reference,p=e.floating.style;p.setProperty("--radix-popper-available-width",`${a}px`),p.setProperty("--radix-popper-available-height",`${l}px`),p.setProperty("--radix-popper-anchor-width",`${c}px`),p.setProperty("--radix-popper-anchor-height",`${u}px`)}}),I&&arrow({element:I,padding:h}),transformOrigin({arrowWidth:U,arrowHeight:H}),N&&hide({strategy:"referenceHidden",...J})]}),[me,he]=getSideAndAlignFromPlacement(ce),fe=useCallbackRef$1(_);pn(()=>{de&&fe?.()},[de,fe]);const ge=ue.arrow?.x,xe=ue.arrow?.y,ye=0!==ue.arrow?.centerOffset,[be,je]=re.useState();return pn(()=>{A&&je(window.getComputedStyle(A).zIndex)},[A]),u.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:de?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[ue.transformOrigin?.x,ue.transformOrigin?.y].join(" "),...ue.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(Gn,{scope:a,placedSide:me,onArrowChange:$,arrowX:ge,arrowY:xe,shouldHideArrow:ye,children:u.jsx(tn.div,{"data-side":me,"data-align":he,...T,ref:O,style:{...T.style,animation:de?void 0:"none"}})})})});Qn.displayName=Kn;var Xn="PopperArrow",Jn={top:"bottom",right:"left",bottom:"top",left:"right"},es=re.forwardRef(function PopperArrow2(e,s){const{__scopePopper:a,...l}=e,c=Yn(Xn,a),p=Jn[c.placedSide];return u.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:u.jsx(Bn,{...l,ref:s,style:{...l.style,display:"block"}})})});function isNotNull$2(e){return null!==e}es.displayName=Xn;var transformOrigin=e=>({name:"transformOrigin",options:e,fn(s){const{placement:a,rects:l,middlewareData:c}=s,u=0!==c.arrow?.centerOffset,p=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[h,f]=getSideAndAlignFromPlacement(a),g={start:"0%",center:"50%",end:"100%"}[f],b=(c.arrow?.x??0)+p/2,j=(c.arrow?.y??0)+m/2;let N="",k="";return"bottom"===h?(N=u?g:`${b}px`,k=-m+"px"):"top"===h?(N=u?g:`${b}px`,k=`${l.floating.height+m}px`):"right"===h?(N=-m+"px",k=u?g:`${j}px`):"left"===h&&(N=`${l.floating.width+m}px`,k=u?g:`${j}px`),{data:{x:N,y:k}}}});function getSideAndAlignFromPlacement(e){const[s,a="center"]=e.split("-");return[s,a]}var ts=Popper,rs=Zn,ns=Qn,ss=es,as=re.forwardRef((e,s)=>{const{container:a,...l}=e,[c,p]=re.useState(!1);pn(()=>p(!0),[]);const m=a||c&&globalThis?.document?.body;return m?Br.createPortal(u.jsx(tn.div,{...l,ref:s}),m):null});as.displayName="Portal";var Presence=e=>{const{present:s,children:a}=e,l=function usePresence$1(e){const[s,a]=re.useState(),l=re.useRef(null),c=re.useRef(e),u=re.useRef("none"),p=e?"mounted":"unmounted",[m,h]=function useStateMachine$1(e,s){return re.useReducer((e,a)=>s[e][a]??e,e)}(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return re.useEffect(()=>{const e=getAnimationName(l.current);u.current="mounted"===m?e:"none"},[m]),pn(()=>{const s=l.current,a=c.current;if(a!==e){const l=u.current,p=getAnimationName(s);if(e)h("MOUNT");else if("none"===p||"none"===s?.display)h("UNMOUNT");else{h(a&&l!==p?"ANIMATION_OUT":"UNMOUNT")}c.current=e}},[e,h]),pn(()=>{if(s){let e;const a=s.ownerDocument.defaultView??window,handleAnimationEnd=u=>{const p=getAnimationName(l.current).includes(CSS.escape(u.animationName));if(u.target===s&&p&&(h("ANIMATION_END"),!c.current)){const l=s.style.animationFillMode;s.style.animationFillMode="forwards",e=a.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=l)})}},handleAnimationStart=e=>{e.target===s&&(u.current=getAnimationName(l.current))};return s.addEventListener("animationstart",handleAnimationStart),s.addEventListener("animationcancel",handleAnimationEnd),s.addEventListener("animationend",handleAnimationEnd),()=>{a.clearTimeout(e),s.removeEventListener("animationstart",handleAnimationStart),s.removeEventListener("animationcancel",handleAnimationEnd),s.removeEventListener("animationend",handleAnimationEnd)}}h("ANIMATION_END")},[s,h]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:re.useCallback(e=>{l.current=e?getComputedStyle(e):null,a(e)},[])}}(s),c="function"==typeof a?a({present:l.isPresent}):re.Children.only(a),u=useComposedRefs$1(l.ref,function getElementRef(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;if(a)return e.ref;if(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(c));return"function"==typeof a||l.isPresent?re.cloneElement(c,{ref:u}):null};function getAnimationName(e){return e?.animationName||"none"}Presence.displayName="Presence";var os=le[" useInsertionEffect ".trim().toString()]||pn;function useControllableState({prop:e,defaultProp:s,onChange:a=()=>{},caller:l}){const[c,u,p]=function useUncontrolledState({defaultProp:e,onChange:s}){const[a,l]=re.useState(e),c=re.useRef(a),u=re.useRef(s);return os(()=>{u.current=s},[s]),re.useEffect(()=>{c.current!==a&&(u.current?.(a),c.current=a)},[a,c]),[a,l,u]}({defaultProp:s,onChange:a}),m=void 0!==e,h=m?e:c;{const s=re.useRef(void 0!==e);re.useEffect(()=>{const e=s.current;if(e!==m){const s=e?"controlled":"uncontrolled",a=m?"controlled":"uncontrolled";console.warn(`${l} is changing from ${s} to ${a}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}s.current=m},[m,l])}const f=re.useCallback(s=>{if(m){const a=function isFunction$3(e){return"function"==typeof e}(s)?s(e):s;a!==e&&p.current?.(a)}else u(s)},[m,e,u,p]);return[h,f]}var ls=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cs=re.forwardRef((e,s)=>u.jsx(tn.span,{...e,ref:s,style:{...ls,...e.style}}));cs.displayName="VisuallyHidden";var ds=cs,[us]=createContextScope("Tooltip",[Un]),ps=Un(),ms="TooltipProvider",hs=700,fs="tooltip.open",[gs,xs]=us(ms),TooltipProvider$1=e=>{const{__scopeTooltip:s,delayDuration:a=hs,skipDelayDuration:l=300,disableHoverableContent:c=!1,children:p}=e,m=re.useRef(!0),h=re.useRef(!1),f=re.useRef(0);return re.useEffect(()=>{const e=f.current;return()=>window.clearTimeout(e)},[]),u.jsx(gs,{scope:s,isOpenDelayedRef:m,delayDuration:a,onOpen:re.useCallback(()=>{window.clearTimeout(f.current),m.current=!1},[]),onClose:re.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>m.current=!0,l)},[l]),isPointerInTransitRef:h,onPointerInTransitChange:re.useCallback(e=>{h.current=e},[]),disableHoverableContent:c,children:p})};TooltipProvider$1.displayName=ms;var vs="Tooltip",[ys,bs]=us(vs),Tooltip$2=e=>{const{__scopeTooltip:s,children:a,open:l,defaultOpen:c,onOpenChange:p,disableHoverableContent:m,delayDuration:h}=e,f=xs(vs,e.__scopeTooltip),g=ps(s),[b,j]=re.useState(null),N=useId(),k=re.useRef(0),_=m??f.disableHoverableContent,T=h??f.delayDuration,E=re.useRef(!1),[A,L]=useControllableState({prop:l,defaultProp:c??!1,onChange:e=>{e?(f.onOpen(),document.dispatchEvent(new CustomEvent(fs))):f.onClose(),p?.(e)},caller:vs}),O=re.useMemo(()=>A?E.current?"delayed-open":"instant-open":"closed",[A]),I=re.useCallback(()=>{window.clearTimeout(k.current),k.current=0,E.current=!1,L(!0)},[L]),$=re.useCallback(()=>{window.clearTimeout(k.current),k.current=0,L(!1)},[L]),z=re.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>{E.current=!0,L(!0),k.current=0},T)},[T,L]);return re.useEffect(()=>()=>{k.current&&(window.clearTimeout(k.current),k.current=0)},[]),u.jsx(ts,{...g,children:u.jsx(ys,{scope:s,contentId:N,open:A,stateAttribute:O,trigger:b,onTriggerChange:j,onTriggerEnter:re.useCallback(()=>{f.isOpenDelayedRef.current?z():I()},[f.isOpenDelayedRef,z,I]),onTriggerLeave:re.useCallback(()=>{_?$():(window.clearTimeout(k.current),k.current=0)},[$,_]),onOpen:I,onClose:$,disableHoverableContent:_,children:a})})};Tooltip$2.displayName=vs;var js="TooltipTrigger",ws=re.forwardRef((e,s)=>{const{__scopeTooltip:a,...l}=e,c=bs(js,a),p=xs(js,a),m=ps(a),h=useComposedRefs$1(s,re.useRef(null),c.onTriggerChange),f=re.useRef(!1),g=re.useRef(!1),b=re.useCallback(()=>f.current=!1,[]);return re.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),u.jsx(rs,{asChild:!0,...m,children:u.jsx(tn.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...l,ref:h,onPointerMove:composeEventHandlers(e.onPointerMove,e=>{"touch"!==e.pointerType&&(g.current||p.isPointerInTransitRef.current||(c.onTriggerEnter(),g.current=!0))}),onPointerLeave:composeEventHandlers(e.onPointerLeave,()=>{c.onTriggerLeave(),g.current=!1}),onPointerDown:composeEventHandlers(e.onPointerDown,()=>{c.open&&c.onClose(),f.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:composeEventHandlers(e.onFocus,()=>{f.current||c.onOpen()}),onBlur:composeEventHandlers(e.onBlur,c.onClose),onClick:composeEventHandlers(e.onClick,c.onClose)})})});ws.displayName=js;var Ns="TooltipPortal",[Ss,Cs]=us(Ns,{forceMount:void 0}),TooltipPortal=e=>{const{__scopeTooltip:s,forceMount:a,children:l,container:c}=e,p=bs(Ns,s);return u.jsx(Ss,{scope:s,forceMount:a,children:u.jsx(Presence,{present:a||p.open,children:u.jsx(as,{asChild:!0,container:c,children:l})})})};TooltipPortal.displayName=Ns;var ks="TooltipContent",_s=re.forwardRef((e,s)=>{const a=Cs(ks,e.__scopeTooltip),{forceMount:l=a.forceMount,side:c="top",...p}=e,m=bs(ks,e.__scopeTooltip);return u.jsx(Presence,{present:l||m.open,children:m.disableHoverableContent?u.jsx(Ms,{side:c,...p,ref:s}):u.jsx(Ps,{side:c,...p,ref:s})})}),Ps=re.forwardRef((e,s)=>{const a=bs(ks,e.__scopeTooltip),l=xs(ks,e.__scopeTooltip),c=re.useRef(null),p=useComposedRefs$1(s,c),[m,h]=re.useState(null),{trigger:f,onClose:g}=a,b=c.current,{onPointerInTransitChange:j}=l,N=re.useCallback(()=>{h(null),j(!1)},[j]),k=re.useCallback((e,s)=>{const a=e.currentTarget,l={x:e.clientX,y:e.clientY},c=function getPaddedExitPoints(e,s,a=5){const l=[];switch(s){case"top":l.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":l.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":l.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":l.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return l}(l,function getExitSideFromRect(e,s){const a=Math.abs(s.top-e.y),l=Math.abs(s.bottom-e.y),c=Math.abs(s.right-e.x),u=Math.abs(s.left-e.x);switch(Math.min(a,l,c,u)){case u:return"left";case c:return"right";case a:return"top";case l:return"bottom";default:throw new Error("unreachable")}}(l,a.getBoundingClientRect())),u=function getHull(e){const s=e.slice();return s.sort((e,s)=>e.x<s.x?-1:e.x>s.x?1:e.y<s.y?-1:e.y>s.y?1:0),function getHullPresorted(e){if(e.length<=1)return e.slice();const s=[];for(let l=0;l<e.length;l++){const a=e[l];for(;s.length>=2;){const e=s[s.length-1],l=s[s.length-2];if(!((e.x-l.x)*(a.y-l.y)>=(e.y-l.y)*(a.x-l.x)))break;s.pop()}s.push(a)}s.pop();const a=[];for(let l=e.length-1;l>=0;l--){const s=e[l];for(;a.length>=2;){const e=a[a.length-1],l=a[a.length-2];if(!((e.x-l.x)*(s.y-l.y)>=(e.y-l.y)*(s.x-l.x)))break;a.pop()}a.push(s)}return a.pop(),1===s.length&&1===a.length&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}(s)}([...c,...function getPointsFromRect(e){const{top:s,right:a,bottom:l,left:c}=e;return[{x:c,y:s},{x:a,y:s},{x:a,y:l},{x:c,y:l}]}(s.getBoundingClientRect())]);h(u),j(!0)},[j]);return re.useEffect(()=>()=>N(),[N]),re.useEffect(()=>{if(f&&b){const handleTriggerLeave=e=>k(e,b),handleContentLeave=e=>k(e,f);return f.addEventListener("pointerleave",handleTriggerLeave),b.addEventListener("pointerleave",handleContentLeave),()=>{f.removeEventListener("pointerleave",handleTriggerLeave),b.removeEventListener("pointerleave",handleContentLeave)}}},[f,b,k,N]),re.useEffect(()=>{if(m){const handleTrackPointerGrace=e=>{const s=e.target,a={x:e.clientX,y:e.clientY},l=f?.contains(s)||b?.contains(s),c=!function isPointInPolygon$1(e,s){const{x:a,y:l}=e;let c=!1;for(let u=0,p=s.length-1;u<s.length;p=u++){const e=s[u],m=s[p],h=e.x,f=e.y,g=m.x,b=m.y;f>l!=b>l&&a<(g-h)*(l-f)/(b-f)+h&&(c=!c)}return c}(a,m);l?N():c&&(N(),g())};return document.addEventListener("pointermove",handleTrackPointerGrace),()=>document.removeEventListener("pointermove",handleTrackPointerGrace)}},[f,b,m,g,N]),u.jsx(Ms,{...e,ref:p})}),[Ts,Es]=us(vs,{isInside:!1}),As=createSlottable("TooltipContent"),Ms=re.forwardRef((e,s)=>{const{__scopeTooltip:a,children:l,"aria-label":c,onEscapeKeyDown:p,onPointerDownOutside:m,...h}=e,f=bs(ks,a),g=ps(a),{onClose:b}=f;return re.useEffect(()=>(document.addEventListener(fs,b),()=>document.removeEventListener(fs,b)),[b]),re.useEffect(()=>{if(f.trigger){const handleScroll2=e=>{const s=e.target;s?.contains(f.trigger)&&b()};return window.addEventListener("scroll",handleScroll2,{capture:!0}),()=>window.removeEventListener("scroll",handleScroll2,{capture:!0})}},[f.trigger,b]),u.jsx(un,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:e=>e.preventDefault(),onDismiss:b,children:u.jsxs(ns,{"data-state":f.stateAttribute,...g,...h,ref:s,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(As,{children:l}),u.jsx(Ts,{scope:a,isInside:!0,children:u.jsx(ds,{id:f.contentId,role:"tooltip",children:c||l})})]})})});_s.displayName=ks;var Ls="TooltipArrow",Ds=re.forwardRef((e,s)=>{const{__scopeTooltip:a,...l}=e,c=ps(a);return Es(Ls,a).isInside?null:u.jsx(ss,{...c,...l,ref:s})});Ds.displayName=Ls;var Os=TooltipProvider$1,Is=Tooltip$2,$s=ws,Rs=TooltipPortal,Fs=_s,Bs=Ds;function r$1(e){var s,a,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var c=e.length;for(s=0;s<c;s++)e[s]&&(a=r$1(e[s]))&&(l&&(l+=" "),l+=a)}else for(a in e)e[a]&&(l&&(l+=" "),l+=a);return l}function clsx(){for(var e,s,a=0,l="",c=arguments.length;a<c;a++)(e=arguments[a])&&(s=r$1(e))&&(l&&(l+=" "),l+=s);return l}const createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:l}=e;return{getClassGroupId:e=>{const a=e.split("-");return""===a[0]&&1!==a.length&&a.shift(),getGroupRecursive(a,s)||getGroupIdForArbitraryProperty(e)},getConflictingClassGroupIds:(e,s)=>{const c=a[e]||[];return s&&l[e]?[...c,...l[e]]:c}}},getGroupRecursive=(e,s)=>{if(0===e.length)return s.classGroupId;const a=e[0],l=s.nextPart.get(a),c=l?getGroupRecursive(e.slice(1),l):void 0;if(c)return c;if(0===s.validators.length)return;const u=e.join("-");return s.validators.find(({validator:e})=>e(u))?.classGroupId},zs=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(zs.test(e)){const s=zs.exec(e)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},createClassMap=e=>{const{theme:s,classGroups:a}=e,l={nextPart:new Map,validators:[]};for(const c in a)processClassesRecursively(a[c],l,c,s);return l},processClassesRecursively=(e,s,a,l)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?s:getPart(s,e)).classGroupId=a)}if("function"==typeof e)return isThemeGetter(e)?void processClassesRecursively(e(l),s,a,l):void s.validators.push({validator:e,classGroupId:a});Object.entries(e).forEach(([e,c])=>{processClassesRecursively(c,getPart(s,e),a,l)})})},getPart=(e,s)=>{let a=e;return s.split("-").forEach(e=>{a.nextPart.has(e)||a.nextPart.set(e,{nextPart:new Map,validators:[]}),a=a.nextPart.get(e)}),a},isThemeGetter=e=>e.isThemeGetter,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,l=new Map;const update=(c,u)=>{a.set(c,u),s++,s>e&&(s=0,l=a,a=new Map)};return{get(e){let s=a.get(e);return void 0!==s?s:void 0!==(s=l.get(e))?(update(e,s),s):void 0},set(e,s){a.has(e)?a.set(e,s):update(e,s)}}},createParseClassName=e=>{const{prefix:s,experimentalParseClassName:a}=e;let parseClassName=e=>{const s=[];let a,l=0,c=0,u=0;for(let h=0;h<e.length;h++){let p=e[h];if(0===l&&0===c){if(":"===p){s.push(e.slice(u,h)),u=h+1;continue}if("/"===p){a=h;continue}}"["===p?l++:"]"===p?l--:"("===p?c++:")"===p&&c--}const p=0===s.length?e:e.substring(u),m=stripImportantModifier(p);return{modifiers:s,hasImportantModifier:m!==p,baseClassName:m,maybePostfixModifierPosition:a&&a>u?a-u:void 0}};if(s){const e=s+":",a=parseClassName;parseClassName=s=>s.startsWith(e)?a(s.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(a){const e=parseClassName;parseClassName=s=>a({className:s,parseClassName:e})}return parseClassName},stripImportantModifier=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,createSortModifiers=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const a=[];let l=[];return e.forEach(e=>{"["===e[0]||s[e]?(a.push(...l.sort(),e),l=[]):l.push(e)}),a.push(...l.sort()),a}},Vs=/\s+/;function twJoin(){let e,s,a=0,l="";for(;a<arguments.length;)(e=arguments[a++])&&(s=toValue(e))&&(l&&(l+=" "),l+=s);return l}const toValue=e=>{if("string"==typeof e)return e;let s,a="";for(let l=0;l<e.length;l++)e[l]&&(s=toValue(e[l]))&&(a&&(a+=" "),a+=s);return a};function createTailwindMerge(e,...s){let a,l,c,u=function initTailwindMerge(p){const m=s.reduce((e,s)=>s(e),e());return a=(e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}))(m),l=a.cache.get,c=a.cache.set,u=tailwindMerge,tailwindMerge(p)};function tailwindMerge(e){const s=l(e);if(s)return s;const u=((e,s)=>{const{parseClassName:a,getClassGroupId:l,getConflictingClassGroupIds:c,sortModifiers:u}=s,p=[],m=e.trim().split(Vs);let h="";for(let f=m.length-1;f>=0;f-=1){const e=m[f],{isExternal:s,modifiers:g,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:N}=a(e);if(s){h=e+(h.length>0?" "+h:h);continue}let k=!!N,_=l(k?j.substring(0,N):j);if(!_){if(!k){h=e+(h.length>0?" "+h:h);continue}if(_=l(j),!_){h=e+(h.length>0?" "+h:h);continue}k=!1}const T=u(g).join(":"),E=b?T+"!":T,A=E+_;if(p.includes(A))continue;p.push(A);const L=c(_,k);for(let a=0;a<L.length;++a){const e=L[a];p.push(E+e)}h=e+(h.length>0?" "+h:h)}return h})(e,a);return c(e,u),u}return function callTailwindMerge(){return u(twJoin.apply(null,arguments))}}const fromTheme=e=>{const themeGetter=s=>s[e]||[];return themeGetter.isThemeGetter=!0,themeGetter},Us=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hs=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qs=/^\d+\/\d+$/,Ws=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ks=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Gs=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ys=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>qs.test(e),isNumber$4=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent$1=e=>e.endsWith("%")&&isNumber$4(e.slice(0,-1)),isTshirtSize=e=>Ws.test(e),isAny=()=>!0,isLengthOnly=e=>Zs.test(e)&&!Ks.test(e),isNever=()=>!1,isShadow=e=>Gs.test(e),isImage=e=>Ys.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>Us.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber$4),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>Hs.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,s,a)=>{const l=Us.exec(e);return!!l&&(l[1]?s(l[1]):a(l[2]))},getIsArbitraryVariable=(e,s,a=!1)=>{const l=Hs.exec(e);return!!l&&(l[1]?s(l[1]):a)},isLabelPosition=e=>"position"===e||"percentage"===e,isLabelImage=e=>"image"===e||"url"===e,isLabelSize=e=>"length"===e||"size"===e||"bg-size"===e,isLabelLength=e=>"length"===e,isLabelNumber=e=>"number"===e,isLabelFamilyName=e=>"family-name"===e,isLabelShadow=e=>"shadow"===e,Qs=createTailwindMerge(()=>{const e=fromTheme("color"),s=fromTheme("font"),a=fromTheme("text"),l=fromTheme("font-weight"),c=fromTheme("tracking"),u=fromTheme("leading"),p=fromTheme("breakpoint"),m=fromTheme("container"),h=fromTheme("spacing"),f=fromTheme("radius"),g=fromTheme("shadow"),b=fromTheme("inset-shadow"),j=fromTheme("text-shadow"),N=fromTheme("drop-shadow"),k=fromTheme("blur"),_=fromTheme("perspective"),T=fromTheme("aspect"),E=fromTheme("ease"),A=fromTheme("animate"),scalePositionWithArbitrary=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",isArbitraryVariable,isArbitraryValue],scaleUnambiguousSpacing=()=>[isArbitraryVariable,isArbitraryValue,h],scaleInset=()=>[isFraction,"full","auto",...scaleUnambiguousSpacing()],scaleGridTemplateColsRows=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],scaleGridColRowStartAndEnd=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],scaleGridColRowStartOrEnd=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],scaleGridAutoColsRows=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],scaleMargin=()=>["auto",...scaleUnambiguousSpacing()],scaleSizing=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...scaleUnambiguousSpacing()],scaleColor=()=>[e,isArbitraryVariable,isArbitraryValue],scaleBgPosition=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],scaleBgSize=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],scaleGradientStopPosition=()=>[isPercent$1,isArbitraryVariableLength,isArbitraryLength],scaleRadius=()=>["","none","full",f,isArbitraryVariable,isArbitraryValue],scaleBorderWidth=()=>["",isNumber$4,isArbitraryVariableLength,isArbitraryLength],scaleMaskImagePosition=()=>[isNumber$4,isPercent$1,isArbitraryVariablePosition,isArbitraryPosition],scaleBlur=()=>["","none",k,isArbitraryVariable,isArbitraryValue],scaleRotate=()=>["none",isNumber$4,isArbitraryVariable,isArbitraryValue],scaleScale=()=>["none",isNumber$4,isArbitraryVariable,isArbitraryValue],scaleSkew=()=>[isNumber$4,isArbitraryVariable,isArbitraryValue],scaleTranslate=()=>[isFraction,"full",...scaleUnambiguousSpacing()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$4],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,T]}],container:["container"],columns:[{columns:[isNumber$4,isArbitraryValue,isArbitraryVariable,m]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:scalePositionWithArbitrary()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:scaleInset()}],"inset-x":[{"inset-x":scaleInset()}],"inset-y":[{"inset-y":scaleInset()}],start:[{start:scaleInset()}],end:[{end:scaleInset()}],top:[{top:scaleInset()}],right:[{right:scaleInset()}],bottom:[{bottom:scaleInset()}],left:[{left:scaleInset()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",m,...scaleUnambiguousSpacing()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$4,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":scaleGridTemplateColsRows()}],"col-start-end":[{col:scaleGridColRowStartAndEnd()}],"col-start":[{"col-start":scaleGridColRowStartOrEnd()}],"col-end":[{"col-end":scaleGridColRowStartOrEnd()}],"grid-rows":[{"grid-rows":scaleGridTemplateColsRows()}],"row-start-end":[{row:scaleGridColRowStartAndEnd()}],"row-start":[{"row-start":scaleGridColRowStartOrEnd()}],"row-end":[{"row-end":scaleGridColRowStartOrEnd()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":scaleGridAutoColsRows()}],"auto-rows":[{"auto-rows":scaleGridAutoColsRows()}],gap:[{gap:scaleUnambiguousSpacing()}],"gap-x":[{"gap-x":scaleUnambiguousSpacing()}],"gap-y":[{"gap-y":scaleUnambiguousSpacing()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:scaleUnambiguousSpacing()}],px:[{px:scaleUnambiguousSpacing()}],py:[{py:scaleUnambiguousSpacing()}],ps:[{ps:scaleUnambiguousSpacing()}],pe:[{pe:scaleUnambiguousSpacing()}],pt:[{pt:scaleUnambiguousSpacing()}],pr:[{pr:scaleUnambiguousSpacing()}],pb:[{pb:scaleUnambiguousSpacing()}],pl:[{pl:scaleUnambiguousSpacing()}],m:[{m:scaleMargin()}],mx:[{mx:scaleMargin()}],my:[{my:scaleMargin()}],ms:[{ms:scaleMargin()}],me:[{me:scaleMargin()}],mt:[{mt:scaleMargin()}],mr:[{mr:scaleMargin()}],mb:[{mb:scaleMargin()}],ml:[{ml:scaleMargin()}],"space-x":[{"space-x":scaleUnambiguousSpacing()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":scaleUnambiguousSpacing()}],"space-y-reverse":["space-y-reverse"],size:[{size:scaleSizing()}],w:[{w:[m,"screen",...scaleSizing()]}],"min-w":[{"min-w":[m,"screen","none",...scaleSizing()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[p]},...scaleSizing()]}],h:[{h:["screen","lh",...scaleSizing()]}],"min-h":[{"min-h":["screen","lh","none",...scaleSizing()]}],"max-h":[{"max-h":["screen","lh",...scaleSizing()]}],"font-size":[{text:["base",a,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent$1,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$4,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[u,...scaleUnambiguousSpacing()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:scaleColor()}],"text-color":[{text:scaleColor()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$4,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:scaleColor()}],"underline-offset":[{"underline-offset":[isNumber$4,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:scaleUnambiguousSpacing()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:scaleBgPosition()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:scaleBgSize()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:scaleColor()}],"gradient-from-pos":[{from:scaleGradientStopPosition()}],"gradient-via-pos":[{via:scaleGradientStopPosition()}],"gradient-to-pos":[{to:scaleGradientStopPosition()}],"gradient-from":[{from:scaleColor()}],"gradient-via":[{via:scaleColor()}],"gradient-to":[{to:scaleColor()}],rounded:[{rounded:scaleRadius()}],"rounded-s":[{"rounded-s":scaleRadius()}],"rounded-e":[{"rounded-e":scaleRadius()}],"rounded-t":[{"rounded-t":scaleRadius()}],"rounded-r":[{"rounded-r":scaleRadius()}],"rounded-b":[{"rounded-b":scaleRadius()}],"rounded-l":[{"rounded-l":scaleRadius()}],"rounded-ss":[{"rounded-ss":scaleRadius()}],"rounded-se":[{"rounded-se":scaleRadius()}],"rounded-ee":[{"rounded-ee":scaleRadius()}],"rounded-es":[{"rounded-es":scaleRadius()}],"rounded-tl":[{"rounded-tl":scaleRadius()}],"rounded-tr":[{"rounded-tr":scaleRadius()}],"rounded-br":[{"rounded-br":scaleRadius()}],"rounded-bl":[{"rounded-bl":scaleRadius()}],"border-w":[{border:scaleBorderWidth()}],"border-w-x":[{"border-x":scaleBorderWidth()}],"border-w-y":[{"border-y":scaleBorderWidth()}],"border-w-s":[{"border-s":scaleBorderWidth()}],"border-w-e":[{"border-e":scaleBorderWidth()}],"border-w-t":[{"border-t":scaleBorderWidth()}],"border-w-r":[{"border-r":scaleBorderWidth()}],"border-w-b":[{"border-b":scaleBorderWidth()}],"border-w-l":[{"border-l":scaleBorderWidth()}],"divide-x":[{"divide-x":scaleBorderWidth()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":scaleBorderWidth()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:scaleColor()}],"border-color-x":[{"border-x":scaleColor()}],"border-color-y":[{"border-y":scaleColor()}],"border-color-s":[{"border-s":scaleColor()}],"border-color-e":[{"border-e":scaleColor()}],"border-color-t":[{"border-t":scaleColor()}],"border-color-r":[{"border-r":scaleColor()}],"border-color-b":[{"border-b":scaleColor()}],"border-color-l":[{"border-l":scaleColor()}],"divide-color":[{divide:scaleColor()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$4,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:scaleColor()}],shadow:[{shadow:["","none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:scaleColor()}],"inset-shadow":[{"inset-shadow":["none",b,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":scaleColor()}],"ring-w":[{ring:scaleBorderWidth()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:scaleColor()}],"ring-offset-w":[{"ring-offset":[isNumber$4,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":scaleColor()}],"inset-ring-w":[{"inset-ring":scaleBorderWidth()}],"inset-ring-color":[{"inset-ring":scaleColor()}],"text-shadow":[{"text-shadow":["none",j,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":scaleColor()}],opacity:[{opacity:[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$4]}],"mask-image-linear-from-pos":[{"mask-linear-from":scaleMaskImagePosition()}],"mask-image-linear-to-pos":[{"mask-linear-to":scaleMaskImagePosition()}],"mask-image-linear-from-color":[{"mask-linear-from":scaleColor()}],"mask-image-linear-to-color":[{"mask-linear-to":scaleColor()}],"mask-image-t-from-pos":[{"mask-t-from":scaleMaskImagePosition()}],"mask-image-t-to-pos":[{"mask-t-to":scaleMaskImagePosition()}],"mask-image-t-from-color":[{"mask-t-from":scaleColor()}],"mask-image-t-to-color":[{"mask-t-to":scaleColor()}],"mask-image-r-from-pos":[{"mask-r-from":scaleMaskImagePosition()}],"mask-image-r-to-pos":[{"mask-r-to":scaleMaskImagePosition()}],"mask-image-r-from-color":[{"mask-r-from":scaleColor()}],"mask-image-r-to-color":[{"mask-r-to":scaleColor()}],"mask-image-b-from-pos":[{"mask-b-from":scaleMaskImagePosition()}],"mask-image-b-to-pos":[{"mask-b-to":scaleMaskImagePosition()}],"mask-image-b-from-color":[{"mask-b-from":scaleColor()}],"mask-image-b-to-color":[{"mask-b-to":scaleColor()}],"mask-image-l-from-pos":[{"mask-l-from":scaleMaskImagePosition()}],"mask-image-l-to-pos":[{"mask-l-to":scaleMaskImagePosition()}],"mask-image-l-from-color":[{"mask-l-from":scaleColor()}],"mask-image-l-to-color":[{"mask-l-to":scaleColor()}],"mask-image-x-from-pos":[{"mask-x-from":scaleMaskImagePosition()}],"mask-image-x-to-pos":[{"mask-x-to":scaleMaskImagePosition()}],"mask-image-x-from-color":[{"mask-x-from":scaleColor()}],"mask-image-x-to-color":[{"mask-x-to":scaleColor()}],"mask-image-y-from-pos":[{"mask-y-from":scaleMaskImagePosition()}],"mask-image-y-to-pos":[{"mask-y-to":scaleMaskImagePosition()}],"mask-image-y-from-color":[{"mask-y-from":scaleColor()}],"mask-image-y-to-color":[{"mask-y-to":scaleColor()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":scaleMaskImagePosition()}],"mask-image-radial-to-pos":[{"mask-radial-to":scaleMaskImagePosition()}],"mask-image-radial-from-color":[{"mask-radial-from":scaleColor()}],"mask-image-radial-to-color":[{"mask-radial-to":scaleColor()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[isNumber$4]}],"mask-image-conic-from-pos":[{"mask-conic-from":scaleMaskImagePosition()}],"mask-image-conic-to-pos":[{"mask-conic-to":scaleMaskImagePosition()}],"mask-image-conic-from-color":[{"mask-conic-from":scaleColor()}],"mask-image-conic-to-color":[{"mask-conic-to":scaleColor()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:scaleBgPosition()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:scaleBgSize()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:scaleBlur()}],brightness:[{brightness:[isNumber$4,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",N,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":scaleColor()}],grayscale:[{grayscale:["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$4,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":scaleBlur()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$4,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$4,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":scaleUnambiguousSpacing()}],"border-spacing-x":[{"border-spacing-x":scaleUnambiguousSpacing()}],"border-spacing-y":[{"border-spacing-y":scaleUnambiguousSpacing()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$4,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",E,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$4,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",A,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":scalePositionWithArbitrary()}],rotate:[{rotate:scaleRotate()}],"rotate-x":[{"rotate-x":scaleRotate()}],"rotate-y":[{"rotate-y":scaleRotate()}],"rotate-z":[{"rotate-z":scaleRotate()}],scale:[{scale:scaleScale()}],"scale-x":[{"scale-x":scaleScale()}],"scale-y":[{"scale-y":scaleScale()}],"scale-z":[{"scale-z":scaleScale()}],"scale-3d":["scale-3d"],skew:[{skew:scaleSkew()}],"skew-x":[{"skew-x":scaleSkew()}],"skew-y":[{"skew-y":scaleSkew()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:scalePositionWithArbitrary()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:scaleTranslate()}],"translate-x":[{"translate-x":scaleTranslate()}],"translate-y":[{"translate-y":scaleTranslate()}],"translate-z":[{"translate-z":scaleTranslate()}],"translate-none":["translate-none"],accent:[{accent:scaleColor()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:scaleColor()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":scaleUnambiguousSpacing()}],"scroll-mx":[{"scroll-mx":scaleUnambiguousSpacing()}],"scroll-my":[{"scroll-my":scaleUnambiguousSpacing()}],"scroll-ms":[{"scroll-ms":scaleUnambiguousSpacing()}],"scroll-me":[{"scroll-me":scaleUnambiguousSpacing()}],"scroll-mt":[{"scroll-mt":scaleUnambiguousSpacing()}],"scroll-mr":[{"scroll-mr":scaleUnambiguousSpacing()}],"scroll-mb":[{"scroll-mb":scaleUnambiguousSpacing()}],"scroll-ml":[{"scroll-ml":scaleUnambiguousSpacing()}],"scroll-p":[{"scroll-p":scaleUnambiguousSpacing()}],"scroll-px":[{"scroll-px":scaleUnambiguousSpacing()}],"scroll-py":[{"scroll-py":scaleUnambiguousSpacing()}],"scroll-ps":[{"scroll-ps":scaleUnambiguousSpacing()}],"scroll-pe":[{"scroll-pe":scaleUnambiguousSpacing()}],"scroll-pt":[{"scroll-pt":scaleUnambiguousSpacing()}],"scroll-pr":[{"scroll-pr":scaleUnambiguousSpacing()}],"scroll-pb":[{"scroll-pb":scaleUnambiguousSpacing()}],"scroll-pl":[{"scroll-pl":scaleUnambiguousSpacing()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...scaleColor()]}],"stroke-w":[{stroke:[isNumber$4,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...scaleColor()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function cn(...e){return Qs(clsx(e))}function formatCurrency(e,s){return s?.compact?formatZARCompact(e):new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:s?.minimumFractionDigits??0,maximumFractionDigits:s?.maximumFractionDigits??0}).format(e)}function formatZARCompact(e){if(null==e)return"R";const s="string"==typeof e?Number(e):e;if(!Number.isFinite(s)||s<=0)return"R";const a=Math.abs(s),fmt=(e,s)=>{const a=Math.round(10*e)/10;return`R${String(a%1==0?Math.trunc(a):a)}${s}`};return a>=1e6?fmt(s/1e6,"M"):a>=1e3?fmt(s/1e3,"k"):`R${Math.round(s)}`}function TooltipProvider({delayDuration:e=0,...s}){return u.jsx(Os,{"data-slot":"tooltip-provider",delayDuration:e,...s})}function Tooltip$1({...e}){return u.jsx(TooltipProvider,{children:u.jsx(Is,{"data-slot":"tooltip",...e})})}function TooltipTrigger({...e}){return u.jsx($s,{"data-slot":"tooltip-trigger",...e})}function TooltipContent({className:e,sideOffset:s=0,children:a,...l}){return u.jsx(Rs,{children:u.jsxs(Fs,{"data-slot":"tooltip-content",sideOffset:s,className:cn("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...l,children:[a,u.jsx(Bs,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const falsyToString=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Xs=clsx,cva=(e,s)=>a=>{var l;if(null==(null==s?void 0:s.variants))return Xs(e,null==a?void 0:a.class,null==a?void 0:a.className);const{variants:c,defaultVariants:u}=s,p=Object.keys(c).map(e=>{const s=null==a?void 0:a[e],l=null==u?void 0:u[e];if(null===s)return null;const p=falsyToString(s)||falsyToString(l);return c[e][p]}),m=a&&Object.entries(a).reduce((e,s)=>{let[a,l]=s;return void 0===l||(e[a]=l),e},{}),h=null==s||null===(l=s.compoundVariants)||void 0===l?void 0:l.reduce((e,s)=>{let{class:a,className:l,...c}=s;return Object.entries(c).every(e=>{let[s,a]=e;return Array.isArray(a)?a.includes({...u,...m}[s]):{...u,...m}[s]===a})?[...e,a,l]:e},[]);return Xs(e,p,h,null==a?void 0:a.class,null==a?void 0:a.className)},Js=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Button$1({className:e,variant:s,size:a,asChild:l=!1,...c}){const p=l?Jr:"button";return u.jsx(p,{"data-slot":"button",className:cn(Js({variant:s,size:a,className:e})),...c})}const ea=re.forwardRef(({className:e,...s},a)=>u.jsx("div",{ref:a,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));ea.displayName="Card";const ta=re.forwardRef(({className:e,...s},a)=>u.jsx("div",{ref:a,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));ta.displayName="CardHeader";const ra=re.forwardRef(({className:e,...s},a)=>u.jsx("h3",{ref:a,className:cn("text-fluid-h3 font-semibold leading-none tracking-tight",e),...s}));ra.displayName="CardTitle";const na=re.forwardRef(({className:e,...s},a)=>u.jsx("p",{ref:a,className:cn("text-sm text-muted-foreground",e),...s}));na.displayName="CardDescription";const sa=re.forwardRef(({className:e,...s},a)=>u.jsx("div",{ref:a,className:cn("p-6 pt-0",e),...s}));sa.displayName="CardContent";const aa=re.forwardRef(({className:e,...s},a)=>u.jsx("div",{ref:a,className:cn("flex items-center p-6 pt-0",e),...s}));aa.displayName="CardFooter";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mergeClasses=(...e)=>e.filter((e,s,a)=>Boolean(e)&&a.indexOf(e)===s).join(" ");
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var ia={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:p,...m},h)=>re.createElement("svg",{ref:h,...ia,width:s,height:s,stroke:e,strokeWidth:l?24*Number(a)/Number(s):a,className:mergeClasses("lucide",c),...m},[...p.map(([e,s])=>re.createElement(e,s)),...Array.isArray(u)?u:[u]])),createLucideIcon=(e,s)=>{const a=re.forwardRef(({className:a,...l},c)=>{return re.createElement(oa,{ref:c,iconNode:s,className:mergeClasses(`lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,a),...l});var u});return a.displayName=`${e}`,a},la=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ca=createLucideIcon("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),da=createLucideIcon("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),ua=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),pa=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ma=createLucideIcon("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),ha=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),fa=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ga=createLucideIcon("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),xa=createLucideIcon("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),va=createLucideIcon("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),ya=createLucideIcon("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]),ba=createLucideIcon("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),ja=createLucideIcon("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),wa=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Na=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Sa=createLucideIcon("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Ca=createLucideIcon("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),ka=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),_a=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Pa=createLucideIcon("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]),Ta=createLucideIcon("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Ea=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Aa=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ma=createLucideIcon("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),La=createLucideIcon("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]),Da=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Oa=createLucideIcon("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Ia=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$a=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ra=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Fa=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ba=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),za=createLucideIcon("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),Va=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ua=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ha=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),qa=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wa=createLucideIcon("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Za=createLucideIcon("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Ka=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ga=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ya=createLucideIcon("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Qa=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xa=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Ja=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),ei=createLucideIcon("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),ti=createLucideIcon("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),ri=createLucideIcon("Component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]),ni=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),si=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ai=createLucideIcon("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),ii=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),oi=createLucideIcon("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]),li=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ci=createLucideIcon("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),di=createLucideIcon("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]),ui=createLucideIcon("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),pi=createLucideIcon("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),mi=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),hi=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),fi=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gi=createLucideIcon("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),xi=createLucideIcon("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),vi=createLucideIcon("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),yi=createLucideIcon("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),bi=createLucideIcon("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),ji=createLucideIcon("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]),wi=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ni=createLucideIcon("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),Si=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ci=createLucideIcon("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),ki=createLucideIcon("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]),_i=createLucideIcon("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Pi=createLucideIcon("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),Ti=createLucideIcon("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Ei=createLucideIcon("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),Ai=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Mi=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Li=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Di=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Oi=createLucideIcon("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),Ii=createLucideIcon("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]),$i=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ri=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Fi=createLucideIcon("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]),Bi=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),zi=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Vi=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ui=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Hi=createLucideIcon("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),qi=createLucideIcon("LandPlot",[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]]),Wi=createLucideIcon("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Zi=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Ki=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Gi=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Yi=createLucideIcon("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Qi=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Xi=createLucideIcon("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Ji=createLucideIcon("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),eo=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),ro=createLucideIcon("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),no=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),so=createLucideIcon("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]),ao=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),io=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),oo=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),lo=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),co=createLucideIcon("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]),uo=createLucideIcon("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),po=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),mo=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),ho=createLucideIcon("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),fo=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),go=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),xo=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),vo=createLucideIcon("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),yo=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),bo=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),jo=createLucideIcon("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),wo=createLucideIcon("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]),No=createLucideIcon("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),So=createLucideIcon("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Co=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ko=createLucideIcon("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),_o=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Po=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),To=createLucideIcon("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Eo=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ao=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Mo=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Lo=createLucideIcon("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),Do=createLucideIcon("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Oo=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Io=createLucideIcon("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),$o=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ro=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),Fo=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Bo=createLucideIcon("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),zo=createLucideIcon("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),Vo=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Uo=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ho=createLucideIcon("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),qo=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wo=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Zo=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ko=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Go=createLucideIcon("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Yo=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Qo=createLucideIcon("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Xo=createLucideIcon("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Jo=createLucideIcon("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]),el=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),tl=createLucideIcon("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),rl=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),nl=createLucideIcon("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),sl=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),al=createLucideIcon("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),il=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ol=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ll=createLucideIcon("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),cl=createLucideIcon("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),dl=createLucideIcon("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]),ul=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pl=createLucideIcon("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),ml=createLucideIcon("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),hl=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),fl=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),gl=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xl=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),vl=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),yl=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),bl=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),jl=createLucideIcon("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),wl=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Nl=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Sl=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Cl=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),kl=createLucideIcon("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),_l=createLucideIcon("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Pl=createLucideIcon("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Tl=createLucideIcon("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),El=createLucideIcon("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),Al=createLucideIcon("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Ml=createLucideIcon("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),Ll=createLucideIcon("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Dl=createLucideIcon("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Ol=createLucideIcon("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Il=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$l=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rl=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Fl=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bl,zl,Vl={exports:{}},Ul={};var Hl=function requireShim(){return zl||(zl=1,Vl.exports=function requireUseSyncExternalStoreShim_production(){if(Bl)return Ul;Bl=1;var e=requireReact(),s="function"==typeof Object.is?Object.is:function is(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},a=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function checkIfSnapshotChanged(e){var a=e.getSnapshot;e=e.value;try{var l=a();return!s(e,l)}catch(c){return!0}}var p="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function useSyncExternalStore$1(e,s){return s()}:function useSyncExternalStore$2(e,s){var p=s(),m=a({inst:{value:p,getSnapshot:s}}),h=m[0].inst,f=m[1];return c(function(){h.value=p,h.getSnapshot=s,checkIfSnapshotChanged(h)&&f({inst:h})},[e,p,s]),l(function(){return checkIfSnapshotChanged(h)&&f({inst:h}),e(function(){checkIfSnapshotChanged(h)&&f({inst:h})})},[e]),u(p),p};return Ul.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:p,Ul}()),Vl.exports}();const ql=le.useInsertionEffect,Wl=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?re.useLayoutEffect:re.useEffect,Zl=ql||Wl,useEvent$1=e=>{const s=re.useRef([e,(...e)=>s[0](...e)]).current;return Zl(()=>{s[0]=e}),s[1]},Kl="pushState",Gl="replaceState",Yl=["popstate",Kl,Gl,"hashchange"],subscribeToLocationUpdates=e=>{for(const s of Yl)addEventListener(s,e);return()=>{for(const s of Yl)removeEventListener(s,e)}},useLocationProperty=(e,s)=>Hl.useSyncExternalStore(subscribeToLocationUpdates,e,s),currentSearch=()=>location.search,currentPathname=()=>location.pathname,usePathname=({ssrPath:e}={})=>useLocationProperty(currentPathname,e?()=>e:currentPathname),navigate=(e,{replace:s=!1,state:a=null}={})=>history[s?Gl:Kl](a,"",e),Ql=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[Ql]){for(const e of[Kl,Gl]){const s=history[e];history[e]=function(){const a=s.apply(this,arguments),l=new Event(e);return l.arguments=arguments,dispatchEvent(l),a}}Object.defineProperty(window,Ql,{value:!0})}const baseDefaults=(e="")=>"/"===e?"":e,relativePath=(e="",s)=>((e,s)=>s.toLowerCase().indexOf(e.toLowerCase())?"~"+s:s.slice(e.length)||"/")(unescape(baseDefaults(e)),unescape(s)),unescape=e=>{try{return decodeURI(e)}catch(s){return e}},Xl={hook:(e={})=>[usePathname(e),navigate],searchHook:({ssrSearch:e=""}={})=>useLocationProperty(currentSearch,()=>e),parser:function parse$1(e,s){if(e instanceof RegExp)return{keys:!1,pattern:e};var a,l,c,u,p=[],m="",h=e.split("/");for(h[0]||h.shift();c=h.shift();)"*"===(a=c[0])?(p.push(a),m+="?"===c[1]?"(?:/(.*))?":"/(.*)"):":"===a?(l=c.indexOf("?",1),u=c.indexOf(".",1),p.push(c.substring(1,~l?l:~u?u:c.length)),m+=~l&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(m+=(~l?"?":"")+"\\"+c.substring(u))):m+="/"+c;return{keys:p,pattern:new RegExp("^"+m+(s?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Jl=re.createContext(Xl),useRouter=()=>re.useContext(Jl),ec={},tc=re.createContext(ec),useParams=()=>re.useContext(tc),useLocationFromRouter=e=>{const[s,a]=e.hook(e);return[relativePath(e.base,s),useEvent$1((s,l)=>a(((e,s)=>"~"===e[0]?e.slice(1):baseDefaults(s)+e)(s,e.base),l))]},useLocation=()=>useLocationFromRouter(useRouter()),useSearch=()=>{const e=useRouter();return s=e.searchHook(e),unescape("?"===(a=s)[0]?a.slice(1):a);var s,a},matchRoute=(e,s,a,l)=>{const{pattern:c,keys:u}=s instanceof RegExp?{keys:!1,pattern:s}:e(s||"*",l),p=c.exec(a)||[],[m,...h]=p;return void 0!==m?[!0,(()=>{const e=!1!==u?Object.fromEntries(u.map((e,s)=>[e,h[s]])):p.groups;let s={...h};return e&&Object.assign(s,e),s})(),...l?[m]:[]]:[!1,null]},useRoute=e=>matchRoute(useRouter().parser,e,useLocation()[0]),Router$1=({children:e,...s})=>{const a=useRouter(),l=s.hook?Xl:a;let c=l;const[u,p]=s.ssrPath?.split("?")??[];p&&(s.ssrSearch=p,s.ssrPath=u),s.hrefs=s.hrefs??s.hook?.hrefs;let m=re.useRef({}),h=m.current,f=h;for(let g in l){const e="base"===g?l[g]+(s[g]||""):s[g]||l[g];h===f&&e!==f[g]&&(m.current=f={...f}),f[g]=e,e===l[g]&&e===c[g]||(c=f)}return re.createElement(Jl.Provider,{value:c,children:e})},h_route=({children:e,component:s},a)=>s?re.createElement(s,{params:a}):"function"==typeof e?e(a):e,Route=({path:e,nest:s,match:a,...l})=>{const c=useRouter(),[u]=useLocationFromRouter(c),[p,m,h]=a??matchRoute(c.parser,e,u,s),f=(e=>{let s=re.useRef(ec);const a=s.current;return s.current=Object.keys(e).length!==Object.keys(a).length||Object.entries(e).some(([e,s])=>s!==a[e])?e:a})({...useParams(),...m});if(!p)return null;const g=h?re.createElement(Router$1,{base:h},h_route(l,f)):h_route(l,f);return re.createElement(tc.Provider,{value:f,children:g})},rc=re.forwardRef((e,s)=>{const a=useRouter(),[l,c]=useLocationFromRouter(a),{to:u="",href:p=u,onClick:m,asChild:h,children:f,className:g,replace:b,state:j,...N}=e,k=useEvent$1(s=>{s.ctrlKey||s.metaKey||s.altKey||s.shiftKey||0!==s.button||(m?.(s),s.defaultPrevented||(s.preventDefault(),c(p,e)))}),_=a.hrefs("~"===p[0]?p.slice(1):a.base+p,a);return h&&re.isValidElement(f)?re.cloneElement(f,{onClick:k,href:_}):re.createElement("a",{...N,onClick:k,href:_,className:g?.call?g(l===p):g,children:f,ref:s})}),flattenChildren=e=>Array.isArray(e)?e.flatMap(e=>flattenChildren(e&&e.type===re.Fragment?e.props.children:e)):[e],Switch$2=({children:e,location:s})=>{const a=useRouter(),[l]=useLocationFromRouter(a);for(const c of flattenChildren(e)){let e=0;if(re.isValidElement(c)&&(e=matchRoute(a.parser,c.props.path,s||l,c.props.nest))[0])return re.cloneElement(c,{match:e})}return null},Redirect=e=>{const{to:s,href:a=s}=e,l=useRouter(),[,c]=useLocationFromRouter(l),u=useEvent$1(()=>c(s||a,e)),{ssrContext:p}=l;return Wl(()=>{u()},[]),p&&(p.redirectTo=s),null};function NotFound(){const[,e]=useLocation();return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:u.jsx(ea,{className:"w-full max-w-lg mx-4 shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:u.jsxs(sa,{className:"pt-8 pb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-red-100 rounded-full animate-pulse"}),u.jsx(Va,{className:"relative h-16 w-16 text-red-500"})]})}),u.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"404"}),u.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Page Not Found"}),u.jsxs("p",{className:"text-slate-600 mb-8 leading-relaxed",children:["Sorry, the page you are looking for doesn't exist.",u.jsx("br",{}),"It may have been moved or deleted."]}),u.jsx("div",{id:"not-found-button-group",className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsxs(Button$1,{onClick:()=>{e("/")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:[u.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Go Home"]})})]})})})}class ErrorBoundary extends re.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?u.jsx("div",{className:"flex items-center justify-center min-h-screen p-8 bg-background",children:u.jsxs("div",{className:"flex flex-col items-center w-full max-w-2xl p-8",children:[u.jsx(gl,{size:48,className:"text-destructive mb-6 flex-shrink-0"}),u.jsx("h2",{className:"text-xl mb-4",children:"An unexpected error occurred."}),u.jsx("div",{className:"p-4 w-full rounded bg-muted overflow-auto mb-6",children:u.jsx("pre",{className:"text-sm text-muted-foreground whitespace-break-spaces",children:this.state.error?.stack})}),u.jsxs("button",{onClick:()=>window.location.reload(),className:cn("flex items-center gap-2 px-4 py-2 rounded-lg","bg-primary text-primary-foreground","hover:opacity-90 cursor-pointer"),children:[u.jsx($o,{size:16}),"Reload Page"]})]})}):this.props.children}}const nc=re.createContext(void 0);function ThemeProvider({children:e,defaultTheme:s="light",switchable:a=!1}){const[l,c]=re.useState(()=>{if(a){return localStorage.getItem("theme")||s}return s});re.useEffect(()=>{const e=document.documentElement;"dark"===l?e.classList.add("dark"):e.classList.remove("dark"),a&&localStorage.setItem("theme",l)},[l,a]);const p=a?()=>{c(e=>"light"===e?"dark":"light")}:void 0;return u.jsx(nc.Provider,{value:{theme:l,toggleTheme:p,switchable:a},children:e})}const sc=re.createContext(void 0),detectWhiteLabel=()=>{const e=document.getElementById("agency-branding");if(e)try{return{isWhiteLabel:!0,branding:JSON.parse(e.textContent||"{}")}}catch(a){console.error("Failed to parse branding data:",a)}const s=window.location.hostname;return"localhost"===s||s.includes("yourplatform.com")?{isWhiteLabel:!1}:{isWhiteLabel:!0}},BrandingProvider=({children:e})=>{const[s,a]=re.useState(null),[l,c]=re.useState(!1),[p,m]=re.useState(!0),{data:h}=At.agency.getBranding.useQuery(void 0,{enabled:l&&!s});re.useEffect(()=>{const{isWhiteLabel:e,branding:s}=detectWhiteLabel();c(e),s?a(s):e&&h&&a(h),m(!1)},[h]);re.useEffect(()=>{if(s){const e=document.documentElement;if(e.style.setProperty("--branding-primary",s.primaryColor||"#3b82f6"),e.style.setProperty("--branding-secondary",s.secondaryColor||"#64748b"),e.style.setProperty("--branding-accent",s.accentColor||s.primaryColor||"#3b82f6"),s.metaTitle&&(document.title=s.metaTitle),s.metaDescription){const e=document.querySelector('meta[name="description"]');e&&e.setAttribute("content",s.metaDescription)}if(s.faviconUrl){const e=document.querySelector('link[rel="icon"]');e&&(e.href=s.faviconUrl)}if(s.customCss){const e="agency-custom-css";let a=document.getElementById(e);a||(a=document.createElement("style"),a.id=e,document.head.appendChild(a)),a.textContent=s.customCss}}},[s]);const f={branding:s,isWhiteLabel:l,isLoading:p,refreshBranding:()=>{const{branding:e}=detectWhiteLabel();e&&a(e)}};return u.jsx(sc.Provider,{value:f,children:e})},ac=re.createContext(void 0),ic="property-comparison";function ComparisonProvider({children:e}){const[s,a]=re.useState(()=>{if("undefined"!=typeof window){const e=localStorage.getItem(ic);if(e)try{return JSON.parse(e)}catch{return[]}}return[]});re.useEffect(()=>{"undefined"!=typeof window&&localStorage.setItem(ic,JSON.stringify(s))},[s]);const l=s.length<4;return u.jsx(ac.Provider,{value:{comparedProperties:s,addToComparison:e=>{a(s=>s.includes(e)||s.length>=4?s:[...s,e])},removeFromComparison:e=>{a(s=>s.filter(s=>s!==e))},clearComparison:()=>{a([])},isInComparison:e=>s.includes(e),canAddMore:l},children:e})}function useComparison(){const e=re.useContext(ac);if(!e)throw new Error("useComparison must be used within ComparisonProvider");return e}function ComparisonBar(){const{comparedProperties:e,removeFromComparison:s,clearComparison:a}=useComparison(),[,l]=useLocation();if(0===e.length)return null;return u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50 transition-all duration-300 ease-in-out",children:u.jsx("div",{className:"container mx-auto px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Compare Properties (",e.length,"/4)"]}),u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:a,className:"text-slate-500 hover:text-slate-700",children:"Clear All"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex gap-2 overflow-x-auto max-w-md",children:e.map(e=>u.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 rounded-md px-2 py-1 text-sm",children:[u.jsxs("span",{className:"text-slate-600",children:["Property #",e]}),u.jsx("button",{onClick:()=>s(e),className:"text-slate-400 hover:text-slate-600",children:u.jsx(Il,{className:"h-3 w-3"})})]},e))}),u.jsxs(Button$1,{onClick:()=>{l("/compare")},disabled:e.length<2,className:"bg-blue-600 hover:bg-blue-700",children:["Compare",u.jsx(pa,{className:"ml-2 h-4 w-4"})]})]})]})})})}const oc=re.createContext(void 0),lc="guestActivity";function loadGuestActivity(){if("undefined"==typeof window)return{viewedProperties:[],favoriteProperties:[],recentSearches:[],lastUpdated:(new Date).toISOString()};try{const e=localStorage.getItem(lc);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load guest activity:",e)}return{viewedProperties:[],favoriteProperties:[],recentSearches:[],lastUpdated:(new Date).toISOString()}}function GuestActivityProvider({children:e}){const[s,a]=re.useState(loadGuestActivity);re.useEffect(()=>{!function saveGuestActivity(e){if("undefined"!=typeof window)try{e.lastUpdated=(new Date).toISOString(),localStorage.setItem(lc,JSON.stringify(e))}catch(s){console.error("Failed to save guest activity:",s)}}(s)},[s]);return u.jsx(oc.Provider,{value:{viewedProperties:s.viewedProperties,favoriteProperties:s.favoriteProperties,recentSearches:s.recentSearches,addViewedProperty:e=>{a(s=>{if(s.viewedProperties[0]===e)return s;const a=s.viewedProperties.filter(s=>s!==e),l=[e,...a].slice(0,50);return{...s,viewedProperties:l}})},addGuestFavorite:e=>{a(s=>s.favoriteProperties.includes(e)?s:{...s,favoriteProperties:[...s.favoriteProperties,e]})},removeGuestFavorite:e=>{a(s=>({...s,favoriteProperties:s.favoriteProperties.filter(s=>s!==e)}))},isGuestFavorite:e=>s.favoriteProperties.includes(e),addGuestSearch:e=>{a(s=>{if(s.recentSearches.some(s=>JSON.stringify(s)===JSON.stringify(e)))return s;const a=[e,...s.recentSearches].slice(0,10);return{...s,recentSearches:a}})},getActivityCounts:()=>({viewed:s.viewedProperties.length,favorites:s.favoriteProperties.length,searches:s.recentSearches.length}),clearGuestData:()=>{const e={viewedProperties:[],favoriteProperties:[],recentSearches:[],lastUpdated:(new Date).toISOString()};a(e),"undefined"!=typeof window&&localStorage.removeItem(lc)},getGuestData:()=>s},children:e})}function useGuestActivity(){const e=re.useContext(oc);if(!e)throw new Error("useGuestActivity must be used within GuestActivityProvider");return e}const cc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.propertylistifysa.co.za",VITE_APP_ID:"propertylistifysa",VITE_APP_TITLE:"PropertyListify SA",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4",VITE_USER_NODE_ENV:"production"};function getEnvVar(e,s){const a=cc[e];return a||(console.warn(` Environment variable ${e} is not defined. Using fallback: ${s}`),s)}getEnvVar("VITE_API_URL","http://localhost:3000"),getEnvVar("VITE_APP_LOGO","/logo.png");const dc=getEnvVar("VITE_APP_TITLE","Property Listify");getEnvVar("VITE_ANALYTICS_ENDPOINT","http://localhost:3000/analytics"),getEnvVar("VITE_ANALYTICS_WEBSITE_ID","local-test-site");const getLoginUrl=()=>"/login";function useAuth(e){const{redirectOnUnauthenticated:s=!1,redirectPath:a=getLoginUrl()}={};if(!At)return console.warn("TRPC context not found in useAuth hook. Ensure trpc.Provider is correctly set up."),{user:null,loading:!1,error:new Error("TRPC context not available"),isAuthenticated:!1,refresh:()=>{},logout:async()=>{}};const l=At.useUtils(),c=At.auth.me.useQuery(void 0,{retry:!1,refetchOnWindowFocus:!1}),u=At.auth.logout.useMutation({onSuccess:()=>{l.auth.me.setData(void 0,null)}}),p=re.useCallback(async()=>{try{await u.mutateAsync()}catch(e){if(e instanceof lt&&"UNAUTHORIZED"===e.data?.code)return;throw e}finally{l.auth.me.setData(void 0,null),await l.auth.me.invalidate()}},[u,l]),m=re.useMemo(()=>({user:c.data??null,loading:c.isLoading||u.isPending,error:c.error??u.error??null,isAuthenticated:Boolean(c.data)}),[c.data,c.error,c.isLoading,u.error,u.isPending]);return re.useEffect(()=>{s&&(c.isLoading||u.isPending||m.user||"undefined"!=typeof window&&window.location.pathname!==a&&(window.location.href=a))},[s,a,u.isPending,c.isLoading,m.user]),{...m,refresh:()=>c.refetch(),logout:p}}function GuestUserBanner(){const{isAuthenticated:e}=useAuth(),{getActivityCounts:s}=useGuestActivity(),[,a]=useLocation(),[l,c]=re.useState(!1);if(e)return null;const p=s(),m=p.viewed+p.favorites;return 0===m?null:l?u.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:u.jsxs(Button$1,{onClick:()=>c(!1),className:"bg-blue-600 hover:bg-blue-700 shadow-lg",children:[u.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Guest Activity (",m,")"]})}):u.jsx(ea,{className:"fixed bottom-4 right-4 w-80 z-50 shadow-xl border-blue-200 bg-white",children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(Sl,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-900",children:"Guest User"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Your Recent Activity"})]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(!0),children:u.jsx(Il,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex gap-4 mb-4",children:[p.viewed>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fi,{className:"h-4 w-4 text-slate-500"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:p.viewed}),u.jsx("div",{className:"text-xs text-slate-500",children:"Viewed"})]})]}),p.favorites>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($i,{className:"h-4 w-4 text-red-500"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:p.favorites}),u.jsx("div",{className:"text-xs text-slate-500",children:"Favorites"})]})]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:[u.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Save your activity permanently!"}),u.jsx("p",{className:"text-xs text-blue-700",children:"Login or register to access your activities across all devices."})]}),u.jsxs(Button$1,{onClick:()=>a("/login"),className:"w-full bg-blue-600 hover:bg-blue-700",children:["Login / Register to Save Activity",u.jsx(pa,{className:"ml-2 h-4 w-4"})]})]})})}function SkipToContent({targetId:e="main-content",label:s="Skip to main content"}){const[a,l]=re.useState(!1);return u.jsx("a",{href:`#${e}`,onClick:s=>{s.preventDefault();const a=document.getElementById(e);a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"start"}))},onFocus:()=>l(!0),onBlur:()=>l(!1),className:"skip-link",style:{position:"absolute",top:a?"0":"-40px",left:"0",background:"#6366f1",color:"white",padding:"8px 16px",textDecoration:"none",borderRadius:"0 0 4px 0",fontWeight:"600",zIndex:9999,transition:"top 0.2s ease-out"},children:s})}const uc=cva("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,asChild:a=!1,...l}){const c=a?Jr:"span";return u.jsx(c,{"data-slot":"badge",className:cn(uc({variant:s}),e),...l})}function createCollection(e){const s=e+"CollectionProvider",[a,l]=createContextScope(s),[c,p]=a(s,{collectionRef:{current:null},itemMap:new Map}),CollectionProvider=e=>{const{scope:s,children:a}=e,l=ae.useRef(null),p=ae.useRef(new Map).current;return u.jsx(c,{scope:s,itemMap:p,collectionRef:l,children:a})};CollectionProvider.displayName=s;const m=e+"CollectionSlot",h=createSlot(m),f=ae.forwardRef((e,s)=>{const{scope:a,children:l}=e,c=useComposedRefs$1(s,p(m,a).collectionRef);return u.jsx(h,{ref:c,children:l})});f.displayName=m;const g=e+"CollectionItemSlot",b="data-radix-collection-item",j=createSlot(g),N=ae.forwardRef((e,s)=>{const{scope:a,children:l,...c}=e,m=ae.useRef(null),h=useComposedRefs$1(s,m),f=p(g,a);return ae.useEffect(()=>(f.itemMap.set(m,{ref:m,...c}),()=>{f.itemMap.delete(m)})),u.jsx(j,{[b]:"",ref:h,children:l})});return N.displayName=g,[{Provider:CollectionProvider,Slot:f,ItemSlot:N},function useCollection2(s){const a=p(e+"CollectionConsumer",s);return ae.useCallback(()=>{const e=a.collectionRef.current;if(!e)return[];const s=Array.from(e.querySelectorAll(`[${b}]`));return Array.from(a.itemMap.values()).sort((e,a)=>s.indexOf(e.ref.current)-s.indexOf(a.ref.current))},[a.collectionRef,a.itemMap])},l]}var pc=re.createContext(void 0);function useDirection(e){const s=re.useContext(pc);return e||s||"ltr"}var mc=0;function useFocusGuards(){re.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",e[1]??createFocusGuard()),mc++,()=>{1===mc&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mc--}},[])}function createFocusGuard(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hc="focusScope.autoFocusOnMount",fc="focusScope.autoFocusOnUnmount",gc={bubbles:!1,cancelable:!0},xc=re.forwardRef((e,s)=>{const{loop:a=!1,trapped:l=!1,onMountAutoFocus:c,onUnmountAutoFocus:p,...m}=e,[h,f]=re.useState(null),g=useCallbackRef$1(c),b=useCallbackRef$1(p),j=re.useRef(null),N=useComposedRefs$1(s,e=>f(e)),k=re.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;re.useEffect(()=>{if(l){let handleFocusIn2=function(e){if(k.paused||!h)return;const s=e.target;h.contains(s)?j.current=s:focus(j.current,{select:!0})},handleFocusOut2=function(e){if(k.paused||!h)return;const s=e.relatedTarget;null!==s&&(h.contains(s)||focus(j.current,{select:!0}))},handleMutations2=function(e){if(document.activeElement===document.body)for(const s of e)s.removedNodes.length>0&&focus(h)};document.addEventListener("focusin",handleFocusIn2),document.addEventListener("focusout",handleFocusOut2);const e=new MutationObserver(handleMutations2);return h&&e.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",handleFocusIn2),document.removeEventListener("focusout",handleFocusOut2),e.disconnect()}}},[l,h,k.paused]),re.useEffect(()=>{if(h){vc.add(k);const e=document.activeElement;if(!h.contains(e)){const s=new CustomEvent(hc,gc);h.addEventListener(hc,g),h.dispatchEvent(s),s.defaultPrevented||(!function focusFirst$3(e,{select:s=!1}={}){const a=document.activeElement;for(const l of e)if(focus(l,{select:s}),document.activeElement!==a)return}(function removeLinks(e){return e.filter(e=>"A"!==e.tagName)}(getTabbableCandidates$1(h)),{select:!0}),document.activeElement===e&&focus(h))}return()=>{h.removeEventListener(hc,g),setTimeout(()=>{const s=new CustomEvent(fc,gc);h.addEventListener(fc,b),h.dispatchEvent(s),s.defaultPrevented||focus(e??document.body,{select:!0}),h.removeEventListener(fc,b),vc.remove(k)},0)}}},[h,g,b,k]);const _=re.useCallback(e=>{if(!a&&!l)return;if(k.paused)return;const s="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,c=document.activeElement;if(s&&c){const s=e.currentTarget,[l,u]=function getTabbableEdges(e){const s=getTabbableCandidates$1(e),a=findVisible(s,e),l=findVisible(s.reverse(),e);return[a,l]}(s);l&&u?e.shiftKey||c!==u?e.shiftKey&&c===l&&(e.preventDefault(),a&&focus(u,{select:!0})):(e.preventDefault(),a&&focus(l,{select:!0})):c===s&&e.preventDefault()}},[a,l,k.paused]);return u.jsx(tn.div,{tabIndex:-1,...m,ref:N,onKeyDown:_})});function getTabbableCandidates$1(e){const s=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const s="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||s?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function findVisible(e,s){for(const a of e)if(!isHidden(a,{upTo:s}))return a}function isHidden(e,{upTo:s}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==s&&e===s)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function focus(e,{select:s=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&function isSelectableInput(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&s&&e.select()}}xc.displayName="FocusScope";var vc=function createFocusScopesStack(){let e=[];return{add(s){const a=e[0];s!==a&&a?.pause(),e=arrayRemove(e,s),e.unshift(s)},remove(s){e=arrayRemove(e,s),e[0]?.resume()}}}();function arrayRemove(e,s){const a=[...e],l=a.indexOf(s);return-1!==l&&a.splice(l,1),a}var yc="rovingFocusGroup.onEntryFocus",bc={bubbles:!1,cancelable:!0},jc="RovingFocusGroup",[wc,Nc,Sc]=createCollection(jc),[Cc,kc]=createContextScope(jc,[Sc]),[_c,Pc]=Cc(jc),Tc=re.forwardRef((e,s)=>u.jsx(wc.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(wc.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Ec,{...e,ref:s})})}));Tc.displayName=jc;var Ec=re.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:a,orientation:l,loop:c=!1,dir:p,currentTabStopId:m,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:g,preventScrollOnEntryFocus:b=!1,...j}=e,N=re.useRef(null),k=useComposedRefs$1(s,N),_=useDirection(p),[T,E]=useControllableState({prop:m,defaultProp:h??null,onChange:f,caller:jc}),[A,L]=re.useState(!1),O=useCallbackRef$1(g),I=Nc(a),$=re.useRef(!1),[z,U]=re.useState(0);return re.useEffect(()=>{const e=N.current;if(e)return e.addEventListener(yc,O),()=>e.removeEventListener(yc,O)},[O]),u.jsx(_c,{scope:a,orientation:l,dir:_,loop:c,currentTabStopId:T,onItemFocus:re.useCallback(e=>E(e),[E]),onItemShiftTab:re.useCallback(()=>L(!0),[]),onFocusableItemAdd:re.useCallback(()=>U(e=>e+1),[]),onFocusableItemRemove:re.useCallback(()=>U(e=>e-1),[]),children:u.jsx(tn.div,{tabIndex:A||0===z?-1:0,"data-orientation":l,...j,ref:k,style:{outline:"none",...e.style},onMouseDown:composeEventHandlers(e.onMouseDown,()=>{$.current=!0}),onFocus:composeEventHandlers(e.onFocus,e=>{const s=!$.current;if(e.target===e.currentTarget&&s&&!A){const s=new CustomEvent(yc,bc);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){const e=I().filter(e=>e.focusable);focusFirst$2([e.find(e=>e.active),e.find(e=>e.id===T),...e].filter(Boolean).map(e=>e.ref.current),b)}}$.current=!1}),onBlur:composeEventHandlers(e.onBlur,()=>L(!1))})})}),Ac="RovingFocusGroupItem",Mc=re.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:a,focusable:l=!0,active:c=!1,tabStopId:p,children:m,...h}=e,f=useId(),g=p||f,b=Pc(Ac,a),j=b.currentTabStopId===g,N=Nc(a),{onFocusableItemAdd:k,onFocusableItemRemove:_,currentTabStopId:T}=b;return re.useEffect(()=>{if(l)return k(),()=>_()},[l,k,_]),u.jsx(wc.ItemSlot,{scope:a,id:g,focusable:l,active:c,children:u.jsx(tn.span,{tabIndex:j?0:-1,"data-orientation":b.orientation,...h,ref:s,onMouseDown:composeEventHandlers(e.onMouseDown,e=>{l?b.onItemFocus(g):e.preventDefault()}),onFocus:composeEventHandlers(e.onFocus,()=>b.onItemFocus(g)),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void b.onItemShiftTab();if(e.target!==e.currentTarget)return;const s=function getFocusIntent(e,s,a){const l=function getDirectionAwareKey(e,s){return"rtl"!==s?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,a);return"vertical"===s&&["ArrowLeft","ArrowRight"].includes(l)||"horizontal"===s&&["ArrowUp","ArrowDown"].includes(l)?void 0:Lc[l]}(e,b.orientation,b.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=N().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)a.reverse();else if("prev"===s||"next"===s){"prev"===s&&a.reverse();const l=a.indexOf(e.currentTarget);a=b.loop?function wrapArray$2(e,s){return e.map((a,l)=>e[(s+l)%e.length])}(a,l+1):a.slice(l+1)}setTimeout(()=>focusFirst$2(a))}}),children:"function"==typeof m?m({isCurrentTabStop:j,hasTabStop:null!=T}):m})})});Mc.displayName=Ac;var Lc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function focusFirst$2(e,s=!1){const a=document.activeElement;for(const l of e){if(l===a)return;if(l.focus({preventScroll:s}),document.activeElement!==a)return}}var Dc=Tc,Oc=Mc,Ic=new WeakMap,$c=new WeakMap,Rc={},Fc=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},applyAttributeToOthers=function(e,s,a,l){var c=function(e,s){return s.map(function(s){if(e.contains(s))return s;var a=unwrapHost(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(s,Array.isArray(e)?e:[e]);Rc[a]||(Rc[a]=new WeakMap);var u=Rc[a],p=[],m=new Set,h=new Set(c),keep=function(e){e&&!m.has(e)&&(m.add(e),keep(e.parentNode))};c.forEach(keep);var deep=function(e){e&&!h.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(m.has(e))deep(e);else try{var s=e.getAttribute(l),c=null!==s&&"false"!==s,h=(Ic.get(e)||0)+1,f=(u.get(e)||0)+1;Ic.set(e,h),u.set(e,f),p.push(e),1===h&&c&&$c.set(e,!0),1===f&&e.setAttribute(a,"true"),c||e.setAttribute(l,"true")}catch(g){console.error("aria-hidden: cannot operate on ",e,g)}})};return deep(s),m.clear(),Fc++,function(){p.forEach(function(e){var s=Ic.get(e)-1,c=u.get(e)-1;Ic.set(e,s),u.set(e,c),s||($c.has(e)||e.removeAttribute(l),$c.delete(e)),c||e.removeAttribute(a)}),--Fc||(Ic=new WeakMap,Ic=new WeakMap,$c=new WeakMap,Rc={})}},hideOthers=function(e,s,a){void 0===a&&(a="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),c=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return c?(l.push.apply(l,Array.from(c.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(l,c,a,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function __assign2(e){for(var s,a=1,l=arguments.length;a<l;a++)for(var c in s=arguments[a])Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);return e},__assign.apply(this,arguments)};function __rest$1(e,s){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(e);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(e,l[c])&&(a[l[c]]=e[l[c]])}return a}"function"==typeof SuppressedError&&SuppressedError;var Bc="right-scroll-bar-position",zc="width-before-scroll-bar";function assignRef(e,s){return"function"==typeof e?e(s):e&&(e.current=s),e}var Vc="undefined"!=typeof window?re.useLayoutEffect:re.useEffect,Uc=new WeakMap;function useMergeRefs(e,s){var a=function useCallbackRef(e,s){var a=re.useState(function(){return{value:e,callback:s,facade:{get current(){return a.value},set current(e){var s=a.value;s!==e&&(a.value=e,a.callback(e,s))}}}})[0];return a.callback=s,a.facade}(null,function(s){return e.forEach(function(e){return assignRef(e,s)})});return Vc(function(){var s=Uc.get(a);if(s){var l=new Set(s),c=new Set(e),u=a.current;l.forEach(function(e){c.has(e)||assignRef(e,null)}),c.forEach(function(e){l.has(e)||assignRef(e,u)})}Uc.set(a,e)},[e]),a}function ItoI(e){return e}var SideCar$1=function(e){var s=e.sideCar,a=__rest$1(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=s.read();if(!l)throw new Error("Sidecar medium not found");return re.createElement(l,__assign({},a))};SideCar$1.isSideCarExport=!0;var Hc=function createSidecarMedium(e){void 0===e&&(e={});var s=function innerCreateMedium(e,s){void 0===s&&(s=ItoI);var a=[],l=!1;return{read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(e){var c=s(e,l);return a.push(c),function(){a=a.filter(function(e){return e!==c})}},assignSyncMedium:function(e){for(l=!0;a.length;){var s=a;a=[],s.forEach(e)}a={push:function(s){return e(s)},filter:function(){return a}}},assignMedium:function(e){l=!0;var s=[];if(a.length){var c=a;a=[],c.forEach(e),s=a}var executeQueue=function(){var a=s;s=[],a.forEach(e)},cycle=function(){return Promise.resolve().then(executeQueue)};cycle(),a={push:function(e){s.push(e),cycle()},filter:function(e){return s=s.filter(e),a}}}}}(null);return s.options=__assign({async:!0,ssr:!1},e),s}(),nothing=function(){},qc=re.forwardRef(function(e,s){var a=re.useRef(null),l=re.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),c=l[0],u=l[1],p=e.forwardProps,m=e.children,h=e.className,f=e.removeScrollBar,g=e.enabled,b=e.shards,j=e.sideCar,N=e.noRelative,k=e.noIsolation,_=e.inert,T=e.allowPinchZoom,E=e.as,A=void 0===E?"div":E,L=e.gapMode,O=__rest$1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=j,$=useMergeRefs([a,s]),z=__assign(__assign({},O),c);return re.createElement(re.Fragment,null,g&&re.createElement(I,{sideCar:Hc,removeScrollBar:f,shards:b,noRelative:N,noIsolation:k,inert:_,setCallbacks:u,allowPinchZoom:!!T,lockRef:a,gapMode:L}),p?re.cloneElement(re.Children.only(m),__assign(__assign({},z),{ref:$})):re.createElement(A,__assign({},z,{className:h,ref:$}),m))});qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},qc.classNames={fullWidth:zc,zeroRight:Bc};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return s&&e.setAttribute("nonce",s),e}var stylesheetSingleton=function(){var e=0,s=null;return{add:function(a){0==e&&(s=makeStyleTag())&&(!function injectStyles(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}(s,a),function insertStyleTag(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(s)),e++},remove:function(){! --e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},styleSingleton=function(){var e,s=(e=stylesheetSingleton(),function(s,a){re.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&a])});return function(e){var a=e.styles,l=e.dynamic;return s(a,l),null}},Wc={left:0,top:0,right:0,gap:0},parse=function(e){return parseInt(e||"",10)||0},getGapWidth=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Wc;var s=function(e){var s=window.getComputedStyle(document.body),a=s["padding"===e?"paddingLeft":"marginLeft"],l=s["padding"===e?"paddingTop":"marginTop"],c=s["padding"===e?"paddingRight":"marginRight"];return[parse(a),parse(l),parse(c)]}(e),a=document.documentElement.clientWidth,l=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,l-a+s[2]-s[0])}},Zc=styleSingleton(),Kc="data-scroll-locked",getStyles=function(e,s,a,l){var c=e.left,u=e.top,p=e.right,m=e.gap;return void 0===a&&(a="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(l,";\n   padding-right: ").concat(m,"px ").concat(l,";\n  }\n  body[").concat(Kc,"] {\n    overflow: hidden ").concat(l,";\n    overscroll-behavior: contain;\n    ").concat([s&&"position: relative ".concat(l,";"),"margin"===a&&"\n    padding-left: ".concat(c,"px;\n    padding-top: ").concat(u,"px;\n    padding-right: ").concat(p,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(m,"px ").concat(l,";\n    "),"padding"===a&&"padding-right: ".concat(m,"px ").concat(l,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Bc," {\n    right: ").concat(m,"px ").concat(l,";\n  }\n  \n  .").concat(zc," {\n    margin-right: ").concat(m,"px ").concat(l,";\n  }\n  \n  .").concat(Bc," .").concat(Bc," {\n    right: 0 ").concat(l,";\n  }\n  \n  .").concat(zc," .").concat(zc," {\n    margin-right: 0 ").concat(l,";\n  }\n  \n  body[").concat(Kc,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(m,"px;\n  }\n")},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(Kc)||"0",10);return isFinite(e)?e:0},RemoveScrollBar=function(e){var s=e.noRelative,a=e.noImportant,l=e.gapMode,c=void 0===l?"margin":l;re.useEffect(function(){return document.body.setAttribute(Kc,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(Kc):document.body.setAttribute(Kc,e.toString())}},[]);var u=re.useMemo(function(){return getGapWidth(c)},[c]);return re.createElement(Zc,{styles:getStyles(u,!s,c,a?"":"!important")})},Gc=!1;if("undefined"!=typeof window)try{var Yc=Object.defineProperty({},"passive",{get:function(){return Gc=!0,!0}});window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch(pW){Gc=!1}var Qc=!!Gc&&{passive:!1},elementCanBeScrolled=function(e,s){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return"hidden"!==a[s]&&!(a.overflowY===a.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===a[s])},locationCouldBeScrolled=function(e,s){var a=s.ownerDocument,l=s;do{if("undefined"!=typeof ShadowRoot&&l instanceof ShadowRoot&&(l=l.host),elementCouldBeScrolled(e,l)){var c=getScrollVariables(e,l);if(c[1]>c[2])return!0}l=l.parentNode}while(l&&l!==a.body);return!1},elementCouldBeScrolled=function(e,s){return"v"===e?function(e){return elementCanBeScrolled(e,"overflowY")}(s):function(e){return elementCanBeScrolled(e,"overflowX")}(s)},getScrollVariables=function(e,s){return"v"===e?[(a=s).scrollTop,a.scrollHeight,a.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(s);var a},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},generateStyle=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Xc=0,Jc=[];function getOutermostShadowParent(e){for(var s=null;null!==e;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const ed=function exportSidecar(e,s){return e.useMedium(s),SideCar$1}(Hc,function RemoveScrollSideCar(e){var s=re.useRef([]),a=re.useRef([0,0]),l=re.useRef(),c=re.useState(Xc++)[0],u=re.useState(styleSingleton)[0],p=re.useRef(e);re.useEffect(function(){p.current=e},[e]),re.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var s=function __spreadArray(e,s,a){if(a||2===arguments.length)for(var l,c=0,u=s.length;c<u;c++)!l&&c in s||(l||(l=Array.prototype.slice.call(s,0,c)),l[c]=s[c]);return e.concat(l||Array.prototype.slice.call(s))}([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return s.forEach(function(e){return e.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),s.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var m=re.useCallback(function(e,s){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!p.current.allowPinchZoom;var c,u=getTouchXY(e),m=a.current,h="deltaX"in e?e.deltaX:m[0]-u[0],f="deltaY"in e?e.deltaY:m[1]-u[1],g=e.target,b=Math.abs(h)>Math.abs(f)?"h":"v";if("touches"in e&&"h"===b&&"range"===g.type)return!1;var j=locationCouldBeScrolled(b,g);if(!j)return!0;if(j?c=b:(c="v"===b?"h":"v",j=locationCouldBeScrolled(b,g)),!j)return!1;if(!l.current&&"changedTouches"in e&&(h||f)&&(l.current=c),!c)return!0;var N=l.current||c;return function(e,s,a,l){var c=function(e,s){return"h"===e&&"rtl"===s?-1:1}(e,window.getComputedStyle(s).direction),u=c*l,p=a.target,m=s.contains(p),h=!1,f=u>0,g=0,b=0;do{if(!p)break;var j=getScrollVariables(e,p),N=j[0],k=j[1]-j[2]-c*N;(N||k)&&elementCouldBeScrolled(e,p)&&(g+=k,b+=N);var _=p.parentNode;p=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!m&&p!==document.body||m&&(s.contains(p)||s===p));return(f&&Math.abs(g)<1||!f&&Math.abs(b)<1)&&(h=!0),h}(N,s,e,"h"===N?h:f)},[]),h=re.useCallback(function(e){var a=e;if(Jc.length&&Jc[Jc.length-1]===u){var l="deltaY"in a?getDeltaXY(a):getTouchXY(a),c=s.current.filter(function(e){return e.name===a.type&&(e.target===a.target||a.target===e.shadowParent)&&(s=e.delta,c=l,s[0]===c[0]&&s[1]===c[1]);var s,c})[0];if(c&&c.should)a.cancelable&&a.preventDefault();else if(!c){var h=(p.current.shards||[]).map(extractRef).filter(Boolean).filter(function(e){return e.contains(a.target)});(h.length>0?m(a,h[0]):!p.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),f=re.useCallback(function(e,a,l,c){var u={name:e,delta:a,target:l,should:c,shadowParent:getOutermostShadowParent(l)};s.current.push(u),setTimeout(function(){s.current=s.current.filter(function(e){return e!==u})},1)},[]),g=re.useCallback(function(e){a.current=getTouchXY(e),l.current=void 0},[]),b=re.useCallback(function(s){f(s.type,getDeltaXY(s),s.target,m(s,e.lockRef.current))},[]),j=re.useCallback(function(s){f(s.type,getTouchXY(s),s.target,m(s,e.lockRef.current))},[]);re.useEffect(function(){return Jc.push(u),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:j}),document.addEventListener("wheel",h,Qc),document.addEventListener("touchmove",h,Qc),document.addEventListener("touchstart",g,Qc),function(){Jc=Jc.filter(function(e){return e!==u}),document.removeEventListener("wheel",h,Qc),document.removeEventListener("touchmove",h,Qc),document.removeEventListener("touchstart",g,Qc)}},[]);var N=e.removeScrollBar,k=e.inert;return re.createElement(re.Fragment,null,k?re.createElement(u,{styles:generateStyle(c)}):null,N?re.createElement(RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)});var td=re.forwardRef(function(e,s){return re.createElement(qc,__assign({},e,{ref:s,sideCar:ed}))});td.classNames=qc.classNames;var rd=["Enter"," "],nd=["ArrowUp","PageDown","End"],sd=["ArrowDown","PageUp","Home",...nd],ad={ltr:[...rd,"ArrowRight"],rtl:[...rd,"ArrowLeft"]},id={ltr:["ArrowLeft"],rtl:["ArrowRight"]},od="Menu",[ld,cd,dd]=createCollection(od),[ud,pd]=createContextScope(od,[dd,Un,kc]),md=Un(),hd=kc(),[fd,gd]=ud(od),[xd,vd]=ud(od),Menu=e=>{const{__scopeMenu:s,open:a=!1,children:l,dir:c,onOpenChange:p,modal:m=!0}=e,h=md(s),[f,g]=re.useState(null),b=re.useRef(!1),j=useCallbackRef$1(p),N=useDirection(c);return re.useEffect(()=>{const handleKeyDown=()=>{b.current=!0,document.addEventListener("pointerdown",handlePointer,{capture:!0,once:!0}),document.addEventListener("pointermove",handlePointer,{capture:!0,once:!0})},handlePointer=()=>b.current=!1;return document.addEventListener("keydown",handleKeyDown,{capture:!0}),()=>{document.removeEventListener("keydown",handleKeyDown,{capture:!0}),document.removeEventListener("pointerdown",handlePointer,{capture:!0}),document.removeEventListener("pointermove",handlePointer,{capture:!0})}},[]),u.jsx(ts,{...h,children:u.jsx(fd,{scope:s,open:a,onOpenChange:j,content:f,onContentChange:g,children:u.jsx(xd,{scope:s,onClose:re.useCallback(()=>j(!1),[j]),isUsingKeyboardRef:b,dir:N,modal:m,children:l})})})};Menu.displayName=od;var yd=re.forwardRef((e,s)=>{const{__scopeMenu:a,...l}=e,c=md(a);return u.jsx(rs,{...c,...l,ref:s})});yd.displayName="MenuAnchor";var bd="MenuPortal",[jd,wd]=ud(bd,{forceMount:void 0}),MenuPortal=e=>{const{__scopeMenu:s,forceMount:a,children:l,container:c}=e,p=gd(bd,s);return u.jsx(jd,{scope:s,forceMount:a,children:u.jsx(Presence,{present:a||p.open,children:u.jsx(as,{asChild:!0,container:c,children:l})})})};MenuPortal.displayName=bd;var Nd="MenuContent",[Sd,Cd]=ud(Nd),kd=re.forwardRef((e,s)=>{const a=wd(Nd,e.__scopeMenu),{forceMount:l=a.forceMount,...c}=e,p=gd(Nd,e.__scopeMenu),m=vd(Nd,e.__scopeMenu);return u.jsx(ld.Provider,{scope:e.__scopeMenu,children:u.jsx(Presence,{present:l||p.open,children:u.jsx(ld.Slot,{scope:e.__scopeMenu,children:m.modal?u.jsx(_d,{...c,ref:s}):u.jsx(Pd,{...c,ref:s})})})})}),_d=re.forwardRef((e,s)=>{const a=gd(Nd,e.__scopeMenu),l=re.useRef(null),c=useComposedRefs$1(s,l);return re.useEffect(()=>{const e=l.current;if(e)return hideOthers(e)},[]),u.jsx(Ed,{...e,ref:c,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),Pd=re.forwardRef((e,s)=>{const a=gd(Nd,e.__scopeMenu);return u.jsx(Ed,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),Td=createSlot("MenuContent.ScrollLock"),Ed=re.forwardRef((e,s)=>{const{__scopeMenu:a,loop:l=!1,trapFocus:c,onOpenAutoFocus:p,onCloseAutoFocus:m,disableOutsidePointerEvents:h,onEntryFocus:f,onEscapeKeyDown:g,onPointerDownOutside:b,onFocusOutside:j,onInteractOutside:N,onDismiss:k,disableOutsideScroll:_,...T}=e,E=gd(Nd,a),A=vd(Nd,a),L=md(a),O=hd(a),I=cd(a),[$,z]=re.useState(null),U=re.useRef(null),H=useComposedRefs$1(s,U,E.onContentChange),q=re.useRef(0),Z=re.useRef(""),Y=re.useRef(0),X=re.useRef(null),J=re.useRef("right"),ae=re.useRef(0),le=_?td:re.Fragment,ce=_?{as:Td,allowPinchZoom:!0}:void 0,handleTypeaheadSearch=e=>{const s=Z.current+e,a=I().filter(e=>!e.disabled),l=document.activeElement,c=a.find(e=>e.ref.current===l)?.textValue,u=function getNextMatch(e,s,a){const l=s.length>1&&Array.from(s).every(e=>e===s[0]),c=l?s[0]:s,u=a?e.indexOf(a):-1;let p=function wrapArray$1(e,s){return e.map((a,l)=>e[(s+l)%e.length])}(e,Math.max(u,0));1===c.length&&(p=p.filter(e=>e!==a));const m=p.find(e=>e.toLowerCase().startsWith(c.toLowerCase()));return m!==a?m:void 0}(a.map(e=>e.textValue),s,c),p=a.find(e=>e.textValue===u)?.ref.current;!function updateSearch(e){Z.current=e,window.clearTimeout(q.current),""!==e&&(q.current=window.setTimeout(()=>updateSearch(""),1e3))}(s),p&&setTimeout(()=>p.focus())};re.useEffect(()=>()=>window.clearTimeout(q.current),[]),useFocusGuards();const de=re.useCallback(e=>J.current===X.current?.side&&function isPointerInGraceArea(e,s){if(!s)return!1;const a={x:e.clientX,y:e.clientY};return function isPointInPolygon(e,s){const{x:a,y:l}=e;let c=!1;for(let u=0,p=s.length-1;u<s.length;p=u++){const e=s[u],m=s[p],h=e.x,f=e.y,g=m.x,b=m.y;f>l!=b>l&&a<(g-h)*(l-f)/(b-f)+h&&(c=!c)}return c}(a,s)}(e,X.current?.area),[]);return u.jsx(Sd,{scope:a,searchRef:Z,onItemEnter:re.useCallback(e=>{de(e)&&e.preventDefault()},[de]),onItemLeave:re.useCallback(e=>{de(e)||(U.current?.focus(),z(null))},[de]),onTriggerLeave:re.useCallback(e=>{de(e)&&e.preventDefault()},[de]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:re.useCallback(e=>{X.current=e},[]),children:u.jsx(le,{...ce,children:u.jsx(xc,{asChild:!0,trapped:c,onMountAutoFocus:composeEventHandlers(p,e=>{e.preventDefault(),U.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:u.jsx(un,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:b,onFocusOutside:j,onInteractOutside:N,onDismiss:k,children:u.jsx(Dc,{asChild:!0,...O,dir:A.dir,orientation:"vertical",loop:l,currentTabStopId:$,onCurrentTabStopIdChange:z,onEntryFocus:composeEventHandlers(f,e=>{A.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(ns,{role:"menu","aria-orientation":"vertical","data-state":getOpenState$1(E.open),"data-radix-menu-content":"",dir:A.dir,...L,...T,ref:H,style:{outline:"none",...T.style},onKeyDown:composeEventHandlers(T.onKeyDown,e=>{const s=e.target.closest("[data-radix-menu-content]")===e.currentTarget,a=e.ctrlKey||e.altKey||e.metaKey,l=1===e.key.length;s&&("Tab"===e.key&&e.preventDefault(),!a&&l&&handleTypeaheadSearch(e.key));const c=U.current;if(e.target!==c)return;if(!sd.includes(e.key))return;e.preventDefault();const u=I().filter(e=>!e.disabled).map(e=>e.ref.current);nd.includes(e.key)&&u.reverse(),function focusFirst$1(e){const s=document.activeElement;for(const a of e){if(a===s)return;if(a.focus(),document.activeElement!==s)return}}(u)}),onBlur:composeEventHandlers(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(q.current),Z.current="")}),onPointerMove:composeEventHandlers(e.onPointerMove,whenMouse$1(e=>{const s=e.target,a=ae.current!==e.clientX;if(e.currentTarget.contains(s)&&a){const s=e.clientX>ae.current?"right":"left";J.current=s,ae.current=e.clientX}}))})})})})})})});kd.displayName=Nd;var Ad=re.forwardRef((e,s)=>{const{__scopeMenu:a,...l}=e;return u.jsx(tn.div,{role:"group",...l,ref:s})});Ad.displayName="MenuGroup";var Md=re.forwardRef((e,s)=>{const{__scopeMenu:a,...l}=e;return u.jsx(tn.div,{...l,ref:s})});Md.displayName="MenuLabel";var Ld="MenuItem",Dd="menu.itemSelect",Od=re.forwardRef((e,s)=>{const{disabled:a=!1,onSelect:l,...c}=e,p=re.useRef(null),m=vd(Ld,e.__scopeMenu),h=Cd(Ld,e.__scopeMenu),f=useComposedRefs$1(s,p),g=re.useRef(!1);return u.jsx(Id,{...c,ref:f,disabled:a,onClick:composeEventHandlers(e.onClick,()=>{const e=p.current;if(!a&&e){const s=new CustomEvent(Dd,{bubbles:!0,cancelable:!0});e.addEventListener(Dd,e=>l?.(e),{once:!0}),dispatchDiscreteCustomEvent(e,s),s.defaultPrevented?g.current=!1:m.onClose()}}),onPointerDown:s=>{e.onPointerDown?.(s),g.current=!0},onPointerUp:composeEventHandlers(e.onPointerUp,e=>{g.current||e.currentTarget?.click()}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{const s=""!==h.searchRef.current;a||s&&" "===e.key||rd.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});Od.displayName=Ld;var Id=re.forwardRef((e,s)=>{const{__scopeMenu:a,disabled:l=!1,textValue:c,...p}=e,m=Cd(Ld,a),h=hd(a),f=re.useRef(null),g=useComposedRefs$1(s,f),[b,j]=re.useState(!1),[N,k]=re.useState("");return re.useEffect(()=>{const e=f.current;e&&k((e.textContent??"").trim())},[p.children]),u.jsx(ld.ItemSlot,{scope:a,disabled:l,textValue:c??N,children:u.jsx(Oc,{asChild:!0,...h,focusable:!l,children:u.jsx(tn.div,{role:"menuitem","data-highlighted":b?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...p,ref:g,onPointerMove:composeEventHandlers(e.onPointerMove,whenMouse$1(e=>{if(l)m.onItemLeave(e);else if(m.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:composeEventHandlers(e.onPointerLeave,whenMouse$1(e=>m.onItemLeave(e))),onFocus:composeEventHandlers(e.onFocus,()=>j(!0)),onBlur:composeEventHandlers(e.onBlur,()=>j(!1))})})})}),$d=re.forwardRef((e,s)=>{const{checked:a=!1,onCheckedChange:l,...c}=e;return u.jsx(qd,{scope:e.__scopeMenu,checked:a,children:u.jsx(Od,{role:"menuitemcheckbox","aria-checked":isIndeterminate$1(a)?"mixed":a,...c,ref:s,"data-state":getCheckedState(a),onSelect:composeEventHandlers(c.onSelect,()=>l?.(!!isIndeterminate$1(a)||!a),{checkForDefaultPrevented:!1})})})});$d.displayName="MenuCheckboxItem";var Rd="MenuRadioGroup",[Fd,Bd]=ud(Rd,{value:void 0,onValueChange:()=>{}}),zd=re.forwardRef((e,s)=>{const{value:a,onValueChange:l,...c}=e,p=useCallbackRef$1(l);return u.jsx(Fd,{scope:e.__scopeMenu,value:a,onValueChange:p,children:u.jsx(Ad,{...c,ref:s})})});zd.displayName=Rd;var Vd="MenuRadioItem",Ud=re.forwardRef((e,s)=>{const{value:a,...l}=e,c=Bd(Vd,e.__scopeMenu),p=a===c.value;return u.jsx(qd,{scope:e.__scopeMenu,checked:p,children:u.jsx(Od,{role:"menuitemradio","aria-checked":p,...l,ref:s,"data-state":getCheckedState(p),onSelect:composeEventHandlers(l.onSelect,()=>c.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});Ud.displayName=Vd;var Hd="MenuItemIndicator",[qd,Wd]=ud(Hd,{checked:!1}),Zd=re.forwardRef((e,s)=>{const{__scopeMenu:a,forceMount:l,...c}=e,p=Wd(Hd,a);return u.jsx(Presence,{present:l||isIndeterminate$1(p.checked)||!0===p.checked,children:u.jsx(tn.span,{...c,ref:s,"data-state":getCheckedState(p.checked)})})});Zd.displayName=Hd;var Kd=re.forwardRef((e,s)=>{const{__scopeMenu:a,...l}=e;return u.jsx(tn.div,{role:"separator","aria-orientation":"horizontal",...l,ref:s})});Kd.displayName="MenuSeparator";var Gd=re.forwardRef((e,s)=>{const{__scopeMenu:a,...l}=e,c=md(a);return u.jsx(ss,{...c,...l,ref:s})});Gd.displayName="MenuArrow";var[Yd,Qd]=ud("MenuSub"),Xd="MenuSubTrigger",Jd=re.forwardRef((e,s)=>{const a=gd(Xd,e.__scopeMenu),l=vd(Xd,e.__scopeMenu),c=Qd(Xd,e.__scopeMenu),p=Cd(Xd,e.__scopeMenu),m=re.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:f}=p,g={__scopeMenu:e.__scopeMenu},b=re.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return re.useEffect(()=>b,[b]),re.useEffect(()=>{const e=h.current;return()=>{window.clearTimeout(e),f(null)}},[h,f]),u.jsx(yd,{asChild:!0,...g,children:u.jsx(Id,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":c.contentId,"data-state":getOpenState$1(a.open),...e,ref:composeRefs$1(s,c.onTriggerChange),onClick:s=>{e.onClick?.(s),e.disabled||s.defaultPrevented||(s.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:composeEventHandlers(e.onPointerMove,whenMouse$1(s=>{p.onItemEnter(s),s.defaultPrevented||e.disabled||a.open||m.current||(p.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{a.onOpenChange(!0),b()},100))})),onPointerLeave:composeEventHandlers(e.onPointerLeave,whenMouse$1(e=>{b();const s=a.content?.getBoundingClientRect();if(s){const l=a.content?.dataset.side,c="right"===l,u=c?-5:5,m=s[c?"left":"right"],f=s[c?"right":"left"];p.onPointerGraceIntentChange({area:[{x:e.clientX+u,y:e.clientY},{x:m,y:s.top},{x:f,y:s.top},{x:f,y:s.bottom},{x:m,y:s.bottom}],side:l}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>p.onPointerGraceIntentChange(null),300)}else{if(p.onTriggerLeave(e),e.defaultPrevented)return;p.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(e.onKeyDown,s=>{const c=""!==p.searchRef.current;e.disabled||c&&" "===s.key||ad[l.dir].includes(s.key)&&(a.onOpenChange(!0),a.content?.focus(),s.preventDefault())})})})});Jd.displayName=Xd;var eu="MenuSubContent",tu=re.forwardRef((e,s)=>{const a=wd(Nd,e.__scopeMenu),{forceMount:l=a.forceMount,...c}=e,p=gd(Nd,e.__scopeMenu),m=vd(Nd,e.__scopeMenu),h=Qd(eu,e.__scopeMenu),f=re.useRef(null),g=useComposedRefs$1(s,f);return u.jsx(ld.Provider,{scope:e.__scopeMenu,children:u.jsx(Presence,{present:l||p.open,children:u.jsx(ld.Slot,{scope:e.__scopeMenu,children:u.jsx(Ed,{id:h.contentId,"aria-labelledby":h.triggerId,...c,ref:g,align:"start",side:"rtl"===m.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{m.isUsingKeyboardRef.current&&f.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:composeEventHandlers(e.onFocusOutside,e=>{e.target!==h.trigger&&p.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(e.onEscapeKeyDown,e=>{m.onClose(),e.preventDefault()}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{const s=e.currentTarget.contains(e.target),a=id[m.dir].includes(e.key);s&&a&&(p.onOpenChange(!1),h.trigger?.focus(),e.preventDefault())})})})})})});function getOpenState$1(e){return e?"open":"closed"}function isIndeterminate$1(e){return"indeterminate"===e}function getCheckedState(e){return isIndeterminate$1(e)?"indeterminate":e?"checked":"unchecked"}function whenMouse$1(e){return s=>"mouse"===s.pointerType?e(s):void 0}tu.displayName=eu;var ru=Menu,nu=yd,su=MenuPortal,au=kd,iu=Ad,ou=Md,lu=Od,cu=$d,du=zd,uu=Ud,pu=Zd,mu=Kd,hu=Gd,fu=Jd,gu=tu,xu="DropdownMenu",[vu]=createContextScope(xu,[pd]),yu=pd(),[bu,ju]=vu(xu),DropdownMenu$1=e=>{const{__scopeDropdownMenu:s,children:a,dir:l,open:c,defaultOpen:p,onOpenChange:m,modal:h=!0}=e,f=yu(s),g=re.useRef(null),[b,j]=useControllableState({prop:c,defaultProp:p??!1,onChange:m,caller:xu});return u.jsx(bu,{scope:s,triggerId:useId(),triggerRef:g,contentId:useId(),open:b,onOpenChange:j,onOpenToggle:re.useCallback(()=>j(e=>!e),[j]),modal:h,children:u.jsx(ru,{...f,open:b,onOpenChange:j,dir:l,modal:h,children:a})})};DropdownMenu$1.displayName=xu;var wu="DropdownMenuTrigger",Nu=re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,disabled:l=!1,...c}=e,p=ju(wu,a),m=yu(a);return u.jsx(nu,{asChild:!0,...m,children:u.jsx(tn.button,{type:"button",id:p.triggerId,"aria-haspopup":"menu","aria-expanded":p.open,"aria-controls":p.open?p.contentId:void 0,"data-state":p.open?"open":"closed","data-disabled":l?"":void 0,disabled:l,...c,ref:composeRefs$1(s,p.triggerRef),onPointerDown:composeEventHandlers(e.onPointerDown,e=>{l||0!==e.button||!1!==e.ctrlKey||(p.onOpenToggle(),p.open||e.preventDefault())}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{l||(["Enter"," "].includes(e.key)&&p.onOpenToggle(),"ArrowDown"===e.key&&p.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});Nu.displayName=wu;var DropdownMenuPortal=e=>{const{__scopeDropdownMenu:s,...a}=e,l=yu(s);return u.jsx(su,{...l,...a})};DropdownMenuPortal.displayName="DropdownMenuPortal";var Su="DropdownMenuContent",Cu=re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=ju(Su,a),p=yu(a),m=re.useRef(!1);return u.jsx(au,{id:c.contentId,"aria-labelledby":c.triggerId,...p,...l,ref:s,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,e=>{m.current||c.triggerRef.current?.focus(),m.current=!1,e.preventDefault()}),onInteractOutside:composeEventHandlers(e.onInteractOutside,e=>{const s=e.detail.originalEvent,a=0===s.button&&!0===s.ctrlKey,l=2===s.button||a;c.modal&&!l||(m.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cu.displayName=Su;re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(iu,{...c,...l,ref:s})}).displayName="DropdownMenuGroup";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(ou,{...c,...l,ref:s})}).displayName="DropdownMenuLabel";var ku=re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(lu,{...c,...l,ref:s})});ku.displayName="DropdownMenuItem";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(cu,{...c,...l,ref:s})}).displayName="DropdownMenuCheckboxItem";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(du,{...c,...l,ref:s})}).displayName="DropdownMenuRadioGroup";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(uu,{...c,...l,ref:s})}).displayName="DropdownMenuRadioItem";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(pu,{...c,...l,ref:s})}).displayName="DropdownMenuItemIndicator";var _u=re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(mu,{...c,...l,ref:s})});_u.displayName="DropdownMenuSeparator";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(hu,{...c,...l,ref:s})}).displayName="DropdownMenuArrow";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(fu,{...c,...l,ref:s})}).displayName="DropdownMenuSubTrigger";re.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,c=yu(a);return u.jsx(gu,{...c,...l,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";var Pu=DropdownMenu$1,Tu=Nu,Eu=DropdownMenuPortal,Au=Cu,Mu=ku,Lu=_u;function DropdownMenu({...e}){return u.jsx(Pu,{"data-slot":"dropdown-menu",...e})}function DropdownMenuTrigger({...e}){return u.jsx(Tu,{"data-slot":"dropdown-menu-trigger",...e})}function DropdownMenuContent({className:e,sideOffset:s=4,...a}){return u.jsx(Eu,{children:u.jsx(Au,{"data-slot":"dropdown-menu-content",sideOffset:s,className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function DropdownMenuItem({className:e,inset:s,variant:a="default",...l}){return u.jsx(Mu,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:cn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l})}function DropdownMenuSeparator({className:e,...s}){return u.jsx(Lu,{"data-slot":"dropdown-menu-separator",className:cn("bg-border -mx-1 my-1 h-px",e),...s})}function usePrevious$1(e){const s=re.useRef({value:e,previous:e});return re.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Du="NavigationMenu",[Ou,Iu,$u]=createCollection(Du),[Ru,Fu,Bu]=createCollection(Du),[zu]=createContextScope(Du,[$u,Bu]),[Vu,Uu]=zu(Du),[Hu,qu]=zu(Du),Wu=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,value:l,onValueChange:c,defaultValue:p,delayDuration:m=200,skipDelayDuration:h=300,orientation:f="horizontal",dir:g,...b}=e,[j,N]=re.useState(null),k=useComposedRefs$1(s,e=>N(e)),_=useDirection(g),T=re.useRef(0),E=re.useRef(0),A=re.useRef(0),[L,O]=re.useState(!0),[I,$]=useControllableState({prop:l,onChange:e=>{const s=h>0;""!==e?(window.clearTimeout(A.current),s&&O(!1)):(window.clearTimeout(A.current),A.current=window.setTimeout(()=>O(!0),h)),c?.(e)},defaultProp:p??"",caller:Du}),z=re.useCallback(()=>{window.clearTimeout(E.current),E.current=window.setTimeout(()=>$(""),150)},[$]),U=re.useCallback(e=>{window.clearTimeout(E.current),$(e)},[$]),H=re.useCallback(e=>{I===e?window.clearTimeout(E.current):T.current=window.setTimeout(()=>{window.clearTimeout(E.current),$(e)},m)},[I,$,m]);return re.useEffect(()=>()=>{window.clearTimeout(T.current),window.clearTimeout(E.current),window.clearTimeout(A.current)},[]),u.jsx(NavigationMenuProvider,{scope:a,isRootMenu:!0,value:I,dir:_,orientation:f,rootNavigationMenu:j,onTriggerEnter:e=>{window.clearTimeout(T.current),L?H(e):U(e)},onTriggerLeave:()=>{window.clearTimeout(T.current),z()},onContentEnter:()=>window.clearTimeout(E.current),onContentLeave:z,onItemSelect:e=>{$(s=>s===e?"":e)},onItemDismiss:()=>$(""),children:u.jsx(tn.nav,{"aria-label":"Main","data-orientation":f,dir:_,...b,ref:k})})});Wu.displayName=Du;var Zu="NavigationMenuSub";re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,value:l,onValueChange:c,defaultValue:p,orientation:m="horizontal",...h}=e,f=Uu(Zu,a),[g,b]=useControllableState({prop:l,onChange:c,defaultProp:p??"",caller:Zu});return u.jsx(NavigationMenuProvider,{scope:a,isRootMenu:!1,value:g,dir:f.dir,orientation:m,rootNavigationMenu:f.rootNavigationMenu,onTriggerEnter:e=>b(e),onItemSelect:e=>b(e),onItemDismiss:()=>b(""),children:u.jsx(tn.div,{"data-orientation":m,...h,ref:s})})}).displayName=Zu;var NavigationMenuProvider=e=>{const{scope:s,isRootMenu:a,rootNavigationMenu:l,dir:c,orientation:p,children:m,value:h,onItemSelect:f,onItemDismiss:g,onTriggerEnter:b,onTriggerLeave:j,onContentEnter:N,onContentLeave:k}=e,[_,T]=re.useState(null),[E,A]=re.useState(new Map),[L,O]=re.useState(null);return u.jsx(Vu,{scope:s,isRootMenu:a,rootNavigationMenu:l,value:h,previousValue:usePrevious$1(h),baseId:useId(),dir:c,orientation:p,viewport:_,onViewportChange:T,indicatorTrack:L,onIndicatorTrackChange:O,onTriggerEnter:useCallbackRef$1(b),onTriggerLeave:useCallbackRef$1(j),onContentEnter:useCallbackRef$1(N),onContentLeave:useCallbackRef$1(k),onItemSelect:useCallbackRef$1(f),onItemDismiss:useCallbackRef$1(g),onViewportContentChange:re.useCallback((e,s)=>{A(a=>(a.set(e,s),new Map(a)))},[]),onViewportContentRemove:re.useCallback(e=>{A(s=>s.has(e)?(s.delete(e),new Map(s)):s)},[]),children:u.jsx(Ou.Provider,{scope:s,children:u.jsx(Hu,{scope:s,items:E,children:m})})})},Ku="NavigationMenuList",Gu=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,...l}=e,c=Uu(Ku,a),p=u.jsx(tn.ul,{"data-orientation":c.orientation,...l,ref:s});return u.jsx(tn.div,{style:{position:"relative"},ref:c.onIndicatorTrackChange,children:u.jsx(Ou.Slot,{scope:a,children:c.isRootMenu?u.jsx(fp,{asChild:!0,children:p}):p})})});Gu.displayName=Ku;var Yu="NavigationMenuItem",[Qu,Xu]=zu(Yu),Ju=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,value:l,...c}=e,p=useId(),m=l||p||"LEGACY_REACT_AUTO_VALUE",h=re.useRef(null),f=re.useRef(null),g=re.useRef(null),b=re.useRef(()=>{}),j=re.useRef(!1),N=re.useCallback((e="start")=>{if(h.current){b.current();const s=getTabbableCandidates(h.current);s.length&&focusFirst("start"===e?s:s.reverse())}},[]),k=re.useCallback(()=>{if(h.current){const e=getTabbableCandidates(h.current);e.length&&(b.current=function removeFromTabOrder(e){return e.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{e.forEach(e=>{const s=e.dataset.tabindex;e.setAttribute("tabindex",s)})}}(e))}},[]);return u.jsx(Qu,{scope:a,value:m,triggerRef:f,contentRef:h,focusProxyRef:g,wasEscapeCloseRef:j,onEntryKeyDown:N,onFocusProxyEnter:N,onRootContentClose:k,onContentFocusOutside:k,children:u.jsx(tn.li,{...c,ref:s})})});Ju.displayName=Yu;var ep="NavigationMenuTrigger",tp=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,disabled:l,...c}=e,p=Uu(ep,e.__scopeNavigationMenu),m=Xu(ep,e.__scopeNavigationMenu),h=re.useRef(null),f=useComposedRefs$1(h,m.triggerRef,s),g=makeTriggerId$1(p.baseId,m.value),b=makeContentId$1(p.baseId,m.value),j=re.useRef(!1),N=re.useRef(!1),k=m.value===p.value;return u.jsxs(u.Fragment,{children:[u.jsx(Ou.ItemSlot,{scope:a,value:m.value,children:u.jsx(xp,{asChild:!0,children:u.jsx(tn.button,{id:g,disabled:l,"data-disabled":l?"":void 0,"data-state":getOpenState(k),"aria-expanded":k,"aria-controls":b,...c,ref:f,onPointerEnter:composeEventHandlers(e.onPointerEnter,()=>{N.current=!1,m.wasEscapeCloseRef.current=!1}),onPointerMove:composeEventHandlers(e.onPointerMove,whenMouse(()=>{l||N.current||m.wasEscapeCloseRef.current||j.current||(p.onTriggerEnter(m.value),j.current=!0)})),onPointerLeave:composeEventHandlers(e.onPointerLeave,whenMouse(()=>{l||(p.onTriggerLeave(),j.current=!1)})),onClick:composeEventHandlers(e.onClick,()=>{p.onItemSelect(m.value),N.current=k}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{const s={horizontal:"ArrowDown",vertical:"rtl"===p.dir?"ArrowLeft":"ArrowRight"}[p.orientation];k&&e.key===s&&(m.onEntryKeyDown(),e.preventDefault())})})})}),k&&u.jsxs(u.Fragment,{children:[u.jsx(ds,{"aria-hidden":!0,tabIndex:0,ref:m.focusProxyRef,onFocus:e=>{const s=m.contentRef.current,a=e.relatedTarget,l=a===h.current,c=s?.contains(a);!l&&c||m.onFocusProxyEnter(l?"start":"end")}}),p.viewport&&u.jsx("span",{"aria-owns":b})]})]})});tp.displayName=ep;var rp="navigationMenu.linkSelect",np=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,active:l,onSelect:c,...p}=e;return u.jsx(xp,{asChild:!0,children:u.jsx(tn.a,{"data-active":l?"":void 0,"aria-current":l?"page":void 0,...p,ref:s,onClick:composeEventHandlers(e.onClick,e=>{const s=e.target,a=new CustomEvent(rp,{bubbles:!0,cancelable:!0});if(s.addEventListener(rp,e=>c?.(e),{once:!0}),dispatchDiscreteCustomEvent(s,a),!a.defaultPrevented&&!e.metaKey){dispatchDiscreteCustomEvent(s,new CustomEvent(cp,{bubbles:!0,cancelable:!0}))}},{checkForDefaultPrevented:!1})})})});np.displayName="NavigationMenuLink";var sp="NavigationMenuIndicator";re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=Uu(sp,e.__scopeNavigationMenu),p=Boolean(c.value);return c.indicatorTrack?Br.createPortal(u.jsx(Presence,{present:a||p,children:u.jsx(ap,{...l,ref:s})}),c.indicatorTrack):null}).displayName=sp;var ap=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,...l}=e,c=Uu(sp,a),p=Iu(a),[m,h]=re.useState(null),[f,g]=re.useState(null),b="horizontal"===c.orientation,j=Boolean(c.value);re.useEffect(()=>{const e=p(),s=e.find(e=>e.value===c.value)?.ref.current;s&&h(s)},[p,c.value]);const handlePositionChange=()=>{m&&g({size:b?m.offsetWidth:m.offsetHeight,offset:b?m.offsetLeft:m.offsetTop})};return useResizeObserver$2(m,handlePositionChange),useResizeObserver$2(c.indicatorTrack,handlePositionChange),f?u.jsx(tn.div,{"aria-hidden":!0,"data-state":j?"visible":"hidden","data-orientation":c.orientation,...l,ref:s,style:{position:"absolute",...b?{left:0,width:f.size+"px",transform:`translateX(${f.offset}px)`}:{top:0,height:f.size+"px",transform:`translateY(${f.offset}px)`},...l.style}}):null}),ip="NavigationMenuContent",op=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=Uu(ip,e.__scopeNavigationMenu),p=Xu(ip,e.__scopeNavigationMenu),m=useComposedRefs$1(p.contentRef,s),h=p.value===c.value,f={value:p.value,triggerRef:p.triggerRef,focusProxyRef:p.focusProxyRef,wasEscapeCloseRef:p.wasEscapeCloseRef,onContentFocusOutside:p.onContentFocusOutside,onRootContentClose:p.onRootContentClose,...l};return c.viewport?u.jsx(lp,{forceMount:a,...f,ref:m}):u.jsx(Presence,{present:a||h,children:u.jsx(dp,{"data-state":getOpenState(h),...f,ref:m,onPointerEnter:composeEventHandlers(e.onPointerEnter,c.onContentEnter),onPointerLeave:composeEventHandlers(e.onPointerLeave,whenMouse(c.onContentLeave)),style:{pointerEvents:!h&&c.isRootMenu?"none":void 0,...f.style}})})});op.displayName=ip;var lp=re.forwardRef((e,s)=>{const a=Uu(ip,e.__scopeNavigationMenu),{onViewportContentChange:l,onViewportContentRemove:c}=a;return pn(()=>{l(e.value,{ref:s,...e})},[e,s,l]),pn(()=>()=>c(e.value),[e.value,c]),null}),cp="navigationMenu.rootContentDismiss",dp=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,value:l,triggerRef:c,focusProxyRef:p,wasEscapeCloseRef:m,onRootContentClose:h,onContentFocusOutside:f,...g}=e,b=Uu(ip,a),j=re.useRef(null),N=useComposedRefs$1(j,s),k=makeTriggerId$1(b.baseId,l),_=makeContentId$1(b.baseId,l),T=Iu(a),E=re.useRef(null),{onItemDismiss:A}=b;re.useEffect(()=>{const e=j.current;if(b.isRootMenu&&e){const handleClose=()=>{A(),h(),e.contains(document.activeElement)&&c.current?.focus()};return e.addEventListener(cp,handleClose),()=>e.removeEventListener(cp,handleClose)}},[b.isRootMenu,e.value,c,A,h]);const L=re.useMemo(()=>{const e=T().map(e=>e.value);"rtl"===b.dir&&e.reverse();const s=e.indexOf(b.value),a=e.indexOf(b.previousValue),c=l===b.value,u=a===e.indexOf(l);if(!c&&!u)return E.current;const p=(()=>{if(s!==a){if(c&&-1!==a)return s>a?"from-end":"from-start";if(u&&-1!==s)return s>a?"to-start":"to-end"}return null})();return E.current=p,p},[b.previousValue,b.value,b.dir,T,l]);return u.jsx(fp,{asChild:!0,children:u.jsx(un,{id:_,"aria-labelledby":k,"data-motion":L,"data-orientation":b.orientation,...g,ref:N,disableOutsidePointerEvents:!1,onDismiss:()=>{const e=new Event(cp,{bubbles:!0,cancelable:!0});j.current?.dispatchEvent(e)},onFocusOutside:composeEventHandlers(e.onFocusOutside,e=>{f();const s=e.target;b.rootNavigationMenu?.contains(s)&&e.preventDefault()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,e=>{const s=e.target,a=T().some(e=>e.ref.current?.contains(s)),l=b.isRootMenu&&b.viewport?.contains(s);(a||l||!b.isRootMenu)&&e.preventDefault()}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{const s=e.altKey||e.ctrlKey||e.metaKey;if("Tab"===e.key&&!s){const s=getTabbableCandidates(e.currentTarget),a=document.activeElement,l=s.findIndex(e=>e===a);focusFirst(e.shiftKey?s.slice(0,l).reverse():s.slice(l+1,s.length))?e.preventDefault():p.current?.focus()}}),onEscapeKeyDown:composeEventHandlers(e.onEscapeKeyDown,e=>{m.current=!0})})})}),pp="NavigationMenuViewport",mp=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=Uu(pp,e.__scopeNavigationMenu),p=Boolean(c.value);return u.jsx(Presence,{present:a||p,children:u.jsx(hp,{...l,ref:s})})});mp.displayName=pp;var hp=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,children:l,...c}=e,p=Uu(pp,a),m=useComposedRefs$1(s,p.onViewportChange),h=qu(ip,e.__scopeNavigationMenu),[f,g]=re.useState(null),[b,j]=re.useState(null),N=f?f?.width+"px":void 0,k=f?f?.height+"px":void 0,_=Boolean(p.value),T=_?p.value:p.previousValue;return useResizeObserver$2(b,()=>{b&&g({width:b.offsetWidth,height:b.offsetHeight})}),u.jsx(tn.div,{"data-state":getOpenState(_),"data-orientation":p.orientation,...c,ref:m,style:{pointerEvents:!_&&p.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":N,"--radix-navigation-menu-viewport-height":k,...c.style},onPointerEnter:composeEventHandlers(e.onPointerEnter,p.onContentEnter),onPointerLeave:composeEventHandlers(e.onPointerLeave,whenMouse(p.onContentLeave)),children:Array.from(h.items).map(([e,{ref:s,forceMount:a,...l}])=>{const c=T===e;return u.jsx(Presence,{present:a||c,children:u.jsx(dp,{...l,ref:composeRefs$1(s,e=>{c&&e&&j(e)})})},e)})})}),fp=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,...l}=e,c=Uu("FocusGroup",a);return u.jsx(Ru.Provider,{scope:a,children:u.jsx(Ru.Slot,{scope:a,children:u.jsx(tn.div,{dir:c.dir,...l,ref:s})})})}),gp=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],xp=re.forwardRef((e,s)=>{const{__scopeNavigationMenu:a,...l}=e,c=Fu(a),p=Uu("FocusGroupItem",a);return u.jsx(Ru.ItemSlot,{scope:a,children:u.jsx(tn.button,{...l,ref:s,onKeyDown:composeEventHandlers(e.onKeyDown,e=>{if(["Home","End",...gp].includes(e.key)){let s=c().map(e=>e.ref.current);if(["rtl"===p.dir?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(e.key)&&s.reverse(),gp.includes(e.key)){const a=s.indexOf(e.currentTarget);s=s.slice(a+1)}setTimeout(()=>focusFirst(s)),e.preventDefault()}})})})});function getTabbableCandidates(e){const s=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const s="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||s?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function focusFirst(e){const s=document.activeElement;return e.some(e=>e===s||(e.focus(),document.activeElement!==s))}function useResizeObserver$2(e,s){const a=useCallbackRef$1(s);pn(()=>{let s=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(a)});return l.observe(e),()=>{window.cancelAnimationFrame(s),l.unobserve(e)}}},[e,a])}function getOpenState(e){return e?"open":"closed"}function makeTriggerId$1(e,s){return`${e}-trigger-${s}`}function makeContentId$1(e,s){return`${e}-content-${s}`}function whenMouse(e){return s=>"mouse"===s.pointerType?e(s):void 0}var vp=Wu,yp=Gu,bp=Ju,jp=tp,wp=np,Np=op,Sp=mp;function NavigationMenu({className:e,children:s,viewport:a=!0,...l}){return u.jsxs(vp,{"data-slot":"navigation-menu","data-viewport":a,className:cn("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",e),...l,children:[s,a&&u.jsx(NavigationMenuViewport,{})]})}function NavigationMenuList({className:e,...s}){return u.jsx(yp,{"data-slot":"navigation-menu-list",className:cn("group flex flex-1 list-none items-center justify-center gap-1",e),...s})}function NavigationMenuItem({className:e,...s}){return u.jsx(bp,{"data-slot":"navigation-menu-item",className:cn("relative",e),...s})}const Cp=cva("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-blue-50 hover:text-blue-700 focus:bg-blue-50 focus:text-blue-700 disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-blue-50 data-[state=open]:text-blue-700 data-[state=open]:focus:bg-blue-50 data-[state=open]:bg-blue-50 focus-visible:ring-blue-500/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1");function NavigationMenuTrigger({className:e,children:s,...a}){return u.jsxs(jp,{"data-slot":"navigation-menu-trigger",className:cn(Cp(),"group",e),...a,children:[s," ",u.jsx($a,{className:"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}function NavigationMenuContent({className:e,...s}){return u.jsx(Np,{"data-slot":"navigation-menu-content",className:cn("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto","group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",e),...s})}function NavigationMenuViewport({className:e,...s}){return u.jsx("div",{className:cn("absolute top-full left-0 isolate z-50 flex justify-center"),children:u.jsx(Sp,{"data-slot":"navigation-menu-viewport",className:cn("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",e),...s})})}function NavigationMenuLink({className:e,...s}){return u.jsx(wp,{"data-slot":"navigation-menu-link",className:cn("data-[active=true]:focus:bg-blue-50 data-[active=true]:hover:bg-blue-50 data-[active=true]:bg-blue-50 data-[active=true]:text-blue-700 hover:bg-blue-50 hover:text-blue-700 focus:bg-blue-50 focus:text-blue-700 focus-visible:ring-blue-500/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",e),...s})}const kp={johannesburg:"gauteng","cape-town":"western-cape",durban:"kwazulu-natal",pretoria:"gauteng",sandton:"gauteng",randburg:"gauteng",centurion:"gauteng",midrand:"gauteng",roodepoort:"gauteng","kempton-park":"gauteng",benoni:"gauteng",boksburg:"gauteng",alberton:"gauteng",edenvale:"gauteng",germiston:"gauteng",springs:"gauteng",brakpan:"gauteng",krugersdorp:"gauteng",stellenbosch:"western-cape","somerset-west":"western-cape",paarl:"western-cape",george:"western-cape",knysna:"western-cape","mossel-bay":"western-cape",hermanus:"western-cape",bellville:"western-cape",durbanville:"western-cape",ballito:"kwazulu-natal",umhlanga:"kwazulu-natal",pietermaritzburg:"kwazulu-natal","richards-bay":"kwazulu-natal",bloemfontein:"free-state","port-elizabeth":"eastern-cape",gqeberha:"eastern-cape","east-london":"eastern-cape",polokwane:"limpopo",nelspruit:"mpumalanga",mbombela:"mpumalanga",rustenburg:"north-west",kimberley:"northern-cape",mahikeng:"north-west",witbank:"mpumalanga",emalahleni:"mpumalanga",potchefstroom:"north-west"},_p=["gauteng","western-cape","kwazulu-natal","eastern-cape","free-state","limpopo","mpumalanga","north-west","northern-cape"],Pp={gauteng:"gauteng","western cape":"western-cape","western-cape":"western-cape","kwazulu-natal":"kwazulu-natal","kwazulu natal":"kwazulu-natal",kzn:"kwazulu-natal","eastern cape":"eastern-cape","eastern-cape":"eastern-cape","free state":"free-state","free-state":"free-state",limpopo:"limpopo",mpumalanga:"mpumalanga","north west":"north-west","north-west":"north-west","northern cape":"northern-cape","northern-cape":"northern-cape"};function isProvinceSearch(e){if(!e)return null;const s=e.toLowerCase().trim();if(Pp[s])return Pp[s];const a=s.replace(/\s+/g,"-");return _p.includes(a)?a:null}function normalizeLocationKey(e){return e?e.toLowerCase().trim().replace(/\s+/g,"-"):""}function getProvinceForCity(e){const s=normalizeLocationKey(e);return kp[s]??null}function generateIntentUrl(e){const{transactionType:s,geography:a,filters:l}=e;let c="to-rent"===s?"/property-to-rent":"/property-for-sale";"developments"===s&&(c="/new-developments");const u=new URLSearchParams;if(Object.entries(l).forEach(([e,s])=>{"listingType"!==e&&s&&(Array.isArray(s)?s.forEach(s=>u.append(e,String(s))):u.set(e,String(s)))}),a.suburb){u.set("suburb",a.suburb),a.city&&u.set("city",a.city),a.province&&u.set("province",a.province);const e=u.toString();return`${c}${e?`?${e}`:""}`}if(a.city){u.set("city",a.city),a.province&&u.set("province",a.province);const e=u.toString();return`${c}${e?`?${e}`:""}`}if(a.province&&"province"===a.level){const e=u.toString();return`${c}/${a.province}${e?`?${e}`:""}`}const p=u.toString();return`${c}${p?`?${p}`:""}`}const Tp={apartment:"apartments",house:"houses",townhouse:"townhouses",villa:"villas",plot:"plots",land:"land",commercial:"commercial",farm:"farms",cluster_home:"cluster-homes",shared_living:"shared-living",office:"offices",retail:"retail",industrial:"industrial",warehouse:"warehouses"};function slugify(e){return e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):""}function unslugify(e){return e?e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function generatePropertyUrl(e){const s=function filtersToIntent(e){return{transactionType:"rent"===e.listingType?"to-rent":"for-sale",geography:{level:e.suburb?"locality":e.city?"city":e.province?"province":"country",province:e.province,city:e.city,suburb:e.suburb,locationId:e.locationId},filters:e,defaults:{propertyCategory:"residential",sort:"relevance"}}}(e);return generateIntentUrl(s)}function generateBreadcrumbs(e){const s=[{label:"Home",href:"/"}],a="rent"===e.listingType?"For Rent":"For Sale",l=generatePropertyUrl({listingType:e.listingType});if(s.push({label:a,href:l}),e.province){const a=generatePropertyUrl({listingType:e.listingType,province:e.province});if(s.push({label:e.province,href:a}),e.city){const a=generatePropertyUrl({listingType:e.listingType,province:e.province,city:e.city});if(s.push({label:e.city,href:a}),e.suburb){const a=generatePropertyUrl({listingType:e.listingType,province:e.province,city:e.city,suburb:e.suburb,locationId:e.locationId});s.push({label:e.suburb,href:a})}}}return s}var Ep="Dialog",[Ap,Mp]=createContextScope(Ep),[Lp,Dp]=Ap(Ep),Dialog$1=e=>{const{__scopeDialog:s,children:a,open:l,defaultOpen:c,onOpenChange:p,modal:m=!0}=e,h=re.useRef(null),f=re.useRef(null),[g,b]=useControllableState({prop:l,defaultProp:c??!1,onChange:p,caller:Ep});return u.jsx(Lp,{scope:s,triggerRef:h,contentRef:f,contentId:useId(),titleId:useId(),descriptionId:useId(),open:g,onOpenChange:b,onOpenToggle:re.useCallback(()=>b(e=>!e),[b]),modal:m,children:a})};Dialog$1.displayName=Ep;var Op="DialogTrigger",Ip=re.forwardRef((e,s)=>{const{__scopeDialog:a,...l}=e,c=Dp(Op,a),p=useComposedRefs$1(s,c.triggerRef);return u.jsx(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":getState$6(c.open),...l,ref:p,onClick:composeEventHandlers(e.onClick,c.onOpenToggle)})});Ip.displayName=Op;var $p="DialogPortal",[Rp,Fp]=Ap($p,{forceMount:void 0}),DialogPortal$1=e=>{const{__scopeDialog:s,forceMount:a,children:l,container:c}=e,p=Dp($p,s);return u.jsx(Rp,{scope:s,forceMount:a,children:re.Children.map(l,e=>u.jsx(Presence,{present:a||p.open,children:u.jsx(as,{asChild:!0,container:c,children:e})}))})};DialogPortal$1.displayName=$p;var Bp="DialogOverlay",zp=re.forwardRef((e,s)=>{const a=Fp(Bp,e.__scopeDialog),{forceMount:l=a.forceMount,...c}=e,p=Dp(Bp,e.__scopeDialog);return p.modal?u.jsx(Presence,{present:l||p.open,children:u.jsx(Up,{...c,ref:s})}):null});zp.displayName=Bp;var Vp=createSlot("DialogOverlay.RemoveScroll"),Up=re.forwardRef((e,s)=>{const{__scopeDialog:a,...l}=e,c=Dp(Bp,a);return u.jsx(td,{as:Vp,allowPinchZoom:!0,shards:[c.contentRef],children:u.jsx(tn.div,{"data-state":getState$6(c.open),...l,ref:s,style:{pointerEvents:"auto",...l.style}})})}),Hp="DialogContent",qp=re.forwardRef((e,s)=>{const a=Fp(Hp,e.__scopeDialog),{forceMount:l=a.forceMount,...c}=e,p=Dp(Hp,e.__scopeDialog);return u.jsx(Presence,{present:l||p.open,children:p.modal?u.jsx(Wp,{...c,ref:s}):u.jsx(Zp,{...c,ref:s})})});qp.displayName=Hp;var Wp=re.forwardRef((e,s)=>{const a=Dp(Hp,e.__scopeDialog),l=re.useRef(null),c=useComposedRefs$1(s,a.contentRef,l);return re.useEffect(()=>{const e=l.current;if(e)return hideOthers(e)},[]),u.jsx(Kp,{...e,ref:c,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,e=>{const s=e.detail.originalEvent,a=0===s.button&&!0===s.ctrlKey;(2===s.button||a)&&e.preventDefault()}),onFocusOutside:composeEventHandlers(e.onFocusOutside,e=>e.preventDefault())})}),Zp=re.forwardRef((e,s)=>{const a=Dp(Hp,e.__scopeDialog),l=re.useRef(!1),c=re.useRef(!1);return u.jsx(Kp,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||a.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,c.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,"pointerdown"===s.detail.originalEvent.type&&(c.current=!0));const u=s.target,p=a.triggerRef.current?.contains(u);p&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&c.current&&s.preventDefault()}})}),Kp=re.forwardRef((e,s)=>{const{__scopeDialog:a,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:p,...m}=e,h=Dp(Hp,a),f=re.useRef(null),g=useComposedRefs$1(s,f);return useFocusGuards(),u.jsxs(u.Fragment,{children:[u.jsx(xc,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:c,onUnmountAutoFocus:p,children:u.jsx(un,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":getState$6(h.open),...m,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(TitleWarning,{titleId:h.titleId}),u.jsx(DescriptionWarning$1,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Gp="DialogTitle",Yp=re.forwardRef((e,s)=>{const{__scopeDialog:a,...l}=e,c=Dp(Gp,a);return u.jsx(tn.h2,{id:c.titleId,...l,ref:s})});Yp.displayName=Gp;var Qp="DialogDescription",Xp=re.forwardRef((e,s)=>{const{__scopeDialog:a,...l}=e,c=Dp(Qp,a);return u.jsx(tn.p,{id:c.descriptionId,...l,ref:s})});Xp.displayName=Qp;var Jp="DialogClose",em=re.forwardRef((e,s)=>{const{__scopeDialog:a,...l}=e,c=Dp(Jp,a);return u.jsx(tn.button,{type:"button",...l,ref:s,onClick:composeEventHandlers(e.onClick,()=>c.onOpenChange(!1))})});function getState$6(e){return e?"open":"closed"}em.displayName=Jp;var tm="DialogTitleWarning",[rm,nm]=function createContext2(e,s){const a=re.createContext(s),Provider2=e=>{const{children:s,...l}=e,c=re.useMemo(()=>l,Object.values(l));return u.jsx(a.Provider,{value:c,children:s})};return Provider2.displayName=e+"Provider",[Provider2,function useContext2(l){const c=re.useContext(a);if(c)return c;if(void 0!==s)return s;throw new Error(`\`${l}\` must be used within \`${e}\``)}]}(tm,{contentName:Hp,titleName:Gp,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{const s=nm(tm),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return re.useEffect(()=>{if(e){document.getElementById(e)||console.error(a)}},[a,e]),null},DescriptionWarning$1=({contentRef:e,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nm("DialogDescriptionWarning").contentName}}.`;return re.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");if(s&&l){document.getElementById(s)||console.warn(a)}},[a,e,s]),null},sm=Dialog$1,am=Ip,im=DialogPortal$1,om=zp,lm=qp,cm=Yp,dm=Xp,um=em;const pm=re.createContext({isComposing:()=>!1,setComposing:()=>{},justEndedComposing:()=>!1,markCompositionEnd:()=>{}}),useDialogComposition=()=>re.useContext(pm);function Dialog({...e}){const s=re.useRef(!1),a=re.useRef(!1),l=re.useRef(null),c=re.useMemo(()=>({isComposing:()=>s.current,setComposing:e=>{s.current=e},justEndedComposing:()=>a.current,markCompositionEnd:()=>{a.current=!0,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{a.current=!1},150)}}),[]);return u.jsx(pm.Provider,{value:c,children:u.jsx(sm,{"data-slot":"dialog",...e})})}function DialogTrigger({...e}){return u.jsx(am,{"data-slot":"dialog-trigger",...e})}function DialogPortal({...e}){return u.jsx(im,{"data-slot":"dialog-portal",...e})}function DialogOverlay({className:e,...s}){return u.jsx(om,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function DialogContent({className:e,children:s,showCloseButton:a=!0,onEscapeKeyDown:l,...c}){const{isComposing:p}=useDialogComposition(),m=re.useCallback(e=>{e.isComposing||p()?e.preventDefault():l?.(e)},[p,l]);return u.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[u.jsx(DialogOverlay,{}),u.jsxs(lm,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),onEscapeKeyDown:m,...c,children:[s,a&&u.jsxs(um,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(Il,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:e,...s}){return u.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...s})}function DialogFooter({className:e,...s}){return u.jsx("div",{"data-slot":"dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function DialogTitle({className:e,...s}){return u.jsx(cm,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",e),...s})}function DialogDescription({className:e,...s}){return u.jsx(dm,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",e),...s})}function usePersistFn(e){const s=re.useRef(e);s.current=e;const a=re.useRef(null);return a.current||(a.current=function(...e){return s.current.apply(this,e)}),a.current}function useComposition(e={}){const{onKeyDown:s,onCompositionStart:a,onCompositionEnd:l}=e,c=re.useRef(!1),u=re.useRef(null),p=re.useRef(null);return{onCompositionStart:usePersistFn(e=>{u.current&&(clearTimeout(u.current),u.current=null),p.current&&(clearTimeout(p.current),p.current=null),c.current=!0,a?.(e)}),onCompositionEnd:usePersistFn(e=>{u.current=setTimeout(()=>{p.current=setTimeout(()=>{c.current=!1})}),l?.(e)}),onKeyDown:usePersistFn(e=>{!c.current||"Escape"!==e.key&&("Enter"!==e.key||e.shiftKey)?s?.(e):e.stopPropagation()}),isComposing:usePersistFn(()=>c.current)}}function Input({className:e,type:s,onKeyDown:a,onCompositionStart:l,onCompositionEnd:c,...p}){const m=useDialogComposition(),{onCompositionStart:h,onCompositionEnd:f,onKeyDown:g}=useComposition({onKeyDown:e=>{const s=e.nativeEvent.isComposing||m.justEndedComposing();"Enter"===e.key&&s||a?.(e)},onCompositionStart:e=>{m.setComposing(!0),l?.(e)},onCompositionEnd:e=>{m.markCompositionEnd(),setTimeout(()=>{m.setComposing(!1)},100),c?.(e)}});return u.jsx("input",{type:s,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),onCompositionStart:h,onCompositionEnd:f,onKeyDown:g,...p})}DialogOverlay.displayName="DialogOverlay";let mm=!1,hm=!1,fm=null;const gm=[];function LocationAutosuggest({selectedLocations:e=[],onSelect:s,onRemove:a,onChange:l,onSubmit:c,placeholder:p="Search by city, suburb, or area...",className:m="",inputClassName:h="",showIcon:f=!0,maxLocations:g=5}){const[b,j]=re.useState(""),[N,k]=re.useState([]),[_,T]=re.useState(!1),[E,A]=re.useState(-1),[L,O]=re.useState(!1),I=re.useRef(null),$=re.useRef(null),z=re.useRef(null),{isLoaded:U}=function useGoogleMaps(){const[e,s]=re.useState(hm),[a,l]=re.useState(mm),[c,u]=re.useState(fm);return re.useEffect(()=>{if(hm)return s(!0),void l(!1);if(fm)return u(fm),void l(!1);if(window.google&&window.google.maps)return hm=!0,s(!0),void l(!1);if(mm){l(!0);const callback=(e,a)=>{s(e),l(!1),a&&u(a)};return gm.push(callback),()=>{const e=gm.indexOf(callback);e>-1&&gm.splice(e,1)}}if(mm=!0,l(!0),document.querySelector('script[src*="maps.googleapis.com"]')){const e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),hm=!0,mm=!1,s(!0),l(!1),gm.forEach(e=>e(!0)),gm.length=0)},100);return void setTimeout(()=>{if(clearInterval(e),!hm){const e="Google Maps API failed to load (timeout).";fm=e,mm=!1,u(e),l(!1),gm.forEach(s=>s(!1,e)),gm.length=0}},1e4)}const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4&libraries=places,geometry&loading=async&callback=__googleMapsCallback",e.async=!0,e.defer=!0,window.__googleMapsCallback=()=>{hm=!0,mm=!1,s(!0),l(!1),gm.forEach(e=>e(!0)),gm.length=0},e.onerror=()=>{const e="Failed to load Google Maps. Please check your API key and internet connection.";fm=e,mm=!1,u(e),l(!1),gm.forEach(s=>s(!1,e)),gm.length=0},document.head.appendChild(e)},[]),{isLoaded:e,isLoading:a,error:c}}();re.useEffect(()=>{U&&window.google&&window.google.maps&&window.google.maps.places?z.current=new google.maps.places.AutocompleteService:!U||!window.google||window.google.maps&&window.google.maps.places||console.warn("Google Maps Places library is missing. Autocomplete will be disabled.")},[U]),re.useEffect(()=>{function handleClickOutside(e){I.current&&!I.current.contains(e.target)&&T(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]),re.useEffect(()=>{if(!b||b.length<1||!z.current)return void k([]);O(!0);const e={input:b,componentRestrictions:{country:"za"},types:["geocode"]};z.current.getPlacePredictions(e,(e,s)=>{O(!1),s===google.maps.places.PlacesServiceStatus.OK&&e?k(e):k([])})},[b]);const handlePredictionSelect=a=>{if(e.length>=g)return;const c=a.structured_formatting.main_text;if(j(""),l&&l(""),T(!1),$.current?.focus(),s){const e=slugify(c);let l,u,p=getLocationType(a.types);const m=isProvinceSearch(c);if(m)p="province",l=m;else if(kp[e])p="city",u=e,l=kp[e];else{const e=a.description.split(",").map(e=>slugify(e)),s=e.find(e=>_p.includes(e));if(s&&(l=s),!u){const s=e.find(e=>kp[e]);s&&(u=s,l||(l=kp[s]))}l||(a.description.toLowerCase().includes("cape town")?l="western-cape":a.description.toLowerCase().includes("durban")&&(l="kwazulu-natal"))}s({id:a.place_id,name:c,slug:e,type:p,provinceSlug:l,citySlug:u})}},getLocationType=e=>e.includes("administrative_area_level_1")?"province":e.includes("locality")||e.includes("administrative_area_level_2")?"city":e.includes("sublocality")||e.includes("neighborhood")?"suburb":"city";if(!U)return u.jsx("div",{className:`relative ${m}`,children:u.jsx(Input,{type:"text",placeholder:"Loading maps...",disabled:!0,className:"bg-gray-50"})});const H=e.length>=g,q=0===e.length;return u.jsxs("div",{ref:I,className:`relative group cursor-text ${m}`,children:[u.jsxs("div",{onClick:()=>{$.current?.focus()},className:`flex flex-wrap items-center gap-2 min-h-[44px] w-full rounded-lg border border-blue-200 bg-blue-50/50 px-3 py-1 ${h}`,children:[e.map((e,s)=>u.jsxs("div",{className:"flex items-center gap-1.5 bg-blue-500 text-white text-sm px-3 py-1.5 rounded-md whitespace-nowrap shadow-sm animate-in fade-in zoom-in duration-200",onClick:e=>e.stopPropagation(),children:[u.jsx("span",{className:"font-medium truncate max-w-[150px]",children:e.name}),u.jsx("button",{type:"button",onClick:()=>a?.(s),className:"hover:bg-blue-600 rounded-full p-0.5 transition-colors focus:outline-none focus:ring-1 focus:ring-blue-300","aria-label":`Remove ${e.name}`,children:u.jsx(Il,{className:"h-3.5 w-3.5"})})]},`${e.id}-${s}`)),u.jsx("input",{ref:$,type:"text",autoComplete:"off",placeholder:q?p:H?"Limit reached":"...add more",value:b,onChange:e=>{const s=e.target.value;j(s),T(!0),A(-1),l&&l(s)},onFocus:()=>b.length>=1&&T(!0),onKeyDown:s=>{if(!("Backspace"===s.key&&""===b&&e.length>0&&a))return"Enter"===s.key?(s.preventDefault(),void(_&&N.length>0&&E>=0?handlePredictionSelect(N[E]):(T(!1),c&&c()))):void("Escape"!==s.key?_&&0!==N.length&&("ArrowDown"===s.key?(s.preventDefault(),A(e=>e<N.length-1?e+1:e)):"ArrowUp"===s.key&&(s.preventDefault(),A(e=>e>0?e-1:-1))):T(!1));a(e.length-1)},className:"flex-1 bg-transparent border-0 outline-none placeholder:text-muted-foreground min-w-[120px] h-8 text-sm"}),u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:L?u.jsx(no,{className:"h-4 w-4 animate-spin text-muted-foreground"}):f?u.jsx(lo,{className:"h-4 w-4 text-muted-foreground"}):null})]}),_&&N.length>0&&!H&&u.jsx("div",{className:"absolute z-[9999] top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-80 overflow-y-auto animate-in fade-in slide-in-from-top-1 duration-200",children:N.map((e,s)=>{const a=getLocationType(e.types);return u.jsxs("div",{onClick:()=>handlePredictionSelect(e),onMouseEnter:()=>A(s),className:"flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors "+(s===E?"bg-blue-50":"hover:bg-gray-50"),children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("city"===a?"bg-blue-100":"bg-gray-100"),children:u.jsx(lo,{className:"h-4 w-4 "+("city"===a?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:e.structured_formatting.main_text}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.structured_formatting.secondary_text})]}),u.jsx("div",{className:"text-xs text-gray-400 capitalize",children:a})]},e.place_id)})}),_&&!L&&(0===N.length&&b.length>=2?u.jsx("div",{className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4",children:u.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No locations found"})}):null)]})}const xm=["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Pietermaritzburg","Kimberley","Polokwane","Nelspruit","Rustenburg","George","Midrand","Centurion","Sandton","Soweto","Benoni","Boksburg","Germiston","Roodepoort","Randburg","Krugersdorp","Vereeniging","Vanderbijlpark","Springs","Alberton","Uitenhage","Paarl","Stellenbosch","Somerset West","Mitchells Plain","Khayelitsha","Umlazi","Phoenix","Chatsworth","Newcastle","Richards Bay","Welkom","Klerksdorp","Potchefstroom","Virginia","Orkney","Bethlehem","Sasolburg","Kroonstad"],vm={Johannesburg:["Sandton","Rosebank","Fourways","Randburg","Midrand"],"Cape Town":["Sea Point","Camps Bay","Constantia","Claremont","Bellville"],Durban:["Umhlanga","Ballito","Westville","Morningside","Glenwood"],Pretoria:["Centurion","Hatfield","Menlyn","Brooklyn","Waterkloof"]};function LocationSelectionModal({open:e,onClose:s,onLocationSelected:a,propertyType:l,listingType:c}){const[p,m]=re.useState(""),[h,f]=re.useState(""),[g,b]=re.useState(""),[j,N]=re.useState(!1),k=p?xm.filter(e=>e.toLowerCase().includes(p.toLowerCase())).slice(0,8):xm.slice(0,8),_=h&&vm[h]?vm[h].filter(e=>e.toLowerCase().includes(g.toLowerCase())):[];return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[600px]",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{className:"text-2xl font-bold",children:["Where are you looking to ","sale"===c?"buy":"rent","?"]}),u.jsxs(DialogDescription,{children:["Enter a city and optionally a suburb to find ",l.toLowerCase()," in your preferred area."]})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-blue-600"}),"City or Town"]}),u.jsx(Input,{placeholder:"Type a city name (e.g., Johannesburg, Cape Town)...",value:p,onChange:e=>{return s=e.target.value,m(s),f(s),void N(s.length>0);var s},onFocus:()=>N(!0),className:"mb-2"}),j&&k.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto border rounded-md p-2 bg-slate-50",children:k.map(e=>u.jsx(Button$1,{variant:"outline",size:"sm",className:"justify-start hover:bg-blue-50 hover:border-blue-300",onClick:()=>(e=>{f(e),m(e),N(!1),b("")})(e),children:e},e))})]}),h&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[u.jsx(Vo,{className:"h-4 w-4 text-blue-600"}),"Suburb or Area (Optional)"]}),u.jsx(Input,{placeholder:"Search for a suburb...",value:g,onChange:e=>b(e.target.value),className:"mb-3"}),_.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:_.map(e=>u.jsx(Button$1,{variant:"outline",size:"sm",className:"justify-start hover:bg-blue-50 hover:border-blue-300",onClick:()=>b(e),children:e},e))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Button$1,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{h.trim()&&(localStorage.setItem("lastSearchLocation",JSON.stringify({city:h,suburb:g||void 0,timestamp:Date.now()})),a(h,g||void 0),s())},disabled:!h,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Continue to Results"})]})]})]})})}function CityDropdownContent(){const[e,s]=re.useState(""),[a,l]=re.useState("Johannesburg"),c=[{name:"Johannesburg",slug:"johannesburg",provinceSlug:"gauteng"},{name:"Cape Town",slug:"cape-town",provinceSlug:"western-cape"},{name:"Kimberley",slug:"kimberley",provinceSlug:"northern-cape"},{name:"Durban",slug:"durban",provinceSlug:"kwazulu-natal"},{name:"Gqeberha",slug:"gqeberha",provinceSlug:"eastern-cape"},{name:"Bloemfontein",slug:"bloemfontein",provinceSlug:"free-state"},{name:"Polokwane",slug:"polokwane",provinceSlug:"limpopo"},{name:"Mbombela",slug:"mbombela",provinceSlug:"mpumalanga"},{name:"Mahikeng",slug:"mahikeng",provinceSlug:"north-west"}],p={Johannesburg:["Sandton","Rosebank","Midrand","Fourways","Sunninghill","Lonehill","Parkmore","Linden"],Capetown:["Sea Point","Camps Bay","Constantia","Gardens","Waterfront","Claremont","Newlands","Rondebosch"],Kimberley:["Beaconsfield","Hadison Park","Kimberley CBD","Monument Heights","Albertynshof","Royldene","New Park","De Beers"],Durban:["Umhlanga","Ballito","Morningside","Berea","Westville","Glenwood","Musgrave","Durban North"],Gqeberha:["Summerstrand","Walmer","Newton Park","Humewood","Mill Park","Lorraine","Framesby","Sunridge Park"],Bloemfontein:["Westdene","Universitas","Willows","Bayswater","Arboretum","Fichardtpark","Dan Pienaar","Naval Hill"],Polokwane:["Bendor","Nirvana","Welgelegen","Ivy Park","Westenburg","Flora Park","Sterpark","Fauna Park"],Mbombela:["Sonheuwel","Nelspruit CBD","West Acres","Riverside Park","Steiltes","Loerie Park","Kiaat","Pienaar"],Mahikeng:["Mahikeng CBD","Unit 1","Unit 2","Danville","Montshioa","Riviera Park","Mmabatho","Imperial Reserve"]}[a]||[],m=c.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())),h=p.filter(s=>s.toLowerCase().includes(e.toLowerCase()));return u.jsxs("div",{className:"w-[580px] p-6",children:[u.jsx("div",{className:"mb-6",children:u.jsx(LocationAutosuggest,{placeholder:"Search location",onSelect:e=>{At.location.saveGooglePlaceLocation.mutate({placeId:e.placeId,name:e.name,fullAddress:e.fullAddress,types:e.types}).catch(e=>console.error("Failed to save location:",e)),window.location.href=`/search?location=${encodeURIComponent(e.name)}`},className:"w-full"})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-bold text-lg text-slate-900 mb-4",children:"Top cities"}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map(e=>u.jsx(rc,{href:`/property-for-sale/${e.provinceSlug}/${e.slug}`,onMouseEnter:()=>l(e.name),children:u.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 hover:bg-blue-50 rounded-lg transition-all group cursor-pointer",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 group-hover:bg-blue-100 flex items-center justify-center transition-colors border border-blue-100",children:u.jsx(lo,{className:"h-5 w-5 text-blue-600"})}),u.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700",children:e.name})]})},e.slug))})]}),h.length>0&&u.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[u.jsx("h4",{className:"font-bold text-sm text-slate-900 mb-3",children:"Popular Suburbs"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.map((e,s)=>{const l=a.toLowerCase().replace(/\s+/g,"-"),p=c.find(e=>e.name===a)?.provinceSlug||"gauteng";return u.jsx(rc,{href:`/property-for-sale/${p}/${l}/${e.toLowerCase().replace(/\s+/g,"-")}`,children:u.jsx("span",{className:"text-sm text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:e})},s)})})]})]})}function EnhancedNavbar(){const{user:e,logout:s}=useAuth(),[a,l]=useLocation(),c="/advertise"===a,[p,m]=re.useState(!1),[h,f]=re.useState(null),handlePropertyClick=(e,s,a)=>{e.preventDefault();const c=(()=>{try{const e=localStorage.getItem("lastSearchLocation");if(e){const{city:s,suburb:a,timestamp:l}=JSON.parse(e);if(Date.now()-l<864e5)return{city:s,suburb:a}}}catch(e){console.error("Error reading last search location:",e)}return null})();if(c){const e=generatePropertyUrl({listingType:a,propertyType:s,city:c.city,suburb:c.suburb});l(e)}else f({propertyType:s,listingType:a}),m(!0)};return u.jsxs("nav",{className:"bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-gray-200/50",children:[u.jsx("div",{className:"w-full",style:{padding:"0 80px"},children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx(rc,{href:"/",children:u.jsx("div",{className:"flex items-center gap-2 cursor-pointer group",children:u.jsx("span",{className:"text-xl md:text-2xl font-bold tracking-tight text-blue-600 group-hover:text-blue-700 transition-colors",children:"Property Listify"})})}),u.jsx(NavigationMenu,{className:"hidden lg:flex",children:u.jsxs(NavigationMenuList,{className:"gap-1",children:[u.jsxs(NavigationMenuItem,{children:[u.jsx(NavigationMenuTrigger,{className:"bg-transparent text-gray-700 hover:bg-blue-50 hover:text-blue-700 data-[state=open]:bg-blue-100 data-[state=open]:text-blue-700 font-semibold transition-all",children:"City"}),u.jsx(NavigationMenuContent,{children:u.jsx(CityDropdownContent,{})})]}),u.jsxs(NavigationMenuItem,{children:[u.jsx(NavigationMenuTrigger,{className:"bg-transparent text-gray-700 hover:bg-blue-50 hover:text-blue-700 data-[state=open]:bg-blue-100 data-[state=open]:text-blue-700 font-semibold transition-all",children:"For Buyers"}),u.jsx(NavigationMenuContent,{children:u.jsxs("div",{className:"w-[800px] p-0 overflow-hidden flex",children:[u.jsxs("div",{className:"flex-1 p-6 grid grid-cols-3 gap-8 bg-white",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Bi,{className:"h-4 w-4 text-blue-600"})," Residential"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"house","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Houses for Sale"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"apartment","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Apartments / Flats"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"townhouse","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Townhouses"})}),u.jsx("li",{children:u.jsx(rc,{href:"/new-developments",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"New Developments"})})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Ca,{className:"h-4 w-4 text-blue-600"})," Commercial"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"office","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Office Spaces"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"retail","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Retail Shops"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"industrial","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Industrial / Warehouse"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(co,{className:"h-4 w-4 text-blue-600"})," Land"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"land","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Residential Land"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"commercial-land","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Commercial Land"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"farm","sale"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Farms"})})]})]})]}),u.jsx("div",{className:"w-64 bg-slate-50 p-6 border-l border-slate-100 flex flex-col justify-center",children:u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mb-3",children:u.jsx(fl,{className:"h-5 w-5 text-blue-600"})}),u.jsx("h5",{className:"font-bold text-slate-800 mb-1",children:"Market Insights"}),u.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Read our latest analysis on property trends in South Africa."}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"w-full text-xs h-8 border-blue-200 text-blue-600 hover:bg-blue-50",children:"Read More"})]})})]})})]}),u.jsxs(NavigationMenuItem,{children:[u.jsx(NavigationMenuTrigger,{className:"bg-transparent text-gray-700 hover:bg-blue-50 hover:text-blue-700 data-[state=open]:bg-blue-100 data-[state=open]:text-blue-700 font-semibold transition-all",children:"For Renters"}),u.jsx(NavigationMenuContent,{children:u.jsxs("div",{className:"w-[800px] p-0 overflow-hidden flex",children:[u.jsxs("div",{className:"flex-1 p-6 grid grid-cols-3 gap-8 bg-white",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Bi,{className:"h-4 w-4 text-blue-600"})," Residential"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"apartment","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Apartments for Rent"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"house","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Houses for Rent"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"student","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Student Accommodation"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"room","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Rooms / Flatshares"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Ca,{className:"h-4 w-4 text-blue-600"})," Commercial"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"office","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Offices to Let"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"retail","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Retail Space"})}),u.jsx("li",{children:u.jsx("span",{onClick:e=>handlePropertyClick(e,"industrial","rent"),className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Industrial Space"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-blue-600"})," Popular Cities"]}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx(rc,{href:"/property-to-rent/gauteng/johannesburg",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Rent in Johannesburg"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/property-to-rent/western-cape/cape-town",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Rent in Cape Town"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/property-to-rent/kwazulu-natal/durban",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1",children:"Rent in Durban"})})})]})]})]}),u.jsx("div",{className:"w-64 bg-slate-50 p-6 border-l border-slate-100 flex flex-col justify-center",children:u.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mb-3",children:u.jsx(Ta,{className:"h-5 w-5 text-blue-600"})}),u.jsx("h5",{className:"font-bold text-slate-800 mb-1",children:"Affordability Calc"}),u.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Calculate how much rent you can afford based on your income."}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"w-full text-xs h-8 border-blue-200 text-blue-600 hover:bg-blue-50",children:"Calculate Now"})]})})]})})]}),u.jsxs(NavigationMenuItem,{children:[u.jsx(NavigationMenuTrigger,{className:"bg-transparent text-gray-700 hover:bg-blue-50 hover:text-blue-700 data-[state=open]:bg-blue-100 data-[state=open]:text-blue-700 font-semibold transition-all",children:"For Sellers"}),u.jsx(NavigationMenuContent,{children:u.jsxs("div",{className:"w-[850px] p-0 overflow-hidden flex",children:[u.jsxs("div",{className:"flex-1 p-8 grid grid-cols-3 gap-12 bg-white",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("h4",{className:"font-bold text-slate-800 text-base flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:u.jsx(Sl,{className:"h-4 w-4 text-blue-600"})}),"Find Professionals"]}),u.jsxs("ul",{className:"space-y-3 text-sm pl-1",children:[u.jsx("li",{children:u.jsx(rc,{href:"/agents",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Find Estate Agents"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/agencies",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Find Agencies"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/developments",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Property Developers"})})})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("h4",{className:"font-bold text-slate-800 text-base flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:u.jsx(Hi,{className:"h-4 w-4 text-blue-600"})}),"Sell Your Property"]}),u.jsxs("ul",{className:"space-y-3 text-sm pl-1",children:[u.jsx("li",{children:u.jsx(rc,{href:"/advertise",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Post For Sale by Owner"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/advertise",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"List Privately"})})}),u.jsx("li",{children:u.jsx(rc,{href:"/dashboard",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"My Dashboard"})})})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("h4",{className:"font-bold text-slate-800 text-base flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:u.jsx(Qi,{className:"h-4 w-4 text-blue-600"})}),"Selling Tools"]}),u.jsxs("ul",{className:"space-y-3 text-sm pl-1",children:[u.jsx("li",{children:u.jsx(rc,{href:"#",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Property Valuation"})})}),u.jsx("li",{children:u.jsx(rc,{href:"#",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Sold House Prices"})})}),u.jsx("li",{children:u.jsx(rc,{href:"#",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Seller Guide"})})}),u.jsx("li",{children:u.jsx(rc,{href:"#",children:u.jsx("span",{className:"text-slate-600 hover:text-blue-600 cursor-pointer block py-1.5",children:"Market Trends"})})})]})]})]}),u.jsx("div",{className:"w-64 bg-slate-50 p-6 border-l border-slate-100 flex flex-col justify-center",children:u.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-slate-100",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mb-4",children:u.jsx(ka,{className:"h-6 w-6 text-blue-600"})}),u.jsx("h5",{className:"font-bold text-slate-800 mb-2",children:"For Developers"}),u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"List your development and reach thousands of buyers."}),u.jsx(rc,{href:"/developer",children:u.jsx(Button$1,{variant:"outline",size:"sm",className:"w-full text-sm h-9 border-blue-200 text-blue-600 hover:bg-blue-50",children:"Developer Portal"})})]})})]})})]}),u.jsxs(NavigationMenuItem,{children:[u.jsx(NavigationMenuTrigger,{className:"bg-transparent text-gray-700 hover:bg-blue-50 hover:text-blue-700 data-[state=open]:bg-blue-100 data-[state=open]:text-blue-700 font-semibold transition-all",children:"Insights"}),u.jsx(NavigationMenuContent,{children:u.jsx("div",{className:"w-[250px] p-2",children:[{label:"Market Trends",href:"#"},{label:"Property Insights",href:"#"},{label:"Buying Guide",href:"#"},{label:"Selling Guide",href:"#"},{label:"Blog",href:"#"}].map(e=>u.jsx(NavigationMenuLink,{asChild:!0,children:u.jsx("a",{href:e.href,className:"block p-3 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors",children:e.label})},e.label))})})]}),u.jsx(NavigationMenuItem,{children:u.jsx(rc,{href:"/explore/home",children:u.jsxs(Button$1,{variant:"outline",size:"sm",className:"relative border-blue-600 text-blue-600 hover:bg-blue-50 hover:border-blue-700 transition-all duration-200 font-semibold",children:["Explore",u.jsx(Badge,{className:"ml-2 bg-blue-600 text-white text-[10px] px-1.5 py-0 h-4 border-0",children:"NEW"})]})})})]})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(rc,{href:"/advertise",children:u.jsxs(Button$1,{size:"sm",className:`\n                  ${c?"bg-gradient-to-r from-blue-800 to-blue-900 ring-2 ring-blue-400 ring-offset-2":"bg-gradient-to-r from-blue-700 to-blue-800 hover:from-blue-800 hover:to-blue-900"}\n                  text-white shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 font-bold border border-blue-600\n                `,"aria-current":c?"page":void 0,children:[u.jsx(ho,{className:"h-4 w-4 mr-2"}),"Advertise with us"]})}),!!e&&u.jsx(rc,{href:"/favorites",children:u.jsx(Button$1,{variant:"ghost",size:"icon",className:"text-foreground hover:bg-blue-50 hover:text-blue-600",children:u.jsx($i,{className:"h-5 w-5"})})}),e?u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 transition-all font-medium",children:[u.jsx(Sl,{className:"h-4 w-4 mr-2"}),e?.name||"Account"]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-48",children:[u.jsx(DropdownMenuItem,{disabled:!0,children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:e?.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:e?.email})]})}),u.jsx(DropdownMenuSeparator,{}),u.jsx(DropdownMenuItem,{asChild:!0,children:u.jsx(rc,{href:"/favorites",children:u.jsxs("a",{className:"flex items-center gap-2 w-full",children:[u.jsx($i,{className:"h-4 w-4"}),"My Favorites"]})})}),u.jsx(DropdownMenuSeparator,{}),u.jsx(DropdownMenuItem,{onClick:()=>s(),className:"text-destructive",children:"Logout"})]})]}):u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>window.location.href=getLoginUrl(),className:"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all font-medium",children:"Login"})]})]})}),h&&u.jsx(LocationSelectionModal,{open:p,onClose:()=>{m(!1),f(null)},onLocationSelected:(e,s)=>{if(h){const a=generatePropertyUrl({listingType:h.listingType,propertyType:h.propertyType,city:e,suburb:s});l(a),f(null)}},propertyType:h.propertyType,listingType:h.listingType})]})}var ym=re.forwardRef((e,s)=>u.jsx(tn.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));ym.displayName="Label";var bm=ym;function Label$1({className:e,...s}){return u.jsx(bm,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}var jm="Checkbox",[wm]=createContextScope(jm),[Nm,Sm]=wm(jm);function CheckboxProvider(e){const{__scopeCheckbox:s,checked:a,children:l,defaultChecked:c,disabled:p,form:m,name:h,onCheckedChange:f,required:g,value:b="on",internal_do_not_use_render:j}=e,[N,k]=useControllableState({prop:a,defaultProp:c??!1,onChange:f,caller:jm}),[_,T]=re.useState(null),[E,A]=re.useState(null),L=re.useRef(!1),O=!_||(!!m||!!_.closest("form")),I={checked:N,disabled:p,setChecked:k,control:_,setControl:T,name:h,form:m,value:b,hasConsumerStoppedPropagationRef:L,required:g,defaultChecked:!isIndeterminate(c)&&c,isFormControl:O,bubbleInput:E,setBubbleInput:A};return u.jsx(Nm,{scope:s,...I,children:isFunction$2(j)?j(I):l})}var Cm="CheckboxTrigger",km=re.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:a,...l},c)=>{const{control:p,value:m,disabled:h,checked:f,required:g,setControl:b,setChecked:j,hasConsumerStoppedPropagationRef:N,isFormControl:k,bubbleInput:_}=Sm(Cm,e),T=useComposedRefs$1(c,b),E=re.useRef(f);return re.useEffect(()=>{const e=p?.form;if(e){const reset=()=>j(E.current);return e.addEventListener("reset",reset),()=>e.removeEventListener("reset",reset)}},[p,j]),u.jsx(tn.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(f)?"mixed":f,"aria-required":g,"data-state":getState$5(f),"data-disabled":h?"":void 0,disabled:h,value:m,...l,ref:T,onKeyDown:composeEventHandlers(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:composeEventHandlers(a,e=>{j(e=>!!isIndeterminate(e)||!e),_&&k&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})});km.displayName=Cm;var _m=re.forwardRef((e,s)=>{const{__scopeCheckbox:a,name:l,checked:c,defaultChecked:p,required:m,disabled:h,value:f,onCheckedChange:g,form:b,...j}=e;return u.jsx(CheckboxProvider,{__scopeCheckbox:a,checked:c,defaultChecked:p,disabled:h,required:m,onCheckedChange:g,name:l,form:b,value:f,internal_do_not_use_render:({isFormControl:e})=>u.jsxs(u.Fragment,{children:[u.jsx(km,{...j,ref:s,__scopeCheckbox:a}),e&&u.jsx(Am,{__scopeCheckbox:a})]})})});_m.displayName=jm;var Pm="CheckboxIndicator",Tm=re.forwardRef((e,s)=>{const{__scopeCheckbox:a,forceMount:l,...c}=e,p=Sm(Pm,a);return u.jsx(Presence,{present:l||isIndeterminate(p.checked)||!0===p.checked,children:u.jsx(tn.span,{"data-state":getState$5(p.checked),"data-disabled":p.disabled?"":void 0,...c,ref:s,style:{pointerEvents:"none",...e.style}})})});Tm.displayName=Pm;var Em="CheckboxBubbleInput",Am=re.forwardRef(({__scopeCheckbox:e,...s},a)=>{const{control:l,hasConsumerStoppedPropagationRef:c,checked:p,defaultChecked:m,required:h,disabled:f,name:g,value:b,form:j,bubbleInput:N,setBubbleInput:k}=Sm(Em,e),_=useComposedRefs$1(a,k),T=usePrevious$1(p),E=useSize(l);re.useEffect(()=>{const e=N;if(!e)return;const s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set,l=!c.current;if(T!==p&&a){const s=new Event("click",{bubbles:l});e.indeterminate=isIndeterminate(p),a.call(e,!isIndeterminate(p)&&p),e.dispatchEvent(s)}},[N,T,p,c]);const A=re.useRef(!isIndeterminate(p)&&p);return u.jsx(tn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:h,disabled:f,name:g,value:b,form:j,...s,tabIndex:-1,ref:_,style:{...s.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function isFunction$2(e){return"function"==typeof e}function isIndeterminate(e){return"indeterminate"===e}function getState$5(e){return isIndeterminate(e)?"indeterminate":e?"checked":"unchecked"}function Checkbox({className:e,...s}){return u.jsx(_m,{"data-slot":"checkbox",className:cn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:u.jsx(Tm,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:u.jsx(Ia,{className:"size-3.5"})})})}function clamp$1(e,[s,a]){return Math.min(a,Math.max(s,e))}Am.displayName=Em;var Mm=[" ","Enter","ArrowUp","ArrowDown"],Lm=[" ","Enter"],Dm="Select",[Om,Im,$m]=createCollection(Dm),[Rm]=createContextScope(Dm,[$m,Un]),Fm=Un(),[Bm,zm]=Rm(Dm),[Vm,Um]=Rm(Dm),Select$2=e=>{const{__scopeSelect:s,children:a,open:l,defaultOpen:c,onOpenChange:p,value:m,defaultValue:h,onValueChange:f,dir:g,name:b,autoComplete:j,disabled:N,required:k,form:_}=e,T=Fm(s),[E,A]=re.useState(null),[L,O]=re.useState(null),[I,$]=re.useState(!1),z=useDirection(g),[U,H]=useControllableState({prop:l,defaultProp:c??!1,onChange:p,caller:Dm}),[q,Z]=useControllableState({prop:m,defaultProp:h,onChange:f,caller:Dm}),Y=re.useRef(null),X=!E||(_||!!E.closest("form")),[J,ae]=re.useState(new Set),le=Array.from(J).map(e=>e.props.value).join(";");return u.jsx(ts,{...T,children:u.jsxs(Bm,{required:k,scope:s,trigger:E,onTriggerChange:A,valueNode:L,onValueNodeChange:O,valueNodeHasChildren:I,onValueNodeHasChildrenChange:$,contentId:useId(),value:q,onValueChange:Z,open:U,onOpenChange:H,dir:z,triggerPointerDownPosRef:Y,disabled:N,children:[u.jsx(Om.Provider,{scope:s,children:u.jsx(Vm,{scope:e.__scopeSelect,onNativeOptionAdd:re.useCallback(e=>{ae(s=>new Set(s).add(e))},[]),onNativeOptionRemove:re.useCallback(e=>{ae(s=>{const a=new Set(s);return a.delete(e),a})},[]),children:a})}),X?u.jsxs(kh,{"aria-hidden":!0,required:k,tabIndex:-1,name:b,autoComplete:j,value:q,onChange:e=>Z(e.target.value),disabled:N,form:_,children:[void 0===q?u.jsx("option",{value:""}):null,Array.from(J)]},le):null]})})};Select$2.displayName=Dm;var Hm="SelectTrigger",qm=re.forwardRef((e,s)=>{const{__scopeSelect:a,disabled:l=!1,...c}=e,p=Fm(a),m=zm(Hm,a),h=m.disabled||l,f=useComposedRefs$1(s,m.onTriggerChange),g=Im(a),b=re.useRef("touch"),[j,N,k]=useTypeaheadSearch(e=>{const s=g().filter(e=>!e.disabled),a=s.find(e=>e.value===m.value),l=findNextItem(s,e,a);void 0!==l&&m.onValueChange(l.value)}),handleOpen=e=>{h||(m.onOpenChange(!0),k()),e&&(m.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return u.jsx(rs,{asChild:!0,...p,children:u.jsx(tn.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":shouldShowPlaceholder(m.value)?"":void 0,...c,ref:f,onClick:composeEventHandlers(c.onClick,e=>{e.currentTarget.focus(),"mouse"!==b.current&&handleOpen(e)}),onPointerDown:composeEventHandlers(c.onPointerDown,e=>{b.current=e.pointerType;const s=e.target;s.hasPointerCapture(e.pointerId)&&s.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(handleOpen(e),e.preventDefault())}),onKeyDown:composeEventHandlers(c.onKeyDown,e=>{const s=""!==j.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||N(e.key),s&&" "===e.key||Mm.includes(e.key)&&(handleOpen(),e.preventDefault())})})})});qm.displayName=Hm;var Wm="SelectValue",Zm=re.forwardRef((e,s)=>{const{__scopeSelect:a,className:l,style:c,children:p,placeholder:m="",...h}=e,f=zm(Wm,a),{onValueNodeHasChildrenChange:g}=f,b=void 0!==p,j=useComposedRefs$1(s,f.onValueNodeChange);return pn(()=>{g(b)},[g,b]),u.jsx(tn.span,{...h,ref:j,style:{pointerEvents:"none"},children:shouldShowPlaceholder(f.value)?u.jsx(u.Fragment,{children:m}):p})});Zm.displayName=Wm;var Km=re.forwardRef((e,s)=>{const{__scopeSelect:a,children:l,...c}=e;return u.jsx(tn.span,{"aria-hidden":!0,...c,ref:s,children:l||""})});Km.displayName="SelectIcon";var SelectPortal=e=>u.jsx(as,{asChild:!0,...e});SelectPortal.displayName="SelectPortal";var Gm="SelectContent",Ym=re.forwardRef((e,s)=>{const a=zm(Gm,e.__scopeSelect),[l,c]=re.useState();if(pn(()=>{c(new DocumentFragment)},[]),!a.open){const s=l;return s?Fr.createPortal(u.jsx(Xm,{scope:e.__scopeSelect,children:u.jsx(Om.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),s):null}return u.jsx(th,{...e,ref:s})});Ym.displayName=Gm;var Qm=10,[Xm,Jm]=Rm(Gm),eh=createSlot("SelectContent.RemoveScroll"),th=re.forwardRef((e,s)=>{const{__scopeSelect:a,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:p,onPointerDownOutside:m,side:h,sideOffset:f,align:g,alignOffset:b,arrowPadding:j,collisionBoundary:N,collisionPadding:k,sticky:_,hideWhenDetached:T,avoidCollisions:E,...A}=e,L=zm(Gm,a),[O,I]=re.useState(null),[$,z]=re.useState(null),U=useComposedRefs$1(s,e=>I(e)),[H,q]=re.useState(null),[Z,Y]=re.useState(null),X=Im(a),[J,ae]=re.useState(!1),le=re.useRef(!1);re.useEffect(()=>{if(O)return hideOthers(O)},[O]),useFocusGuards();const ce=re.useCallback(e=>{const[s,...a]=X().map(e=>e.ref.current),[l]=a.slice(-1),c=document.activeElement;for(const u of e){if(u===c)return;if(u?.scrollIntoView({block:"nearest"}),u===s&&$&&($.scrollTop=0),u===l&&$&&($.scrollTop=$.scrollHeight),u?.focus(),document.activeElement!==c)return}},[X,$]),de=re.useCallback(()=>ce([H,O]),[ce,H,O]);re.useEffect(()=>{J&&de()},[J,de]);const{onOpenChange:ue,triggerPointerDownPosRef:me}=L;re.useEffect(()=>{if(O){let e={x:0,y:0};const handlePointerMove=s=>{e={x:Math.abs(Math.round(s.pageX)-(me.current?.x??0)),y:Math.abs(Math.round(s.pageY)-(me.current?.y??0))}},handlePointerUp=s=>{e.x<=10&&e.y<=10?s.preventDefault():O.contains(s.target)||ue(!1),document.removeEventListener("pointermove",handlePointerMove),me.current=null};return null!==me.current&&(document.addEventListener("pointermove",handlePointerMove),document.addEventListener("pointerup",handlePointerUp,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",handlePointerMove),document.removeEventListener("pointerup",handlePointerUp,{capture:!0})}}},[O,ue,me]),re.useEffect(()=>{const close=()=>ue(!1);return window.addEventListener("blur",close),window.addEventListener("resize",close),()=>{window.removeEventListener("blur",close),window.removeEventListener("resize",close)}},[ue]);const[he,fe]=useTypeaheadSearch(e=>{const s=X().filter(e=>!e.disabled),a=s.find(e=>e.ref.current===document.activeElement),l=findNextItem(s,e,a);l&&setTimeout(()=>l.ref.current.focus())}),ge=re.useCallback((e,s,a)=>{const l=!le.current&&!a;(void 0!==L.value&&L.value===s||l)&&(q(e),l&&(le.current=!0))},[L.value]),xe=re.useCallback(()=>O?.focus(),[O]),ye=re.useCallback((e,s,a)=>{const l=!le.current&&!a;(void 0!==L.value&&L.value===s||l)&&Y(e)},[L.value]),be="popper"===l?nh:rh,je=be===nh?{side:h,sideOffset:f,align:g,alignOffset:b,arrowPadding:j,collisionBoundary:N,collisionPadding:k,sticky:_,hideWhenDetached:T,avoidCollisions:E}:{};return u.jsx(Xm,{scope:a,content:O,viewport:$,onViewportChange:z,itemRefCallback:ge,selectedItem:H,onItemLeave:xe,itemTextRefCallback:ye,focusSelectedItem:de,selectedItemText:Z,position:l,isPositioned:J,searchRef:he,children:u.jsx(td,{as:eh,allowPinchZoom:!0,children:u.jsx(xc,{asChild:!0,trapped:L.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:composeEventHandlers(c,e=>{L.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:u.jsx(un,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:u.jsx(be,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:e=>e.preventDefault(),...A,...je,onPlaced:()=>ae(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:composeEventHandlers(A.onKeyDown,e=>{const s=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),s||1!==e.key.length||fe(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let s=X().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(s=s.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const a=e.target,l=s.indexOf(a);s=s.slice(l+1)}setTimeout(()=>ce(s)),e.preventDefault()}})})})})})})});th.displayName="SelectContentImpl";var rh=re.forwardRef((e,s)=>{const{__scopeSelect:a,onPlaced:l,...c}=e,p=zm(Gm,a),m=Jm(Gm,a),[h,f]=re.useState(null),[g,b]=re.useState(null),j=useComposedRefs$1(s,e=>b(e)),N=Im(a),k=re.useRef(!1),_=re.useRef(!0),{viewport:T,selectedItem:E,selectedItemText:A,focusSelectedItem:L}=m,O=re.useCallback(()=>{if(p.trigger&&p.valueNode&&h&&g&&T&&E&&A){const e=p.trigger.getBoundingClientRect(),s=g.getBoundingClientRect(),a=p.valueNode.getBoundingClientRect(),c=A.getBoundingClientRect();if("rtl"!==p.dir){const l=c.left-s.left,u=a.left-l,p=e.left-u,m=e.width+p,f=Math.max(m,s.width),g=window.innerWidth-Qm,b=clamp$1(u,[Qm,Math.max(Qm,g-f)]);h.style.minWidth=m+"px",h.style.left=b+"px"}else{const l=s.right-c.right,u=window.innerWidth-a.right-l,p=window.innerWidth-e.right-u,m=e.width+p,f=Math.max(m,s.width),g=window.innerWidth-Qm,b=clamp$1(u,[Qm,Math.max(Qm,g-f)]);h.style.minWidth=m+"px",h.style.right=b+"px"}const u=N(),m=window.innerHeight-2*Qm,f=T.scrollHeight,b=window.getComputedStyle(g),j=parseInt(b.borderTopWidth,10),_=parseInt(b.paddingTop,10),L=parseInt(b.borderBottomWidth,10),O=j+_+f+parseInt(b.paddingBottom,10)+L,I=Math.min(5*E.offsetHeight,O),$=window.getComputedStyle(T),z=parseInt($.paddingTop,10),U=parseInt($.paddingBottom,10),H=e.top+e.height/2-Qm,q=m-H,Z=E.offsetHeight/2,Y=j+_+(E.offsetTop+Z),X=O-Y;if(Y<=H){const e=u.length>0&&E===u[u.length-1].ref.current;h.style.bottom="0px";const s=g.clientHeight-T.offsetTop-T.offsetHeight,a=Y+Math.max(q,Z+(e?U:0)+s+L);h.style.height=a+"px"}else{const e=u.length>0&&E===u[0].ref.current;h.style.top="0px";const s=Math.max(H,j+T.offsetTop+(e?z:0)+Z)+X;h.style.height=s+"px",T.scrollTop=Y-H+T.offsetTop}h.style.margin=`${Qm}px 0`,h.style.minHeight=I+"px",h.style.maxHeight=m+"px",l?.(),requestAnimationFrame(()=>k.current=!0)}},[N,p.trigger,p.valueNode,h,g,T,E,A,p.dir,l]);pn(()=>O(),[O]);const[I,$]=re.useState();pn(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const z=re.useCallback(e=>{e&&!0===_.current&&(O(),L?.(),_.current=!1)},[O,L]);return u.jsx(sh,{scope:a,contentWrapper:h,shouldExpandOnScrollRef:k,onScrollButtonChange:z,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(tn.div,{...c,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});rh.displayName="SelectItemAlignedPosition";var nh=re.forwardRef((e,s)=>{const{__scopeSelect:a,align:l="start",collisionPadding:c=Qm,...p}=e,m=Fm(a);return u.jsx(ns,{...m,...p,ref:s,align:l,collisionPadding:c,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nh.displayName="SelectPopperPosition";var[sh,ah]=Rm(Gm,{}),ih="SelectViewport",oh=re.forwardRef((e,s)=>{const{__scopeSelect:a,nonce:l,...c}=e,p=Jm(ih,a),m=ah(ih,a),h=useComposedRefs$1(s,p.onViewportChange),f=re.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),u.jsx(Om.Slot,{scope:a,children:u.jsx(tn.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:composeEventHandlers(c.onScroll,e=>{const s=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:l}=m;if(l?.current&&a){const e=Math.abs(f.current-s.scrollTop);if(e>0){const l=window.innerHeight-2*Qm,c=parseFloat(a.style.minHeight),u=parseFloat(a.style.height),p=Math.max(c,u);if(p<l){const c=p+e,u=Math.min(l,c),m=c-u;a.style.height=u+"px","0px"===a.style.bottom&&(s.scrollTop=m>0?m:0,a.style.justifyContent="flex-end")}}}f.current=s.scrollTop})})})]})});oh.displayName=ih;var lh="SelectGroup",[ch,dh]=Rm(lh);re.forwardRef((e,s)=>{const{__scopeSelect:a,...l}=e,c=useId();return u.jsx(ch,{scope:a,id:c,children:u.jsx(tn.div,{role:"group","aria-labelledby":c,...l,ref:s})})}).displayName=lh;var uh="SelectLabel";re.forwardRef((e,s)=>{const{__scopeSelect:a,...l}=e,c=dh(uh,a);return u.jsx(tn.div,{id:c.id,...l,ref:s})}).displayName=uh;var ph="SelectItem",[mh,hh]=Rm(ph),fh=re.forwardRef((e,s)=>{const{__scopeSelect:a,value:l,disabled:c=!1,textValue:p,...m}=e,h=zm(ph,a),f=Jm(ph,a),g=h.value===l,[b,j]=re.useState(p??""),[N,k]=re.useState(!1),_=useComposedRefs$1(s,e=>f.itemRefCallback?.(e,l,c)),T=useId(),E=re.useRef("touch"),handleSelect=()=>{c||(h.onValueChange(l),h.onOpenChange(!1))};if(""===l)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(mh,{scope:a,value:l,disabled:c,textId:T,isSelected:g,onItemTextChange:re.useCallback(e=>{j(s=>s||(e?.textContent??"").trim())},[]),children:u.jsx(Om.ItemSlot,{scope:a,value:l,disabled:c,textValue:b,children:u.jsx(tn.div,{role:"option","aria-labelledby":T,"data-highlighted":N?"":void 0,"aria-selected":g&&N,"data-state":g?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:_,onFocus:composeEventHandlers(m.onFocus,()=>k(!0)),onBlur:composeEventHandlers(m.onBlur,()=>k(!1)),onClick:composeEventHandlers(m.onClick,()=>{"mouse"!==E.current&&handleSelect()}),onPointerUp:composeEventHandlers(m.onPointerUp,()=>{"mouse"===E.current&&handleSelect()}),onPointerDown:composeEventHandlers(m.onPointerDown,e=>{E.current=e.pointerType}),onPointerMove:composeEventHandlers(m.onPointerMove,e=>{E.current=e.pointerType,c?f.onItemLeave?.():"mouse"===E.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(m.onPointerLeave,e=>{e.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:composeEventHandlers(m.onKeyDown,e=>{""!==f.searchRef?.current&&" "===e.key||(Lm.includes(e.key)&&handleSelect()," "===e.key&&e.preventDefault())})})})})});fh.displayName=ph;var gh="SelectItemText",xh=re.forwardRef((e,s)=>{const{__scopeSelect:a,className:l,style:c,...p}=e,m=zm(gh,a),h=Jm(gh,a),f=hh(gh,a),g=Um(gh,a),[b,j]=re.useState(null),N=useComposedRefs$1(s,e=>j(e),f.onItemTextChange,e=>h.itemTextRefCallback?.(e,f.value,f.disabled)),k=b?.textContent,_=re.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:k},f.value),[f.disabled,f.value,k]),{onNativeOptionAdd:T,onNativeOptionRemove:E}=g;return pn(()=>(T(_),()=>E(_)),[T,E,_]),u.jsxs(u.Fragment,{children:[u.jsx(tn.span,{id:f.textId,...p,ref:N}),f.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Fr.createPortal(p.children,m.valueNode):null]})});xh.displayName=gh;var vh="SelectItemIndicator",yh=re.forwardRef((e,s)=>{const{__scopeSelect:a,...l}=e;return hh(vh,a).isSelected?u.jsx(tn.span,{"aria-hidden":!0,...l,ref:s}):null});yh.displayName=vh;var bh="SelectScrollUpButton",jh=re.forwardRef((e,s)=>{const a=Jm(bh,e.__scopeSelect),l=ah(bh,e.__scopeSelect),[c,p]=re.useState(!1),m=useComposedRefs$1(s,l.onScrollButtonChange);return pn(()=>{if(a.viewport&&a.isPositioned){let handleScroll2=function(){const s=e.scrollTop>0;p(s)};const e=a.viewport;return handleScroll2(),e.addEventListener("scroll",handleScroll2),()=>e.removeEventListener("scroll",handleScroll2)}},[a.viewport,a.isPositioned]),c?u.jsx(Sh,{...e,ref:m,onAutoScroll:()=>{const{viewport:e,selectedItem:s}=a;e&&s&&(e.scrollTop=e.scrollTop-s.offsetHeight)}}):null});jh.displayName=bh;var wh="SelectScrollDownButton",Nh=re.forwardRef((e,s)=>{const a=Jm(wh,e.__scopeSelect),l=ah(wh,e.__scopeSelect),[c,p]=re.useState(!1),m=useComposedRefs$1(s,l.onScrollButtonChange);return pn(()=>{if(a.viewport&&a.isPositioned){let handleScroll2=function(){const s=e.scrollHeight-e.clientHeight,a=Math.ceil(e.scrollTop)<s;p(a)};const e=a.viewport;return handleScroll2(),e.addEventListener("scroll",handleScroll2),()=>e.removeEventListener("scroll",handleScroll2)}},[a.viewport,a.isPositioned]),c?u.jsx(Sh,{...e,ref:m,onAutoScroll:()=>{const{viewport:e,selectedItem:s}=a;e&&s&&(e.scrollTop=e.scrollTop+s.offsetHeight)}}):null});Nh.displayName=wh;var Sh=re.forwardRef((e,s)=>{const{__scopeSelect:a,onAutoScroll:l,...c}=e,p=Jm("SelectScrollButton",a),m=re.useRef(null),h=Im(a),f=re.useCallback(()=>{null!==m.current&&(window.clearInterval(m.current),m.current=null)},[]);return re.useEffect(()=>()=>f(),[f]),pn(()=>{const e=h().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[h]),u.jsx(tn.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:composeEventHandlers(c.onPointerDown,()=>{null===m.current&&(m.current=window.setInterval(l,50))}),onPointerMove:composeEventHandlers(c.onPointerMove,()=>{p.onItemLeave?.(),null===m.current&&(m.current=window.setInterval(l,50))}),onPointerLeave:composeEventHandlers(c.onPointerLeave,()=>{f()})})});re.forwardRef((e,s)=>{const{__scopeSelect:a,...l}=e;return u.jsx(tn.div,{"aria-hidden":!0,...l,ref:s})}).displayName="SelectSeparator";var Ch="SelectArrow";re.forwardRef((e,s)=>{const{__scopeSelect:a,...l}=e,c=Fm(a),p=zm(Ch,a),m=Jm(Ch,a);return p.open&&"popper"===m.position?u.jsx(ss,{...c,...l,ref:s}):null}).displayName=Ch;var kh=re.forwardRef(({__scopeSelect:e,value:s,...a},l)=>{const c=re.useRef(null),p=useComposedRefs$1(l,c),m=usePrevious$1(s);return re.useEffect(()=>{const e=c.current;if(!e)return;const a=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(m!==s&&l){const a=new Event("change",{bubbles:!0});l.call(e,s),e.dispatchEvent(a)}},[m,s]),u.jsx(tn.select,{...a,style:{...ls,...a.style},ref:p,defaultValue:s})});function shouldShowPlaceholder(e){return""===e||void 0===e}function useTypeaheadSearch(e){const s=useCallbackRef$1(e),a=re.useRef(""),l=re.useRef(0),c=re.useCallback(e=>{const c=a.current+e;s(c),function updateSearch(e){a.current=e,window.clearTimeout(l.current),""!==e&&(l.current=window.setTimeout(()=>updateSearch(""),1e3))}(c)},[s]),u=re.useCallback(()=>{a.current="",window.clearTimeout(l.current)},[]);return re.useEffect(()=>()=>window.clearTimeout(l.current),[]),[a,c,u]}function findNextItem(e,s,a){const l=s.length>1&&Array.from(s).every(e=>e===s[0])?s[0]:s,c=a?e.indexOf(a):-1;let u=function wrapArray(e,s){return e.map((a,l)=>e[(s+l)%e.length])}(e,Math.max(c,0));1===l.length&&(u=u.filter(e=>e!==a));const p=u.find(e=>e.textValue.toLowerCase().startsWith(l.toLowerCase()));return p!==a?p:void 0}kh.displayName="SelectBubbleInput";var _h=Select$2,Ph=qm,Th=Zm,Eh=Km,Ah=SelectPortal,Mh=Ym,Lh=oh,Dh=fh,Oh=xh,Ih=yh,$h=jh,Rh=Nh;function Select$1({...e}){return u.jsx(_h,{"data-slot":"select",...e})}function SelectValue({...e}){return u.jsx(Th,{"data-slot":"select-value",...e})}function SelectTrigger({className:e,size:s="default",children:a,...l}){return u.jsxs(Ph,{"data-slot":"select-trigger","data-size":s,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l,children:[a,u.jsx(Eh,{asChild:!0,children:u.jsx($a,{className:"size-4 opacity-50"})})]})}function SelectContent({className:e,children:s,position:a="popper",align:l="center",...c}){return u.jsx(Ah,{children:u.jsxs(Mh,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,align:l,...c,children:[u.jsx(SelectScrollUpButton,{}),u.jsx(Lh,{className:cn("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),u.jsx(SelectScrollDownButton,{})]})})}function SelectItem({className:e,children:s,...a}){return u.jsxs(Dh,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(Ih,{children:u.jsx(Ia,{className:"size-4"})})}),u.jsx(Oh,{children:s})]})}function SelectScrollUpButton({className:e,...s}){return u.jsx($h,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",e),...s,children:u.jsx(Ba,{className:"size-4"})})}function SelectScrollDownButton({className:e,...s}){return u.jsx(Rh,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",e),...s,children:u.jsx($a,{className:"size-4"})})}function EnhancedHero({variant:e="home",title:s,subtitle:a,backgroundImage:l,heroMode:c="standard",navigationItems:p=[],customShortcuts:m,initialSearchQuery:h=""}){const[,f]=useLocation(),[g,b]=re.useState(null),[j,N]=re.useState(h),[k,_]=re.useState([]),T=1===k.length?k[0]:null,[E,A]=re.useState(""),[L,O]=re.useState(!1),[I,$]=re.useState({propertyIntent:"",propertyTypes:[],priceMin:"",priceMax:"",furnished:!1,leaseTerm:"",budgetMin:"",budgetMax:"",developmentType:"",developmentStatus:"",landType:"",sizeMin:"",sizeMax:"",commercialUseType:"",saleOrRent:"sale",lotSizeMin:"",lotSizeMax:"",zoning:"",parkingSpaces:"",roomType:"",billsIncluded:!1,genderPreference:"",agentName:"",agency:""}),z={buy:{intents:["Residential","Commercial","Land & Plots","Farms & Smallholdings"],propertyTypes:{Residential:["House","Apartment","Townhouse","Cluster","Penthouse","Duplex","Villa"],Commercial:["Office","Retail","Industrial","Warehouse","Mixed-Use"],"Land & Plots":["Residential Stand","Commercial Stand","Agricultural Land"],"Farms & Smallholdings":["Farm","Smallholding","Game Farm","Lifestyle Farm"]}},rental:{propertyTypes:{Residential:["House","Apartment","Townhouse","Cluster","Room","Studio"],Commercial:["Office","Retail","Industrial","Warehouse"],"Shared Living":["Room in Apartment","Room in House","Co-Living Space","Student Accommodation"]},leaseTerms:["Month-to-month","6 months","12 months","24+ months"]},projects:{types:["Full Title","Sectional Title","Security Estate","Retirement","Co-Living","Luxury","Affordable Housing"],statuses:["Off-Plan","Under Construction","Completed","Launching Soon"]},plot:{types:["Residential","Commercial","Agricultural","Industrial"]},commercial:{useTypes:["Office","Retail","Industrial","Warehouse","Medical","Mixed-Use"]},pg:{roomTypes:["Room in Apartment","Room in House","Co-Living","Student Accommodation"],genderOptions:["Male Only","Female Only","Mixed"]}},U=[{id:"buy",label:"Buy",icon:Bi},{id:"rental",label:"Rental",icon:$i},{id:"projects",label:"Developments",icon:ka},{id:"pg",label:"Shared Living",icon:Cl},{id:"plot",label:"Plot & Land",icon:lo},{id:"commercial",label:"Commercial",icon:Ca},{id:"agents",label:"Agents",icon:Cl}],handleFilterChange=(e,s)=>{$(a=>({...a,[e]:s}))},H=re.useMemo(()=>{const e={};return T&&("city"===T.type&&(e.city=T.name),"suburb"===T.type&&(e.suburb=[T.name]),T.provinceSlug&&(e.province=T.provinceSlug)),"buy"===g?(e.listingType="sale",I.propertyTypes.length>0&&(e.propertyType=I.propertyTypes.map(e=>e.toLowerCase())),I.priceMin&&(e.minPrice=parseInt(I.priceMin)),I.priceMax&&(e.maxPrice=parseInt(I.priceMax))):"rental"===g&&(e.listingType="rent",I.propertyTypes.length>0&&(e.propertyType=I.propertyTypes.map(e=>e.toLowerCase())),I.budgetMin&&(e.minPrice=parseInt(I.budgetMin)),I.budgetMax&&(e.maxPrice=parseInt(I.budgetMax))),e},[g,I,T]),{data:q,isLoading:Z}=At.properties.getFilterCounts.useQuery({filters:H},{enabled:!!T||!!I.propertyIntent||!!I.priceMax,staleTime:3e4}),handleSearch=()=>{console.log("[handleSearch] Called. selectedLocation:",T,"searchQuery:",j,"activeTab:",g);const e=g||"buy";if("buy"===e||"rental"===e){const s="rental"===e?"rent":"sale";if(k.length>0){console.log("[handleSearch] selectedLocations:",k);const e="rent"===s?"/property-to-rent":"/property-for-sale",a=new URLSearchParams;if(1===k.length){const s=k[0];if("province"===s.type){const a=normalizeLocationKey(s.name);return void f(`${e}/${a}`)}const l=normalizeLocationKey(s.name),c=s.provinceSlug||getProvinceForCity(s.name);"suburb"===s.type?(a.set("suburb",l),s.citySlug&&a.set("city",normalizeLocationKey(s.citySlug))):a.set("city",l),c&&a.set("province",c)}else k.forEach(e=>{a.append("locations[]",e.slug)});"buy"===g?(I.priceMin&&a.set("minPrice",I.priceMin),I.priceMax&&a.set("maxPrice",I.priceMax)):(I.budgetMin&&a.set("minPrice",I.budgetMin),I.budgetMax&&a.set("maxPrice",I.budgetMax)),I.propertyTypes.length>0&&a.set("propertyType",I.propertyTypes[0].toLowerCase());const l=a.toString();return void f(`${e}?${l}`)}if(j){const e="rent"===s?"/property-to-rent":"/property-for-sale",a=isProvinceSearch(j);if(a)return void f(`${e}/${a}`);const l=normalizeLocationKey(j),c=getProvinceForCity(j),u=new URLSearchParams;return u.set("city",l),c&&u.set("province",c),void f(`${e}?${u.toString()}`)}return void f("rent"===s?"/property-to-rent":"/property-for-sale")}switch(g){case"buy":{const e=generatePropertyUrl({listingType:"sale",propertyType:I.propertyTypes[0]?.toLowerCase(),minPrice:I.priceMin?parseInt(I.priceMin):void 0,maxPrice:I.priceMax?parseInt(I.priceMax):void 0});f(e);break}case"rental":{const e=generatePropertyUrl({listingType:"rent",propertyType:I.propertyTypes[0]?.toLowerCase(),minPrice:I.budgetMin?parseInt(I.budgetMin):void 0,maxPrice:I.budgetMax?parseInt(I.budgetMax):void 0,furnished:I.furnished});f(e);break}case"projects":{const e=new URLSearchParams;j&&e.set("search",j),I.developmentType&&e.set("type",I.developmentType),I.developmentStatus&&e.set("status",I.developmentStatus),I.priceMin&&e.set("minPrice",I.priceMin),I.priceMax&&e.set("maxPrice",I.priceMax),f(`/developments?${e.toString()}`);break}case"plot":{const e=generatePropertyUrl({listingType:"sale",propertyType:"land",city:j||void 0,minPrice:I.priceMin?parseInt(I.priceMin):void 0,maxPrice:I.priceMax?parseInt(I.priceMax):void 0});f(e);break}case"commercial":{const e=generatePropertyUrl({listingType:I.saleOrRent,propertyType:"commercial",city:j||void 0});f(e);break}case"pg":{const e=generatePropertyUrl({listingType:"rent",propertyType:"shared_living",city:j||void 0,minPrice:I.budgetMin?parseInt(I.budgetMin):void 0,maxPrice:I.budgetMax?parseInt(I.budgetMax):void 0});f(e);break}case"agents":f("/agents");break;default:{const e=generatePropertyUrl({city:j||void 0});f(e)}}},Y=m||[{label:"3 Bed Houses",icon:Bi,filters:{listingType:"sale",propertyType:["house"],minBedrooms:3}},{label:"Apartments < R1.5M",icon:_a,filters:{listingType:"sale",propertyType:["apartment"],maxPrice:15e5}},{label:"New Developments",icon:ka,path:"/new-developments"},{label:"Cheap Rentals",icon:Hi,filters:{listingType:"rent",maxPrice:6e3}}],X="province"===c||"city"===c;return u.jsxs("div",{className:"relative bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 text-white overflow-hidden",children:[l?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:l,alt:"Hero Background",className:"w-full h-full object-cover opacity-30"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/80 to-indigo-900/90 mix-blend-multiply"})]})}):u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-3xl"})]}),u.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-40 mix-blend-overlay"}),u.jsxs("div",{className:"container relative py-fluid-xl z-10",children:[u.jsxs("div",{className:"text-center mb-6 max-w-4xl mx-auto",children:[s?u.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 leading-tight",children:s}):u.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight tracking-tight",children:["South Africa's"," ",u.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent animate-gradient bg-[length:200%_auto]",children:"Fastest Growing"}),u.jsx("br",{}),"Real Estate Platform"]}),u.jsx("p",{className:"text-base md:text-lg text-white/90 animate-fade-in max-w-2xl mx-auto",children:a||u.jsxs(u.Fragment,{children:["From browsing properties to closing deals - your complete",u.jsx("br",{}),"real estate journey starts here"]})})]}),u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("div",{className:"inline-flex bg-white/10 backdrop-blur-md rounded-xl p-1.5 gap-1 flex-wrap shadow-lg border border-white/20",children:U.map(e=>{const s=e.icon;return u.jsxs("button",{onClick:()=>{return s=e.id,b(s),void("agents"===s?(f("/agents"),O(!1)):O(!0));var s},className:`\n                    flex items-center gap-2 px-5 py-3 rounded-lg transition-all font-medium text-sm\n                    ${g===e.id?"bg-white text-blue-900 shadow-lg scale-105":"text-white hover:bg-white/15 hover:scale-102"}\n                  `,children:[u.jsx(s,{className:"h-4 w-4"}),e.label]},e.id)})})}),u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(ea,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm rounded-2xl",children:u.jsxs(sa,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative group",children:[u.jsx(Vo,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground z-10 pointer-events-none"}),u.jsx(LocationAutosuggest,{placeholder:"Search by city, suburb, or area...",className:"w-full",inputClassName:"pl-12 pr-24 h-14 text-base border-2 hover:border-primary/50 focus:border-primary transition-colors w-full bg-transparent rounded-xl",showIcon:!1,selectedLocations:k,onRemove:e=>{_(s=>s.filter((s,a)=>a!==e))},onChange:e=>{N(e)},onSelect:e=>{N(""),_(s=>s.some(s=>s.slug===e.slug)?s:[...s,e])},onSubmit:handleSearch,maxLocations:5}),u.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-2 z-10",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-10 w-10 hover:bg-primary/10 rounded-lg",title:"Use current location",children:u.jsx(co,{className:"h-5 w-5"})}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-10 w-10 hover:bg-primary/10 rounded-lg",title:"Voice search",children:u.jsx(vo,{className:"h-5 w-5"})})]})]}),u.jsx(Button$1,{onClick:handleSearch,className:"bg-blue-600 hover:bg-blue-700 text-white h-14 px-8 shadow-lg hover:shadow-xl transition-all font-semibold text-base min-w-[140px] rounded-xl",size:"lg",children:Z?u.jsx(no,{className:"h-5 w-5 animate-spin"}):u.jsx("div",{className:"flex flex-col items-center leading-none",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Vo,{className:"h-4 w-4"})," Search"]})})})]}),u.jsx("div",{className:"mt-6 flex flex-wrap gap-3 items-center justify-center border-t border-slate-100 pt-4",children:X?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider mr-1",children:"province"===c?"Popular Locations:":"Popular Areas:"}),p.map((e,s)=>u.jsx(Button$1,{variant:"outline",onClick:()=>f(e.path),className:`\n                                        h-9 px-4 rounded-full text-sm font-medium border-blue-100 bg-blue-50/50 text-blue-700 \n                                        hover:bg-blue-100 hover:border-blue-200 hover:text-blue-800 transition-all\n                                        ${e.active?"ring-2 ring-blue-500 ring-offset-1":""}\n                                    `,children:e.label},s))]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider mr-1",children:"Quick Search:"}),Y.map((e,s)=>{const a=e.icon;return u.jsxs("button",{onClick:()=>(e=>{if(e.path)return void f(e.path);const s=generatePropertyUrl(e.filters);f(s)})(e),className:"flex items-center gap-2 px-3.5 py-2 bg-white hover:bg-slate-50 text-slate-600 hover:text-slate-900 rounded-full text-sm font-medium transition-colors border border-slate-200 hover:border-slate-300 shadow-sm",children:[a&&u.jsx(a,{className:"h-3.5 w-3.5 text-slate-400"}),e.label]},s)})]})}),L&&"agents"!==g&&u.jsx("div",{className:"mt-6 pt-6 border-t animate-in slide-in-from-top-2 duration-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["buy"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Property Category"}),u.jsxs(Select$1,{value:I.propertyIntent,onValueChange:e=>handleFilterChange("propertyIntent",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Category"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Category"}),z.buy.intents.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]}),u.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Choose the main type of property youre looking for"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Property Type"}),u.jsxs(Select$1,{value:I.propertyTypes[0]||"",onValueChange:e=>handleFilterChange("propertyTypes",[e]),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),(I.propertyIntent&&z.buy.propertyTypes[I.propertyIntent]?z.buy.propertyTypes[I.propertyIntent]:Object.values(z.buy.propertyTypes).flat()).map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Min Price"}),u.jsxs(Select$1,{value:I.priceMin,onValueChange:e=>handleFilterChange("priceMin",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"0",children:"R 0"}),u.jsx(SelectItem,{value:"500000",children:"R 500,000"}),u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Max Price"}),u.jsxs(Select$1,{value:I.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"}),u.jsx(SelectItem,{value:"10000000",children:"R 10,000,000"}),u.jsx(SelectItem,{value:"50000000",children:"R 50,000,000+"})]})]})]})]}),"rental"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Property Type"}),u.jsxs(Select$1,{value:I.propertyTypes[0]||"",onValueChange:e=>handleFilterChange("propertyTypes",[e]),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Object.values(z.rental.propertyTypes).flat().map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Lease Term"}),u.jsxs(Select$1,{value:I.leaseTerm,onValueChange:e=>handleFilterChange("leaseTerm",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Term"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Term"}),z.rental.leaseTerms.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Max Budget"}),u.jsxs(Select$1,{value:I.budgetMax,onValueChange:e=>handleFilterChange("budgetMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Budget"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"5000",children:"R 5,000"}),u.jsx(SelectItem,{value:"10000",children:"R 10,000"}),u.jsx(SelectItem,{value:"20000",children:"R 20,000"}),u.jsx(SelectItem,{value:"50000",children:"R 50,000+"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 h-10 mt-6",children:[u.jsx(Checkbox,{id:"furnished",checked:I.furnished,onCheckedChange:e=>handleFilterChange("furnished",e)}),u.jsx(Label$1,{htmlFor:"furnished",className:"font-normal cursor-pointer",children:"Furnished Only"})]})]}),"projects"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Development Type"}),u.jsxs(Select$1,{value:I.developmentType,onValueChange:e=>handleFilterChange("developmentType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),z.projects.types.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),u.jsxs(Select$1,{value:I.developmentStatus,onValueChange:e=>handleFilterChange("developmentStatus",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Status"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Status"}),z.projects.statuses.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Min Price"}),u.jsx(Input,{type:"number",placeholder:"R Min",className:"h-10 bg-gray-50/50 border-gray-200",value:I.priceMin,onChange:e=>handleFilterChange("priceMin",e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Max Price"}),u.jsx(Input,{type:"number",placeholder:"R Max",className:"h-10 bg-gray-50/50 border-gray-200",value:I.priceMax,onChange:e=>handleFilterChange("priceMax",e.target.value)})]})]}),"plot"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Land Type"}),u.jsxs(Select$1,{value:I.landType,onValueChange:e=>handleFilterChange("landType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),z.plot.types.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Min Size (m)"}),u.jsx(Input,{type:"number",placeholder:"Min m",className:"h-10 bg-gray-50/50 border-gray-200",value:I.sizeMin,onChange:e=>handleFilterChange("sizeMin",e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Max Price"}),u.jsxs(Select$1,{value:I.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Price"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"500000",children:"R 500k"}),u.jsx(SelectItem,{value:"1000000",children:"R 1M"}),u.jsx(SelectItem,{value:"5000000",children:"R 5M"}),u.jsx(SelectItem,{value:"10000000",children:"R 10M+"})]})]})]})]}),"commercial"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"I want to"}),u.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-lg h-10",children:[u.jsx("button",{onClick:()=>handleFilterChange("saleOrRent","sale"),className:"flex-1 rounded-md text-sm font-medium transition-all "+("sale"===I.saleOrRent?"bg-white shadow-sm text-primary":"text-gray-500 hover:text-gray-900"),children:"Buy"}),u.jsx("button",{onClick:()=>handleFilterChange("saleOrRent","rent"),className:"flex-1 rounded-md text-sm font-medium transition-all "+("rent"===I.saleOrRent?"bg-white shadow-sm text-primary":"text-gray-500 hover:text-gray-900"),children:"Rent"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Use Type"}),u.jsxs(Select$1,{value:I.commercialUseType,onValueChange:e=>handleFilterChange("commercialUseType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Use"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Use"}),z.commercial.useTypes.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Min Size (m)"}),u.jsx(Input,{type:"number",placeholder:"Min m",className:"h-10 bg-gray-50/50 border-gray-200",value:I.lotSizeMin,onChange:e=>handleFilterChange("lotSizeMin",e.target.value)})]})]}),"pg"===g&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Room Type"}),u.jsxs(Select$1,{value:I.roomType,onValueChange:e=>handleFilterChange("roomType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Room"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Room"}),z.pg.roomTypes.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Gender Preference"}),u.jsxs(Select$1,{value:I.genderPreference,onValueChange:e=>handleFilterChange("genderPreference",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any"}),z.pg.genderOptions.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Max Budget"}),u.jsxs(Select$1,{value:I.budgetMax,onValueChange:e=>handleFilterChange("budgetMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50 border-gray-200",children:u.jsx(SelectValue,{placeholder:"Any Budget"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"3000",children:"R 3,000"}),u.jsx(SelectItem,{value:"5000",children:"R 5,000"}),u.jsx(SelectItem,{value:"8000",children:"R 8,000"}),u.jsx(SelectItem,{value:"10000",children:"R 10,000+"})]})]})]})]})]})})]})})})]})]})}const withApiBase=e=>{if(!e)return;if(e.startsWith("http")||e.startsWith("blob:")||e.startsWith("data:"))return e;return`${"https://api.propertylistifysa.co.za".replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`};function SimpleDevelopmentCard({id:e,title:s,city:a,suburb:l,priceRange:c,image:p,slug:m,isHotSelling:h,isHighDemand:f}){const g=l?`${l}, ${a}`:a,b=function formatPriceRangeCompact(e,s){const a=formatZARCompact(e),l=formatZARCompact(s);return"R"===a&&"R"===l?"Price on request":"R"===a||"R"!==l&&s!==e?`${a} to ${l}`:`From ${a}`}(c?.min,c?.max);return u.jsxs(rc,{href:`/development/${m||e}`,className:"group block relative rounded-xl border border-slate-200 bg-white overflow-hidden hover:shadow-lg transition-all duration-300 w-full h-full",children:[u.jsxs("div",{className:"relative aspect-[4/3] bg-slate-100 overflow-hidden",children:[p?u.jsx("img",{src:withApiBase(p),alt:s,loading:"lazy",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:e=>{const s=e.target;s.onerror=null,s.style.display="none",s.parentElement?.classList.add("flex","items-center","justify-center")}}):u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-300",children:u.jsx(ka,{className:"w-12 h-12"})}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-300"}),u.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-1.5 items-end z-10",children:[h&&u.jsx("span",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded shadow-sm",children:"Hot"}),!h&&f&&u.jsx("span",{className:"bg-blue-600 text-white text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded shadow-sm",children:"High Demand"})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsx("h3",{className:"font-semibold text-slate-900 truncate text-[15px] leading-tight mb-1 group-hover:text-[#2774AE] transition-colors",children:s}),u.jsxs("div",{className:"flex items-center gap-1 text-slate-500 text-xs mb-3",children:[u.jsx(lo,{className:"w-3 h-3 text-slate-400 shrink-0"}),u.jsx("span",{className:"truncate",children:g})]}),u.jsx("div",{className:"pt-2 border-t border-slate-100",children:u.jsx("p",{className:"font-bold text-[#2774AE] text-sm",children:b})})]})]})}var Fh="Tabs",[Bh]=createContextScope(Fh,[kc]),zh=kc(),[Vh,Uh]=Bh(Fh),Hh=re.forwardRef((e,s)=>{const{__scopeTabs:a,value:l,onValueChange:c,defaultValue:p,orientation:m="horizontal",dir:h,activationMode:f="automatic",...g}=e,b=useDirection(h),[j,N]=useControllableState({prop:l,onChange:c,defaultProp:p??"",caller:Fh});return u.jsx(Vh,{scope:a,baseId:useId(),value:j,onValueChange:N,orientation:m,dir:b,activationMode:f,children:u.jsx(tn.div,{dir:b,"data-orientation":m,...g,ref:s})})});Hh.displayName=Fh;var qh="TabsList",Wh=re.forwardRef((e,s)=>{const{__scopeTabs:a,loop:l=!0,...c}=e,p=Uh(qh,a),m=zh(a);return u.jsx(Dc,{asChild:!0,...m,orientation:p.orientation,dir:p.dir,loop:l,children:u.jsx(tn.div,{role:"tablist","aria-orientation":p.orientation,...c,ref:s})})});Wh.displayName=qh;var Zh="TabsTrigger",Kh=re.forwardRef((e,s)=>{const{__scopeTabs:a,value:l,disabled:c=!1,...p}=e,m=Uh(Zh,a),h=zh(a),f=makeTriggerId(m.baseId,l),g=makeContentId(m.baseId,l),b=l===m.value;return u.jsx(Oc,{asChild:!0,...h,focusable:!c,active:b,children:u.jsx(tn.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":g,"data-state":b?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:f,...p,ref:s,onMouseDown:composeEventHandlers(e.onMouseDown,e=>{c||0!==e.button||!1!==e.ctrlKey?e.preventDefault():m.onValueChange(l)}),onKeyDown:composeEventHandlers(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&m.onValueChange(l)}),onFocus:composeEventHandlers(e.onFocus,()=>{const e="manual"!==m.activationMode;b||c||!e||m.onValueChange(l)})})})});Kh.displayName=Zh;var Gh="TabsContent",Yh=re.forwardRef((e,s)=>{const{__scopeTabs:a,value:l,forceMount:c,children:p,...m}=e,h=Uh(Gh,a),f=makeTriggerId(h.baseId,l),g=makeContentId(h.baseId,l),b=l===h.value,j=re.useRef(b);return re.useEffect(()=>{const e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),u.jsx(Presence,{present:c||b,children:({present:a})=>u.jsx(tn.div,{"data-state":b?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!a,id:g,tabIndex:0,...m,ref:s,style:{...e.style,animationDuration:j.current?"0s":void 0},children:a&&p})})});function makeTriggerId(e,s){return`${e}-trigger-${s}`}function makeContentId(e,s){return`${e}-content-${s}`}Yh.displayName=Gh;var Qh=Wh,Xh=Kh,Jh=Yh;const ef=Hh,tf=re.forwardRef(({className:e,...s},a)=>u.jsx(Qh,{ref:a,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));tf.displayName=Qh.displayName;const rf=re.forwardRef(({className:e,...s},a)=>u.jsx(Xh,{ref:a,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));rf.displayName=Xh.displayName;const nf=re.forwardRef(({className:e,...s},a)=>u.jsx(Jh,{ref:a,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));nf.displayName=Jh.displayName;const sf={Johannesburg:{cityName:"Johannesburg",medianPrice:285e4,listings:45655,avgPricePerSqm:16950,priceRanges:[{range:"Below R1M",count:8500},{range:"R1M-R2M",count:15200},{range:"R2M-R3M",count:12800},{range:"R3M-R5M",count:6400},{range:"R5M-R10M",count:2100},{range:"Above R10M",count:655}],micromarkets:[{area:"Sandton",pricePerSqm:46100},{area:"Rosebank",pricePerSqm:34650},{area:"Fourways",pricePerSqm:33100},{area:"Midrand",pricePerSqm:30100}]},"Cape Town":{cityName:"Cape Town",medianPrice:325e4,listings:52340,avgPricePerSqm:18500,priceRanges:[{range:"Below R1M",count:6200},{range:"R1M-R2M",count:12800},{range:"R2M-R3M",count:14500},{range:"R3M-R5M",count:11200},{range:"R5M-R10M",count:5800},{range:"Above R10M",count:1840}],micromarkets:[{area:"Camps Bay",pricePerSqm:65200},{area:"Sea Point",pricePerSqm:42300},{area:"Constantia",pricePerSqm:38900},{area:"Claremont",pricePerSqm:35400}]},Pretoria:{cityName:"Pretoria",medianPrice:215e4,listings:32450,avgPricePerSqm:14200,priceRanges:[{range:"Below R1M",count:9800},{range:"R1M-R2M",count:13500},{range:"R2M-R3M",count:6200},{range:"R3M-R5M",count:2300},{range:"R5M-R10M",count:550},{range:"Above R10M",count:100}],micromarkets:[{area:"Waterkloof",pricePerSqm:38500},{area:"Menlyn",pricePerSqm:28900},{area:"Centurion",pricePerSqm:26400},{area:"Brooklyn",pricePerSqm:32100}]},Durban:{cityName:"Durban",medianPrice:195e4,listings:28900,avgPricePerSqm:12800,priceRanges:[{range:"Below R1M",count:11200},{range:"R1M-R2M",count:10500},{range:"R2M-R3M",count:4800},{range:"R3M-R5M",count:1800},{range:"R5M-R10M",count:500},{range:"Above R10M",count:100}],micromarkets:[{area:"Umhlanga",pricePerSqm:35600},{area:"Ballito",pricePerSqm:28200},{area:"La Lucia",pricePerSqm:32400},{area:"Durban North",pricePerSqm:24800}]}};function PropertyInsights(){const{data:e,isLoading:s,error:a,refetch:l}=function usePriceInsights(){const{data:e,isLoading:s,error:a,refetch:l}=At.priceInsights.getAllCityInsights.useQuery(void 0,{staleTime:9e5,cacheTime:18e5,retry:2,refetchOnWindowFocus:!1});return{data:e||null,isLoading:s,error:a?new Error(a.message):null,refetch:l}}(),[c,p]=re.useState(""),m=e||sf,h=c?m[c]:null;if(re.useEffect(()=>{if(e&&!c){const s=Object.entries(e).sort(([,e],[,s])=>s.listings-e.listings)[0]?.[0];p(s||"")}},[e,c]),s)return u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Property Price Insights in South Africa"}),u.jsx("p",{className:"text-muted-foreground text-base max-w-2xl",children:"Get accurate property price insights in South Africa with city-wise trends, median rates, and micro-market comparisons."})]}),u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx(no,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading price insights..."})]})})]})});if(a)return u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Property Price Insights in South Africa"}),u.jsx("p",{className:"text-muted-foreground text-base max-w-2xl",children:"Get accurate property price insights in South Africa with city-wise trends, median rates, and micro-market comparisons."})]}),u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx(Va,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unable to load price insights"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"We're having trouble loading the latest market data. Please try again."}),u.jsx(Button$1,{onClick:()=>l(),variant:"outline",children:"Retry"})]})})]})});if(!m||0===Object.keys(m).length)return u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Property Price Insights in South Africa"}),u.jsx("p",{className:"text-muted-foreground text-base max-w-2xl",children:"Get accurate property price insights in South Africa with city-wise trends, median rates, and micro-market comparisons."})]}),u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx(wi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No price insights available yet"})]})})]})});if(!h)return null;const f=Math.max(...h.priceRanges.map(e=>e.count));return u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Property Price Insights in South Africa"}),u.jsx("p",{className:"text-muted-foreground text-base max-w-2xl",children:"Get accurate property price insights in South Africa with city-wise trends, median rates, and micro-market comparisons. Make smarter investment choices backed by real-time data and location benchmarks."})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsx("div",{className:"flex justify-center mb-10",children:u.jsx(tf,{className:"inline-flex flex-wrap justify-center gap-2 bg-white/80 backdrop-blur-sm p-2 rounded-2xl shadow-lg border border-slate-200/60 h-auto",children:Object.keys(m).map(e=>u.jsx(rf,{value:e,className:"px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 data-[state=inactive]:text-slate-600 data-[state=inactive]:hover:text-[#2774AE] data-[state=inactive]:hover:bg-blue-50/50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#2774AE] data-[state=active]:to-[#2D68C4] data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-105",children:e},e))})}),Object.keys(m).map(e=>u.jsx(nf,{value:e,className:"mt-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs(ea,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-blue-50 to-indigo-50",children:[u.jsxs(ta,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500",children:u.jsx(uo,{className:"h-5 w-5 text-white"})}),u.jsx(ra,{className:"text-lg font-semibold",children:"Average Price Map"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["in ",e]})]}),u.jsxs(sa,{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Interactive map showing average property prices across different areas"}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl h-40 flex items-center justify-center mb-4 border border-blue-100 group-hover:border-blue-200 transition-colors",children:u.jsxs("div",{className:"text-center",children:[u.jsx(uo,{className:"h-16 w-16 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Interactive Map View"})]})}),u.jsx(Button$1,{variant:"outline",className:"w-full border-blue-200 text-blue-600 hover:bg-blue-50",children:"Explore Map"})]})]}),u.jsxs(ea,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-orange-50 to-amber-50",children:[u.jsxs(ta,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-orange-500 to-amber-500",children:u.jsx(Da,{className:"h-5 w-5 text-white"})}),u.jsx(ra,{className:"text-lg font-semibold",children:"Asking Price"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["in ",e]})]}),u.jsxs(sa,{children:[u.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[e," has ",h.listings.toLocaleString()," listings with median price of R"," ",(h.medianPrice/1e6).toFixed(2),"M"]}),u.jsx("div",{className:"space-y-2 mb-4",children:h.priceRanges.map((e,s)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-muted-foreground w-24 text-right font-medium",children:e.range}),u.jsx("div",{className:"flex-1 bg-white/80 backdrop-blur-sm rounded-full h-6 overflow-hidden border border-orange-100",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 h-full flex items-center justify-end pr-2",style:{width:e.count/f*100+"%"},children:e.count>.3*f&&u.jsx("span",{className:"text-xs text-white font-medium",children:e.count.toLocaleString()})})})]},s))}),u.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"Price Range (R/Property)"})]})]}),u.jsxs(ea,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-emerald-50 to-teal-50",children:[u.jsxs(ta,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500",children:u.jsx(fl,{className:"h-5 w-5 text-white"})}),u.jsx(ra,{className:"text-lg font-semibold",children:"Market Activity"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["in ",e]})]}),u.jsxs(sa,{children:[u.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Current market activity and listing trends in ",e]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-emerald-100 group-hover:border-emerald-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:u.jsx(Da,{className:"h-4 w-4 text-emerald-600"})}),u.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Active Listings"})]}),u.jsx("span",{className:"font-semibold text-lg",children:h.listings.toLocaleString()})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-emerald-100 group-hover:border-emerald-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:u.jsx(fl,{className:"h-4 w-4 text-emerald-600"})}),u.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Avg. Price/m"})]}),u.jsxs("span",{className:"font-semibold text-lg",children:["R ",h.avgPricePerSqm.toLocaleString()]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-emerald-100 group-hover:border-emerald-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:u.jsx(wi,{className:"h-4 w-4 text-emerald-600"})}),u.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Median Price"})]}),u.jsxs("span",{className:"font-semibold text-lg",children:["R ",(h.medianPrice/1e6).toFixed(2),"M"]})]})]})]})]}),u.jsxs(ea,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-purple-50 to-pink-50",children:[u.jsxs(ta,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500",children:u.jsx(fl,{className:"h-5 w-5 text-white"})}),u.jsx(ra,{className:"text-lg font-semibold",children:"Micromarket Comparison"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["in ",e]})]}),u.jsxs(sa,{children:[u.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:[e," avg. price is R ",h.avgPricePerSqm.toLocaleString()," / m"]}),u.jsx("div",{className:"space-y-4",children:h.micromarkets.map((e,s)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-semibold text-foreground",children:e.area}),u.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:["R ",e.pricePerSqm.toLocaleString()]})]}),u.jsx("div",{className:"w-full bg-white/80 backdrop-blur-sm rounded-full h-2.5 border border-purple-100",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2.5 rounded-full transition-all duration-500",style:{width:e.pricePerSqm/Math.max(...h.micromarkets.map(e=>e.pricePerSqm))*100+"%"}})})]},s))})]})]})]})},e))]})]})})}function isRecord(e){return function isObject$4(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function areOptionsEqual(e,s){const a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(s.breakpoints||{}))&&a.every(a=>{const l=e[a],c=s[a];return"function"==typeof l?`${l}`==`${c}`:isRecord(l)&&isRecord(c)?areOptionsEqual(l,c):l===c})}function sortAndMapPluginToOptions(e){return e.concat().sort((e,s)=>e.name>s.name?1:-1).map(e=>e.options)}function isNumber$3(e){return"number"==typeof e}function isString$2(e){return"string"==typeof e}function isBoolean$2(e){return"boolean"==typeof e}function isObject$3(e){return"[object Object]"===Object.prototype.toString.call(e)}function mathAbs(e){return Math.abs(e)}function mathSign$1(e){return Math.sign(e)}function deltaAbs(e,s){return mathAbs(e-s)}function arrayKeys(e){return objectKeys(e).map(Number)}function arrayLast(e){return e[arrayLastIndex(e)]}function arrayLastIndex(e){return Math.max(0,e.length-1)}function arrayIsLastIndex(e,s){return s===arrayLastIndex(e)}function arrayFromNumber(e,s=0){return Array.from(Array(e),(e,a)=>s+a)}function objectKeys(e){return Object.keys(e)}function objectsMergeDeep(e,s){return[e,s].reduce((e,s)=>(objectKeys(s).forEach(a=>{const l=e[a],c=s[a],u=isObject$3(l)&&isObject$3(c);e[a]=u?objectsMergeDeep(l,c):c}),e),{})}function isMouseEvent(e,s){return void 0!==s.MouseEvent&&e instanceof s.MouseEvent}function EventStore(){let e=[];const s={add:function add2(a,l,c,u={passive:!0}){let p;if("addEventListener"in a)a.addEventListener(l,c,u),p=()=>a.removeEventListener(l,c,u);else{const e=a;e.addListener(c),p=()=>e.removeListener(c)}return e.push(p),s},clear:function clear(){e=e.filter(e=>e())}};return s}function Animations(e,s,a,l){const c=EventStore(),u=1e3/60;let p=null,m=0,h=0;function animate(e){if(!h)return;p||(p=e,a(),a());const c=e-p;for(p=e,m+=c;m>=u;)a(),m-=u;l(m/u),h&&(h=s.requestAnimationFrame(animate))}function stop(){s.cancelAnimationFrame(h),p=null,m=0,h=0}return{init:function init(){c.add(e,"visibilitychange",()=>{e.hidden&&function reset(){p=null,m=0}()})},destroy:function destroy(){stop(),c.clear()},start:function start(){h||(h=s.requestAnimationFrame(animate))},stop:stop,update:a,render:l}}function Limit(e=0,s=0){const a=mathAbs(e-s);function reachedMin(s){return s<e}function reachedMax(e){return e>s}function reachedAny(e){return reachedMin(e)||reachedMax(e)}return{length:a,max:s,min:e,constrain:function constrain(a){return reachedAny(a)?reachedMin(a)?e:s:a},reachedAny:reachedAny,reachedMax:reachedMax,reachedMin:reachedMin,removeOffset:function removeOffset(e){return a?e-a*Math.ceil((e-s)/a):e}}}function Counter(e,s,a){const{constrain:l}=Limit(0,e),c=e+1;let u=withinLimit(s);function withinLimit(e){return a?mathAbs((c+e)%c):l(e)}function get2(){return u}function clone2(){return Counter(e,get2(),a)}const p={get:get2,set:function set2(e){return u=withinLimit(e),p},add:function add2(e){return clone2().set(get2()+e)},clone:clone2};return p}function DragHandler(e,s,a,l,c,u,p,m,h,f,g,b,j,N,k,_,T,E,A){const{cross:L,direction:O}=e,I=["INPUT","SELECT","TEXTAREA"],$={passive:!1},z=EventStore(),U=EventStore(),H=Limit(50,225).constrain(N.measure(20)),q={mouse:300,touch:400},Z={mouse:500,touch:600},Y=k?43:25;let X=!1,J=0,re=0,ae=!1,le=!1,ce=!1,de=!1;function move(e){if(!isMouseEvent(e,l)&&e.touches.length>=2)return up(e);const s=u.readPoint(e),a=u.readPoint(e,L),p=deltaAbs(s,J),h=deltaAbs(a,re);if(!le&&!de){if(!e.cancelable)return up(e);if(le=p>h,!le)return up(e)}const g=u.pointerMove(e);p>_&&(ce=!0),f.useFriction(.3).useDuration(.75),m.start(),c.add(O(g)),e.preventDefault()}function up(e){const s=g.byDistance(0,!1).index!==b.get(),a=u.pointerUp(e)*function forceBoost(){return(k?Z:q)[de?"mouse":"touch"]}(),l=function allowedForce(e,s){const a=b.add(-1*mathSign$1(e)),l=g.byDistance(e,!k).distance;return k||mathAbs(e)<H?l:T&&s?.5*l:g.byIndex(a.get(),0).distance}(O(a),s),c=function factorAbs(e,s){if(0===e||0===s)return 0;if(mathAbs(e)<=mathAbs(s))return 0;const a=deltaAbs(mathAbs(e),mathAbs(s));return mathAbs(a/e)}(a,l),p=Y-10*c,m=E+c/50;le=!1,ae=!1,U.clear(),f.useDuration(p).useFriction(m),h.distance(l,!k),de=!1,j.emit("pointerUp")}function click(e){ce&&(e.stopPropagation(),e.preventDefault(),ce=!1)}return{init:function init(e){if(!A)return;function downIfAllowed(m){(isBoolean$2(A)||A(e,m))&&function down(e){const m=isMouseEvent(e,l);if(de=m,ce=k&&m&&!e.buttons&&X,X=deltaAbs(c.get(),p.get())>=2,m&&0!==e.button)return;if(function isFocusNode(e){const s=e.nodeName||"";return I.includes(s)}(e.target))return;ae=!0,u.pointerDown(e),f.useFriction(0).useDuration(0),c.set(p),function addDragEvents(){const e=de?a:s;U.add(e,"touchmove",move,$).add(e,"touchend",up).add(e,"mousemove",move,$).add(e,"mouseup",up)}(),J=u.readPoint(e),re=u.readPoint(e,L),j.emit("pointerDown")}(m)}const m=s;z.add(m,"dragstart",e=>e.preventDefault(),$).add(m,"touchmove",()=>{},$).add(m,"touchend",()=>{}).add(m,"touchstart",downIfAllowed).add(m,"mousedown",downIfAllowed).add(m,"touchcancel",up).add(m,"contextmenu",up).add(m,"click",click,!0)},destroy:function destroy(){z.clear(),U.clear()},pointerDown:function pointerDown(){return ae}}}function DragTracker(e,s){let a,l;function readTime(e){return e.timeStamp}function readPoint(a,l){const c="client"+("x"===(l||e.scroll)?"X":"Y");return(isMouseEvent(a,s)?a:a.touches[0])[c]}return{pointerDown:function pointerDown(e){return a=e,l=e,readPoint(e)},pointerMove:function pointerMove(e){const s=readPoint(e)-readPoint(l),c=readTime(e)-readTime(a)>170;return l=e,c&&(a=e),s},pointerUp:function pointerUp(e){if(!a||!l)return 0;const s=readPoint(l)-readPoint(a),c=readTime(e)-readTime(a),u=readTime(e)-readTime(l)>170,p=s/c;return c&&!u&&mathAbs(p)>.1?p:0},readPoint:readPoint}}function ResizeHandler(e,s,a,l,c,u,p){const m=[e].concat(l);let h,f,g=[],b=!1;function readSize(e){return c.measureSize(p.measure(e))}return{init:function init(c){u&&(f=readSize(e),g=l.map(readSize),h=new ResizeObserver(a=>{(isBoolean$2(u)||u(c,a))&&function defaultCallback(a){for(const u of a){if(b)return;const a=u.target===e,p=l.indexOf(u.target),m=a?f:g[p];if(mathAbs(readSize(a?e:l[p])-m)>=.5){c.reInit(),s.emit("resize");break}}}(a)}),a.requestAnimationFrame(()=>{m.forEach(e=>h.observe(e))}))},destroy:function destroy(){b=!0,h&&h.disconnect()}}}function ScrollBounds(e,s,a,l,c){const u=c.measure(10),p=c.measure(50),m=Limit(.1,.99);let h=!1;function shouldConstrain(){return!h&&(!!e.reachedAny(a.get())&&!!e.reachedAny(s.get()))}return{shouldConstrain:shouldConstrain,constrain:function constrain(c){if(!shouldConstrain())return;const h=e.reachedMin(s.get())?"min":"max",f=mathAbs(e[h]-s.get()),g=a.get()-s.get(),b=m.constrain(f/p);a.subtract(g*b),!c&&mathAbs(g)<u&&(a.set(e.constrain(a.get())),l.useDuration(25).useBaseFriction())},toggleActive:function toggleActive(e){h=!e}}}function ScrollLooper(e,s,a,l){const c=s.min+.1,u=s.max+.1,{reachedMin:p,reachedMax:m}=Limit(c,u);return{loop:function loop(s){if(!function shouldLoop(e){return 1===e?m(a.get()):-1===e&&p(a.get())}(s))return;const c=e*(-1*s);l.forEach(e=>e.add(c))}}}function ScrollTarget(e,s,a,l,c){const{reachedAny:u,removeOffset:p,constrain:m}=l;function minDistance(e){return e.concat().sort((e,s)=>mathAbs(e)-mathAbs(s))[0]}function shortcut(s,l){const c=[s,s+a,s-a];if(!e)return s;if(!l)return minDistance(c);const u=c.filter(e=>mathSign$1(e)===l);return u.length?minDistance(u):arrayLast(c)-a}return{byDistance:function byDistance(a,l){const h=c.get()+a,{index:f,distance:g}=function findTargetSnap(a){const l=e?p(a):m(a),c=s.map((e,s)=>({diff:shortcut(e-l,0),index:s})).sort((e,s)=>mathAbs(e.diff)-mathAbs(s.diff)),{index:u}=c[0];return{index:u,distance:l}}(h),b=!e&&u(h);return!l||b?{index:f,distance:a}:{index:f,distance:a+shortcut(s[f]-g,0)}},byIndex:function byIndex(e,a){return{index:e,distance:shortcut(s[e]-c.get(),a)}},shortcut:shortcut}}function SlideFocus(e,s,a,l,c,u,p,m){const h={passive:!0,capture:!0};let f=0;function registerTabPress(e){"Tab"===e.code&&(f=(new Date).getTime())}return{init:function init(g){m&&(u.add(document,"keydown",registerTabPress,!1),s.forEach((s,b)=>{u.add(s,"focus",s=>{(isBoolean$2(m)||m(g,s))&&function defaultCallback(s){if((new Date).getTime()-f>10)return;p.emit("slideFocusStart"),e.scrollLeft=0;const u=a.findIndex(e=>e.includes(s));isNumber$3(u)&&(c.useDuration(0),l.index(u,0),p.emit("slideFocus"))}(b)},h)}))}}}function Vector1D(e){let s=e;function normalizeInput(e){return isNumber$3(e)?e:e.get()}return{get:function get2(){return s},set:function set2(e){s=normalizeInput(e)},add:function add2(e){s+=normalizeInput(e)},subtract:function subtract2(e){s-=normalizeInput(e)}}}function Translate(e,s){const a="x"===e.scroll?function x2(e){return`translate3d(${e}px,0px,0px)`}:function y2(e){return`translate3d(0px,${e}px,0px)`},l=s.style;let c=null,u=!1;return{clear:function clear(){u||(l.transform="",s.getAttribute("style")||s.removeAttribute("style"))},to:function to(s){if(u)return;const p=function roundToTwoDecimals(e){return Math.round(100*e)/100}(e.direction(s));p!==c&&(l.transform=a(p),c=p)},toggleActive:function toggleActive(e){u=!e}}}function SlideLooper(e,s,a,l,c,u,p,m,h){const f=arrayKeys(c),g=arrayKeys(c).reverse(),b=function startPoints(){const e=p[0];return findLoopPoints(slidesInGap(g,e),a,!1)}().concat(function endPoints(){const e=s-p[0]-1;return findLoopPoints(slidesInGap(f,e),-a,!0)}());function removeSlideSizes(e,s){return e.reduce((e,s)=>e-c[s],s)}function slidesInGap(e,s){return e.reduce((e,a)=>removeSlideSizes(e,s)>0?e.concat([a]):e,[])}function findLoopPoints(c,p,f){const g=function findSlideBounds(e){return u.map((a,c)=>({start:a-l[c]+.5+e,end:a+s-.5+e}))}(p);return c.map(s=>{const l=f?0:-a,c=f?a:0,u=f?"end":"start",p=g[s][u];return{index:s,loopPoint:p,slideLocation:Vector1D(-1),translate:Translate(e,h[s]),target:()=>m.get()>p?l:c}})}return{canLoop:function canLoop(){return b.every(({index:e})=>removeSlideSizes(f.filter(s=>s!==e),s)<=.1)},clear:function clear(){b.forEach(e=>e.translate.clear())},loop:function loop(){b.forEach(e=>{const{target:s,translate:a,slideLocation:l}=e,c=s();c!==l.get()&&(a.to(c),l.set(c))})},loopPoints:b}}function SlidesHandler(e,s,a){let l,c=!1;return{init:function init(u){a&&(l=new MutationObserver(e=>{c||(isBoolean$2(a)||a(u,e))&&function defaultCallback(e){for(const a of e)if("childList"===a.type){u.reInit(),s.emit("slidesChanged");break}}(e)}),l.observe(e,{childList:!0}))},destroy:function destroy(){l&&l.disconnect(),c=!0}}}function SlidesInView(e,s,a,l){const c={};let u,p=null,m=null,h=!1;return{init:function init(){u=new IntersectionObserver(e=>{h||(e.forEach(e=>{const a=s.indexOf(e.target);c[a]=e}),p=null,m=null,a.emit("slidesInView"))},{root:e.parentElement,threshold:l}),s.forEach(e=>u.observe(e))},destroy:function destroy(){u&&u.disconnect(),h=!0},get:function get2(e=!0){if(e&&p)return p;if(!e&&m)return m;const s=function createInViewList(e){return objectKeys(c).reduce((s,a)=>{const l=parseInt(a),{isIntersecting:u}=c[l];return(e&&u||!e&&!u)&&s.push(l),s},[])}(e);return e&&(p=s),e||(m=s),s}}}function SlidesToScroll(e,s,a,l,c,u,p,m,h){const{startEdge:f,endEdge:g,direction:b}=e,j=isNumber$3(a);return{groupSlides:function groupSlides(e){return j?function byNumber(e,s){return arrayKeys(e).filter(e=>e%s===0).map(a=>e.slice(a,a+s))}(e,a):function bySize(e){return e.length?arrayKeys(e).reduce((a,j,N)=>{const k=arrayLast(a)||0,_=0===k,T=j===arrayLastIndex(e),E=c[f]-u[k][f],A=c[f]-u[j][g],L=!l&&_?b(p):0,O=mathAbs(A-(!l&&T?b(m):0)-(E+L));return N&&O>s+h&&a.push(j),T&&a.push(e.length),a},[]).map((s,a,l)=>{const c=Math.max(l[a-1]||0);return e.slice(c,s)}):[]}(e)}}}function Engine(e,s,a,l,c,u,p){const{align:m,axis:h,direction:f,startIndex:g,loop:b,duration:j,dragFree:N,dragThreshold:k,inViewThreshold:_,slidesToScroll:T,skipSnaps:E,containScroll:A,watchResize:L,watchSlides:O,watchDrag:I,watchFocus:$}=u,z={measure:function measure(e){const{offsetTop:s,offsetLeft:a,offsetWidth:l,offsetHeight:c}=e;return{top:s,right:a+l,bottom:s+c,left:a,width:l,height:c}}},U=z.measure(s),H=a.map(z.measure),q=function Axis(e,s){const a="rtl"===s,l="y"===e,c=!l&&a?-1:1;return{scroll:l?"y":"x",cross:l?"x":"y",startEdge:function getStartEdge(){return l?"top":a?"right":"left"}(),endEdge:function getEndEdge(){return l?"bottom":a?"left":"right"}(),measureSize:function measureSize(e){const{height:s,width:a}=e;return l?s:a},direction:function direction(e){return e*c}}}(h,f),Z=q.measureSize(U),Y=function PercentOfView(e){return{measure:function measure(s){return e*(s/100)}}}(Z),X=function Alignment(e,s){const a={start:function start(){return 0},center:function center(e){return end(e)/2},end:end};function end(e){return s-e}return{measure:function measure(l,c){return isString$2(e)?a[e](l):e(s,l,c)}}}(m,Z),J=!b&&!!A,re=b||!!A,{slideSizes:ae,slideSizesWithGaps:le,startGap:ce,endGap:de}=function SlideSizes(e,s,a,l,c,u){const{measureSize:p,startEdge:m,endEdge:h}=e,f=a[0]&&c,g=function measureStartGap(){if(!f)return 0;const e=a[0];return mathAbs(s[m]-e[m])}(),b=function measureEndGap(){if(!f)return 0;const e=u.getComputedStyle(arrayLast(l));return parseFloat(e.getPropertyValue(`margin-${h}`))}(),j=a.map(p),N=function measureWithGaps(){return a.map((e,s,a)=>{const l=!s,c=arrayIsLastIndex(a,s);return l?j[s]+g:c?j[s]+b:a[s+1][m]-e[m]}).map(mathAbs)}();return{slideSizes:j,slideSizesWithGaps:N,startGap:g,endGap:b}}(q,U,H,a,re,c),ue=SlidesToScroll(q,Z,T,b,U,H,ce,de,2),{snaps:me,snapsAligned:he}=function ScrollSnaps(e,s,a,l,c){const{startEdge:u,endEdge:p}=e,{groupSlides:m}=c,h=function measureSizes(){return m(l).map(e=>arrayLast(e)[p]-e[0][u]).map(mathAbs)}().map(s.measure),f=function measureUnaligned(){return l.map(e=>a[u]-e[u]).map(e=>-mathAbs(e))}(),g=function measureAligned(){return m(f).map(e=>e[0]).map((e,s)=>e+h[s])}();return{snaps:f,snapsAligned:g}}(q,X,U,H,ue),fe=-arrayLast(me)+arrayLast(le),{snapsContained:ge,scrollContainLimit:xe}=function ScrollContain(e,s,a,l,c){const u=Limit(-s+e,0),p=function measureBounded(){return a.map((e,s)=>{const{min:l,max:c}=u,p=u.constrain(e),m=!s,h=arrayIsLastIndex(a,s);return m?c:h||usePixelTolerance(l,p)?l:usePixelTolerance(c,p)?c:p}).map(e=>parseFloat(e.toFixed(3)))}(),m=function findScrollContainLimit(){const e=p[0],s=arrayLast(p);return Limit(p.lastIndexOf(e),p.indexOf(s)+1)}();function usePixelTolerance(e,s){return deltaAbs(e,s)<=1}return{snapsContained:function measureContained(){if(s<=e+c)return[u.max];if("keepSnaps"===l)return p;const{min:a,max:h}=m;return p.slice(a,h)}(),scrollContainLimit:m}}(Z,fe,he,A,2),ye=J?ge:he,{limit:be}=function ScrollLimit(e,s,a){const l=s[0];return{limit:Limit(a?l-e:arrayLast(s),l)}}(fe,ye,b),je=Counter(arrayLastIndex(ye),g,b),Ne=je.clone(),Se=arrayKeys(a),Ce=Animations(l,c,()=>(({dragHandler:e,scrollBody:s,scrollBounds:a,options:{loop:l}})=>{l||a.constrain(e.pointerDown()),s.seek()})(Ue),e=>(({scrollBody:e,translate:s,location:a,offsetLocation:l,previousLocation:c,scrollLooper:u,slideLooper:p,dragHandler:m,animation:h,eventHandler:f,scrollBounds:g,options:{loop:b}},j)=>{const N=e.settled(),k=!g.shouldConstrain(),_=b?N:N&&k,T=_&&!m.pointerDown();T&&h.stop();const E=a.get()*j+c.get()*(1-j);l.set(E),b&&(u.loop(e.direction()),p.loop()),s.to(l.get()),T&&f.emit("settle"),_||f.emit("scroll")})(Ue,e)),_e=ye[je.get()],Pe=Vector1D(_e),Te=Vector1D(_e),Ee=Vector1D(_e),Ae=Vector1D(_e),Le=function ScrollBody(e,s,a,l,c,u){let p=0,m=0,h=c,f=u,g=e.get(),b=0;function useDuration(e){return h=e,j}function useFriction(e){return f=e,j}const j={direction:function direction(){return m},duration:function duration(){return h},velocity:function velocity(){return p},seek:function seek(){const s=l.get()-e.get();let c=0;return h?(a.set(e),p+=s/h,p*=f,g+=p,e.add(p),c=g-b):(p=0,a.set(l),e.set(l),c=s),m=mathSign$1(c),b=g,j},settled:function settled(){return mathAbs(l.get()-s.get())<.001},useBaseFriction:function useBaseFriction(){return useFriction(u)},useBaseDuration:function useBaseDuration(){return useDuration(c)},useFriction:useFriction,useDuration:useDuration};return j}(Pe,Ee,Te,Ae,j,.68),Oe=ScrollTarget(b,ye,fe,be,Ae),Ie=function ScrollTo(e,s,a,l,c,u,p){function scrollTo(c){const m=c.distance,h=c.index!==s.get();u.add(m),m&&(l.duration()?e.start():(e.update(),e.render(1),e.update())),h&&(a.set(s.get()),s.set(c.index),p.emit("select"))}return{distance:function distance2(e,s){scrollTo(c.byDistance(e,s))},index:function index2(e,a){const l=s.clone().set(e);scrollTo(c.byIndex(l.get(),a))}}}(Ce,je,Ne,Le,Oe,Ae,p),$e=function ScrollProgress(e){const{max:s,length:a}=e;return{get:function get2(e){return a?(e-s)/-a:0}}}(be),Fe=EventStore(),Be=SlidesInView(s,a,p,_),{slideRegistry:ze}=function SlideRegistry(e,s,a,l,c,u){const{groupSlides:p}=c,{min:m,max:h}=l;return{slideRegistry:function createSlideRegistry(){const l=p(u),c=!e||"keepSnaps"===s;return 1===a.length?[u]:c?l:l.slice(m,h).map((e,s,a)=>{const l=!s,c=arrayIsLastIndex(a,s);return l?arrayFromNumber(arrayLast(a[0])+1):c?arrayFromNumber(arrayLastIndex(u)-arrayLast(a)[0]+1,arrayLast(a)[0]):e})}()}}(J,A,ye,xe,ue,Se),Ve=SlideFocus(e,a,ze,Ie,Le,Fe,p,$),Ue={ownerDocument:l,ownerWindow:c,eventHandler:p,containerRect:U,slideRects:H,animation:Ce,axis:q,dragHandler:DragHandler(q,e,l,c,Ae,DragTracker(q,c),Pe,Ce,Ie,Le,Oe,je,p,Y,N,k,E,.68,I),eventStore:Fe,percentOfView:Y,index:je,indexPrevious:Ne,limit:be,location:Pe,offsetLocation:Ee,previousLocation:Te,options:u,resizeHandler:ResizeHandler(s,p,c,a,q,L,z),scrollBody:Le,scrollBounds:ScrollBounds(be,Ee,Ae,Le,Y),scrollLooper:ScrollLooper(fe,be,Ee,[Pe,Ee,Te,Ae]),scrollProgress:$e,scrollSnapList:ye.map($e.get),scrollSnaps:ye,scrollTarget:Oe,scrollTo:Ie,slideLooper:SlideLooper(q,Z,fe,ae,le,me,ye,Ee,a),slideFocus:Ve,slidesHandler:SlidesHandler(s,p,O),slidesInView:Be,slideIndexes:Se,slideRegistry:ze,slidesToScroll:ue,target:Ae,translate:Translate(q,s)};return Ue}const af={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function OptionsHandler(e){function mergeOptions(e,s){return objectsMergeDeep(e,s||{})}const s={mergeOptions:mergeOptions,optionsAtMedia:function optionsAtMedia(s){const a=s.breakpoints||{},l=objectKeys(a).filter(s=>e.matchMedia(s).matches).map(e=>a[e]).reduce((e,s)=>mergeOptions(e,s),{});return mergeOptions(s,l)},optionsMediaQueries:function optionsMediaQueries(s){return s.map(e=>objectKeys(e.breakpoints||{})).reduce((e,s)=>e.concat(s),[]).map(e.matchMedia)}};return s}function EmblaCarousel(e,s,a){const l=e.ownerDocument,c=l.defaultView,u=OptionsHandler(c),p=function PluginsHandler(e){let s=[];const a={init:function init(a,l){return s=l.filter(({options:s})=>!1!==e.optionsAtMedia(s).active),s.forEach(s=>s.init(a,e)),l.reduce((e,s)=>Object.assign(e,{[s.name]:s}),{})},destroy:function destroy(){s=s.filter(e=>e.destroy())}};return a}(u),m=EventStore(),h=function EventHandler(){let e,s={};function getListeners(e){return s[e]||[]}const a={init:function init(s){e=s},emit:function emit(s){return getListeners(s).forEach(a=>a(e,s)),a},off:function off(e,l){return s[e]=getListeners(e).filter(e=>e!==l),a},on:function on(e,l){return s[e]=getListeners(e).concat([l]),a},clear:function clear(){s={}}};return a}(),{mergeOptions:f,optionsAtMedia:g,optionsMediaQueries:b}=u,{on:j,off:N,emit:k}=h,_=reActivate;let T,E,A,L,O=!1,I=f(af,EmblaCarousel.globalOptions),$=f(I),z=[];function createEngine(s){const a=Engine(e,A,L,l,c,s,h);if(s.loop&&!a.slideLooper.canLoop()){return createEngine(Object.assign({},s,{loop:!1}))}return a}function activate(s,a){O||(I=f(I,s),$=g(I),z=a||z,function storeElements(){const{container:s,slides:a}=$,l=isString$2(s)?e.querySelector(s):s;A=l||e.children[0];const c=isString$2(a)?A.querySelectorAll(a):a;L=[].slice.call(c||A.children)}(),T=createEngine($),b([I,...z.map(({options:e})=>e)]).forEach(e=>m.add(e,"change",reActivate)),$.active&&(T.translate.to(T.location.get()),T.animation.init(),T.slidesInView.init(),T.slideFocus.init(U),T.eventHandler.init(U),T.resizeHandler.init(U),T.slidesHandler.init(U),T.options.loop&&T.slideLooper.loop(),A.offsetParent&&L.length&&T.dragHandler.init(U),E=p.init(U,z)))}function reActivate(e,s){const a=selectedScrollSnap();deActivate(),activate(f({startIndex:a},e),s),h.emit("reInit")}function deActivate(){T.dragHandler.destroy(),T.eventStore.clear(),T.translate.clear(),T.slideLooper.clear(),T.resizeHandler.destroy(),T.slidesHandler.destroy(),T.slidesInView.destroy(),T.animation.destroy(),p.destroy(),m.clear()}function scrollTo(e,s,a){$.active&&!O&&(T.scrollBody.useBaseFriction().useDuration(!0===s?0:$.duration),T.scrollTo.index(e,a||0))}function selectedScrollSnap(){return T.index.get()}const U={canScrollNext:function canScrollNext(){return T.index.add(1).get()!==selectedScrollSnap()},canScrollPrev:function canScrollPrev(){return T.index.add(-1).get()!==selectedScrollSnap()},containerNode:function containerNode(){return A},internalEngine:function internalEngine(){return T},destroy:function destroy(){O||(O=!0,m.clear(),deActivate(),h.emit("destroy"),h.clear())},off:N,on:j,emit:k,plugins:function plugins(){return E},previousScrollSnap:function previousScrollSnap(){return T.indexPrevious.get()},reInit:_,rootNode:function rootNode(){return e},scrollNext:function scrollNext(e){scrollTo(T.index.add(1).get(),e,-1)},scrollPrev:function scrollPrev(e){scrollTo(T.index.add(-1).get(),e,1)},scrollProgress:function scrollProgress(){return T.scrollProgress.get(T.offsetLocation.get())},scrollSnapList:function scrollSnapList(){return T.scrollSnapList},scrollTo:scrollTo,selectedScrollSnap:selectedScrollSnap,slideNodes:function slideNodes(){return L},slidesInView:function slidesInView(){return T.slidesInView.get()},slidesNotInView:function slidesNotInView(){return T.slidesInView.get(!1)}};return activate(s,a),setTimeout(()=>h.emit("init"),0),U}function useEmblaCarousel(e={},s=[]){const a=re.useRef(e),l=re.useRef(s),[c,u]=re.useState(),[p,m]=re.useState(),h=re.useCallback(()=>{c&&c.reInit(a.current,l.current)},[c]);return re.useEffect(()=>{areOptionsEqual(a.current,e)||(a.current=e,h())},[e,h]),re.useEffect(()=>{(function arePluginsEqual(e,s){if(e.length!==s.length)return!1;const a=sortAndMapPluginToOptions(e),l=sortAndMapPluginToOptions(s);return a.every((e,s)=>areOptionsEqual(e,l[s]))})(l.current,s)||(l.current=s,h())},[s,h]),re.useEffect(()=>{if(function canUseDOM$1(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}()&&p){EmblaCarousel.globalOptions=useEmblaCarousel.globalOptions;const e=EmblaCarousel(p,a.current,l.current);return u(e),()=>e.destroy()}u(void 0)},[p,u]),[m,c]}EmblaCarousel.globalOptions=void 0,useEmblaCarousel.globalOptions=void 0;const of=[{type:"Houses",image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=600&fit=crop",listingType:"sale"},{type:"Apartments",image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&h=600&fit=crop",listingType:"sale"},{type:"Townhouses",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",listingType:"sale"},{type:"Office Spaces",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop",listingType:"sale"},{type:"Shops",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop",listingType:"sale"},{type:"Penthouses",image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=600&fit=crop",listingType:"sale"},{type:"Apartments",image:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800&h=600&fit=crop",listingType:"rent"},{type:"Houses",image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=800&h=600&fit=crop",listingType:"rent"},{type:"Townhouses",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",listingType:"rent"},{type:"Studios",image:"https://images.unsplash.com/photo-1536376072261-38c75010e6c9?w=800&h=600&fit=crop",listingType:"rent"},{type:"Ready to Move",image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop",listingType:"developments"},{type:"New Launch",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop",listingType:"developments"},{type:"Affordable Housing",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop",listingType:"developments"},{type:"Luxury Projects",image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&h=600&fit=crop",listingType:"developments"}],lf=["Cape Town","Johannesburg","Durban","Pretoria","Bloemfontein","Gqeberha","Polokwane","Kimberley","Mbombela","Mahikeng"];function DiscoverProperties({initialCity:e,availableCities:s,title:a,subtitle:l,locationName:c="South Africa"}={}){const p=`Discover Properties in ${c}`,m=`Explore property sales, rentals, and new developments across ${c}${c.endsWith("s")?"'":"'s"} most vibrant locations.`,h=a||p,f=l||m,[g,b]=re.useState(e||"Cape Town"),j=s||lf,[N,k]=re.useState("sale"),[_,T]=re.useState(!0),[E,A]=re.useState(!1),[L,O]=re.useState(!1),[I,$]=useEmblaCarousel({align:"start",slidesToScroll:1,containScroll:"trimSnaps"}),z=re.useCallback(()=>{$&&$.scrollPrev()},[$]),U=re.useCallback(()=>{$&&$.scrollNext()},[$]),H=of.filter(e=>e.listingType===N);return u.jsx("div",{className:"py-16 bg-gradient-to-b from-white to-muted/20",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-4 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:h}),u.jsx("p",{className:"text-muted-foreground text-base max-w-2xl",children:f})]}),u.jsx("div",{className:"flex justify-start mb-10",children:u.jsx("div",{className:"inline-flex flex-wrap justify-start gap-2 bg-white/80 backdrop-blur-sm p-2 rounded-2xl shadow-lg border border-slate-200/60 h-auto",children:j.map(e=>u.jsx("button",{onClick:()=>b(e),className:`\n                  px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300\n                  ${g===e?"bg-gradient-to-r from-[#2774AE] to-[#2D68C4] text-white shadow-lg scale-105":"text-slate-600 hover:text-[#2774AE] hover:bg-blue-50/50"}\n                `,children:e},e))})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"rounded-2xl border border-slate-200 shadow-xl bg-white overflow-hidden h-full flex flex-col",children:[u.jsxs("div",{className:"border-b border-slate-100",children:[u.jsxs("button",{onClick:()=>{T(!_),_||(k("sale"),A(!1),O(!1))},className:"w-full p-4 flex items-center justify-between transition-all duration-300 "+(_?"bg-blue-50/80 text-blue-700":"hover:bg-slate-50 text-slate-700"),children:[u.jsx("span",{className:"font-bold text-base",children:"Properties for Sale"}),u.jsx("div",{className:"rounded-full p-1 transition-colors "+(_?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-400 group-hover:bg-slate-200"),children:u.jsx(Fa,{className:"h-4 w-4 transition-transform duration-300 "+(_?"rotate-90":"")})})]}),u.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out "+(_?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:u.jsxs("div",{className:"px-5 pb-5 pt-2 bg-blue-50/30",children:[u.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed mb-5",children:["Find your dream home in ",g,". From affordable apartments to premium family houses, explore properties that match your budget and lifestyle."]}),u.jsxs("a",{href:"/properties?action=sale",className:"text-sm font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1 transition-colors group",children:["View Sale Listings",u.jsx(Fa,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})})]}),u.jsxs("div",{className:"border-b border-slate-100",children:[u.jsxs("button",{onClick:()=>{A(!E),E||(k("rent"),T(!1),O(!1))},className:"w-full p-4 flex items-center justify-between transition-all duration-300 "+(E?"bg-blue-50/80 text-blue-700":"hover:bg-slate-50 text-slate-700"),children:[u.jsx("span",{className:"font-bold text-base",children:"Properties for Rent"}),u.jsx("div",{className:"rounded-full p-1 transition-colors "+(E?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-400 group-hover:bg-slate-200"),children:u.jsx(Fa,{className:"h-4 w-4 transition-transform duration-300 "+(E?"rotate-90":"")})})]}),u.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out "+(E?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:u.jsxs("div",{className:"px-5 pb-5 pt-2 bg-blue-50/30",children:[u.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed mb-5",children:["Searching for a rental in ",g,"? Browse our selection of apartments, garden cottages, and corporate rentals available now."]}),u.jsxs("a",{href:"/properties?action=rent",className:"text-sm font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1 transition-colors group",children:["View Rental Listings",u.jsx(Fa,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})})]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>{O(!L),L||(k("developments"),T(!1),A(!1))},className:"w-full p-4 flex items-center justify-between transition-all duration-300 "+(L?"bg-blue-50/80 text-blue-700":"hover:bg-slate-50 text-slate-700"),children:[u.jsx("span",{className:"font-bold text-base",children:"New Developments"}),u.jsx("div",{className:"rounded-full p-1 transition-colors "+(L?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-400 group-hover:bg-slate-200"),children:u.jsx(Fa,{className:"h-4 w-4 transition-transform duration-300 "+(L?"rotate-90":"")})})]}),u.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out "+(L?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:u.jsxs("div",{className:"px-5 pb-5 pt-2 bg-blue-50/30",children:[u.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed mb-5",children:["Invest in the future with new developments in ",g,". Explore off-plan opportunities and brand new estates."]}),u.jsxs("a",{href:"/developments",className:"text-sm font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1 transition-colors group",children:["View Developments",u.jsx(Fa,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})})]})]})}),u.jsxs("div",{className:"lg:col-span-9 relative group/carousel",children:[u.jsx("div",{className:"overflow-hidden rounded-2xl shadow-xl ring-1 ring-black/5",ref:I,children:u.jsx("div",{className:"flex gap-6 pl-4 py-1",children:H.map((e,s)=>u.jsx("div",{className:"flex-[0_0_90%] min-w-0 sm:flex-[0_0_48%] lg:flex-[0_0_32%]",onClick:()=>((e,s)=>{if("developments"===s){const s={"Ready to Move":"ready_to_move","New Launch":"new_launch","Affordable Housing":"affordable","Luxury Projects":"luxury"}[e]||"";window.location.href="/developments"+(s?`?type=${s}`:"")}else{const a="sale"===s?"sale":"rent",l=g.toLowerCase().replace(/\s+/g,"-"),c=kp[l];let u="";u=c?`/${c}/${l}?listingType=${a}`:`/properties?city=${g}&listingType=${a}`,e&&"All"!==e&&(u+=`&propertyType=${e.toLowerCase().replace(/\s+/g,"-")}`),window.location.href=u}})(e.type,e.listingType),children:u.jsxs("div",{className:"relative h-[360px] rounded-xl overflow-hidden group cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500 bg-slate-900 border border-slate-800",children:[u.jsx("img",{src:e.image,alt:e.type,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 opacity-90 group-hover:opacity-100"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-300"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[u.jsx("div",{className:"w-12 h-1 bg-blue-500 mb-4 rounded-full transform origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-500 delay-100"}),u.jsx("div",{className:"flex items-center gap-2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-75 transform -translate-y-2 group-hover:translate-y-0",children:u.jsx("span",{className:"bg-blue-600 text-white text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider",children:"Explore"})}),u.jsx("h3",{className:"text-2xl font-bold mb-2 text-white group-hover:text-blue-50 transition-colors",children:e.type}),u.jsxs("p",{className:"text-sm text-slate-300 font-medium flex items-center gap-2",children:[u.jsx("span",{className:"bg-white/10 backdrop-blur-md px-2 py-1 rounded text-xs uppercase tracking-wider border border-white/10",children:"sale"===N?"For Sale":"rent"===N?"For Rent":"New Development"}),u.jsxs("span",{className:"text-slate-300 opacity-80 group-hover:opacity-100 transition-opacity",children:["in ",g]})]})]})]})},s))})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full h-12 w-12 shadow-xl z-20 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-slate-900 hover:text-blue-600 border border-slate-200 hidden md:flex",onClick:z,children:u.jsx(Ra,{className:"h-6 w-6"})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full h-12 w-12 shadow-xl z-20 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-slate-900 hover:text-blue-600 border border-slate-200 hidden md:flex",onClick:U,children:u.jsx(Fa,{className:"h-6 w-6"})})]})]})]})})}const cf={"Cape Town":[{name:"Camps Bay",city:"Cape Town",rating:4.8,reviews:35,avgSalePrice:65200,avgRental:420,propertiesForSale:1540,propertiesForRent:2890},{name:"Sea Point",city:"Cape Town",rating:4.6,reviews:28,avgSalePrice:42300,avgRental:310,propertiesForSale:2650,propertiesForRent:4120},{name:"Constantia",city:"Cape Town",rating:4.7,reviews:24,avgSalePrice:38900,avgRental:290,propertiesForSale:1980,propertiesForRent:2340},{name:"Claremont",city:"Cape Town",rating:4.5,reviews:20,avgSalePrice:35400,avgRental:265,propertiesForSale:2340,propertiesForRent:3560}],Johannesburg:[{name:"Sandton",city:"Johannesburg",rating:4.6,reviews:22,avgSalePrice:46100,avgRental:285,propertiesForSale:3276,propertiesForRent:4130},{name:"Rosebank",city:"Johannesburg",rating:4.5,reviews:18,avgSalePrice:34650,avgRental:245,propertiesForSale:2208,propertiesForRent:3845},{name:"Fourways",city:"Johannesburg",rating:4.4,reviews:15,avgSalePrice:33100,avgRental:220,propertiesForSale:2165,propertiesForRent:4311},{name:"Midrand",city:"Johannesburg",rating:4.3,reviews:12,avgSalePrice:30100,avgRental:195,propertiesForSale:1890,propertiesForRent:3200}],Durban:[{name:"Umhlanga",city:"Durban",rating:4.6,reviews:21,avgSalePrice:35600,avgRental:260,propertiesForSale:2340,propertiesForRent:3120},{name:"Ballito",city:"Durban",rating:4.5,reviews:18,avgSalePrice:28200,avgRental:220,propertiesForSale:1890,propertiesForRent:2450},{name:"La Lucia",city:"Durban",rating:4.4,reviews:15,avgSalePrice:32400,avgRental:245,propertiesForSale:1560,propertiesForRent:2120},{name:"Durban North",city:"Durban",rating:4.2,reviews:12,avgSalePrice:24800,avgRental:185,propertiesForSale:2670,propertiesForRent:3890}],Pretoria:[{name:"Waterkloof",city:"Pretoria",rating:4.7,reviews:19,avgSalePrice:38500,avgRental:270,propertiesForSale:1450,propertiesForRent:1890},{name:"Menlyn",city:"Pretoria",rating:4.4,reviews:16,avgSalePrice:28900,avgRental:215,propertiesForSale:2890,propertiesForRent:3450},{name:"Centurion",city:"Pretoria",rating:4.3,reviews:14,avgSalePrice:26400,avgRental:190,propertiesForSale:3120,propertiesForRent:4230},{name:"Brooklyn",city:"Pretoria",rating:4.5,reviews:17,avgSalePrice:32100,avgRental:240,propertiesForSale:1780,propertiesForRent:2560}],Bloemfontein:[{name:"Westdene",city:"Bloemfontein",rating:4.3,reviews:11,avgSalePrice:18500,avgRental:120,propertiesForSale:890,propertiesForRent:1120},{name:"Langenhovenpark",city:"Bloemfontein",rating:4.4,reviews:9,avgSalePrice:22300,avgRental:145,propertiesForSale:720,propertiesForRent:980},{name:"Bayswater",city:"Bloemfontein",rating:4.2,reviews:8,avgSalePrice:16800,avgRental:110,propertiesForSale:560,propertiesForRent:780},{name:"Pellissier",city:"Bloemfontein",rating:4.1,reviews:7,avgSalePrice:15200,avgRental:95,propertiesForSale:480,propertiesForRent:650}],Gqeberha:[{name:"Summerstrand",city:"Gqeberha",rating:4.5,reviews:14,avgSalePrice:24500,avgRental:165,propertiesForSale:1120,propertiesForRent:1450},{name:"Walmer",city:"Gqeberha",rating:4.3,reviews:12,avgSalePrice:21800,avgRental:145,propertiesForSale:980,propertiesForRent:1280},{name:"Mill Park",city:"Gqeberha",rating:4.4,reviews:10,avgSalePrice:26200,avgRental:175,propertiesForSale:720,propertiesForRent:890},{name:"Newton Park",city:"Gqeberha",rating:4.2,reviews:9,avgSalePrice:18900,avgRental:125,propertiesForSale:1340,propertiesForRent:1780}],Polokwane:[{name:"Bendor",city:"Polokwane",rating:4.3,reviews:8,avgSalePrice:16200,avgRental:95,propertiesForSale:560,propertiesForRent:720},{name:"Flora Park",city:"Polokwane",rating:4.2,reviews:7,avgSalePrice:14800,avgRental:85,propertiesForSale:480,propertiesForRent:620},{name:"Ivydale",city:"Polokwane",rating:4.1,reviews:6,avgSalePrice:12500,avgRental:75,propertiesForSale:340,propertiesForRent:450},{name:"Sterpark",city:"Polokwane",rating:4,reviews:5,avgSalePrice:11200,avgRental:70,propertiesForSale:290,propertiesForRent:380}],Kimberley:[{name:"Hadison Park",city:"Kimberley",rating:4.2,reviews:6,avgSalePrice:12800,avgRental:75,propertiesForSale:320,propertiesForRent:420},{name:"Diamond Park",city:"Kimberley",rating:4.1,reviews:5,avgSalePrice:11500,avgRental:68,propertiesForSale:280,propertiesForRent:360},{name:"Royldene",city:"Kimberley",rating:4,reviews:4,avgSalePrice:10200,avgRental:62,propertiesForSale:240,propertiesForRent:310},{name:"Monument Heights",city:"Kimberley",rating:4.3,reviews:7,avgSalePrice:14500,avgRental:85,propertiesForSale:180,propertiesForRent:220}],Mbombela:[{name:"West Acres",city:"Mbombela",rating:4.3,reviews:9,avgSalePrice:18500,avgRental:110,propertiesForSale:620,propertiesForRent:780},{name:"Sonheuwel",city:"Mbombela",rating:4.2,reviews:8,avgSalePrice:16800,avgRental:98,propertiesForSale:540,propertiesForRent:680},{name:"White River",city:"Mbombela",rating:4.4,reviews:10,avgSalePrice:22400,avgRental:135,propertiesForSale:480,propertiesForRent:590},{name:"Riverside Park",city:"Mbombela",rating:4.1,reviews:7,avgSalePrice:15200,avgRental:88,propertiesForSale:380,propertiesForRent:460}],Mahikeng:[{name:"Riviera Park",city:"Mahikeng",rating:4.1,reviews:5,avgSalePrice:11800,avgRental:68,propertiesForSale:280,propertiesForRent:350},{name:"Imperial Reserve",city:"Mahikeng",rating:4.2,reviews:6,avgSalePrice:13500,avgRental:78,propertiesForSale:240,propertiesForRent:310},{name:"Golf View",city:"Mahikeng",rating:4,reviews:4,avgSalePrice:10200,avgRental:60,propertiesForSale:180,propertiesForRent:230},{name:"Signal Hill",city:"Mahikeng",rating:4.1,reviews:5,avgSalePrice:12200,avgRental:72,propertiesForSale:220,propertiesForRent:280}]},df=["Cape Town","Johannesburg","Durban","Pretoria","Bloemfontein","Gqeberha","Polokwane","Kimberley","Mbombela","Mahikeng"];function TopLocalities({title:e,subtitle:s,locationName:a="South Africa"}={}){const[l,c]=re.useState("Cape Town"),p=`Top Localities in ${a}`,m=`Discover ${a}${a.endsWith("s")?"'":"'s"} best localities known for liveability, infrastructure, and connectivity. Explore top neighbourhoods offering insights on new construction, rental trends, and average prices.`,h=e||p,f=s||m,[g,b]=useEmblaCarousel({align:"start",slidesToScroll:1,containScroll:"trimSnaps"}),j=re.useCallback(()=>{b&&b.scrollPrev()},[b]),N=re.useCallback(()=>{b&&b.scrollNext()},[b]),k=cf[l]||[],_={"Cape Town":"western-cape",Johannesburg:"gauteng",Durban:"kwazulu-natal",Pretoria:"gauteng",Bloemfontein:"free-state",Gqeberha:"eastern-cape",Polokwane:"limpopo",Kimberley:"northern-cape",Mbombela:"mpumalanga",Mahikeng:"north-west"},getCitySlug=e=>e.toLowerCase().replace(/\s+/g,"-"),getProvinceSlug=e=>_[e]||"properties";return u.jsx("div",{className:"py-16 bg-muted/30",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:h}),u.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:f})]}),u.jsx("div",{className:"flex justify-start mb-10",children:u.jsx("div",{className:"inline-flex flex-wrap justify-start gap-2 bg-white/80 backdrop-blur-sm p-2 rounded-2xl shadow-lg border border-slate-200/60 h-auto",children:df.map(e=>u.jsx("button",{onClick:()=>c(e),className:`\n                  px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300\n                  ${l===e?"bg-gradient-to-r from-[#2774AE] to-[#2D68C4] text-white shadow-lg scale-105":"text-slate-600 hover:text-[#2774AE] hover:bg-blue-50/50"}\n                `,children:e},e))})}),u.jsxs("div",{className:"relative group/carousel",children:[u.jsx("div",{className:"overflow-hidden rounded-xl",ref:g,children:u.jsx("div",{className:"flex gap-6",children:k.map((e,s)=>{const a=`/${getProvinceSlug(e.city)}/${getCitySlug(e.city)}/${e.name.toLowerCase().replace(/\s+/g,"-")}`;return u.jsx("div",{className:"flex-[0_0_100%] min-w-0 sm:flex-[0_0_50%] lg:flex-[0_0_33.333%]",children:u.jsx(ea,{className:"hover:shadow-xl transition-all duration-300 border-0 bg-white/50 backdrop-blur-sm group h-full",children:u.jsxs(sa,{className:"p-6",children:[u.jsx(rc,{href:a,children:u.jsxs("div",{className:"flex items-start gap-4 mb-6 cursor-pointer",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center flex-shrink-0 shadow-lg shadow-teal-500/20 group-hover:scale-110 transition-transform duration-300",children:u.jsx(lo,{className:"h-8 w-8 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-900 group-hover:text-blue-600 transition-colors",children:e.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-0.5 rounded-md border border-yellow-100",children:[u.jsx(sl,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),u.jsx("span",{className:"font-bold text-yellow-700",children:e.rating})]}),u.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",e.reviews," Reviews)"]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 p-4 bg-gray-50/80 rounded-xl border border-gray-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1 font-medium uppercase tracking-wide",children:"Avg. Sale Price"}),u.jsxs("p",{className:"font-bold text-gray-900",children:["R ",e.avgSalePrice.toLocaleString(),u.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"/m"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1 font-medium uppercase tracking-wide",children:"Avg. Rental"}),u.jsxs("p",{className:"font-bold text-gray-900",children:["R ",e.avgRental,u.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"/m"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(rc,{href:`${a}?listingType=sale`,className:"flex items-center justify-between p-3 rounded-xl bg-white border border-gray-100 hover:border-blue-200 hover:shadow-md transition-all group/link",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-sm text-gray-900 group-hover/link:text-blue-600 transition-colors",children:[e.propertiesForSale.toLocaleString()," Properties for Sale"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["in ",e.name]})]}),u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-50 flex items-center justify-center group-hover/link:bg-blue-50 transition-colors",children:u.jsx(pa,{className:"h-4 w-4 text-gray-400 group-hover/link:text-blue-600 group-hover/link:translate-x-0.5 transition-all"})})]}),u.jsxs(rc,{href:`${a}?listingType=rent`,className:"flex items-center justify-between p-3 rounded-xl bg-white border border-gray-100 hover:border-blue-200 hover:shadow-md transition-all group/link",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-sm text-gray-900 group-hover/link:text-blue-600 transition-colors",children:[e.propertiesForRent.toLocaleString()," Properties for Rent"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["in ",e.name]})]}),u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-50 flex items-center justify-center group-hover/link:bg-blue-50 transition-colors",children:u.jsx(pa,{className:"h-4 w-4 text-gray-400 group-hover/link:text-blue-600 group-hover/link:translate-x-0.5 transition-all"})})]})]})]})})},s)})})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 rounded-full shadow-lg z-10 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-blue-900",onClick:j,children:u.jsx(Ra,{className:"h-5 w-5"})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 rounded-full shadow-lg z-10 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-blue-900",onClick:N,children:u.jsx(Fa,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"mt-8 text-center md:text-left",children:u.jsxs(rc,{href:`/${getProvinceSlug(l)}/${getCitySlug(l)}`,className:"inline-flex items-center gap-2 text-blue-600 font-semibold hover:text-blue-700 hover:underline transition-colors",children:["View all localities in ",l,u.jsx(pa,{className:"h-4 w-4"})]})})]})})}function Skeleton({className:e}){return u.jsx("div",{className:cn("animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",e)})}const uf=re.createContext(null);function useCarousel(){const e=re.useContext(uf);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function Carousel({orientation:e="horizontal",opts:s,setApi:a,plugins:l,className:c,children:p,...m}){const[h,f]=useEmblaCarousel({...s,axis:"horizontal"===e?"x":"y"},l),[g,b]=re.useState(!1),[j,N]=re.useState(!1),k=re.useCallback(e=>{e&&(b(e.canScrollPrev()),N(e.canScrollNext()))},[]),_=re.useCallback(()=>{f?.scrollPrev()},[f]),T=re.useCallback(()=>{f?.scrollNext()},[f]),E=re.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),_()):"ArrowRight"===e.key&&(e.preventDefault(),T())},[_,T]);return re.useEffect(()=>{f&&a&&a(f)},[f,a]),re.useEffect(()=>{if(f)return k(f),f.on("reInit",k),f.on("select",k),()=>{f?.off("select",k)}},[f,k]),u.jsx(uf.Provider,{value:{carouselRef:h,api:f,opts:s,orientation:e||("y"===s?.axis?"vertical":"horizontal"),scrollPrev:_,scrollNext:T,canScrollPrev:g,canScrollNext:j},children:u.jsx("div",{onKeyDownCapture:E,className:cn("relative",c),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...m,children:p})})}function CarouselContent({className:e,...s}){const{carouselRef:a,orientation:l}=useCarousel();return u.jsx("div",{ref:a,className:"overflow-hidden","data-slot":"carousel-content",children:u.jsx("div",{className:cn("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",e),...s})})}function CarouselItem({className:e,...s}){const{orientation:a}=useCarousel();return u.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:cn("min-w-0 shrink-0 grow-0 basis-full","horizontal"===a?"pl-4":"pt-4",e),...s})}function CarouselPrevious({className:e,variant:s="outline",size:a="icon",...l}){const{orientation:c,scrollPrev:p,canScrollPrev:m}=useCarousel();return u.jsxs(Button$1,{"data-slot":"carousel-previous",variant:s,size:a,className:cn("absolute size-8 rounded-full","horizontal"===c?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!m,onClick:p,...l,children:[u.jsx(ua,{}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function CarouselNext({className:e,variant:s="outline",size:a="icon",...l}){const{orientation:c,scrollNext:p,canScrollNext:m}=useCarousel();return u.jsxs(Button$1,{"data-slot":"carousel-next",variant:s,size:a,className:cn("absolute size-8 rounded-full","horizontal"===c?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!m,onClick:p,...l,children:[u.jsx(pa,{}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})}function TopDevelopers(){const[,e]=useLocation(),{data:s,isLoading:a}=At.brandProfile.listBrandProfiles.useQuery({isVisible:!0,limit:12});return a||s&&0!==s.length?u.jsx("section",{className:"py-fluid-xl bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-fluid-h2 font-bold mb-3 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Top Developers in South Africa"}),u.jsx("p",{className:"text-slate-600 text-fluid-h4 max-w-4xl",children:"In real estate, the builder you choose makes a genuine difference. Our list of top developers features names that are industry leaders in customer satisfaction, design, and timely delivery. These brands have shaped the skyline with thoughtful living spaces. Know who's building your future before you invest."})]}),a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,s)=>u.jsx(ea,{className:"border-slate-200",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsx(Skeleton,{className:"w-20 h-20 rounded-xl"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Skeleton,{className:"h-5 w-3/4"}),u.jsx(Skeleton,{className:"h-4 w-1/2"})]})]}),u.jsx(Skeleton,{className:"h-20 w-full mb-4"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Skeleton,{className:"h-10 w-full"}),u.jsx(Skeleton,{className:"h-10 w-full"}),u.jsx(Skeleton,{className:"h-10 w-full"})]})]})},s))}):u.jsx("div",{className:"relative group/carousel",children:u.jsxs(Carousel,{opts:{align:"start",loop:!1},className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-6",children:s?.map(s=>u.jsx(CarouselItem,{className:"pl-6 md:basis-1/2 lg:basis-1/3",children:u.jsx(ea,{className:"h-full border border-slate-200 hover:border-slate-300 transition-colors bg-white rounded-xl shadow-sm hover:shadow-md",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-white border border-slate-100 rounded-lg p-2 flex items-center justify-center",children:s.logoUrl?u.jsx("img",{src:s.logoUrl,alt:s.brandName,className:"max-w-full max-h-full object-contain"}):u.jsx(ka,{className:"h-8 w-8 text-slate-300"})}),u.jsxs("div",{className:"flex flex-col justify-center",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 leading-tight mb-1",children:s.brandName}),u.jsx("p",{className:"text-sm text-slate-500 font-medium",children:s.headOfficeLocation||"South Africa"})]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-2xl font-bold text-slate-900",children:s.stats?.totalProjects||0}),u.jsx("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide",children:"Total Projects"})]}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsx("span",{className:"text-2xl font-bold text-slate-900",children:s.stats?.experience||0}),u.jsx("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide",children:"Experience"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:bg-slate-50 group transition-colors",onClick:()=>e(`/developer/${s.slug}?status=ready-to-move`),children:[u.jsxs("span",{className:"text-slate-700 font-medium",children:["Ready to Move (",s.stats?.readyToMove||0,")"]}),u.jsx(Fa,{className:"h-4 w-4 text-slate-400 group-hover:text-slate-600"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:bg-slate-50 group transition-colors",onClick:()=>e(`/developer/${s.slug}?status=under-construction`),children:[u.jsxs("span",{className:"text-slate-700 font-medium",children:["Under Construction (",s.stats?.underConstruction||0,")"]}),u.jsx(Fa,{className:"h-4 w-4 text-slate-400 group-hover:text-slate-600"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:bg-slate-50 group transition-colors",onClick:()=>e(`/developer/${s.slug}?status=new-launch`),children:[u.jsxs("span",{className:"text-slate-700 font-medium",children:["New Launch (",s.stats?.newLaunch||0,")"]}),u.jsx(Fa,{className:"h-4 w-4 text-slate-400 group-hover:text-slate-600"})]})]})]})})},s.id))}),u.jsx(CarouselPrevious,{className:"hidden md:flex -left-4 bg-white shadow-md border-slate-200 text-slate-600 hover:text-slate-900"}),u.jsx(CarouselNext,{className:"hidden md:flex -right-4 bg-white shadow-md border-slate-200 text-slate-600 hover:text-slate-900"})]})}),u.jsx("div",{className:"mt-8",children:u.jsxs(Button$1,{variant:"link",onClick:()=>e("/developers"),className:"text-slate-900 font-bold hover:no-underline p-0 flex items-center gap-2 text-base",children:["View All Developers in South Africa",u.jsx(pa,{className:"h-5 w-5"})]})})]})}):null}function ExploreCities({provinceSlug:e,title:s,description:a,customLocations:l,basePath:c="/property-for-sale",queryParams:p="",initialLimit:m=12}={}){const[h,f]=re.useState(m),g=[{name:"Johannesburg",province:"Gauteng",slug:"johannesburg",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1577948000111-9c9707350061?w=800&q=80",propertyCount:"24,500+ Properties"},{name:"Pretoria",province:"Gauteng",slug:"pretoria",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1624638760980-cb05d15a5198?w=800&q=80",propertyCount:"9,800+ Properties"},{name:"Sandton",province:"Gauteng",slug:"sandton",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1576485290814-1c72aa4bbb8e?w=800&q=80",propertyCount:"6,300+ Properties"},{name:"Midrand",province:"Gauteng",slug:"midrand",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1575517111478-7f60e971579f?w=800&q=80",propertyCount:"4,100+ Properties"},{name:"Centurion",province:"Gauteng",slug:"centurion",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=800&q=80",propertyCount:"3,500+ Properties"},{name:"Randburg",province:"Gauteng",slug:"randburg",provinceSlug:"gauteng",image:"https://images.unsplash.com/photo-1628191011993-4350f555e09f?w=800&q=80",propertyCount:"2,950+ Properties"},{name:"Roodepoort",province:"Gauteng",slug:"roodepoort",provinceSlug:"gauteng",propertyCount:"2,800+ Properties"},{name:"Benoni",province:"Gauteng",slug:"benoni",provinceSlug:"gauteng",propertyCount:"2,400+ Properties"},{name:"Boksburg",province:"Gauteng",slug:"boksburg",provinceSlug:"gauteng",propertyCount:"2,200+ Properties"},{name:"Alberton",province:"Gauteng",slug:"alberton",provinceSlug:"gauteng",propertyCount:"2,100+ Properties"},{name:"Kempton Park",province:"Gauteng",slug:"kempton-park",provinceSlug:"gauteng",propertyCount:"1,900+ Properties"},{name:"Soweto",province:"Gauteng",slug:"soweto",provinceSlug:"gauteng",propertyCount:"1,500+ Properties"},{name:"Cape Town",province:"Western Cape",slug:"cape-town",provinceSlug:"western-cape",image:"https://images.unsplash.com/photo-1580060839134-75a5edca2e99?w=800&q=80",propertyCount:"18,200+ Properties"},{name:"Durban",province:"KwaZulu-Natal",slug:"durban",provinceSlug:"kwazulu-natal",image:"https://images.unsplash.com/photo-1549297136-1c4b7b25055b?w=800&q=80",propertyCount:"12,400+ Properties"},{name:"Umhlanga",province:"KwaZulu-Natal",slug:"umhlanga",provinceSlug:"kwazulu-natal",image:"https://images.unsplash.com/photo-1516029272338-782f9c5220c8?w=800&q=80",propertyCount:"3,200+ Properties"},{name:"Stellenbosch",province:"Western Cape",slug:"stellenbosch",provinceSlug:"western-cape",image:"https://images.unsplash.com/photo-1518182170546-0766cac6cf66?w=800&q=80",propertyCount:"2,800+ Properties"},{name:"Gqeberha",province:"Eastern Cape",slug:"gqeberha",provinceSlug:"eastern-cape",image:"https://images.unsplash.com/photo-1577909384666-382559639556?w=800&q=80",propertyCount:"2,100+ Properties"},{name:"Bloemfontein",province:"Free State",slug:"bloemfontein",provinceSlug:"free-state",image:"https://images.unsplash.com/photo-1549487950-8b0933580434?w=800&q=80",propertyCount:"1,800+ Properties"}],b=void 0!==l?l:e?g.filter(s=>s.provinceSlug.toLowerCase()===e.toLowerCase()):g,j=b.slice(0,h),N=b.length-h,k=s||"Explore Real Estate in Popular Cities",_=a||"Browse properties in South Africa's most sought-after locations.";return u.jsx("section",{className:"py-12 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10 text-center md:text-left flex flex-col md:flex-row justify-between items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3 text-slate-900",children:k}),u.jsx("p",{className:"text-slate-500 text-lg max-w-3xl",children:_})]}),u.jsx(rc,{href:"/property-for-sale",children:u.jsxs(Button$1,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 font-medium group",children:["View All Locations"," ",u.jsx(Fa,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>u.jsx(rc,{href:`${c}/${e.provinceSlug}/${e.slug}${p}`.replace(/\/\//g,"/"),children:u.jsx("div",{className:"group cursor-pointer",children:u.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100",children:[u.jsxs("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm relative bg-slate-100",children:[e.image?u.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:u.jsx(_a,{className:"h-8 w-8"})}),u.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"})]}),u.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),e.propertyCount&&u.jsx("p",{className:"text-slate-500 text-sm mb-1 truncate",children:e.propertyCount}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[u.jsx(lo,{className:"h-3 w-3"}),u.jsx("span",{className:"truncate",children:e.province})]})]})]})})},e.slug))}),N>0&&u.jsx("div",{className:"mt-8 flex justify-center",children:u.jsxs(Button$1,{variant:"outline",onClick:()=>f(e=>e+12),className:"bg-white border-slate-200 hover:bg-slate-50 text-slate-600 min-w-[200px]",children:["Show More Locations (",N,")",u.jsx($a,{className:"ml-2 h-4 w-4"})]})})]})})}function PropertyCategories({preselectedLocation:e}){const[,s]=useLocation(),[a,l]=re.useState(null),[c,p]=re.useState(!1),[m,h]=re.useState(1),[f,g]=re.useState(null),[b,j]=re.useState(""),[N,k]=re.useState(""),[_,T]=re.useState(""),[E,A]=re.useState([]),{data:L}=At.properties.getFilterCounts.useQuery({filters:e?(()=>{let s={};return"province"===e.type?s={province:e.slug,listingType:"sale"}:"city"===e.type?s={province:e.provinceSlug,city:e.slug,listingType:"sale"}:"suburb"===e.type&&(s={province:e.provinceSlug,suburb:[e.slug],listingType:"sale"}),s})():{}},{enabled:!0,staleTime:3e5}),O=[{Icon:ka,title:"Apartments",count:L?.byPropertyType?.apartment||0,type:"apartment",gradient:"from-[#2774AE] to-[#2D68C4]"},{Icon:Bi,title:"Houses",count:L?.byPropertyType?.house||0,type:"house",gradient:"from-[#2D68C4] to-[#0F52BA]"},{Icon:_a,title:"Townhouses",count:L?.byPropertyType?.townhouse||0,type:"townhouse",gradient:"from-[#0F52BA] to-[#1560BD]"},{Icon:El,title:"Commercial",count:L?.byPropertyType?.commercial||0,type:"commercial",gradient:"from-[#1560BD] to-[#2774AE]"},{Icon:lo,title:"Land & Plots",count:L?.byPropertyType?.land||0,type:"land",gradient:"from-[#2774AE] to-[#2D68C4]"},{Icon:dl,title:"Farms",count:L?.byPropertyType?.farm||0,type:"farm",gradient:"from-[#2D68C4] to-[#0F52BA]"}],I=[{value:"500000",label:"R 500k"},{value:"1000000",label:"R 1m"},{value:"2000000",label:"R 2m"},{value:"3000000",label:"R 3m"},{value:"5000000",label:"R 5m"},{value:"10000000",label:"R 10m"}];return u.jsx("div",{className:"py-fluid-xl bg-gradient-to-b from-white via-slate-50/30 to-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-12",children:[u.jsx("h2",{className:"font-bold mb-4 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Explore Property Categories"}),u.jsx("p",{className:"text-slate-600 max-w-2xl leading-relaxed",children:"Find the perfect property type that suits your needs across South Africa"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 md:gap-6",children:O.map((s,a)=>u.jsxs("button",{onClick:()=>(s=>{l(s),A([]),j(""),k(""),T(""),e?(g({name:e.name,slug:e.slug,provinceSlug:e.provinceSlug}),h(2)):(g(null),h(1)),p(!0)})(s),className:"group relative flex flex-col items-center text-center p-6 md:p-8 rounded-2xl bg-white hover:bg-gradient-to-br hover:from-white hover:to-blue-50/30 shadow-sm hover:shadow-2xl transition-all duration-500 border border-slate-200/60 hover:border-[#2774AE]/30 overflow-hidden hover:-translate-y-1 w-full",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-0 group-hover:opacity-[0.03] transition-opacity duration-500`}),u.jsx("div",{className:`relative mb-4 p-4 md:p-5 rounded-2xl bg-gradient-to-br ${s.gradient} shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-500`,children:u.jsx(s.Icon,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),u.jsx("h3",{className:"relative text-sm md:text-base font-bold text-slate-900 mb-1.5 group-hover:text-[#2774AE] transition-colors",children:s.title}),u.jsx("p",{className:"relative text-xs md:text-sm text-slate-600 font-semibold bg-slate-100 px-3 py-1 rounded-full",children:s.count})]},a))}),u.jsx(Dialog,{open:c,onOpenChange:p,children:u.jsxs(DialogContent,{className:"sm:max-w-[425px]",children:[u.jsx(DialogHeader,{children:u.jsx(DialogTitle,{className:"text-center",children:1===m?u.jsxs("span",{className:"flex flex-col gap-2",children:[u.jsxs("span",{className:"text-xl",children:["Find ",a?.title]}),u.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Select a city or suburb"})]}):u.jsxs("span",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:"text-xl",children:"Refine your Search"}),u.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Looking for ",a?.title," in"," ",u.jsx("span",{className:"text-[#2774AE] font-medium",children:f?.name})]})]})})}),u.jsx("div",{className:"py-4",children:1===m?u.jsxs("div",{className:"space-y-4",children:[u.jsx(LocationAutosuggest,{onSelect:e=>{g(e),h(2)},placeholder:"e.g. Sandton, Cape Town...",className:"w-full",inputClassName:"h-12 text-base shadow-sm border-slate-200 focus:border-[#2774AE] focus:ring-[#2774AE]"}),u.jsx("div",{className:"text-center text-xs text-muted-foreground pt-4",children:"Please select a specific location to continue."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(Label$1,{children:"Bedrooms"}),u.jsx("div",{className:"flex gap-2",children:["Any","1+","2+","3+","4+"].map(e=>u.jsx("button",{onClick:()=>T("Any"===e?"":e.replace("+","")),className:cn("flex-1 py-2 text-sm rounded-md border transition-all","Any"===e&&!_||_===e.replace("+","")?"bg-[#2774AE] text-white border-[#2774AE]":"bg-white text-slate-600 border-slate-200 hover:border-[#2774AE]"),children:e},e))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Min Price"}),u.jsxs(Select$1,{value:b,onValueChange:j,children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"0",children:"No Min"}),I.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},`min-${e.value}`))]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Max Price"}),u.jsxs(Select$1,{value:N,onValueChange:k,children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[I.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},`max-${e.value}`)),u.jsx(SelectItem,{value:"20000000",children:"R 20m+"})]})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Label$1,{children:"Lifestyle & Features"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"pool",label:"Pool",icon:""},{id:"garden",label:"Garden",icon:""},{id:"pet_friendly",label:"Pet Friendly",icon:""},{id:"luxury",label:"Luxury Collection",icon:""}].map(e=>u.jsxs("button",{onClick:()=>{return s=e.id,void A(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:cn("flex items-center gap-2 px-3 py-2 text-sm rounded-md border transition-all text-left",E.includes(e.id)?"bg-blue-50 border-[#2774AE] text-[#2774AE] ring-1 ring-[#2774AE]":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"),children:[u.jsx("span",{children:e.icon}),e.label]},e.id))})]}),u.jsx(Button$1,{onClick:()=>{if(!a||!f)return;p(!1);let e="";e=f.slug&&f.provinceSlug?`/property-for-sale/${f.provinceSlug}/${f.slug}`:f.slug?`/property-for-sale/${f.slug}`:"/properties";const l=new URLSearchParams;l.set("propertyType",a.type),l.set("view","list"),b&&l.set("minPrice",b),N&&l.set("maxPrice",N),_&&l.set("minBedrooms",_),f.slug||l.set("location",f.name),E.length>0&&(l.set("amenities",E.join(",")),E.includes("luxury")&&!b&&l.set("minPrice","5000000")),s(`${e}?${l.toString()}`)},className:"w-full h-12 text-base font-semibold bg-[#2774AE] hover:bg-[#206498] mt-4",children:"View Properties"}),u.jsx("div",{className:"text-center",children:u.jsx("button",{onClick:()=>h(1),className:"text-sm text-slate-400 hover:text-slate-600",children:"Back to Location"})})]})})]})})]})})}function Footer$1(){return u.jsx("footer",{className:"bg-slate-900 text-slate-300 pt-16 pb-8",children:u.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),u.jsx("span",{className:"text-2xl font-bold text-white",children:"RealEstate"})]}),u.jsx("p",{className:"text-slate-400 leading-relaxed",children:"South Africa's fastest growing real estate platform. We make buying, selling, and renting properties simple and transparent."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:u.jsx(gi,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-400 hover:text-white transition-all",children:u.jsx(vl,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-pink-600 hover:text-white transition-all",children:u.jsx(Ui,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-700 hover:text-white transition-all",children:u.jsx(eo,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsx("li",{children:u.jsxs(rc,{href:"/",className:"hover:text-white transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"Home"]})}),u.jsx("li",{children:u.jsxs(rc,{href:"/properties",className:"hover:text-white transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"Search Properties"]})}),u.jsx("li",{children:u.jsxs(rc,{href:"/developments",className:"hover:text-white transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"New Developments"]})}),u.jsx("li",{children:u.jsxs(rc,{href:"/list-property",className:"hover:text-white transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"List Your Property"]})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Popular Locations"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsx("li",{children:u.jsx(rc,{href:"/gauteng/johannesburg",className:"hover:text-white transition-colors",children:"Johannesburg"})}),u.jsx("li",{children:u.jsx(rc,{href:"/western-cape/cape-town",className:"hover:text-white transition-colors",children:"Cape Town"})}),u.jsx("li",{children:u.jsx(rc,{href:"/kwazulu-natal/durban",className:"hover:text-white transition-colors",children:"Durban"})}),u.jsx("li",{children:u.jsx(rc,{href:"/gauteng/pretoria",className:"hover:text-white transition-colors",children:"Pretoria"})}),u.jsx("li",{children:u.jsx(rc,{href:"/gauteng/johannesburg/sandton",className:"hover:text-white transition-colors",children:"Sandton"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Contact Us"}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(lo,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-1"}),u.jsx("span",{children:"123 Real Estate Ave, Sandton, Johannesburg, 2196"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Eo,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),u.jsx("span",{children:"+27 10 123 4567"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(oo,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),u.jsx("span",{children:"hello@realestate.co.za"})]})]}),u.jsx("h4",{className:"text-white font-semibold mb-3",children:"Subscribe to our newsletter"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{placeholder:"Enter your email",className:"bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus-visible:ring-blue-500"}),u.jsx(Button$1,{size:"icon",className:"bg-blue-600 hover:bg-blue-700 shrink-0",children:u.jsx(Uo,{className:"h-4 w-4"})})]})]})]}),u.jsxs("div",{className:"pt-8 border-t border-slate-800 text-center md:text-left flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsx("p",{children:" 2025 Real Estate Portal. All rights reserved."}),u.jsxs("div",{className:"flex gap-6 text-sm",children:[u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})}function Home$1(){const[,e]=useLocation(),[s,a]=re.useState("Gauteng"),l=["Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Mpumalanga","Limpopo","North West","Free State","Northern Cape"],c=l.slice(0,5).map(e=>({label:e,path:`/${e.toLowerCase().replace(/\s+/g,"-")}`})),{data:p=[],isLoading:m}=At.developer.getPublishedDevelopments.useQuery({province:"Gauteng",limit:10}),{data:h=[],isLoading:f}=At.developer.getPublishedDevelopments.useQuery({province:"Western Cape",limit:10}),{data:g=[],isLoading:b}=At.developer.getPublishedDevelopments.useQuery({province:"KwaZulu-Natal",limit:10}),j={Gauteng:p,"Western Cape":h,"KwaZulu-Natal":g,"Eastern Cape":[],Mpumalanga:[],Limpopo:[],"North West":[],"Free State":[],"Northern Cape":[]};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(EnhancedNavbar,{}),u.jsx(EnhancedHero,{heroMode:"province",navigationItems:c}),u.jsx("div",{className:"py-fluid-xl bg-gradient-to-b from-slate-50/50 to-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-left mb-12",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-full px-4 py-2 mb-4",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-sm font-semibold text-red-700",children:"Trending Now"})]}),u.jsx("h2",{className:"font-bold mb-4 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"Hot Selling Residential Developments"}),u.jsx("p",{className:"text-slate-600 max-w-3xl leading-relaxed",children:"A handpicked collection of the country's most in-demand residential developments. These properties offer unmatched value in top cities with ideal locations, smart amenities, and trusted builders."})]}),u.jsxs(ef,{value:s,onValueChange:a,className:"w-full",children:[u.jsx("div",{className:"flex justify-start mb-10 overflow-x-auto pb-2 scrollbar-hide",children:u.jsx(tf,{className:"inline-flex flex-wrap justify-start gap-2 bg-white/80 backdrop-blur-sm p-2 rounded-2xl shadow-lg border border-slate-200/60 h-auto",children:l.map(e=>u.jsx(rf,{value:e,className:"px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 data-[state=inactive]:text-slate-600 data-[state=inactive]:hover:text-[#2774AE] data-[state=inactive]:hover:bg-blue-50/50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#2774AE] data-[state=active]:to-[#2D68C4] data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-105",children:e},e))})}),l.map(e=>u.jsx(nf,{value:e,className:"mt-0 animate-slide-up",children:j[e]&&j[e].length>0?u.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:j[e].map(e=>{const s=(e=>{if(!e)return[];let s=e;if("string"==typeof e)try{s=JSON.parse(e)}catch(a){return[]}return Array.isArray(s)?s.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&"url"in e?e.url:"").filter(Boolean):[]})(e.images),a=e.heroImage||s[0]||"";return u.jsx("div",{className:"flex-none w-[280px] sm:w-[300px] snap-center",children:u.jsx(SimpleDevelopmentCard,{id:e.id,title:e.name,city:e.city,suburb:e.suburb,priceRange:{min:e.priceFrom||0,max:e.priceTo||0},image:a,slug:e.slug,isHotSelling:e.isHotSelling,isHighDemand:e.isHighDemand})},e.id)})}):u.jsxs("div",{className:"text-left py-16 bg-gradient-to-br from-slate-50 to-blue-50/30 rounded-2xl border-2 border-dashed border-slate-300",children:[u.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-20 h-20 mb-4 flex items-center justify-center",children:u.jsx(ka,{className:"h-10 w-10 text-slate-400"})}),u.jsx("p",{className:"text-lg font-medium text-slate-700 mb-2",children:"No developments available"}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Check back soon for new listings in ",e]})]})},e))]}),u.jsx("div",{className:"text-left mt-10",children:u.jsxs(Button$1,{size:"lg",onClick:()=>{const a=s.toLowerCase().replace(/\s+/g,"-");e(`/${a}`)},className:"gap-2 h-12 px-8 bg-gradient-to-r from-[#2774AE] to-[#2D68C4] hover:from-[#2D68C4] hover:to-[#2774AE] shadow-lg hover:shadow-xl transition-all duration-300 group",children:["Explore All in ",s,u.jsx(pa,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})}),u.jsx(PropertyCategories,{}),u.jsx(PropertyInsights,{}),u.jsx(DiscoverProperties,{}),u.jsx(TopLocalities,{}),u.jsx(TopDevelopers,{}),u.jsx(ExploreCities,{}),u.jsx("div",{className:"py-16 md:py-20 bg-gradient-to-b from-slate-50/50 to-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-left mb-12",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-full px-4 py-2 mb-4",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:"Trusted by Thousands"})]}),u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-slate-900 via-[#2774AE] to-slate-900 bg-clip-text text-transparent",children:"What Our Clients Say"}),u.jsx("p",{className:"text-slate-600 text-lg max-w-2xl leading-relaxed",children:"Real experiences from people who found their dream homes with us"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[{name:"Thabo Mkhize",location:"Johannesburg",rating:5,text:"Found my perfect apartment in Sandton within 2 weeks. The team was professional and responsive throughout the process.",avatar:""},{name:"Sarah van der Merwe",location:"Cape Town",rating:5,text:"Excellent service! They helped me find a beautiful family home in Constantia. Highly recommend for anyone looking in the Western Cape.",avatar:""},{name:"Priya Naidoo",location:"Durban",rating:5,text:"The property insights and market data helped me make an informed decision. Great platform for first-time buyers!",avatar:""}].map((e,s)=>u.jsxs("div",{className:"relative bg-white p-8 rounded-2xl border border-slate-200/60 hover:shadow-2xl transition-all duration-500 hover:-translate-y-1 group",children:[u.jsx("div",{className:"absolute top-6 right-6 text-6xl text-[#2774AE]/10 group-hover:text-[#2774AE]/20 transition-colors font-serif leading-none",children:'"'}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(e.rating)].map((e,s)=>u.jsx("span",{className:"text-yellow-400 text-xl",children:""},s))}),u.jsxs("p",{className:"text-slate-700 mb-6 leading-relaxed text-base italic",children:['"',e.text,'"']}),u.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-slate-100",children:[u.jsx("div",{className:"text-5xl",children:e.avatar}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-slate-900 text-base",children:e.name}),u.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-1",children:[u.jsx(lo,{className:"w-3 h-3"}),e.location]})]})]})]})]},s))})]})}),u.jsx("div",{className:"py-16 md:py-20 bg-white",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"relative rounded-3xl md:rounded-[2rem] overflow-hidden bg-gradient-to-br from-[#2774AE] via-[#2D68C4] to-[#0F52BA] px-6 py-16 md:px-12 md:py-20 text-center shadow-2xl",children:[u.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full -translate-x-1/2 -translate-y-1/2 blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white/10 rounded-full translate-x-1/2 translate-y-1/2 blur-3xl animate-pulse delay-1000"}),u.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30"}),u.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white tracking-tight leading-tight",children:"Ready to Find Your Dream Property?"}),u.jsx("p",{className:"text-lg md:text-xl mb-10 text-blue-50 leading-relaxed max-w-2xl mx-auto",children:"Join thousands of satisfied users. Whether you're buying, renting, or selling, we provide the best tools and insights to make your journey smooth."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsx(Button$1,{size:"lg",onClick:()=>e("/properties"),className:"bg-white text-[#2774AE] hover:bg-blue-50 font-bold text-base md:text-lg px-8 py-6 h-auto shadow-2xl hover:shadow-3xl transition-all transform hover:-translate-y-1 hover:scale-105",children:"Browse All Properties"}),u.jsx(Button$1,{size:"lg",variant:"outline",className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-[#2774AE] font-bold text-base md:text-lg px-8 py-6 h-auto transition-all hover:scale-105",children:"List Your Property"})]})]})]})})}),u.jsx(Footer$1,{})]})}function ListingNavbar({defaultLocations:e=[]}){const[,s]=useLocation(),[a,l]=re.useState("sale"),[c,p]=re.useState(Array.isArray(e)?e:[]),[m,h]=re.useState(!1),f={province:1,city:2,suburb:3};return u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-[#005ca8] h-16 flex items-center px-4 md:px-8 shadow-md",children:[u.jsx("div",{className:"flex items-center gap-2 cursor-pointer mr-8",onClick:()=>s("/"),children:u.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Property Listify"})}),u.jsx("div",{className:"hidden md:flex flex-1 max-w-3xl mx-auto",children:u.jsxs("div",{className:"flex w-full bg-white rounded-md h-10 items-center relative",children:[u.jsxs("div",{className:"relative flex items-center px-3 border-r border-gray-200 cursor-pointer hover:bg-gray-50 h-full min-w-[80px]",onClick:()=>h(!m),children:[u.jsx("span",{className:"text-sm text-gray-700 font-medium capitalize",children:"sale"===a?"Buy":"Rent"}),u.jsx($a,{className:"h-4 w-4 ml-1 text-gray-500"}),m&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-32 bg-white rounded-md shadow-lg py-1 border border-gray-100 z-50",children:[u.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 cursor-pointer",onClick:e=>{e.stopPropagation(),l("sale"),h(!1)},children:"Buy"}),u.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 cursor-pointer",onClick:e=>{e.stopPropagation(),l("rent"),h(!1)},children:"Rent"})]})]}),u.jsxs("div",{className:"flex-1 flex items-center px-2 min-w-0 gap-2",children:[u.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar max-w-[50%] flex-shrink-0",children:c.map(e=>u.jsxs("div",{className:"flex-shrink-0 flex items-center bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded-full border border-blue-100 whitespace-nowrap",children:[u.jsx("span",{children:e.name}),u.jsx(Il,{className:"h-3 w-3 ml-1 cursor-pointer hover:text-blue-900",onClick:()=>{return s=e.slug,void p(e=>e.filter(e=>e.slug!==s));var s}})]},e.slug))}),u.jsx("div",{className:"flex-1 min-w-[120px] relative",children:u.jsx(LocationAutosuggest,{placeholder:c.length>0?"Add more...":"City, Suburb, or Area",inputClassName:"w-full py-2 text-sm outline-none text-gray-700 placeholder:text-gray-400 bg-transparent border-none h-full focus-visible:ring-0 shadow-none px-1",className:"w-full h-full",showIcon:!1,onSelect:e=>{if(c.some(s=>s.slug===e.slug))return;let s=[...c];"suburb"===e.type?s=s.filter(s=>!("city"===s.type&&s.slug===e.citySlug||"province"===s.type&&s.slug===e.provinceSlug)):"city"===e.type&&(s=s.filter(s=>!("province"===s.type&&s.slug===e.provinceSlug))),s.push(e),s.sort((e,s)=>(f[e.type]||99)-(f[s.type]||99)),p(s)}})})]}),u.jsxs("div",{className:"flex items-center px-2 gap-2 flex-shrink-0",children:[u.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),u.jsx(Vo,{className:"h-5 w-5 text-gray-600 cursor-pointer hover:text-gray-800",onClick:()=>{if(1===c.length){const e=c[0];if(!("province"===e.type||"administrative_area_level_1"===e.type)){const l="rent"===a?"/property-to-rent":"/property-for-sale",c=new URLSearchParams;return c.set("locations",e.slug),void s(`${l}?${c.toString()}`)}}const e=generatePropertyUrl({listingType:a,locations:c});s(e)}})]})]})}),u.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[u.jsxs(Button$1,{variant:"secondary",className:"hidden md:flex bg-white hover:bg-gray-100 text-gray-900 font-medium text-sm h-9 px-4 gap-2",onClick:()=>s("/listings/create"),children:["Post property",u.jsx(Badge,{className:"bg-green-600 hover:bg-green-700 text-[10px] px-1 py-0 h-4 rounded text-white border-0",children:"FREE"})]}),u.jsxs("div",{className:"relative cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>s("/login"),title:"Sign In",children:[u.jsx(Sl,{className:"h-6 w-6 text-white"}),u.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full border-2 border-[#005ca8]"})]}),u.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>s("/dashboard"),title:"Menu",children:u.jsx(fo,{className:"h-6 w-6 text-white"})})]})]})}var pf="horizontal",mf=["horizontal","vertical"],hf=re.forwardRef((e,s)=>{const{decorative:a,orientation:l=pf,...c}=e,p=function isValidOrientation(e){return mf.includes(e)}(l)?l:pf,m=a?{role:"none"}:{"aria-orientation":"vertical"===p?p:void 0,role:"separator"};return u.jsx(tn.div,{"data-orientation":p,...m,...c,ref:s})});hf.displayName="Separator";var ff=hf;function Separator({className:e,orientation:s="horizontal",decorative:a=!0,...l}){return u.jsx(ff,{"data-slot":"separator",decorative:a,orientation:s,className:cn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...l})}function PropertyImageGallery({images:e,propertyTitle:s}){const[a,l]=re.useState(0),[c,p]=re.useState(!1),[m,h]=re.useState(1),f=[...e].sort((e,s)=>1===e.isPrimary?-1:1===s.isPrimary?1:(e.displayOrder||0)-(s.displayOrder||0)),handlePrevious=()=>{l(e=>0===e?f.length-1:e-1),h(1)},handleNext=()=>{l(e=>e===f.length-1?0:e+1),h(1)},handleKeyDown=e=>{c&&("ArrowLeft"===e.key&&handlePrevious(),"ArrowRight"===e.key&&handleNext(),"Escape"===e.key&&p(!1))};return re.useState(()=>(window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown))),0===f.length?u.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-muted-foreground",children:"No images available"})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[u.jsx("img",{src:f[a].imageUrl,alt:`${s} - Image ${a+1}`,className:"w-full h-[500px] object-cover cursor-pointer transition-transform hover:scale-105",onClick:()=>p(!0)}),u.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm font-medium",children:[a+1," / ",f.length]}),f.length>1&&u.jsxs(u.Fragment,{children:[u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:handlePrevious,children:u.jsx(Ra,{className:"h-6 w-6"})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:handleNext,children:u.jsx(Fa,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsxs(Button$1,{variant:"secondary",size:"sm",onClick:()=>p(!0),children:[u.jsx(Rl,{className:"h-4 w-4 mr-2"}),"View All Photos"]}),u.jsxs(Button$1,{variant:"secondary",size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white border-0",children:[u.jsx(Rl,{className:"h-4 w-4 mr-2"}),"View All Videos"]})]})]}),f.length>1&&u.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2",children:f.slice(0,8).map((e,s)=>u.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer transition-all "+(a===s?"ring-2 ring-primary ring-offset-2":"hover:opacity-80"),onClick:()=>l(s),children:[u.jsx("img",{src:e.imageUrl,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"}),7===s&&f.length>8&&u.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center text-white font-semibold",children:["+",f.length-8]})]},e.id))}),u.jsx(Dialog,{open:c,onOpenChange:p,children:u.jsx(DialogContent,{className:"max-w-7xl h-[90vh] p-0 bg-black/95",children:u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20 rounded-full",onClick:()=>p(!1),children:u.jsx(Il,{className:"h-6 w-6"})}),u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-white/20 text-white px-4 py-2 rounded-full text-sm font-medium z-50",children:[a+1," / ",f.length]}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-50",children:[u.jsx(Button$1,{variant:"secondary",size:"icon",onClick:()=>h(e=>Math.max(1,e-.25)),disabled:m<=1,children:u.jsx(Fl,{className:"h-4 w-4"})}),u.jsxs("div",{className:"bg-white/20 text-white px-4 py-2 rounded-full text-sm font-medium",children:[Math.round(100*m),"%"]}),u.jsx(Button$1,{variant:"secondary",size:"icon",onClick:()=>h(e=>Math.min(3,e+.25)),disabled:m>=3,children:u.jsx(Rl,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-16",children:u.jsx("img",{src:f[a].imageUrl,alt:`${s} - Image ${a+1}`,className:"max-w-full max-h-full object-contain transition-transform",style:{transform:`scale(${m})`}})}),f.length>1&&u.jsxs(u.Fragment,{children:[u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full",onClick:handlePrevious,children:u.jsx(Ra,{className:"h-6 w-6"})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full",onClick:handleNext,children:u.jsx(Fa,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 max-w-4xl overflow-x-auto",children:u.jsx("div",{className:"flex gap-2 px-4",children:f.map((e,s)=>u.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer transition-all "+(a===s?"ring-2 ring-white ring-offset-2 ring-offset-black":"opacity-60 hover:opacity-100"),onClick:()=>{l(s),h(1)},children:u.jsx("img",{src:e.imageUrl,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"})},e.id))})})]})})})]})}function Breadcrumbs({items:e,className:s=""}){return u.jsx("nav",{"aria-label":"Breadcrumb",className:`flex items-center text-sm text-muted-foreground ${s}`,children:e.map((s,a)=>u.jsxs("div",{className:"flex items-center",children:[a>0&&u.jsx(Fa,{className:"h-4 w-4 mx-2 text-gray-400"}),a===e.length-1?u.jsx("span",{className:"text-foreground font-medium",children:s.label}):u.jsx(rc,{href:s.href,children:u.jsxs("span",{className:"hover:text-primary hover:underline cursor-pointer transition-colors flex items-center gap-1",children:[0===a&&u.jsx(Bi,{className:"h-3.5 w-3.5"}),s.label]})})]},s.href))})}function Textarea({className:e,onKeyDown:s,onCompositionStart:a,onCompositionEnd:l,...c}){const p=useDialogComposition(),{onCompositionStart:m,onCompositionEnd:h,onKeyDown:f}=useComposition({onKeyDown:e=>{const a=e.nativeEvent.isComposing||p.justEndedComposing();"Enter"===e.key&&!e.shiftKey&&a||s?.(e)},onCompositionStart:e=>{p.setComposing(!0),a?.(e)},onCompositionEnd:e=>{p.markCompositionEnd(),setTimeout(()=>{p.setComposing(!1)},100),l?.(e)}});return u.jsx("textarea",{"data-slot":"textarea",className:cn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),onCompositionStart:m,onCompositionEnd:h,onKeyDown:f,...c})}function PropertyContactModal({isOpen:e,onClose:s,propertyId:a,propertyTitle:l,agentName:c="Property Agent",agentPhone:p,agentEmail:m,developerBrandProfileId:h,developmentId:f}){const[g,b]=re.useState({name:"",email:"",phone:"",inquiryType:"general",message:""}),j=At.leads.create.useMutation({onSuccess:()=>{Gr.success("Your inquiry has been sent successfully!"),b({name:"",email:"",phone:"",inquiryType:"general",message:""}),s()},onError:e=>{Gr.error("Failed to send inquiry. Please try again."),console.error("Lead creation error:",e)}}),handleChange=(e,s)=>{b(a=>({...a,[e]:s}))};return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{children:["Contact ",c]}),u.jsxs(DialogDescription,{children:["Interested in ",l,"? Send a message to the agent."]})]}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),g.name&&g.email&&g.message?j.mutate({propertyId:a,name:g.name,email:g.email,phone:g.phone,message:`[${g.inquiryType.toUpperCase()}] ${g.message}`,source:"property_detail",developerBrandProfileId:h,developmentId:f}):Gr.error("Please fill in all required fields")},className:"space-y-4 mt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"inquiryType",children:"Inquiry Type"}),u.jsxs(Select$1,{value:g.inquiryType,onValueChange:e=>handleChange("inquiryType",e),children:[u.jsx(SelectTrigger,{id:"inquiryType",children:u.jsx(SelectValue,{placeholder:"Select inquiry type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"general",children:"General Inquiry"}),u.jsx(SelectItem,{value:"viewing",children:"Schedule Viewing"}),u.jsx(SelectItem,{value:"offer",children:"Make an Offer"}),u.jsx(SelectItem,{value:"financing",children:"Financing Options"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"name",children:["Your Name ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx(Input,{id:"name",placeholder:"John Doe",value:g.name,onChange:e=>handleChange("name",e.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"email",children:["Email Address ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx(Input,{id:"email",type:"email",placeholder:"john@example.com",value:g.email,onChange:e=>handleChange("email",e.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"phone",children:"Phone Number"}),u.jsx(Input,{id:"phone",type:"tel",placeholder:"+27 12 345 6789",value:g.phone,onChange:e=>handleChange("phone",e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"message",children:["Message ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx(Textarea,{id:"message",placeholder:"I'm interested in this property and would like to know more...",value:g.message,onChange:e=>handleChange("message",e.target.value),rows:4,required:!0})]}),(p||m)&&u.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[u.jsx("p",{className:"text-sm font-medium",children:"Direct Contact"}),p&&u.jsxs("a",{href:`tel:${p}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[u.jsx(Eo,{className:"h-4 w-4"}),p]}),m&&u.jsxs("a",{href:`mailto:${m}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[u.jsx(oo,{className:"h-4 w-4"}),m]})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsx(Button$1,{type:"button",variant:"outline",onClick:s,className:"flex-1",disabled:j.isLoading,children:"Cancel"}),u.jsx(Button$1,{type:"submit",className:"flex-1",disabled:j.isLoading,children:j.isLoading?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Send Inquiry"]})})]})]})]})})}function PropertyShareModal({isOpen:e,onClose:s,propertyTitle:a,propertyUrl:l}){const[c,p]=re.useState(!1),handleShare=e=>{const s=encodeURIComponent(l),c=encodeURIComponent(a);let u="";switch(e){case"facebook":u=`https://www.facebook.com/sharer/sharer.php?u=${s}`;break;case"twitter":u=`https://twitter.com/intent/tweet?url=${s}&text=${c}`;break;case"whatsapp":u=`https://wa.me/?text=${c}%20${s}`;break;case"email":u=`mailto:?subject=${c}&body=Check out this property: ${s}`;break;default:return}window.open(u,"_blank","width=600,height=400")};return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Share Property"}),u.jsx(DialogDescription,{children:"Share this property with friends and family"})]}),u.jsxs("div",{className:"space-y-6 mt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Property Link"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{value:l,readOnly:!0,className:"flex-1"}),u.jsx(Button$1,{onClick:()=>{navigator.clipboard.writeText(l),p(!0),Gr.success("Link copied to clipboard!"),setTimeout(()=>p(!1),2e3)},variant:c?"default":"outline",className:"min-w-[100px]",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Copy"]})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Share via Social Media"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>handleShare("facebook"),children:[u.jsx(gi,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),u.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>handleShare("twitter"),children:[u.jsx(vl,{className:"h-4 w-4 mr-2 text-sky-500"}),"Twitter"]}),u.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>handleShare("whatsapp"),children:[u.jsx(go,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]}),u.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>handleShare("email"),children:[u.jsx(oo,{className:"h-4 w-4 mr-2"}),"Email"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Additional Actions"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Button$1,{variant:"outline",className:"justify-start",onClick:()=>{window.print()},children:[u.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Print"]}),u.jsxs(Button$1,{variant:"outline",className:"justify-start",disabled:!0,title:"QR Code generation coming soon",children:[u.jsx(Do,{className:"h-4 w-4 mr-2"}),"QR Code"]})]})]}),u.jsx(Button$1,{variant:"secondary",className:"w-full",onClick:s,children:"Close"})]})]})})}var gf=["PageUp","PageDown"],xf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yf="Slider",[bf,jf,wf]=createCollection(yf),[Nf]=createContextScope(yf,[wf]),[Sf,Cf]=Nf(yf),kf=re.forwardRef((e,s)=>{const{name:a,min:l=0,max:c=100,step:p=1,orientation:m="horizontal",disabled:h=!1,minStepsBetweenThumbs:f=0,defaultValue:g=[l],value:b,onValueChange:j=()=>{},onValueCommit:N=()=>{},inverted:k=!1,form:_,...T}=e,E=re.useRef(new Set),A=re.useRef(0),L="horizontal"===m?Tf:Ef,[O=[],I]=useControllableState({prop:b,defaultProp:g,onChange:e=>{const s=[...E.current];s[A.current]?.focus(),j(e)}}),$=re.useRef(O);function updateValues(e,s,{commit:a}={commit:!1}){const u=function getDecimalCount(e){return(String(e).split(".")[1]||"").length}(p),m=function roundValue(e,s){const a=Math.pow(10,s);return Math.round(e*a)/a}(Math.round((e-l)/p)*p+l,u),h=clamp$1(m,[l,c]);I((e=[])=>{const l=function getNextSortedValues(e=[],s,a){const l=[...e];return l[a]=s,l.sort((e,s)=>e-s)}(e,h,s);if(function hasMinStepsBetweenValues(e,s){if(s>0){const a=function getStepsBetweenValues(e){return e.slice(0,-1).map((s,a)=>e[a+1]-s)}(e);return Math.min(...a)>=s}return!0}(l,f*p)){A.current=l.indexOf(h);const s=String(l)!==String(e);return s&&a&&N(l),s?l:e}return e})}return u.jsx(Sf,{scope:e.__scopeSlider,name:a,disabled:h,min:l,max:c,valueIndexToChangeRef:A,thumbs:E.current,values:O,orientation:m,form:_,children:u.jsx(bf.Provider,{scope:e.__scopeSlider,children:u.jsx(bf.Slot,{scope:e.__scopeSlider,children:u.jsx(L,{"aria-disabled":h,"data-disabled":h?"":void 0,...T,ref:s,onPointerDown:composeEventHandlers(T.onPointerDown,()=>{h||($.current=O)}),min:l,max:c,inverted:k,onSlideStart:h?void 0:function handleSlideStart(e){const s=function getClosestValueIndex(e,s){if(1===e.length)return 0;const a=e.map(e=>Math.abs(e-s)),l=Math.min(...a);return a.indexOf(l)}(O,e);updateValues(e,s)},onSlideMove:h?void 0:function handleSlideMove(e){updateValues(e,A.current)},onSlideEnd:h?void 0:function handleSlideEnd(){const e=$.current[A.current];O[A.current]!==e&&N(O)},onHomeKeyDown:()=>!h&&updateValues(l,0,{commit:!0}),onEndKeyDown:()=>!h&&updateValues(c,O.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:s})=>{if(!h){const a=gf.includes(e.key)||e.shiftKey&&xf.includes(e.key)?10:1,l=A.current;updateValues(O[l]+p*a*s,l,{commit:!0})}}})})})})});kf.displayName=yf;var[_f,Pf]=Nf(yf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tf=re.forwardRef((e,s)=>{const{min:a,max:l,dir:c,inverted:p,onSlideStart:m,onSlideMove:h,onSlideEnd:f,onStepKeyDown:g,...b}=e,[j,N]=re.useState(null),k=useComposedRefs$1(s,e=>N(e)),_=re.useRef(void 0),T=useDirection(c),E="ltr"===T,A=E&&!p||!E&&p;function getValueFromPointer(e){const s=_.current||j.getBoundingClientRect(),c=linearScale$1([0,s.width],A?[a,l]:[l,a]);return _.current=s,c(e-s.left)}return u.jsx(_f,{scope:e.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:u.jsx(Af,{dir:T,"data-orientation":"horizontal",...b,ref:k,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const s=getValueFromPointer(e.clientX);m?.(s)},onSlideMove:e=>{const s=getValueFromPointer(e.clientX);h?.(s)},onSlideEnd:()=>{_.current=void 0,f?.()},onStepKeyDown:e=>{const s=vf[A?"from-left":"from-right"].includes(e.key);g?.({event:e,direction:s?-1:1})}})})}),Ef=re.forwardRef((e,s)=>{const{min:a,max:l,inverted:c,onSlideStart:p,onSlideMove:m,onSlideEnd:h,onStepKeyDown:f,...g}=e,b=re.useRef(null),j=useComposedRefs$1(s,b),N=re.useRef(void 0),k=!c;function getValueFromPointer(e){const s=N.current||b.current.getBoundingClientRect(),c=linearScale$1([0,s.height],k?[l,a]:[a,l]);return N.current=s,c(e-s.top)}return u.jsx(_f,{scope:e.__scopeSlider,startEdge:k?"bottom":"top",endEdge:k?"top":"bottom",size:"height",direction:k?1:-1,children:u.jsx(Af,{"data-orientation":"vertical",...g,ref:j,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const s=getValueFromPointer(e.clientY);p?.(s)},onSlideMove:e=>{const s=getValueFromPointer(e.clientY);m?.(s)},onSlideEnd:()=>{N.current=void 0,h?.()},onStepKeyDown:e=>{const s=vf[k?"from-bottom":"from-top"].includes(e.key);f?.({event:e,direction:s?-1:1})}})})}),Af=re.forwardRef((e,s)=>{const{__scopeSlider:a,onSlideStart:l,onSlideMove:c,onSlideEnd:p,onHomeKeyDown:m,onEndKeyDown:h,onStepKeyDown:f,...g}=e,b=Cf(yf,a);return u.jsx(tn.span,{...g,ref:s,onKeyDown:composeEventHandlers(e.onKeyDown,e=>{"Home"===e.key?(m(e),e.preventDefault()):"End"===e.key?(h(e),e.preventDefault()):gf.concat(xf).includes(e.key)&&(f(e),e.preventDefault())}),onPointerDown:composeEventHandlers(e.onPointerDown,e=>{const s=e.target;s.setPointerCapture(e.pointerId),e.preventDefault(),b.thumbs.has(s)?s.focus():l(e)}),onPointerMove:composeEventHandlers(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&c(e)}),onPointerUp:composeEventHandlers(e.onPointerUp,e=>{const s=e.target;s.hasPointerCapture(e.pointerId)&&(s.releasePointerCapture(e.pointerId),p(e))})})}),Mf="SliderTrack",Lf=re.forwardRef((e,s)=>{const{__scopeSlider:a,...l}=e,c=Cf(Mf,a);return u.jsx(tn.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...l,ref:s})});Lf.displayName=Mf;var Df="SliderRange",Of=re.forwardRef((e,s)=>{const{__scopeSlider:a,...l}=e,c=Cf(Df,a),p=Pf(Df,a),m=useComposedRefs$1(s,re.useRef(null)),h=c.values.length,f=c.values.map(e=>convertValueToPercentage(e,c.min,c.max)),g=h>1?Math.min(...f):0,b=100-Math.max(...f);return u.jsx(tn.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...l,ref:m,style:{...e.style,[p.startEdge]:g+"%",[p.endEdge]:b+"%"}})});Of.displayName=Df;var If="SliderThumb",$f=re.forwardRef((e,s)=>{const a=jf(e.__scopeSlider),[l,c]=re.useState(null),p=useComposedRefs$1(s,e=>c(e)),m=re.useMemo(()=>l?a().findIndex(e=>e.ref.current===l):-1,[a,l]);return u.jsx(Rf,{...e,ref:p,index:m})}),Rf=re.forwardRef((e,s)=>{const{__scopeSlider:a,index:l,name:c,...p}=e,m=Cf(If,a),h=Pf(If,a),[f,g]=re.useState(null),b=useComposedRefs$1(s,e=>g(e)),j=!f||(m.form||!!f.closest("form")),N=useSize(f),k=m.values[l],_=void 0===k?0:convertValueToPercentage(k,m.min,m.max),T=function getLabel$1(e,s){return s>2?`Value ${e+1} of ${s}`:2===s?["Minimum","Maximum"][e]:void 0}(l,m.values.length),E=N?.[h.size],A=E?function getThumbInBoundsOffset(e,s,a){const l=e/2,c=linearScale$1([0,50],[0,l]);return(l-c(s)*a)*a}(E,_,h.direction):0;return re.useEffect(()=>{if(f)return m.thumbs.add(f),()=>{m.thumbs.delete(f)}},[f,m.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${_}% + ${A}px)`},children:[u.jsx(bf.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(tn.span,{role:"slider","aria-label":e["aria-label"]||T,"aria-valuemin":m.min,"aria-valuenow":k,"aria-valuemax":m.max,"aria-orientation":m.orientation,"data-orientation":m.orientation,"data-disabled":m.disabled?"":void 0,tabIndex:m.disabled?void 0:0,...p,ref:b,style:void 0===k?{display:"none"}:e.style,onFocus:composeEventHandlers(e.onFocus,()=>{m.valueIndexToChangeRef.current=l})})}),j&&u.jsx(Ff,{name:c??(m.name?m.name+(m.values.length>1?"[]":""):void 0),form:m.form,value:k},l)]})});$f.displayName=If;var Ff=re.forwardRef(({__scopeSlider:e,value:s,...a},l)=>{const c=re.useRef(null),p=useComposedRefs$1(c,l),m=usePrevious$1(s);return re.useEffect(()=>{const e=c.current;if(!e)return;const a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(m!==s&&l){const a=new Event("input",{bubbles:!0});l.call(e,s),e.dispatchEvent(a)}},[m,s]),u.jsx(tn.input,{style:{display:"none"},...a,ref:p,defaultValue:s})});function convertValueToPercentage(e,s,a){return clamp$1(100/(a-s)*(e-s),[0,100])}function linearScale$1(e,s){return a=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const l=(s[1]-s[0])/(e[1]-e[0]);return s[0]+l*(a-e[0])}}Ff.displayName="RadioBubbleInput";var Bf=kf,zf=Lf,Vf=Of,Uf=$f;function Slider({className:e,defaultValue:s,value:a,min:l=0,max:c=100,...p}){const m=re.useMemo(()=>Array.isArray(a)?a:Array.isArray(s)?s:[l,c],[a,s,l,c]);return u.jsxs(Bf,{"data-slot":"slider",defaultValue:s,value:a,min:l,max:c,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...p,children:[u.jsx(zf,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(Vf,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:m.length},(e,s)=>u.jsx(Uf,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}const Hf=[5,10,15,20,25,30];function calculateMonthlyRepayment(e,s,a){if(e<=0||a<=0)return 0;if(s<=0)return e/(12*a);const l=s/100/12,c=12*a,u=e*l*Math.pow(1+l,c)/(Math.pow(1+l,c)-1);return Math.round(100*u)/100}function calculateBondRepayment(e,s=!1){const{propertyPrice:a,depositPercentage:l,interestRate:c,termYears:u}=e,p=Math.round(a*l/100),m=a-p,h=calculateMonthlyRepayment(m,c,u),f=h*u*12,g={loanAmount:m,depositAmount:p,monthlyRepayment:h,totalRepayment:f,totalInterest:f-m,effectiveMonthlyRate:c/12};return s&&(g.amortizationSchedule=function generateAmortizationSchedule(e){const{propertyPrice:s,depositPercentage:a,interestRate:l,termYears:c}=e,u=Math.round(s*a/100),p=s-u,m=calculateMonthlyRepayment(p,l,c),h=l/100/12,f=[];let g=p;const b=12*c;for(let j=1;j<=b;j++){const e=g*h,s=m-e;g-=s,g<.01&&(g=0),f.push({month:j,payment:Math.round(100*m)/100,principal:Math.round(100*s)/100,interest:Math.round(100*e)/100,balance:Math.round(100*g)/100})}return f}(e)),g}function formatSARandShort(e){return`R ${Math.round(e).toLocaleString("en-ZA")}`}function BondCalculator({propertyPrice:e,onRepaymentCalculated:s,showTransferCosts:a=!1,compact:l=!1}){const{data:c}=At.settings.getSARBPrimeRate.useQuery(),p=c?.rate||10.5,[m,h]=re.useState(0),[f,g]=re.useState(20),[b,j]=re.useState(null),N=b??p,k=calculateBondRepayment({propertyPrice:e,depositPercentage:m,interestRate:N,termYears:f}),_=Math.ceil(k.monthlyRepayment/.3),T=a?function calculateTransferCosts(e){let s=0;e>11e5?s=.13*(e-11e5):e>15e5?s=52e3+.11*(e-15e5):e>225e4&&(s=134500+.13*(e-225e4));const a=Math.max(.01*e,1e4),l=.001*e+500,c=Math.max(.005*e,5e3),u=Math.max(.005*e,5e3),p=s+a+l+c+u;return{transferDuty:Math.round(s),bondRegistration:Math.round(a),deedsOffice:Math.round(l),transferAttorney:Math.round(c),bondAttorney:Math.round(u),total:Math.round(p)}}(e):null;return re.useEffect(()=>{s&&s(k.monthlyRepayment)},[k.monthlyRepayment,s]),l?u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border border-green-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Ta,{className:"h-5 w-5 text-green-600"}),u.jsx("h4",{className:"font-semibold text-green-900",children:"Estimated Monthly Repayment"})]}),u.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:formatSARandShort(k.monthlyRepayment)}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",m,"% deposit over ",f," years at ",N.toFixed(2),"%"]})]}):u.jsx(ea,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:u.jsx(Ta,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"Buyability Calculator"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Calculate your property affordability and costs"})]})]}),u.jsx(Separator,{}),u.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-5 w-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-gray-700",children:"Property Price"})]}),u.jsx("span",{className:"text-2xl font-bold text-blue-600",children:formatSARandShort(e)})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Label$1,{htmlFor:"rate",children:"Interest Rate (SARB Prime Rate)"}),u.jsxs("span",{className:"text-sm font-medium text-green-600",children:[N.toFixed(2),"% p.a."]})]}),u.jsx(Input,{id:"rate",type:"number",step:"0.01",value:b??N,onChange:e=>{const s=parseFloat(e.target.value);j(isNaN(s)?null:s)},placeholder:"Custom rate (optional)"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Current SA Prime Rate: 10.50% p.a. (SARB Repo: 7.00%)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Label$1,{children:"Deposit"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-medium text-green-600",children:[m,"%"]}),u.jsx("div",{className:"text-xs text-gray-500",children:formatSARandShort(k.depositAmount)})]})]}),u.jsx(Slider,{value:[m],onValueChange:([e])=>h(e),min:0,max:50,step:5,className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[u.jsx("span",{children:"0% (100% Bond)"}),u.jsx("span",{children:"50%"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"term",children:"Bond Term"}),u.jsxs(Select$1,{value:f.toString(),onValueChange:e=>g(Number(e)),children:[u.jsx(SelectTrigger,{id:"term",children:u.jsx(SelectValue,{})}),u.jsx(SelectContent,{children:Hf.map(e=>u.jsxs(SelectItem,{value:e.toString(),children:[e," years"]},e))})]})]})]}),u.jsx(Separator,{}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Bi,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Loan Amount"})]}),u.jsx("div",{className:"text-xl font-bold text-blue-600",children:formatSARandShort(k.loanAmount)}),u.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[m,"% deposit"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-3 border-2 border-green-200",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(ii,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Monthly"})]}),u.jsx("div",{className:"text-xl font-bold text-green-600",children:formatSARandShort(k.monthlyRepayment)}),u.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[f," years @ ",N.toFixed(2),"%"]})]}),u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(fl,{className:"h-4 w-4 text-orange-600"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Income Needed"})]}),u.jsx("div",{className:"text-xl font-bold text-orange-600",children:formatSARandShort(_)}),u.jsx("p",{className:"text-[10px] text-gray-600 mt-0.5",children:"Per month (30% ratio)"})]}),T&&u.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Ta,{className:"h-4 w-4 text-purple-600"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Transfer Costs"})]}),u.jsx("div",{className:"text-xl font-bold text-purple-600",children:formatSARandShort(T.total)}),u.jsx("p",{className:"text-[10px] text-gray-600 mt-0.5",children:"Incl. duty & fees"})]})]}),u.jsx(Separator,{}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-blue-50 rounded-lg p-4 border-2 border-orange-200",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("h4",{className:"text-base font-bold text-slate-900 mb-1",children:"Ready to Buy?"}),u.jsx("p",{className:"text-xs text-slate-600",children:"Check your bond qualification with our trusted partners"})]}),u.jsxs(Button$1,{className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-6 text-base shadow-lg hover:shadow-xl transition-all",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),u.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Check Bond Qualification"]}),u.jsx("p",{className:"text-[10px] text-slate-500 text-center mt-2",children:"Free pre-qualification with our bond originator partners"})]})]})})}function _typeof$N(e){return(_typeof$N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toPropertyKey(e){var s=function toPrimitive(e,s){if("object"!=_typeof$N(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$N(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$N(s)?s:s+""}function _defineProperty$K(e,s,a){return(s=toPropertyKey(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qf,Wf;var Zf=getDefaultExportFromCjs$1(function requireInvariant(){return Wf?qf:(Wf=1,qf=function invariant3(e,s,a,l,c,u,p,m){if(!e){var h;if(void 0===s)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[a,l,c,u,p,m],g=0;(h=new Error(s.replace(/%s/g,function(){return f[g++]}))).name="Invariant Violation"}throw h.framesToPop=1,h}})}()),Kf=re.createContext(null);function applyUpdaterToNextProps(e,s,a,l){var c={};return function forEach(e,s){Object.keys(e).forEach(a=>s(e[a],a))}(e,(e,u)=>{var p=a[u];p!==s[u]&&(c[u]=p,e(l,p))}),c}function registerEvents(e,s,a){return function reduce(e,s,a){return Object.keys(e).reduce(function reducer2(a,l){return s(a,e[l],l)},a)}(a,function reducer2(a,l,c){return"function"==typeof e[c]&&a.push(google.maps.event.addListener(s,l,e[c])),a},[])}function unregisterEvent(e){google.maps.event.removeListener(e)}function unregisterEvents(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(unregisterEvent)}function applyUpdatersToPropsAndRegisterEvents(e){var{updaterMap:s,eventMap:a,prevProps:l,nextProps:c,instance:u}=e,p=registerEvents(c,u,a);return applyUpdaterToNextProps(s,l,c,u),p}var Gf={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Yf={extraMapTypes(e,s){s.forEach(function forEachExtra(s,a){e.mapTypes.set(String(a),s)})},center(e,s){e.setCenter(s)},clickableIcons(e,s){e.setClickableIcons(s)},heading(e,s){e.setHeading(s)},mapTypeId(e,s){e.setMapTypeId(s)},options(e,s){e.setOptions(s)},streetView(e,s){e.setStreetView(s)},tilt(e,s){e.setTilt(s)},zoom(e,s){e.setZoom(s)}};re.memo(function GoogleMapFunctional(e){var{children:s,options:a,id:l,mapContainerStyle:c,mapContainerClassName:p,center:m,onClick:h,onDblClick:f,onDrag:g,onDragEnd:b,onDragStart:j,onMouseMove:N,onMouseOut:k,onMouseOver:_,onMouseDown:T,onMouseUp:E,onRightClick:A,onCenterChanged:L,onLoad:O,onUnmount:I}=e,[$,z]=re.useState(null),U=re.useRef(null),[H,q]=re.useState(null),[Z,Y]=re.useState(null),[X,J]=re.useState(null),[ae,le]=re.useState(null),[ce,de]=re.useState(null),[ue,me]=re.useState(null),[he,fe]=re.useState(null),[ge,xe]=re.useState(null),[ye,be]=re.useState(null),[je,Ne]=re.useState(null),[Se,Ce]=re.useState(null),[_e,Pe]=re.useState(null);return re.useEffect(()=>{a&&null!==$&&$.setOptions(a)},[$,a]),re.useEffect(()=>{null!==$&&void 0!==m&&$.setCenter(m)},[$,m]),re.useEffect(()=>{$&&f&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener($,"dblclick",f)))},[f]),re.useEffect(()=>{$&&b&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener($,"dragend",b)))},[b]),re.useEffect(()=>{$&&j&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener($,"dragstart",j)))},[j]),re.useEffect(()=>{$&&T&&(null!==ce&&google.maps.event.removeListener(ce),de(google.maps.event.addListener($,"mousedown",T)))},[T]),re.useEffect(()=>{$&&N&&(null!==ue&&google.maps.event.removeListener(ue),me(google.maps.event.addListener($,"mousemove",N)))},[N]),re.useEffect(()=>{$&&k&&(null!==he&&google.maps.event.removeListener(he),fe(google.maps.event.addListener($,"mouseout",k)))},[k]),re.useEffect(()=>{$&&_&&(null!==ge&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener($,"mouseover",_)))},[_]),re.useEffect(()=>{$&&E&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener($,"mouseup",E)))},[E]),re.useEffect(()=>{$&&A&&(null!==je&&google.maps.event.removeListener(je),Ne(google.maps.event.addListener($,"rightclick",A)))},[A]),re.useEffect(()=>{$&&h&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener($,"click",h)))},[h]),re.useEffect(()=>{$&&g&&(null!==_e&&google.maps.event.removeListener(_e),Pe(google.maps.event.addListener($,"drag",g)))},[g]),re.useEffect(()=>{$&&L&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener($,"center_changed",L)))},[h]),re.useEffect(()=>{var e=null===U.current?null:new google.maps.Map(U.current,a);return z(e),null!==e&&O&&O(e),()=>{null!==e&&I&&I(e)}},[]),u.jsx("div",{id:l,ref:U,style:c,className:p,children:u.jsx(Kf.Provider,{value:$,children:null!==$?s:null})})});class GoogleMap extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"state",{map:null}),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"mapRef",null),_defineProperty$K(this,"getInstance",()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options)),_defineProperty$K(this,"panTo",e=>{var s=this.getInstance();s&&s.panTo(e)}),_defineProperty$K(this,"setMapCallback",()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)}),_defineProperty$K(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Yf,eventMap:Gf,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setMap(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Yf,eventMap:Gf,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),unregisterEvents(this.registeredEvents))}render(){return u.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:u.jsx(Kf.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function asyncGeneratorStep(e,s,a,l,c,u,p){try{var m=e[u](p),h=m.value}catch(f){return void a(f)}m.done?s(h):Promise.resolve(h).then(l,c)}function _asyncToGenerator(e){return function(){var s=this,a=arguments;return new Promise(function(l,c){var u=e.apply(s,a);function _next(e){asyncGeneratorStep(u,l,c,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(u,l,c,_next,_throw,"throw",e)}_next(void 0)})}}function makeLoadScriptUrl(e){var{googleMapsApiKey:s,googleMapsClientId:a,version:l="weekly",language:c,region:u,libraries:p,channel:m,mapIds:h,authReferrerPolicy:f,apiUrl:g="https://maps.googleapis.com"}=e,b=[];return Zf(s&&a||!(s&&a),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),s?b.push("key=".concat(s)):a&&b.push("client=".concat(a)),l&&b.push("v=".concat(l)),c&&b.push("language=".concat(c)),u&&b.push("region=".concat(u)),p&&p.length&&b.push("libraries=".concat(p.sort().join(","))),m&&b.push("channel=".concat(m)),h&&h.length&&b.push("map_ids=".concat(h.join(","))),f&&b.push("auth_referrer_policy=".concat(f)),b.push("loading=async"),b.push("callback=initMap"),"".concat(g,"/maps/api/js?").concat(b.join("&"))}var Qf="undefined"!=typeof document;function injectScript(e){var{url:s,id:a,nonce:l}=e;return Qf?new Promise(function injectScriptCallback(e,c){var u=document.getElementById(a),p=window;if(u){var m=u.getAttribute("data-state");if(u.src===s&&"error"!==m){if("ready"===m)return e(a);var h=p.initMap,f=u.onerror;return p.initMap=function initMap(){h&&h(),e(a)},void(u.onerror=function(e){f&&f(e),c(e)})}u.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=s,g.id=a,g.async=!0,g.nonce=l||"",g.onerror=function onerror(e){g.setAttribute("data-state","error"),c(e)},p.initMap=function onload(){g.setAttribute("data-state","ready"),e(a)},document.head.appendChild(g)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function isGoogleFontStyle(e){var s=e.href;return!(!s||0!==s.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==s.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function preventGoogleFonts(){var e=document.getElementsByTagName("head")[0];if(e){var s=e.insertBefore.bind(e);e.insertBefore=function insertBefore(a,l){return isGoogleFontStyle(a)||Reflect.apply(s,e,[a,l]),a};var a=e.appendChild.bind(e);e.appendChild=function appendChild(s){return isGoogleFontStyle(s)||Reflect.apply(a,e,[s]),s}}}var Xf=!1;function DefaultLoadingElement(){return u.jsx("div",{children:"Loading..."})}var Jf,eg={id:"script-loader",version:"weekly"};class LoadScript extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"check",null),_defineProperty$K(this,"state",{loaded:!1}),_defineProperty$K(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),_defineProperty$K(this,"isCleaningUp",_asyncToGenerator(function*(){return new Promise(function promiseCallback(e){if(Xf){if(Qf)var s=window.setInterval(function interval(){Xf||(window.clearInterval(s),e())},1)}else e()})})),_defineProperty$K(this,"cleanup",()=>{Xf=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function filter2(e){return"string"==typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function forEach2(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function filter2(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function forEach2(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function filter2(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function forEach2(e){e.parentNode&&e.parentNode.removeChild(e)})}),_defineProperty$K(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&preventGoogleFonts(),Zf(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),injectScript({id:this.props.id,nonce:this.props.nonce,url:makeLoadScriptUrl(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function setLoaded(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),_defineProperty$K(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Qf){if(window.google&&window.google.maps&&!Xf)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function error(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Qf&&e.language!==this.props.language&&(this.cleanup(),this.setState(function setLoaded(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Qf){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,Xf=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||u.jsx(DefaultLoadingElement,{})]})}}function _objectWithoutProperties$l(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$l(e,s){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}_defineProperty$K(LoadScript,"defaultProps",eg);var tg=["loadingElement","onLoad","onError","onUnmount","children"],rg=u.jsx(DefaultLoadingElement,{});function __awaiter(e,s,a,l){return new(a||(a=Promise))(function(s,c){function fulfilled(e){try{step(l.next(e))}catch(s){c(s)}}function rejected(e){try{step(l.throw(e))}catch(s){c(s)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof a?e:new a(function(s){s(e)})}(e.value).then(fulfilled,rejected)}step((l=l.apply(e,[])).next())})}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}re.memo(function LoadScriptNext(e){var{loadingElement:s,onLoad:a,onError:l,onUnmount:c,children:u}=e,p=_objectWithoutProperties$l(e,tg),{isLoaded:m,loadError:h}=function useLoadScript(e){var{id:s=eg.id,version:a=eg.version,nonce:l,googleMapsApiKey:c,googleMapsClientId:u,language:p,region:m,libraries:h,preventGoogleFontsLoading:f,channel:g,mapIds:b,authReferrerPolicy:j,apiUrl:N="https://maps.googleapis.com"}=e,k=re.useRef(!1),[_,T]=re.useState(!1),[E,A]=re.useState(void 0);re.useEffect(function trackMountedState(){return k.current=!0,()=>{k.current=!1}},[]),re.useEffect(function applyPreventGoogleFonts(){Qf&&f&&preventGoogleFonts()},[f]),re.useEffect(function validateLoadedState(){_&&Zf(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var L=makeLoadScriptUrl({version:a,googleMapsApiKey:c,googleMapsClientId:u,language:p,region:m,libraries:h,channel:g,mapIds:b,authReferrerPolicy:j,apiUrl:N});re.useEffect(function loadScriptAndModifyLoadedState(){function setLoadedIfMounted(){k.current&&(T(!0),Jf=L)}Qf&&(window.google&&window.google.maps&&Jf===L?setLoadedIfMounted():injectScript({id:s,url:L,nonce:l}).then(setLoadedIfMounted).catch(function handleInjectError(e){k.current&&A(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(c||"-",") or Client ID (").concat(u||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[s,L,l]);var O=re.useRef(void 0);return re.useEffect(function checkPerformance(){O.current&&h!==O.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),O.current=h},[h]),{isLoaded:_,loadError:E,url:L}}(p);return re.useEffect(function handleOnLoad(){m&&"function"==typeof a&&a()},[m,a]),re.useEffect(function handleOnError(){h&&"function"==typeof l&&l(h)},[h,l]),re.useEffect(function handleOnUnmount(){return()=>{c&&c()}},[c]),m?u:s||rg}),"function"==typeof SuppressedError&&SuppressedError;var ng,sg,ag=getDefaultExportFromCjs(function equal(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!equal(e[l],s[l]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;for(l=a;0!==l--;){var u=c[l];if(!equal(e[u],s[u]))return!1}return!0}return e!=e&&s!=s}),ig="__googleMapsScriptId";(sg=ng||(ng={}))[sg.INITIALIZED=0]="INITIALIZED",sg[sg.LOADING=1]="LOADING",sg[sg.SUCCESS=2]="SUCCESS",sg[sg.FAILURE=3]="FAILURE";class Loader{constructor(e){var{apiKey:s,authReferrerPolicy:a,channel:l,client:c,id:u=ig,language:p,libraries:m=[],mapIds:h,nonce:f,region:g,retries:b=3,url:j="https://maps.googleapis.com/maps/api/js",version:N}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=s,this.authReferrerPolicy=a,this.channel=l,this.client=c,this.id=u||ig,this.language=p,this.libraries=m,this.mapIds=h,this.nonce=f,this.region=g,this.retries=b,this.url=j,this.version=N,Loader.instance){if(!ag(this.options,Loader.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Loader.instance.options)));return Loader.instance}Loader.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ng.FAILURE:this.done?ng.SUCCESS:this.loading?ng.LOADING:ng.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,s)=>{this.loadCallback(a=>{a?s(a.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,s;if(document.getElementById(this.id))this.callback();else{var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(e=>!a[e]&&delete a[e]),(null===(s=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===s?void 0:s.importLibrary)||(e=>{var s,a,l,c="The Google Maps JavaScript API",u="google",p="importLibrary",m="__ib__",h=document,f=window,g=(f=f[u]||(f[u]={})).maps||(f.maps={}),b=new Set,j=new URLSearchParams,u2=()=>s||(s=new Promise((p,f)=>__awaiter(this,0,void 0,function*(){var N;for(l in yield a=h.createElement("script"),a.id=this.id,j.set("libraries",[...b]+""),e)j.set(l.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),e[l]);j.set("callback",u+".maps."+m),a.src=this.url+"?"+j,g[m]=p,a.onerror=()=>s=f(Error(c+" could not load.")),a.nonce=this.nonce||(null===(N=h.querySelector("script[nonce]"))||void 0===N?void 0:N.nonce)||"",h.head.append(a)})));g[p]?console.warn(c+" only loads once. Ignoring:",e):g[p]=function(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return b.add(e)&&u2().then(()=>g[p](e,...a))}})(a);var l=this.libraries.map(e=>this.importLibrary(e));l.length||l.push(this.importLibrary("core")),Promise.all(l).then(()=>this.callback(),e=>{var s=new ErrorEvent("error",{error:e});this.loadErrorCallback(s)})}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var s=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(s," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var og=["maps"];function useJsApiLoader(e){var{id:s=eg.id,version:a=eg.version,nonce:l,googleMapsApiKey:c,language:u,region:p,libraries:m=og,preventGoogleFontsLoading:h,mapIds:f,authReferrerPolicy:g}=e,b=re.useRef(!1),[j,N]=re.useState(!1),[k,_]=re.useState(void 0);re.useEffect(function trackMountedState(){return b.current=!0,()=>{b.current=!1}},[]);var T=re.useMemo(()=>new Loader({id:s,apiKey:c,version:a,libraries:m,language:u||"en",region:p||"US",mapIds:f||[],nonce:l||"",authReferrerPolicy:g||"origin"}),[s,c,a,m,u,p,f,l,g]);re.useEffect(function effect(){j||T.load().then(()=>{b.current&&N(!0)}).catch(e=>{_(e)})},[]),re.useEffect(()=>{Qf&&h&&preventGoogleFonts()},[h]);var E=re.useRef();return re.useEffect(()=>{E.current&&m!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=m},[m]),{isLoaded:j,loadError:k}}function ownKeys$f$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$f$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$f$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$f$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}var lg={},cg={options(e,s){e.setOptions(s)}};re.memo(function TrafficLayerFunctional(e){var{options:s,onLoad:a,onUnmount:l}=e,c=re.useContext(Kf),[u,p]=re.useState(null);return re.useEffect(()=>{null!==u&&u.setMap(c)},[c]),re.useEffect(()=>{s&&null!==u&&u.setOptions(s)},[u,s]),re.useEffect(()=>{var e=new google.maps.TrafficLayer(_objectSpread$f$1(_objectSpread$f$1({},s),{},{map:c}));return p(e),a&&a(e),()=>{null!==u&&(l&&l(u),u.setMap(null))}},[]),null});class TrafficLayer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"state",{trafficLayer:null}),_defineProperty$K(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),_defineProperty$K(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(_objectSpread$f$1(_objectSpread$f$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:cg,eventMap:lg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setTrafficLayer(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:cg,eventMap:lg,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),unregisterEvents(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}_defineProperty$K(TrafficLayer,"contextType",Kf),re.memo(function BicyclingLayerFunctional(e){var{onLoad:s,onUnmount:a}=e,l=re.useContext(Kf),[c,u]=re.useState(null);return re.useEffect(()=>{null!==c&&c.setMap(l)},[l]),re.useEffect(()=>{var e=new google.maps.BicyclingLayer;return u(e),e.setMap(l),s&&s(e),()=>{null!==e&&(a&&a(e),e.setMap(null))}},[]),null});class BicyclingLayer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"state",{bicyclingLayer:null}),_defineProperty$K(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}_defineProperty$K(BicyclingLayer,"contextType",Kf),re.memo(function TransitLayerFunctional(e){var{onLoad:s,onUnmount:a}=e,l=re.useContext(Kf),[c,u]=re.useState(null);return re.useEffect(()=>{null!==c&&c.setMap(l)},[l]),re.useEffect(()=>{var e=new google.maps.TransitLayer;return u(e),e.setMap(l),s&&s(e),()=>{null!==c&&(a&&a(c),c.setMap(null))}},[]),null});class TransitLayer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"state",{transitLayer:null}),_defineProperty$K(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function setTransitLayer(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function ownKeys$e$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$e$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$e$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$e$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(TransitLayer,"contextType",Kf);var dg={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ug={drawingMode(e,s){e.setDrawingMode(s)},options(e,s){e.setOptions(s)}};re.memo(function DrawingManagerFunctional(e){var{options:s,drawingMode:a,onCircleComplete:l,onMarkerComplete:c,onOverlayComplete:u,onPolygonComplete:p,onPolylineComplete:m,onRectangleComplete:h,onLoad:f,onUnmount:g}=e,b=re.useContext(Kf),[j,N]=re.useState(null),[k,_]=re.useState(null),[T,E]=re.useState(null),[A,L]=re.useState(null),[O,I]=re.useState(null),[$,z]=re.useState(null),[U,H]=re.useState(null);return re.useEffect(()=>{null!==j&&j.setMap(b)},[b]),re.useEffect(()=>{s&&null!==j&&j.setOptions(s)},[j,s]),re.useEffect(()=>{null!==j&&j.setDrawingMode(null!=a?a:null)},[j,a]),re.useEffect(()=>{j&&l&&(null!==k&&google.maps.event.removeListener(k),_(google.maps.event.addListener(j,"circlecomplete",l)))},[j,l]),re.useEffect(()=>{j&&c&&(null!==T&&google.maps.event.removeListener(T),E(google.maps.event.addListener(j,"markercomplete",c)))},[j,c]),re.useEffect(()=>{j&&u&&(null!==A&&google.maps.event.removeListener(A),L(google.maps.event.addListener(j,"overlaycomplete",u)))},[j,u]),re.useEffect(()=>{j&&p&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(j,"polygoncomplete",p)))},[j,p]),re.useEffect(()=>{j&&m&&(null!==$&&google.maps.event.removeListener($),z(google.maps.event.addListener(j,"polylinecomplete",m)))},[j,m]),re.useEffect(()=>{j&&h&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(j,"rectanglecomplete",h)))},[j,h]),re.useEffect(()=>{Zf(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(_objectSpread$e$1(_objectSpread$e$1({},s),{},{map:b}));return a&&e.setDrawingMode(a),l&&_(google.maps.event.addListener(e,"circlecomplete",l)),c&&E(google.maps.event.addListener(e,"markercomplete",c)),u&&L(google.maps.event.addListener(e,"overlaycomplete",u)),p&&I(google.maps.event.addListener(e,"polygoncomplete",p)),m&&z(google.maps.event.addListener(e,"polylinecomplete",m)),h&&H(google.maps.event.addListener(e,"rectanglecomplete",h)),N(e),f&&f(e),()=>{null!==j&&(k&&google.maps.event.removeListener(k),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),O&&google.maps.event.removeListener(O),$&&google.maps.event.removeListener($),U&&google.maps.event.removeListener(U),g&&g(j),j.setMap(null))}},[]),null});class DrawingManager extends re.PureComponent{constructor(e){super(e),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{drawingManager:null}),_defineProperty$K(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Zf(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(_objectSpread$e$1(_objectSpread$e$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ug,eventMap:dg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setDrawingManager(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ug,eventMap:dg,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),unregisterEvents(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function ownKeys$d$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$d$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$d$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$d$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(DrawingManager,"contextType",Kf);var pg={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},mg={animation(e,s){e.setAnimation(s)},clickable(e,s){e.setClickable(s)},cursor(e,s){e.setCursor(s)},draggable(e,s){e.setDraggable(s)},icon(e,s){e.setIcon(s)},label(e,s){e.setLabel(s)},map(e,s){e.setMap(s)},opacity(e,s){e.setOpacity(s)},options(e,s){e.setOptions(s)},position(e,s){e.setPosition(s)},shape(e,s){e.setShape(s)},title(e,s){e.setTitle(s)},visible(e,s){e.setVisible(s)},zIndex(e,s){e.setZIndex(s)}},hg={};re.memo(function MarkerFunctional(e){var{position:s,options:a,clusterer:l,noClustererRedraw:c,children:p,draggable:m,visible:h,animation:f,clickable:g,cursor:b,icon:j,label:N,opacity:k,shape:_,title:T,zIndex:E,onClick:A,onDblClick:L,onDrag:O,onDragEnd:I,onDragStart:$,onMouseOut:z,onMouseOver:U,onMouseUp:H,onMouseDown:q,onRightClick:Z,onClickableChanged:Y,onCursorChanged:X,onAnimationChanged:J,onDraggableChanged:ae,onFlatChanged:le,onIconChanged:ce,onPositionChanged:de,onShapeChanged:ue,onTitleChanged:me,onVisibleChanged:he,onZindexChanged:fe,onLoad:ge,onUnmount:xe}=e,ye=re.useContext(Kf),[be,je]=re.useState(null),[Ne,Se]=re.useState(null),[Ce,_e]=re.useState(null),[Pe,Te]=re.useState(null),[Ee,Ae]=re.useState(null),[Le,Oe]=re.useState(null),[Ie,$e]=re.useState(null),[Fe,Be]=re.useState(null),[ze,Ve]=re.useState(null),[Ue,He]=re.useState(null),[qe,We]=re.useState(null),[Ze,Ke]=re.useState(null),[Ge,Ye]=re.useState(null),[Qe,Xe]=re.useState(null),[Je,et]=re.useState(null),[tt,rt]=re.useState(null),[nt,st]=re.useState(null),[at,it]=re.useState(null),[ot,lt]=re.useState(null),[ct,dt]=re.useState(null),[ut,pt]=re.useState(null),[mt,ht]=re.useState(null);re.useEffect(()=>{null!==be&&be.setMap(ye)},[ye]),re.useEffect(()=>{void 0!==a&&null!==be&&be.setOptions(a)},[be,a]),re.useEffect(()=>{void 0!==m&&null!==be&&be.setDraggable(m)},[be,m]),re.useEffect(()=>{s&&null!==be&&be.setPosition(s)},[be,s]),re.useEffect(()=>{void 0!==h&&null!==be&&be.setVisible(h)},[be,h]),re.useEffect(()=>{null==be||be.setAnimation(f)},[be,f]),re.useEffect(()=>{be&&void 0!==g&&be.setClickable(g)},[be,g]),re.useEffect(()=>{be&&void 0!==b&&be.setCursor(b)},[be,b]),re.useEffect(()=>{be&&void 0!==j&&be.setIcon(j)},[be,j]),re.useEffect(()=>{be&&void 0!==N&&be.setLabel(N)},[be,N]),re.useEffect(()=>{be&&void 0!==k&&be.setOpacity(k)},[be,k]),re.useEffect(()=>{be&&void 0!==_&&be.setShape(_)},[be,_]),re.useEffect(()=>{be&&void 0!==T&&be.setTitle(T)},[be,T]),re.useEffect(()=>{be&&void 0!==E&&be.setZIndex(E)},[be,E]),re.useEffect(()=>{be&&L&&(null!==Ne&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener(be,"dblclick",L)))},[L]),re.useEffect(()=>{be&&I&&(null!==Ce&&google.maps.event.removeListener(Ce),_e(google.maps.event.addListener(be,"dragend",I)))},[I]),re.useEffect(()=>{be&&$&&(null!==Pe&&google.maps.event.removeListener(Pe),Te(google.maps.event.addListener(be,"dragstart",$)))},[$]),re.useEffect(()=>{be&&q&&(null!==Ee&&google.maps.event.removeListener(Ee),Ae(google.maps.event.addListener(be,"mousedown",q)))},[q]),re.useEffect(()=>{be&&z&&(null!==Le&&google.maps.event.removeListener(Le),Oe(google.maps.event.addListener(be,"mouseout",z)))},[z]),re.useEffect(()=>{be&&U&&(null!==Ie&&google.maps.event.removeListener(Ie),$e(google.maps.event.addListener(be,"mouseover",U)))},[U]),re.useEffect(()=>{be&&H&&(null!==Fe&&google.maps.event.removeListener(Fe),Be(google.maps.event.addListener(be,"mouseup",H)))},[H]),re.useEffect(()=>{be&&Z&&(null!==ze&&google.maps.event.removeListener(ze),Ve(google.maps.event.addListener(be,"rightclick",Z)))},[Z]),re.useEffect(()=>{be&&A&&(null!==Ue&&google.maps.event.removeListener(Ue),He(google.maps.event.addListener(be,"click",A)))},[A]),re.useEffect(()=>{be&&O&&(null!==qe&&google.maps.event.removeListener(qe),We(google.maps.event.addListener(be,"drag",O)))},[O]),re.useEffect(()=>{be&&Y&&(null!==Ze&&google.maps.event.removeListener(Ze),Ke(google.maps.event.addListener(be,"clickable_changed",Y)))},[Y]),re.useEffect(()=>{be&&X&&(null!==Ge&&google.maps.event.removeListener(Ge),Ye(google.maps.event.addListener(be,"cursor_changed",X)))},[X]),re.useEffect(()=>{be&&J&&(null!==Qe&&google.maps.event.removeListener(Qe),Xe(google.maps.event.addListener(be,"animation_changed",J)))},[J]),re.useEffect(()=>{be&&ae&&(null!==Je&&google.maps.event.removeListener(Je),et(google.maps.event.addListener(be,"draggable_changed",ae)))},[ae]),re.useEffect(()=>{be&&le&&(null!==tt&&google.maps.event.removeListener(tt),rt(google.maps.event.addListener(be,"flat_changed",le)))},[le]),re.useEffect(()=>{be&&ce&&(null!==nt&&google.maps.event.removeListener(nt),st(google.maps.event.addListener(be,"icon_changed",ce)))},[ce]),re.useEffect(()=>{be&&de&&(null!==at&&google.maps.event.removeListener(at),it(google.maps.event.addListener(be,"position_changed",de)))},[de]),re.useEffect(()=>{be&&ue&&(null!==ot&&google.maps.event.removeListener(ot),lt(google.maps.event.addListener(be,"shape_changed",ue)))},[ue]),re.useEffect(()=>{be&&me&&(null!==ct&&google.maps.event.removeListener(ct),dt(google.maps.event.addListener(be,"title_changed",me)))},[me]),re.useEffect(()=>{be&&he&&(null!==ut&&google.maps.event.removeListener(ut),pt(google.maps.event.addListener(be,"visible_changed",he)))},[he]),re.useEffect(()=>{be&&fe&&(null!==mt&&google.maps.event.removeListener(mt),ht(google.maps.event.addListener(be,"zindex_changed",fe)))},[fe]),re.useEffect(()=>{var e=_objectSpread$d$1(_objectSpread$d$1(_objectSpread$d$1({},a||hg),l?hg:{map:ye}),{},{position:s}),u=new google.maps.Marker(e);return l?l.addMarker(u,!!c):u.setMap(ye),s&&u.setPosition(s),void 0!==h&&u.setVisible(h),void 0!==m&&u.setDraggable(m),void 0!==g&&u.setClickable(g),"string"==typeof b&&u.setCursor(b),j&&u.setIcon(j),void 0!==N&&u.setLabel(N),void 0!==k&&u.setOpacity(k),_&&u.setShape(_),"string"==typeof T&&u.setTitle(T),"number"==typeof E&&u.setZIndex(E),L&&Se(google.maps.event.addListener(u,"dblclick",L)),I&&_e(google.maps.event.addListener(u,"dragend",I)),$&&Te(google.maps.event.addListener(u,"dragstart",$)),q&&Ae(google.maps.event.addListener(u,"mousedown",q)),z&&Oe(google.maps.event.addListener(u,"mouseout",z)),U&&$e(google.maps.event.addListener(u,"mouseover",U)),H&&Be(google.maps.event.addListener(u,"mouseup",H)),Z&&Ve(google.maps.event.addListener(u,"rightclick",Z)),A&&He(google.maps.event.addListener(u,"click",A)),O&&We(google.maps.event.addListener(u,"drag",O)),Y&&Ke(google.maps.event.addListener(u,"clickable_changed",Y)),X&&Ye(google.maps.event.addListener(u,"cursor_changed",X)),J&&Xe(google.maps.event.addListener(u,"animation_changed",J)),ae&&et(google.maps.event.addListener(u,"draggable_changed",ae)),le&&rt(google.maps.event.addListener(u,"flat_changed",le)),ce&&st(google.maps.event.addListener(u,"icon_changed",ce)),de&&it(google.maps.event.addListener(u,"position_changed",de)),ue&&lt(google.maps.event.addListener(u,"shape_changed",ue)),me&&dt(google.maps.event.addListener(u,"title_changed",me)),he&&pt(google.maps.event.addListener(u,"visible_changed",he)),fe&&ht(google.maps.event.addListener(u,"zindex_changed",fe)),je(u),ge&&ge(u),()=>{null!==Ne&&google.maps.event.removeListener(Ne),null!==Ce&&google.maps.event.removeListener(Ce),null!==Pe&&google.maps.event.removeListener(Pe),null!==Ee&&google.maps.event.removeListener(Ee),null!==Le&&google.maps.event.removeListener(Le),null!==Ie&&google.maps.event.removeListener(Ie),null!==Fe&&google.maps.event.removeListener(Fe),null!==ze&&google.maps.event.removeListener(ze),null!==Ue&&google.maps.event.removeListener(Ue),null!==Ze&&google.maps.event.removeListener(Ze),null!==Ge&&google.maps.event.removeListener(Ge),null!==Qe&&google.maps.event.removeListener(Qe),null!==Je&&google.maps.event.removeListener(Je),null!==tt&&google.maps.event.removeListener(tt),null!==nt&&google.maps.event.removeListener(nt),null!==at&&google.maps.event.removeListener(at),null!==ct&&google.maps.event.removeListener(ct),null!==ut&&google.maps.event.removeListener(ut),null!==mt&&google.maps.event.removeListener(mt),xe&&xe(u),l?l.removeMarker(u,!!c):u&&u.setMap(null)}},[]);var ft=re.useMemo(()=>p?re.Children.map(p,e=>{if(!re.isValidElement(e))return e;var s=e;return re.cloneElement(s,{anchor:be})}):null,[p,be]);return u.jsx(u.Fragment,{children:ft})||null});let fg=class Marker extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[])}componentDidMount(){var e=this;return _asyncToGenerator(function*(){var s=_objectSpread$d$1(_objectSpread$d$1(_objectSpread$d$1({},e.props.options||hg),e.props.clusterer?hg:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(s),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:mg,eventMap:pg,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:mg,eventMap:pg,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),unregisterEvents(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?re.Children.map(this.props.children,e=>{if(!re.isValidElement(e))return e;var s=e;return re.cloneElement(s,{anchor:this.marker})}):null)||null}};_defineProperty$K(fg,"contextType",Kf);var gg=function(){function ClusterIcon2(e,s){e.getClusterer().extend(ClusterIcon2,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=s,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return ClusterIcon2.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},ClusterIcon2.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},ClusterIcon2.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var s=this.cluster.getClusterer();if(google.maps.event.trigger(s,"click",this.cluster),google.maps.event.trigger(s,"clusterclick",this.cluster),s.getZoomOnClick()){var a=s.getMaxZoom(),l=this.cluster.getBounds(),c=s.getMap();null!==c&&"fitBounds"in c&&c.fitBounds(l),this.timeOut=window.setTimeout(function(){var e=s.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(l);var c=e.getZoom()||0;null!==a&&c>a&&e.setZoom(a+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},ClusterIcon2.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},ClusterIcon2.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},ClusterIcon2.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var s=this.getMap();null!==s&&(this.boundsChangedListener=google.maps.event.addListener(s,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},ClusterIcon2.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},ClusterIcon2.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},ClusterIcon2.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},ClusterIcon2.prototype.show=function(){var e,s,a,l,c,u;if(this.div&&this.center){var p=null===this.sums||void 0===this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,m=this.backgroundPosition.split(" "),h=parseInt((null===(e=m[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt((null===(s=m[1])||void 0===s?void 0:s.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==g?"".concat(g.y,"px"):"0","; left: ").concat(null!==g?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var b=document.createElement("img");b.alt=p,b.src=this.url,b.width=this.width,b.height=this.height,b.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(b.style.clip="rect(-".concat(f,"px, -").concat(h+this.width,"px, -").concat(f+this.height,", -").concat(h,")"));var j=document.createElement("div");j.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(a=this.sums)||void 0===a?void 0:a.text)&&(j.innerText="".concat(null===(l=this.sums)||void 0===l?void 0:l.text)),(null===(c=this.sums)||void 0===c?void 0:c.html)&&(j.innerHTML="".concat(null===(u=this.sums)||void 0===u?void 0:u.html)),this.div.innerHTML="",this.div.appendChild(b),this.div.appendChild(j),this.div.title=p,this.div.style.display=""}this.visible=!0},ClusterIcon2.prototype.useStyle=function(e){this.sums=e;var s=this.cluster.getClusterer().getStyles(),a=s[Math.min(s.length-1,Math.max(0,e.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},ClusterIcon2.prototype.setCenter=function(e){this.center=e},ClusterIcon2.prototype.getPosFromLatLng=function(e){var s=this.getProjection().fromLatLngToDivPixel(e);return null!==s&&(s.x-=this.anchorIcon[1],s.y-=this.anchorIcon[0]),s},ClusterIcon2}(),xg=function(){function Cluster2(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new gg(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return Cluster2.prototype.getSize=function(){return this.markers.length},Cluster2.prototype.getMarkers=function(){return this.markers},Cluster2.prototype.getCenter=function(){return this.center},Cluster2.prototype.getMap=function(){return this.map},Cluster2.prototype.getClusterer=function(){return this.markerClusterer},Cluster2.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),s=0,a=this.getMarkers();s<a.length;s++){var l=a[s].getPosition();l&&e.extend(l)}return e},Cluster2.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},Cluster2.prototype.addMarker=function(e){var s,a;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(a=e.getPosition())){var l=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(l-1)+a.lat())/l,(this.center.lng()*(l-1)+a.lng())/l),this.calculateBounds()}}else(a=e.getPosition())&&(this.center=a,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var c=this.markers.length,u=this.markerClusterer.getMaxZoom(),p=null===(s=this.map)||void 0===s?void 0:s.getZoom();if(null!==u&&void 0!==p&&p>u)e.getMap()!==this.map&&e.setMap(this.map);else if(c<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(c===this.minClusterSize)for(var m=0,h=this.markers;m<h.length;m++){h[m].setMap(null)}else e.setMap(null);return!0},Cluster2.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var s=e.getPosition();if(s)return this.bounds.contains(s)}return!1},Cluster2.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},Cluster2.prototype.updateIcon=function(){var e,s=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==a&&void 0!==l&&l>a||s<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},Cluster2.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var s=0;s<this.markers.length;s++)if(e===this.markers[s])return!0;return!1},Cluster2}();function CALCULATOR(e,s){var a=e.length,l=a.toString().length,c=Math.min(l,s);return{text:a.toString(),index:c,title:""}}var vg=[53,56,66,78,90],yg=function(){function Clusterer2(e,s,a){void 0===s&&(s=[]),void 0===a&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(Clusterer2,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,void 0!==a.zoomOnClick&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,void 0!==a.averageCenter&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,void 0!==a.ignoreHidden&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,void 0!==a.enableRetinaIcons&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=a.imageExtension||"png",this.imageSizes=a.imageSizes||vg,this.calculator=a.calculator||CALCULATOR,this.batchSize=a.batchSize||2e3,this.batchSizeIE=a.batchSizeIE||500,this.clusterClass=a.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(s,!0),this.setMap(e)}return Clusterer2.prototype.onZoomChanged=function(){var e,s;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(s=this.getMap())||void 0===s?void 0:s.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},Clusterer2.prototype.onIdle=function(){this.redraw()},Clusterer2.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},Clusterer2.prototype.onRemove=function(){for(var e=0,s=this.markers;e<s.length;e++){var a=s[e];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var l=0,c=this.clusters;l<c.length;l++){c[l].remove()}this.clusters=[];for(var u=0,p=this.listeners;u<p.length;u++){var m=p[u];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},Clusterer2.prototype.draw=function(){},Clusterer2.prototype.getMap=function(){return null},Clusterer2.prototype.getPanes=function(){return null},Clusterer2.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function fromContainerPixelToLatLng(){return null},fromDivPixelToLatLng:function fromDivPixelToLatLng(){return null},fromLatLngToContainerPixel:function fromLatLngToContainerPixel(){return null},fromLatLngToDivPixel:function fromLatLngToDivPixel(){return null},getVisibleRegion:function getVisibleRegion(){return null},getWorldWidth:function getWorldWidth(){return 0}}},Clusterer2.prototype.setMap=function(){},Clusterer2.prototype.addListener=function(){return{remove:function remove(){}}},Clusterer2.prototype.bindTo=function(){},Clusterer2.prototype.get=function(){},Clusterer2.prototype.notify=function(){},Clusterer2.prototype.set=function(){},Clusterer2.prototype.setValues=function(){},Clusterer2.prototype.unbind=function(){},Clusterer2.prototype.unbindAll=function(){},Clusterer2.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},Clusterer2.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),s=new google.maps.LatLngBounds,a=0,l=e;a<l.length;a++){var c=l[a].getPosition();c&&s.extend(c)}var u=this.getMap();null!==u&&"fitBounds"in u&&u.fitBounds(s)},Clusterer2.prototype.getGridSize=function(){return this.gridSize},Clusterer2.prototype.setGridSize=function(e){this.gridSize=e},Clusterer2.prototype.getMinimumClusterSize=function(){return this.minClusterSize},Clusterer2.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},Clusterer2.prototype.getMaxZoom=function(){return this.maxZoom},Clusterer2.prototype.setMaxZoom=function(e){this.maxZoom=e},Clusterer2.prototype.getStyles=function(){return this.styles},Clusterer2.prototype.setStyles=function(e){this.styles=e},Clusterer2.prototype.getTitle=function(){return this.title},Clusterer2.prototype.setTitle=function(e){this.title=e},Clusterer2.prototype.getZoomOnClick=function(){return this.zoomOnClick},Clusterer2.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},Clusterer2.prototype.getAverageCenter=function(){return this.averageCenter},Clusterer2.prototype.setAverageCenter=function(e){this.averageCenter=e},Clusterer2.prototype.getIgnoreHidden=function(){return this.ignoreHidden},Clusterer2.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},Clusterer2.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},Clusterer2.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},Clusterer2.prototype.getImageExtension=function(){return this.imageExtension},Clusterer2.prototype.setImageExtension=function(e){this.imageExtension=e},Clusterer2.prototype.getImagePath=function(){return this.imagePath},Clusterer2.prototype.setImagePath=function(e){this.imagePath=e},Clusterer2.prototype.getImageSizes=function(){return this.imageSizes},Clusterer2.prototype.setImageSizes=function(e){this.imageSizes=e},Clusterer2.prototype.getCalculator=function(){return this.calculator},Clusterer2.prototype.setCalculator=function(e){this.calculator=e},Clusterer2.prototype.getBatchSizeIE=function(){return this.batchSizeIE},Clusterer2.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},Clusterer2.prototype.getClusterClass=function(){return this.clusterClass},Clusterer2.prototype.setClusterClass=function(e){this.clusterClass=e},Clusterer2.prototype.getMarkers=function(){return this.markers},Clusterer2.prototype.getTotalMarkers=function(){return this.markers.length},Clusterer2.prototype.getClusters=function(){return this.clusters},Clusterer2.prototype.getTotalClusters=function(){return this.clusters.length},Clusterer2.prototype.addMarker=function(e,s){this.pushMarkerTo(e),s||this.redraw()},Clusterer2.prototype.addMarkers=function(e,s){for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=e[a];l&&this.pushMarkerTo(l)}s||this.redraw()},Clusterer2.prototype.pushMarkerTo=function(e){var s=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){s.ready&&(e.isAdded=!1,s.repaint())}),e.isAdded=!1,this.markers.push(e)},Clusterer2.prototype.removeMarker_=function(e){var s=-1;if(this.markers.indexOf)s=this.markers.indexOf(e);else for(var a=0;a<this.markers.length;a++)if(e===this.markers[a]){s=a;break}return-1!==s&&(e.setMap(null),this.markers.splice(s,1),!0)},Clusterer2.prototype.removeMarker=function(e,s){var a=this.removeMarker_(e);return!s&&a&&this.repaint(),a},Clusterer2.prototype.removeMarkers=function(e,s){for(var a=!1,l=0,c=e;l<c.length;l++){var u=c[l];a=a||this.removeMarker_(u)}return!s&&a&&this.repaint(),a},Clusterer2.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},Clusterer2.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function timeout(){for(var s=0,a=e;s<a.length;s++){a[s].remove()}},0)},Clusterer2.prototype.getExtendedBounds=function(e){var s=this.getProjection(),a=s.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==a&&(a.x+=this.gridSize,a.y-=this.gridSize);var l=s.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==l&&(l.x-=this.gridSize,l.y+=this.gridSize),null!==a){var c=s.fromDivPixelToLatLng(a);null!==c&&e.extend(c)}if(null!==l){var u=s.fromDivPixelToLatLng(l);null!==u&&e.extend(u)}return e},Clusterer2.prototype.redraw=function(){this.createClusters(0)},Clusterer2.prototype.resetViewport=function(e){for(var s=0,a=this.clusters;s<a.length;s++){a[s].remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var u=c[l];u.isAdded=!1,e&&u.setMap(null)}},Clusterer2.prototype.distanceBetweenPoints=function(e,s){var a=(s.lat()-e.lat())*Math.PI/180,l=(s.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(s.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371},Clusterer2.prototype.isMarkerInBounds=function(e,s){var a=e.getPosition();return!!a&&s.contains(a)},Clusterer2.prototype.addToClosestCluster=function(e){for(var s,a=4e4,l=null,c=0,u=this.clusters;c<u.length;c++){var p=(s=u[c]).getCenter(),m=e.getPosition();if(p&&m){var h=this.distanceBetweenPoints(p,m);h<a&&(a=h,l=s)}}l&&l.isMarkerInClusterBounds(e)?l.addMarker(e):((s=new xg(this)).addMarker(e),this.clusters.push(s))},Clusterer2.prototype.createClusters=function(e){var s=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),l=(null!==a&&"getBounds"in a?a.getBounds():null),c=((null==a?void 0:a.getZoom())||0)>3?new google.maps.LatLngBounds(null==l?void 0:l.getSouthWest(),null==l?void 0:l.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),u=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),m=e;m<p;m++){var h=this.markers[m];h&&!h.isAdded&&this.isMarkerInBounds(h,u)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){s.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,g=this.clusters;f<g.length;f++){g[f].updateIcon()}}}},Clusterer2.prototype.extend=function(e,s){return function applyExtend(e){for(var s in e.prototype){var a=s;this.prototype[a]=e.prototype[a]}return this}.apply(e,[s])},Clusterer2}();function ownKeys$c$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}var bg={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},jg={averageCenter(e,s){e.setAverageCenter(s)},batchSizeIE(e,s){e.setBatchSizeIE(s)},calculator(e,s){e.setCalculator(s)},clusterClass(e,s){e.setClusterClass(s)},enableRetinaIcons(e,s){e.setEnableRetinaIcons(s)},gridSize(e,s){e.setGridSize(s)},ignoreHidden(e,s){e.setIgnoreHidden(s)},imageExtension(e,s){e.setImageExtension(s)},imagePath(e,s){e.setImagePath(s)},imageSizes(e,s){e.setImageSizes(s)},maxZoom(e,s){e.setMaxZoom(s)},minimumClusterSize(e,s){e.setMinimumClusterSize(s)},styles(e,s){e.setStyles(s)},title(e,s){e.setTitle(s)},zoomOnClick(e,s){e.setZoomOnClick(s)}},wg={};re.memo(function MarkerClustererFunctional(e){var{children:s,options:a,averageCenter:l,batchSizeIE:c,calculator:u,clusterClass:p,enableRetinaIcons:m,gridSize:h,ignoreHidden:f,imageExtension:g,imagePath:b,imageSizes:j,maxZoom:N,minimumClusterSize:k,styles:_,title:T,zoomOnClick:E,onClick:A,onClusteringBegin:L,onClusteringEnd:O,onMouseOver:I,onMouseOut:$,onLoad:z,onUnmount:U}=e,[H,q]=re.useState(null),Z=re.useContext(Kf),[Y,X]=re.useState(null),[J,ae]=re.useState(null),[le,ce]=re.useState(null),[de,ue]=re.useState(null),[me,he]=re.useState(null);return re.useEffect(()=>{H&&$&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener(H,bg.onMouseOut,$)))},[$]),re.useEffect(()=>{H&&I&&(null!==me&&google.maps.event.removeListener(me),he(google.maps.event.addListener(H,bg.onMouseOver,I)))},[I]),re.useEffect(()=>{H&&A&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(H,bg.onClick,A)))},[A]),re.useEffect(()=>{H&&L&&(null!==J&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(H,bg.onClusteringBegin,L)))},[L]),re.useEffect(()=>{H&&O&&(null!==le&&google.maps.event.removeListener(le),ae(google.maps.event.addListener(H,bg.onClusteringEnd,O)))},[O]),re.useEffect(()=>{void 0!==l&&null!==H&&jg.averageCenter(H,l)},[H,l]),re.useEffect(()=>{void 0!==c&&null!==H&&jg.batchSizeIE(H,c)},[H,c]),re.useEffect(()=>{void 0!==u&&null!==H&&jg.calculator(H,u)},[H,u]),re.useEffect(()=>{void 0!==p&&null!==H&&jg.clusterClass(H,p)},[H,p]),re.useEffect(()=>{void 0!==m&&null!==H&&jg.enableRetinaIcons(H,m)},[H,m]),re.useEffect(()=>{void 0!==h&&null!==H&&jg.gridSize(H,h)},[H,h]),re.useEffect(()=>{void 0!==f&&null!==H&&jg.ignoreHidden(H,f)},[H,f]),re.useEffect(()=>{void 0!==g&&null!==H&&jg.imageExtension(H,g)},[H,g]),re.useEffect(()=>{void 0!==b&&null!==H&&jg.imagePath(H,b)},[H,b]),re.useEffect(()=>{void 0!==j&&null!==H&&jg.imageSizes(H,j)},[H,j]),re.useEffect(()=>{void 0!==N&&null!==H&&jg.maxZoom(H,N)},[H,N]),re.useEffect(()=>{void 0!==k&&null!==H&&jg.minimumClusterSize(H,k)},[H,k]),re.useEffect(()=>{void 0!==_&&null!==H&&jg.styles(H,_)},[H,_]),re.useEffect(()=>{void 0!==T&&null!==H&&jg.title(H,T)},[H,T]),re.useEffect(()=>{void 0!==E&&null!==H&&jg.zoomOnClick(H,E)},[H,E]),re.useEffect(()=>{if(Z){var e=function _objectSpread$c$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$c$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$c$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}({},a||wg),s=new yg(Z,[],e);return l&&jg.averageCenter(s,l),c&&jg.batchSizeIE(s,c),u&&jg.calculator(s,u),p&&jg.clusterClass(s,p),m&&jg.enableRetinaIcons(s,m),h&&jg.gridSize(s,h),f&&jg.ignoreHidden(s,f),g&&jg.imageExtension(s,g),b&&jg.imagePath(s,b),j&&jg.imageSizes(s,j),N&&jg.maxZoom(s,N),k&&jg.minimumClusterSize(s,k),_&&jg.styles(s,_),T&&jg.title(s,T),E&&jg.zoomOnClick(s,E),$&&ue(google.maps.event.addListener(s,bg.onMouseOut,$)),I&&he(google.maps.event.addListener(s,bg.onMouseOver,I)),A&&X(google.maps.event.addListener(s,bg.onClick,A)),L&&ae(google.maps.event.addListener(s,bg.onClusteringBegin,L)),O&&ce(google.maps.event.addListener(s,bg.onClusteringEnd,O)),q(s),z&&z(s),()=>{null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),null!==le&&google.maps.event.removeListener(le),U&&U(s)}}},[]),null!==H&&s(H)||null});class ClustererComponent extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{markerClusterer:null}),_defineProperty$K(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new yg(this.context,[],this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:jg,eventMap:bg,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:jg,eventMap:bg,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),unregisterEvents(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function cancelHandler(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}_defineProperty$K(ClustererComponent,"contextType",Kf);var Ng=function(){function InfoBox2(e){void 0===e&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(InfoBox2,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),void 0===e.visible&&(void 0===e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return InfoBox2.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"==typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(null!==s&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=0,c=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];l<c.length;l++){var u=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,u,cancelHandler))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function ignoreHandler2(s){s.returnValue=!1,s.preventDefault&&s.preventDefault(),e.enableEventPropagation||cancelHandler(s)}),google.maps.event.trigger(this,"domready")}},InfoBox2.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},InfoBox2.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},InfoBox2.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},InfoBox2.prototype.getCloseClickHandler=function(){return this.closeClickHandler},InfoBox2.prototype.panBox=function(e){if(this.div&&!e){var s=this.getMap();if(s instanceof google.maps.Map){var a=0,l=0,c=s.getBounds();c&&!c.contains(this.position)&&s.setCenter(this.position);var u=s.getDiv(),p=u.offsetWidth,m=u.offsetHeight,h=this.pixelOffset.width,f=this.pixelOffset.height,g=this.div.offsetWidth,b=this.div.offsetHeight,j=this.infoBoxClearance.width,N=this.infoBoxClearance.height,k=this.getProjection().fromLatLngToContainerPixel(this.position);null!==k&&(k.x<-h+j?a=k.x+h-j:k.x+g+h+j>p&&(a=k.x+g+h+j-p),this.alignBottom?k.y<-f+N+b?l=k.y+f-N-b:k.y+f+N>m&&(l=k.y+f+N-m):k.y<-f+N?l=k.y+f-N:k.y+b+f+N>m&&(l=k.y+b+f+N-m)),0===a&&0===l||s.panBy(a,l)}}},InfoBox2.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.div.style[s]=e[s]);if(this.div.style.webkitTransform="translateZ(0)",void 0!==this.div.style.opacity&&""!==this.div.style.opacity){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*a+')"',this.div.style.filter="alpha(opacity="+100*a+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},InfoBox2.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var s=this.div.ownerDocument,a=s&&s.defaultView?s.defaultView.getComputedStyle(this.div,""):null;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var l=this.div.currentStyle;l&&(e.top=parseInt(l.borderTopWidth||"",10)||0,e.bottom=parseInt(l.borderBottomWidth||"",10)||0,e.left=parseInt(l.borderLeftWidth||"",10)||0,e.right=parseInt(l.borderRightWidth||"",10)||0)}return e},InfoBox2.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},InfoBox2.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},InfoBox2.prototype.setOptions=function(e){void 0===e&&(e={}),void 0!==e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),void 0!==e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),void 0!==e.content&&this.setContent(e.content),void 0!==e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.pixelOffset&&(this.pixelOffset=e.pixelOffset),void 0!==e.alignBottom&&(this.alignBottom=e.alignBottom),void 0!==e.position&&this.setPosition(e.position),void 0!==e.zIndex&&this.setZIndex(e.zIndex),void 0!==e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),void 0!==e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),void 0!==e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),void 0!==e.isHidden&&(this.isHidden=e.isHidden),void 0!==e.visible&&(this.isHidden=!e.visible),void 0!==e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},InfoBox2.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},InfoBox2.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox2.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},InfoBox2.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},InfoBox2.prototype.getContent=function(){return this.content},InfoBox2.prototype.getPosition=function(){return this.position},InfoBox2.prototype.getZIndex=function(){return this.zIndex},InfoBox2.prototype.getVisible=function(){var e=this.getMap();return null!=e&&!this.isHidden},InfoBox2.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},InfoBox2.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},InfoBox2.prototype.open=function(e,s){var a=this;s&&(this.position=s.getPosition(),this.moveListener=google.maps.event.addListener(s,"position_changed",function(){var e=s.getPosition();a.setPosition(e)}),this.mapListener=google.maps.event.addListener(s,"map_changed",function(){a.setMap(s.map)})),this.setMap(e),this.div&&this.panBox()},InfoBox2.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,s=this.eventListeners;e<s.length;e++){var a=s[e];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},InfoBox2.prototype.extend=function(e,s){return function applyExtend(e){for(var s in e.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=e.prototype[s]);return this}.apply(e,[s])},InfoBox2}(),Sg=["position"],Cg=["position"];function ownKeys$b$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$b$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$b$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$b$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}var kg,_g,Pg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Tg={options(e,s){e.setOptions(s)},position(e,s){s instanceof google.maps.LatLng?e.setPosition(s):e.setPosition(new google.maps.LatLng(s.lat,s.lng))},visible(e,s){e.setVisible(s)},zIndex(e,s){e.setZIndex(s)}},Eg={};re.memo(function InfoBoxFunctional(e){var{children:s,anchor:a,options:l,position:c,zIndex:u,onCloseClick:p,onDomReady:m,onContentChanged:h,onPositionChanged:f,onZindexChanged:g,onLoad:b,onUnmount:j}=e,N=re.useContext(Kf),[k,_]=re.useState(null),[T,E]=re.useState(null),[A,L]=re.useState(null),[O,I]=re.useState(null),[$,z]=re.useState(null),[U,H]=re.useState(null),q=re.useRef(null);return re.useEffect(()=>{N&&null!==k&&(k.close(),a?k.open(N,a):k.getPosition()&&k.open(N))},[N,k,a]),re.useEffect(()=>{l&&null!==k&&k.setOptions(l)},[k,l]),re.useEffect(()=>{if(c&&null!==k){var e=c instanceof google.maps.LatLng?c:new google.maps.LatLng(c.lat,c.lng);k.setPosition(e)}},[c]),re.useEffect(()=>{"number"==typeof u&&null!==k&&k.setZIndex(u)},[u]),re.useEffect(()=>{k&&p&&(null!==T&&google.maps.event.removeListener(T),E(google.maps.event.addListener(k,"closeclick",p)))},[p]),re.useEffect(()=>{k&&m&&(null!==A&&google.maps.event.removeListener(A),L(google.maps.event.addListener(k,"domready",m)))},[m]),re.useEffect(()=>{k&&h&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(k,"content_changed",h)))},[h]),re.useEffect(()=>{k&&f&&(null!==$&&google.maps.event.removeListener($),z(google.maps.event.addListener(k,"position_changed",f)))},[f]),re.useEffect(()=>{k&&g&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(k,"zindex_changed",g)))},[g]),re.useEffect(()=>{if(N){var e,s=l||Eg,{position:c}=s,u=_objectWithoutProperties$l(s,Sg);!c||c instanceof google.maps.LatLng||(e=new google.maps.LatLng(c.lat,c.lng));var Z=new Ng(_objectSpread$b$1(_objectSpread$b$1({},u),e?{position:e}:{}));q.current=document.createElement("div"),_(Z),p&&E(google.maps.event.addListener(Z,"closeclick",p)),m&&L(google.maps.event.addListener(Z,"domready",m)),h&&I(google.maps.event.addListener(Z,"content_changed",h)),f&&z(google.maps.event.addListener(Z,"position_changed",f)),g&&H(google.maps.event.addListener(Z,"zindex_changed",g)),Z.setContent(q.current),a?Z.open(N,a):Z.getPosition()?Z.open(N):Zf(!1,"You must provide either an anchor or a position prop for <InfoBox>."),b&&b(Z)}return()=>{null!==k&&(T&&google.maps.event.removeListener(T),O&&google.maps.event.removeListener(O),A&&google.maps.event.removeListener(A),$&&google.maps.event.removeListener($),U&&google.maps.event.removeListener(U),j&&j(k),k.close())}},[]),q.current?Fr.createPortal(re.Children.only(s),q.current):null});class InfoBoxComponent extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"containerElement",null),_defineProperty$K(this,"state",{infoBox:null}),_defineProperty$K(this,"open",(e,s)=>{s?null!==this.context&&e.open(this.context,s):e.getPosition()?null!==this.context&&e.open(this.context):Zf(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),_defineProperty$K(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,s=this.props.options||{},{position:a}=s,l=_objectWithoutProperties$l(s,Cg);!a||a instanceof google.maps.LatLng||(e=new google.maps.LatLng(a.lat,a.lng));var c=new Ng(_objectSpread$b$1(_objectSpread$b$1({},l),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Tg,eventMap:Pg,prevProps:{},nextProps:this.props,instance:c}),this.setState({infoBox:c},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:s}=this.state;null!==s&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Tg,eventMap:Pg,prevProps:e,nextProps:this.props,instance:s}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:s}=this.state;null!==s&&(e&&e(s),unregisterEvents(this.registeredEvents),s.close())}render(){return this.containerElement?Fr.createPortal(re.Children.only(this.props.children),this.containerElement):null}}_defineProperty$K(InfoBoxComponent,"contextType",Kf);var Ag=getDefaultExportFromCjs$1(function requireFastDeepEqual(){return _g?kg:(_g=1,kg=function equal3(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!equal3(e[l],s[l]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;for(l=a;0!==l--;){var u=c[l];if(!equal3(e[u],s[u]))return!1}return!0}return e!=e&&s!=s})}()),Mg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class KDBush{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[s,a]=new Uint8Array(e,0,2);if(219!==s)throw new Error("Data does not appear to be in a KDBush format.");var l=a>>4;if(1!==l)throw new Error("Got v".concat(l," data when expected v").concat(1,"."));var c=Mg[15&a];if(!c)throw new Error("Unrecognized array type.");var[u]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new KDBush(p,u,c,e)}constructor(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,l=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=a,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var c=Mg.indexOf(this.ArrayType),u=2*e*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,m=(8-p%8)%8;if(c<0)throw new Error("Unexpected typed array class: ".concat(a,"."));l&&l instanceof ArrayBuffer?(this.data=l,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+p+m,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+u+p+m),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+p+m,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+c]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=e)}add(e,s){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=e,this.coords[this._pos++]=s,a}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return sort(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,s,a,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:c,coords:u,nodeSize:p}=this,m=[0,c.length-1,0],h=[];m.length;){var f=m.pop()||0,g=m.pop()||0,b=m.pop()||0;if(g-b<=p)for(var j=b;j<=g;j++){var N=u[2*j],k=u[2*j+1];N>=e&&N<=a&&k>=s&&k<=l&&h.push(c[j])}else{var _=b+g>>1,T=u[2*_],E=u[2*_+1];T>=e&&T<=a&&E>=s&&E<=l&&h.push(c[_]),(0===f?e<=T:s<=E)&&(m.push(b),m.push(_-1),m.push(1-f)),(0===f?a>=T:l>=E)&&(m.push(_+1),m.push(g),m.push(1-f))}}return h}within(e,s,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:u}=this,p=[0,l.length-1,0],m=[],h=a*a;p.length;){var f=p.pop()||0,g=p.pop()||0,b=p.pop()||0;if(g-b<=u)for(var j=b;j<=g;j++)sqDist(c[2*j],c[2*j+1],e,s)<=h&&m.push(l[j]);else{var N=b+g>>1,k=c[2*N],_=c[2*N+1];sqDist(k,_,e,s)<=h&&m.push(l[N]),(0===f?e-a<=k:s-a<=_)&&(p.push(b),p.push(N-1),p.push(1-f)),(0===f?e+a>=k:s+a>=_)&&(p.push(N+1),p.push(g),p.push(1-f))}}return m}}function sort(e,s,a,l,c,u){if(!(c-l<=a)){var p=l+c>>1;select(e,s,p,l,c,u),sort(e,s,a,l,p-1,1-u),sort(e,s,a,p+1,c,1-u)}}function select(e,s,a,l,c,u){for(;c>l;){if(c-l>600){var p=c-l+1,m=a-l+1,h=Math.log(p),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(p-f)/p)*(m-p/2<0?-1:1);select(e,s,a,Math.max(l,Math.floor(a-m*f/p+g)),Math.min(c,Math.floor(a+(p-m)*f/p+g)),u)}var b=s[2*a+u],j=l,N=c;for(swapItem(e,s,l,a),s[2*c+u]>b&&swapItem(e,s,l,c);j<N;){for(swapItem(e,s,j,N),j++,N--;s[2*j+u]<b;)j++;for(;s[2*N+u]>b;)N--}s[2*l+u]===b?swapItem(e,s,l,N):swapItem(e,s,++N,c),N<=a&&(l=N+1),a<=N&&(c=N-1)}}function swapItem(e,s,a,l){swap$1(e,a,l),swap$1(s,2*a,2*l),swap$1(s,2*a+1,2*l+1)}function swap$1(e,s,a){var l=e[s];e[s]=e[a],e[a]=l}function sqDist(e,s,a,l){var c=e-a,u=s-l;return c*c+u*u}var Lg={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Dg=Math.fround||(e=>s=>(e[0]=+s,e[0]))(new Float32Array(1));class Supercluster{constructor(e){this.options=Object.assign(Object.create(Lg),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:s,minZoom:a,maxZoom:l}=this.options;s&&console.time("total time");var c="prepare ".concat(e.length," points");s&&console.time(c),this.points=e;for(var u=[],p=0;p<e.length;p++){var m=e[p];if(m.geometry){var[h,f]=m.geometry.coordinates,g=Dg(lngX(h)),b=Dg(latY(f));u.push(g,b,1/0,p,-1,1),this.options.reduce&&u.push(0)}}var j=this.trees[l+1]=this._createTree(u);s&&console.timeEnd(c);for(var N=l;N>=a;N--){var k=+Date.now();j=this.trees[N]=this._createTree(this._cluster(j,N)),s&&console.log("z%d: %d clusters in %dms",N,j.numItems,+Date.now()-k)}return s&&console.timeEnd("total time"),this}getClusters(e,s){var a=((e[0]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[1])),c=180===e[2]?180:((e[2]+180)%360+360)%360-180,u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)a=-180,c=180;else if(a>c){var p=this.getClusters([a,l,180,u],s),m=this.getClusters([-180,l,c,u],s);return p.concat(m)}var h=this.trees[this._limitZoom(s)],f=h.range(lngX(a),latY(u),lngX(c),latY(l)),g=h.data,b=[];for(var j of f){var N=this.stride*j;b.push(g[N+5]>1?getClusterJSON(g,N,this.clusterProps):this.points[g[N+3]])}return b}getChildren(e){var s=this._getOriginId(e),a=this._getOriginZoom(e),l="No cluster with the specified id.",c=this.trees[a];if(!c)throw new Error(l);var u=c.data;if(s*this.stride>=u.length)throw new Error(l);var p=this.options.radius/(this.options.extent*Math.pow(2,a-1)),m=u[s*this.stride],h=u[s*this.stride+1],f=c.within(m,h,p),g=[];for(var b of f){var j=b*this.stride;u[j+4]===e&&g.push(u[j+5]>1?getClusterJSON(u,j,this.clusterProps):this.points[u[j+3]])}if(0===g.length)throw new Error(l);return g}getLeaves(e,s,a){s=s||10,a=a||0;var l=[];return this._appendLeaves(l,e,s,a,0),l}getTile(e,s,a){var l=this.trees[this._limitZoom(e)],c=Math.pow(2,e),{extent:u,radius:p}=this.options,m=p/u,h=(a-m)/c,f=(a+1+m)/c,g={features:[]};return this._addTileFeatures(l.range((s-m)/c,h,(s+1+m)/c,f),l.data,s,a,c,g),0===s&&this._addTileFeatures(l.range(1-m/c,h,1,f),l.data,c,a,c,g),s===c-1&&this._addTileFeatures(l.range(0,h,m/c,f),l.data,-1,a,c,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var s=this._getOriginZoom(e)-1;s<=this.options.maxZoom;){var a=this.getChildren(e);if(s++,1!==a.length)break;e=a[0].properties.cluster_id}return s}_appendLeaves(e,s,a,l,c){var u=this.getChildren(s);for(var p of u){var m=p.properties;if(m&&m.cluster?c+m.point_count<=l?c+=m.point_count:c=this._appendLeaves(e,m.cluster_id,a,l,c):c<l?c++:e.push(p),e.length===a)break}return c}_createTree(e){for(var s=new KDBush(e.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<e.length;a+=this.stride)s.add(e[a],e[a+1]);return s.finish(),s.data=e,s}_addTileFeatures(e,s,a,l,c,u){for(var p of e){var m=p*this.stride,h=s[m+5]>1,f=void 0,g=void 0,b=void 0;if(h)f=getClusterProperties(s,m,this.clusterProps),g=s[m],b=s[m+1];else{var j=this.points[s[m+3]];f=j.properties;var[N,k]=j.geometry.coordinates;g=lngX(N),b=latY(k)}var _={type:1,geometry:[[Math.round(this.options.extent*(g*c-a)),Math.round(this.options.extent*(b*c-l))]],tags:f},T=void 0;void 0!==(T=h||this.options.generateId?s[m+3]:this.points[s[m+3]].id)&&(_.id=T),u.features.push(_)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,s){for(var{radius:a,extent:l,reduce:c,minPoints:u}=this.options,p=a/(l*Math.pow(2,s)),m=e.data,h=[],f=this.stride,g=0;g<m.length;g+=f)if(!(m[g+2]<=s)){m[g+2]=s;var b=m[g],j=m[g+1],N=e.within(m[g],m[g+1],p),k=m[g+5],_=k;for(var T of N){var E=T*f;m[E+2]>s&&(_+=m[E+5])}if(_>k&&_>=u){var A=b*k,L=j*k,O=void 0,I=-1,$=(g/f<<5)+(s+1)+this.points.length;for(var z of N){var U=z*f;if(!(m[U+2]<=s)){m[U+2]=s;var H=m[U+5];A+=m[U]*H,L+=m[U+1]*H,m[U+4]=$,c&&(O||(O=this._map(m,g,!0),I=this.clusterProps.length,this.clusterProps.push(O)),c(O,this._map(m,U)))}}m[g+4]=$,h.push(A/_,L/_,1/0,$,-1,_),c&&h.push(I)}else{for(var q=0;q<f;q++)h.push(m[g+q]);if(_>1)for(var Z of N){var Y=Z*f;if(!(m[Y+2]<=s)){m[Y+2]=s;for(var X=0;X<f;X++)h.push(m[Y+X])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,s,a){if(e[s+5]>1){var l=this.clusterProps[e[s+6]];return a?Object.assign({},l):l}var c=this.points[e[s+3]].properties,u=this.options.map(c);return a&&u===c?Object.assign({},u):u}}function getClusterJSON(e,s,a){return{type:"Feature",id:e[s+3],properties:getClusterProperties(e,s,a),geometry:{type:"Point",coordinates:[(u=e[s],360*(u-.5)),(l=e[s+1],c=(180-360*l)*Math.PI/180,360*Math.atan(Math.exp(c))/Math.PI-90)]}};var l,c,u;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}function getClusterProperties(e,s,a){var l=e[s+5],c=l>=1e4?"".concat(Math.round(l/1e3),"k"):l>=1e3?"".concat(Math.round(l/100)/10,"k"):l,u=e[s+6],p=-1===u?{}:Object.assign({},a[u]);return Object.assign(p,{cluster:!0,cluster_id:e[s+3],point_count:l,point_count_abbreviated:c})}function lngX(e){return e/360+.5}function latY(e){var s=Math.sin(e*Math.PI/180),a=.5-.25*Math.log((1+s)/(1-s))/Math.PI;return a<0?0:a>1?1:a}class MarkerUtils{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,s){this.isAdvancedMarker(e)?e.map=s:e.setMap(s)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class Cluster{constructor(e){var{markers:s,position:a}=e;this.markers=s,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var s of this.markers)e.extend(MarkerUtils.getPosition(s));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>MarkerUtils.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(MarkerUtils.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class AbstractAlgorithm{constructor(e){var{maxZoom:s=16}=e;this.maxZoom=s}noop(e){var{markers:s}=e;return noop$1$1(s)}}var Og,Ig,noop$1$1=e=>e.map(e=>new Cluster({position:MarkerUtils.getPosition(e),markers:[e]}));class SuperClusterAlgorithm extends AbstractAlgorithm{constructor(e){var{maxZoom:s,radius:a=60}=e,l=function __rest(e,s){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(e);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(e,l[c])&&(a[l[c]]=e[l[c]])}return a}(e,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new Supercluster(Object.assign({maxZoom:this.maxZoom,radius:a},l))}calculate(e){var s=!1,a={zoom:e.map.getZoom()};if(!Ag(e.markers,this.markers)){s=!0,this.markers=[...e.markers];var l=this.markers.map(e=>{var s=MarkerUtils.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:e}}});this.superCluster.load(l)}return s||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(s=!Ag(this.state,a)),this.state=a,s&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:s}}cluster(e){var{map:s}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(s.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[s,a]},properties:l}=e;if(l.cluster)return new Cluster({markers:this.superCluster.getLeaves(l.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:a,lng:s}});var c=l.marker;return new Cluster({markers:[c],position:MarkerUtils.getPosition(c)})}}class ClusterStats{constructor(e,s){this.markers={sum:e.length};var a=s.map(e=>e.count),l=a.reduce((e,s)=>e+s,0);this.clusters={count:s.length,markers:{mean:l/s.length,sum:l,min:Math.min(...a),max:Math.max(...a)}}}}class DefaultRenderer{render(e,s,a){var{count:l,position:c}=e,u=l>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(u,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(l,"</text>\n</svg>"),m="Cluster of ".concat(l," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+l;if(MarkerUtils.isAdvancedMarkerAvailable(a)){var f=(new DOMParser).parseFromString(p,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var g={map:a,position:c,zIndex:h,title:m,content:f};return new google.maps.marker.AdvancedMarkerElement(g)}var b={position:c,zIndex:h,title:m,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}class OverlayViewSafe{constructor(){!function extend$1(e,s){for(var a in s.prototype)e.prototype[a]=s.prototype[a]}(OverlayViewSafe,google.maps.OverlayView)}}(Ig=Og||(Og={})).CLUSTERING_BEGIN="clusteringbegin",Ig.CLUSTERING_END="clusteringend",Ig.CLUSTER_CLICK="click";var defaultOnClusterClickHandler=(e,s,a)=>{a.fitBounds(s.bounds)};class MarkerClusterer extends OverlayViewSafe{constructor(e){var{map:s,markers:a=[],algorithmOptions:l={},algorithm:c=new SuperClusterAlgorithm(l),renderer:u=new DefaultRenderer,onClusterClick:p=defaultOnClusterClickHandler}=e;super(),this.markers=[...a],this.clusters=[],this.algorithm=c,this.renderer=u,this.onClusterClick=p,s&&this.setMap(s)}addMarker(e,s){this.markers.includes(e)||(this.markers.push(e),s||this.render())}addMarkers(e,s){e.forEach(e=>{this.addMarker(e,!0)}),s||this.render()}removeMarker(e,s){var a=this.markers.indexOf(e);return-1!==a&&(MarkerUtils.setMap(e,null),this.markers.splice(a,1),s||this.render(),!0)}removeMarkers(e,s){var a=!1;return e.forEach(e=>{a=this.removeMarker(e,!0)||a}),a&&!s&&this.render(),a}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Og.CLUSTERING_BEGIN,this);var{clusters:s,changed:a}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(a||null==a){var l=new Set;for(var c of s)1==c.markers.length&&l.add(c.markers[0]);var u=[];for(var p of this.clusters)null!=p.marker&&(1==p.markers.length?l.has(p.marker)||MarkerUtils.setMap(p.marker,null):u.push(p.marker));this.clusters=s,this.renderClusters(),requestAnimationFrame(()=>u.forEach(e=>MarkerUtils.setMap(e,null)))}google.maps.event.trigger(this,Og.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>MarkerUtils.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new ClusterStats(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(a=>{1===a.markers.length?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,e,s),a.markers.forEach(e=>MarkerUtils.setMap(e,null)),this.onClusterClick&&a.marker.addListener("click",e=>{google.maps.event.trigger(this,Og.CLUSTER_CLICK,a),this.onClusterClick(e,a,s)})),MarkerUtils.setMap(a.marker,s)})}}function ownKeys$a$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$a$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$a$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$a$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function useGoogleMarkerClusterer(e){var s=function useGoogleMap(){Zf(!!re.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=re.useContext(Kf);return Zf(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[a,l]=re.useState(null);return re.useEffect(()=>{if(s&&null===a){var c=new MarkerClusterer(_objectSpread$a$1(_objectSpread$a$1({},e),{},{map:s}));l(c)}},[s]),a}re.memo(function GoogleMarkerClusterer(e){var{children:s,options:a}=e,l=useGoogleMarkerClusterer(a);return null!==l?s(l):null});var $g={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Rg={options(e,s){e.setOptions(s)},position(e,s){e.setPosition(s)},zIndex(e,s){e.setZIndex(s)}};re.memo(function InfoWindowFunctional(e){var{children:s,anchor:a,options:l,position:c,zIndex:u,onCloseClick:p,onDomReady:m,onContentChanged:h,onPositionChanged:f,onZindexChanged:g,onLoad:b,onUnmount:j}=e,N=re.useContext(Kf),[k,_]=re.useState(null),[T,E]=re.useState(null),[A,L]=re.useState(null),[O,I]=re.useState(null),[$,z]=re.useState(null),[U,H]=re.useState(null),q=re.useRef(null);return re.useEffect(()=>{null!==k&&(k.close(),a?k.open(N,a):k.getPosition()&&k.open(N))},[N,k,a]),re.useEffect(()=>{l&&null!==k&&k.setOptions(l)},[k,l]),re.useEffect(()=>{c&&null!==k&&k.setPosition(c)},[c]),re.useEffect(()=>{"number"==typeof u&&null!==k&&k.setZIndex(u)},[u]),re.useEffect(()=>{k&&p&&(null!==T&&google.maps.event.removeListener(T),E(google.maps.event.addListener(k,"closeclick",p)))},[p]),re.useEffect(()=>{k&&m&&(null!==A&&google.maps.event.removeListener(A),L(google.maps.event.addListener(k,"domready",m)))},[m]),re.useEffect(()=>{k&&h&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(k,"content_changed",h)))},[h]),re.useEffect(()=>{k&&f&&(null!==$&&google.maps.event.removeListener($),z(google.maps.event.addListener(k,"position_changed",f)))},[f]),re.useEffect(()=>{k&&g&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(k,"zindex_changed",g)))},[g]),re.useEffect(()=>{var e=new google.maps.InfoWindow(l);return _(e),q.current=document.createElement("div"),p&&E(google.maps.event.addListener(e,"closeclick",p)),m&&L(google.maps.event.addListener(e,"domready",m)),h&&I(google.maps.event.addListener(e,"content_changed",h)),f&&z(google.maps.event.addListener(e,"position_changed",f)),g&&H(google.maps.event.addListener(e,"zindex_changed",g)),e.setContent(q.current),c&&e.setPosition(c),u&&e.setZIndex(u),a?e.open(N,a):e.getPosition()?e.open(N):Zf(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),b&&b(e),()=>{T&&google.maps.event.removeListener(T),O&&google.maps.event.removeListener(O),A&&google.maps.event.removeListener(A),$&&google.maps.event.removeListener($),U&&google.maps.event.removeListener(U),j&&j(e),e.close()}},[]),q.current?Fr.createPortal(re.Children.only(s),q.current):null});class InfoWindow extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"containerElement",null),_defineProperty$K(this,"state",{infoWindow:null}),_defineProperty$K(this,"open",(e,s)=>{s?e.open(this.context,s):e.getPosition()?e.open(this.context):Zf(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),_defineProperty$K(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Rg,eventMap:$g,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Rg,eventMap:$g,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(unregisterEvents(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Fr.createPortal(re.Children.only(this.props.children),this.containerElement):null}}function ownKeys$9$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$9$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$9$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$9$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(InfoWindow,"contextType",Kf);var Fg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Bg={draggable(e,s){e.setDraggable(s)},editable(e,s){e.setEditable(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)},path(e,s){e.setPath(s)},visible(e,s){e.setVisible(s)}},zg={};re.memo(function PolylineFunctional(e){var{options:s,draggable:a,editable:l,visible:c,path:u,onDblClick:p,onDragEnd:m,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:b,onMouseOver:j,onMouseUp:N,onRightClick:k,onClick:_,onDrag:T,onLoad:E,onUnmount:A}=e,L=re.useContext(Kf),[O,I]=re.useState(null),[$,z]=re.useState(null),[U,H]=re.useState(null),[q,Z]=re.useState(null),[Y,X]=re.useState(null),[J,ae]=re.useState(null),[le,ce]=re.useState(null),[de,ue]=re.useState(null),[me,he]=re.useState(null),[fe,ge]=re.useState(null),[xe,ye]=re.useState(null),[be,je]=re.useState(null);return re.useEffect(()=>{null!==O&&O.setMap(L)},[L]),re.useEffect(()=>{void 0!==s&&null!==O&&O.setOptions(s)},[O,s]),re.useEffect(()=>{void 0!==a&&null!==O&&O.setDraggable(a)},[O,a]),re.useEffect(()=>{void 0!==l&&null!==O&&O.setEditable(l)},[O,l]),re.useEffect(()=>{void 0!==c&&null!==O&&O.setVisible(c)},[O,c]),re.useEffect(()=>{void 0!==u&&null!==O&&O.setPath(u)},[O,u]),re.useEffect(()=>{O&&p&&(null!==$&&google.maps.event.removeListener($),z(google.maps.event.addListener(O,"dblclick",p)))},[p]),re.useEffect(()=>{O&&m&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(O,"dragend",m)))},[m]),re.useEffect(()=>{O&&h&&(null!==q&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(O,"dragstart",h)))},[h]),re.useEffect(()=>{O&&f&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(O,"mousedown",f)))},[f]),re.useEffect(()=>{O&&g&&(null!==J&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(O,"mousemove",g)))},[g]),re.useEffect(()=>{O&&b&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(O,"mouseout",b)))},[b]),re.useEffect(()=>{O&&j&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener(O,"mouseover",j)))},[j]),re.useEffect(()=>{O&&N&&(null!==me&&google.maps.event.removeListener(me),he(google.maps.event.addListener(O,"mouseup",N)))},[N]),re.useEffect(()=>{O&&k&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(O,"rightclick",k)))},[k]),re.useEffect(()=>{O&&_&&(null!==xe&&google.maps.event.removeListener(xe),ye(google.maps.event.addListener(O,"click",_)))},[_]),re.useEffect(()=>{O&&T&&(null!==be&&google.maps.event.removeListener(be),je(google.maps.event.addListener(O,"drag",T)))},[T]),re.useEffect(()=>{var e=new google.maps.Polyline(_objectSpread$9$1(_objectSpread$9$1({},s||zg),{},{map:L}));return u&&e.setPath(u),void 0!==c&&e.setVisible(c),void 0!==l&&e.setEditable(l),void 0!==a&&e.setDraggable(a),p&&z(google.maps.event.addListener(e,"dblclick",p)),m&&H(google.maps.event.addListener(e,"dragend",m)),h&&Z(google.maps.event.addListener(e,"dragstart",h)),f&&X(google.maps.event.addListener(e,"mousedown",f)),g&&ae(google.maps.event.addListener(e,"mousemove",g)),b&&ce(google.maps.event.addListener(e,"mouseout",b)),j&&ue(google.maps.event.addListener(e,"mouseover",j)),N&&he(google.maps.event.addListener(e,"mouseup",N)),k&&ge(google.maps.event.addListener(e,"rightclick",k)),_&&ye(google.maps.event.addListener(e,"click",_)),T&&je(google.maps.event.addListener(e,"drag",T)),I(e),E&&E(e),()=>{null!==$&&google.maps.event.removeListener($),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),null!==le&&google.maps.event.removeListener(le),null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==fe&&google.maps.event.removeListener(fe),null!==xe&&google.maps.event.removeListener(xe),A&&A(e),e.setMap(null)}},[]),null});class Polyline extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{polyline:null}),_defineProperty$K(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(_objectSpread$9$1(_objectSpread$9$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Bg,eventMap:Fg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setPolyline(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Bg,eventMap:Fg,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),unregisterEvents(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function ownKeys$8$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$8$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$8$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$8$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(Polyline,"contextType",Kf);var Vg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ug={draggable(e,s){e.setDraggable(s)},editable(e,s){e.setEditable(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)},path(e,s){e.setPath(s)},paths(e,s){e.setPaths(s)},visible(e,s){e.setVisible(s)}};re.memo(function PolygonFunctional(e){var{options:s,draggable:a,editable:l,visible:c,path:u,paths:p,onDblClick:m,onDragEnd:h,onDragStart:f,onMouseDown:g,onMouseMove:b,onMouseOut:j,onMouseOver:N,onMouseUp:k,onRightClick:_,onClick:T,onDrag:E,onLoad:A,onUnmount:L,onEdit:O}=e,I=re.useContext(Kf),[$,z]=re.useState(null),[U,H]=re.useState(null),[q,Z]=re.useState(null),[Y,X]=re.useState(null),[J,ae]=re.useState(null),[le,ce]=re.useState(null),[de,ue]=re.useState(null),[me,he]=re.useState(null),[fe,ge]=re.useState(null),[xe,ye]=re.useState(null),[be,je]=re.useState(null),[Ne,Se]=re.useState(null);return re.useEffect(()=>{null!==$&&$.setMap(I)},[I]),re.useEffect(()=>{void 0!==s&&null!==$&&$.setOptions(s)},[$,s]),re.useEffect(()=>{void 0!==a&&null!==$&&$.setDraggable(a)},[$,a]),re.useEffect(()=>{void 0!==l&&null!==$&&$.setEditable(l)},[$,l]),re.useEffect(()=>{void 0!==c&&null!==$&&$.setVisible(c)},[$,c]),re.useEffect(()=>{void 0!==u&&null!==$&&$.setPath(u)},[$,u]),re.useEffect(()=>{void 0!==p&&null!==$&&$.setPaths(p)},[$,p]),re.useEffect(()=>{$&&"function"==typeof m&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener($,"dblclick",m)))},[m]),re.useEffect(()=>{$&&(google.maps.event.addListener($.getPath(),"insert_at",()=>{null==O||O($)}),google.maps.event.addListener($.getPath(),"set_at",()=>{null==O||O($)}),google.maps.event.addListener($.getPath(),"remove_at",()=>{null==O||O($)}))},[$,O]),re.useEffect(()=>{$&&"function"==typeof h&&(null!==q&&google.maps.event.removeListener(q),Z(google.maps.event.addListener($,"dragend",h)))},[h]),re.useEffect(()=>{$&&"function"==typeof f&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener($,"dragstart",f)))},[f]),re.useEffect(()=>{$&&"function"==typeof g&&(null!==J&&google.maps.event.removeListener(J),ae(google.maps.event.addListener($,"mousedown",g)))},[g]),re.useEffect(()=>{$&&"function"==typeof b&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener($,"mousemove",b)))},[b]),re.useEffect(()=>{$&&"function"==typeof j&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener($,"mouseout",j)))},[j]),re.useEffect(()=>{$&&"function"==typeof N&&(null!==me&&google.maps.event.removeListener(me),he(google.maps.event.addListener($,"mouseover",N)))},[N]),re.useEffect(()=>{$&&"function"==typeof k&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener($,"mouseup",k)))},[k]),re.useEffect(()=>{$&&"function"==typeof _&&(null!==xe&&google.maps.event.removeListener(xe),ye(google.maps.event.addListener($,"rightclick",_)))},[_]),re.useEffect(()=>{$&&"function"==typeof T&&(null!==be&&google.maps.event.removeListener(be),je(google.maps.event.addListener($,"click",T)))},[T]),re.useEffect(()=>{$&&"function"==typeof E&&(null!==Ne&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener($,"drag",E)))},[E]),re.useEffect(()=>{var e=new google.maps.Polygon(_objectSpread$8$1(_objectSpread$8$1({},s),{},{map:I}));return u&&e.setPath(u),p&&e.setPaths(p),void 0!==c&&e.setVisible(c),void 0!==l&&e.setEditable(l),void 0!==a&&e.setDraggable(a),m&&H(google.maps.event.addListener(e,"dblclick",m)),h&&Z(google.maps.event.addListener(e,"dragend",h)),f&&X(google.maps.event.addListener(e,"dragstart",f)),g&&ae(google.maps.event.addListener(e,"mousedown",g)),b&&ce(google.maps.event.addListener(e,"mousemove",b)),j&&ue(google.maps.event.addListener(e,"mouseout",j)),N&&he(google.maps.event.addListener(e,"mouseover",N)),k&&ge(google.maps.event.addListener(e,"mouseup",k)),_&&ye(google.maps.event.addListener(e,"rightclick",_)),T&&je(google.maps.event.addListener(e,"click",T)),E&&Se(google.maps.event.addListener(e,"drag",E)),z(e),A&&A(e),()=>{null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),null!==le&&google.maps.event.removeListener(le),null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==fe&&google.maps.event.removeListener(fe),null!==xe&&google.maps.event.removeListener(xe),null!==be&&google.maps.event.removeListener(be),L&&L(e),e.setMap(null)}},[]),null});let Hg=class Polygon extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ug,eventMap:Vg,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ug,eventMap:Vg,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),unregisterEvents(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}};function ownKeys$7$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$7$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$7$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$7$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(Hg,"contextType",Kf);var qg={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Wg={bounds(e,s){e.setBounds(s)},draggable(e,s){e.setDraggable(s)},editable(e,s){e.setEditable(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)},visible(e,s){e.setVisible(s)}};re.memo(function RectangleFunctional(e){var{options:s,bounds:a,draggable:l,editable:c,visible:u,onDblClick:p,onDragEnd:m,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:b,onMouseOver:j,onMouseUp:N,onRightClick:k,onClick:_,onDrag:T,onBoundsChanged:E,onLoad:A,onUnmount:L}=e,O=re.useContext(Kf),[I,$]=re.useState(null),[z,U]=re.useState(null),[H,q]=re.useState(null),[Z,Y]=re.useState(null),[X,J]=re.useState(null),[ae,le]=re.useState(null),[ce,de]=re.useState(null),[ue,me]=re.useState(null),[he,fe]=re.useState(null),[ge,xe]=re.useState(null),[ye,be]=re.useState(null),[je,Ne]=re.useState(null),[Se,Ce]=re.useState(null);return re.useEffect(()=>{null!==I&&I.setMap(O)},[O]),re.useEffect(()=>{void 0!==s&&null!==I&&I.setOptions(s)},[I,s]),re.useEffect(()=>{void 0!==l&&null!==I&&I.setDraggable(l)},[I,l]),re.useEffect(()=>{void 0!==c&&null!==I&&I.setEditable(c)},[I,c]),re.useEffect(()=>{void 0!==u&&null!==I&&I.setVisible(u)},[I,u]),re.useEffect(()=>{void 0!==a&&null!==I&&I.setBounds(a)},[I,a]),re.useEffect(()=>{I&&p&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(I,"dblclick",p)))},[p]),re.useEffect(()=>{I&&m&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(I,"dragend",m)))},[m]),re.useEffect(()=>{I&&h&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(I,"dragstart",h)))},[h]),re.useEffect(()=>{I&&f&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(I,"mousedown",f)))},[f]),re.useEffect(()=>{I&&g&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(I,"mousemove",g)))},[g]),re.useEffect(()=>{I&&b&&(null!==ce&&google.maps.event.removeListener(ce),de(google.maps.event.addListener(I,"mouseout",b)))},[b]),re.useEffect(()=>{I&&j&&(null!==ue&&google.maps.event.removeListener(ue),me(google.maps.event.addListener(I,"mouseover",j)))},[j]),re.useEffect(()=>{I&&N&&(null!==he&&google.maps.event.removeListener(he),fe(google.maps.event.addListener(I,"mouseup",N)))},[N]),re.useEffect(()=>{I&&k&&(null!==ge&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(I,"rightclick",k)))},[k]),re.useEffect(()=>{I&&_&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(I,"click",_)))},[_]),re.useEffect(()=>{I&&T&&(null!==je&&google.maps.event.removeListener(je),Ne(google.maps.event.addListener(I,"drag",T)))},[T]),re.useEffect(()=>{I&&E&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(I,"bounds_changed",E)))},[E]),re.useEffect(()=>{var e=new google.maps.Rectangle(_objectSpread$7$1(_objectSpread$7$1({},s),{},{map:O}));return void 0!==u&&e.setVisible(u),void 0!==c&&e.setEditable(c),void 0!==l&&e.setDraggable(l),void 0!==a&&e.setBounds(a),p&&U(google.maps.event.addListener(e,"dblclick",p)),m&&q(google.maps.event.addListener(e,"dragend",m)),h&&Y(google.maps.event.addListener(e,"dragstart",h)),f&&J(google.maps.event.addListener(e,"mousedown",f)),g&&le(google.maps.event.addListener(e,"mousemove",g)),b&&de(google.maps.event.addListener(e,"mouseout",b)),j&&me(google.maps.event.addListener(e,"mouseover",j)),N&&fe(google.maps.event.addListener(e,"mouseup",N)),k&&xe(google.maps.event.addListener(e,"rightclick",k)),_&&be(google.maps.event.addListener(e,"click",_)),T&&Ne(google.maps.event.addListener(e,"drag",T)),E&&Ce(google.maps.event.addListener(e,"bounds_changed",E)),$(e),A&&A(e),()=>{null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),null!==ae&&google.maps.event.removeListener(ae),null!==ce&&google.maps.event.removeListener(ce),null!==ue&&google.maps.event.removeListener(ue),null!==he&&google.maps.event.removeListener(he),null!==ge&&google.maps.event.removeListener(ge),null!==ye&&google.maps.event.removeListener(ye),null!==je&&google.maps.event.removeListener(je),null!==Se&&google.maps.event.removeListener(Se),L&&L(e),e.setMap(null)}},[]),null});let Zg=class Rectangle extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{rectangle:null}),_defineProperty$K(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(_objectSpread$7$1(_objectSpread$7$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Wg,eventMap:qg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setRectangle(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Wg,eventMap:qg,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),unregisterEvents(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}};function ownKeys$6$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$6$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$6$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$6$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(Zg,"contextType",Kf);var Kg={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gg={center(e,s){e.setCenter(s)},draggable(e,s){e.setDraggable(s)},editable(e,s){e.setEditable(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)},radius(e,s){e.setRadius(s)},visible(e,s){e.setVisible(s)}},Yg={};re.memo(function CircleFunctional(e){var{options:s,center:a,radius:l,draggable:c,editable:u,visible:p,onDblClick:m,onDragEnd:h,onDragStart:f,onMouseDown:g,onMouseMove:b,onMouseOut:j,onMouseOver:N,onMouseUp:k,onRightClick:_,onClick:T,onDrag:E,onCenterChanged:A,onRadiusChanged:L,onLoad:O,onUnmount:I}=e,$=re.useContext(Kf),[z,U]=re.useState(null),[H,q]=re.useState(null),[Z,Y]=re.useState(null),[X,J]=re.useState(null),[ae,le]=re.useState(null),[ce,de]=re.useState(null),[ue,me]=re.useState(null),[he,fe]=re.useState(null),[ge,xe]=re.useState(null),[ye,be]=re.useState(null),[je,Ne]=re.useState(null),[Se,Ce]=re.useState(null),[_e,Pe]=re.useState(null),[Te,Ee]=re.useState(null);return re.useEffect(()=>{null!==z&&z.setMap($)},[$]),re.useEffect(()=>{void 0!==s&&null!==z&&z.setOptions(s)},[z,s]),re.useEffect(()=>{void 0!==c&&null!==z&&z.setDraggable(c)},[z,c]),re.useEffect(()=>{void 0!==u&&null!==z&&z.setEditable(u)},[z,u]),re.useEffect(()=>{void 0!==p&&null!==z&&z.setVisible(p)},[z,p]),re.useEffect(()=>{"number"==typeof l&&null!==z&&z.setRadius(l)},[z,l]),re.useEffect(()=>{void 0!==a&&null!==z&&z.setCenter(a)},[z,a]),re.useEffect(()=>{z&&m&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(z,"dblclick",m)))},[m]),re.useEffect(()=>{z&&h&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(z,"dragend",h)))},[h]),re.useEffect(()=>{z&&f&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(z,"dragstart",f)))},[f]),re.useEffect(()=>{z&&g&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(z,"mousedown",g)))},[g]),re.useEffect(()=>{z&&b&&(null!==ce&&google.maps.event.removeListener(ce),de(google.maps.event.addListener(z,"mousemove",b)))},[b]),re.useEffect(()=>{z&&j&&(null!==ue&&google.maps.event.removeListener(ue),me(google.maps.event.addListener(z,"mouseout",j)))},[j]),re.useEffect(()=>{z&&N&&(null!==he&&google.maps.event.removeListener(he),fe(google.maps.event.addListener(z,"mouseover",N)))},[N]),re.useEffect(()=>{z&&k&&(null!==ge&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(z,"mouseup",k)))},[k]),re.useEffect(()=>{z&&_&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(z,"rightclick",_)))},[_]),re.useEffect(()=>{z&&T&&(null!==je&&google.maps.event.removeListener(je),Ne(google.maps.event.addListener(z,"click",T)))},[T]),re.useEffect(()=>{z&&E&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(z,"drag",E)))},[E]),re.useEffect(()=>{z&&A&&(null!==_e&&google.maps.event.removeListener(_e),Pe(google.maps.event.addListener(z,"center_changed",A)))},[T]),re.useEffect(()=>{z&&L&&(null!==Te&&google.maps.event.removeListener(Te),Ee(google.maps.event.addListener(z,"radius_changed",L)))},[L]),re.useEffect(()=>{var e=new google.maps.Circle(_objectSpread$6$1(_objectSpread$6$1({},s||Yg),{},{map:$}));return"number"==typeof l&&e.setRadius(l),void 0!==a&&e.setCenter(a),"number"==typeof l&&e.setRadius(l),void 0!==p&&e.setVisible(p),void 0!==u&&e.setEditable(u),void 0!==c&&e.setDraggable(c),m&&q(google.maps.event.addListener(e,"dblclick",m)),h&&Y(google.maps.event.addListener(e,"dragend",h)),f&&J(google.maps.event.addListener(e,"dragstart",f)),g&&le(google.maps.event.addListener(e,"mousedown",g)),b&&de(google.maps.event.addListener(e,"mousemove",b)),j&&me(google.maps.event.addListener(e,"mouseout",j)),N&&fe(google.maps.event.addListener(e,"mouseover",N)),k&&xe(google.maps.event.addListener(e,"mouseup",k)),_&&be(google.maps.event.addListener(e,"rightclick",_)),T&&Ne(google.maps.event.addListener(e,"click",T)),E&&Ce(google.maps.event.addListener(e,"drag",E)),A&&Pe(google.maps.event.addListener(e,"center_changed",A)),L&&Ee(google.maps.event.addListener(e,"radius_changed",L)),U(e),O&&O(e),()=>{null!==H&&google.maps.event.removeListener(H),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),null!==ae&&google.maps.event.removeListener(ae),null!==ce&&google.maps.event.removeListener(ce),null!==ue&&google.maps.event.removeListener(ue),null!==he&&google.maps.event.removeListener(he),null!==ge&&google.maps.event.removeListener(ge),null!==ye&&google.maps.event.removeListener(ye),null!==je&&google.maps.event.removeListener(je),null!==_e&&google.maps.event.removeListener(_e),null!==Te&&google.maps.event.removeListener(Te),I&&I(e),e.setMap(null)}},[]),null});class Circle extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{circle:null}),_defineProperty$K(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(_objectSpread$6$1(_objectSpread$6$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Gg,eventMap:Kg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setCircle(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Gg,eventMap:Kg,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),unregisterEvents(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function ownKeys$5$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$5$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$5$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$5$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(Circle,"contextType",Kf);var Qg={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Xg={add(e,s){e.add(s)},addgeojson(e,s,a){e.addGeoJson(s,a)},contains(e,s){e.contains(s)},foreach(e,s){e.forEach(s)},loadgeojson(e,s,a,l){e.loadGeoJson(s,a,l)},overridestyle(e,s,a){e.overrideStyle(s,a)},remove(e,s){e.remove(s)},revertstyle(e,s){e.revertStyle(s)},controlposition(e,s){e.setControlPosition(s)},controls(e,s){e.setControls(s)},drawingmode(e,s){e.setDrawingMode(s)},map(e,s){e.setMap(s)},style(e,s){e.setStyle(s)},togeojson(e,s){e.toGeoJson(s)}};re.memo(function DataFunctional(e){var{options:s,onClick:a,onDblClick:l,onMouseDown:c,onMouseMove:u,onMouseOut:p,onMouseOver:m,onMouseUp:h,onRightClick:f,onAddFeature:g,onRemoveFeature:b,onRemoveProperty:j,onSetGeometry:N,onSetProperty:k,onLoad:_,onUnmount:T}=e,E=re.useContext(Kf),[A,L]=re.useState(null),[O,I]=re.useState(null),[$,z]=re.useState(null),[U,H]=re.useState(null),[q,Z]=re.useState(null),[Y,X]=re.useState(null),[J,ae]=re.useState(null),[le,ce]=re.useState(null),[de,ue]=re.useState(null),[me,he]=re.useState(null),[fe,ge]=re.useState(null),[xe,ye]=re.useState(null),[be,je]=re.useState(null),[Ne,Se]=re.useState(null);return re.useEffect(()=>{null!==A&&A.setMap(E)},[E]),re.useEffect(()=>{A&&l&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(A,"dblclick",l)))},[l]),re.useEffect(()=>{A&&c&&(null!==$&&google.maps.event.removeListener($),z(google.maps.event.addListener(A,"mousedown",c)))},[c]),re.useEffect(()=>{A&&u&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(A,"mousemove",u)))},[u]),re.useEffect(()=>{A&&p&&(null!==q&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(A,"mouseout",p)))},[p]),re.useEffect(()=>{A&&m&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(A,"mouseover",m)))},[m]),re.useEffect(()=>{A&&h&&(null!==J&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(A,"mouseup",h)))},[h]),re.useEffect(()=>{A&&f&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(A,"rightclick",f)))},[f]),re.useEffect(()=>{A&&a&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener(A,"click",a)))},[a]),re.useEffect(()=>{A&&g&&(null!==me&&google.maps.event.removeListener(me),he(google.maps.event.addListener(A,"addfeature",g)))},[g]),re.useEffect(()=>{A&&b&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(A,"removefeature",b)))},[b]),re.useEffect(()=>{A&&j&&(null!==xe&&google.maps.event.removeListener(xe),ye(google.maps.event.addListener(A,"removeproperty",j)))},[j]),re.useEffect(()=>{A&&N&&(null!==be&&google.maps.event.removeListener(be),je(google.maps.event.addListener(A,"setgeometry",N)))},[N]),re.useEffect(()=>{A&&k&&(null!==Ne&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener(A,"setproperty",k)))},[k]),re.useEffect(()=>{if(null!==E){var e=new google.maps.Data(_objectSpread$5$1(_objectSpread$5$1({},s),{},{map:E}));l&&I(google.maps.event.addListener(e,"dblclick",l)),c&&z(google.maps.event.addListener(e,"mousedown",c)),u&&H(google.maps.event.addListener(e,"mousemove",u)),p&&Z(google.maps.event.addListener(e,"mouseout",p)),m&&X(google.maps.event.addListener(e,"mouseover",m)),h&&ae(google.maps.event.addListener(e,"mouseup",h)),f&&ce(google.maps.event.addListener(e,"rightclick",f)),a&&ue(google.maps.event.addListener(e,"click",a)),g&&he(google.maps.event.addListener(e,"addfeature",g)),b&&ge(google.maps.event.addListener(e,"removefeature",b)),j&&ye(google.maps.event.addListener(e,"removeproperty",j)),N&&je(google.maps.event.addListener(e,"setgeometry",N)),k&&Se(google.maps.event.addListener(e,"setproperty",k)),L(e),_&&_(e)}return()=>{A&&(null!==O&&google.maps.event.removeListener(O),null!==$&&google.maps.event.removeListener($),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),null!==le&&google.maps.event.removeListener(le),null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==fe&&google.maps.event.removeListener(fe),null!==xe&&google.maps.event.removeListener(xe),null!==be&&google.maps.event.removeListener(be),null!==Ne&&google.maps.event.removeListener(Ne),T&&T(A),A.setMap(null))}},[]),null});class Data extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{data:null}),_defineProperty$K(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(_objectSpread$5$1(_objectSpread$5$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Xg,eventMap:Qg,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Xg,eventMap:Qg,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),unregisterEvents(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function ownKeys$4$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$4$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$4$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$4$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(Data,"contextType",Kf);var Jg={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ex={options(e,s){e.setOptions(s)},url(e,s){e.setUrl(s)},zIndex(e,s){e.setZIndex(s)}};class KmlLayer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{kmlLayer:null}),_defineProperty$K(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(_objectSpread$4$1(_objectSpread$4$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ex,eventMap:Jg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setLmlLayer(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ex,eventMap:Jg,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),unregisterEvents(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function getOffsetOverride(e,s){return"function"==typeof s?s(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function createLatLng(e,s){return new s(e.lat,e.lng)}function createLatLngBounds(e,s){return new s(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function getLayoutStyles(e,s,a,l){return void 0!==a?function getLayoutStylesByBounds(e,s,a){var l=e&&e.fromLatLngToDivPixel(a.getNorthEast()),c=e&&e.fromLatLngToDivPixel(a.getSouthWest());return l&&c?{left:"".concat(c.x+s.x,"px"),top:"".concat(l.y+s.y,"px"),width:"".concat(l.x-c.x-s.x,"px"),height:"".concat(c.y-l.y-s.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,s,function ensureOfTypeBounds(e,s,a){return e instanceof s?e:a(e,s)}(a,google.maps.LatLngBounds,createLatLngBounds)):function getLayoutStylesByPosition(e,s,a){var l=e&&e.fromLatLngToDivPixel(a);if(l){var{x:c,y:u}=l;return{left:"".concat(c+s.x,"px"),top:"".concat(u+s.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,s,function ensureOfType(e,s,a){return e instanceof s?e:a(e,s)}(l,google.maps.LatLng,createLatLng))}function ownKeys$3$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function createOverlay(e,s,a,l,c){class Overlay3 extends google.maps.OverlayView{constructor(e,s,a,l){super(),this.container=e,this.pane=s,this.position=a,this.bounds=l}onAdd(){var e,s=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null==s||s.appendChild(this.container)}draw(){var e=this.getProjection(),s=function _objectSpread$3$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$3$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$3$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}({},this.container?getOffsetOverride(this.container,c):{x:0,y:0}),a=getLayoutStyles(e,s,this.bounds,this.position);for(var[l,u]of Object.entries(a))this.container.style[l]=u}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new Overlay3(e,s,a,l)}function ownKeys$2$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function convertToLatLngString(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function convertToLatLngBoundsString(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}_defineProperty$K(KmlLayer,"contextType",Kf),re.memo(function OverlayViewFunctional(e){var{position:s,bounds:a,mapPaneName:l,zIndex:c,onLoad:u,onUnmount:p,getPixelPositionOffset:m,children:h}=e,f=re.useContext(Kf),g=re.useMemo(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),b=re.useMemo(()=>createOverlay(g,l,s,a,m),[g,l,s,a]);return re.useEffect(()=>(null==u||u(b),null==b||b.setMap(f),()=>{null==p||p(b),null==b||b.setMap(null)}),[f,b]),re.useEffect(()=>{g.style.zIndex="".concat(c)},[c,g]),Fr.createPortal(h,g)});class OverlayView extends re.PureComponent{constructor(e){super(e),_defineProperty$K(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),_defineProperty$K(this,"updatePane",()=>{var e=this.props.mapPaneName,s=this.overlayView.getPanes();Zf(!!e,"OverlayView requires props.mapPaneName but got %s",e),s?this.setState({paneEl:s[e]}):this.setState({paneEl:null})}),_defineProperty$K(this,"onAdd",()=>{var e,s;this.updatePane(),null===(e=(s=this.props).onLoad)||void 0===e||e.call(s,this.overlayView)}),_defineProperty$K(this,"onPositionElement",()=>{var e,s,a,l,c=this.overlayView.getProjection(),u=function _objectSpread$2$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$2$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$2$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}({x:0,y:0},this.containerRef.current?getOffsetOverride(this.containerRef.current,this.props.getPixelPositionOffset):{}),p=getLayoutStyles(c,u,this.props.bounds,this.props.position);(function arePositionsEqual(e,s){return e.left===s.left&&e.top===s.top&&e.width===s.height&&e.height===s.height})(p,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})||this.setState({containerStyle:{top:null!==(e=p.top)&&void 0!==e?e:0,left:null!==(s=p.left)&&void 0!==s?s:0,width:null!==(a=p.width)&&void 0!==a?a:0,height:null!==(l=p.height)&&void 0!==l?l:0,position:"absolute"}})}),_defineProperty$K(this,"draw",()=>{this.onPositionElement()}),_defineProperty$K(this,"onRemove",()=>{var e,s;this.setState(()=>({paneEl:null})),null===(e=(s=this.props).onUnmount)||void 0===e||e.call(s,this.overlayView)}),this.containerRef=re.createRef();var s=new google.maps.OverlayView;s.onAdd=this.onAdd,s.draw=this.draw,s.onRemove=this.onRemove,this.overlayView=s}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var s=convertToLatLngString(e.position),a=convertToLatLngString(this.props.position),l=convertToLatLngBoundsString(e.bounds),c=convertToLatLngBoundsString(this.props.bounds);s===a&&l===c||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Fr.createPortal(u.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:re.Children.only(this.props.children)}),e):null}}function ownKeys$1$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$1$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$1$1(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$1$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(OverlayView,"FLOAT_PANE","floatPane"),_defineProperty$K(OverlayView,"MAP_PANE","mapPane"),_defineProperty$K(OverlayView,"MARKER_LAYER","markerLayer"),_defineProperty$K(OverlayView,"OVERLAY_LAYER","overlayLayer"),_defineProperty$K(OverlayView,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),_defineProperty$K(OverlayView,"contextType",Kf);var tx={onDblClick:"dblclick",onClick:"click"},rx={opacity(e,s){e.setOpacity(s)}};re.memo(function GroundOverlayFunctional(e){var{url:s,bounds:a,options:l,visible:c}=e,u=re.useContext(Kf),p=new google.maps.LatLngBounds(new google.maps.LatLng(a.south,a.west),new google.maps.LatLng(a.north,a.east)),m=re.useMemo(()=>new google.maps.GroundOverlay(s,p,l),[]);return re.useEffect(()=>{null!==m&&m.setMap(u)},[u]),re.useEffect(()=>{void 0!==s&&null!==m&&(m.set("url",s),m.setMap(u))},[m,s]),re.useEffect(()=>{void 0!==c&&null!==m&&m.setOpacity(c?1:0)},[m,c]),re.useEffect(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(a.south,a.west),new google.maps.LatLng(a.north,a.east));void 0!==a&&null!==m&&(m.set("bounds",e),m.setMap(u))},[m,a]),null});class GroundOverlay extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{groundOverlay:null}),_defineProperty$K(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Zf(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,_objectSpread$1$1(_objectSpread$1$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:rx,eventMap:tx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setGroundOverlay(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:rx,eventMap:tx,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function ownKeys$E(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$E(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$E(Object(a),!0).forEach(function(s){_defineProperty$K(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$E(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}_defineProperty$K(GroundOverlay,"defaultProps",{onLoad:function noop$3(){}}),_defineProperty$K(GroundOverlay,"contextType",Kf);var nx={},sx={data(e,s){e.setData(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)}};re.memo(function HeatmapLayerFunctional(e){var{data:s,onLoad:a,onUnmount:l,options:c}=e,u=re.useContext(Kf),[p,m]=re.useState(null);return re.useEffect(()=>{google.maps.visualization||Zf(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),re.useEffect(()=>{Zf(!!s,"data property is required in HeatmapLayer %s",s)},[s]),re.useEffect(()=>{null!==p&&p.setMap(u)},[u]),re.useEffect(()=>{c&&null!==p&&p.setOptions(c)},[p,c]),re.useEffect(()=>{var e=new google.maps.visualization.HeatmapLayer(_objectSpread$E(_objectSpread$E({},c),{},{data:s,map:u}));return m(e),a&&a(e),()=>{null!==p&&(l&&l(p),p.setMap(null))}},[]),null});class HeatmapLayer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{heatmapLayer:null}),_defineProperty$K(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Zf(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Zf(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(_objectSpread$E(_objectSpread$E({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:sx,eventMap:nx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setHeatmapLayer(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:sx,eventMap:nx,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),unregisterEvents(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}_defineProperty$K(HeatmapLayer,"contextType",Kf);var ax={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},ix={register(e,s,a){e.registerPanoProvider(s,a)},links(e,s){e.setLinks(s)},motionTracking(e,s){e.setMotionTracking(s)},options(e,s){e.setOptions(s)},pano(e,s){e.setPano(s)},position(e,s){e.setPosition(s)},pov(e,s){e.setPov(s)},visible(e,s){e.setVisible(s)},zoom(e,s){e.setZoom(s)}};class StreetViewPanorama extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{streetViewPanorama:null}),_defineProperty$K(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,s,a=null!==(e=null===(s=this.context)||void 0===s?void 0:s.getStreetView())&&void 0!==e?e:null;this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ix,eventMap:ax,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ix,eventMap:ax,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),unregisterEvents(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}_defineProperty$K(StreetViewPanorama,"contextType",Kf);class StreetViewService extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"state",{streetViewService:null}),_defineProperty$K(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function setStreetViewService(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}_defineProperty$K(StreetViewService,"contextType",Kf);var ox={onDirectionsChanged:"directions_changed"},lx={directions(e,s){e.setDirections(s)},map(e,s){e.setMap(s)},options(e,s){e.setOptions(s)},panel(e,s){e.setPanel(s)},routeIndex(e,s){e.setRouteIndex(s)}};class DirectionsRenderer extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"state",{directionsRenderer:null}),_defineProperty$K(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:lx,eventMap:ox,prevProps:{},nextProps:this.props,instance:e}),this.setState(function setDirectionsRenderer(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:lx,eventMap:ox,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),unregisterEvents(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}_defineProperty$K(DirectionsRenderer,"contextType",Kf);var cx={onPlacesChanged:"places_changed"},dx={bounds(e,s){e.setBounds(s)}};class StandaloneSearchBox extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"containerElement",re.createRef()),_defineProperty$K(this,"state",{searchBox:null}),_defineProperty$K(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Zf(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var s=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:dx,eventMap:cx,prevProps:{},nextProps:this.props,instance:s}),this.setState(function setSearchBox(){return{searchBox:s}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:dx,eventMap:cx,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),unregisterEvents(this.registeredEvents))}render(){return u.jsx("div",{ref:this.containerElement,children:re.Children.only(this.props.children)})}}_defineProperty$K(StandaloneSearchBox,"contextType",Kf);var ux={onPlaceChanged:"place_changed"},px={bounds(e,s){e.setBounds(s)},restrictions(e,s){e.setComponentRestrictions(s)},fields(e,s){e.setFields(s)},options(e,s){e.setOptions(s)},types(e,s){e.setTypes(s)}};class Autocomplete extends re.PureComponent{constructor(){super(...arguments),_defineProperty$K(this,"registeredEvents",[]),_defineProperty$K(this,"containerElement",re.createRef()),_defineProperty$K(this,"state",{autocomplete:null}),_defineProperty$K(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Zf(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var s=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(s){var a=new google.maps.places.Autocomplete(s,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:px,eventMap:ux,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:px,eventMap:ux,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&unregisterEvents(this.registeredEvents)}render(){return u.jsx("div",{ref:this.containerElement,className:this.props.className,children:re.Children.only(this.props.children)})}}_defineProperty$K(Autocomplete,"defaultProps",{className:""}),_defineProperty$K(Autocomplete,"contextType",Kf);const mx={width:"100%",height:"100%",minHeight:"600px"},hx={lat:-26.2041,lng:28.0473},fx=["places"];function GooglePropertyMap({properties:e,onBoundsChange:s,onPropertySelect:a,className:l,minimal:c=!1}){const{isLoaded:p}=useJsApiLoader({id:"google-map-script",googleMapsApiKey:"AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4",libraries:fx}),[m,h]=re.useState(null),[f,g]=re.useState(null),b=re.useCallback(s=>{if(1===e.length&&e[0].latitude&&e[0].longitude)s.setCenter({lat:e[0].latitude,lng:e[0].longitude}),s.setZoom(15);else if(e.length>1){const a=new window.google.maps.LatLngBounds;let l=!1;e.forEach(e=>{e.latitude&&e.longitude&&(a.extend({lat:e.latitude,lng:e.longitude}),l=!0)}),l&&s.fitBounds(a)}else s.setCenter(hx),s.setZoom(10);h(s)},[e]),j=re.useCallback(()=>{h(null)},[]),handleBoundsChanged=()=>{m&&s&&!c&&s(m.getBounds())};return re.useEffect(()=>{if(m)if(1===e.length&&e[0].latitude&&e[0].longitude)m.setCenter({lat:e[0].latitude,lng:e[0].longitude}),m.setZoom(15);else if(e.length>1){const s=new window.google.maps.LatLngBounds;let a=!1;e.forEach(e=>{e.latitude&&e.longitude&&(s.extend({lat:e.latitude,lng:e.longitude}),a=!0)}),a&&m.fitBounds(s)}},[m,e]),p?u.jsxs("div",{className:`relative rounded-lg overflow-hidden border border-slate-200 ${l}`,children:[u.jsxs(GoogleMap,{mapContainerStyle:mx,center:hx,zoom:10,onLoad:b,onUnmount:j,onDragEnd:handleBoundsChanged,onZoomChanged:handleBoundsChanged,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!c,zoomControl:!c,gestureHandling:c?"none":"cooperative",disableDefaultUI:c},children:[u.jsx(ClustererComponent,{children:s=>u.jsx(u.Fragment,{children:e.map(e=>u.jsx(fg,{position:{lat:e.latitude,lng:e.longitude},onClick:()=>(e=>{c||(g(e),a&&a(e.id))})(e),clusterer:c?null:s},e.id))})}),f&&!c&&u.jsx(InfoWindow,{position:{lat:f.latitude,lng:f.longitude},onCloseClick:()=>g(null),children:u.jsxs("div",{className:"max-w-xs",children:[f.mainImage&&u.jsx("img",{src:f.mainImage,alt:f.title,className:"w-full h-32 object-cover rounded-t-md mb-2"}),u.jsx("h3",{className:"font-bold text-sm mb-1",children:f.title}),u.jsx("p",{className:"text-blue-600 font-bold text-sm mb-1",children:new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",maximumFractionDigits:0}).format(f.price)}),u.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:[f.bedrooms," Bed  ",f.bathrooms," Bath "," ",f.area," m"]}),u.jsx(Button$1,{size:"sm",className:"w-full h-8 text-xs",onClick:()=>a?.(f.id),children:"View Details"})]})})]}),!c&&u.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:u.jsxs(Button$1,{variant:"secondary",className:"shadow-md bg-white/90 hover:bg-white text-slate-800",onClick:()=>{m&&s&&s(m.getBounds())},children:[u.jsx(lo,{className:"h-4 w-4 mr-2 text-blue-600"}),"Search in this area"]})})]}):u.jsx("div",{className:"flex items-center justify-center h-[600px] bg-slate-50 rounded-lg border",children:u.jsx(no,{className:"h-8 w-8 animate-spin text-blue-600"})})}const gx=[{id:"Education",icon:zo,label:"Education",types:["school","university"]},{id:"Health",icon:$i,label:"Health",types:["hospital","doctor","pharmacy"]},{id:"Transportation",icon:Pa,label:"Transportation",types:["bus_station","train_station","transit_station","subway_station"]},{id:"Shopping",icon:Go,label:"Shopping",types:["shopping_mall","supermarket","department_store"]},{id:"Entertainment",icon:cl,label:"Entertainment",types:["movie_theater","park","attraction","stadium"]}];function NearbyLandmarks({property:e}){const[s,a]=re.useState("Education");let l="string"==typeof e.latitude?parseFloat(e.latitude):e.latitude,c="string"==typeof e.longitude?parseFloat(e.longitude):e.longitude;l&&c||(l=-26.107567,c=28.056702);const p=gx.find(e=>e.id===s),{data:m,isLoading:h}=At.location.getNearbyAmenities.useQuery({latitude:l,longitude:c,radius:5e3,types:p?.types||[],limit:5},{enabled:!!p,staleTime:36e5});return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-6 pb-0",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Nearby Landmarks"}),u.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 h-[240px] mb-6 group",children:[u.jsx("img",{src:`https://maps.googleapis.com/maps/api/staticmap?center=${l},${c}&zoom=14&size=800x400&maptype=roadmap&markers=color:red%7C${l},${c}&key=AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4`,alt:"Map location",className:"absolute inset-0 w-full h-full object-cover",onError:e=>{e.target.src="https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?w=800&h=400&fit=crop"}}),u.jsx("div",{className:"absolute inset-0",children:u.jsx(GooglePropertyMap,{center:{lat:l,lng:c},zoom:14,minimal:!0,className:"pointer-events-none",properties:[{id:e.id,title:e.title,latitude:l,longitude:c,price:0,propertyType:"property",listingType:"sale",address:"",city:"",bedrooms:0,bathrooms:0,area:0,mainImage:""}]})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-auto bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsxs(Button$1,{onClick:()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${l},${c}`,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-6 py-2 shadow-lg flex items-center gap-2 transform scale-95 group-hover:scale-100 transition-all duration-200",children:[u.jsx(lo,{className:"h-4 w-4"}),"View on Map"]})})]}),u.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 mb-4 scrollbar-hide",children:gx.map(e=>{const l=e.icon,c=s===e.id;return u.jsxs("button",{onClick:()=>a(e.id),className:`\n                  flex items-center gap-2 px-4 py-2 rounded-full border text-sm font-medium whitespace-nowrap transition-colors\n                  ${c?"bg-orange-50 border-orange-500 text-orange-700":"bg-white border-orange-200 text-slate-600 hover:border-orange-300 hover:bg-orange-50/50"}\n                `,children:[u.jsx(l,{className:"h-3.5 w-3.5 "+(c?"text-orange-500":"text-slate-400")}),e.label]},e.id)})})]}),u.jsx("div",{className:"px-6 min-h-[200px]",children:h?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(no,{className:"h-6 w-6 animate-spin text-slate-400"})}):m&&m.length>0?u.jsx("div",{className:"space-y-0",children:m.map((e,s)=>u.jsxs("div",{className:"flex items-center justify-between py-4 "+(s!==m.length-1?"border-b border-slate-100":""),children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-slate-700 font-medium",children:e.name}),e.type&&u.jsx("span",{className:"text-xs text-slate-400 capitalize",children:e.type.replace(/_/g," ")})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.distance}),u.jsx(ki,{className:"h-4 w-4 text-slate-400"})]})]},e.id||s))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[u.jsx(lo,{className:"h-8 w-8 text-slate-300 mb-2"}),u.jsx("p",{className:"text-sm",children:"No nearby locations found"})]})})]})}function subscribe(){return()=>{}}var xx="Avatar",[vx]=createContextScope(xx),[yx,bx]=vx(xx),jx=re.forwardRef((e,s)=>{const{__scopeAvatar:a,...l}=e,[c,p]=re.useState("idle");return u.jsx(yx,{scope:a,imageLoadingStatus:c,onImageLoadingStatusChange:p,children:u.jsx(tn.span,{...l,ref:s})})});jx.displayName=xx;var wx="AvatarImage",Nx=re.forwardRef((e,s)=>{const{__scopeAvatar:a,src:l,onLoadingStatusChange:c=()=>{},...p}=e,m=bx(wx,a),h=function useImageLoadingStatus(e,{referrerPolicy:s,crossOrigin:a}){const l=function useIsHydrated(){return Hl.useSyncExternalStore(subscribe,()=>!0,()=>!1)}(),c=re.useRef(null),u=l?(c.current||(c.current=new window.Image),c.current):null,[p,m]=re.useState(()=>resolveLoadingStatus(u,e));return pn(()=>{m(resolveLoadingStatus(u,e))},[u,e]),pn(()=>{const updateStatus=e=>()=>{m(e)};if(!u)return;const e=updateStatus("loaded"),l=updateStatus("error");return u.addEventListener("load",e),u.addEventListener("error",l),s&&(u.referrerPolicy=s),"string"==typeof a&&(u.crossOrigin=a),()=>{u.removeEventListener("load",e),u.removeEventListener("error",l)}},[u,a,s]),p}(l,p),f=useCallbackRef$1(e=>{c(e),m.onImageLoadingStatusChange(e)});return pn(()=>{"idle"!==h&&f(h)},[h,f]),"loaded"===h?u.jsx(tn.img,{...p,ref:s,src:l}):null});Nx.displayName=wx;var Sx="AvatarFallback",Cx=re.forwardRef((e,s)=>{const{__scopeAvatar:a,delayMs:l,...c}=e,p=bx(Sx,a),[m,h]=re.useState(void 0===l);return re.useEffect(()=>{if(void 0!==l){const e=window.setTimeout(()=>h(!0),l);return()=>window.clearTimeout(e)}},[l]),m&&"loaded"!==p.imageLoadingStatus?u.jsx(tn.span,{...c,ref:s}):null});function resolveLoadingStatus(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}Cx.displayName=Sx;var kx=jx,_x=Nx,Px=Cx;function Avatar({className:e,...s}){return u.jsx(kx,{"data-slot":"avatar",className:cn("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})}function AvatarImage({className:e,...s}){return u.jsx(_x,{"data-slot":"avatar-image",className:cn("aspect-square size-full",e),...s})}function AvatarFallback({className:e,...s}){return u.jsx(Px,{"data-slot":"avatar-fallback",className:cn("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}const Tx=[{icon:Dl,label:"Connectivity",rating:4.2},{icon:Cl,label:"Neighbourhood",rating:4.5},{icon:Ko,label:"Safety",rating:3.8},{icon:ei,label:"Livability",rating:4.7}];function SuburbInsights({suburbId:e,suburbName:s,rating:a=4.4,pros:l=[],cons:c=[],reviews:p=[],isDevelopment:m=!1}){const[h,f]=re.useState("suburb"),[g,b]=re.useState(!1),[j,N]=re.useState("resident"),[k,_]=re.useState(5),[T,E]=re.useState(""),[A,L]=re.useState(""),[O,I]=re.useState(""),$=At.locationPages.submitReview.useMutation({onSuccess:()=>{Gr.success("Review submitted successfully!"),b(!1),E(""),L(""),I("")},onError:e=>{Gr.error(`Failed to submit review: ${e.message}`)}}),z=l&&l.length>0?l:["Great community spirit","Close to amenities","Green parks nearby"],U=c&&c.length>0?c:["Traffic during peak hours","Limited night life"],H=p&&p.length>0?p:[];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Resident reviews for ",s]}),u.jsxs(Badge,{className:"bg-[#005ca8] hover:bg-[#004d8a] text-white text-base px-3 py-1 rounded-md",children:[a," / 5"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Dialog,{open:g,onOpenChange:b,children:[u.jsx(DialogTrigger,{asChild:!0,children:u.jsx(Button$1,{className:"bg-[#005ca8] hover:bg-[#004d8a] text-white",children:"Write a Review"})}),u.jsxs(DialogContent,{className:"sm:max-w-[600px]",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{children:["Write a review for ",s]}),u.jsxs(DialogDescription,{children:["Share your experience living in ",s," to help others finding their perfect home."]})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"I am a..."}),u.jsxs(Select$1,{value:j,onValueChange:N,children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select role"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"resident",children:"Resident / Homeowner"}),u.jsx(SelectItem,{value:"tenant",children:"Tenant"}),u.jsx(SelectItem,{value:"landlord",children:"Landlord"}),u.jsx(SelectItem,{value:"visitor",children:"Frequent Visitor"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Overall Rating"}),u.jsx("div",{className:"flex gap-1 pt-2",children:[1,2,3,4,5].map(e=>u.jsx("button",{type:"button",onClick:()=>_(e),className:"focus:outline-none transition-transform hover:scale-110",children:u.jsx(sl,{className:"h-8 w-8 "+(e<=k?"fill-yellow-400 text-yellow-400":"text-slate-300")})},e))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"pros",className:"flex items-center gap-2 text-green-700 font-medium",children:[u.jsx(ll,{className:"h-4 w-4"})," Good things about ",s]}),u.jsx(Textarea,{id:"pros",placeholder:"e.g. Safe streets, friendly neighbors, good schools...",value:T,onChange:e=>E(e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"cons",className:"flex items-center gap-2 text-orange-600 font-medium",children:[u.jsx(gl,{className:"h-4 w-4"})," Things to improve"]}),u.jsx(Textarea,{id:"cons",placeholder:"e.g. Heavy traffic, noise, load shedding issues...",value:A,onChange:e=>L(e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"comment",children:"Additional Comments (Optional)"}),u.jsx(Textarea,{id:"comment",placeholder:"Any other thoughts?",value:O,onChange:e=>I(e.target.value),className:"h-20"})]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{T&&A?$.mutate({suburbId:e,rating:k,userType:j,pros:T,cons:A,comment:O||"No additional comments"}):Gr.error("Please fill in both 'Good things' and 'Things to improve'")},disabled:$.isLoading,className:"bg-[#005ca8] hover:bg-[#004d8a]",children:$.isLoading?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"})," Submitting..."]}):"Submit Review"})]})]})]}),m&&u.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[u.jsx("button",{onClick:()=>f("development"),className:"px-4 py-1.5 text-sm font-medium rounded-md transition-all "+("development"===h?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Development"}),u.jsx("button",{onClick:()=>f("suburb"),className:"px-4 py-1.5 text-sm font-medium rounded-md transition-all "+("suburb"===h?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Suburb"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Ratings based on features"}),u.jsx(Vi,{className:"h-4 w-4 text-slate-400"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Tx.map((e,s)=>u.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-xl border border-slate-200 bg-white",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mb-3 border border-blue-100",children:u.jsx(e.icon,{className:"h-6 w-6 text-[#005ca8]"})}),u.jsx("span",{className:"text-2xl font-bold text-slate-900 mb-1",children:e.rating}),u.jsx("span",{className:"text-sm text-slate-500 font-medium",children:e.label})]},s))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ll,{className:"h-5 w-5 text-green-600"}),u.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Good things about ",s]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:z.map((e,s)=>u.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 text-sm font-medium border border-slate-200",children:e},s))})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(gl,{className:"h-5 w-5 text-orange-500"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Things that need improvement"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:U.map((e,s)=>u.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 text-sm font-medium border border-slate-200",children:e},s))})]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8 border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:["All resident reviews (",H.length," reviews)"]}),H.length>0&&u.jsxs("a",{href:"#",className:"text-[#005ca8] font-medium hover:underline flex items-center gap-1",children:["View All ",u.jsx(Fa,{className:"h-4 w-4"})]})]}),H.length>0?u.jsxs(Carousel,{className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-4",children:H.map(e=>u.jsx(CarouselItem,{className:"pl-4 md:basis-1/1 lg:basis-1/1",children:u.jsx(ea,{className:"border-slate-200 shadow-sm h-full",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Avatar,{className:"h-10 w-10 border border-slate-200",children:u.jsx(AvatarFallback,{className:"bg-slate-100 text-slate-600 font-medium",children:e.userName?e.userName.charAt(0):"A"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-slate-900",children:e.userName||"Anonymous Resident"}),u.jsx(Badge,{variant:"secondary",className:"text-xs font-normal bg-slate-100 text-slate-600 hover:bg-slate-200 capitalize",children:e.userType})]}),u.jsx("span",{className:"text-xs text-slate-500",children:new Date(e.createdAt).toLocaleDateString()})]})]}),u.jsxs(Badge,{className:"bg-green-600 hover:bg-green-700 border-none",children:[e.rating,".0"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-green-700 mb-2 flex items-center gap-1.5",children:[u.jsx(Ha,{className:"h-4 w-4"})," Good things here"]}),u.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-2",children:e.pros})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-orange-600 mb-2 flex items-center gap-1.5",children:[u.jsx(gl,{className:"h-4 w-4"})," Things that need improvement"]}),u.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-2",children:e.cons})]})]}),e.comment&&u.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100",children:u.jsxs("p",{className:"text-slate-600 text-sm italic",children:['"',e.comment,'"']})})]})})},e.id))}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(CarouselPrevious,{className:"static translate-y-0 h-9 w-9 border-slate-300 hover:bg-white hover:text-[#005ca8]"}),u.jsx(CarouselNext,{className:"static translate-y-0 h-9 w-9 border-slate-300 hover:bg-white hover:text-[#005ca8]"})]})]}):u.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-dashed border-slate-300",children:[u.jsx(Cl,{className:"h-10 w-10 text-slate-300 mx-auto mb-3"}),u.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:"No reviews yet"}),u.jsxs("p",{className:"text-slate-500 mb-4",children:["Be the first to review ",s,"!"]}),u.jsx(Button$1,{variant:"outline",onClick:()=>b(!0),children:"Write a Review"})]})]})]})}function LocalityGuide({suburb:e,city:s,description:a="Shadnagar is a town in Southern Hyderabad, located at a distance of approximately 50Km from Hyderabad city. Chatanpally, Farooknagar, Solipur, Kishannagar, Elikatta, and Hajipally are the nearby localities to Shadnagar. Active development in infrastructure and connectivity has made this area a prime location for real estate investment.",images:l=["https://images.unsplash.com/photo-1544989164-302997a6cd12?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"]}){const[c,p]=re.useState(!1);return u.jsx(ea,{className:"border-slate-200 shadow-sm bg-white",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Suburb Guide"}),u.jsxs("p",{className:"text-slate-500",children:["for ",e,", ",s]})]}),u.jsxs(Button$1,{variant:"outline",size:"sm",className:"rounded-full border-purple-200 text-purple-700 hover:bg-purple-50 hover:text-purple-800 hover:border-purple-300 gap-2",children:[u.jsx(Wo,{className:"h-4 w-4"}),"Share"]})]}),u.jsx("div",{className:"mb-6",children:l.slice(0,1).map((s,a)=>u.jsx("div",{className:"h-[240px] rounded-xl overflow-hidden bg-slate-100 w-full",children:u.jsx("img",{src:s,alt:`${e} locality ${a+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"})},a))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-slate-600 leading-relaxed "+(c?"":"line-clamp-2"),children:a}),u.jsx("button",{onClick:()=>p(!c),className:"text-purple-700 font-bold text-sm hover:underline focus:outline-none",children:c?"Read Less":"Read More"})]})]})})}const Ex=re.createContext({});function useConstant(e){const s=re.useRef(null);return null===s.current&&(s.current=e()),s.current}const Ax="undefined"!=typeof window,Mx=Ax?re.useLayoutEffect:re.useEffect,Lx=re.createContext(null);function addUniqueItem(e,s){-1===e.indexOf(s)&&e.push(s)}function removeItem(e,s){const a=e.indexOf(s);a>-1&&e.splice(a,1)}const clamp=(e,s,a)=>a>s?s:a<e?e:a;const Dx={},isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function isObject$2(e){return"object"==typeof e&&null!==e}const isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function memo(e){let s;return()=>(void 0===s&&(s=e()),s)}const noop$2=e=>e,combineFunctions=(e,s)=>a=>s(e(a)),pipe=(...e)=>e.reduce(combineFunctions),progress=(e,s,a)=>{const l=s-e;return 0===l?1:(a-e)/l};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,s,a){const l=this.subscriptions.length;if(l)if(1===l)this.subscriptions[0](e,s,a);else for(let c=0;c<l;c++){const l=this.subscriptions[c];l&&l(e,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>1e3*e,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,s){return s?e*(1e3/s):0}const calcBezier=(e,s,a)=>(((1-3*a+3*s)*e+(3*a-6*s))*e+3*s)*e;function cubicBezier$1(e,s,a,l){if(e===s&&a===l)return noop$2;const getTForX=s=>function binarySubdivide(e,s,a,l,c){let u,p,m=0;do{p=s+(a-s)/2,u=calcBezier(p,l,c)-e,u>0?a=p:s=p}while(Math.abs(u)>1e-7&&++m<12);return p}(s,0,1,e,a);return e=>0===e||1===e?e:calcBezier(getTForX(e),s,l)}const mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),Ox=cubicBezier$1(.33,1.53,.69,.99),Ix=reverseEasing(Ox),$x=mirrorEasing(Ix),anticipate=e=>(e*=2)<1?.5*Ix(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),Rx=reverseEasing(circIn),Fx=mirrorEasing(circIn),Bx=cubicBezier$1(.42,0,1,1),zx=cubicBezier$1(0,0,.58,1),Vx=cubicBezier$1(.42,0,.58,1),isBezierDefinition=e=>Array.isArray(e)&&"number"==typeof e[0],Ux={linear:noop$2,easeIn:Bx,easeInOut:Vx,easeOut:zx,circIn:circIn,circInOut:Fx,circOut:Rx,backIn:Ix,backInOut:$x,backOut:Ox,anticipate:anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){e.length;const[s,a,l,c]=e;return cubicBezier$1(s,a,l,c)}return"string"==typeof e?Ux[e]:e},Hx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderBatcher(e,s){let a=!1,l=!0;const c={delta:0,timestamp:0,isProcessing:!1},flagRunNextFrame=()=>a=!0,u=Hx.reduce((e,s)=>(e[s]=function createRenderStep(e,s){let a=new Set,l=new Set,c=!1,u=!1;const p=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function triggerCallback(s){p.has(s)&&(h.schedule(s),e()),s(m)}const h={schedule:(e,s=!1,u=!1)=>{const m=u&&c?a:l;return s&&p.add(e),m.has(e)||m.add(e),e},cancel:e=>{l.delete(e),p.delete(e)},process:e=>{m=e,c?u=!0:(c=!0,[a,l]=[l,a],a.forEach(triggerCallback),a.clear(),c=!1,u&&(u=!1,h.process(e)))}};return h}(flagRunNextFrame),e),{}),{setup:p,read:m,resolveKeyframes:h,preUpdate:f,update:g,preRender:b,render:j,postRender:N}=u,processBatch=()=>{const u=Dx.useManualTiming?c.timestamp:performance.now();a=!1,Dx.useManualTiming||(c.delta=l?1e3/60:Math.max(Math.min(u-c.timestamp,40),1)),c.timestamp=u,c.isProcessing=!0,p.process(c),m.process(c),h.process(c),f.process(c),g.process(c),b.process(c),j.process(c),N.process(c),c.isProcessing=!1,a&&s&&(l=!1,e(processBatch))};return{schedule:Hx.reduce((s,p)=>{const m=u[p];return s[p]=(s,u=!1,p=!1)=>(a||(a=!0,l=!0,c.isProcessing||e(processBatch)),m.schedule(s,u,p)),s},{}),cancel:e=>{for(let s=0;s<Hx.length;s++)u[Hx[s]].cancel(e)},state:c,steps:u}}const{schedule:qx,cancel:Wx,state:Zx,steps:Kx}=createRenderBatcher("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:noop$2,!0);let Gx;function clearTime(){Gx=void 0}const Yx={now:()=>(void 0===Gx&&Yx.set(Zx.isProcessing||Dx.useManualTiming?Zx.timestamp:performance.now()),Gx),set:e=>{Gx=e,queueMicrotask(clearTime)}},checkStringStartsWith=e=>s=>"string"==typeof s&&s.startsWith(e),Qx=checkStringStartsWith("--"),Xx=checkStringStartsWith("var(--"),isCSSVariableToken=e=>!!Xx(e)&&Jx.test(e.split("/*")[0].trim()),Jx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ev={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tv={...ev,transform:e=>clamp(0,1,e)},rv={...ev,default:1},sanitize=e=>Math.round(1e5*e)/1e5,nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const sv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,s)=>a=>Boolean("string"==typeof a&&sv.test(a)&&a.startsWith(e)||s&&!function isNullish$1(e){return null==e}(a)&&Object.prototype.hasOwnProperty.call(a,s)),splitColor=(e,s,a)=>l=>{if("string"!=typeof l)return l;const[c,u,p,m]=l.match(nv);return{[e]:parseFloat(c),[s]:parseFloat(u),[a]:parseFloat(p),alpha:void 0!==m?parseFloat(m):1}},av={...ev,transform:e=>Math.round((e=>clamp(0,255,e))(e))},iv={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:a,alpha:l=1})=>"rgba("+av.transform(e)+", "+av.transform(s)+", "+av.transform(a)+", "+sanitize(tv.transform(l))+")"};const ov={test:isColorString("#"),parse:function parseHex(e){let s="",a="",l="",c="";return e.length>5?(s=e.substring(1,3),a=e.substring(3,5),l=e.substring(5,7),c=e.substring(7,9)):(s=e.substring(1,2),a=e.substring(2,3),l=e.substring(3,4),c=e.substring(4,5),s+=s,a+=a,l+=l,c+=c),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(l,16),alpha:c?parseInt(c,16)/255:1}},transform:iv.transform},createUnitType=e=>({test:s=>"string"==typeof s&&s.endsWith(e)&&1===s.split(" ").length,parse:parseFloat,transform:s=>`${s}${e}`}),lv=createUnitType("deg"),cv=createUnitType("%"),dv=createUnitType("px"),uv=createUnitType("vh"),pv=createUnitType("vw"),mv=(()=>({...cv,parse:e=>cv.parse(e)/100,transform:e=>cv.transform(100*e)}))(),hv={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:a,alpha:l=1})=>"hsla("+Math.round(e)+", "+cv.transform(sanitize(s))+", "+cv.transform(sanitize(a))+", "+sanitize(tv.transform(l))+")"},fv={test:e=>iv.test(e)||ov.test(e)||hv.test(e),parse:e=>iv.test(e)?iv.parse(e):hv.test(e)?hv.parse(e):ov.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?iv.transform(e):hv.transform(e),getAnimatableNone:e=>{const s=fv.parse(e);return s.alpha=0,fv.transform(s)}},gv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const xv="number",vv="color",yv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const s=e.toString(),a=[],l={color:[],number:[],var:[]},c=[];let u=0;const p=s.replace(yv,e=>(fv.test(e)?(l.color.push(u),c.push(vv),a.push(fv.parse(e))):e.startsWith("var(")?(l.var.push(u),c.push("var"),a.push(e)):(l.number.push(u),c.push(xv),a.push(parseFloat(e))),++u,"${}")).split("${}");return{values:a,split:p,indexes:l,types:c}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:s,types:a}=analyseComplexValue(e),l=s.length;return e=>{let c="";for(let u=0;u<l;u++)if(c+=s[u],void 0!==e[u]){const s=a[u];c+=s===xv?sanitize(e[u]):s===vv?fv.transform(e[u]):e[u]}return c}}const convertNumbersToZero=e=>"number"==typeof e?0:fv.test(e)?fv.getAnimatableNone(e):e;const bv={test:function test(e){return isNaN(e)&&"string"==typeof e&&(e.match(nv)?.length||0)+(e.match(gv)?.length||0)>0},parse:parseComplexValue,createTransformer:createTransformer,getAnimatableNone:function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}};function hueToRgb(e,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(s-e)*a:a<.5?s:a<2/3?e+(s-e)*(2/3-a)*6:e}function mixImmediate(e,s){return a=>a>0?s:e}const mixNumber$1=(e,s,a)=>e+(s-e)*a,mixLinearColor=(e,s,a)=>{const l=e*e,c=a*(s*s-l)+l;return c<0?0:Math.sqrt(c)},jv=[ov,iv,hv];function asRGBA(e){const s=(a=e,jv.find(e=>e.test(a)));var a;if(!Boolean(s))return!1;let l=s.parse(e);return s===hv&&(l=function hslaToRgba({hue:e,saturation:s,lightness:a,alpha:l}){e/=360,a/=100;let c=0,u=0,p=0;if(s/=100){const l=a<.5?a*(1+s):a+s-a*s,m=2*a-l;c=hueToRgb(m,l,e+1/3),u=hueToRgb(m,l,e),p=hueToRgb(m,l,e-1/3)}else c=u=p=a;return{red:Math.round(255*c),green:Math.round(255*u),blue:Math.round(255*p),alpha:l}}(l)),l}const mixColor=(e,s)=>{const a=asRGBA(e),l=asRGBA(s);if(!a||!l)return mixImmediate(e,s);const c={...a};return e=>(c.red=mixLinearColor(a.red,l.red,e),c.green=mixLinearColor(a.green,l.green,e),c.blue=mixLinearColor(a.blue,l.blue,e),c.alpha=mixNumber$1(a.alpha,l.alpha,e),iv.transform(c))},wv=new Set(["none","hidden"]);function mixNumber(e,s){return a=>mixNumber$1(e,s,a)}function getMixer(e){return"number"==typeof e?mixNumber:"string"==typeof e?isCSSVariableToken(e)?mixImmediate:fv.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:"object"==typeof e?fv.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,s){const a=[...e],l=a.length,c=e.map((e,a)=>getMixer(e)(e,s[a]));return e=>{for(let s=0;s<l;s++)a[s]=c[s](e);return a}}function mixObject(e,s){const a={...e,...s},l={};for(const c in a)void 0!==e[c]&&void 0!==s[c]&&(l[c]=getMixer(e[c])(e[c],s[c]));return e=>{for(const s in l)a[s]=l[s](e);return a}}const mixComplex=(e,s)=>{const a=bv.createTransformer(s),l=analyseComplexValue(e),c=analyseComplexValue(s);return l.indexes.var.length===c.indexes.var.length&&l.indexes.color.length===c.indexes.color.length&&l.indexes.number.length>=c.indexes.number.length?wv.has(e)&&!c.values.length||wv.has(s)&&!l.values.length?function mixVisibility(e,s){return wv.has(e)?a=>a<=0?e:s:a=>a>=1?s:e}(e,s):pipe(mixArray(function matchOrder(e,s){const a=[],l={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const u=s.types[c],p=e.indexes[u][l[u]],m=e.values[p]??0;a[c]=m,l[u]++}return a}(l,c),c.values),a):mixImmediate(e,s)};function mix(e,s,a){if("number"==typeof e&&"number"==typeof s&&"number"==typeof a)return mixNumber$1(e,s,a);return getMixer(e)(e,s)}const frameloopDriver=e=>{const passTimestamp=({timestamp:s})=>e(s);return{start:(e=!0)=>qx.update(passTimestamp,e),stop:()=>Wx(passTimestamp),now:()=>Zx.isProcessing?Zx.timestamp:Yx.now()}},generateLinearEasing=(e,s,a=10)=>{let l="";const c=Math.max(Math.round(s/a),2);for(let u=0;u<c;u++)l+=Math.round(1e4*e(u/(c-1)))/1e4+", ";return`linear(${l.substring(0,l.length-2)})`},Nv=2e4;function calcGeneratorDuration(e){let s=0;let a=e.next(s);for(;!a.done&&s<Nv;)s+=50,a=e.next(s);return s>=Nv?1/0:s}function calcGeneratorVelocity(e,s,a){const l=Math.max(s-5,0);return velocityPerSecond(a-e(l),s-l)}const Sv=100,Cv=10,kv=1,_v=0,Pv=800,Tv=.3,Ev=.3,Av={granular:.01,default:2},Mv={granular:.005,default:.5},Lv=.01,Dv=10,Ov=.05,Iv=1,$v=.001;function findSpring({duration:e=Pv,bounce:s=Tv,velocity:a=_v,mass:l=kv}){let c,u,p=1-s;p=clamp(Ov,Iv,p),e=clamp(Lv,Dv,millisecondsToSeconds(e)),p<1?(c=s=>{const l=s*p,c=l*e,u=l-a,m=calcAngularFreq(s,p),h=Math.exp(-c);return $v-u/m*h},u=s=>{const l=s*p*e,u=l*a+a,m=Math.pow(p,2)*Math.pow(s,2)*e,h=Math.exp(-l),f=calcAngularFreq(Math.pow(s,2),p);return(-c(s)+$v>0?-1:1)*((u-m)*h)/f}):(c=s=>Math.exp(-s*e)*((s-a)*e+1)-.001,u=s=>Math.exp(-s*e)*(e*e*(a-s)));const m=function approximateRoot(e,s,a){let l=a;for(let c=1;c<Rv;c++)l-=e(l)/s(l);return l}(c,u,5/e);if(e=secondsToMilliseconds(e),isNaN(m))return{stiffness:Sv,damping:Cv,duration:e};{const s=Math.pow(m,2)*l;return{stiffness:s,damping:2*p*Math.sqrt(l*s),duration:e}}}const Rv=12;function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const Fv=["duration","bounce"],Bv=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(s=>void 0!==e[s])}function spring(e=Ev,s=Tv){const a="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:l,restDelta:c}=a;const u=a.keyframes[0],p=a.keyframes[a.keyframes.length-1],m={done:!1,value:u},{stiffness:h,damping:f,mass:g,duration:b,velocity:j,isResolvedFromDuration:N}=function getSpringOptions(e){let s={velocity:_v,stiffness:Sv,damping:Cv,mass:kv,isResolvedFromDuration:!1,...e};if(!isSpringType(e,Bv)&&isSpringType(e,Fv))if(e.visualDuration){const a=e.visualDuration,l=2*Math.PI/(1.2*a),c=l*l,u=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(c);s={...s,mass:kv,stiffness:c,damping:u}}else{const a=findSpring(e);s={...s,...a,mass:kv},s.isResolvedFromDuration=!0}return s}({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),k=j||0,_=f/(2*Math.sqrt(h*g)),T=p-u,E=millisecondsToSeconds(Math.sqrt(h/g)),A=Math.abs(T)<5;let L;if(l||(l=A?Av.granular:Av.default),c||(c=A?Mv.granular:Mv.default),_<1){const e=calcAngularFreq(E,_);L=s=>{const a=Math.exp(-_*E*s);return p-a*((k+_*E*T)/e*Math.sin(e*s)+T*Math.cos(e*s))}}else if(1===_)L=e=>p-Math.exp(-E*e)*(T+(k+E*T)*e);else{const e=E*Math.sqrt(_*_-1);L=s=>{const a=Math.exp(-_*E*s),l=Math.min(e*s,300);return p-a*((k+_*E*T)*Math.sinh(l)+e*T*Math.cosh(l))/e}}const O={calculatedDuration:N&&b||null,next:e=>{const s=L(e);if(N)m.done=e>=b;else{let a=0===e?k:0;_<1&&(a=0===e?secondsToMilliseconds(k):calcGeneratorVelocity(L,e,s));const u=Math.abs(a)<=l,h=Math.abs(p-s)<=c;m.done=u&&h}return m.value=m.done?p:s,m},toString:()=>{const e=Math.min(calcGeneratorDuration(O),Nv),s=generateLinearEasing(s=>O.next(e*s).value,e,30);return e+"ms "+s},toTransition:()=>{}};return O}function inertia({keyframes:e,velocity:s=0,power:a=.8,timeConstant:l=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:p,min:m,max:h,restDelta:f=.5,restSpeed:g}){const b=e[0],j={done:!1,value:b},nearestBoundary=e=>void 0===m?h:void 0===h||Math.abs(m-e)<Math.abs(h-e)?m:h;let N=a*s;const k=b+N,_=void 0===p?k:p(k);_!==k&&(N=_-b);const calcDelta=e=>-N*Math.exp(-e/l),calcLatest=e=>_+calcDelta(e),applyFriction=e=>{const s=calcDelta(e),a=calcLatest(e);j.done=Math.abs(s)<=f,j.value=j.done?_:a};let T,E;const checkCatchBoundary=e=>{var s;(s=j.value,void 0!==m&&s<m||void 0!==h&&s>h)&&(T=e,E=spring({keyframes:[j.value,nearestBoundary(j.value)],velocity:calcGeneratorVelocity(calcLatest,e,j.value),damping:c,stiffness:u,restDelta:f,restSpeed:g}))};return checkCatchBoundary(0),{calculatedDuration:null,next:e=>{let s=!1;return E||void 0!==T||(s=!0,applyFriction(e),checkCatchBoundary(e)),void 0!==T&&e>=T?E.next(e-T):(!s&&applyFriction(e),j)}}}function interpolate$1(e,s,{clamp:a=!0,ease:l,mixer:c}={}){const u=e.length;if(s.length,1===u)return()=>s[0];if(2===u&&s[0]===s[1])return()=>s[1];const p=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),s=[...s].reverse());const m=function createMixers(e,s,a){const l=[],c=a||Dx.mix||mix,u=e.length-1;for(let p=0;p<u;p++){let a=c(e[p],e[p+1]);if(s){const e=Array.isArray(s)?s[p]||noop$2:s;a=pipe(e,a)}l.push(a)}return l}(s,l,c),h=m.length,interpolator=a=>{if(p&&a<e[0])return s[0];let l=0;if(h>1)for(;l<e.length-2&&!(a<e[l+1]);l++);const c=progress(e[l],e[l+1],a);return m[l](c)};return a?s=>interpolator(clamp(e[0],e[u-1],s)):interpolator}function defaultOffset(e){const s=[0];return function fillOffset(e,s){const a=e[e.length-1];for(let l=1;l<=s;l++){const c=progress(0,s,l);e.push(mixNumber$1(a,1,c))}}(s,e.length-1),s}function keyframes({duration:e=300,keyframes:s,times:a,ease:l="easeInOut"}){const c=(e=>Array.isArray(e)&&"number"!=typeof e[0])(l)?l.map(easingDefinitionToFunction):easingDefinitionToFunction(l),u={done:!1,value:s[0]},p=function convertOffsetToTimes(e,s){return e.map(e=>e*s)}(a&&a.length===s.length?a:defaultOffset(s),e),m=interpolate$1(p,s,{ease:Array.isArray(c)?c:(h=s,f=c,h.map(()=>f||Vx).splice(0,h.length-1))});var h,f;return{calculatedDuration:e,next:s=>(u.value=m(s),u.done=s>=e,u)}}spring.applyToOptions=e=>{const s=function createGeneratorEasing(e,s=100,a){const l=a({...e,keyframes:[0,s]}),c=Math.min(calcGeneratorDuration(l),Nv);return{type:"keyframes",ease:e=>l.next(c*e).value/s,duration:millisecondsToSeconds(c)}}(e,100,spring);return e.ease=s.ease,e.duration=secondsToMilliseconds(s.duration),e.type="keyframes",e};const isNotNull$1=e=>null!==e;function getFinalKeyframe$1(e,{repeat:s,repeatType:a="loop"},l,c=1){const u=e.filter(isNotNull$1),p=c<0||s&&"loop"!==a&&s%2==1?0:u.length-1;return p&&void 0!==l?l:u[p]}const zv={decay:inertia,inertia:inertia,tween:keyframes,keyframes:keyframes,spring:spring};function replaceTransitionType(e){"string"==typeof e.type&&(e.type=zv[e.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const percentToProgress=e=>e/100;class JSAnimation extends WithPromise{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Yx.now()&&this.tick(Yx.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;replaceTransitionType(e);const{type:s=keyframes,repeat:a=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=e;let{keyframes:p}=e;const m=s||keyframes;m!==keyframes&&"number"!=typeof p[0]&&(this.mixKeyframes=pipe(percentToProgress,mix(p[0],p[1])),p=[0,100]);const h=m({...e,keyframes:p});"mirror"===c&&(this.mirroredGenerator=m({...e,keyframes:[...p].reverse(),velocity:-u})),null===h.calculatedDuration&&(h.calculatedDuration=calcGeneratorDuration(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=h}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:a,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:p,calculatedDuration:m}=this;if(null===this.startTime)return a.next(0);const{delay:h=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:j,type:N,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const T=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?T<0:T>l;this.currentTime=Math.max(T,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=l);let A=this.currentTime,L=a;if(g){const e=Math.min(this.currentTime,l)/p;let s=Math.floor(e),a=e%1;!a&&e>=1&&(a=1),1===a&&s--,s=Math.min(s,g+1);Boolean(s%2)&&("reverse"===b?(a=1-a,j&&(a-=j/p)):"mirror"===b&&(L=u)),A=clamp(0,1,a)*p}const O=E?{done:!1,value:f[0]}:L.next(A);c&&(O.value=c(O.value));let{done:I}=O;E||null===m||(I=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const $=null===this.holdTime&&("finished"===this.state||"running"===this.state&&I);return $&&N!==inertia&&(O.value=getFinalKeyframe$1(f,this.options,_,this.speed)),k&&k(O.value),$&&this.finish(),O}then(e,s){return this.finished.then(e,s)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yx.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=frameloopDriver,startTime:s}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const a=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=a):null!==this.holdTime?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yx.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const radToDeg=e=>180*e/Math.PI,rotate=e=>{const s=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(s)},Vv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>((e%=360)<0&&(e+=360),e),scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Uv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:scaleX,scaleY:scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ:rotate,rotate:rotate,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,s){if(!e||"none"===e)return defaultTransformValue(s);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,c;if(a)l=Uv,c=a;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=Vv,c=s}if(!c)return defaultTransformValue(s);const u=l[s],p=c[1].split(",").map(convertTransformToNumber);return"function"==typeof u?u(p):p[u]}function convertTransformToNumber(e){return parseFloat(e.trim())}const Hv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qv=(()=>new Set(Hv))(),isNumOrPxType=e=>e===ev||e===dv,Wv=new Set(["x","y","z"]),Zv=Hv.filter(e=>!Wv.has(e));const Kv={width:({x:e},{paddingLeft:s="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(s)-parseFloat(a),height:({y:e},{paddingTop:s="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(s)-parseFloat(a),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:(e,{transform:s})=>parseValueFromTransform(s,"x"),y:(e,{transform:s})=>parseValueFromTransform(s,"y")};Kv.translateX=Kv.x,Kv.translateY=Kv.y;const Gv=new Set;let Yv=!1,Qv=!1,Xv=!1;function measureAllKeyframes(){if(Qv){const e=Array.from(Gv).filter(e=>e.needsMeasurement),s=new Set(e.map(e=>e.element)),a=new Map;s.forEach(e=>{const s=function removeNonTranslationalTransform(e){const s=[];return Zv.forEach(a=>{const l=e.getValue(a);void 0!==l&&(s.push([a,l.get()]),l.set(a.startsWith("scale")?1:0))}),s}(e);s.length&&(a.set(e,s),e.render())}),e.forEach(e=>e.measureInitialState()),s.forEach(e=>{e.render();const s=a.get(e);s&&s.forEach(([s,a])=>{e.getValue(s)?.set(a)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Qv=!1,Yv=!1,Gv.forEach(e=>e.complete(Xv)),Gv.clear()}function readAllKeyframes(){Gv.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qv=!0)})}class KeyframeResolver{constructor(e,s,a,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=a,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Gv.add(this),Yv||(Yv=!0,qx.read(readAllKeyframes),qx.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:a,motionValue:l}=this;if(null===e[0]){const c=l?.get(),u=e[e.length-1];if(void 0!==c)e[0]=c;else if(a&&s){const l=a.readValue(s,u);null!=l&&(e[0]=l)}void 0===e[0]&&(e[0]=u),l&&void 0===c&&l.set(e[0])}!function fillWildcards(e){for(let s=1;s<e.length;s++)e[s]??(e[s]=e[s-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gv.delete(this)}cancel(){"scheduled"===this.state&&(Gv.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Jv=memo(()=>void 0!==window.ScrollTimeline),ey={};function memoSupports(e,s){const a=memo(e);return()=>ey[s]??a()}const ty=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),cubicBezierAsString=([e,s,a,l])=>`cubic-bezier(${e}, ${s}, ${a}, ${l})`,ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,s){return e?"function"==typeof e?ty()?generateLinearEasing(e,s):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(e=>mapEasingToNativeEasing(e,s)||ry.easeOut):ry[e]:void 0}function startWaapiAnimation(e,s,a,{delay:l=0,duration:c=300,repeat:u=0,repeatType:p="loop",ease:m="easeOut",times:h}={},f=void 0){const g={[s]:a};h&&(g.offset=h);const b=mapEasingToNativeEasing(m,c);Array.isArray(b)&&(g.easing=b);const j={delay:l,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:"reverse"===p?"alternate":"normal"};f&&(j.pseudoElement=f);return e.animate(g,j)}function isGenerator(e){return"function"==typeof e&&"applyToOptions"in e}class NativeAnimation extends WithPromise{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:a,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:p,onComplete:m}=e;this.isPseudoElement=Boolean(c),this.allowFlatten=u,this.options=e,e.type;const h=function applyGeneratorOptions({type:e,...s}){return isGenerator(e)&&ty()?e.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}(e);this.animation=startWaapiAnimation(s,a,l,h,c),!1===h.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const e=getFinalKeyframe$1(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(e):function setStyle(e,s,a){(e=>e.startsWith("--"))(s)?e.style.setProperty(s,a):e.style[s]=a}(s,a,e),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Jv()?(this.animation.timeline=e,noop$2):s(this)}}const ny={anticipate:anticipate,backInOut:$x,circInOut:Fx};function replaceStringEasing(e){"string"==typeof e.ease&&function isUnsupportedEase(e){return e in ny}(e.ease)&&(e.ease=ny[e.ease])}class NativeAnimationExtended extends NativeAnimation{constructor(e){replaceStringEasing(e),replaceTransitionType(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:a,onComplete:l,element:c,...u}=this.options;if(!s)return;if(void 0!==e)return void s.set(e);const p=new JSAnimation({...u,autoplay:!1}),m=secondsToMilliseconds(this.finishedTime??this.time);s.setWithVelocity(p.sample(m-10).value,p.sample(m).value,10),p.stop()}}const isAnimatable=(e,s)=>"zIndex"!==s&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!bv.test(e)&&"0"!==e||e.startsWith("url(")));function makeAnimationInstant(e){e.duration=0,e.type="keyframes"}const sy=new Set(["opacity","clipPath","filter","transform"]),ay=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:e=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:p,name:m,motionValue:h,element:f,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yx.now();const b={autoplay:e,delay:s,type:a,repeat:l,repeatDelay:c,repeatType:u,name:m,motionValue:h,element:f,...g},j=f?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new j(p,(e,s,a)=>this.onKeyframesResolved(e,s,b,!a),m,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,a,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:p,delay:m,isHandoff:h,onUpdate:f}=a;this.resolvedAt=Yx.now(),function canAnimate(e,s,a,l){const c=e[0];if(null===c)return!1;if("display"===s||"visibility"===s)return!0;const u=e[e.length-1],p=isAnimatable(c,s),m=isAnimatable(u,s);return!(!p||!m)&&(function hasKeyframesChanged(e){const s=e[0];if(1===e.length)return!0;for(let a=0;a<e.length;a++)if(e[a]!==s)return!0}(e)||("spring"===a||isGenerator(a))&&l)}(e,c,u,p)||(!Dx.instantAnimations&&m||f?.(getFinalKeyframe$1(e,a,s)),e[0]=e[e.length-1],makeAnimationInstant(a),a.repeat=0);const g={startTime:l?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:e},b=!h&&function supportsBrowserAnimation(e){const{motionValue:s,name:a,repeatDelay:l,repeatType:c,damping:u,type:p}=e,m=s?.owner?.current;if(!(m instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=s.owner.getProps();return ay()&&a&&sy.has(a)&&("transform"!==a||!f)&&!h&&!l&&"mirror"!==c&&0!==u&&"inertia"!==p}(g)?new NativeAnimationExtended({...g,element:g.motionValue.owner.current}):new JSAnimation(g);b.finished.then(()=>this.notifyFinished()).catch(noop$2),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),function flushKeyframeResolvers(){Xv=!0,readAllKeyframes(),measureAllKeyframes(),Xv=!1}()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iy=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function getVariableValue(e,s,a=1){const[l,c]=function parseCSSVariable(e){const s=iy.exec(e);if(!s)return[,];const[,a,l,c]=s;return[`--${a??l}`,c]}(e);if(!l)return;const u=window.getComputedStyle(s).getPropertyValue(l);if(u){const e=u.trim();return isNumericalString(e)?parseFloat(e):e}return isCSSVariableToken(c)?getVariableValue(c,s,a+1):c}function getValueTransition(e,s){return e?.[s]??e?.default??e}const oy=new Set(["width","height","top","left","right","bottom",...Hv]),testValueType=e=>s=>s.test(e),ly=[ev,dv,cv,lv,pv,uv,{test:e=>"auto"===e,parse:e=>e}],findDimensionValueType=e=>ly.find(testValueType(e));function isNone(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||isZeroValueString(e))}const cy=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,a]=e.slice(0,-1).split("(");if("drop-shadow"===s)return e;const[l]=a.match(nv)||[];if(!l)return e;const c=a.replace(l,"");let u=cy.has(s)?1:0;return l!==a&&(u*=100),s+"("+u+c+")"}const dy=/\b([a-z-]*)\(.*?\)/gu,uy={...bv,getAnimatableNone:e=>{const s=e.match(dy);return s?s.map(applyDefaultFilter).join(" "):e}},py={...ev,transform:Math.round},my={borderWidth:dv,borderTopWidth:dv,borderRightWidth:dv,borderBottomWidth:dv,borderLeftWidth:dv,borderRadius:dv,radius:dv,borderTopLeftRadius:dv,borderTopRightRadius:dv,borderBottomRightRadius:dv,borderBottomLeftRadius:dv,width:dv,maxWidth:dv,height:dv,maxHeight:dv,top:dv,right:dv,bottom:dv,left:dv,padding:dv,paddingTop:dv,paddingRight:dv,paddingBottom:dv,paddingLeft:dv,margin:dv,marginTop:dv,marginRight:dv,marginBottom:dv,marginLeft:dv,backgroundPositionX:dv,backgroundPositionY:dv,...{rotate:lv,rotateX:lv,rotateY:lv,rotateZ:lv,scale:rv,scaleX:rv,scaleY:rv,scaleZ:rv,skew:lv,skewX:lv,skewY:lv,distance:dv,translateX:dv,translateY:dv,translateZ:dv,x:dv,y:dv,z:dv,perspective:dv,transformPerspective:dv,opacity:tv,originX:mv,originY:mv,originZ:dv},zIndex:py,fillOpacity:tv,strokeOpacity:tv,numOctaves:py},hy={...my,color:fv,backgroundColor:fv,outlineColor:fv,fill:fv,stroke:fv,borderColor:fv,borderTopColor:fv,borderRightColor:fv,borderBottomColor:fv,borderLeftColor:fv,filter:uy,WebkitFilter:uy},getDefaultValueType=e=>hy[e];function getAnimatableNone(e,s){let a=getDefaultValueType(e);return a!==uy&&(a=bv),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const fy=new Set(["auto","none","0"]);class DOMKeyframesResolver extends KeyframeResolver{constructor(e,s,a,l,c){super(e,s,a,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let a=e[m];if("string"==typeof a&&(a=a.trim(),isCSSVariableToken(a))){const l=getVariableValue(a,s.current);void 0!==l&&(e[m]=l),m===e.length-1&&(this.finalKeyframe=a)}}if(this.resolveNoneKeyframes(),!oy.has(a)||2!==e.length)return;const[l,c]=e,u=findDimensionValueType(l),p=findDimensionValueType(c);if(u!==p)if(isNumOrPxType(u)&&isNumOrPxType(p))for(let m=0;m<e.length;m++){const s=e[m];"string"==typeof s&&(e[m]=parseFloat(s))}else Kv[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,a=[];for(let l=0;l<e.length;l++)(null===e[l]||isNone(e[l]))&&a.push(l);a.length&&function makeNoneKeyframesAnimatable(e,s,a){let l,c=0;for(;c<e.length&&!l;){const s=e[c];"string"==typeof s&&!fy.has(s)&&analyseComplexValue(s).values.length&&(l=e[c]),c++}if(l&&a)for(const u of s)e[u]=getAnimatableNone(a,l)}(e,a,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:a}=this;if(!e||!e.current)return;"height"===a&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kv[a](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];void 0!==l&&e.getValue(a,l).jump(l,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=Kv[s](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==u&&void 0===this.finalKeyframe&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,a])=>{e.getValue(s).set(a)}),this.resolveNoneKeyframes()}}const getValueAsType=(e,s)=>s&&"number"==typeof e?s.transform(e):e;function isHTMLElement$2(e){return isObject$2(e)&&"offsetHeight"in e}class MotionValue{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const s=Yx.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){var s;this.current=e,this.updatedAt=Yx.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(s=this.current,!isNaN(parseFloat(s))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new SubscriptionManager);const a=this.events[e].add(s);return"change"===e?()=>{a(),qx.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yx.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,30);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}const{schedule:gy}=createRenderBatcher(queueMicrotask,!1),xy={x:!1,y:!1};function isDragActive(){return xy.x||xy.y}function setupGesture(e,s){const a=function resolveElements(e,s,a){if(e instanceof EventTarget)return[e];if("string"==typeof e){let s=document;const l=a?.[e]??s.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}(e),l=new AbortController;return[a,{passive:!0,...s,signal:l.signal},()=>l.abort()]}function isValidHover(e){return!("touch"===e.pointerType||isDragActive())}const isNodeOrChild=(e,s)=>!!s&&(e===s||isNodeOrChild(e,s.parentElement)),isPrimaryPointer=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,vy=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const yy=new WeakSet;function filterEvents(e){return s=>{"Enter"===s.key&&e(s)}}function firePointerEvent(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,s,a={}){const[l,c,u]=setupGesture(e,a),startPress=e=>{const l=e.currentTarget;if(!isValidPressEvent(e))return;yy.add(l);const u=s(l,e),onPointerEnd=(e,s)=>{window.removeEventListener("pointerup",onPointerUp),window.removeEventListener("pointercancel",onPointerCancel),yy.has(l)&&yy.delete(l),isValidPressEvent(e)&&"function"==typeof u&&u(e,{success:s})},onPointerUp=e=>{onPointerEnd(e,l===window||l===document||a.useGlobalTarget||isNodeOrChild(l,e.target))},onPointerCancel=e=>{onPointerEnd(e,!1)};window.addEventListener("pointerup",onPointerUp,c),window.addEventListener("pointercancel",onPointerCancel,c)};return l.forEach(e=>{(a.useGlobalTarget?window:e).addEventListener("pointerdown",startPress,c),isHTMLElement$2(e)&&(e.addEventListener("focus",e=>((e,s)=>{const a=e.currentTarget;if(!a)return;const l=filterEvents(()=>{if(yy.has(a))return;firePointerEvent(a,"down");const e=filterEvents(()=>{firePointerEvent(a,"up")});a.addEventListener("keyup",e,s),a.addEventListener("blur",()=>firePointerEvent(a,"cancel"),s)});a.addEventListener("keydown",l,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",l),s)})(e,c)),function isElementKeyboardAccessible(e){return vy.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),u}function isSVGElement$1(e){return isObject$2(e)&&"ownerSVGElement"in e}const isMotionValue=e=>Boolean(e&&e.getVelocity),by=[...ly,fv,bv],jy=re.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function setRef(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}function useComposedRefs(...e){return re.useCallback(function composeRefs(...e){return s=>{let a=!1;const l=e.map(e=>{const l=setRef(e,s);return a||"function"!=typeof l||(a=!0),l});if(a)return()=>{for(let s=0;s<l.length;s++){const a=l[s];"function"==typeof a?a():setRef(e[s],null)}}}}(...e),e)}class PopChildMeasure extends re.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const e=s.offsetParent,a=isHTMLElement$2(e)&&e.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:s,anchorX:a,root:l}){const c=re.useId(),p=re.useRef(null),m=re.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=re.useContext(jy),f=useComposedRefs(p,e?.ref);return re.useInsertionEffect(()=>{const{width:e,height:u,top:f,left:g,right:b}=m.current;if(s||!p.current||!e||!u)return;const j="left"===a?`left: ${g}`:`right: ${b}`;p.current.dataset.motionPopId=c;const N=document.createElement("style");h&&(N.nonce=h);const k=l??document.head;return k.appendChild(N),N.sheet&&N.sheet.insertRule(`\n          [data-motion-pop-id="${c}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${u}px !important;\n            ${j}px !important;\n            top: ${f}px !important;\n          }\n        `),()=>{k.contains(N)&&k.removeChild(N)}},[s]),u.jsx(PopChildMeasure,{isPresent:s,childRef:p,sizeRef:m,children:re.cloneElement(e,{ref:f})})}const PresenceChild=({children:e,initial:s,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:p,mode:m,anchorX:h,root:f})=>{const g=useConstant(newChildrenMap),b=re.useId();let j=!0,N=re.useMemo(()=>(j=!1,{id:b,initial:s,isPresent:a,custom:c,onExitComplete:e=>{g.set(e,!0);for(const s of g.values())if(!s)return;l&&l()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[a,g,l]);return p&&j&&(N={...N}),re.useMemo(()=>{g.forEach((e,s)=>g.set(s,!1))},[a]),re.useEffect(()=>{!a&&!g.size&&l&&l()},[a]),"popLayout"===m&&(e=u.jsx(PopChild,{isPresent:a,anchorX:h,root:f,children:e})),u.jsx(Lx.Provider,{value:N,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const s=re.useContext(Lx);if(null===s)return[!0,null];const{isPresent:a,onExitComplete:l,register:c}=s,u=re.useId();re.useEffect(()=>{if(e)return c(u)},[e]);const p=re.useCallback(()=>e&&l&&l(u),[u,l,e]);return!a&&l?[!1,p]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const s=[];return re.Children.forEach(e,e=>{re.isValidElement(e)&&s.push(e)}),s}const AnimatePresence=({children:e,custom:s,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:p="sync",propagate:m=!1,anchorX:h="left",root:f})=>{const[g,b]=usePresence(m),j=re.useMemo(()=>onlyElements(e),[e]),N=m&&!g?[]:j.map(getChildKey),k=re.useRef(!0),_=re.useRef(j),T=useConstant(()=>new Map),[E,A]=re.useState(j),[L,O]=re.useState(j);Mx(()=>{k.current=!1,_.current=j;for(let e=0;e<L.length;e++){const s=getChildKey(L[e]);N.includes(s)?T.delete(s):!0!==T.get(s)&&T.set(s,!1)}},[L,N.length,N.join("-")]);const I=[];if(j!==E){let e=[...j];for(let s=0;s<L.length;s++){const a=L[s],l=getChildKey(a);N.includes(l)||(e.splice(s,0,a),I.push(a))}return"wait"===p&&I.length&&(e=I),O(onlyElements(e)),A(j),null}const{forceRender:$}=re.useContext(Ex);return u.jsx(u.Fragment,{children:L.map(e=>{const E=getChildKey(e),A=!(m&&!g)&&(j===L||N.includes(E));return u.jsx(PresenceChild,{isPresent:A,initial:!(k.current&&!a)&&void 0,custom:s,presenceAffectsLayout:c,mode:p,root:f,onExitComplete:A?void 0:()=>{if(!T.has(E))return;T.set(E,!0);let e=!0;T.forEach(s=>{s||(e=!1)}),e&&($?.(),O(_.current),m&&b?.(),l&&l())},anchorX:h,children:e},E)})})},wy=re.createContext({strict:!1}),Ny={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sy={};for(const L in Ny)Sy[L]={isEnabled:e=>Ny[L].some(s=>!!e[s])};const Cy=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Cy.has(e)}let shouldForward=e=>!isValidMotionProp(e);try{!function loadExternalIsValidProp(e){"function"==typeof e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}(require("@emotion/is-prop-valid").default)}catch{}const ky=re.createContext({});function isAnimationControls(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function isVariantLabel(e){return"string"==typeof e||Array.isArray(e)}const _y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Py=["initial",..._y];function isControllingVariants(e){return isAnimationControls(e.animate)||Py.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return Boolean(isControllingVariants(e)||e.variants)}function useCreateMotionContext(e){const{initial:s,animate:a}=function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:s,animate:a}=e;return{initial:!1===s||isVariantLabel(s)?s:void 0,animate:isVariantLabel(a)?a:void 0}}return!1!==e.inherit?s:{}}(e,re.useContext(ky));return re.useMemo(()=>({initial:s,animate:a}),[variantLabelsAsDependency(s),variantLabelsAsDependency(a)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const Ty={};function isForcedMotionValue(e,{layout:s,layoutId:a}){return qv.has(e)||e.startsWith("origin")||(s||void 0!==a)&&(!!Ty[e]||"opacity"===e)}const Ey={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ay=Hv.length;function buildHTMLStyles(e,s,a){const{style:l,vars:c,transformOrigin:u}=e;let p=!1,m=!1;for(const h in s){const e=s[h];if(qv.has(h))p=!0;else if(Qx(h))c[h]=e;else{const s=getValueAsType(e,my[h]);h.startsWith("origin")?(m=!0,u[h]=s):l[h]=s}}if(s.transform||(p||a?l.transform=function buildTransform(e,s,a){let l="",c=!0;for(let u=0;u<Ay;u++){const p=Hv[u],m=e[p];if(void 0===m)continue;let h=!0;if(h="number"==typeof m?m===(p.startsWith("scale")?1:0):0===parseFloat(m),!h||a){const e=getValueAsType(m,my[p]);h||(c=!1,l+=`${Ey[p]||p}(${e}) `),a&&(s[p]=e)}}return l=l.trim(),a?l=a(s,c?"":l):c&&(l="none"),l}(s,e.transform,a):l.transform&&(l.transform="none")),m){const{originX:e="50%",originY:s="50%",originZ:a=0}=u;l.transformOrigin=`${e} ${s} ${a}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,s,a){for(const l in s)isMotionValue(s[l])||isForcedMotionValue(l,a)||(e[l]=s[l])}function useStyle(e,s){const a={};return copyRawValuesOnly(a,e.style||{},e),Object.assign(a,function useInitialMotionValues({transformTemplate:e},s){return re.useMemo(()=>{const a={style:{},transform:{},transformOrigin:{},vars:{}};return buildHTMLStyles(a,s,e),Object.assign({},a.vars,a.style)},[s])}(e,s)),a}function useHTMLProps(e,s){const a={},l=useStyle(e,s);return e.drag&&!1!==e.dragListener&&(a.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=l,a}const My={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ly={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGAttrs(e,{attrX:s,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:p=0,...m},h,f,g){if(buildHTMLStyles(e,m,f),h)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:b,style:j}=e;b.transform&&(j.transform=b.transform,delete b.transform),(j.transform||b.transformOrigin)&&(j.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),j.transform&&(j.transformBox=g?.transformBox??"fill-box",delete b.transformBox),void 0!==s&&(b.x=s),void 0!==a&&(b.y=a),void 0!==l&&(b.scale=l),void 0!==c&&function buildSVGPath(e,s,a=1,l=0,c=!0){e.pathLength=1;const u=c?My:Ly;e[u.offset]=dv.transform(-l);const p=dv.transform(s),m=dv.transform(a);e[u.array]=`${p} ${m}`}(b,c,u,p,!1)}const createSvgRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),isSVGTag=e=>"string"==typeof e&&"svg"===e.toLowerCase();function useSVGProps(e,s,a,l){const c=re.useMemo(()=>{const a={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return buildSVGAttrs(a,s,isSVGTag(l),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[s]);if(e.style){const s={};copyRawValuesOnly(s,e.style,e),c.style={...s,...c.style}}return c}const Dy=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return"string"==typeof e&&!e.includes("-")&&!!(Dy.indexOf(e)>-1||/[A-Z]/u.test(e))}function useRender(e,s,a,{latestValues:l},c,u=!1){const p=(isSVGComponent(e)?useSVGProps:useHTMLProps)(s,l,c,e),m=function filterProps$1(e,s,a){const l={};for(const c in e)"values"===c&&"object"==typeof e.values||(shouldForward(c)||!0===a&&isValidMotionProp(c)||!s&&!isValidMotionProp(c)||e.draggable&&c.startsWith("onDrag"))&&(l[c]=e[c]);return l}(s,"string"==typeof e,u),h=e!==re.Fragment?{...m,...p,ref:a}:{},{children:f}=s,g=re.useMemo(()=>isMotionValue(f)?f.get():f,[f]);return re.createElement(e,{...h,children:g})}function getValueState(e){const s=[{},{}];return e?.values.forEach((e,a)=>{s[0][a]=e.get(),s[1][a]=e.getVelocity()}),s}function resolveVariantFromProps(e,s,a,l){if("function"==typeof s){const[c,u]=getValueState(l);s=s(void 0!==a?a:e.custom,c,u)}if("string"==typeof s&&(s=e.variants&&e.variants[s]),"function"==typeof s){const[c,u]=getValueState(l);s=s(void 0!==a?a:e.custom,c,u)}return s}function resolveMotionValue(e){return isMotionValue(e)?e.get():e}function makeLatestValues(e,s,a,l){const c={},u=l(e,{});for(const j in u)c[j]=resolveMotionValue(u[j]);let{initial:p,animate:m}=e;const h=isControllingVariants(e),f=isVariantNode(e);s&&f&&!h&&!1!==e.inherit&&(void 0===p&&(p=s.initial),void 0===m&&(m=s.animate));let g=!!a&&!1===a.initial;g=g||!1===p;const b=g?m:p;if(b&&"boolean"!=typeof b&&!isAnimationControls(b)){const s=Array.isArray(b)?b:[b];for(let a=0;a<s.length;a++){const l=resolveVariantFromProps(e,s[a]);if(l){const{transitionEnd:e,transition:s,...a}=l;for(const l in a){let e=a[l];if(Array.isArray(e)){e=e[g?e.length-1:0]}null!==e&&(c[l]=e)}for(const l in e)c[l]=e[l]}}}return c}const makeUseVisualState=e=>(s,a)=>{const l=re.useContext(ky),c=re.useContext(Lx),make=()=>function makeState({scrapeMotionValuesFromProps:e,createRenderState:s},a,l,c){return{latestValues:makeLatestValues(a,l,c,e),renderState:s()}}(e,s,l,c);return a?make():useConstant(make)};function scrapeMotionValuesFromProps$1(e,s,a){const{style:l}=e,c={};for(const u in l)(isMotionValue(l[u])||s.style&&isMotionValue(s.style[u])||isForcedMotionValue(u,e)||void 0!==a?.getValue(u)?.liveStyle)&&(c[u]=l[u]);return c}const Oy=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(e,s,a){const l=scrapeMotionValuesFromProps$1(e,s,a);for(const c in e)if(isMotionValue(e[c])||isMotionValue(s[c])){l[-1!==Hv.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=e[c]}return l}const Iy=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),$y=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,a){return re.useCallback(l=>{l&&e.onMount&&e.onMount(l),s&&(l?s.mount(l):s.unmount()),a&&("function"==typeof a?a(l):isRefObject(a)&&(a.current=l))},[s])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ry="data-"+camelToDash("framerAppearId"),Fy=re.createContext({});function useVisualElement(e,s,a,l,c){const{visualElement:u}=re.useContext(ky),p=re.useContext(wy),m=re.useContext(Lx),h=re.useContext(jy).reducedMotion,f=re.useRef(null);l=l||p.renderer,!f.current&&l&&(f.current=l(e,{visualState:s,parent:u,props:a,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:h}));const g=f.current,b=re.useContext(Fy);!g||g.projection||!c||"html"!==g.type&&"svg"!==g.type||function createProjectionNode$1(e,s,a,l){const{layoutId:c,layout:u,drag:p,dragConstraints:m,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=s;e.projection=new a(e.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(p)||m&&isRefObject(m),visualElement:e,animationType:"string"==typeof u?u:"both",initialPromotionConfig:l,crossfade:g,layoutScroll:h,layoutRoot:f})}(f.current,a,c,b);const j=re.useRef(!1);re.useInsertionEffect(()=>{g&&j.current&&g.update(a,m)});const N=a[Ry],k=re.useRef(Boolean(N)&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return Mx(()=>{g&&(j.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),re.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),g.enteringChildren=void 0)}),g}function getClosestProjectingNode(e){if(e)return!1!==e.options.allowProjection?e.projection:getClosestProjectingNode(e.parent)}function createMotionComponent(e,{forwardMotionProps:s=!1}={},a,l){a&&function loadFeatures(e){for(const s in e)Sy[s]={...Sy[s],...e[s]}}(a);const c=isSVGComponent(e)?Iy:Oy;function MotionDOMComponent(a,p){let m;const h={...re.useContext(jy),...a,layoutId:useLayoutId(a)},{isStatic:f}=h,g=useCreateMotionContext(a),b=c(a,f);if(!f&&Ax){!function useStrictMode(e,s){re.useContext(wy).strict}();const s=function getProjectionFunctionality(e){const{drag:s,layout:a}=Sy;if(!s&&!a)return{};const l={...s,...a};return{MeasureLayout:s?.isEnabled(e)||a?.isEnabled(e)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}(h);m=s.MeasureLayout,g.visualElement=useVisualElement(e,b,h,l,s.ProjectionNode)}return u.jsxs(ky.Provider,{value:g,children:[m&&g.visualElement?u.jsx(m,{visualElement:g.visualElement,...h}):null,useRender(e,a,useMotionRef(b,g.visualElement,p),b,f,s)]})}MotionDOMComponent.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const p=re.forwardRef(MotionDOMComponent);return p[$y]=e,p}function useLayoutId({layoutId:e}){const s=re.useContext(Ex).id;return s&&void 0!==e?s+"-"+e:e}function createMotionProxy(e,s){if("undefined"==typeof Proxy)return createMotionComponent;const a=new Map,factory=(a,l)=>createMotionComponent(a,l,e,s);return new Proxy((e,s)=>factory(e,s),{get:(l,c)=>"create"===c?factory:(a.has(c)||a.set(c,createMotionComponent(c,void 0,e,s)),a.get(c))})}function convertBoundingBoxToBox({top:e,left:s,right:a,bottom:l}){return{x:{min:s,max:a},y:{min:e,max:l}}}function isIdentityScale(e){return void 0===e||1===e}function hasScale({scale:e,scaleX:s,scaleY:a}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(a)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&"0%"!==e}function scalePoint(e,s,a){return a+s*(e-a)}function applyPointDelta(e,s,a,l,c){return void 0!==c&&(e=scalePoint(e,c,l)),scalePoint(e,a,l)+s}function applyAxisDelta(e,s=0,a=1,l,c){e.min=applyPointDelta(e.min,s,a,l,c),e.max=applyPointDelta(e.max,s,a,l,c)}function applyBoxDelta(e,{x:s,y:a}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,a.translate,a.scale,a.originPoint)}const By=.999999999999,zy=1.0000000000001;function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,a,l,c=.5){applyAxisDelta(e,s,a,mixNumber$1(e.min,e.max,c),l)}function transformBox(e,s){transformAxis(e.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(e.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(e,s){return convertBoundingBoxToBox(function transformBoxPoints(e,s){if(!s)return e;const a=s({x:e.left,y:e.top}),l=s({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:l.y,right:l.x}}(e.getBoundingClientRect(),s))}const createBox=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Vy={current:null},Uy={current:!1};const Hy=new WeakMap;const qy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,s,a){return{}}constructor({parent:e,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:c,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Yx.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,qx.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=h,this.parent=e,this.props=s,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.blockInitialAnimation=Boolean(c),this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in g){const e=g[b];void 0!==m[b]&&isMotionValue(e)&&e.set(m[b])}}mount(e){this.current=e,Hy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),Uy.current||function initPrefersReducedMotion(){if(Uy.current=!0,Ax)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),setReducedMotionPreferences=()=>Vy.current=e.matches;e.addEventListener("change",setReducedMotionPreferences),setReducedMotionPreferences()}else Vy.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wx(this.notifyUpdate),Wx(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=qv.has(e);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&qx.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Sy){const s=Sy[e];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[e]&&l&&a(this.props)&&(this.features[e]=new l(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<qy.length;a++){const s=qy[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l=e["on"+s];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=function updateMotionValuesFromProps(e,s,a){for(const l in s){const c=s[l],u=a[l];if(isMotionValue(c))e.addValue(l,c);else if(isMotionValue(u))e.addValue(l,motionValue(c,{owner:e}));else if(u!==c)if(e.hasValue(l)){const s=e.getValue(l);!0===s.liveStyle?s.jump(c):s.hasAnimated||s.set(c)}else{const s=e.getStaticValue(l);e.addValue(l,motionValue(void 0!==s?s:c,{owner:e}))}}for(const l in a)void 0===s[l]&&e.removeValue(l);return s}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const a=this.values.get(e);s!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return void 0===a&&void 0!==s&&(a=motionValue(null===s?void 0:s,{owner:this}),this.addValue(e,a)),a}readValue(e,s){let a=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var l;return null!=a&&("string"==typeof a&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):(l=a,!by.find(testValueType(l))&&bv.test(s)&&(a=getAnimatableNone(e,s))),this.setBaseTarget(e,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let a;if("string"==typeof s||"object"==typeof s){const l=resolveVariantFromProps(this.props,s,this.presenceContext?.custom);l&&(a=l[e])}if(s&&void 0!==a)return a;const l=this.getBaseTargetFromProps(this.props,e);return void 0===l||isMotionValue(l)?void 0!==this.initialValues[e]&&void 0===a?void 0:this.baseTarget[e]:l}on(e,s){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){gy.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,s){return 2&e.compareDocumentPosition(s)?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:a}){delete s[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function renderHTML(e,{style:s,vars:a},l,c){const u=e.style;let p;for(p in s)u[p]=s[p];for(p in c?.applyProjectionStyles(u,l),a)u.setProperty(p,a[p])}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,s){if(qv.has(s))return this.projection?.isProjecting?defaultTransformValue(s):((e,s)=>{const{transform:a="none"}=getComputedStyle(e);return parseValueFromTransform(a,s)})(e,s);{const a=function getComputedStyle$1(e){return window.getComputedStyle(e)}(e),l=(Qx(s)?a.getPropertyValue(s):a[s])||0;return"string"==typeof l?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:s}){return measureViewportBox(e,s)}build(e,s,a){buildHTMLStyles(e,s,a.transformTemplate)}scrapeMotionValuesFromProps(e,s,a){return scrapeMotionValuesFromProps$1(e,s,a)}}const Wy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(qv.has(s)){const e=getDefaultValueType(s);return e&&e.default||0}return s=Wy.has(s)?s:camelToDash(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,a){return scrapeMotionValuesFromProps(e,s,a)}build(e,s,a){buildSVGAttrs(e,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,s,a,l){!function renderSVG(e,s,a,l){renderHTML(e,s,void 0,l);for(const c in s.attrs)e.setAttribute(Wy.has(c)?c:camelToDash(c),s.attrs[c])}(e,s,0,l)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:e!==re.Fragment});function resolveVariant(e,s,a){const l=e.getProps();return resolveVariantFromProps(l,s,void 0!==a?a:l.custom,e)}const isKeyframesTarget=e=>Array.isArray(e);function setMotionValue(e,s,a){e.hasValue(s)?e.getValue(s).set(a):e.addValue(s,motionValue(a))}function resolveFinalValueInKeyframes(e){return isKeyframesTarget(e)?e[e.length-1]||0:e}function addValueToWillChange(e,s){const a=e.getValue("willChange");if(function isWillChangeMotionValue(e){return Boolean(isMotionValue(e)&&e.add)}(a))return a.add(s);if(!a&&Dx.WillChange){const a=new Dx.WillChange("auto");e.addValue("willChange",a),a.add(s)}}function getOptimisedAppearId(e){return e.props[Ry]}const isNotNull=e=>null!==e;const Zy={type:"spring",stiffness:500,damping:25,restSpeed:10},Ky={type:"keyframes",duration:.8},Gy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?Ky:qv.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===s[1]?2*Math.sqrt(550):30,restSpeed:10}:Zy:Gy;const animateMotionValue=(e,s,a,l={},c,u)=>p=>{const m=getValueTransition(l,e)||{},h=m.delay||l.delay||0;let{elapsed:f=0}=l;f-=secondsToMilliseconds(h);const g={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...m,delay:-f,onUpdate:e=>{s.set(e),m.onUpdate&&m.onUpdate(e)},onComplete:()=>{p(),m.onComplete&&m.onComplete()},name:e,motionValue:s,element:u?void 0:c};(function isTransitionDefined({when:e,delay:s,delayChildren:a,staggerChildren:l,staggerDirection:c,repeat:u,repeatType:p,repeatDelay:m,from:h,elapsed:f,...g}){return!!Object.keys(g).length})(m)||Object.assign(g,getDefaultTransition(e,g)),g.duration&&(g.duration=secondsToMilliseconds(g.duration)),g.repeatDelay&&(g.repeatDelay=secondsToMilliseconds(g.repeatDelay)),void 0!==g.from&&(g.keyframes[0]=g.from);let b=!1;if((!1===g.type||0===g.duration&&!g.repeatDelay)&&(makeAnimationInstant(g),0===g.delay&&(b=!0)),(Dx.instantAnimations||Dx.skipAnimations)&&(b=!0,makeAnimationInstant(g),g.delay=0),g.allowFlatten=!m.type&&!m.ease,b&&!u&&void 0!==s.get()){const e=function getFinalKeyframe(e,{repeat:s,repeatType:a="loop"},l){const c=e.filter(isNotNull);return c[s&&"loop"!==a&&s%2==1?0:c.length-1]}(g.keyframes,m);if(void 0!==e)return void qx.update(()=>{g.onUpdate(e),g.onComplete()})}return m.isSync?new JSAnimation(g):new AsyncMotionValueAnimation(g)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},a){const l=e.hasOwnProperty(a)&&!0!==s[a];return s[a]=!1,l}function animateTarget(e,s,{delay:a=0,transitionOverride:l,type:c}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:p,...m}=s;l&&(u=l);const h=[],f=c&&e.animationState&&e.animationState.getState()[c];for(const g in m){const s=e.getValue(g,e.latestValues[g]??null),l=m[g];if(void 0===l||f&&shouldBlockAnimation(f,g))continue;const c={delay:a,...getValueTransition(u||{},g)},p=s.get();if(void 0!==p&&!s.isAnimating&&!Array.isArray(l)&&l===p&&!c.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const s=getOptimisedAppearId(e);if(s){const e=window.MotionHandoffAnimation(s,g,qx);null!==e&&(c.startTime=e,b=!0)}}addValueToWillChange(e,g),s.start(animateMotionValue(g,s,l,e.shouldReduceMotion&&oy.has(g)?{type:!1}:c,e,b));const j=s.animation;j&&h.push(j)}return p&&Promise.all(h).then(()=>{qx.update(()=>{p&&function setTarget(e,s){const a=resolveVariant(e,s);let{transitionEnd:l={},transition:c={},...u}=a||{};u={...u,...l};for(const p in u)setMotionValue(e,p,resolveFinalValueInKeyframes(u[p]))}(e,p)})}),h}function calcChildStagger(e,s,a,l=0,c=1){const u=Array.from(e).sort((e,s)=>e.sortNodePosition(s)).indexOf(s),p=e.size,m=(p-1)*l;return"function"==typeof a?a(u,p):1===c?u*l:m-u*l}function animateVariant(e,s,a={}){const l=resolveVariant(e,s,"exit"===a.type?e.presenceContext?.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=l||{};a.transitionOverride&&(c=a.transitionOverride);const u=l?()=>Promise.all(animateTarget(e,l,a)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:p,staggerDirection:m}=c;return function animateChildren(e,s,a=0,l=0,c=0,u=1,p){const m=[];for(const h of e.variantChildren)h.notify("AnimationStart",s),m.push(animateVariant(h,s,{...p,delay:a+("function"==typeof l?0:l)+calcChildStagger(e.variantChildren,h,l,c,u)}).then(()=>h.notify("AnimationComplete",s)));return Promise.all(m)}(e,s,l,u,p,m,a)}:()=>Promise.resolve(),{when:m}=c;if(m){const[e,s]="beforeChildren"===m?[u,p]:[p,u];return e().then(()=>s())}return Promise.all([u(),p(a.delay)])}function shallowCompare(e,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==e.length)return!1;for(let l=0;l<a;l++)if(s[l]!==e[l])return!1;return!0}const Yy=Py.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent&&getVariantContext(e.parent)||{};return void 0!==e.props.initial&&(s.initial=e.props.initial),s}const s={};for(let a=0;a<Yy;a++){const l=Py[a],c=e.props[l];(isVariantLabel(c)||!1===c)&&(s[l]=c)}return s}const Qy=[..._y].reverse(),Xy=_y.length;function animateList(e){return s=>Promise.all(s.map(({animation:s,options:a})=>function animateVisualElement(e,s,a={}){let l;if(e.notify("AnimationStart",s),Array.isArray(s)){const c=s.map(s=>animateVariant(e,s,a));l=Promise.all(c)}else if("string"==typeof s)l=animateVariant(e,s,a);else{const c="function"==typeof s?resolveVariant(e,s,a.custom):s;l=Promise.all(animateTarget(e,c,a))}return l.then(()=>{e.notify("AnimationComplete",s)})}(e,s,a)))}function createAnimationState(e){let s=animateList(e),a=createState(),l=!0;const buildResolvedTypeValues=s=>(a,l)=>{const c=resolveVariant(e,l,"exit"===s?e.presenceContext?.custom:void 0);if(c){const{transition:e,transitionEnd:s,...l}=c;a={...a,...l,...s}}return a};function animateChanges(c){const{props:u}=e,p=getVariantContext(e.parent)||{},m=[],h=new Set;let f={},g=1/0;for(let s=0;s<Xy;s++){const b=Qy[s],j=a[b],N=void 0!==u[b]?u[b]:p[b],k=isVariantLabel(N),_=b===c?j.isActive:null;!1===_&&(g=s);let T=N===p[b]&&N!==u[b]&&k;if(T&&l&&e.manuallyAnimateOnMount&&(T=!1),j.protectedKeys={...f},!j.isActive&&null===_||!N&&!j.prevProp||isAnimationControls(N)||"boolean"==typeof N)continue;const E=checkVariantsDidChange(j.prevProp,N);let A=E||b===c&&j.isActive&&!T&&k||s>g&&k,L=!1;const O=Array.isArray(N)?N:[N];let I=O.reduce(buildResolvedTypeValues(b),{});!1===_&&(I={});const{prevResolvedValues:$={}}=j,z={...$,...I},markToAnimate=s=>{A=!0,h.has(s)&&(L=!0,h.delete(s)),j.needsAnimating[s]=!0;const a=e.getValue(s);a&&(a.liveStyle=!1)};for(const e in z){const s=I[e],a=$[e];if(f.hasOwnProperty(e))continue;let l=!1;l=isKeyframesTarget(s)&&isKeyframesTarget(a)?!shallowCompare(s,a):s!==a,l?null!=s?markToAnimate(e):h.add(e):void 0!==s&&h.has(e)?markToAnimate(e):j.protectedKeys[e]=!0}j.prevProp=N,j.prevResolvedValues=I,j.isActive&&(f={...f,...I}),l&&e.blockInitialAnimation&&(A=!1);const U=T&&E;A&&(!U||L)&&m.push(...O.map(s=>{const a={type:b};if("string"==typeof s&&l&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:l}=e,c=resolveVariant(l,s);if(l.enteringChildren&&c){const{delayChildren:s}=c.transition||{};a.delay=calcChildStagger(l.enteringChildren,e,s)}}return{animation:s,options:a}}))}if(h.size){const s={};if("boolean"!=typeof u.initial){const a=resolveVariant(e,Array.isArray(u.initial)?u.initial[0]:u.initial);a&&a.transition&&(s.transition=a.transition)}h.forEach(a=>{const l=e.getBaseTarget(a),c=e.getValue(a);c&&(c.liveStyle=!0),s[a]=l??null}),m.push({animation:s})}let b=Boolean(m.length);return!l||!1!==u.initial&&u.initial!==u.animate||e.manuallyAnimateOnMount||(b=!1),l=!1,b?s(m):Promise.resolve()}return{animateChanges:animateChanges,setActive:function setActive(s,l){if(a[s].isActive===l)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(s,l)),a[s].isActive=l;const c=animateChanges(s);for(const e in a)a[e].protectedKeys={};return c},setAnimateFunction:function setAnimateFunction(a){s=a(e)},getState:()=>a,reset:()=>{a=createState(),l=!0}}}function checkVariantsDidChange(e,s){return"string"==typeof s?s!==e:!!Array.isArray(s)&&!shallowCompare(s,e)}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Jy=0;const eb={animation:{Feature:class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=Jy++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const l=this.node.animationState.setActive("exit",!e);s&&!e&&l.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function addDomEvent(e,s,a,l={passive:!0}){return e.addEventListener(s,a,l),()=>e.removeEventListener(s,a)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}function addPointerEvent(e,s,a,l){return addDomEvent(e,s,(e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s)))(a),l)}function calcLength(e){return e.max-e.min}function calcAxisDelta(e,s,a,l=.5){e.origin=l,e.originPoint=mixNumber$1(s.min,s.max,e.origin),e.scale=calcLength(a)/calcLength(s),e.translate=mixNumber$1(a.min,a.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,a,l){calcAxisDelta(e.x,s.x,a.x,l?l.originX:void 0),calcAxisDelta(e.y,s.y,a.y,l?l.originY:void 0)}function calcRelativeAxis(e,s,a){e.min=a.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeAxisPosition(e,s,a){e.min=s.min-a.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,a){calcRelativeAxisPosition(e.x,s.x,a.x),calcRelativeAxisPosition(e.y,s.y,a.y)}function eachAxis(e){return[e("x"),e("y")]}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,s)=>Math.abs(e-s);class PanSession{constructor(e,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=getPanInfo(this.lastMoveEventInfo,this.history),s=null!==this.startEvent,a=function distance2D(e,s){const a=distance(e.x,s.x),l=distance(e.y,s.y);return Math.sqrt(a**2+l**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!s&&!a)return;const{point:l}=e,{timestamp:c}=Zx;this.history.push({...l,timestamp:c});const{onStart:u,onMove:p}=this.handlers;s||(u&&u(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,e)},this.handlePointerMove=(e,s)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=transformPoint(s,this.transformPagePoint),qx.update(this.updatePoint,!0)},this.handlePointerUp=(e,s)=>{this.end();const{onEnd:a,onSessionEnd:l,resumeAnimation:c}=this.handlers;if(this.dragSnapToOrigin&&c&&c(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const u=getPanInfo("pointercancel"===e.type?this.lastMoveEventInfo:transformPoint(s,this.transformPagePoint),this.history);this.startEvent&&a&&a(e,u),l&&l(e,u)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=l||window;const p=transformPoint(extractEventInfo(e),this.transformPagePoint),{point:m}=p,{timestamp:h}=Zx;this.history=[{...m,timestamp:h}];const{onSessionStart:f}=s;f&&f(e,getPanInfo(p,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wx(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let a=e.length-1,l=null;const c=lastDevicePoint(e);for(;a>=0&&(l=e[a],!(c.timestamp-l.timestamp>secondsToMilliseconds(s)));)a--;if(!l)return{x:0,y:0};const u=millisecondsToSeconds(c.timestamp-l.timestamp);if(0===u)return{x:0,y:0};const p={x:(c.x-l.x)/u,y:(c.y-l.y)/u};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function calcRelativeAxisConstraints(e,s,a){return{min:void 0!==s?e.min+s:void 0,max:void 0!==a?e.max+a-(e.max-e.min):void 0}}function calcViewportAxisConstraints(e,s){let a=s.min-e.min,l=s.max-e.max;return s.max-s.min<e.max-e.min&&([a,l]=[l,a]),{min:a,max:l}}const tb=.35;function resolveAxisElastic(e,s,a){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,a)}}function resolvePointElastic(e,s){return"number"==typeof e?e:e[s]||0}const rb=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&!1===l.isPresent)return;const{dragSnapToOrigin:c}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:e=>{const{dragSnapToOrigin:a}=this.getProps();a?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(e).point)},onStart:(e,s)=>{const{drag:a,dragPropagation:l,onDragStart:c}=this.getProps();if(a&&!l&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function setDragLock(e){return"x"===e||"y"===e?xy[e]?null:(xy[e]=!0,()=>{xy[e]=!1}):xy.x||xy.y?null:(xy.x=xy.y=!0,()=>{xy.x=xy.y=!1})}(a),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=s,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(e=>{let s=this.getAxisMotionValue(e).get()||0;if(cv.test(s)){const{projection:a}=this.visualElement;if(a&&a.layout){const l=a.layout.layoutBox[e];if(l){s=calcLength(l)*(parseFloat(s)/100)}}}this.originPoint[e]=s}),c&&qx.postRender(()=>c(e,s)),addValueToWillChange(this.visualElement,"transform");const{animationState:u}=this.visualElement;u&&u.setActive("whileDrag",!0)},onMove:(e,s)=>{this.latestPointerEvent=e,this.latestPanInfo=s;const{dragPropagation:a,dragDirectionLock:l,onDirectionLock:c,onDrag:u}=this.getProps();if(!a&&!this.openDragLock)return;const{offset:p}=s;if(l&&null===this.currentDirection)return this.currentDirection=function getCurrentDirection(e,s=10){let a=null;Math.abs(e.y)>s?a="y":Math.abs(e.x)>s&&(a="x");return a}(p),void(null!==this.currentDirection&&c&&c(this.currentDirection));this.updateAxis("x",s.point,p),this.updateAxis("y",s.point,p),this.visualElement.render(),u&&u(e,s)},onSessionEnd:(e,s)=>{this.latestPointerEvent=e,this.latestPanInfo=s,this.stop(e,s),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>eachAxis(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:a,contextWindow:getContextWindow(this.visualElement)})}stop(e,s){const a=e||this.latestPointerEvent,l=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!a)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:p}=this.getProps();p&&qx.postRender(()=>p(a,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,a){const{drag:l}=this.getProps();if(!a||!shouldDrag(e,l,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(u=function applyConstraints(e,{min:s,max:a},l){return void 0!==s&&e<s?e=l?mixNumber$1(s,e,l.min):Math.max(e,s):void 0!==a&&e>a&&(e=l?mixNumber$1(a,e,l.max):Math.min(e,a)),e}(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&isRefObject(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!a)&&function calcRelativeConstraints(e,{top:s,left:a,bottom:l,right:c}){return{x:calcRelativeAxisConstraints(e.x,a,c),y:calcRelativeAxisConstraints(e.y,s,l)}}(a.layoutBox,e),this.elastic=function resolveDragElastic(e=tb){return!1===e?e=0:!0===e&&(e=tb),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function rebaseAxisConstraints(e,s){const a={};return void 0!==s.min&&(a.min=s.min-e.min),void 0!==s.max&&(a.max=s.max-e.min),a}(a.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!isRefObject(e))return!1;const a=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=function measurePageBox(e,s,a){const l=measureViewportBox(e,a),{scroll:c}=s;return c&&(translateAxis(l.x,c.offset.x),translateAxis(l.y,c.offset.y)),l}(a,l.root,this.visualElement.getTransformPagePoint());let u=function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}(l.layout.layoutBox,c);if(s){const e=s(function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}(u));this.hasMutatedConstraints=!!e,e&&(u=convertBoundingBoxToBox(e))}return u}startAnimation(e){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},h=eachAxis(p=>{if(!shouldDrag(p,s,this.currentDirection))return;let h=m&&m[p]||{};u&&(h={min:0,max:0});const f=l?200:1e6,g=l?40:1e7,b={type:"inertia",velocity:a?e[p]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...c,...h};return this.startAxisValueAnimation(p,b)});return Promise.all(h).then(p)}startAxisValueAnimation(e,s){const a=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),a.start(animateMotionValue(e,a,0,s,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(s=>{const{drag:a}=this.getProps();if(!shouldDrag(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(s);if(l&&l.layout){const{min:a,max:u}=l.layout.layoutBox[s];c.set(e[s]-mixNumber$1(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};eachAxis(e=>{const s=this.getAxisMotionValue(e);if(s&&!1!==this.constraints){const a=s.get();l[e]=function calcOrigin(e,s){let a=.5;const l=calcLength(e),c=calcLength(s);return c>l?a=progress(s.min,s.max-l,e.min):l>c&&(a=progress(e.min,e.max-c,s.min)),clamp(0,1,a)}({min:a,max:a},this.constraints[e])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(s=>{if(!shouldDrag(s,e,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(mixNumber$1(c,u,l[s]))})}addListeners(){if(!this.visualElement.current)return;rb.set(this.visualElement,this);const e=addPointerEvent(this.visualElement.current,"pointerdown",e=>{const{drag:s,dragListener:a=!0}=this.getProps();s&&a&&this.start(e)}),measureDragConstraints=()=>{const{dragConstraints:e}=this.getProps();isRefObject(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",measureDragConstraints);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qx.read(measureDragConstraints);const l=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:s})=>{this.isDragging&&s&&(eachAxis(s=>{const a=this.getAxisMotionValue(s);a&&(this.originPoint[s]+=e[s].translate,a.set(a.get()+e[s].translate))}),this.visualElement.render())});return()=>{l(),e(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=tb,dragMomentum:p=!0}=e;return{...e,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:p}}}function shouldDrag(e,s,a){return!(!0!==s&&s!==e||null!==a&&a!==e)}const asyncHandler=e=>(s,a)=>{e&&qx.postRender(()=>e(s,a))};const nb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const sb={correct:(e,s)=>{if(!s.target)return e;if("string"==typeof e){if(!dv.test(e))return e;e=parseFloat(e)}return`${pixelsToPercent(e,s.target.x)}% ${pixelsToPercent(e,s.target.y)}%`}},ab={correct:(e,{treeScale:s,projectionDelta:a})=>{const l=e,c=bv.parse(e);if(c.length>5)return l;const u=bv.createTransformer(e),p="number"!=typeof c[0]?1:0,m=a.x.scale*s.x,h=a.y.scale*s.y;c[0+p]/=m,c[1+p]/=h;const f=mixNumber$1(m,h,.5);return"number"==typeof c[2+p]&&(c[2+p]/=f),"number"==typeof c[3+p]&&(c[3+p]/=f),u(c)}};let ib=!1;class MeasureLayoutWithContext extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:c}=e;!function addScaleCorrector(e){for(const s in e)Ty[s]=e[s],Qx(s)&&(Ty[s].isCSSVariable=!0)}(ob),c&&(s.group&&s.group.add(c),a&&a.register&&l&&a.register(c),ib&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),nb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:a,drag:l,isPresent:c}=this.props,{projection:u}=a;return u?(u.isPresent=c,ib=!0,l||e.layoutDependency!==s||void 0===s||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||qx.postRender(()=>{const e=u.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=e;ib=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(e){const[s,a]=usePresence(),l=re.useContext(Ex);return u.jsx(MeasureLayoutWithContext,{...e,layoutGroup:l,switchLayoutGroup:re.useContext(Fy),isPresent:s,safeToRemove:a})}const ob={borderRadius:{...sb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sb,borderTopRightRadius:sb,borderBottomLeftRadius:sb,borderBottomRightRadius:sb,boxShadow:ab};const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}const lb=["TopLeft","TopRight","BottomLeft","BottomRight"],cb=lb.length,asNumber=e=>"string"==typeof e?parseFloat(e):e,isPx=e=>"number"==typeof e||dv.test(e);function getRadius(e,s){return void 0!==e[s]?e[s]:e.borderRadius}const db=compress(0,.5,Rx),ub=compress(.5,.95,noop$2);function compress(e,s,a){return l=>l<e?0:l>s?1:a(progress(e,s,l))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function copyAxisDeltaInto(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function removePointDelta(e,s,a,l,c){return e=scalePoint(e-=s,1/a,l),void 0!==c&&(e=scalePoint(e,1/c,l)),e}function removeAxisTransforms(e,s,[a,l,c],u,p){!function removeAxisDelta(e,s=0,a=1,l=.5,c,u=e,p=e){cv.test(s)&&(s=parseFloat(s),s=mixNumber$1(p.min,p.max,s/100)-p.min);if("number"!=typeof s)return;let m=mixNumber$1(u.min,u.max,l);e===u&&(m-=s),e.min=removePointDelta(e.min,s,a,m,c),e.max=removePointDelta(e.max,s,a,m,c)}(e,s[a],s[l],s[c],s.scale,u,p)}const pb=["x","scaleX","originX"],mb=["y","scaleY","originY"];function removeBoxTransforms(e,s,a,l){removeAxisTransforms(e.x,s,pb,a?a.x:void 0,l?l.x:void 0),removeAxisTransforms(e.y,s,mb,a?a.y:void 0,l?l.y:void 0)}function isAxisDeltaZero(e){return 0===e.translate&&1===e.scale}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,s){return e.min===s.min&&e.max===s.max}function axisEqualsRounded(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function boxEqualsRounded(e,s){return axisEqualsRounded(e.x,s.x)&&axisEqualsRounded(e.y,s.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const s=this.members.findIndex(s=>e===s);if(0===s)return!1;let a;for(let l=s;l>=0;l--){const e=this.members[l];if(!1!==e.isPresent){a=e;break}}return!!a&&(this.promote(a),!0)}promote(e,s){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,s&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;!1===l&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:a}=e;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hb=["","X","Y","Z"];let fb=0;function resetDistortingTransform(e,s,a,l){const{latestValues:c}=s;c[e]&&(a[e]=c[e],s.setStaticValue(e,0),l&&(l[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const a=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",qx,!(s||l))}const{parent:l}=e;l&&!l.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(l)}function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:a,checkIsScrollRoot:l,resetTransform:c}){return class ProjectionNode{constructor(e={},a=s?.()){this.id=fb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(e,s){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new SubscriptionManager),this.eventHandlers.get(e).add(s)}notifyListeners(e,...s){const a=this.eventHandlers.get(e);a&&a.notify(...s)}hasListeners(e){return this.eventHandlers.has(e)}mount(s){if(this.instance)return;this.isSVG=isSVGElement$1(s)&&!function isSVGSVGElement(e){return isSVGElement$1(e)&&"svg"===e.tagName}(s),this.instance=s;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let a,l=0;const resizeUnblockUpdate=()=>this.root.updateBlockedByResize=!1;qx.read(()=>{l=window.innerWidth}),e(s,()=>{const e=window.innerWidth;e!==l&&(l=e,this.root.updateBlockedByResize=!0,a&&a(),a=function delay(e,s){const a=Yx.now(),checkElapsed=({timestamp:l})=>{const c=l-a;c>=s&&(Wx(checkElapsed),e(c-s))};return qx.setup(checkElapsed,!0),()=>Wx(checkElapsed)}(resizeUnblockUpdate,250),nb.hasAnimatedSinceResize&&(nb.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:s,hasRelativeLayoutChanged:a,layout:l})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const u=this.options.transition||c.getDefaultTransition()||gb,{onLayoutAnimationStart:p,onLayoutAnimationComplete:m}=c.getProps(),h=!this.targetLayout||!boxEqualsRounded(this.targetLayout,l),f=!s&&a;if(this.options.layoutRoot||this.resumeFrom||f||s&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const s={...getValueTransition(u,"layout"),onPlay:p,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(s.delay=0,s.type=!1),this.startAnimation(s),this.setAnimationOrigin(e,f)}else s||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=l})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wx(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const e=this.path[c];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:s,layout:a}=this.options;if(void 0===s&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(clearMeasurements);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(clearIsLayoutDirty);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const e=Yx.now();Zx.delta=clamp(0,1e3/60,e-Zx.timestamp),Zx.timestamp=e,Zx.isProcessing=!0,Kx.update.process(Zx),Kx.preRender.process(Zx),Kx.render.process(Zx),Zx.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qx.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qx.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||calcLength(this.snapshot.measuredBox.x)||calcLength(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++){this.path[a].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let s=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(s=!1),s&&this.instance){const s=l(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:s,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:s}}}resetTransform(){if(!c)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!isDeltaZero(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;e&&this.instance&&(s||hasTransform(this.latestValues)||u)&&(c(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const s=this.measurePageBox();let a=this.removeElementScroll(s);return e&&(a=this.removeTransform(a)),function roundBox(e){roundAxis(e.x),roundAxis(e.y)}(a),{animationId:this.root.animationId,measuredBox:s,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const s=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:e}=this.root;e&&(translateAxis(s.x,e.offset.x),translateAxis(s.y,e.offset.y))}return s}removeElementScroll(e){const s={x:{min:0,max:0},y:{min:0,max:0}};if(copyBoxInto(s,e),this.scroll?.wasRoot)return s;for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:c,options:u}=l;l!==this.root&&c&&u.layoutScroll&&(c.wasRoot&&copyBoxInto(s,e),translateAxis(s.x,c.offset.x),translateAxis(s.y,c.offset.y))}return s}applyTransform(e,s=!1){const a={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(a,e);for(let l=0;l<this.path.length;l++){const e=this.path[l];!s&&e.options.layoutScroll&&e.scroll&&e!==e.root&&transformBox(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),hasTransform(e.latestValues)&&transformBox(a,e.latestValues)}return hasTransform(this.latestValues)&&transformBox(a,this.latestValues),a}removeTransform(e){const s={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(s,e);for(let a=0;a<this.path.length;a++){const e=this.path[a];if(!e.instance)continue;if(!hasTransform(e.latestValues))continue;hasScale(e.latestValues)&&e.updateSnapshot();const l=createBox();copyBoxInto(l,e.measurePageBox()),removeBoxTransforms(s,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,l)}return hasTransform(this.latestValues)&&removeBoxTransforms(s,this.latestValues),s}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zx.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const a=Boolean(this.resumingFrom)||this!==s;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:c}=this.options;if(this.layout&&(l||c)){if(this.resolvedRelativeTargetAt=Zx.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if((this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),function calcRelativeBox(e,s,a){calcRelativeAxis(e.x,s.x,a.x),calcRelativeAxis(e.y,s.y,a.y)}(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.target,e.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!hasScale(this.parent.latestValues)&&!has2DTranslate(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),s=Boolean(this.resumingFrom)||this!==e;let a=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(a=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===Zx.timestamp&&(a=!1),a)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!l&&!c)return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,p=this.treeScale.y;!function applyTreeDeltas(e,s,a,l=!1){const c=a.length;if(!c)return;let u,p;s.x=s.y=1;for(let m=0;m<c;m++){u=a[m],p=u.projectionDelta;const{visualElement:c}=u.options;c&&c.props.style&&"contents"===c.props.style.display||(l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),p&&(s.x*=p.x.scale,s.y*=p.y.scale,applyBoxDelta(e,p)),l&&hasTransform(u.latestValues)&&transformBox(e,u.latestValues))}s.x<zy&&s.x>By&&(s.x=1),s.y<zy&&s.y>By&&(s.y=1)}(this.layoutCorrected,this.treeScale,this.path,s),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:m}=e;m?(this.projectionDelta&&this.prevProjectionDelta?(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),calcBoxDelta(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.treeScale.x===u&&this.treeScale.y===p&&axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)&&axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,s=!1){const a=this.snapshot,l=a?a.latestValues:{},c={...this.latestValues},u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p={x:{min:0,max:0},y:{min:0,max:0}},m=(a?a.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),f=!h||h.members.length<=1,g=Boolean(m&&!f&&!0===this.options.crossfade&&!this.path.some(hasOpacityCrossfade));let b;this.animationProgress=0,this.mixTargetDelta=s=>{const a=s/1e3;mixAxisDelta(u.x,e.x,a),mixAxisDelta(u.y,e.y,a),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function mixBox(e,s,a,l){mixAxis(e.x,s.x,a.x,l),mixAxis(e.y,s.y,a.y,l)}(this.relativeTarget,this.relativeTargetOrigin,p,a),b&&function boxEquals(e,s){return axisEquals(e.x,s.x)&&axisEquals(e.y,s.y)}(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b={x:{min:0,max:0},y:{min:0,max:0}}),copyBoxInto(b,this.relativeTarget)),m&&(this.animationValues=c,function mixValues(e,s,a,l,c,u){c?(e.opacity=mixNumber$1(0,a.opacity??1,db(l)),e.opacityExit=mixNumber$1(s.opacity??1,0,ub(l))):u&&(e.opacity=mixNumber$1(s.opacity??1,a.opacity??1,l));for(let p=0;p<cb;p++){const c=`border${lb[p]}Radius`;let u=getRadius(s,c),m=getRadius(a,c);void 0===u&&void 0===m||(u||(u=0),m||(m=0),0===u||0===m||isPx(u)===isPx(m)?(e[c]=Math.max(mixNumber$1(asNumber(u),asNumber(m),l),0),(cv.test(m)||cv.test(u))&&(e[c]+="%")):e[c]=m)}(s.rotate||a.rotate)&&(e.rotate=mixNumber$1(s.rotate||0,a.rotate||0,l))}(c,l,this.latestValues,a,g,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=a},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wx(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qx.update(()=>{nb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=function animateSingleValue(e,s,a){const l=isMotionValue(e)?e:motionValue(e);return l.start(animateMotionValue("",l,s,a)),l.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),e.onUpdate&&e.onUpdate(s)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:s,target:a,layout:l,latestValues:c}=e;if(s&&a&&l){if(this!==e&&this.layout&&l&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const s=calcLength(this.layout.layoutBox.x);a.x.min=e.target.x.min,a.x.max=a.x.min+s;const l=calcLength(this.layout.layoutBox.y);a.y.min=e.target.y.min,a.y.max=a.y.min+l}copyBoxInto(s,a),transformBox(s,c),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(e,s){this.sharedNodes.has(e)||this.sharedNodes.set(e,new NodeStack);this.sharedNodes.get(e).add(s);const a=s.options.initialPromotionConfig;s.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(s):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:s,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),e&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let s=!1;const{latestValues:a}=e;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(s=!0),!s)return;const l={};a.z&&resetDistortingTransform("z",e,l,this.animationValues);for(let c=0;c<hb.length;c++)resetDistortingTransform(`rotate${hb[c]}`,e,l,this.animationValues),resetDistortingTransform(`skew${hb[c]}`,e,l,this.animationValues);e.render();for(const c in l)e.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);e.scheduleRender()}applyProjectionStyles(e,s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=resolveMotionValue(s?.pointerEvents)||"",void(e.transform=a?a(this.latestValues,""):"none");const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=resolveMotionValue(s?.pointerEvents)||""),void(this.hasProjected&&!hasTransform(this.latestValues)&&(e.transform=a?a({},""):"none",this.hasProjected=!1));e.visibility="";const c=l.animationValues||l.latestValues;this.applyTransformsToTarget();let u=function buildProjectionTransform(e,s,a){let l="";const c=e.x.translate/s.x,u=e.y.translate/s.y,p=a?.z||0;if((c||u||p)&&(l=`translate3d(${c}px, ${u}px, ${p}px) `),1===s.x&&1===s.y||(l+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:e,rotate:s,rotateX:c,rotateY:u,skewX:p,skewY:m}=a;e&&(l=`perspective(${e}px) ${l}`),s&&(l+=`rotate(${s}deg) `),c&&(l+=`rotateX(${c}deg) `),u&&(l+=`rotateY(${u}deg) `),p&&(l+=`skewX(${p}deg) `),m&&(l+=`skewY(${m}deg) `)}const m=e.x.scale*s.x,h=e.y.scale*s.y;return 1===m&&1===h||(l+=`scale(${m}, ${h})`),l||"none"}(this.projectionDeltaWithTransform,this.treeScale,c);a&&(u=a(c,u)),e.transform=u;const{x:p,y:m}=this.projectionDelta;e.transformOrigin=`${100*p.origin}% ${100*m.origin}% 0`,l.animationValues?e.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:e.opacity=l===this?void 0!==c.opacity?c.opacity:"":void 0!==c.opacityExit?c.opacityExit:0;for(const h in Ty){if(void 0===c[h])continue;const{correct:s,applyTo:a,isCSSVariable:p}=Ty[h],m="none"===u?c[h]:s(c[h],l);if(a){const s=a.length;for(let l=0;l<s;l++)e[a[l]]=m}else p?this.options.visualElement.renderState.vars[h]=m:e[h]=m}this.options.layoutId&&(e.pointerEvents=l===this?resolveMotionValue(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){const s=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:l}=e.layout,{animationType:c}=e.options,u=s.source!==e.layout.source;"size"===c?eachAxis(e=>{const l=u?s.measuredBox[e]:s.layoutBox[e],c=calcLength(l);l.min=a[e].min,l.max=l.min+c}):shouldAnimatePositionOnly(c,s.layoutBox,a)&&eachAxis(l=>{const c=u?s.measuredBox[l]:s.layoutBox[l],p=calcLength(a[l]);c.max=c.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[l].max=e.relativeTarget[l].min+p)});const p={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};calcBoxDelta(p,a,s.layoutBox);const m={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};u?calcBoxDelta(m,e.applyTransform(l,!0),s.measuredBox):calcBoxDelta(m,a,s.layoutBox);const h=!isDeltaZero(p);let f=!1;if(!e.resumeFrom){const l=e.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:c,layout:u}=l;if(c&&u){const p={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(p,s.layoutBox,c.layoutBox);const m={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(m,a,u.layoutBox),boxEqualsRounded(p,m)||(f=!0),l.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=l)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:m,layoutDelta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,a){e.translate=mixNumber$1(s.translate,0,a),e.scale=mixNumber$1(s.scale,1,a),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,a,l){e.min=mixNumber$1(s.min,a.min,l),e.max=mixNumber$1(s.max,a.max,l)}function hasOpacityCrossfade(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const gb={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xb=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(e){e.min=xb(e.min),e.max=xb(e.max)}function shouldAnimatePositionOnly(e,s,a){return"position"===e||"preserve-aspect"===e&&!function isNear(e,s,a){return Math.abs(e-s)<=a}(aspectRatio(s),aspectRatio(a),.2)}function checkNodeWasScrollRoot(e){return e!==e.root&&e.scroll?.wasRoot}const vb=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yb={current:void 0},bb=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yb.current){const e=new vb({});e.mount(window),e.setOptions({layoutScroll:!0}),yb.current=e}return yb.current},resetTransform:(e,s)=>{e.style.transform=void 0!==s?s:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),jb={pan:{Feature:class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(s),onMove:a,onEnd:(e,s)=>{delete this.session,l&&qx.postRender(()=>l(e,s))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:bb,MeasureLayout:MeasureLayout}};function handleHoverEvent(e,s,a){const{props:l}=e;e.animationState&&l.whileHover&&e.animationState.setActive("whileHover","Start"===a);const c=l["onHover"+a];c&&qx.postRender(()=>c(s,extractEventInfo(s)))}function handlePressEvent(e,s,a){const{props:l}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&l.whileTap&&e.animationState.setActive("whileTap","Start"===a);const c=l["onTap"+("End"===a?"":a)];c&&qx.postRender(()=>c(s,extractEventInfo(s)))}const wb=new WeakMap,Nb=new WeakMap,fireObserverCallback=e=>{const s=wb.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function observeIntersection(e,s,a){const l=function initIntersectionObserver({root:e,...s}){const a=e||document;Nb.has(a)||Nb.set(a,{});const l=Nb.get(a),c=JSON.stringify(s);return l[c]||(l[c]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),l[c]}(s);return wb.set(e,a),l.observe(e),()=>{wb.delete(e),l.unobserve(e)}}const Sb={some:0,all:1};const Cb={inView:{Feature:class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:a,threshold:"number"==typeof l?l:Sb[l]};return observeIntersection(this.node.current,u,e=>{const{isIntersecting:s}=e;if(this.isInView===s)return;if(this.isInView=s,c&&!s&&this.hasEnteredView)return;s&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",s);const{onViewportEnter:a,onViewportLeave:l}=this.node.getProps(),u=s?a:l;u&&u(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return a=>e[a]!==s[a]}(e,s))&&this.startObserver()}unmount(){}}},tap:{Feature:class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(e,s)=>(handlePressEvent(this.node,s,"Start"),(e,{success:s})=>handlePressEvent(this.node,e,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(s){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=function hover(e,s,a={}){const[l,c,u]=setupGesture(e,a),onPointerEnter=e=>{if(!isValidHover(e))return;const{target:a}=e,l=s(a,e);if("function"!=typeof l||!a)return;const onPointerLeave=e=>{isValidHover(e)&&(l(e),a.removeEventListener("pointerleave",onPointerLeave))};a.addEventListener("pointerleave",onPointerLeave,c)};return l.forEach(e=>{e.addEventListener("pointerenter",onPointerEnter,c)}),u}(e,(e,s)=>(handleHoverEvent(this.node,s,"Start"),e=>handleHoverEvent(this.node,e,"End"))))}unmount(){}}}},kb=createMotionProxy({...eb,...Cb,...jb,...{layout:{ProjectionNode:bb,MeasureLayout:MeasureLayout}}},createDomVisualElement);function PropertyMobileFooter({agentName:e,onCall:s,onEmail:a,onWhatsApp:l}){const[c,p]=re.useState(!1);return re.useEffect(()=>{const handleScroll2=()=>{window.scrollY>300?p(!0):p(!1)};return window.addEventListener("scroll",handleScroll2,{passive:!0}),()=>window.removeEventListener("scroll",handleScroll2)},[]),u.jsx(AnimatePresence,{children:c&&u.jsxs(kb.div,{initial:{y:100},animate:{y:0},exit:{y:100},transition:{type:"spring",damping:20,stiffness:300},className:"fixed bottom-0 left-0 right-0 p-3 bg-white border-t border-slate-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50 md:hidden flex gap-3 items-center pb-[safe-area-inset-bottom]",children:[u.jsxs(Button$1,{variant:"outline",className:"flex-1 border-slate-300 text-slate-700 bg-white",onClick:s,children:[u.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Call"]}),u.jsxs(Button$1,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white border-0",onClick:l,children:[u.jsx(go,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),u.jsxs(Button$1,{className:"flex-[2] bg-orange-500 hover:bg-orange-600 text-white",onClick:a,children:[u.jsx(oo,{className:"h-4 w-4 mr-2"}),"Enquire"]})]})})}function DeveloperBrandSection({brand:e}){const[,s]=useLocation(),{data:a}=At.brandProfile.getBrandDevelopments.useQuery({brandProfileId:e.id},{enabled:!!e.id});return u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsxs(ra,{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[u.jsx(ka,{className:"h-5 w-5 text-indigo-600"}),"About the Developer"]})}),u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"w-16 h-16 rounded-xl bg-slate-100 overflow-hidden border border-slate-200 shrink-0 cursor-pointer hover:border-indigo-300 transition-colors",onClick:()=>s(`/developer/${e.slug}`),children:e.logoUrl?u.jsx("img",{src:e.logoUrl,alt:e.brandName,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-600 text-white text-xl font-bold",children:e.brandName.charAt(0)})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-lg font-bold text-slate-900 hover:text-indigo-600 cursor-pointer transition-colors",onClick:()=>s(`/developer/${e.slug}`),children:e.brandName}),e.brandTier&&u.jsx(Badge,{className:"mt-1 bg-indigo-100 text-indigo-700 border-0 text-xs font-medium",children:{national:"National Developer",regional:"Regional Developer",boutique:"Boutique Developer"}[e.brandTier]}),e.headOfficeLocation&&u.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500 mt-2",children:[u.jsx(lo,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:e.headOfficeLocation})]})]})]}),e.about&&u.jsx("p",{className:"text-sm text-slate-600 leading-relaxed mb-4 line-clamp-3",children:e.about}),e.propertyFocus&&e.propertyFocus.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.propertyFocus.map(e=>u.jsx(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-700 hover:bg-slate-200 border-0 text-xs capitalize",children:e.replace(/_/g," ")},e))}),a&&a.length>1&&u.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-4 w-4 text-indigo-600"}),u.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[a.length," Developments by this Developer"]})]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50",onClick:()=>s(`/developer/${e.slug}`),children:["View All",u.jsx(Fa,{className:"h-4 w-4 ml-1"})]})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Button$1,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white",onClick:()=>s(`/developer/${e.slug}`),children:"View Developer Profile"}),e.websiteUrl&&u.jsxs(Button$1,{variant:"outline",className:"border-slate-200",onClick:()=>window.open(e.websiteUrl,"_blank"),children:[u.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Website"]})]}),u.jsx("p",{className:"text-xs text-slate-400 mt-4 italic",children:"Developer information is provided for identification purposes only and does not imply partnership or endorsement."})]})]})}const _b={parking:Ma,wifi:Dl,gym:di,garden:ml,security:Ko,pool:ci,electricity:$l};function PropertyDetail(e){const{propertyId:s}=e,[,a]=useRoute("/property/:id"),[,l]=useLocation(),{isAuthenticated:c}=useAuth(),{addViewedProperty:p,addGuestFavorite:m,removeGuestFavorite:h,isGuestFavorite:f}=useGuestActivity(),g=s?.toString()||a?.id||"0",b=parseInt(g),j=isNaN(b)?0:b,[N,k]=re.useState(!1),[_,T]=re.useState(!1),[E,A]=re.useState(!1),{data:L,isLoading:O}=At.properties.getById.useQuery({id:j},{enabled:j>0}),{data:I}=At.properties.getAll.useQuery({limit:10,city:L?.property?.city,propertyType:L?.property?.propertyType},{enabled:!!L?.property}),$=At.favorites.add.useMutation({onSuccess:()=>{Gr.success("Added to favorites")},onError:()=>{Gr.error("Failed to add to favorites")}});ae.useEffect(()=>{j>0&&p(j)},[j,p]);if(O)return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"flex items-center justify-center py-fluid-xl",children:u.jsx(no,{className:"h-12 w-12 animate-spin text-primary"})})]});if(!L?.property)return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(ListingNavbar,{}),u.jsxs("div",{className:"container py-fluid-xl text-center",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Property Not Found"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),u.jsx(Button$1,{onClick:()=>l("/properties"),children:"Back to Properties"})]})]});const{property:z,images:U,agent:H}=L;let q=[];try{z.amenities&&(q="string"==typeof z.amenities?JSON.parse(z.amenities):z.amenities)}catch(de){console.error("Error parsing amenities:",de),q=[]}let Z=[];try{Z=z.features?"string"==typeof z.features?JSON.parse(z.features):z.features:q}catch(de){console.error("Error parsing features:",de),Z=q}const Y=z.description||"",X=Y.length>300,J=E||!X?Y:Y.slice(0,300)+"...";let le={};try{z.propertySettings&&(le="string"==typeof z.propertySettings?JSON.parse(z.propertySettings):z.propertySettings)}catch(ue){console.error("Failed to parse property settings",ue)}const ce=I?.properties?.filter(e=>e.id!==j)||[];return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"bg-white border-b border-slate-200 pt-16",children:u.jsxs("div",{className:"container py-6",children:[u.jsx("div",{className:"mb-4",children:u.jsx(Breadcrumbs,{items:generateBreadcrumbs({listingType:z.listingType,province:z.province,city:z.city,suburb:z.suburb})})}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Badge,{className:"bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-md px-3 py-1 font-normal",children:"FEATURED"}),u.jsx(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-600 hover:bg-slate-200 border-0 rounded-md px-3 py-1 font-normal",children:"Ready to move"})]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-1",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-fluid-h2 font-bold text-slate-900 mb-1",children:z.title}),u.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[u.jsx(lo,{className:"h-4 w-4"}),u.jsxs("span",{className:"text-base text-slate-500",children:[z.address,", ",z.city,", ",z.province]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>{c?$.mutate({propertyId:j}):f(j)?(h(j),Gr.success("Removed from guest favorites")):(m(j),Gr.success("Added to guest favorites! Login to save permanently."))},className:"h-10 w-10 border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100 hover:text-red-500",children:u.jsx($i,{className:"h-5 w-5"})}),u.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>{T(!0)},className:"h-10 w-10 border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100 hover:text-blue-600",children:u.jsx(Wo,{className:"h-5 w-5"})}),u.jsx(Button$1,{variant:"outline",className:"border-slate-200 text-slate-700 hover:bg-slate-50 h-10 px-6",children:"Shortlist"}),u.jsx(Button$1,{className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-6 h-10",onClick:()=>k(!0),children:"Contact Agent"})]})]})]})}),u.jsxs("div",{className:"container py-8",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8",children:[u.jsx("div",{className:"lg:col-span-7",children:u.jsx("div",{className:"rounded-2xl overflow-hidden shadow-sm border border-slate-200 bg-white",children:u.jsx(PropertyImageGallery,{images:U,propertyTitle:z.title})})}),u.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-fluid-h1 font-bold text-orange-500 mb-2",children:formatCurrency(z.price,{compact:!1})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-500 font-medium",children:"Estimated Repayment:"}),u.jsxs("span",{className:"text-slate-900 font-bold",children:[formatCurrency(Math.round(.0095*z.price),{compact:!1}),"/Pm"]}),u.jsx("button",{className:"text-blue-500 hover:text-blue-600 font-medium hover:underline ml-1",children:"Get Pre-Qualified"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-fluid-h3 font-bold text-slate-900 mb-4",children:"Property Details"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[z.bedrooms&&u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(ja,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"Bedrooms"}),u.jsxs("p",{className:"font-semibold text-slate-900",children:[z.bedrooms," Bedrooms"]})]})]}),z.bathrooms&&u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(ya,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"Bathrooms"}),u.jsxs("p",{className:"font-semibold text-slate-900",children:[z.bathrooms," Bathrooms"]})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(Ma,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"Parking"}),u.jsx("p",{className:"font-semibold text-slate-900",children:"Garage"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(mo,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"House Size"}),u.jsxs("p",{className:"font-semibold text-slate-900",children:[z.area.toLocaleString()," m"]})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(Bi,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"Yard/Stand Size"}),u.jsx("p",{className:"font-semibold text-slate-900",children:"150 m"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-orange-50 p-2 rounded-md text-orange-500",children:u.jsx(ka,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-400",children:"Property Type"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:z.propertyType})]})]})]})]}),le.additionalRooms&&le.additionalRooms.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium text-slate-400 mb-3",children:"Additional rooms & Specifications"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:le.additionalRooms.map(e=>u.jsx(Badge,{variant:"secondary",className:"bg-orange-50 text-slate-900 hover:bg-orange-100 border-0 px-4 py-1.5 rounded-full font-medium",children:e},e))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-fluid-h3 font-bold text-slate-900 mb-4",children:"Amenities & Features"}),Z.length>0?u.jsx("div",{className:"grid grid-cols-3 gap-y-3 gap-x-2",children:Z.map((e,s)=>{const a=_b[e.toLowerCase()]||Ha;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(a,{className:"h-5 w-5 text-orange-500"}),u.jsx("span",{className:"capitalize text-slate-700 font-medium",children:e})]},s)})}):u.jsx("p",{className:"text-slate-500 italic",children:"No specific amenities listed."})]})]})]}),u.jsx(Separator,{className:"my-8"}),u.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[u.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsx(ra,{className:"text-fluid-h3 font-bold text-slate-900",children:"About This Property"})}),u.jsxs(sa,{className:"p-4",children:[u.jsx("p",{className:"text-slate-600 leading-relaxed whitespace-pre-line",children:J}),X&&u.jsx(Button$1,{variant:"link",className:"p-0 h-auto text-blue-600 font-medium mt-4",onClick:()=>A(!E),children:E?"Show Less":"Read Full Description"})]})]}),(le.ownershipType||le.powerBackup||le.securityFeatures&&le.securityFeatures.length>0||le.waterSupply||le.internetAccess||le.flooring||le.parkingType||le.petFriendly||le.electricitySupply)&&u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsx(ra,{className:"text-fluid-h3 font-bold text-slate-900",children:"Property Features & Specifications"})}),u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[le.ownershipType&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(Bi,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Ownership Type"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.ownershipType).replace(/_/g," ")})]})]}),le.powerBackup&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx($l,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Power Backup"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.powerBackup).replace(/_/g," ")})]})]}),le.securityFeatures&&le.securityFeatures.length>0&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(Ko,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Security"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize text-ellipsis overflow-hidden whitespace-nowrap",title:le.securityFeatures.join(", ").replace(/_/g," "),children:le.securityFeatures.length>1?`${le.securityFeatures.length} Features`:String(le.securityFeatures[0]).replace(/_/g," ")})]})]}),le.waterSupply&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(ci,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Water Supply"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.waterSupply).replace(/_/g," ")})]})]}),le.internetAccess&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(Dl,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Internet"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.internetAccess).replace(/_/g," ")})]})]}),le.flooring&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(ka,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Flooring"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.flooring).replace(/_/g," ")})]})]}),le.parkingType&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(Ma,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Parking Type"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.parkingType).replace(/_/g," ")})]})]}),le.petFriendly&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(Ha,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Pet Friendly"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.petFriendly).replace(/_/g," ")})]})]}),le.electricitySupply&&u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx($l,{className:"h-5 w-5 text-orange-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Electricity"}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:String(le.electricitySupply).replace(/_/g," ")})]})]})]})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 shadow-sm",children:[u.jsx("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-slate-200",children:u.jsx("h3",{className:"text-fluid-h3 font-bold text-slate-900",children:"Agent Overview"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 overflow-hidden border-2 border-slate-200 shrink-0",children:H?.image?u.jsx("img",{src:H.image,alt:H.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-200 text-slate-500 font-bold text-xl",children:H?.name?.charAt(0)||"A"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-slate-900",children:H?.name||"Property Agent"}),u.jsx(Badge,{className:"bg-orange-500 hover:bg-orange-600 text-white border-none rounded-full px-3 py-0.5 text-xs font-medium mt-1",children:"PRO AGENT"})]})]}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 text-center border border-slate-100",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:u.jsx("div",{className:"text-fluid-h2 font-bold text-orange-500",children:H?.experience||9})}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"years of Experience"})]}),u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 text-center border border-slate-100",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:u.jsx("div",{className:"text-fluid-h2 font-bold text-orange-500",children:H?.totalListings||54})}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Total Listings"})]})]}),u.jsxs(Button$1,{variant:"outline",className:"w-full justify-between h-12 rounded-lg border-slate-200 hover:bg-slate-50 hover:text-slate-900 group",children:[u.jsx("span",{className:"font-medium text-slate-700",children:"Current Listings"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-2 py-1 rounded-full group-hover:bg-white",children:H?.totalListings||53}),u.jsx(Fa,{className:"h-4 w-4 text-slate-400"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-100 flex flex-col h-full",children:[u.jsxs("div",{className:"space-y-4 flex-1",children:[u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{placeholder:"Name",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})}),u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{type:"email",placeholder:"Email ID",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})}),u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{type:"tel",placeholder:"Phone Number",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})})]}),u.jsx(Button$1,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold h-12 rounded-lg mt-6 shadow-sm",children:"Whatsapp Agent"})]})]})]}),(z.developerBrand||z.developerBrandProfile)&&u.jsx(DeveloperBrandSection,{brand:z.developerBrand||z.developerBrandProfile}),u.jsx(NearbyLandmarks,{property:z}),u.jsx(ea,{className:"border-slate-200 shadow-sm",children:u.jsx(sa,{className:"p-6",children:u.jsx(SuburbInsights,{suburbName:z.suburb||z.city,isDevelopment:!!z.developmentId})})}),u.jsx(LocalityGuide,{suburb:z.suburb||z.city,city:z.city})]}),u.jsx("div",{className:"col-span-12 lg:col-span-4",children:u.jsxs("div",{className:"sticky top-24 space-y-4",children:[u.jsx(BondCalculator,{propertyPrice:z.price,showTransferCosts:!0}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-yellow-800",children:[u.jsx("strong",{children:"Disclaimer:"})," These calculations are estimates only. Actual bond approval, interest rates, and transfer costs may vary based on individual circumstances and bank policies. Consult with a bond originator or financial advisor for accurate figures."]})})]})})]}),ce.length>0&&u.jsxs("div",{className:"mt-12",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:["Property Listings in ",z.suburb||z.city]}),u.jsx("div",{className:"text-sm font-medium text-blue-600 cursor-pointer hover:underline",children:"View All"})]}),u.jsx("div",{className:"relative -mx-4 px-4 md:mx-0 md:px-0",children:u.jsx("div",{className:"flex overflow-x-auto gap-4 pb-8 snap-x snap-mandatory scrollbar-hide",children:ce.map(e=>u.jsxs("div",{onClick:()=>l(`/property/${e.id}`),className:"group cursor-pointer bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-lg transition-all overflow-hidden min-w-[280px] md:min-w-[300px] snap-start",children:[u.jsxs("div",{className:"relative h-44 overflow-hidden bg-slate-100",children:[u.jsx("img",{src:e.mainImage||"/placeholder-property.jpg",alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute top-2 left-2",children:u.jsx(Badge,{className:"bg-white/90 text-slate-700 hover:bg-white backdrop-blur-sm shadow-sm border-0 text-xs py-0 h-5",children:e.propertyType})})]}),u.jsxs("div",{className:"p-3 space-y-2",children:[u.jsxs("p",{className:"text-lg font-bold text-[#005ca8]",children:["R ",e.price.toLocaleString()]}),u.jsx("h4",{className:"font-semibold text-slate-800 line-clamp-1 text-sm",children:e.title}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[e.bedrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ja,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:e.bedrooms})]}),e.bathrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ya,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:e.bathrooms})]}),e.area&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(nl,{className:"h-3.5 w-3.5"}),u.jsxs("span",{children:[e.area," m"]})]})]})]})]},e.id))})})]})]}),u.jsx(PropertyMobileFooter,{agentName:H?.name||"Agent",onCall:()=>window.open(`tel:${H?.phone||""}`),onEmail:()=>k(!0),onWhatsApp:()=>window.open(`https://wa.me/${H?.phone?.replace(/\s+/g,"")||""}`,"_blank")}),u.jsx(PropertyContactModal,{isOpen:N,onClose:()=>k(!1),propertyId:j,propertyTitle:z.title,agentName:"Property Agent"}),u.jsx(PropertyShareModal,{isOpen:_,onClose:()=>T(!1),propertyTitle:z.title,propertyUrl:window.location.href}),u.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12 mt-20",children:u.jsx("div",{className:"container text-center",children:u.jsx("p",{children:" 2025 Real Estate Portal. All rights reserved."})})})]})}function Sheet({...e}){return u.jsx(sm,{"data-slot":"sheet",...e})}function SheetTrigger({...e}){return u.jsx(am,{"data-slot":"sheet-trigger",...e})}function SheetPortal({...e}){return u.jsx(im,{"data-slot":"sheet-portal",...e})}function SheetOverlay({className:e,...s}){return u.jsx(om,{"data-slot":"sheet-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function SheetContent({className:e,children:s,side:a="right",...l}){return u.jsxs(SheetPortal,{children:[u.jsx(SheetOverlay,{}),u.jsxs(lm,{"data-slot":"sheet-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===a&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===a&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===a&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===a&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...l,children:[s,u.jsxs(um,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(Il,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Navbar(){const{user:e,isAuthenticated:s,logout:a}=useAuth(),{branding:l,isWhiteLabel:c}=(()=>{const e=re.useContext(sc);if(void 0===e)throw new Error("useBranding must be used within a BrandingProvider");return e})(),[p,m]=useLocation(),h=At.auth.logout.useMutation(),[f,g]=re.useState(!1),handleLogout=async()=>{await h.mutateAsync(),a()},b=(e=>{switch(e){case"admin":case"super_admin":return"/admin";case"property_developer":return"/developer";case"agency_admin":return"/agency/dashboard";case"agent":return"/agent/dashboard";default:return"/dashboard"}})(e?.role),j=e?.role&&["admin","super_admin","property_developer","agency_admin","agent"].includes(e.role),N=[{href:"/",label:"Home",icon:Bi},...j?[{href:b,label:"Dashboard",icon:Ki}]:[],{href:"/properties",label:"Properties"},{href:"/explore",label:"Explore",icon:Ao},{href:"/agents",label:"Agents"},{href:"/listing-template",label:"Listing Template"},{href:"/dashboard",label:"My Properties",protected:!0},{href:"/favorites",label:"Favorites",icon:$i,protected:!0}];return u.jsx("nav",{className:"bg-primary text-primary-foreground shadow-md sticky top-0 z-50",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx(rc,{href:"/",children:u.jsx("div",{className:"flex items-center gap-2 cursor-pointer",children:u.jsx("span",{className:"text-2xl font-bold tracking-tight text-white hover:text-secondary transition-colors",children:c&&l?.companyName||dc})})}),u.jsx("div",{className:"hidden md:flex items-center gap-6",children:N.map(e=>e.protected&&!s?null:u.jsxs(rc,{href:e.href,className:"flex items-center gap-2 hover:text-blue-200 transition-colors font-medium "+(p===e.href?"text-blue-200 font-semibold border-b-2 border-blue-200 pb-1":"text-white"),children:[e.icon&&u.jsx(e.icon,{className:"h-4 w-4"}),e.label]},e.href))}),u.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s&&u.jsxs(Button$1,{variant:"secondary",onClick:()=>m("/listings/create"),className:"font-semibold",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"List Property"]}),s?u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",className:"flex items-center gap-2 text-primary-foreground hover:text-secondary hover:bg-primary/80",children:[u.jsx(Sl,{className:"h-5 w-5"}),u.jsx("span",{children:e?.name||"Account"})]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-48",children:[u.jsx(DropdownMenuItem,{disabled:!0,children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:e?.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:e?.email})]})}),u.jsx(DropdownMenuSeparator,{}),u.jsx(DropdownMenuItem,{asChild:!0,children:u.jsxs(rc,{href:"/dashboard",className:"flex items-center gap-2 w-full",children:[u.jsx(Bi,{className:"h-4 w-4"}),"My Properties"]})}),u.jsx(DropdownMenuItem,{asChild:!0,children:u.jsxs(rc,{href:"/favorites",className:"flex items-center gap-2 w-full",children:[u.jsx($i,{className:"h-4 w-4"}),"My Favorites"]})}),u.jsx(DropdownMenuItem,{asChild:!0,children:u.jsxs(rc,{href:"/listings/create",className:"flex items-center gap-2 w-full",children:[u.jsx(Bi,{className:"h-4 w-4"}),"List Property"]})}),u.jsx(DropdownMenuSeparator,{}),u.jsx(DropdownMenuItem,{onClick:handleLogout,className:"text-destructive",children:"Logout"})]})]}):u.jsx(rc,{href:"/login",children:u.jsx(Button$1,{variant:"secondary",className:"font-semibold",children:"Login"})})]}),u.jsx("div",{className:"md:hidden",children:u.jsxs(Sheet,{open:f,onOpenChange:g,children:[u.jsx(SheetTrigger,{asChild:!0,children:u.jsx(Button$1,{variant:"ghost",size:"icon",className:"text-primary-foreground",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"right",className:"w-64",children:u.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[N.map(e=>e.protected&&!s?null:u.jsxs(rc,{href:e.href,onClick:()=>g(!1),className:"flex items-center gap-2 p-2 rounded hover:bg-muted "+(p===e.href?"bg-muted font-semibold":""),children:[e.icon&&u.jsx(e.icon,{className:"h-5 w-5"}),e.label]},e.href)),u.jsx("div",{className:"border-t pt-4 mt-4",children:s?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-2 mb-4",children:[u.jsx("div",{className:"font-semibold",children:e?.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:e?.email})]}),u.jsx(Button$1,{variant:"destructive",onClick:()=>{handleLogout(),g(!1)},className:"w-full",children:"Logout"})]}):u.jsx(Button$1,{variant:"default",onClick:()=>{m("/login"),g(!1)},className:"w-full",children:"Login"})})]})})]})})]})})})}function OptimizedImage$1({images:e,alt:s,className:a="",priority:l=!1}){const[c,p]=re.useState(!0),[m,h]=re.useState(!1),f=`\n    ${e.thumbnail} 320w,\n    ${e.small} 640w,\n    ${e.medium} 1280w,\n    ${e.large} 1920w\n  `.trim();return u.jsxs("div",{className:cn("relative overflow-hidden",a),children:[c&&u.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse","aria-hidden":"true"}),m?u.jsx("div",{className:"absolute inset-0 bg-muted flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed to load image"})]})}):u.jsx("img",{src:e.medium,srcSet:f,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",alt:s,loading:l?"eager":"lazy",decoding:l?"sync":"async",onLoad:()=>p(!1),onError:()=>{h(!0),p(!1)},className:cn("w-full h-full object-cover transition-opacity duration-300",c?"opacity-0":"opacity-100")})]})}function OptimizedImageCard({images:e,alt:s,aspectRatio:a="16/9",className:l,priority:c}){return u.jsx("div",{className:cn("relative w-full",l),style:{aspectRatio:a},children:u.jsx(OptimizedImage$1,{images:e,alt:s,className:"absolute inset-0",priority:c})})}function ResponsiveHighlights({items:e=[]}){const s=Array.isArray(e)?e:[];return u.jsx("div",{className:"flex flex-wrap gap-2 mt-1 w-full overflow-hidden h-[26px]",children:s.map((e,s)=>u.jsx(Badge,{variant:"outline",className:"text-xs bg-slate-50 border-slate-200 text-slate-700 whitespace-nowrap h-[22px]",children:e},`${e}-${s}`))})}const HouseMeasureIcon=({className:e="w-4 h-4",strokeWidth:s=2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[u.jsx("path",{d:"M3 10l9-7 9 7v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V10z"}),u.jsx("path",{d:"M7 21h10"}),u.jsx("path",{d:"M7 21l2 2"}),u.jsx("path",{d:"M7 21l2-2"}),u.jsx("path",{d:"M17 21l-2 2"}),u.jsx("path",{d:"M17 21l-2-2"}),u.jsx("path",{d:"M9 13v4"}),u.jsx("path",{d:"M9 14c0 0 1-1 2-1s2 1 2 1"}),u.jsx("path",{d:"M11 14c0 0 1-1 2-1s2 1 2 1v3"}),u.jsx("path",{d:"M16 12a1 1 0 0 1 1-1 1 1 0 0 1 1 1c0 .5-.5 1-1 1.5l-1 .5h2",strokeWidth:.8*s})]}),PropertyCard$2=({id:e,title:s,price:a,location:l,image:c,description:p,bedrooms:m,bathrooms:h,area:f,yardSize:g,propertyType:b,listingType:j,status:N="Ready to Move",floor:k,transactionType:_="New Booking",onFavoriteClick:T,agent:E,developerBrand:A,badges:L,imageCount:O=15,videoCount:I=2,highlights:$})=>{const[,z]=useLocation(),U="object"==typeof c&&"medium"in c;return u.jsxs("div",{className:"group relative w-full bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col cursor-pointer",onClick:()=>z(`/property/${e}`),children:[u.jsxs("div",{className:"relative w-full h-56 overflow-hidden",children:[U?u.jsx(OptimizedImageCard,{images:c,alt:s,aspectRatio:"16/9",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}):u.jsx("img",{src:c,alt:s,loading:"lazy",onError:e=>{const s=e.target;s.onerror=null,s.src="https://placehold.co/600x400/e2e8f0/64748b?text=No+Image"},className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2 z-10",children:[N&&"Available"!==N&&u.jsx(Badge,{className:"border-0 backdrop-blur-md shadow-sm "+(N.toLowerCase().includes("sold")?"bg-red-600/90 text-white":N.toLowerCase().includes("offer")?"bg-orange-600/90 text-white":"bg-emerald-600/90 text-white"),children:N}),b&&u.jsx(Badge,{className:"bg-white/90 backdrop-blur-sm hover:bg-white text-slate-900 border-0 shadow-sm font-semibold",children:b}),L?.map((e,s)=>{const a=e.toLowerCase();let l="bg-blue-600/90 text-white";return a.includes("price")||a.includes("deal")||a.includes("reduced")?l="bg-emerald-600/90 text-white":a.includes("exclusive")||a.includes("new")?l="bg-indigo-600/90 text-white":(a.includes("sold")||a.includes("archived"))&&(l="bg-slate-800/90 text-white"),u.jsx(Badge,{className:`${l} backdrop-blur-sm border-0 shadow-sm`,children:e},s)})]}),T&&u.jsx(Button$1,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 rounded-full bg-black/20 hover:bg-black/40 text-white backdrop-blur-sm h-8 w-8 transition-colors z-10",onClick:e=>{e.stopPropagation(),T()},children:u.jsx($i,{className:"h-5 w-5 drop-shadow-md"})}),u.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2 z-10",children:[O>0&&u.jsxs("div",{className:"bg-black/60 hover:bg-black/70 transition-colors text-white text-[10px] font-bold px-2 py-1 rounded-md flex items-center gap-1 backdrop-blur-sm shadow-sm",children:[u.jsx(zi,{className:"h-3 w-3"}),u.jsx("span",{children:O})]}),I>0&&u.jsxs("div",{className:"bg-black/60 hover:bg-black/70 transition-colors text-white text-[10px] font-bold px-2 py-1 rounded-md flex items-center gap-1 backdrop-blur-sm shadow-sm",children:[u.jsx(Wa,{className:"h-3 w-3"}),u.jsx("span",{children:I})]})]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900 hover:text-blue-600 transition-colors cursor-pointer mb-2 line-clamp-2",onClick:s=>{s.stopPropagation(),z(`/property/${e}`)},children:s}),u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 text-sm mb-3",children:[u.jsx(lo,{className:"h-4 w-4 text-slate-400"}),u.jsx("span",{children:l})]}),u.jsx("div",{className:"text-xl font-bold text-[#1e1b4b]",children:formatCurrency(a)})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-700 mb-4 flex-wrap",children:[f&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(HouseMeasureIcon,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:["Size ",f.toLocaleString()," m",(()=>{const e=b?.toLowerCase();return"commercial"===e?" (Floor)":""})()]})]}),m&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(ja,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[m," Bed"]})]}),h&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(ya,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[h," Bath"]})]}),(()=>{const e=b?.toLowerCase();return"house"===e||"plot"===e||"farm"===e})()&&g&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(mo,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[(()=>{const e=b?.toLowerCase();return"plot"===e||"farm"===e?"Land":"Yard"})()," ",g.toLocaleString()," m"]})]})]}),p&&u.jsx("p",{className:"text-slate-500 text-sm leading-relaxed line-clamp-2 mb-3",children:p}),$&&$.length>0&&u.jsx("div",{className:"mb-3",children:u.jsx(ResponsiveHighlights,{items:$})})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-auto",children:[u.jsx("div",{className:"flex items-center gap-3",children:A?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 overflow-hidden border border-slate-200 cursor-pointer",onClick:e=>{e.stopPropagation(),z(`/developer/${A.slug}`)},children:A.logoUrl?u.jsx("img",{src:A.logoUrl,alt:A.brandName,className:"h-full w-full object-cover"}):u.jsx("div",{className:"h-full w-full flex items-center justify-center bg-indigo-600 text-white text-xs font-bold",children:A.brandName.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-900 hover:text-indigo-600 cursor-pointer transition-colors",onClick:e=>{e.stopPropagation(),z(`/developer/${A.slug}`)},children:A.brandName}),u.jsx("div",{className:"text-[10px] text-slate-500",children:"Developer"})]})]}):E?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 overflow-hidden border border-slate-200",children:E.image?u.jsx("img",{src:E.image,alt:E.name,className:"h-full w-full object-cover"}):u.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-200 text-slate-500 text-xs font-bold",children:E.name.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-900",children:E.name}),u.jsx("div",{className:"text-[10px] text-slate-500",children:"Featured Agent"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 overflow-hidden border border-slate-200",children:u.jsx("img",{src:"/assets/agent-placeholder.jpg",alt:"Dealer",className:"h-full w-full object-cover"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-900",children:"Luxury Estates"}),u.jsx("div",{className:"text-[10px] text-slate-500",children:"Featured Dealer"})]})]})}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Button$1,{className:"bg-blue-600 hover:bg-blue-700 text-white h-9 px-4 text-sm font-medium shadow-sm hover:shadow transition-all",onClick:e=>{e.stopPropagation()},children:"Contact Agent"})})]})]})]})};function normalizePropertyForUI(e){if(!e||"object"!=typeof e)return null;if(!e.id||!e.title||null==e.price&&null==e.pricing?.askingPrice&&null==e.pricing?.monthlyRent)return null;let s=e.propertyDetails||{};if(e.propertySettings)try{s="string"==typeof e.propertySettings?JSON.parse(e.propertySettings):e.propertySettings}catch(f){s=e.propertyDetails||{}}let a=Number(e.price)||0;e.pricing&&(a=Number(e.pricing.askingPrice)||Number(e.pricing.monthlyRent)||Number(e.pricing.startingBid)||a);const l=Number(s.unitSizeM2)||Number(s.houseAreaM2)||Number(s.floorAreaM2)||Number(e.area)||void 0,c=Number(s.erfSizeM2)||Number(s.landSizeM2OrHa)||Number(e.yardSize)||(Number(s.landSizeHa)?1e4*Number(s.landSizeHa):void 0),u=e.user||e.agent?{name:e.user?.name||e.agent?.name||"Property Agent",image:e.user?.image||e.agent?.image||e.user?.avatar||e.agent?.avatar}:void 0,p=[];"sold"===e.status&&p.push("Sold"),"rented"===e.status&&p.push("Rented"),e.featured&&p.push("Featured"),e.badges&&Array.isArray(e.badges)&&p.push(...e.badges);const m=e.images?.length||e.media?.filter(e=>"image"===e.type).length||0,h=e.videos?.length||e.media?.filter(e=>"video"===e.type).length||0;return{id:String(e.id),title:String(e.title),price:a,location:e.location?.city?`${e.location.suburb?e.location.suburb+", ":""}${e.location.city}`:e.city||e.address||"Unknown Location",image:(()=>{const s=e.image||e.coverImage||e.images?.[0]||e.media?.find(e=>e.isPrimary)?.url||e.media?.[0]?.url||e.mainImage||"/placeholder.jpg";return"string"!=typeof s||s.startsWith("http")||s.startsWith("/")?s:`/${s}`})(),description:e.description||void 0,bedrooms:Number(s.bedrooms)||Number(e.bedrooms)||void 0,bathrooms:Number(s.bathrooms)||Number(e.bathrooms)||void 0,area:l,yardSize:c,propertyType:e.propertyType?e.propertyType.charAt(0).toUpperCase()+e.propertyType.slice(1).replace("_"," "):void 0,listingType:e.listingType||e.action||"sale",status:"available"===e.status?"Ready to Move":e.status,transactionType:e.transactionType||("rent"===e.listingType?"Rent":"Sale"),agent:u,badges:p.length>0?p:void 0,imageCount:m,videoCount:h,highlights:(()=>{const s=e.features||e.amenities||e.highlights,formatHighlight=e=>e&&"string"==typeof e?e.split(/[_-\s]+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):e;if(Array.isArray(s))return s.map(formatHighlight);if("string"==typeof s)try{const e=JSON.parse(s);return Array.isArray(e)?e.map(formatHighlight):void 0}catch(f){return}})()}}function Favorites(){const{isAuthenticated:e,loading:s}=useAuth(),[,a]=useLocation(),l=At.useUtils(),{data:c,isLoading:p}=At.favorites.list.useQuery(void 0,{enabled:e}),m=At.favorites.remove.useMutation({onSuccess:()=>{Gr.success("Removed from favorites"),l.favorites.list.invalidate()},onError:()=>{Gr.error("Failed to remove from favorites")}});return s||p?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(no,{className:"h-12 w-12 animate-spin text-primary"})})]}):e?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Favorites"}),u.jsx("p",{className:"text-muted-foreground",children:"Properties you've saved for later"})]}),c&&c.length>0?u.jsx("div",{className:"flex flex-col gap-6",children:c.map(e=>{const s=normalizePropertyForUI(e.property);return s?u.jsx(PropertyCard$2,{...s,onFavoriteClick:()=>{return e=s.id,void m.mutate({propertyId:parseInt(e)});var e}},s.id):null})}):u.jsxs("div",{className:"text-center py-20 bg-muted/30 rounded-lg",children:[u.jsx($i,{className:"h-20 w-20 mx-auto text-muted-foreground mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Favorites Yet"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Start browsing properties and save your favorites"}),u.jsx(Button$1,{onClick:()=>a("/properties"),children:"Browse Properties"})]})]}),u.jsx("footer",{className:"bg-muted/30 py-8 mt-12",children:u.jsx("div",{className:"container text-center text-muted-foreground",children:u.jsx("p",{children:" 2025 Real Estate Portal. All rights reserved."})})})]}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container py-20 text-center",children:[u.jsx($i,{className:"h-20 w-20 mx-auto text-muted-foreground mb-4"}),u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Login Required"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to view your favorite properties"}),u.jsx(Button$1,{onClick:()=>window.location.href=getLoginUrl(),children:"Login"})]})]})}function Agents(){const{data:e,isLoading:s}=At.agents.list.useQuery();return u.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[u.jsx(Navbar,{}),u.jsxs("main",{className:"flex-1",children:[u.jsx("div",{className:"bg-gradient-to-r from-[#0A2540] to-[#0F4C75] text-white py-16",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Your Agent"}),u.jsx("p",{className:"text-lg text-gray-200 max-w-2xl",children:"Connect with experienced real estate professionals who can help you find your dream property"})]})}),u.jsx("div",{className:"container py-12",children:s?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>u.jsx(ea,{className:"animate-pulse",children:u.jsxs(sa,{className:"p-6",children:[u.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})},s))}):e&&e.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>u.jsx(rc,{href:`/agent/${e.id}`,children:u.jsx(ea,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsxs("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#0F4C75] to-[#3282B8] flex items-center justify-center text-white text-2xl font-bold flex-shrink-0",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:e.displayName||`${e.firstName} ${e.lastName}`}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-2",children:[u.jsx(ka,{className:"h-4 w-4"}),u.jsx("span",{className:"capitalize",children:e.role.replace("_"," ")})]}),e.rating>0&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(sl,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),u.jsx("span",{className:"text-sm font-medium",children:e.rating/100}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",e.reviewCount," reviews)"]})]})]})]}),e.bio&&u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:e.bio}),e.specialization&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:JSON.parse(e.specialization).slice(0,3).map((e,s)=>u.jsx(Badge,{variant:"secondary",className:"text-xs",children:e},s))}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 pt-4 border-t",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-[#0F4C75]",children:e.totalSales||0}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Properties Sold"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-[#0F4C75]",children:[e.yearsExperience||0,"+"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Years Experience"})]})]}),u.jsxs("div",{className:"space-y-2",children:[e.phone&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Eo,{className:"h-4 w-4"}),u.jsx("span",{children:e.phone})]}),e.email&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(oo,{className:"h-4 w-4"}),u.jsx("span",{className:"truncate",children:e.email})]})]}),1===e.isVerified&&u.jsx(Badge,{className:"mt-4 bg-green-500",children:"Verified Agent"})]})})},e.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ka,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No agents found"}),u.jsx("p",{className:"text-muted-foreground",children:"Check back soon for available agents"})]})})]}),u.jsx("footer",{className:"bg-[#0A2540] text-white py-8 mt-auto",children:u.jsx("div",{className:"container text-center text-sm text-gray-400",children:" 2025 Real Estate Portal. All rights reserved."})})]})}function AgentDetail(){const[,e]=useRoute("/agent/:id"),s=e?.id?parseInt(e.id):0,{data:a,isLoading:l}=At.agents.getById.useQuery({id:s}),{data:c}=At.reviews.getByTarget.useQuery({reviewType:"agent",targetId:s}),[p,m]=re.useState(!1),[h,f]=re.useState({name:"",email:"",phone:"",message:""}),g=At.leads.create.useMutation({onSuccess:()=>{Gr.success("Message sent successfully!"),m(!1),f({name:"",email:"",phone:"",message:""})},onError:()=>{Gr.error("Failed to send message. Please try again.")}});return l?u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0F4C75]"})})]}):a?u.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[u.jsx(Navbar,{}),u.jsxs("main",{className:"flex-1",children:[u.jsx("div",{className:"bg-gradient-to-r from-[#0A2540] to-[#0F4C75] text-white py-12",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[u.jsxs("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center text-white text-4xl font-bold flex-shrink-0 border-4 border-white/30",children:[a.firstName.charAt(0),a.lastName.charAt(0)]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:a.displayName||`${a.firstName} ${a.lastName}`}),1===a.isVerified&&u.jsx(Badge,{className:"bg-green-500",children:"Verified"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-lg mb-4",children:[u.jsx(ka,{className:"h-5 w-5"}),u.jsx("span",{className:"capitalize",children:a.role.replace("_"," ")})]}),a.rating>0&&u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>u.jsx(sl,{className:"h-5 w-5 "+(s<Math.floor(a.rating/100)?"fill-yellow-400 text-yellow-400":"text-gray-400")},s))}),u.jsx("span",{className:"text-lg font-medium",children:(a.rating/100).toFixed(1)}),u.jsxs("span",{className:"text-gray-200",children:["(",a.reviewCount," reviews)"]})]}),u.jsx("p",{className:"text-gray-200 max-w-3xl mb-6",children:a.bio||"Experienced real estate professional ready to help you find your dream property."}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs(Button$1,{onClick:()=>m(!0),className:"bg-white text-[#0F4C75] hover:bg-gray-100",children:[u.jsx(go,{className:"h-4 w-4 mr-2"}),"Contact Agent"]}),a.phone&&u.jsxs(Button$1,{variant:"outline",className:"border-white text-white hover:bg-white/10",children:[u.jsx(Eo,{className:"h-4 w-4 mr-2"}),a.phone]}),a.whatsapp&&u.jsx(Button$1,{variant:"outline",className:"border-white text-white hover:bg-white/10",children:"WhatsApp"})]})]})]})})}),u.jsx("div",{className:"container py-12",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-[#0F4C75] mb-1",children:a.totalSales||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Properties Sold"})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center",children:[u.jsxs("div",{className:"text-3xl font-bold text-[#0F4C75] mb-1",children:[a.yearsExperience||0,"+"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Years Experience"})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-[#0F4C75] mb-1",children:a.reviewCount||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Reviews"})]})})]}),c&&c.length>0&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Client Reviews"})}),u.jsx(sa,{className:"space-y-4",children:c.map(e=>u.jsxs("div",{className:"border-b last:border-0 pb-4 last:pb-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"flex",children:[...Array(5)].map((s,a)=>u.jsx(sl,{className:"h-4 w-4 "+(a<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},a))}),1===e.isVerified&&u.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Verified"})]}),e.title&&u.jsx("h4",{className:"font-semibold mb-1",children:e.title}),e.comment&&u.jsx("p",{className:"text-sm text-muted-foreground",children:e.comment})]},e.id))})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Contact Information"})}),u.jsxs(sa,{className:"space-y-3",children:[a.phone&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Eo,{className:"h-5 w-5 text-[#0F4C75]"}),u.jsx("span",{children:a.phone})]}),a.email&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(oo,{className:"h-5 w-5 text-[#0F4C75]"}),u.jsx("span",{className:"break-all",children:a.email})]}),a.licenseNumber&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fa,{className:"h-5 w-5 text-[#0F4C75]"}),u.jsxs("span",{children:["License: ",a.licenseNumber]})]})]})]}),a.specialization&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Specialization"})}),u.jsx(sa,{children:u.jsx("div",{className:"flex flex-wrap gap-2",children:JSON.parse(a.specialization).map((e,s)=>u.jsx(Badge,{variant:"secondary",children:e},s))})})]}),a.areasServed&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Areas Served"})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-2",children:JSON.parse(a.areasServed).map((e,s)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-[#0F4C75]"}),u.jsx("span",{className:"text-sm",children:e})]},s))})})]})]})]})})]}),u.jsx(Dialog,{open:p,onOpenChange:m,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{children:["Contact ",a.firstName]}),u.jsx(DialogDescription,{children:"Send a message and the agent will get back to you soon."})]}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),g.mutate({agentId:s,...h,leadType:"callback",source:"agent_profile"})},className:"space-y-4",children:[u.jsx("div",{children:u.jsx(Input,{placeholder:"Your Name",value:h.name,onChange:e=>f({...h,name:e.target.value}),required:!0})}),u.jsx("div",{children:u.jsx(Input,{type:"email",placeholder:"Your Email",value:h.email,onChange:e=>f({...h,email:e.target.value}),required:!0})}),u.jsx("div",{children:u.jsx(Input,{type:"tel",placeholder:"Your Phone (optional)",value:h.phone,onChange:e=>f({...h,phone:e.target.value})})}),u.jsx("div",{children:u.jsx(Textarea,{placeholder:"Your Message",value:h.message,onChange:e=>f({...h,message:e.target.value}),rows:4})}),u.jsx(Button$1,{type:"submit",className:"w-full",disabled:g.isPending,children:g.isPending?"Sending...":"Send Message"})]})]})}),u.jsx("footer",{className:"bg-[#0A2540] text-white py-8 mt-auto",children:u.jsx("div",{className:"container text-center text-sm text-gray-400",children:" 2025 Real Estate Portal. All rights reserved."})})]}):u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ka,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Agent not found"}),u.jsx("p",{className:"text-muted-foreground",children:"The agent you're looking for doesn't exist."})]})})]})}function AgentPublicProfile(){const[,e]=useRoute("/agent/profile/:agentId");e?.agentId&&parseInt(e.agentId);const s={firstName:"Edward",lastName:"Lehlohonolo",displayName:"Edward Lehlohonolo",bio:"Award-winning real estate agent specializing in luxury properties and first-time home buyers. With over 5 years of experience in the Johannesburg area, I help clients find their dream homes.",phone:"+27 82 555 1234",email:"edward.ikhayaproperty@gmail.com",specialization:"Residential Sales, Luxury Properties, First-Time Buyers",yearsExperience:5,areasServed:"Sandton, Rosebank, Johannesburg North",rating:4.8,reviewCount:127,totalSales:89,agency:{name:"Prime Properties SA",logo:null},socialMedia:{facebook:"https://facebook.com/agent",instagram:"https://instagram.com/agent",linkedin:"https://linkedin.com/in/agent",twitter:"https://twitter.com/agent"},achievements:["Top Producer 2023","Customer Service Excellence Award","Million Dollar Club Member"],activeListings:12},a=`${s.firstName[0]}${s.lastName[0]}`;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[u.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[u.jsx("div",{className:"absolute inset-0 bg-black/20"}),u.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"h-32 w-32 rounded-full bg-white flex items-center justify-center shadow-2xl ring-4 ring-white/20",children:u.jsx("span",{className:"text-4xl font-bold text-blue-600",children:a})}),u.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 h-6 w-6 rounded-full border-4 border-white"})]}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.displayName}),u.jsxs("p",{className:"text-xl text-blue-100 mb-4",children:["Real Estate Agent ",s.agency&&`at ${s.agency.name}`]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sl,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),u.jsx("span",{className:"font-semibold",children:s.rating}),u.jsxs("span",{className:"text-blue-100",children:["(",s.reviewCount," reviews)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fa,{className:"h-5 w-5"}),u.jsxs("span",{children:[s.yearsExperience," Years Experience"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-5 w-5"}),u.jsxs("span",{children:[s.totalSales," Properties Sold"]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[u.jsxs(Button$1,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg",onClick:()=>window.location.href=`tel:${s.phone}`,children:[u.jsx(Eo,{className:"h-5 w-5 mr-2"}),"Call Now"]}),u.jsxs(Button$1,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white/10",onClick:()=>window.location.href=`mailto:${s.email}`,children:[u.jsx(oo,{className:"h-5 w-5 mr-2"}),"Email Me"]}),u.jsxs(Button$1,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white/10",onClick:()=>{const e=window.location.href;navigator.share?navigator.share({title:`${s.displayName} - Real Estate Agent`,text:"Check out my real estate profile!",url:e}):(navigator.clipboard.writeText(e),alert("Profile link copied to clipboard!"))},children:[u.jsx(Wo,{className:"h-5 w-5 mr-2"}),"Share Profile"]})]})]})]})})]}),u.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx(ea,{className:"shadow-xl",children:u.jsxs(sa,{className:"p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About Me"}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.bio})]})}),u.jsx(ea,{className:"shadow-xl",children:u.jsxs(sa,{className:"p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Specializations"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:s.specialization.split(",").map((e,s)=>u.jsxs(Badge,{variant:"secondary",className:"px-4 py-2 text-sm bg-blue-100 text-blue-700 border border-blue-200",children:[u.jsx(Ua,{className:"h-4 w-4 mr-2"}),e.trim()]},s))})]})}),u.jsx(ea,{className:"shadow-xl",children:u.jsxs(sa,{className:"p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Achievements"}),u.jsx("div",{className:"space-y-3",children:s.achievements.map((e,s)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[u.jsx(fa,{className:"h-6 w-6 text-yellow-600 flex-shrink-0"}),u.jsx("span",{className:"font-medium text-gray-900",children:e})]},s))})]})}),u.jsx(ea,{className:"shadow-xl",children:u.jsxs(sa,{className:"p-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Active Listings"}),u.jsxs(Badge,{className:"bg-blue-600 text-white px-4 py-1",children:[s.activeListings," Properties"]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[u.jsx(ka,{className:"h-12 w-12 text-blue-600 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Browse my current property listings"}),u.jsx(Button$1,{className:"bg-blue-600 hover:bg-blue-700",children:"View All Listings"})]})]})})]}),u.jsx("div",{className:"space-y-6",children:u.jsx(ea,{className:"shadow-xl sticky top-6",children:u.jsxs(sa,{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:u.jsx(Eo,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),u.jsx("p",{className:"font-medium text-gray-900",children:s.phone})]})]}),u.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:u.jsx(oo,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),u.jsx("p",{className:"font-medium text-gray-900 break-all",children:s.email})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:u.jsx(lo,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Areas Served"}),u.jsx("p",{className:"font-medium text-gray-900",children:s.areasServed})]})]})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Connect With Me"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("a",{href:s.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:u.jsx(gi,{className:"h-5 w-5"})}),u.jsx("a",{href:s.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-pink-100 flex items-center justify-center hover:bg-pink-600 hover:text-white transition-all",children:u.jsx(Ui,{className:"h-5 w-5"})}),u.jsx("a",{href:s.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center hover:bg-blue-700 hover:text-white transition-all",children:u.jsx(eo,{className:"h-5 w-5"})}),u.jsx("a",{href:s.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center hover:bg-sky-500 hover:text-white transition-all",children:u.jsx(vl,{className:"h-5 w-5"})})]})]}),u.jsxs(Button$1,{className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[u.jsx(xo,{className:"h-5 w-5 mr-2"}),"Send Message"]})]})})})]})}),u.jsx("div",{className:"bg-gray-900 text-white py-8 mt-12",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center",children:u.jsxs("p",{className:"text-gray-400",children:[" 2024 ",s.displayName,". All rights reserved. | Powered by Property Listify"]})})})]})}const LocationPageLayout=({locationName:e,locationSlug:s,banner:a,searchStage:l,featuredProperties:c,propertyTypeExplorer:p,topLocalities:m,topLocalitiesShowcase:h,propertyCategories:f,highDemandDevelopments:g,popularLocations:b,recommendedAgents:j,agencyShowcase:N,developerShowcase:k,investmentShowcase:_,buyerCTA:T,listingsFeed:E,fullWidthSection:A,sellerCTA:L,seoContent:O,exploreMore:I})=>u.jsxs("div",{className:"min-h-screen bg-slate-50 w-full pt-16",children:[u.jsxs(wr,{children:[u.jsx("title",{children:`Property for Sale in ${e} | Real Estate Portal`}),u.jsx("meta",{name:"description",content:`Find the best properties for sale in ${e}. Search apartments, houses, and new developments.`})]}),u.jsx(ListingNavbar,{}),u.jsx("div",{className:"bg-white border-b border-slate-200",children:u.jsx("div",{className:"container mx-auto px-4 py-3",children:(()=>{const[e]=useLocation(),a=e.startsWith("/property-to-rent"),l=a?"For Rent":"For Sale",c=a?"/property-to-rent":"/property-for-sale",p=s.split("/").filter(Boolean),m=[{label:"Home",href:"/"},{label:l,href:c}];let h=c;return p.forEach((e,s)=>{h+=`/${e}`,m.push({label:unslugify(e),href:h})}),u.jsx(Breadcrumbs,{items:m})})()})}),u.jsx("section",{className:"relative w-full z-10",children:a}),u.jsx("section",{className:"relative z-20 -mt-20 md:-mt-24 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:l})}),u.jsxs("main",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16",children:[c&&u.jsx("section",{id:"featured-projects",className:"scroll-mt-24",children:c}),p&&u.jsx("section",{id:"property-types",className:"scroll-mt-24",children:p}),f&&u.jsx("section",{id:"property-categories",className:"scroll-mt-24",children:f}),A&&u.jsx("section",{className:"w-full scroll-mt-24",children:A}),g&&u.jsx("section",{id:"high-demand-developments",className:"scroll-mt-24",children:g}),h&&u.jsx("section",{id:"top-localities",className:"scroll-mt-24",children:h}),b&&u.jsx("section",{id:"popular-locations",className:"scroll-mt-24",children:b}),j&&u.jsx("section",{id:"agents",className:"scroll-mt-24",children:j}),N&&u.jsx("section",{id:"agencies",className:"scroll-mt-24",children:N}),k&&u.jsx("section",{id:"developers",className:"scroll-mt-24",children:k}),_&&u.jsx("section",{id:"investment-projects",className:"scroll-mt-24",children:_}),T&&u.jsx("section",{className:"my-16",children:T}),E&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[u.jsx("div",{className:"lg:col-span-8 space-y-8",children:E}),u.jsx("aside",{className:"lg:col-span-4 space-y-8 hidden lg:block",children:O})]}),u.jsx("div",{className:"lg:hidden",children:O}),I&&u.jsx("section",{className:"my-16",children:I}),L&&u.jsx("section",{className:"mt-20 mb-12",children:L})]}),u.jsx(Footer$1,{})]});function MetaControl({canonicalUrl:e,forceNoIndex:s=!1}){const[a]=useLocation(),l=(()=>{if(s)return!0;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search),s=["city","suburb","province","locationId","listingType","propertyType"];for(const a of e.keys())if(!s.includes(a))return!0}return!1})(),c=e||("undefined"!=typeof window?`${window.location.origin}${a}`:"");return u.jsxs(wr,{children:[l&&u.jsx("meta",{name:"robots",content:"noindex, follow"}),!l&&u.jsx("meta",{name:"robots",content:"index, follow"}),c&&u.jsx("link",{rel:"canonical",href:c})]})}const trackEvent=(e,s)=>{try{console.log(`[Analytics] ${e}`,s)}catch(a){console.error("Failed to track event:",a)}},Pb=[{id:"buy",label:"Buy",icon:Bi,listingType:"sale"},{id:"rental",label:"Rental",icon:Hi,listingType:"rent"},{id:"developments",label:"Developments",icon:ka,listingType:"development"},{id:"shared_living",label:"Shared Living",icon:Cl,listingType:"shared_living"},{id:"plot_land",label:"Plot & Land",icon:qi,listingType:"plot"},{id:"commercial",label:"Commercial",icon:al,listingType:"commercial"}],Tb={buy:{intents:["Residential","Commercial","Land & Plots","Farms & Smallholdings"],propertyTypes:{Residential:["House","Apartment","Townhouse","Cluster","Penthouse","Duplex","Villa"],Commercial:["Office","Retail","Industrial","Warehouse","Mixed-Use"],"Land & Plots":["Residential Stand","Commercial Stand","Agricultural Land"],"Farms & Smallholdings":["Farm","Smallholding","Game Farm","Lifestyle Farm"]}},rental:{propertyTypes:["House","Apartment","Townhouse","Cluster","Room","Studio"],leaseTerms:["Month-to-month","6 months","12 months","24+ months"]},developments:{types:["Full Title","Sectional Title","Security Estate","Retirement","Luxury","Affordable Housing"],statuses:["Off-Plan","Under Construction","Completed","Launching Soon"]},plot_land:{types:["Residential","Commercial","Agricultural","Industrial"]},commercial:{useTypes:["Office","Retail","Industrial","Warehouse","Medical","Mixed-Use"]},shared_living:{roomTypes:["Room in Apartment","Room in House","Co-Living","Student Accommodation"],genderOptions:["Male Only","Female Only","Mixed"]}};function LocationHeroSection({locationName:e,locationSlug:s,locationType:a,locationId:l,backgroundImage:c,listingCount:p,campaign:m,quickLinks:h=[],initialSearchQuery:f=""}){const[,g]=useLocation(),[b,j]=re.useState(null),[N,k]=re.useState(f),[_,T]=re.useState(!1),[E,A]=re.useState({propertyIntent:"",propertyTypes:[],priceMin:"",priceMax:"",furnished:!1,leaseTerm:"",developmentType:"",developmentStatus:"",landType:"",commercialUseType:"",roomType:"",genderPreference:""}),handleFilterChange=(e,s)=>{A(a=>({...a,[e]:s}))},getSearchPath=(e,s,a)=>{const l=e||"buy",c=Pb.find(e=>e.id===l);if(!c)return"/";if("development"===c.listingType)return`/new-developments?location=${encodeURIComponent(a)}`;const u="rent"===c.listingType||"shared_living"===c.id?"property-to-rent":"property-for-sale",p=new URLSearchParams;return p.set("view","list"),E.propertyTypes.length>0&&"all"!==E.propertyTypes[0]&&p.set("propertyType",E.propertyTypes[0].toLowerCase()),E.priceMin&&p.set("minPrice",E.priceMin),E.priceMax&&p.set("maxPrice",E.priceMax),"commercial"===c.id&&p.set("type","commercial"),"plot_land"===c.id&&p.set("type","vacant-land"),"shared_living"===c.id&&p.set("type","flat-apartment"),`/${u}/${s}?${p.toString()}`};return u.jsxs("div",{className:"relative w-full",children:[u.jsxs("h1",{className:"sr-only",children:["Property for Sale in ",e," - Explore ",p.toLocaleString()," properties"]}),u.jsxs("div",{className:"relative w-full h-[30vh] lg:h-[35vh] overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${m?.imageUrl||c})`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/50"}),m&&u.jsx("a",{href:m.landingPageUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"absolute top-4 right-4 z-20",onClick:()=>trackEvent("hero_campaign_click",{locationId:l,locationType:a}),children:u.jsx("span",{className:"bg-white/90 text-[10px] font-bold px-3 py-1 rounded text-slate-700 uppercase tracking-wider shadow-sm",children:"Sponsored"})})]}),u.jsx("div",{className:"relative z-10 -mt-16 px-4 pb-6 flex justify-center",children:u.jsxs(ea,{className:"w-full max-w-6xl bg-white/95 backdrop-blur-sm shadow-2xl rounded-2xl p-6 md:p-8",children:[u.jsxs("div",{className:"flex flex-wrap lg:flex-nowrap justify-center gap-2 mb-6",children:[Pb.map(e=>{const a=e.icon,l=b===e.id;return u.jsxs("button",{onClick:()=>{return a=e.id,j(a),T(!0),void trackEvent("hero_category_click",{category:a,location:s});var a},className:cn("flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200 whitespace-nowrap",l?"bg-blue-600 text-white shadow-lg scale-105":"bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-102"),children:[u.jsx(a,{className:"h-4 w-4"}),e.label]},e.id)}),u.jsxs("button",{onClick:()=>{g("/list-property")},className:"flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-sm bg-green-600 text-white hover:bg-green-700 transition-all duration-200 shadow-md whitespace-nowrap",children:[u.jsx(Mo,{className:"h-4 w-4"}),"Post Property"]})]}),_&&b&&u.jsx("div",{className:"mb-6 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2 duration-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:["buy"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Property Category"}),u.jsxs(Select$1,{value:E.propertyIntent,onValueChange:e=>handleFilterChange("propertyIntent",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Category"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Category"}),Tb.buy.intents.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Property Type"}),u.jsxs(Select$1,{value:E.propertyTypes[0]||"",onValueChange:e=>handleFilterChange("propertyTypes",[e]),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),(E.propertyIntent&&Tb.buy.propertyTypes[E.propertyIntent]?Tb.buy.propertyTypes[E.propertyIntent]:Object.values(Tb.buy.propertyTypes).flat()).map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Min Price"}),u.jsxs(Select$1,{value:E.priceMin,onValueChange:e=>handleFilterChange("priceMin",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"0",children:"R 0"}),u.jsx(SelectItem,{value:"500000",children:"R 500,000"}),u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Price"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"}),u.jsx(SelectItem,{value:"10000000",children:"R 10,000,000"}),u.jsx(SelectItem,{value:"50000000",children:"R 50,000,000+"})]})]})]})]}),"rental"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Property Type"}),u.jsxs(Select$1,{value:E.propertyTypes[0]||"",onValueChange:e=>handleFilterChange("propertyTypes",[e]),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Tb.rental.propertyTypes.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Lease Term"}),u.jsxs(Select$1,{value:E.leaseTerm,onValueChange:e=>handleFilterChange("leaseTerm",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Term"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Term"}),Tb.rental.leaseTerms.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Budget"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Budget"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"5000",children:"R 5,000"}),u.jsx(SelectItem,{value:"10000",children:"R 10,000"}),u.jsx(SelectItem,{value:"20000",children:"R 20,000"}),u.jsx(SelectItem,{value:"50000",children:"R 50,000+"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 h-10 mt-6",children:[u.jsx(Checkbox,{id:"furnished",checked:E.furnished,onCheckedChange:e=>handleFilterChange("furnished",e)}),u.jsx(Label$1,{htmlFor:"furnished",className:"font-normal cursor-pointer",children:"Furnished Only"})]})]}),"developments"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Development Type"}),u.jsxs(Select$1,{value:E.developmentType,onValueChange:e=>handleFilterChange("developmentType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Tb.developments.types.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Status"}),u.jsxs(Select$1,{value:E.developmentStatus,onValueChange:e=>handleFilterChange("developmentStatus",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Status"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Status"}),Tb.developments.statuses.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Min Price"}),u.jsxs(Select$1,{value:E.priceMin,onValueChange:e=>handleFilterChange("priceMin",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"500000",children:"R 500,000"}),u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Price"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"2000000",children:"R 2,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"}),u.jsx(SelectItem,{value:"10000000",children:"R 10,000,000+"})]})]})]})]}),"plot_land"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Land Type"}),u.jsxs(Select$1,{value:E.landType,onValueChange:e=>handleFilterChange("landType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Tb.plot_land.types.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Min Price"}),u.jsxs(Select$1,{value:E.priceMin,onValueChange:e=>handleFilterChange("priceMin",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"100000",children:"R 100,000"}),u.jsx(SelectItem,{value:"500000",children:"R 500,000"}),u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Price"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"}),u.jsx(SelectItem,{value:"10000000",children:"R 10,000,000+"})]})]})]})]}),"commercial"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Use Type"}),u.jsxs(Select$1,{value:E.commercialUseType,onValueChange:e=>handleFilterChange("commercialUseType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Tb.commercial.useTypes.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Min Price"}),u.jsxs(Select$1,{value:E.priceMin,onValueChange:e=>handleFilterChange("priceMin",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Min"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"500000",children:"R 500,000"}),u.jsx(SelectItem,{value:"1000000",children:"R 1,000,000"}),u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Price"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"No Max"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"5000000",children:"R 5,000,000"}),u.jsx(SelectItem,{value:"10000000",children:"R 10,000,000"}),u.jsx(SelectItem,{value:"50000000",children:"R 50,000,000+"})]})]})]})]}),"shared_living"===b&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Room Type"}),u.jsxs(Select$1,{value:E.roomType,onValueChange:e=>handleFilterChange("roomType",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Type"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any Type"}),Tb.shared_living.roomTypes.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Gender Preference"}),u.jsxs(Select$1,{value:E.genderPreference,onValueChange:e=>handleFilterChange("genderPreference",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"Any"}),Tb.shared_living.genderOptions.map(e=>u.jsx(SelectItem,{value:e,children:e},e))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Label$1,{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Max Budget"}),u.jsxs(Select$1,{value:E.priceMax,onValueChange:e=>handleFilterChange("priceMax",e),children:[u.jsx(SelectTrigger,{className:"h-10 bg-gray-50/50",children:u.jsx(SelectValue,{placeholder:"Any Budget"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"3000",children:"R 3,000"}),u.jsx(SelectItem,{value:"5000",children:"R 5,000"}),u.jsx(SelectItem,{value:"10000",children:"R 10,000+"})]})]})]})]})]})}),u.jsxs("div",{className:"relative flex items-center gap-3",children:[u.jsx("div",{className:"relative flex-1",children:u.jsx(LocationAutosuggest,{placeholder:`Search in ${e}...`,onSelect:e=>{if(e?.slug){const s=getSearchPath(b,e.slug,e.name);g(s)}},onChange:k,className:"w-full h-12 text-base border-2 border-slate-200 rounded-lg focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200 bg-white transition-all flex items-center",inputClassName:"h-full w-full bg-transparent border-0 focus-visible:ring-0 placeholder:text-slate-500 text-slate-900"})}),u.jsxs(Button$1,{onClick:()=>{const a=getSearchPath(b,s,e);g(a)},size:"lg",className:"px-8 h-12 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 font-semibold",children:[u.jsx(Vo,{className:"h-5 w-5 mr-2"}),"Search"]})]}),h.length>0&&u.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-start gap-3",children:[u.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Popular:"}),h.map((e,s)=>u.jsx("button",{onClick:()=>{if(e.slug){const s=getSearchPath(b,e.slug,e.label);g(s)}else e.path&&g(e.path)},className:"px-3 py-1.5 text-sm bg-slate-100 text-slate-700 rounded-full hover:bg-blue-100 hover:text-blue-700 transition-colors",children:e.label},s))]})]})})]})}function FeaturedPropertiesCarousel({locationId:e,locationName:s,locationScope:a}){const{data:l,isLoading:c}=At.location.getFeaturedListings.useQuery({locationId:e,limit:20}),[p,m]=re.useState("all");if(c||!l||0===l.length)return null;const h=[{id:"all",label:`All ${s}`}];return u.jsx("div",{className:"py-12 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"flex flex-col mb-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-yellow-600",children:[u.jsx(sl,{className:"h-5 w-5 fill-yellow-600"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Top Selling Projects"})]}),u.jsxs("h2",{className:"text-3xl font-bold text-slate-900",children:["Top Selling Projects in ",s]}),u.jsx("p",{className:"mt-2 text-slate-600 max-w-3xl",children:"Discover high-demand residential developments and properties."})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsx(ef,{value:p,onValueChange:m,className:"w-full md:w-auto",children:u.jsx(tf,{className:"bg-slate-100 h-10 p-1",children:h.map(e=>u.jsx(rf,{value:e.id,className:"px-4",children:e.label},e.id))})}),u.jsx(rc,{href:`/search?location=${s}&sort=popular`,children:u.jsxs(Button$1,{variant:"ghost",className:"group text-primary hover:text-primary-700 hover:bg-primary-50 pl-0 md:pl-4",children:["View all ",l.length," projects",u.jsx(pa,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]}),u.jsx("div",{className:"relative",children:u.jsxs(Carousel,{className:"w-full",opts:{align:"start",loop:!0},children:[u.jsx(CarouselContent,{className:"-ml-4 pb-4",children:l.slice(0,10).map(e=>{const s=normalizePropertyForUI(e);return s?u.jsx(CarouselItem,{className:"pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:u.jsx(PropertyCard$2,{...s})},e.id):null})}),u.jsx(CarouselPrevious,{className:"hidden md:flex -left-5 h-12 w-12 border-slate-200 bg-white shadow-lg"}),u.jsx(CarouselNext,{className:"hidden md:flex -right-5 h-12 w-12 border-slate-200 bg-white shadow-lg"})]})})]})})}function TabbedListingSection({title:e,description:s,tabs:a,items:l,renderItem:c,filterItem:p,viewAllLink:m,viewAllText:h="Explore More",emptyMessage:f="No properties available in this category at the moment",className:g}){const[b,j]=re.useState(a[0]?.value||""),N=re.useMemo(()=>l.filter(e=>p(e,b)),[l,b,p]),k=a.find(e=>e.value===b)?.label||b;return a.length?u.jsx("div",{className:cn("py-16 bg-white",g),children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:e}),s&&u.jsx("p",{className:"text-muted-foreground text-base max-w-3xl",children:s})]}),u.jsxs(ef,{value:b,onValueChange:j,className:"w-full",children:[u.jsx(tf,{className:"flex flex-wrap justify-start gap-2 mb-8 bg-transparent p-0 h-auto",children:a.map(e=>u.jsx(rf,{value:e.value,className:"px-6 py-2.5 rounded-full text-sm font-medium transition-all duration-300 border bg-white text-muted-foreground border-gray-200 hover:border-blue-200 hover:bg-blue-50 hover:text-blue-600 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:border-transparent data-[state=active]:shadow-md data-[state=active]:scale-105",children:e.label},e.value))}),u.jsx(nf,{value:b,className:"mt-6 animate-in fade-in-50 duration-500",children:N.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((e,s)=>u.jsx("div",{className:"h-full",children:c(e)},s))}):u.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-lg border border-dashed border-slate-200",children:[u.jsx(ka,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4 opacity-50"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:f})]})})]}),m&&u.jsx("div",{className:"text-center mt-8",children:u.jsx(rc,{href:m(b),children:u.jsxs(Button$1,{variant:"outline",size:"lg",className:"gap-2 group border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:[h," ",k,u.jsx(pa,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})})]})}):null}function generateSEOContent({type:e,name:s,parentName:a,stats:l}){const c=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",maximumFractionDigits:0}).format(l.avgPrice);switch(l.totalListings,e){case"province":return function generateProvinceContent(e,s,a){const l=[`<p>Discover the vibrant real estate market in <strong>${e}</strong>, a premier destination for property buyers and investors in South Africa.</p>`,`<p><strong>${e}</strong> offers a diverse range of real estate opportunities, from bustling urban centers to serene countryside retreats.</p>`,`<p>Explore the best properties for sale in <strong>${e}</strong>. This province is known for its dynamic property market and exceptional lifestyle offerings.</p>`],c=`\n    <h3>Real Estate Market Overview</h3>\n    <p>The ${e} property market is currently active with <strong>${s.totalListings} properties</strong> listed for sale and rent. \n    The average asking price for properties in this region is <strong>${a}</strong>, catering to a wide range of budgets.</p>\n    ${s.rentalCount?`<p>For investors, the rental market is robust with ${s.rentalCount} active rental listings, offering potential for strong yields.</p>`:""}\n  `,u=`\n    <h3>Lifestyle & Amenities</h3>\n    <p>Living in ${e} provides access to world-class amenities, top-rated schools, and excellent healthcare facilities. \n    Whether you are looking for a modern apartment, a family home in a secure estate, or a luxury villa, ${e} has something to offer every lifestyle.</p>\n  `,p=`\n    <h3>Why Invest in ${e}?</h3>\n    <ul>\n      <li><strong>Diverse Portfolio:</strong> From ${s.minPrice?"affordable starter homes":"affordable apartments"} to luxury estates.</li>\n      <li><strong>Growth Potential:</strong> consistently showing capital appreciation in key areas.</li>\n      <li><strong>Rental Demand:</strong> strong demand in major economic hubs.</li>\n    </ul>\n  `;return[l[Math.floor(Math.random()*l.length)],c,u,p].join("")}(s,l,c);case"city":return function generateCityContent(e,s,a,l){return`\n    <p><strong>${e}</strong> is a thriving city located in <strong>${s}</strong>, offering a unique blend of business opportunities and residential charm. \n    It is a sought-after location for professionals, families, and investors alike.</p>\n\n    <h3>Property Market Insights for ${e}</h3>\n    <p>With <strong>${a.totalListings} listings</strong> currently available, the ${e} real estate market is vibrant. \n    The average property price stands at <strong>${l}</strong>. \n    ${a.saleCount?`buyers can choose from ${a.saleCount} homes for sale`:"Various options are available"}, \n    while tenants have access to ${a.rentalCount||"numerous"} rental properties.</p>\n\n    <h3>Living in ${e}</h3>\n    <p>${e} boasts a well-developed infrastructure with easy access to major highways, public transport, and shopping centers. \n    Residents enjoy a high quality of life with access to parks, recreational facilities, and excellent educational institutions.</p>\n\n    <p><strong>Key Highlights:</strong></p>\n    <ul>\n      <li>Central business districts and economic hubs.</li>\n      <li>Vibrant nightlife, dining, and entertainment options.</li>\n      <li>Family-friendly suburbs with secure varied housing options.</li>\n    </ul>\n  `}(s,a||"",l,c);case"suburb":return function generateSuburbContent(e,s,a,l){return`\n    <p>Welcome to <strong>${e}</strong>, a popular suburb situated in the heart of <strong>${s}</strong>. \n    Known for its community atmosphere and convenient location, ${e} is a top choice for homebuyers.</p>\n\n    <h3>Buying Property in ${e}</h3>\n    <p>There are currently <strong>${a.totalListings} properties</strong> on the market in ${e}. \n    The area offers excellent value with an average listing price of <strong>${l}</strong>. \n    Prospective buyers can find a mix of property types, including apartments, townhouses, and freestanding homes.</p>\n\n    <h3>Area Profile</h3>\n    <p>${e} is characterized by its tree-lined streets, local parks, and friendly community. \n    It is conveniently located near major routes, making commuting to ${s} center and surrounding areas a breeze. \n    Local amenities include shopping malls, restaurants, and schools, ensuring residents have everything they need on their doorstep.</p>\n  `}(s,a||"",l,c);default:return""}}function SEOTextBlock({title:e,content:s,locationName:a,locationType:l,parentName:c,stats:p}){const[m,h]=re.useState(!1),f=re.useMemo(()=>s||(l&&p?generateSEOContent({type:l,name:a,parentName:c,stats:p}):""),[s,l,a,c,p]);return f?u.jsx("div",{className:"py-12 bg-white border-t border-slate-100",children:u.jsxs("div",{className:"container max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-900",children:e}),u.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600 "+(m?"":"line-clamp-4 relative"),children:[u.jsx("div",{dangerouslySetInnerHTML:{__html:f}}),!m&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-white to-transparent"})]}),u.jsx(Button$1,{variant:"ghost",onClick:()=>h(!m),className:"mt-4 text-primary hover:text-primary/80 p-0 h-auto font-medium hover:bg-transparent",children:m?u.jsxs("span",{className:"flex items-center",children:["Read Less ",u.jsx(Ba,{className:"ml-1 h-4 w-4"})]}):u.jsxs("span",{className:"flex items-center",children:["Read More about ",a," ",u.jsx($a,{className:"ml-1 h-4 w-4"})]})})]})}):null}function FinalCTA({locationName:e,provinceSlug:s,citySlug:a,suburbSlug:l}){return u.jsx("div",{className:"py-20 bg-primary-900 text-white text-center",children:u.jsxs("div",{className:"container max-w-3xl",children:[u.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:["Find Your Dream Home in ",e]}),u.jsx("p",{className:"text-xl text-primary-100 mb-10",children:"Browse thousands of properties, from modern apartments to luxury villas."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(rc,{href:`/properties/sale?property_type=house&location=${l||a||s}`,children:u.jsx(Button$1,{size:"lg",className:"bg-white text-primary-900 hover:bg-slate-100 text-lg px-8 h-14",children:"Search Houses"})}),u.jsx(rc,{href:`/properties/sale?property_type=apartment&location=${l||a||s}`,children:u.jsx(Button$1,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 text-lg px-8 h-14 bg-transparent",children:"Search Apartments"})}),u.jsx(rc,{href:`/properties/rent?location=${l||a||s}`,children:u.jsx(Button$1,{size:"lg",variant:"ghost",className:"text-white hover:bg-white/10 text-lg h-14",children:"Browse Rentals"})})]})]})})}function LocationSchema({type:e,name:s,description:a,url:l,image:c,breadcrumbs:p,geo:m,address:h,aggregateRating:f,stats:g}){const b=`https://propertylistify.com${l}`,j={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:p.map((e,s)=>({"@type":"ListItem",position:s+1,name:e.name,item:`https://propertylistify.com${e.url}`}))},N={"@context":"https://schema.org","@type":"City"===e?"City":"Province"===e?"AdministrativeArea":"Place",name:s,description:a,url:b};c&&(N.image=c),m&&(N.geo={"@type":"GeoCoordinates",latitude:m.latitude,longitude:m.longitude}),h&&(N.address={"@type":"PostalAddress",streetAddress:h.streetAddress,addressLocality:h.addressLocality||s,addressRegion:h.addressRegion,postalCode:h.postalCode,addressCountry:h.addressCountry||"ZA"}),f&&(N.aggregateRating={"@type":"AggregateRating",ratingValue:f.ratingValue,reviewCount:f.reviewCount}),g&&(N.additionalProperty=[],void 0!==g.totalListings&&N.additionalProperty.push({"@type":"PropertyValue",name:"Total Listings",value:g.totalListings}),void 0!==g.avgPrice&&N.additionalProperty.push({"@type":"PropertyValue",name:"Average Sale Price",value:g.avgPrice,unitCode:"ZAR"}),void 0!==g.avgRentalPrice&&N.additionalProperty.push({"@type":"PropertyValue",name:"Average Rental Price",value:g.avgRentalPrice,unitCode:"ZAR"}));const k=function generateMetaTitle(e,s,a){const l=`${s} Real Estate`;if(a?.totalListings&&a?.avgPrice){const e=formatPrice$1(a.avgPrice);return`${l} - ${a.totalListings} Properties from ${e} | Property Listify`}return a?.totalListings?`${l} - ${a.totalListings} Properties for Sale & Rent | Property Listify`:`${l} - Properties for Sale & Rent | Property Listify`}(0,s,g),_=function generateMetaDescription(e,s,a,l){let c=`Explore real estate in ${s}. `;l?.totalListings&&(c+=`Browse ${l.totalListings} properties for sale and rent. `);if(l?.avgPrice){c+=`Average sale price: ${formatPrice$1(l.avgPrice)}. `}if(l?.avgRentalPrice){c+=`Average rental: ${formatPrice$1(l.avgRentalPrice)}/month. `}if(a){const e=a.substring(0,100).trim();c+=e.endsWith(".")?e:`${e}...`}c.length>160&&(c=c.substring(0,157)+"...");return c}(0,s,a,g);return u.jsxs(wr,{children:[u.jsx("title",{children:k}),u.jsx("meta",{name:"description",content:_}),u.jsx("link",{rel:"canonical",href:b}),u.jsx("meta",{property:"og:type",content:"website"}),u.jsx("meta",{property:"og:url",content:b}),u.jsx("meta",{property:"og:title",content:k}),u.jsx("meta",{property:"og:description",content:_}),c&&u.jsx("meta",{property:"og:image",content:c}),u.jsx("meta",{property:"og:site_name",content:"Property Listify"}),u.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{property:"twitter:url",content:b}),u.jsx("meta",{property:"twitter:title",content:k}),u.jsx("meta",{property:"twitter:description",content:_}),c&&u.jsx("meta",{property:"twitter:image",content:c}),m&&u.jsxs(u.Fragment,{children:[u.jsx("meta",{name:"geo.position",content:`${m.latitude};${m.longitude}`}),u.jsx("meta",{name:"geo.placename",content:s}),u.jsx("meta",{name:"geo.region",content:"ZA"})]}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(j)}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(N)})]})}function formatPrice$1(e){return e>=1e6?`R${(e/1e6).toFixed(1)}M`:e>=1e3?`R${(e/1e3).toFixed(0)}K`:`R${e}`}function TopDevelopersCarousel({developers:e,locationName:s}){return e&&0!==e.length?u.jsxs("div",{className:"w-full","aria-labelledby":"top-developers-title",children:[u.jsx("header",{className:"mb-6 flex flex-col md:flex-row md:items-end justify-between gap-4",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900",id:"top-developers-title",children:["Top Developers in ",s]}),u.jsxs("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:["Leading property developers shaping the ",s," real estate market"]})]})}),u.jsxs(Carousel,{opts:{align:"start",loop:!0},className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-4 pb-4",children:e.map(e=>u.jsx(CarouselItem,{className:"pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:u.jsxs("article",{className:"h-full bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-4 flex items-center gap-3 border-b border-gray-100 min-h-[80px]",children:[u.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-lg bg-gray-50 p-1 flex items-center justify-center border border-gray-100",children:u.jsx("img",{src:e.logo||"/assets/placeholder-logo.png",alt:`${e.name} logo`,className:"w-full h-full object-contain",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjY2NjIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTMgMjF2LThhMiAyIDAgMCAxIDItMmgyLjVhMiAyIDAgMCAxIDIgMnY4Ii8+PHBhdGggZD0iTTE3IDIxdi04YTIgMiAwIDAgMCAtMi0yaC0yLjVhMiAyIDAgMCAwIC0yIDJ2OCIvPjxwYXRoIGQ9Ik0zIDEwdi0xYTIgMiAwIDAgMSA1IDB2MSIvPjxwYXRoIGQ9Ik0xNyAxMHYtMWEyIDIgMCAwIDEgNSAwdjEiLz48L3N2Zz4="}})}),u.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 leading-tight",children:e.name})]}),u.jsxs("div",{className:"grid grid-cols-2 divide-x divide-gray-100 border-b border-gray-100 bg-gray-50/50",children:[u.jsxs("div",{className:"p-3 text-center",children:[u.jsx("div",{className:"font-bold text-gray-900",children:e.establishedYear||"1995"}),u.jsx("div",{className:"text-[10px] uppercase tracking-wider font-medium text-gray-500",children:"Established"})]}),u.jsxs("div",{className:"p-3 text-center",children:[u.jsx("div",{className:"font-bold text-gray-900",children:e.projectCount}),u.jsx("div",{className:"text-[10px] uppercase tracking-wider font-medium text-gray-500",children:"Projects"})]})]}),u.jsx("div",{className:"p-4 flex-grow",children:u.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 leading-relaxed",children:e.description})}),e.featuredProject?u.jsxs("div",{className:"mt-auto relative h-48 group cursor-pointer block",children:[u.jsx("img",{src:e.featuredProject.image,alt:e.featuredProject.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[u.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-white/90 mb-1",children:"Featured Development"}),u.jsx("h4",{className:"font-semibold text-sm line-clamp-1 mb-0.5",children:e.featuredProject.title}),u.jsxs("div",{className:"flex justify-between items-end mt-1",children:[u.jsx("p",{className:"text-xs text-white/80 truncate mr-2",children:e.featuredProject.location}),u.jsx("strong",{className:"text-sm font-bold whitespace-nowrap bg-white/10 px-1.5 py-0.5 rounded backdrop-blur-sm",children:"number"==typeof e.featuredProject.price?`From R${(e.featuredProject.price/1e6).toFixed(1)}M`:e.featuredProject.price})]})]})]}):u.jsx("div",{className:"mt-auto h-12 bg-gray-50 border-t border-gray-100"})]})},e.id))}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4",children:[u.jsx(CarouselPrevious,{className:"static translate-y-0 h-10 w-10 border-gray-200 hover:bg-gray-50 hover:text-blue-600"}),u.jsx(CarouselNext,{className:"static translate-y-0 h-10 w-10 border-gray-200 hover:bg-gray-50 hover:text-blue-600"})]})]})]}):null}function HighDemandProjectsCarousel({projects:e,locationName:s}){if(!e||0===e.length)return null;const a=[];for(let l=0;l<e.length;l+=2)a.push(e.slice(l,l+2));return u.jsxs("section",{className:"high-demand-projects w-full py-8","aria-labelledby":"high-demand-title",children:[u.jsxs("header",{className:"section-header mb-6 container",children:[u.jsx("h2",{id:"high-demand-title",className:"text-xl md:text-2xl font-bold text-gray-900",children:"High-demand projects to invest now"}),u.jsxs("p",{className:"text-gray-600 mt-1 text-sm",children:["Leading projects in high demand in ",s]})]}),u.jsx("div",{className:"projects-carousel relative group/carousel",children:u.jsxs(Carousel,{opts:{align:"start",loop:!1},className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-3 pb-4 px-4",children:a.map((e,s)=>u.jsx(CarouselItem,{className:"pl-3 md:basis-1/2 lg:basis-1/3 xl:basis-1/3",children:u.jsx("div",{className:"flex flex-col gap-3 h-full",children:e.map(e=>u.jsxs("article",{className:"project-card bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden flex flex-row group h-[140px]",children:[u.jsx("div",{className:"project-image w-[120px] md:w-[130px] relative overflow-hidden bg-gray-100 flex-shrink-0",children:u.jsx("img",{src:e.image,alt:`${e.title} development`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})}),u.jsxs("div",{className:"project-info p-3 flex flex-col justify-between flex-1 min-w-0 bg-white",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"project-title font-bold text-sm text-gray-900 leading-tight mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:e.title}),u.jsxs("p",{className:"project-developer text-[10px] text-gray-500 mb-1",children:["by"," ",u.jsx("span",{className:"text-gray-700 font-medium",children:e.developer})]}),u.jsx("p",{className:"project-config text-xs font-medium text-gray-700 mb-0.5 line-clamp-1",children:e.config}),u.jsx("p",{className:"project-location text-[10px] text-gray-500 line-clamp-1",children:e.location})]}),u.jsx("div",{className:"pt-2 border-t border-gray-50 mt-auto",children:u.jsx("p",{className:"project-price text-sm font-bold text-blue-600",children:e.priceRange})})]})]},e.id))})},s))}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx(CarouselPrevious,{className:"-left-4 lg:left-0 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 bg-white/95 shadow-lg border-gray-100 translate-x-1/2"}),u.jsx(CarouselNext,{className:"-right-4 lg:right-0 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 bg-white/95 shadow-lg border-gray-100 -translate-x-1/2"})]})]})})]})}function RecommendedAgenciesCarousel({agencies:e,locationName:s}){if(!e||0===e.length)return null;const a=[];for(let l=0;l<e.length;l+=2)a.push(e.slice(l,l+2));const getBadgeStyle=e=>{const s=e.toLowerCase();return s.includes("pro")?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white border-none":s.includes("expert")?"bg-gray-200 text-gray-800 border-gray-300":s.includes("trust")?"bg-amber-700 text-white border-none":"bg-blue-100 text-blue-800 border-blue-200"};return u.jsxs("section",{className:"recommended-agencies w-full py-8","aria-labelledby":"recommended-agencies-title",children:[u.jsxs("header",{className:"section-header mb-6 container",children:[u.jsxs("h2",{id:"recommended-agencies-title",className:"text-xl md:text-2xl font-bold text-gray-900",children:["Recommended Agencies & Top Agents in ",s]}),u.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Top rated professionals in your area"})]}),u.jsx("div",{className:"agencies-carousel relative group/carousel",children:u.jsxs(Carousel,{opts:{align:"start",loop:!1},className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-4 pb-4 px-4",children:a.map((e,s)=>u.jsx(CarouselItem,{className:"pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/3",children:u.jsx("div",{className:"flex flex-col gap-4 h-full",children:e.map(e=>u.jsxs("article",{className:"agency-card bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md hover:border-blue-500 transition-all duration-300 overflow-hidden flex flex-row p-4 h-[160px] group box-border",children:[u.jsxs("div",{className:"agency-avatar w-[60px] flex-shrink-0 flex flex-col items-center justify-center gap-2 mr-4",children:[u.jsx("div",{className:"w-[60px] h-[60px] rounded-full border-2 border-gray-100 overflow-hidden p-1 bg-white shadow-sm",children:u.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"w-full h-full object-cover rounded-full",loading:"lazy"})}),e.badges.some(e=>e.includes("PRO"))&&u.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center text-white text-[10px] -mt-2 z-10 border-2 border-white",children:""})]}),u.jsxs("div",{className:"agency-info flex flex-col justify-between flex-1 min-w-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:e.badges.map((e,s)=>u.jsx(Badge,{variant:"outline",className:`text-[10px] px-1.5 py-0 rounded-full font-bold uppercase tracking-wider ${getBadgeStyle(e)}`,children:e},s))}),u.jsx("h3",{className:"agency-name font-bold text-lg text-gray-900 leading-tight mb-1 line-clamp-1 group-hover:text-[#005AA3] transition-colors",children:e.name}),u.jsx("p",{className:"agency-areas text-xs text-gray-500 mb-2 line-clamp-1",children:e.areas.join("  ")})]}),u.jsxs("div",{className:"flex flex-col gap-1 mt-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[u.jsx("span",{className:"text-[#DE3831] font-bold",children:e.experience})," ","Experience"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[u.jsx("span",{className:"font-bold",children:e.properties})," Properties Listed"]})]})]})]},e.id))})},s))}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx(CarouselPrevious,{className:"-left-4 lg:left-0 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 bg-white/95 shadow-lg border-gray-100 translate-x-1/2"}),u.jsx(CarouselNext,{className:"-right-4 lg:right-0 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 bg-white/95 shadow-lg border-gray-100 -translate-x-1/2"})]})]})})]})}function LocationTopLocalities({localities:e,locationName:s}){const[a,l]=useEmblaCarousel({align:"start",slidesToScroll:1,containScroll:"trimSnaps"}),c=re.useCallback(()=>{l&&l.scrollPrev()},[l]),p=re.useCallback(()=>{l&&l.scrollNext()},[l]);return e&&0!==e.length?u.jsx("section",{className:"py-16 bg-muted/30","aria-label":`Top localities in ${s}`,children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:["Top Localities in ",s]}),u.jsxs("p",{className:"text-muted-foreground text-lg max-w-2xl",children:["Discover the best neighbourhoods in ",s," known for liveability, infrastructure, and connectivity."]})]}),u.jsxs("div",{className:"relative group/carousel",children:[u.jsx("div",{className:"overflow-hidden rounded-xl",ref:a,children:u.jsx("div",{className:"flex gap-6",children:e.map((e,a)=>{const l=e.name.toLowerCase().replace(/\s+/g,"-"),c=`/${s.toLowerCase().replace(/\s+/g,"-")}/${l}`;return u.jsx("div",{className:"flex-[0_0_100%] min-w-0 sm:flex-[0_0_50%] lg:flex-[0_0_33.333%]",children:u.jsx(ea,{className:"hover:shadow-xl transition-all duration-300 border-0 bg-white/50 backdrop-blur-sm group h-full",children:u.jsxs(sa,{className:"p-6",children:[u.jsx(rc,{href:c,children:u.jsxs("div",{className:"flex items-start gap-4 mb-6 cursor-pointer",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center flex-shrink-0 shadow-lg shadow-teal-500/20 group-hover:scale-110 transition-transform duration-300",children:u.jsx(lo,{className:"h-8 w-8 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-900 group-hover:text-blue-600 transition-colors",children:e.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-0.5 rounded-md border border-yellow-100",children:[u.jsx(sl,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),u.jsx("span",{className:"font-bold text-yellow-700",children:e.rating})]}),u.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",e.reviews," Reviews)"]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 p-4 bg-gray-50/80 rounded-xl border border-gray-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1 font-medium uppercase tracking-wide",children:"Avg. Sale Price"}),u.jsxs("p",{className:"font-bold text-gray-900",children:["R ",e.avgSalePrice.toLocaleString(),u.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"/m"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1 font-medium uppercase tracking-wide",children:"Avg. Rental"}),u.jsxs("p",{className:"font-bold text-gray-900",children:["R ",e.avgRental,u.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"/m"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(rc,{href:`${c}?listingType=sale`,className:"flex items-center justify-between p-3 rounded-xl bg-white border border-gray-100 hover:border-blue-200 hover:shadow-md transition-all group/link",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-sm text-gray-900 group-hover/link:text-blue-600 transition-colors",children:[e.propertiesForSale.toLocaleString()," Properties for Sale"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["in ",e.name]})]}),u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-50 flex items-center justify-center group-hover/link:bg-blue-50 transition-colors",children:u.jsx(pa,{className:"h-4 w-4 text-gray-400 group-hover/link:text-blue-600 group-hover/link:translate-x-0.5 transition-all"})})]}),u.jsxs(rc,{href:`${c}?listingType=rent`,className:"flex items-center justify-between p-3 rounded-xl bg-white border border-gray-100 hover:border-blue-200 hover:shadow-md transition-all group/link",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-sm text-gray-900 group-hover/link:text-blue-600 transition-colors",children:[e.propertiesForRent.toLocaleString()," Properties for Rent"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["in ",e.name]})]}),u.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-50 flex items-center justify-center group-hover/link:bg-blue-50 transition-colors",children:u.jsx(pa,{className:"h-4 w-4 text-gray-400 group-hover/link:text-blue-600 group-hover/link:translate-x-0.5 transition-all"})})]})]})]})})},a)})})}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 rounded-full shadow-lg z-10 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-blue-900",onClick:c,children:u.jsx(Ra,{className:"h-5 w-5"})}),u.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 rounded-full shadow-lg z-10 opacity-0 group-hover/carousel:opacity-100 transition-all duration-300 hover:scale-110 bg-white/90 hover:bg-white text-blue-900",onClick:p,children:u.jsx(Fa,{className:"h-5 w-5"})})]})]}),u.jsx("div",{className:"mt-8 text-center md:text-left",children:u.jsxs(rc,{href:`/properties/for-sale/property/${s.toLowerCase().replace(/\s+/g,"-")}`,className:"inline-flex items-center gap-2 text-blue-600 font-semibold hover:text-blue-700 hover:underline transition-colors",children:["View all localities in ",s,u.jsx(pa,{className:"h-4 w-4"})]})})]})}):null}function TrendingSuburbsCarousel({suburbs:e,provinceName:s,provinceSlug:a}){const[l,c]=useEmblaCarousel({align:"start",slidesToScroll:2,containScroll:"trimSnaps",dragFree:!0}),p=re.useCallback(()=>{c&&c.scrollPrev()},[c]),m=re.useCallback(()=>{c&&c.scrollNext()},[c]);return e&&0!==e.length?u.jsxs("section",{className:"py-12 w-full","aria-label":`Trending suburbs in ${s}`,children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Trending Suburbs in ",s]}),u.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[u.jsx(Button$1,{variant:"outline",size:"icon",className:"rounded-full h-10 w-10 border-slate-200 hover:border-blue-300 hover:bg-blue-50",onClick:p,children:u.jsx(Ra,{className:"h-5 w-5 text-slate-600"})}),u.jsx(Button$1,{variant:"outline",size:"icon",className:"rounded-full h-10 w-10 border-slate-200 hover:border-blue-300 hover:bg-blue-50",onClick:m,children:u.jsx(Fa,{className:"h-5 w-5 text-slate-600"})})]})]}),u.jsxs("div",{className:"relative group/carousel",children:[u.jsx("div",{className:"overflow-hidden",ref:l,children:u.jsx("div",{className:"flex gap-4",children:e.map(e=>u.jsx("div",{className:"flex-[0_0_85%] min-w-0 sm:flex-[0_0_45%] md:flex-[0_0_30%] lg:flex-[0_0_20%] xl:flex-[0_0_16.666%]",children:u.jsx("a",{href:`/${a}/${e.citySlug}/${e.slug}`,className:"block rounded-2xl border border-slate-100 bg-white shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group p-5 h-full",children:u.jsxs("div",{className:"flex flex-col h-full justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-slate-900 mb-1 group-hover:text-blue-600 transition-colors flex items-center justify-between",children:[e.name,u.jsx(pa,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0 text-blue-600"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 mb-4",children:[u.jsx("div",{className:"p-1 rounded-full bg-slate-100 group-hover:bg-blue-50 transition-colors",children:u.jsx(lo,{className:"h-3 w-3 text-slate-400 group-hover:text-blue-500"})}),u.jsx("span",{children:e.cityName})]})]}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide font-medium",children:"Listings"}),u.jsx("span",{className:"font-bold text-slate-700 bg-slate-50 px-2 py-0.5 rounded-md group-hover:bg-blue-50 group-hover:text-blue-700 transition-colors",children:e.listingCount||0})]})]})})},e.id))})}),u.jsx("div",{className:"flex md:hidden justify-center mt-4 gap-1",children:u.jsx("span",{className:"text-xs text-slate-400",children:"Swipe to explore more "})})]})]}):null}function ProvincePage({params:e}){useLocation();const s=e.province,{data:a,isLoading:l,error:c}=At.locationPages.getProvinceData.useQuery({provinceSlug:s}),{data:p}=At.locationPages.getHeroCampaign.useQuery({locationSlug:s,fallbacks:[]});if(l)return u.jsx(ProvincePageSkeleton,{});if(c||!a)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-fluid-h3 font-bold mb-2",children:"Location Not Found"}),u.jsx("p",{className:"text-slate-500",children:"We couldn't find the province you're looking for."})]})});const{province:m,cities:h,featuredDevelopments:f,trendingSuburbs:g,stats:b,topDevelopers:j,investmentProjects:N,recommendedAgencies:k,topLocalities:_}=a;return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(MetaControl,{}),u.jsxs(wr,{children:[u.jsxs("title",{children:["Property for Sale in ",m.name," | Real Estate Portal"]}),u.jsx("meta",{name:"description",content:`Find the best properties for sale in ${m.name}. Browse ${b.totalListings} listings, including houses, apartments, and developments.`})]}),u.jsx(LocationSchema,{type:"Province",name:m.name,description:`Real estate in ${m.name}`,url:`/${s}`,breadcrumbs:[{name:"Home",url:"/"},{name:m.name,url:`/${s}`}],stats:b,image:"https://images.unsplash.com/photo-1577931767667-0c58e744d081?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",geo:m.latitude&&m.longitude?{latitude:Number(m.latitude),longitude:Number(m.longitude)}:void 0}),u.jsx(LocationPageLayout,{locationName:m.name,locationSlug:s,locationType:"province",heroImage:"/images/province-hero.jpg",banner:u.jsx(LocationHeroSection,{locationName:m.name,locationSlug:s,locationType:"province",locationId:m.id,backgroundImage:"https://images.unsplash.com/photo-1577931767667-0c58e744d081?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",listingCount:b.totalListings,campaign:p,quickLinks:h?.slice(0,10).map(e=>({label:e.name,slug:e.slug}))||[]}),searchStage:null,featuredProperties:u.jsx(FeaturedPropertiesCarousel,{locationId:m.id,locationName:m.name,locationScope:"province"}),propertyCategories:u.jsx(PropertyCategories,{preselectedLocation:{name:m.name,slug:s,provinceSlug:s,type:"province"}}),highDemandDevelopments:f&&f.length>0?u.jsx(TabbedListingSection,{title:`Hot Selling Developments in ${m.name}`,description:`Discover popular residential developments across top cities in ${m.name}.`,tabs:h.map(e=>({label:e.name,value:e.slug})),items:f,renderItem:e=>u.jsx(SimpleDevelopmentCard,{id:e.id.toString(),title:e.title,city:e.cityName||m.name,priceRange:{min:Number(e.priceFrom),max:Number(e.priceTo)||Number(e.priceFrom)},image:e.image||e.images?.[0]||"https://placehold.co/600x400/e2e8f0/64748b?text=Development",isHotSelling:!0}),filterItem:(e,s)=>e.citySlug===s,viewAllLink:e=>`/${s}/${e}`,viewAllText:"Explore Developments in",emptyMessage:"No featured developments in this city right now."}):void 0,propertyTypeExplorer:void 0,topLocalitiesShowcase:_&&_.length>0?u.jsx(LocationTopLocalities,{localities:_,locationName:m.name}):void 0,exploreMore:u.jsx(DiscoverProperties,{initialCity:h?.[0]?.name,availableCities:h?.map(e=>e.name),locationName:m.name}),developerShowcase:j&&j.length>0?u.jsx(TopDevelopersCarousel,{developers:j,locationName:m.name}):void 0,investmentShowcase:N&&N.length>0?u.jsx(HighDemandProjectsCarousel,{projects:N,locationName:m.name}):void 0,agencyShowcase:k&&k.length>0?u.jsx(RecommendedAgenciesCarousel,{agencies:k,locationName:m.name}):void 0,buyerCTA:u.jsxs("div",{className:"py-8 text-center bg-blue-50 rounded-lg mx-4 md:mx-0",children:[u.jsxs("h3",{className:"text-fluid-h4 font-bold mb-2",children:["Looking for property in ",m.name,"?"]}),u.jsx("p",{className:"mb-4 text-slate-600",children:"Get alerts for new properties matching your criteria."}),u.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700",children:"Set Property Alert"})]}),popularLocations:u.jsx(ExploreCities,{basePath:"/property-for-sale",queryParams:"?view=list",title:`Explore Popular Cities in ${m.name}`,description:`Find high-end residences and investment opportunities in top cities across ${m.name}.`,customLocations:h?.map(e=>({name:e.name,province:m.name,slug:e.slug,provinceSlug:s,propertyCount:e.listingCount?`${e.listingCount.toLocaleString()}+ Properties`:void 0}))||[]}),fullWidthSection:g&&g.length>0?u.jsx(TrendingSuburbsCarousel,{suburbs:g,provinceName:m.name,provinceSlug:s}):null,sidebarContent:u.jsx(SEOTextBlock,{title:`About Real Estate in ${m.name}`,locationName:m.name,locationType:"province",stats:b,content:m.description||void 0}),finalCTA:u.jsx(FinalCTA,{locationName:m.name,provinceSlug:s})})]})}function ProvincePageSkeleton(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"h-[400px] bg-slate-200 animate-pulse"}),u.jsxs("div",{className:"container py-8 space-y-8",children:[u.jsx(Skeleton,{className:"h-12 w-full max-w-2xl"}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"})]})]})]})}function SimilarLocations({locations:e,currentLocationName:s,isLoading:a}){if(a)return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Similar Locations"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>u.jsxs(ea,{className:"animate-pulse",children:[u.jsxs(ta,{children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})})]},e))})]});if(0===e.length)return null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Similar Locations"}),u.jsxs("p",{className:"text-gray-600",children:["Explore areas similar to ",s," based on price range, property types, and market activity"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>{const s=(a=e.similarityScore)>=.8?{label:"Very Similar",color:"bg-green-100 text-green-800"}:a>=.7?{label:"Similar",color:"bg-blue-100 text-blue-800"}:{label:"Somewhat Similar",color:"bg-gray-100 text-gray-800"};var a;const l=(e=>{const s=["/south-africa"];return e.provinceName&&s.push(e.provinceName.toLowerCase().replace(/\s+/g,"-")),e.cityName&&s.push(e.cityName.toLowerCase().replace(/\s+/g,"-")),"suburb"===e.type&&s.push(e.slug),s.join("/")})(e);return u.jsx(rc,{href:l,children:u.jsxs(ea,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(ra,{className:"text-lg mb-1",children:e.name}),u.jsxs(na,{className:"flex items-center gap-1 text-sm",children:[u.jsx(lo,{className:"h-3 w-3"}),e.cityName&&u.jsx("span",{children:e.cityName}),e.cityName&&e.provinceName&&u.jsx("span",{children:", "}),e.provinceName&&u.jsx("span",{children:e.provinceName})]})]}),u.jsx(Badge,{className:s.color,variant:"secondary",children:s.label})]})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(ii,{className:"h-4 w-4"}),u.jsx("span",{children:"Avg Price"})]}),u.jsx("span",{className:"font-semibold",children:(c=e.avgPrice,c?new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(c):"N/A")})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Bi,{className:"h-4 w-4"}),u.jsx("span",{children:"Active Listings"})]}),u.jsx("span",{className:"font-semibold",children:e.listingCount})]}),e.propertyTypes.length>0&&u.jsxs("div",{className:"pt-2 border-t",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(fl,{className:"h-4 w-4 text-gray-600"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Property Types"})]}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.propertyTypes.slice(0,3).map(e=>u.jsx(Badge,{variant:"outline",className:"text-xs",children:e},e)),e.propertyTypes.length>3&&u.jsxs(Badge,{variant:"outline",className:"text-xs",children:["+",e.propertyTypes.length-3," more"]})]})]}),u.jsxs("div",{className:"pt-2 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsx("span",{children:"Match Score"}),u.jsxs("span",{className:"font-medium",children:[Math.round(100*e.similarityScore),"%"]})]}),u.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:100*e.similarityScore+"%"}})})]})]})]})},e.id);var c})})]})}function useSimilarLocations({locationId:e,limit:s=5,enabled:a=!0}){return useQuery({queryKey:["similar-locations",e,s],queryFn:async()=>{const a=await fetch(`/api/locations/${e}/similar?limit=${s}`);if(!a.ok)throw new Error("Failed to fetch similar locations");return a.json()},enabled:a&&e>0,staleTime:18e5,gcTime:36e5})}function FeaturedDevelopers({locationType:e,locationId:s,locationName:a}){const{data:l,isLoading:c}=At.monetization.getFeaturedDevelopers.useQuery({locationType:e,locationId:s});return c?null:l&&0!==l.length?u.jsx("div",{className:"py-12 bg-slate-50",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-600 justify-start",children:[u.jsx(ka,{className:"h-5 w-5"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Trusted Partners"})]}),u.jsx("h2",{className:"text-3xl font-bold text-slate-900 text-left",children:"Developer Showcase"}),u.jsxs("p",{className:"text-slate-500 mt-2 max-w-2xl text-left",children:["Leading developers building quality homes in ",a]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(e=>u.jsx(rc,{href:`/developer/${e.slug}`,children:u.jsx(ea,{className:"hover:shadow-lg transition-all cursor-pointer group h-full border-transparent hover:border-primary/20",children:u.jsxs(sa,{className:"p-6 flex flex-col items-start text-left h-full justify-start",children:[u.jsx("div",{className:"w-24 h-24 mb-4 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-100 group-hover:border-primary/20 transition-colors",children:e.logo?u.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full object-contain p-2"}):u.jsx(ka,{className:"h-10 w-10 text-slate-400"})}),u.jsx("h3",{className:"font-semibold text-lg text-slate-900 group-hover:text-primary transition-colors",children:e.name}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-wide",children:"Premier Developer"})]})})},e.id))})]})}):null}function RecommendedAgents({locationType:e,locationId:s}){const{data:a,isLoading:l}=At.monetization.getRecommendedAgents.useQuery({locationType:e,locationId:s});return l?null:a&&0!==a.length?u.jsx("div",{className:"py-12 bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-green-600",children:[u.jsx(Sl,{className:"h-5 w-5"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Local Experts"})]}),u.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Recommended Agents"}),u.jsx("p",{className:"text-slate-500 mt-2 max-w-2xl",children:"Trusted property professionals active in this area"})]}),u.jsx(rc,{href:"/agents",children:u.jsx(Button$1,{variant:"outline",size:"sm",children:"View All Agents"})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(e=>u.jsx(rc,{href:`/agent/${e.id}`,children:u.jsx(ea,{className:"hover:shadow-lg transition-all cursor-pointer group border-slate-200",children:u.jsxs(sa,{className:"p-0",children:[u.jsxs("div",{className:"relative h-48 bg-slate-100 overflow-hidden rounded-t-xl",children:[e.profileImage?u.jsx("img",{src:e.profileImage,alt:`${e.firstName} ${e.lastName}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:u.jsx(Sl,{className:"h-20 w-20 text-slate-300"})}),u.jsx("div",{className:"absolute top-3 left-3",children:u.jsxs(Badge,{className:"bg-white/90 text-slate-900 hover:bg-white shadow-sm flex items-center gap-1",children:[u.jsx(sl,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),e.rating?(e.rating/20).toFixed(1):"5.0"]})}),e.agency?.logo&&u.jsx("div",{className:"absolute bottom-3 right-3 bg-white p-1 rounded shadow-sm opacity-90",children:u.jsx("img",{src:e.agency.logo,alt:e.agency.name,className:"h-6 w-auto object-contain"})})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-slate-900 flex items-center gap-2 group-hover:text-primary transition-colors",children:[e.firstName," ",e.lastName,u.jsx(xa,{className:"h-4 w-4 text-blue-500"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:e.agency?.name||"Independent Agent"})]})}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 mt-4 pt-4 border-t border-slate-100",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-slate-900 block",children:e.totalSales||0}),u.jsx("span",{className:"text-xs",children:"Sold"})]}),u.jsx("div",{className:"h-8 w-px bg-slate-100"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-slate-900 block",children:"Verified"}),u.jsx("span",{className:"text-xs",children:"Status"})]}),u.jsx("div",{className:"ml-auto",children:u.jsx(Button$1,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full bg-primary/10 text-primary hover:bg-primary/20",children:u.jsx(Eo,{className:"h-4 w-4"})})})]})]})]})})},e.id))})]})}):null}var Eb="Collapsible",[Ab,Mb]=createContextScope(Eb),[Lb,Db]=Ab(Eb),Ob=re.forwardRef((e,s)=>{const{__scopeCollapsible:a,open:l,defaultOpen:c,disabled:p,onOpenChange:m,...h}=e,[f,g]=useControllableState({prop:l,defaultProp:c??!1,onChange:m,caller:Eb});return u.jsx(Lb,{scope:a,disabled:p,contentId:useId(),open:f,onOpenToggle:re.useCallback(()=>g(e=>!e),[g]),children:u.jsx(tn.div,{"data-state":getState$4(f),"data-disabled":p?"":void 0,...h,ref:s})})});Ob.displayName=Eb;var Ib="CollapsibleTrigger",$b=re.forwardRef((e,s)=>{const{__scopeCollapsible:a,...l}=e,c=Db(Ib,a);return u.jsx(tn.button,{type:"button","aria-controls":c.contentId,"aria-expanded":c.open||!1,"data-state":getState$4(c.open),"data-disabled":c.disabled?"":void 0,disabled:c.disabled,...l,ref:s,onClick:composeEventHandlers(e.onClick,c.onOpenToggle)})});$b.displayName=Ib;var Rb="CollapsibleContent",Fb=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=Db(Rb,e.__scopeCollapsible);return u.jsx(Presence,{present:a||c.open,children:({present:e})=>u.jsx(Bb,{...l,ref:s,present:e})})});Fb.displayName=Rb;var Bb=re.forwardRef((e,s)=>{const{__scopeCollapsible:a,present:l,children:c,...p}=e,m=Db(Rb,a),[h,f]=re.useState(l),g=re.useRef(null),b=useComposedRefs$1(s,g),j=re.useRef(0),N=j.current,k=re.useRef(0),_=k.current,T=m.open||h,E=re.useRef(T),A=re.useRef(void 0);return re.useEffect(()=>{const e=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(e)},[]),pn(()=>{const e=g.current;if(e){A.current=A.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const s=e.getBoundingClientRect();j.current=s.height,k.current=s.width,E.current||(e.style.transitionDuration=A.current.transitionDuration,e.style.animationName=A.current.animationName),f(l)}},[m.open,l]),u.jsx(tn.div,{"data-state":getState$4(m.open),"data-disabled":m.disabled?"":void 0,id:m.contentId,hidden:!T,...p,ref:b,style:{"--radix-collapsible-content-height":N?`${N}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style},children:T&&c})});function getState$4(e){return e?"open":"closed"}var zb=Ob,Vb=$b,Ub=Fb,Hb="Accordion",qb=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Wb,Zb,Kb]=createCollection(Hb),[Gb]=createContextScope(Hb,[Kb,Mb]),Yb=Mb(),Qb=ae.forwardRef((e,s)=>{const{type:a,...l}=e,c=l,p=l;return u.jsx(Wb.Provider,{scope:e.__scopeAccordion,children:"multiple"===a?u.jsx(nj,{...p,ref:s}):u.jsx(rj,{...c,ref:s})})});Qb.displayName=Hb;var[Xb,Jb]=Gb(Hb),[ej,tj]=Gb(Hb,{collapsible:!1}),rj=ae.forwardRef((e,s)=>{const{value:a,defaultValue:l,onValueChange:c=()=>{},collapsible:p=!1,...m}=e,[h,f]=useControllableState({prop:a,defaultProp:l??"",onChange:c,caller:Hb});return u.jsx(Xb,{scope:e.__scopeAccordion,value:ae.useMemo(()=>h?[h]:[],[h]),onItemOpen:f,onItemClose:ae.useCallback(()=>p&&f(""),[p,f]),children:u.jsx(ej,{scope:e.__scopeAccordion,collapsible:p,children:u.jsx(ij,{...m,ref:s})})})}),nj=ae.forwardRef((e,s)=>{const{value:a,defaultValue:l,onValueChange:c=()=>{},...p}=e,[m,h]=useControllableState({prop:a,defaultProp:l??[],onChange:c,caller:Hb}),f=ae.useCallback(e=>h((s=[])=>[...s,e]),[h]),g=ae.useCallback(e=>h((s=[])=>s.filter(s=>s!==e)),[h]);return u.jsx(Xb,{scope:e.__scopeAccordion,value:m,onItemOpen:f,onItemClose:g,children:u.jsx(ej,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(ij,{...p,ref:s})})})}),[sj,aj]=Gb(Hb),ij=ae.forwardRef((e,s)=>{const{__scopeAccordion:a,disabled:l,dir:c,orientation:p="vertical",...m}=e,h=useComposedRefs$1(ae.useRef(null),s),f=Zb(a),g="ltr"===useDirection(c),b=composeEventHandlers(e.onKeyDown,e=>{if(!qb.includes(e.key))return;const s=e.target,a=f().filter(e=>!e.ref.current?.disabled),l=a.findIndex(e=>e.ref.current===s),c=a.length;if(-1===l)return;e.preventDefault();let u=l;const m=c-1,moveNext=()=>{u=l+1,u>m&&(u=0)},movePrev=()=>{u=l-1,u<0&&(u=m)};switch(e.key){case"Home":u=0;break;case"End":u=m;break;case"ArrowRight":"horizontal"===p&&(g?moveNext():movePrev());break;case"ArrowDown":"vertical"===p&&moveNext();break;case"ArrowLeft":"horizontal"===p&&(g?movePrev():moveNext());break;case"ArrowUp":"vertical"===p&&movePrev()}const h=u%c;a[h].ref.current?.focus()});return u.jsx(sj,{scope:a,disabled:l,direction:c,orientation:p,children:u.jsx(Wb.Slot,{scope:a,children:u.jsx(tn.div,{...m,"data-orientation":p,ref:h,onKeyDown:l?void 0:b})})})}),oj="AccordionItem",[lj,cj]=Gb(oj),dj=ae.forwardRef((e,s)=>{const{__scopeAccordion:a,value:l,...c}=e,p=aj(oj,a),m=Jb(oj,a),h=Yb(a),f=useId(),g=l&&m.value.includes(l)||!1,b=p.disabled||e.disabled;return u.jsx(lj,{scope:a,open:g,disabled:b,triggerId:f,children:u.jsx(zb,{"data-orientation":p.orientation,"data-state":getState$3(g),...h,...c,ref:s,disabled:b,open:g,onOpenChange:e=>{e?m.onItemOpen(l):m.onItemClose(l)}})})});dj.displayName=oj;var uj="AccordionHeader",pj=ae.forwardRef((e,s)=>{const{__scopeAccordion:a,...l}=e,c=aj(Hb,a),p=cj(uj,a);return u.jsx(tn.h3,{"data-orientation":c.orientation,"data-state":getState$3(p.open),"data-disabled":p.disabled?"":void 0,...l,ref:s})});pj.displayName=uj;var mj="AccordionTrigger",hj=ae.forwardRef((e,s)=>{const{__scopeAccordion:a,...l}=e,c=aj(Hb,a),p=cj(mj,a),m=tj(mj,a),h=Yb(a);return u.jsx(Wb.ItemSlot,{scope:a,children:u.jsx(Vb,{"aria-disabled":p.open&&!m.collapsible||void 0,"data-orientation":c.orientation,id:p.triggerId,...h,...l,ref:s})})});hj.displayName=mj;var fj="AccordionContent",gj=ae.forwardRef((e,s)=>{const{__scopeAccordion:a,...l}=e,c=aj(Hb,a),p=cj(fj,a),m=Yb(a);return u.jsx(Ub,{role:"region","aria-labelledby":p.triggerId,"data-orientation":c.orientation,...m,...l,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function getState$3(e){return e?"open":"closed"}gj.displayName=fj;var xj=Qb,vj=dj,yj=pj,bj=hj,jj=gj;function Accordion({...e}){return u.jsx(xj,{"data-slot":"accordion",...e})}function AccordionItem({className:e,...s}){return u.jsx(vj,{"data-slot":"accordion-item",className:cn("border-b last:border-b-0",e),...s})}function AccordionTrigger({className:e,children:s,...a}){return u.jsx(yj,{className:"flex",children:u.jsxs(bj,{"data-slot":"accordion-trigger",className:cn("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...a,children:[s,u.jsx($a,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function AccordionContent({className:e,children:s,...a}){return u.jsx(jj,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:u.jsx("div",{className:cn("pt-0 pb-4",e),children:s})})}function LocationRefinement({context:e}){return useLocation(),e&&e.ids?"province"===e.type?u.jsx(RefineProvince,{context:e}):"city"===e.type?u.jsx(RefineCity,{context:e}):"suburb"===e.type?u.jsx(RefineSuburb,{context:e}):null:null}function RefineProvince({context:e}){const{data:s,isLoading:a}=At.location.getLocationHierarchy.useQuery({depth:"city",provinceId:e.ids?.provinceId}),[l,c]=useLocation();if(a)return u.jsx(RefinementSkeleton,{});if(!s||0===s.length)return null;const p=re.useMemo(()=>[...s].sort((e,s)=>e.isMetro&&!s.isMetro?-1:!e.isMetro&&s.isMetro?1:e.name.localeCompare(s.name)).slice(0,10),[s]);return u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-blue-600"}),"Explore Cities in ",e.name]}),u.jsx("div",{className:"flex flex-col gap-1",children:p.map(e=>u.jsx(Button$1,{variant:"ghost",className:"justify-between h-8 px-2 text-sm font-normal text-slate-600 hover:text-blue-600 hover:bg-blue-50",onClick:()=>c(`/property-for-sale?city=${e.slug||e.name.toLowerCase().replace(/ /g,"-")}`),children:e.name},e.id))})]})}function RefineCity({context:e}){const{data:s,isLoading:a}=At.location.getLocationHierarchy.useQuery({depth:"suburb",cityId:e.ids?.cityId}),[l,c]=useLocation();if(a)return u.jsx(RefinementSkeleton,{});if(!s||0===s.length)return null;const p=s.slice(0,8);return u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-blue-600"}),"Popular Areas in ",e.name]}),u.jsx("div",{className:"flex flex-col gap-1",children:p.map(e=>u.jsxs(Button$1,{variant:"ghost",className:"justify-between h-8 px-2 text-sm font-normal text-slate-600 hover:text-blue-600 hover:bg-blue-50",onClick:()=>c(`/property-for-sale?suburb=${e.slug||e.name.toLowerCase().replace(/ /g,"-")}`),children:[e.name,u.jsx(pa,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]},e.id))})]})}function RefineSuburb({context:e}){const{data:s,isLoading:a}=At.location.getLocationHierarchy.useQuery({depth:"suburb",cityId:e.ids?.cityId}),[l,c]=useLocation();if(a)return u.jsx(RefinementSkeleton,{});if(!s||0===s.length)return null;const p=s.filter(s=>s.id!==e.ids?.suburbId).slice(0,8);return u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-md border border-blue-100",children:[u.jsx("span",{className:"text-xs text-blue-600 uppercase font-bold tracking-wider",children:"Current Area"}),u.jsx("div",{className:"font-bold text-slate-900 text-lg leading-tight mt-1",children:e.name}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["in ",e.hierarchy.city]})]}),u.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3 ml-1",children:"Verified Neighbouring Areas"}),u.jsx("div",{className:"flex flex-col gap-1",children:p.map(e=>u.jsx(Button$1,{variant:"ghost",className:"justify-start h-8 px-2 text-sm font-normal text-slate-600 hover:text-blue-600 hover:bg-blue-50",onClick:()=>c(`/property-for-sale?suburb=${e.slug||e.name.toLowerCase().replace(/ /g,"-")}`),children:e.name},e.id))})]})}function RefinementSkeleton(){return u.jsxs("div",{className:"mb-6 space-y-2",children:[u.jsx(Skeleton,{className:"h-5 w-32"}),u.jsx(Skeleton,{className:"h-8 w-full"}),u.jsx(Skeleton,{className:"h-8 w-full"}),u.jsx(Skeleton,{className:"h-8 w-full"})]})}const wj=["Pool","Gym","Garden","Security","Parking","Balcony","Pet Friendly","Furnished","Air Conditioning","Wi-Fi"];function SidebarFilters({filters:e,locationContext:s,onFilterChange:a,onSaveSearch:l}){const[c,p]=re.useState([e.minPrice||0,e.maxPrice||5e7]),[m,h]=re.useState([0,5e3]);re.useEffect(()=>{void 0===e.minPrice&&void 0===e.maxPrice||p([e.minPrice||0,e.maxPrice||5e7])},[e.minPrice,e.maxPrice]);const handleCheckboxFilterChange=(s,l,c)=>{const u=e[s]||[];let p;p=c?[...u,l]:u.filter(e=>e!==l),a({...e,[s]:p.length>0?p:void 0})};return u.jsxs("div",{className:"w-full bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[u.jsx(LocationRefinement,{context:s}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Filters"}),u.jsxs("div",{className:"flex gap-2",children:[l&&u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:l,children:"Save"}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 h-auto p-0 text-xs font-medium",onClick:()=>a({}),children:"Reset all"})]})]}),u.jsxs(Accordion,{type:"multiple",defaultValue:["budget","type","bedrooms"],className:"w-full",children:[u.jsxs(AccordionItem,{value:"budget",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Budget"}),u.jsx(AccordionContent,{children:u.jsxs("div",{className:"px-2 pt-2 pb-6",children:[u.jsx(Slider,{defaultValue:[0,5e7],value:[c[0],c[1]],max:5e7,step:1e5,min:0,onValueChange:e=>{p([e[0],e[1]])},onValueCommit:s=>{a({...e,minPrice:s[0],maxPrice:s[1]})},className:"mb-4"}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:formatCurrency(c[0])}),u.jsx("span",{children:formatCurrency(c[1])})]})]})})]}),u.jsxs(AccordionItem,{value:"type",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Type of property"}),u.jsx(AccordionContent,{children:u.jsx("div",{className:"space-y-3 pt-2",children:["Apartment","House","Villa","Office","Plot"].map(s=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`type-${s}`,checked:e.propertyType===s.toLowerCase(),onCheckedChange:l=>((s,l)=>{if(l)a({...e,propertyType:s});else{const{propertyType:s,...l}=e;a(l)}})(s.toLowerCase(),l)}),u.jsx(Label$1,{htmlFor:`type-${s}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer text-slate-600",children:s})]},s))})})]}),u.jsxs(AccordionItem,{value:"bedrooms",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"No. of Bedrooms"}),u.jsx(AccordionContent,{children:u.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:[1,2,3,4,5].map(s=>u.jsxs(Button$1,{variant:e.minBedrooms===s?"default":"outline",size:"sm",className:"rounded-full w-10 h-10 p-0 "+(e.minBedrooms===s?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"text-slate-600 border-slate-200 hover:border-blue-400 hover:text-blue-600"),onClick:()=>(s=>{if(e.minBedrooms===s){const{minBedrooms:s,...l}=e;a(l)}else a({...e,minBedrooms:s})})(s),children:[s,5===s?"+":""]},s))})})]}),u.jsxs(AccordionItem,{value:"possession",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Possession Status"}),u.jsx(AccordionContent,{children:u.jsx("div",{className:"space-y-3 pt-2",children:["Ready to move","Under construction"].map(s=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`status-${s}`,checked:e.possessionStatus?.includes(s),onCheckedChange:e=>handleCheckboxFilterChange("possessionStatus",s,e)}),u.jsx(Label$1,{htmlFor:`status-${s}`,className:"text-sm font-medium leading-none cursor-pointer text-slate-600",children:s})]},s))})})]}),u.jsxs(AccordionItem,{value:"postedBy",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Posted by"}),u.jsx(AccordionContent,{children:u.jsx("div",{className:"space-y-3 pt-2",children:["Owner","Dealer","Builder"].map(s=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`poster-${s}`,checked:e.postedBy?.includes(s),onCheckedChange:e=>handleCheckboxFilterChange("postedBy",s,e)}),u.jsx(Label$1,{htmlFor:`poster-${s}`,className:"text-sm font-medium leading-none cursor-pointer text-slate-600",children:s})]},s))})})]}),u.jsxs(AccordionItem,{value:"amenities",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Amenities"}),u.jsx(AccordionContent,{children:u.jsx("div",{className:"space-y-3 pt-2",children:wj.map(s=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`amenity-${s}`,checked:e.amenities?.includes(s),onCheckedChange:e=>handleCheckboxFilterChange("amenities",s,e)}),u.jsx(Label$1,{htmlFor:`amenity-${s}`,className:"text-sm font-medium leading-none cursor-pointer text-slate-600",children:s})]},s))})})]}),u.jsxs(AccordionItem,{value:"area",children:[u.jsx(AccordionTrigger,{className:"text-sm font-bold text-slate-700 hover:no-underline",children:"Area Size (sq ft)"}),u.jsx(AccordionContent,{children:u.jsxs("div",{className:"px-2 pt-2 pb-6",children:[u.jsx(Slider,{defaultValue:[0,5e3],value:[m[0],m[1]],max:5e3,step:100,onValueChange:e=>{h([e[0],e[1]])},onValueCommit:s=>{a({...e,minArea:s[0],maxArea:s[1]})},className:"mb-4"}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsxs("span",{children:[m[0]," sq ft"]}),u.jsxs("span",{children:[m[1],"+ sq ft"]})]})]})})]})]})]})}const PropertyCardList=({id:e,title:s,price:a,location:l,image:c,description:p,bedrooms:m,bathrooms:h,area:f,yardSize:g,propertyType:b,listingType:j,status:N="Ready to Move",floor:k,transactionType:_="New Booking",onFavoriteClick:T,agent:E,badges:A,imageCount:L=15,videoCount:O=2,highlights:I})=>{const[,$]=useLocation(),{addToComparison:z,removeFromComparison:U,isInComparison:H,canAddMore:q}=useComparison(),Z="object"==typeof c&&"medium"in c,Y=parseInt(e),X=H(Y);return u.jsxs("div",{className:"group relative bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col md:flex-row h-auto max-w-[840px] cursor-pointer",onClick:()=>$(`/property/${e}`),children:[u.jsxs("div",{className:"relative w-full md:w-[40%] h-56 md:h-auto md:aspect-square shrink-0 overflow-hidden",children:[Z?u.jsx(OptimizedImageCard,{images:c,alt:s,aspectRatio:"1/1",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}):u.jsx("img",{src:c,alt:s,loading:"lazy",onError:e=>{const s=e.target;s.onerror=null,s.src="https://placehold.co/600x400/e2e8f0/64748b?text=No+Image"},className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[b&&u.jsx(Badge,{className:"bg-white/90 backdrop-blur-sm hover:bg-white text-slate-700 border-0",children:b}),A?.map((e,s)=>u.jsx(Badge,{className:"bg-blue-600/90 backdrop-blur-sm hover:bg-blue-600 text-white border-0",children:e},s))]}),u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",className:"rounded-full backdrop-blur-sm h-9 w-9 border transition-all "+(X?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"bg-black/30 hover:bg-black/50 text-white border-white/20"),onClick:e=>{e.stopPropagation(),X?U(Y):z(Y)},disabled:!X&&!q,title:X?"Remove from comparison":"Add to comparison",children:X?u.jsx(Ia,{className:"h-5 w-5"}):u.jsx(Mo,{className:"h-5 w-5"})}),T&&u.jsx(Button$1,{variant:"ghost",size:"icon",className:"rounded-full bg-black/30 hover:bg-black/50 text-white backdrop-blur-sm h-9 w-9 border border-white/20",onClick:e=>{e.stopPropagation(),T()},children:u.jsx($i,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[L>0&&u.jsxs("div",{className:"bg-black/60 text-white text-xs px-2 py-1 rounded flex items-center gap-1.5 backdrop-blur-sm",children:[u.jsx(zi,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"font-medium",children:L})]}),O>0&&u.jsxs("div",{className:"bg-black/60 text-white text-xs px-2 py-1 rounded flex items-center gap-1.5 backdrop-blur-sm",children:[u.jsx(Wa,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"font-medium",children:O})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-blue-600 transition-colors mb-1 line-clamp-2",children:s}),u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 text-sm mb-4",children:[u.jsx(lo,{className:"h-4 w-4 text-slate-400"}),u.jsx("span",{children:l})]}),u.jsx("div",{className:"text-xl font-bold text-[#1e1b4b]",children:formatCurrency(a)})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-700 mb-4 flex-wrap",children:[f&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(Bi,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:["Size ",f.toLocaleString()," m",(()=>{const e=b?.toLowerCase();return"commercial"===e?" (Floor)":""})()]})]}),m&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(ja,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[m," Bed"]})]}),h&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(ya,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[h," Bath"]})]}),(()=>{const e=b?.toLowerCase();return"house"===e||"plot"===e||"farm"===e})()&&g&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(nl,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{className:"font-medium",children:[(()=>{const e=b?.toLowerCase();return"plot"===e||"farm"===e?"Land":"Yard"})()," ",g.toLocaleString()," m"]})]})]}),I&&I.length>0&&u.jsx("div",{className:"mb-3",children:u.jsx(ResponsiveHighlights,{items:I})}),p&&u.jsx("p",{className:"text-slate-500 text-sm leading-relaxed line-clamp-2 mb-3",children:p})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-auto",children:[u.jsx("div",{className:"flex items-center gap-3",children:E?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 overflow-hidden border border-slate-200",children:E.image?u.jsx("img",{src:E.image,alt:E.name,className:"h-full w-full object-cover"}):u.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-200 text-slate-500 text-xs font-bold",children:E.name.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-900",children:E.name}),u.jsx("div",{className:"text-[10px] text-slate-500",children:"Featured Agent"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 overflow-hidden border border-slate-200",children:u.jsx("img",{src:"/assets/agent-placeholder.jpg",alt:"Dealer",className:"h-full w-full object-cover"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-900",children:"Luxury Estates"}),u.jsx("div",{className:"text-[10px] text-slate-500",children:"Featured Dealer"})]})]})}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Button$1,{className:"bg-blue-600 hover:bg-blue-700 text-white h-9 px-4 text-sm font-medium shadow-sm hover:shadow transition-all",onClick:e=>{e.stopPropagation()},children:"Contact Agent"})})]})]})]})};function formatPrice(e){return e>=1e6?`R${(e/1e6).toFixed(1)}M`:e>=1e3?`R${(e/1e3).toFixed(0)}K`:`R${e}`}function ActiveFilterChips({filters:e,onRemoveFilter:s,onClearAll:a}){const l=Object.entries(e).filter(([e,s])=>null!=s&&((!Array.isArray(s)||0!==s.length)&&(!("boolean"==typeof s&&!s)&&["minPrice","maxPrice","minBedrooms","maxBedrooms","minBathrooms","maxBathrooms","furnished","amenities"].includes(e))));return 0===l.length?null:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),l.map(([e,a])=>{const l=function getFilterLabel(e,s){switch(e){case"listingType":return"sale"===s?"For Sale":"rent"===s?"To Rent":null;case"propertyType":const e=Tp[s];return e?unslugify(e):s;case"city":case"suburb":return s;case"minPrice":return`Min: ${formatPrice(s)}`;case"maxPrice":return`Max: ${formatPrice(s)}`;case"minBedrooms":return`${s}+ Beds`;case"maxBedrooms":return`Up to ${s} Beds`;case"minBathrooms":return`${s}+ Baths`;case"furnished":return s?"Furnished":null;case"amenities":return Array.isArray(s)?`${s.length} Amenities`:null;default:return null}}(e,a);return l?u.jsxs(Badge,{variant:"secondary",className:"pl-3 pr-1.5 py-1 flex items-center gap-1.5 bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200",children:[u.jsx("span",{className:"text-xs font-medium",children:l}),u.jsx("button",{onClick:()=>s(e),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${l} filter`,children:u.jsx(Il,{className:"h-3 w-3"})})]},e):null}),l.length>1&&a&&u.jsx("button",{onClick:a,className:"text-xs text-muted-foreground hover:text-destructive underline-offset-4 hover:underline transition-colors",children:"Clear all"})]})}function ResultsHeader({filters:e,resultCount:s,isLoading:a,viewMode:l,sortBy:c,onViewModeChange:p,onSortChange:m,onOpenFilters:h,showMobileFilterButton:f=!0,locationContext:g}){const b=function generateResultsTitle(e,s,a,l){const c=[];if(a?c.push("Loading"):c.push(s.toLocaleString()),e.propertyType){const s=Tp[e.propertyType];c.push(unslugify(s||e.propertyType))}else c.push("Properties");return"sale"===e.listingType?c.push("for Sale"):"rent"===e.listingType&&c.push("to Rent"),l?c.push(`in ${l.name}`):e.suburb&&e.city?c.push(`in ${e.suburb}, ${e.city}`):e.city&&c.push(`in ${e.city}`),c.join(" ")}(e,s,a,g),j=g?.hierarchy?[g.hierarchy.suburb,g.hierarchy.city,g.hierarchy.province].filter(Boolean).join("  "):null;return u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4 pb-6 border-b border-gray-100",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 tracking-tight",children:b}),j&&u.jsxs("div",{className:"text-sm text-slate-500 font-medium mt-1",children:["Searching in: ",u.jsx("span",{className:"text-slate-700",children:j})]}),s>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-500",children:[u.jsxs("span",{className:"flex h-2 w-2 relative",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Live Market Updates"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[f&&h&&u.jsxs(Button$1,{variant:"outline",size:"sm",className:"lg:hidden border-gray-200 hidden sm:flex",onClick:h,children:[u.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Filters"]}),u.jsxs("div",{className:"hidden sm:flex items-center bg-slate-100 p-1 rounded-lg border border-slate-200",children:[u.jsxs("button",{onClick:()=>p("list"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("list"===l?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[u.jsx(ro,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"List"})]}),u.jsxs("button",{onClick:()=>p("grid"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("grid"===l?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[u.jsx(Gi,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Grid"})]}),u.jsxs("button",{onClick:()=>p("map"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("map"===l?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[u.jsx(uo,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Map"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-slate-500 font-medium hidden sm:inline",children:"Sort by:"}),u.jsxs(Select$1,{value:c,onValueChange:e=>m(e),children:[u.jsx(SelectTrigger,{className:"w-[140px] sm:w-[180px] h-10 bg-white border-gray-200 font-medium text-slate-700",children:u.jsx(SelectValue,{placeholder:"Sort by"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"relevance",children:"Relevance"}),u.jsx(SelectItem,{value:"price_asc",children:"Lowest Price"}),u.jsx(SelectItem,{value:"price_desc",children:"Highest Price"}),u.jsx(SelectItem,{value:"date_desc",children:"Newest Listed"}),u.jsx(SelectItem,{value:"date_asc",children:"Oldest Listed"})]})]})]})]})]})}function MobileFilterDrawer({isOpen:e,onClose:s,filters:a,onFilterChange:l}){const[c,p]=re.useState(a);re.useEffect(()=>{p(a)},[a]),re.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]);return e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity lg:hidden",onClick:s}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 z-50 lg:hidden animate-in slide-in-from-bottom duration-300",children:u.jsxs("div",{className:"bg-white rounded-t-2xl shadow-2xl max-h-[85vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Filters"}),u.jsx("button",{onClick:s,className:"p-1.5 rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(Il,{className:"h-5 w-5 text-gray-500"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsx(SidebarFilters,{filters:c,onFilterChange:e=>p(e),onSaveSearch:()=>{}})}),u.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-t border-gray-200 bg-white",children:[u.jsx(Button$1,{variant:"outline",className:"flex-1",onClick:()=>{p({})},children:"Reset"}),u.jsx(Button$1,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{l(c),s()},children:"Apply Filters"})]})]})})]}):null}function MobileStickyControls({onOpenFilters:e,currentView:s,onViewChange:a,onSortChange:l,currentSort:c,resultCount:p}){return u.jsxs("div",{className:"lg:hidden fixed bottom-6 left-1/2 -translate-x-1/2 z-50 flex items-center gap-3 px-4 py-2 bg-slate-900/90 backdrop-blur-md rounded-full shadow-xl border border-slate-700/50 text-white transition-all animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:text-blue-200 hover:bg-white/10 h-8 px-3 rounded-full flex items-center gap-2",onClick:e,children:[u.jsx(Qo,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Filters"})]}),u.jsx("div",{className:"h-4 w-px bg-slate-600/50"}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:text-blue-200 hover:bg-white/10 h-8 px-3 rounded-full flex items-center gap-2",onClick:()=>{a("map"===s?"list":"map")},children:"map"===s?u.jsxs(u.Fragment,{children:[u.jsx(ro,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium text-sm",children:"List"})]}):u.jsxs(u.Fragment,{children:[u.jsx(uo,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Map"})]})}),l&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-px bg-slate-600/50"}),u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsx(Button$1,{variant:"ghost",size:"icon",className:"text-white hover:text-blue-200 hover:bg-white/10 h-8 w-8 rounded-full",children:u.jsx(ma,{className:"h-4 w-4"})})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-48 bg-white/95 backdrop-blur-sm",children:[u.jsx(DropdownMenuItem,{onClick:()=>l("relevance"),children:"Relevance"}),u.jsx(DropdownMenuItem,{onClick:()=>l("price_asc"),children:"Price: Low to High"}),u.jsx(DropdownMenuItem,{onClick:()=>l("price_desc"),children:"Price: High to Low"}),u.jsx(DropdownMenuItem,{onClick:()=>l("date_desc"),children:"Newest First"})]})]})]})]})}const Nj=cva("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Alert({className:e,variant:s,...a}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:cn(Nj({variant:s}),e),...a})}function AlertTitle({className:e,...s}){return u.jsx("div",{"data-slot":"alert-title",className:cn("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...s})}function AlertDescription({className:e,...s}){return u.jsx("div",{"data-slot":"alert-description",className:cn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}const SearchFallbackNotice=({locationContext:e})=>{if(!e||"exact"===e.confidence)return null;const{fallbackLevel:s,originalIntent:a,name:l,type:c}=e;return"none"===s?null:u.jsxs(Alert,{variant:"default",className:"mb-6 bg-amber-50 border-amber-200 text-amber-900",children:[u.jsx(Va,{className:"h-4 w-4 text-amber-600"}),u.jsxs(AlertTitle,{className:"text-amber-800 font-semibold flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4"}),"Expanded Search Area"]}),u.jsxs(AlertDescription,{className:"text-amber-700 mt-1",children:["We couldn't find any properties in ",u.jsx("strong",{children:a}),", so we're showing you results in ",u.jsx("strong",{children:l})," (",c,") instead."]})]})};function SearchResults({province:e,city:s,locationId:a}={}){const{isAuthenticated:l}=useAuth(),[c,p]=useLocation(),m=useParams(),h=re.useMemo(()=>{const l=new URLSearchParams(window.location.search),u={...m};return e&&!u.province&&(u.province=e),s&&!u.city&&(u.city=s),a&&!u.locationId&&(u.locationId=a),function resolveSearchIntent(e,s,a){let l="for-sale";e.includes("property-to-rent")||e.includes("to-rent")?l="to-rent":(e.includes("new-developments")||e.includes("developments"))&&(l="developments");const c={level:"country"},u=a.get("province"),p=a.get("city"),m=a.get("suburb");m&&(c.level="locality",c.suburb=m.toLowerCase()),p&&(c.suburb||(c.level="city"),c.city=p.toLowerCase()),u&&(c.city||c.suburb||(c.level="province"),c.province=u.toLowerCase()),c.province||c.city||c.suburb||(s.locationId&&(c.locationId=s.locationId),s.province&&(c.level="province",c.province=s.province.toLowerCase()),s.city&&(c.level="city",c.city=s.city.toLowerCase()),s.suburb&&(c.level="locality",c.suburb=s.suburb.toLowerCase()),s.slug&&(c.city||c.suburb||c.province||(_p.includes(s.slug.toLowerCase())?(c.level="province",c.province=s.slug.toLowerCase()):(c.level="city",c.city=s.slug.toLowerCase())),c.slug=s.slug));const h={},f=a.getAll("locations")||a.getAll("locations[]");return f&&f.length>0&&(h.locations=f),a.forEach((e,s)=>{"province"!==s&&"city"!==s&&"suburb"!==s&&"locations"!==s&&"locations[]"!==s&&(h[s]=e)}),h.listingType="to-rent"===l?"rent":"sale",{transactionType:l,geography:c,filters:h,defaults:{propertyCategory:"residential",sort:"relevance"}}}(c,u,l)},[c,window.location.search,m,e,s,a]),f=re.useMemo(()=>({...h.filters,...h.geography.province&&{province:h.geography.province},...h.geography.city&&{city:h.geography.city},...h.geography.suburb&&{suburb:h.geography.suburb},...h.geography.locationId&&{locationId:h.geography.locationId},listingType:"to-rent"===h.transactionType?"rent":"sale"}),[h]),[g,b]=re.useState("list"),[j,N]=re.useState("relevance"),[k,_]=re.useState(0),[T,E]=re.useState(!1),[A,L]=re.useState(!1),[O,I]=re.useState("");re.useEffect(()=>{document.title=function generatePageTitle(e){const s=[];if(e.propertyType){const a=Tp[e.propertyType];s.push(unslugify(a||e.propertyType))}else s.push("Properties");return"sale"===e.listingType?s.push("for Sale"):"rent"===e.listingType&&s.push("to Rent"),e.suburb&&e.city?s.push(`in ${e.suburb}, ${e.city}`):e.city&&s.push(`in ${e.city}`),s.join(" ")+" | Property Listify"}(f);const e=document.querySelector('meta[name="description"]');e&&e.setAttribute("content",function generateMetaDescription$1(e,s){const a=[];if(a.push("Find"),e.propertyType){const s=Tp[e.propertyType];a.push(unslugify(s||e.propertyType).toLowerCase())}else a.push("properties");return"sale"===e.listingType?a.push("for sale"):"rent"===e.listingType&&a.push("to rent"),e.city&&(a.push(`in ${e.city}`),e.suburb&&(a[a.length-1]=`in ${e.suburb}, ${e.city}`)),a.join(" ")+". View photos, prices, and features. Contact agents directly on Property Listify."}(f))},[f]);const $=re.useMemo(()=>generateBreadcrumbs(f),[f]),z=re.useMemo(()=>({...f,city:f.city,province:f.province,suburb:"string"==typeof f.suburb?[f.suburb]:f.suburb,locations:f.locations,locationId:f.locationId,propertyType:f.propertyType,listingType:f.listingType,minPrice:f.minPrice,maxPrice:f.maxPrice,minBedrooms:f.minBedrooms,status:"available",limit:12,offset:12*k}),[f,k]),{data:U,isLoading:H}=At.properties.search.useQuery(z),q=U?.properties||[],Z=U?.total||0,Y=U?.locationContext,X=At.favorites.add.useMutation({onSuccess:()=>Gr.success("Added to favorites"),onError:()=>Gr.error("Failed to add to favorites")}),J=At.savedSearch.create.useMutation({onSuccess:()=>{Gr.success("Search saved successfully"),L(!1),I("")},onError:e=>Gr.error(e.message)}),handleFilterChange=e=>{const s=generateIntentUrl({...h,filters:{...h.filters,...e}});p(s),_(0)},handleClearAllFilters=()=>{const e={...h,filters:{}};p(generateIntentUrl(e))},ae=q||[],le=re.useMemo(()=>{const e=ae;if(!e.length)return[];const s=[...e];switch(j){case"price_asc":s.sort((e,s)=>(e.price||0)-(s.price||0));break;case"price_desc":s.sort((e,s)=>(s.price||0)-(e.price||0))}return s},[ae,j]),ce=Z,de=re.useMemo(()=>generateIntentUrl(h),[h]);return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(MetaControl,{canonicalUrl:de}),u.jsx(ListingNavbar,{defaultLocations:f.locations||[]}),u.jsxs("div",{className:"container pt-24 pb-8",children:[u.jsx("div",{className:"mb-4",children:u.jsx(Breadcrumbs,{items:$})}),u.jsx(SearchFallbackNotice,{locationContext:Y}),u.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-4",children:[u.jsx(ResultsHeader,{filters:f,resultCount:ce,isLoading:H,viewMode:g,sortBy:j,onViewModeChange:b,onSortChange:N,onOpenFilters:()=>E(!0)}),u.jsx("div",{className:"mt-4",children:u.jsx(ActiveFilterChips,{filters:h.filters,onRemoveFilter:e=>{const s={...h.filters};delete s[e];const a={...h,filters:s};p(generateIntentUrl(a))},onClearAll:handleClearAllFilters})}),!H&&u.jsxs("div",{className:"mt-2 text-sm text-slate-500",children:["Showing ",le.length," of ",ce," properties"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[u.jsx("div",{className:"hidden lg:block lg:col-span-3",children:u.jsx("div",{className:"sticky top-24",children:u.jsx(SidebarFilters,{filters:f,locationContext:Y,onFilterChange:handleFilterChange,onSaveSearch:()=>{l?L(!0):Gr.error("Please login to save searches")}})})}),u.jsx("div",{className:"col-span-1 lg:col-span-9",children:u.jsx("div",{className:"",children:H?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(no,{className:"h-8 w-8 animate-spin text-blue-600"})}):le.length>0?u.jsxs(u.Fragment,{children:["list"===g&&u.jsx("div",{className:"flex flex-col gap-4",children:le.map(e=>{const s=normalizePropertyForUI(e);return s?u.jsx(PropertyCardList,{...s,onFavoriteClick:()=>{return e=s.id,void(l?X.mutate({propertyId:parseInt(e)}):Gr.error("Please login to save favorites"));var e}},s.id):null})}),"grid"===g&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:le.map(e=>{const s=normalizePropertyForUI(e);return s?u.jsx(PropertyCard$2,{...s},s.id):null})}),"map"===g&&u.jsx(GooglePropertyMap,{properties:le.map(e=>{const s=normalizePropertyForUI(e);return s?{id:parseInt(s.id),title:s.title,price:s.price,propertyType:s.propertyType,listingType:s.listingType,latitude:parseFloat(e.latitude||"-26.2041"),longitude:parseFloat(e.longitude||"28.0473"),mainImage:s.images[0],address:s.address,city:s.city,bedrooms:s.bedrooms,bathrooms:s.bathrooms,area:s.area}:null}).filter(e=>null!==e),onPropertySelect:e=>{window.location.href=`/property/${e}`},onBoundsChange:e=>{const s=e.getSouthWest(),a=e.getNorthEast(),l={...h.filters,minLat:s.lat(),maxLat:a.lat(),minLng:s.lng(),maxLng:a.lng()},c=generateIntentUrl({...h,geography:{level:"country",province:void 0,city:void 0,suburb:void 0,locationId:void 0,slug:void 0},filters:l});p(c),_(0)}}),ce>=12&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx(Button$1,{variant:"outline",disabled:0===k,onClick:()=>_(e=>Math.max(0,e-1)),children:"Previous"}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",k+1]}),u.jsx(Button$1,{variant:"outline",disabled:ce<12,onClick:()=>_(e=>e+1),children:"Next"})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center max-w-lg mx-auto",children:[u.jsxs("div",{className:"bg-slate-50 p-4 rounded-full mb-6 relative",children:[u.jsx(ka,{className:"h-12 w-12 text-slate-300"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 border border-slate-200",children:u.jsx(Vo,{className:"h-4 w-4 text-slate-400"})})]}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"No matching properties found"}),u.jsxs("p",{className:"text-slate-500 mb-8 max-w-md",children:["We couldn't find any properties matching your exact criteria in",u.jsx("span",{className:"font-semibold text-slate-700",children:" coverage area"}),"."]}),u.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[Y&&"suburb"===Y.type&&Y.ids?.cityId&&u.jsxs(Button$1,{className:"w-full bg-blue-600 hover:bg-blue-700 gap-2",onClick:()=>{const e={...f};delete e.suburb,e.city=Y.hierarchy.city,handleFilterChange(e)},children:[u.jsx(lo,{className:"h-4 w-4"}),"Search all ",Y.hierarchy.city]}),Y&&"city"===Y.type&&u.jsxs(Button$1,{variant:"secondary",className:"w-full gap-2",onClick:()=>{const e={...f};delete e.city,e.province=Y.hierarchy.province,handleFilterChange(e)},children:[u.jsx(lo,{className:"h-4 w-4"}),"Search all ",Y.hierarchy.province]}),u.jsx(Button$1,{variant:"outline",className:"w-full",onClick:handleClearAllFilters,children:"Clear Filters & Broaden Search"})]})]})})})]})]}),u.jsx(MobileStickyControls,{onOpenFilters:()=>E(!0),currentView:g,onViewChange:b,onSortChange:N,currentSort:j,resultCount:ce}),u.jsx(MobileFilterDrawer,{isOpen:T,onClose:()=>E(!1),filters:f,onFilterChange:handleFilterChange}),u.jsx(Dialog,{open:A,onOpenChange:L,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Save Search"}),u.jsx(DialogDescription,{children:"Save your current search criteria to get notified about new properties."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"search-name",children:"Search Name"}),u.jsx(Input,{id:"search-name",placeholder:"e.g. 2 Bed Apartments in Sandton",value:O,onChange:e=>I(e.target.value)})]})}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{O.trim()&&J.mutate({name:O,criteria:f,notificationFrequency:"weekly"})},disabled:J.isPending||!O.trim(),children:J.isPending?"Saving...":"Save Search"})]})]})})]})}function CityPage({params:e}){const[s]=useLocation(),{province:a,city:l,action:c,locationId:p}=e,[m,h]=ae.useState(window.location.search);ae.useEffect(()=>{const handleLocationChange=()=>{h(window.location.search)};return window.addEventListener("popstate",handleLocationChange),window.location.search!==m&&h(window.location.search),()=>{window.removeEventListener("popstate",handleLocationChange)}},[s,m]);const f=new URLSearchParams(m),g=f.has("propertyType")||f.has("minPrice")||f.has("maxPrice")||f.has("bedrooms");if("list"===f.get("view")||g)return u.jsx(SearchResults,{province:a,city:l,locationId:p});const{data:b,isLoading:j,error:N}=At.locationPages.getCityData.useQuery({provinceSlug:a,citySlug:l}),{data:k}=At.locationPages.getHeroCampaign.useQuery({locationSlug:`${a}/${l}`,fallbacks:[a]});if(j)return u.jsx(CityPageSkeleton,{});if(N||!b)return N?console.error("[CityPage] Error loading data:",N):console.warn("[CityPage] No data returned for:",{provinceSlug:a,citySlug:l}),u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-left",children:[u.jsx("h1",{className:"text-fluid-h3 font-bold mb-2",children:"Location Not Found"}),u.jsx("p",{className:"text-slate-500",children:"We couldn't find the city you're looking for."}),N&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:N.message})]})});const{city:_,suburbs:T=[],featuredProperties:E=[],developments:A=[],stats:L={totalListings:0,avgPrice:0,minPrice:0,maxPrice:0,rentalCount:0,saleCount:0},propertyTypes:O=[],topLocalities:I=[],topDevelopers:$=[],investmentProjects:z=[],recommendedAgencies:U=[]}=b||{};return _&&_.name?u.jsxs(u.Fragment,{children:[u.jsx(MetaControl,{}),u.jsx(LocationSchema,{type:"City",name:_.name,description:`Properties for sale in ${_.name}`,url:`/${a}/${l}`,breadcrumbs:[{name:"Home",url:"/"},{name:_.provinceName||a,url:`/${a}`},{name:_.name,url:`/${a}/${l}`}],geo:{latitude:Number(_.latitude),longitude:Number(_.longitude)},stats:L,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80"}),u.jsx(LocationPageLayout,{locationName:_.name,locationSlug:`${a}/${l}`,banner:u.jsx(LocationHeroSection,{locationName:_.name,locationSlug:`${a}/${l}`,locationType:"city",locationId:_.id,backgroundImage:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",listingCount:L.totalListings,campaign:k,quickLinks:T?.slice(0,10).map(e=>({label:e.name,slug:e.slug}))||[]}),searchStage:null,featuredProperties:u.jsx(FeaturedPropertiesCarousel,{locationId:_.id,locationName:_.name,locationScope:"city"}),propertyTypeExplorer:u.jsx(PropertyCategories,{preselectedLocation:{name:_.name,slug:l,provinceSlug:a,type:"city"}}),topLocalities:u.jsx(LocationTopLocalities,{locationName:_.name,localities:I.map(e=>({...e,imageUrl:null})),parentSlug:`${a}/${l}`}),topLocalitiesShowcase:I&&I.length>0?u.jsx(LocationTopLocalities,{localities:I,locationName:_.name}):void 0,highDemandDevelopments:A&&A.length>0&&T&&T.length>0?u.jsx(TabbedListingSection,{title:`Hot Selling Developments in ${_.name}`,description:`Discover popular residential developments across top suburbs in ${_.name}.`,tabs:T.map(e=>({label:e.name,value:e.name})),items:A,renderItem:e=>u.jsx(SimpleDevelopmentCard,{id:e.id.toString(),title:e.title||e.name,city:e.suburb||_.name,priceRange:{min:Number(e.priceFrom),max:Number(e.priceTo)||Number(e.priceFrom)},image:e.image||e.images?.[0]||e.mainImage||"https://placehold.co/600x400/e2e8f0/64748b?text=Development",isHotSelling:!0}),filterItem:(e,s)=>e.suburb===s,viewAllLink:e=>`/property-for-sale/${a}/${l}/${T.find(s=>s.name===e)?.slug||""}?view=list`,viewAllText:"View properties in",emptyMessage:"No featured developments in this suburb right now."}):void 0,popularLocations:u.jsx(ExploreCities,{basePath:"/property-for-sale",queryParams:"?view=list",customLocations:T.map(e=>({name:e.name,province:_.name,slug:e.slug,provinceSlug:`${a}/${l}`,propertyCount:e.listingCount?`${e.listingCount.toLocaleString()}+ Properties`:void 0})),title:`Popular Suburbs in ${_.name}`,description:`Explore top-rated suburbs in ${_.name}, offering a mix of investment opportunities and dream homes.`}),recommendedAgents:u.jsx(RecommendedAgents,{locationType:"city",locationId:_.id}),developerShowcase:$&&$.length>0?u.jsx(TopDevelopersCarousel,{developers:$,locationName:_.name}):u.jsx(FeaturedDevelopers,{locationType:"city",locationId:_.id,locationName:_.name}),investmentShowcase:z&&z.length>0?u.jsx(HighDemandProjectsCarousel,{projects:z,locationName:_.name}):void 0,agencyShowcase:U&&U.length>0?u.jsx(RecommendedAgenciesCarousel,{agencies:U,locationName:_.name}):void 0,exploreMore:u.jsx(DiscoverProperties,{initialCity:_.name,availableCities:[_.name,...T.map(e=>e.name)],locationName:_.name}),buyerCTA:u.jsxs("div",{className:"py-8 text-left bg-blue-50 rounded-lg mx-4 md:mx-0",children:[u.jsxs("h3",{className:"text-fluid-h4 font-bold mb-2",children:["Looking for a new home in ",_.name,"?"]}),u.jsx("p",{className:"mb-4 text-slate-600",children:"Get alerts for new properties matching your criteria."}),u.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700",children:"Set Property Alert"})]}),listingsFeed:u.jsx("div",{className:"space-y-12",children:u.jsx(SimilarLocationsSection$1,{locationId:_.id,currentLocationName:_.name})}),sellerCTA:u.jsx(FinalCTA,{locationName:_.name,provinceSlug:a,citySlug:l})})]}):(console.error("[CityPage] City data is incomplete:",b),u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-left",children:[u.jsx("h1",{className:"text-fluid-h3 font-bold mb-2",children:"City Data Unavailable"}),u.jsx("p",{className:"text-slate-500",children:"The city data is temporarily unavailable. Please try again later."})]})}))}function SimilarLocationsSection$1({locationId:e,currentLocationName:s}){const{data:a,isLoading:l}=useSimilarLocations({locationId:e,limit:5});return u.jsx(SimilarLocations,{locations:a||[],currentLocationName:s,isLoading:l})}function CityPageSkeleton(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"h-[400px] bg-slate-200 animate-pulse"}),u.jsxs("div",{className:"container py-8 space-y-8",children:[u.jsx(Skeleton,{className:"h-12 w-full max-w-2xl"}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"})]})]})]})}var Sj="AlertDialog",[Cj]=createContextScope(Sj,[Mp]),kj=Mp(),AlertDialog$1=e=>{const{__scopeAlertDialog:s,...a}=e,l=kj(s);return u.jsx(sm,{...l,...a,modal:!0})};AlertDialog$1.displayName=Sj;re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,c=kj(a);return u.jsx(am,{...c,...l,ref:s})}).displayName="AlertDialogTrigger";var AlertDialogPortal$1=e=>{const{__scopeAlertDialog:s,...a}=e,l=kj(s);return u.jsx(im,{...l,...a})};AlertDialogPortal$1.displayName="AlertDialogPortal";var _j=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,c=kj(a);return u.jsx(om,{...c,...l,ref:s})});_j.displayName="AlertDialogOverlay";var Pj="AlertDialogContent",[Tj,Ej]=Cj(Pj),Aj=createSlottable("AlertDialogContent"),Mj=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,children:l,...c}=e,p=kj(a),m=re.useRef(null),h=useComposedRefs$1(s,m),f=re.useRef(null);return u.jsx(rm,{contentName:Pj,titleName:Lj,docsSlug:"alert-dialog",children:u.jsx(Tj,{scope:a,cancelRef:f,children:u.jsxs(lm,{role:"alertdialog",...p,...c,ref:h,onOpenAutoFocus:composeEventHandlers(c.onOpenAutoFocus,e=>{e.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[u.jsx(Aj,{children:l}),u.jsx(DescriptionWarning,{contentRef:m})]})})})});Mj.displayName=Pj;var Lj="AlertDialogTitle",Dj=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,c=kj(a);return u.jsx(cm,{...c,...l,ref:s})});Dj.displayName=Lj;var Oj="AlertDialogDescription",Ij=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,c=kj(a);return u.jsx(dm,{...c,...l,ref:s})});Ij.displayName=Oj;var $j=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,c=kj(a);return u.jsx(um,{...c,...l,ref:s})});$j.displayName="AlertDialogAction";var Rj="AlertDialogCancel",Fj=re.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...l}=e,{cancelRef:c}=Ej(Rj,a),p=kj(a),m=useComposedRefs$1(s,c);return u.jsx(um,{...p,...l,ref:m})});Fj.displayName=Rj;var DescriptionWarning=({contentRef:e})=>{const s=`\`${Pj}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${Pj}\` by passing a \`${Oj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pj}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return re.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},Bj=AlertDialog$1,zj=AlertDialogPortal$1,Vj=_j,Uj=Mj,Hj=$j,qj=Fj,Wj=Dj,Zj=Ij;function AlertDialog({...e}){return u.jsx(Bj,{"data-slot":"alert-dialog",...e})}function AlertDialogPortal({...e}){return u.jsx(zj,{"data-slot":"alert-dialog-portal",...e})}function AlertDialogOverlay({className:e,...s}){return u.jsx(Vj,{"data-slot":"alert-dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function AlertDialogContent({className:e,...s}){return u.jsxs(AlertDialogPortal,{children:[u.jsx(AlertDialogOverlay,{}),u.jsx(Uj,{"data-slot":"alert-dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s})]})}function AlertDialogHeader({className:e,...s}){return u.jsx("div",{"data-slot":"alert-dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...s})}function AlertDialogFooter({className:e,...s}){return u.jsx("div",{"data-slot":"alert-dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function AlertDialogTitle({className:e,...s}){return u.jsx(Wj,{"data-slot":"alert-dialog-title",className:cn("text-lg font-semibold",e),...s})}function AlertDialogDescription({className:e,...s}){return u.jsx(Zj,{"data-slot":"alert-dialog-description",className:cn("text-muted-foreground text-sm",e),...s})}function AlertDialogAction({className:e,...s}){return u.jsx(Hj,{className:cn(Js(),e),...s})}function AlertDialogCancel({className:e,...s}){return u.jsx(qj,{className:cn(Js({variant:"outline"}),e),...s})}function Dashboard(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState(null),m="admin"===a?.role;if(l)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("p",{children:"Loading authentication..."})});if(!s)return e("/"),null;const{data:h,isLoading:f,refetch:g}=At.properties.myProperties.useQuery(),b=At.properties.delete.useMutation({onSuccess:()=>{Gr.success("Property deleted successfully"),g(),p(null)},onError:e=>{Gr.error(e.message||"Failed to delete property")}}),getStatusColor2=e=>{switch(e){case"available":return"bg-green-500/10 text-green-500 border-green-500/20";case"sold":return"bg-blue-500/10 text-blue-500 border-blue-500/20";case"rented":return"bg-purple-500/10 text-purple-500 border-purple-500/20";case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto py-8 px-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold",children:m?"All Properties (Admin)":"My Properties"}),m&&u.jsx(Badge,{variant:"destructive",className:"text-xs",children:"ADMIN"})]}),u.jsx("p",{className:"text-muted-foreground",children:m?"Manage all property listings on the platform":"Manage your property listings"})]}),u.jsxs(Button$1,{onClick:()=>e("/listings/create"),size:"lg",children:[u.jsx(Mo,{className:"h-5 w-5 mr-2"}),"List New Property"]})]}),!f&&h&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ea,{children:u.jsxs(ta,{className:"pb-3",children:[u.jsx(na,{children:"Total Properties"}),u.jsx(ra,{className:"text-3xl",children:h.length})]})}),u.jsx(ea,{children:u.jsxs(ta,{className:"pb-3",children:[u.jsx(na,{children:"Available"}),u.jsx(ra,{className:"text-3xl",children:h.filter(e=>"available"===e.status).length})]})}),u.jsx(ea,{children:u.jsxs(ta,{className:"pb-3",children:[u.jsx(na,{children:"Sold/Rented"}),u.jsx(ra,{className:"text-3xl",children:h.filter(e=>"sold"===e.status||"rented"===e.status).length})]})}),u.jsx(ea,{children:u.jsxs(ta,{className:"pb-3",children:[u.jsx(na,{children:"Total Views"}),u.jsx(ra,{className:"text-3xl",children:h.reduce((e,s)=>e+(s.views||0),0)})]})})]}),f?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>u.jsxs(ea,{children:[u.jsx(Skeleton,{className:"h-48 w-full rounded-t-lg"}),u.jsxs(sa,{className:"p-4 space-y-3",children:[u.jsx(Skeleton,{className:"h-6 w-3/4"}),u.jsx(Skeleton,{className:"h-4 w-full"}),u.jsx(Skeleton,{className:"h-4 w-1/2"})]})]},e))}):h&&h.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(s=>{const a=s.primaryImage,l=s.imageCount||0;return u.jsxs(ea,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"relative aspect-video bg-muted overflow-hidden",children:[a?u.jsx("img",{src:a,alt:s.title,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(Bi,{className:"h-16 w-16 text-muted-foreground"})}),u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx(Badge,{className:getStatusColor2(s.status),children:s.status}),l>1&&u.jsxs(Badge,{variant:"secondary",className:"bg-black/50 text-white border-none",children:["+",l-1]})]})]}),u.jsxs(sa,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1",children:s.title}),u.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[u.jsx(lo,{className:"h-4 w-4 mr-1"}),s.city,", ",s.province]}),u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx(ii,{className:"h-5 w-5 text-primary mr-1"}),u.jsx("span",{className:"font-bold text-xl text-primary",children:(h=s.price,new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(h))}),"rent"===s.listingType&&u.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/month"})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[s.bedrooms&&u.jsxs("span",{children:[s.bedrooms," bed"]}),s.bathrooms&&u.jsxs("span",{children:[s.bathrooms," bath"]}),u.jsxs("span",{children:[s.area," sqm"]})]}),m&&u.jsxs("div",{className:"mb-3 text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:["Owner ID: ",s.ownerId]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(Badge,{variant:"outline",children:(c=s.propertyType,c.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))}),u.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[u.jsx(fi,{className:"h-4 w-4 mr-1"}),s.views||0," views"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{variant:"outline",className:"flex-1",onClick:()=>e(`/property/${s.id}`),children:"View"}),u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsx(Button$1,{variant:"outline",size:"icon",children:u.jsx(ui,{className:"h-4 w-4"})})}),u.jsxs(DropdownMenuContent,{align:"end",children:[u.jsxs(DropdownMenuItem,{onClick:()=>e(`/edit-property/${s.id}`),children:[u.jsx(rl,{className:"h-4 w-4 mr-2"}),"Edit"]}),u.jsx(DropdownMenuSeparator,{}),u.jsxs(DropdownMenuItem,{onClick:()=>p(s.id),className:"text-destructive",children:[u.jsx(ul,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})]},s.id);var c,h})}):u.jsx(ea,{className:"text-center py-12",children:u.jsxs(sa,{className:"space-y-4",children:[u.jsx(Bi,{className:"h-20 w-20 mx-auto text-muted-foreground opacity-50"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Properties Yet"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Start listing your properties to reach potential buyers and renters"}),u.jsxs(Button$1,{onClick:()=>e("/listings/create"),size:"lg",children:[u.jsx(Mo,{className:"h-5 w-5 mr-2"}),"List Your First Property"]})]})]})})]}),u.jsx(AlertDialog,{open:null!==c,onOpenChange:e=>!e&&p(null),children:u.jsxs(AlertDialogContent,{children:[u.jsxs(AlertDialogHeader,{children:[u.jsx(AlertDialogTitle,{children:"Are you sure?"}),u.jsx(AlertDialogDescription,{children:"This action cannot be undone. This will permanently delete your property listing and remove all associated data."})]}),u.jsxs(AlertDialogFooter,{children:[u.jsx(AlertDialogCancel,{children:"Cancel"}),u.jsx(AlertDialogAction,{onClick:()=>{return c&&(e=c,void b.mutate({id:e}));var e},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:b.isPending?"Deleting...":"Delete"})]})]})})]})}var isCheckBoxInput=e=>"checkbox"===e.type,isDateObject=e=>e instanceof Date,isNullOrUndefined=e=>null==e;const isObjectType=e=>"object"==typeof e;var isObject$1=e=>!isNullOrUndefined(e)&&!Array.isArray(e)&&isObjectType(e)&&!isDateObject(e),getEventValue=e=>isObject$1(e)&&e.target?isCheckBoxInput(e.target)?e.target.checked:e.target.value:e,isNameInFieldArray=(e,s)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(s)),Kj="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cloneObject(e){let s;const a=Array.isArray(e),l="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)s=new Date(e);else{if(Kj&&(e instanceof Blob||l)||!a&&!isObject$1(e))return e;if(s=a?[]:Object.create(Object.getPrototypeOf(e)),a||(e=>{const s=e.constructor&&e.constructor.prototype;return isObject$1(s)&&s.hasOwnProperty("isPrototypeOf")})(e))for(const a in e)e.hasOwnProperty(a)&&(s[a]=cloneObject(e[a]));else s=e}return s}var isKey=e=>/^\w*$/.test(e),isUndefined=e=>void 0===e,compact=e=>Array.isArray(e)?e.filter(Boolean):[],stringToPath=e=>compact(e.replace(/["|']|\]/g,"").split(/\.|\[/)),get$1=(e,s,a)=>{if(!s||!isObject$1(e))return a;const l=(isKey(s)?[s]:stringToPath(s)).reduce((e,s)=>isNullOrUndefined(e)?e:e[s],e);return isUndefined(l)||l===e?isUndefined(e[s])?a:e[s]:l},isBoolean$1=e=>"boolean"==typeof e,set=(e,s,a)=>{let l=-1;const c=isKey(s)?[s]:stringToPath(s),u=c.length,p=u-1;for(;++l<u;){const s=c[l];let u=a;if(l!==p){const a=e[s];u=isObject$1(a)||Array.isArray(a)?a:isNaN(+c[l+1])?{}:[]}if("__proto__"===s||"constructor"===s||"prototype"===s)return;e[s]=u,e=e[s]}};const Gj="blur",Yj="focusout",Qj="change",Xj="onBlur",Jj="onChange",ew="onSubmit",tw="onTouched",rw="all",nw="max",sw="min",aw="maxLength",iw="minLength",ow="pattern",lw="required",cw="validate",dw=ae.createContext(null);dw.displayName="HookFormContext";const useFormContext=()=>ae.useContext(dw);var getProxyFormState=(e,s,a,l=!0)=>{const c={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const c=u;return s._proxyFormState[c]!==rw&&(s._proxyFormState[c]=!l||rw),a&&(a[c]=!0),e[c]}});return c};const uw="undefined"!=typeof window?ae.useLayoutEffect:ae.useEffect;function useFormState(e){const s=useFormContext(),{control:a=s.control,disabled:l,name:c,exact:u}=e||{},[p,m]=ae.useState(a._formState),h=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return uw(()=>a._subscribe({name:c,formState:h.current,exact:u,callback:e=>{!l&&m({...a._formState,...e})}}),[c,l,u]),ae.useEffect(()=>{h.current.isValid&&a._setValid(!0)},[a]),ae.useMemo(()=>getProxyFormState(p,a,h.current,!1),[p,a])}var isString$1=e=>"string"==typeof e,generateWatchOutput=(e,s,a,l,c)=>isString$1(e)?(l&&s.watch.add(e),get$1(a,e,c)):Array.isArray(e)?e.map(e=>(l&&s.watch.add(e),get$1(a,e))):(l&&(s.watchAll=!0),a),isPrimitive=e=>isNullOrUndefined(e)||!isObjectType(e);function deepEqual$1(e,s,a=new WeakSet){if(isPrimitive(e)||isPrimitive(s))return e===s;if(isDateObject(e)&&isDateObject(s))return e.getTime()===s.getTime();const l=Object.keys(e),c=Object.keys(s);if(l.length!==c.length)return!1;if(a.has(e)||a.has(s))return!0;a.add(e),a.add(s);for(const u of l){const l=e[u];if(!c.includes(u))return!1;if("ref"!==u){const e=s[u];if(isDateObject(l)&&isDateObject(e)||isObject$1(l)&&isObject$1(e)||Array.isArray(l)&&Array.isArray(e)?!deepEqual$1(l,e,a):l!==e)return!1}}return!0}function useController(e){const s=useFormContext(),{name:a,disabled:l,control:c=s.control,shouldUnregister:u,defaultValue:p}=e,m=isNameInFieldArray(c._names.array,a),h=ae.useMemo(()=>get$1(c._formValues,a,get$1(c._defaultValues,a,p)),[c,a,p]),f=function useWatch(e){const s=useFormContext(),{control:a=s.control,name:l,defaultValue:c,disabled:u,exact:p,compute:m}=e||{},h=ae.useRef(c),f=ae.useRef(m),g=ae.useRef(void 0);f.current=m;const b=ae.useMemo(()=>a._getWatch(l,h.current),[a,l]),[j,N]=ae.useState(f.current?f.current(b):b);return uw(()=>a._subscribe({name:l,formState:{values:!0},exact:p,callback:e=>{if(!u){const s=generateWatchOutput(l,a._names,e.values||a._formValues,!1,h.current);if(f.current){const e=f.current(s);deepEqual$1(e,g.current)||(N(e),g.current=e)}else N(s)}}}),[a,u,l,p]),ae.useEffect(()=>a._removeUnmounted()),j}({control:c,name:a,defaultValue:h,exact:!0}),g=useFormState({control:c,name:a,exact:!0}),b=ae.useRef(e),j=ae.useRef(void 0),N=ae.useRef(c.register(a,{...e.rules,value:f,...isBoolean$1(e.disabled)?{disabled:e.disabled}:{}}));b.current=e;const k=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$1(g.errors,a)},isDirty:{enumerable:!0,get:()=>!!get$1(g.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!get$1(g.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!get$1(g.validatingFields,a)},error:{enumerable:!0,get:()=>get$1(g.errors,a)}}),[g,a]),_=ae.useCallback(e=>N.current.onChange({target:{value:getEventValue(e),name:a},type:Qj}),[a]),T=ae.useCallback(()=>N.current.onBlur({target:{value:get$1(c._formValues,a),name:a},type:Gj}),[a,c._formValues]),E=ae.useCallback(e=>{const s=get$1(c._fields,a);s&&e&&(s._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:s=>e.setCustomValidity(s),reportValidity:()=>e.reportValidity()})},[c._fields,a]),A=ae.useMemo(()=>({name:a,value:f,...isBoolean$1(l)||g.disabled?{disabled:g.disabled||l}:{},onChange:_,onBlur:T,ref:E}),[a,l,g.disabled,_,T,E,f]);return ae.useEffect(()=>{const e=c._options.shouldUnregister||u,s=j.current;s&&s!==a&&!m&&c.unregister(s),c.register(a,{...b.current.rules,...isBoolean$1(b.current.disabled)?{disabled:b.current.disabled}:{}});const updateMounted=(e,s)=>{const a=get$1(c._fields,e);a&&a._f&&(a._f.mount=s)};if(updateMounted(a,!0),e){const e=cloneObject(get$1(c._options.defaultValues,a,b.current.defaultValue));set(c._defaultValues,a,e),isUndefined(get$1(c._formValues,a))&&set(c._formValues,a,e)}return!m&&c.register(a),j.current=a,()=>{(m?e&&!c._state.action:e)?c.unregister(a):updateMounted(a,!1)}},[a,c,m,u]),ae.useEffect(()=>{c._setDisabledField({disabled:l,name:a})},[l,a,c]),ae.useMemo(()=>({field:A,formState:g,fieldState:k}),[A,g,k])}const Controller=e=>e.render(useController(e));var appendErrors=(e,s,a,l,c)=>s?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[l]:c||!0}}:{},convertToArrayPayload=e=>Array.isArray(e)?e:[e],createSubject=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(e=>e!==s)}}),unsubscribe:()=>{e=[]}}};function extractFormValues(e,s){const a={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],u=s[l];if(c&&isObject$1(c)&&u){const e=extractFormValues(c,u);isObject$1(e)&&(a[l]=e)}else e[l]&&(a[l]=u)}return a}var isEmptyObject=e=>isObject$1(e)&&!Object.keys(e).length,isFileInput=e=>"file"===e.type,isFunction$1=e=>"function"==typeof e,isHTMLElement$1=e=>{if(!Kj)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=e=>"select-multiple"===e.type,isRadioInput=e=>"radio"===e.type,live=e=>isHTMLElement$1(e)&&e.isConnected;function unset(e,s){const a=Array.isArray(s)?s:isKey(s)?[s]:stringToPath(s),l=1===a.length?e:function baseGet(e,s){const a=s.slice(0,-1).length;let l=0;for(;l<a;)e=isUndefined(e)?l++:e[s[l++]];return e}(e,a),c=a.length-1,u=a[c];return l&&delete l[u],0!==c&&(isObject$1(l)&&isEmptyObject(l)||Array.isArray(l)&&function isEmptyArray(e){for(const s in e)if(e.hasOwnProperty(s)&&!isUndefined(e[s]))return!1;return!0}(l))&&unset(e,a.slice(0,-1)),e}function isTraversable(e){return Array.isArray(e)||isObject$1(e)&&!(e=>{for(const s in e)if(isFunction$1(e[s]))return!0;return!1})(e)}function markFieldsDirty(e,s={}){for(const a in e)isTraversable(e[a])?(s[a]=Array.isArray(e[a])?[]:{},markFieldsDirty(e[a],s[a])):isNullOrUndefined(e[a])||(s[a]=!0);return s}function getDirtyFields(e,s,a){a||(a=markFieldsDirty(s));for(const l in e)isTraversable(e[l])?isUndefined(s)||isPrimitive(a[l])?a[l]=markFieldsDirty(e[l],Array.isArray(e[l])?[]:{}):getDirtyFields(e[l],isNullOrUndefined(s)?{}:s[l],a[l]):a[l]=!deepEqual$1(e[l],s[l]);return a}const pw={value:!1,isValid:!1},mw={value:!0,isValid:!0};var getCheckboxValue=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!isUndefined(e[0].attributes.value)?isUndefined(e[0].value)||""===e[0].value?mw:{value:e[0].value,isValid:!0}:mw:pw}return pw},getFieldValueAs=(e,{valueAsNumber:s,valueAsDate:a,setValueAs:l})=>isUndefined(e)?e:s?""===e?NaN:e?+e:e:a&&isString$1(e)?new Date(e):l?l(e):e;const hw={isValid:!1,value:null};var getRadioValue=e=>Array.isArray(e)?e.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,hw):hw;function getFieldValue(e){const s=e.ref;return isFileInput(s)?s.files:isRadioInput(s)?getRadioValue(e.refs).value:isMultipleSelect(s)?[...s.selectedOptions].map(({value:e})=>e):isCheckBoxInput(s)?getCheckboxValue(e.refs).value:getFieldValueAs(isUndefined(s.value)?e.ref.value:s.value,e)}var isRegex=e=>e instanceof RegExp,getRuleValue=e=>isUndefined(e)?e:isRegex(e)?e.source:isObject$1(e)?isRegex(e.value)?e.value.source:e.value:e,getValidationModes=e=>({isOnSubmit:!e||e===ew,isOnBlur:e===Xj,isOnChange:e===Jj,isOnAll:e===rw,isOnTouch:e===tw});const fw="AsyncFunction";var hasPromiseValidation=e=>!!e&&!!e.validate&&!!(isFunction$1(e.validate)&&e.validate.constructor.name===fw||isObject$1(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===fw)),isWatched=(e,s,a)=>!a&&(s.watchAll||s.watch.has(e)||[...s.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const iterateFieldsByAction=(e,s,a,l)=>{for(const c of a||Object.keys(e)){const a=get$1(e,c);if(a){const{_f:e,...u}=a;if(e){if(e.refs&&e.refs[0]&&s(e.refs[0],c)&&!l)return!0;if(e.ref&&s(e.ref,e.name)&&!l)return!0;if(iterateFieldsByAction(u,s))break}else if(isObject$1(u)&&iterateFieldsByAction(u,s))break}}};function schemaErrorLookup(e,s,a){const l=get$1(e,a);if(l||isKey(a))return{error:l,name:a};const c=a.split(".");for(;c.length;){const l=c.join("."),u=get$1(s,l),p=get$1(e,l);if(u&&!Array.isArray(u)&&a!==l)return{name:a};if(p&&p.type)return{name:l,error:p};if(p&&p.root&&p.root.type)return{name:`${l}.root`,error:p.root};c.pop()}return{name:a}}var updateFieldArrayRootError=(e,s,a)=>{const l=convertToArrayPayload(get$1(e,a));return set(l,"root",s[a]),set(e,a,l),e};function getValidateError(e,s,a="validate"){if(isString$1(e)||Array.isArray(e)&&e.every(isString$1)||isBoolean$1(e)&&!e)return{type:a,message:isString$1(e)?e:"",ref:s}}var getValueAndMessage=e=>isObject$1(e)&&!isRegex(e)?e:{value:e,message:""},validateField=async(e,s,a,l,c,u)=>{const{ref:p,refs:m,required:h,maxLength:f,minLength:g,min:b,max:j,pattern:N,validate:k,name:_,valueAsNumber:T,mount:E}=e._f,A=get$1(a,_);if(!E||s.has(_))return{};const L=m?m[0]:p,setCustomValidity=e=>{c&&L.reportValidity&&(L.setCustomValidity(isBoolean$1(e)?"":e||""),L.reportValidity())},O={},I=isRadioInput(p),$=isCheckBoxInput(p),z=I||$,U=(T||isFileInput(p))&&isUndefined(p.value)&&isUndefined(A)||isHTMLElement$1(p)&&""===p.value||""===A||Array.isArray(A)&&!A.length,H=appendErrors.bind(null,_,l,O),getMinMaxMessage=(e,s,a,l=aw,c=iw)=>{const u=e?s:a;O[_]={type:e?l:c,message:u,ref:p,...H(e?l:c,u)}};if(u?!Array.isArray(A)||!A.length:h&&(!z&&(U||isNullOrUndefined(A))||isBoolean$1(A)&&!A||$&&!getCheckboxValue(m).isValid||I&&!getRadioValue(m).isValid)){const{value:e,message:s}=isString$1(h)?{value:!!h,message:h}:getValueAndMessage(h);if(e&&(O[_]={type:lw,message:s,ref:L,...H(lw,s)},!l))return setCustomValidity(s),O}if(!(U||isNullOrUndefined(b)&&isNullOrUndefined(j))){let e,s;const a=getValueAndMessage(j),c=getValueAndMessage(b);if(isNullOrUndefined(A)||isNaN(A)){const l=p.valueAsDate||new Date(A),convertTimeToDate=e=>new Date((new Date).toDateString()+" "+e),u="time"==p.type,m="week"==p.type;isString$1(a.value)&&A&&(e=u?convertTimeToDate(A)>convertTimeToDate(a.value):m?A>a.value:l>new Date(a.value)),isString$1(c.value)&&A&&(s=u?convertTimeToDate(A)<convertTimeToDate(c.value):m?A<c.value:l<new Date(c.value))}else{const l=p.valueAsNumber||(A?+A:A);isNullOrUndefined(a.value)||(e=l>a.value),isNullOrUndefined(c.value)||(s=l<c.value)}if((e||s)&&(getMinMaxMessage(!!e,a.message,c.message,nw,sw),!l))return setCustomValidity(O[_].message),O}if((f||g)&&!U&&(isString$1(A)||u&&Array.isArray(A))){const e=getValueAndMessage(f),s=getValueAndMessage(g),a=!isNullOrUndefined(e.value)&&A.length>+e.value,c=!isNullOrUndefined(s.value)&&A.length<+s.value;if((a||c)&&(getMinMaxMessage(a,e.message,s.message),!l))return setCustomValidity(O[_].message),O}if(N&&!U&&isString$1(A)){const{value:e,message:s}=getValueAndMessage(N);if(isRegex(e)&&!A.match(e)&&(O[_]={type:ow,message:s,ref:p,...H(ow,s)},!l))return setCustomValidity(s),O}if(k)if(isFunction$1(k)){const e=getValidateError(await k(A,a),L);if(e&&(O[_]={...e,...H(cw,e.message)},!l))return setCustomValidity(e.message),O}else if(isObject$1(k)){let e={};for(const s in k){if(!isEmptyObject(e)&&!l)break;const c=getValidateError(await k[s](A,a),L,s);c&&(e={...c,...H(s,c.message)},setCustomValidity(c.message),l&&(O[_]=e))}if(!isEmptyObject(e)&&(O[_]={ref:L,...e},!l))return O}return setCustomValidity(!0),O};const gw={mode:ew,reValidateMode:Jj,shouldFocusError:!0};function createFormControl(e={}){let s,a={...gw,...e},l={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction$1(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},c={},u=(isObject$1(a.defaultValues)||isObject$1(a.values))&&cloneObject(a.defaultValues||a.values)||{},p=a.shouldUnregister?{}:cloneObject(u),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...g};const j={array:createSubject(),state:createSubject()},N=a.criteriaMode===rw,_setValid=async e=>{if(!a.disabled&&(g.isValid||b.isValid||e)){const e=a.resolver?isEmptyObject((await _runSchema()).errors):await executeBuiltInValidation(c,!0);e!==l.isValid&&j.state.next({isValid:e})}},_updateIsValidating=(e,s)=>{!a.disabled&&(g.isValidating||g.validatingFields||b.isValidating||b.validatingFields)&&((e||Array.from(h.mount)).forEach(e=>{e&&(s?set(l.validatingFields,e,s):unset(l.validatingFields,e))}),j.state.next({validatingFields:l.validatingFields,isValidating:!isEmptyObject(l.validatingFields)}))},updateValidAndValue=(e,s,a,l)=>{const h=get$1(c,e);if(h){const c=get$1(p,e,isUndefined(a)?get$1(u,e):a);isUndefined(c)||l&&l.defaultChecked||s?set(p,e,s?c:getFieldValue(h._f)):setFieldValue(e,c),m.mount&&_setValid()}},updateTouchAndDirty=(e,s,c,p,m)=>{let h=!1,f=!1;const N={name:e};if(!a.disabled){if(!c||p){(g.isDirty||b.isDirty)&&(f=l.isDirty,l.isDirty=N.isDirty=_getDirty(),h=f!==N.isDirty);const a=deepEqual$1(get$1(u,e),s);f=!!get$1(l.dirtyFields,e),a?unset(l.dirtyFields,e):set(l.dirtyFields,e,!0),N.dirtyFields=l.dirtyFields,h=h||(g.dirtyFields||b.dirtyFields)&&f!==!a}if(c){const s=get$1(l.touchedFields,e);s||(set(l.touchedFields,e,c),N.touchedFields=l.touchedFields,h=h||(g.touchedFields||b.touchedFields)&&s!==c)}h&&m&&j.state.next(N)}return h?N:{}},shouldRenderByError=(e,c,u,p)=>{const m=get$1(l.errors,e),h=(g.isValid||b.isValid)&&isBoolean$1(c)&&l.isValid!==c;var N;if(a.delayError&&u?(N=()=>((e,s)=>{set(l.errors,e,s),j.state.next({errors:l.errors})})(e,u),s=e=>{clearTimeout(f),f=setTimeout(N,e)},s(a.delayError)):(clearTimeout(f),s=null,u?set(l.errors,e,u):unset(l.errors,e)),(u?!deepEqual$1(m,u):m)||!isEmptyObject(p)||h){const s={...p,...h&&isBoolean$1(c)?{isValid:c}:{},errors:l.errors,name:e};l={...l,...s},j.state.next(s)}},_runSchema=async e=>{_updateIsValidating(e,!0);const s=await a.resolver(p,a.context,((e,s,a,l)=>{const c={};for(const u of e){const e=get$1(s,u);e&&set(c,u,e._f)}return{criteriaMode:a,names:[...e],fields:c,shouldUseNativeValidation:l}})(e||h.mount,c,a.criteriaMode,a.shouldUseNativeValidation));return _updateIsValidating(e),s},executeBuiltInValidation=async(e,s,c={valid:!0})=>{for(const u in e){const m=e[u];if(m){const{_f:e,...u}=m;if(e){const u=h.array.has(e.name),f=m._f&&hasPromiseValidation(m._f);f&&g.validatingFields&&_updateIsValidating([e.name],!0);const b=await validateField(m,h.disabled,p,N,a.shouldUseNativeValidation&&!s,u);if(f&&g.validatingFields&&_updateIsValidating([e.name]),b[e.name]&&(c.valid=!1,s))break;!s&&(get$1(b,e.name)?u?updateFieldArrayRootError(l.errors,b,e.name):set(l.errors,e.name,b[e.name]):unset(l.errors,e.name))}!isEmptyObject(u)&&await executeBuiltInValidation(u,s,c)}}return c.valid},_getDirty=(e,s)=>!a.disabled&&(e&&s&&set(p,e,s),!deepEqual$1(getValues(),u)),_getWatch=(e,s,a)=>generateWatchOutput(e,h,{...m.mount?p:isUndefined(s)?u:isString$1(e)?{[e]:s}:s},a,s),setFieldValue=(e,s,a={})=>{const l=get$1(c,e);let u=s;if(l){const a=l._f;a&&(!a.disabled&&set(p,e,getFieldValueAs(s,a)),u=isHTMLElement$1(a.ref)&&isNullOrUndefined(s)?"":s,isMultipleSelect(a.ref)?[...a.ref.options].forEach(e=>e.selected=u.includes(e.value)):a.refs?isCheckBoxInput(a.ref)?a.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(u)?e.checked=!!u.find(s=>s===e.value):e.checked=u===e.value||!!u)}):a.refs.forEach(e=>e.checked=e.value===u):isFileInput(a.ref)?a.ref.value="":(a.ref.value=u,a.ref.type||j.state.next({name:e,values:cloneObject(p)})))}(a.shouldDirty||a.shouldTouch)&&updateTouchAndDirty(e,u,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&trigger(e)},setValues=(e,s,a)=>{for(const l in s){if(!s.hasOwnProperty(l))return;const u=s[l],p=e+"."+l,m=get$1(c,p);(h.array.has(e)||isObject$1(u)||m&&!m._f)&&!isDateObject(u)?setValues(p,u,a):setFieldValue(p,u,a)}},setValue=(e,s,a={})=>{const f=get$1(c,e),N=h.array.has(e),k=cloneObject(s);set(p,e,k),N?(j.array.next({name:e,values:cloneObject(p)}),(g.isDirty||g.dirtyFields||b.isDirty||b.dirtyFields)&&a.shouldDirty&&j.state.next({name:e,dirtyFields:getDirtyFields(u,p),isDirty:_getDirty(e,k)})):!f||f._f||isNullOrUndefined(k)?setFieldValue(e,k,a):setValues(e,k,a),isWatched(e,h)&&j.state.next({...l,name:e}),j.state.next({name:m.mount?e:void 0,values:cloneObject(p)})},onChange=async e=>{m.mount=!0;const u=e.target;let f=u.name,k=!0;const _=get$1(c,f),_updateIsFieldValueUpdated=e=>{k=Number.isNaN(e)||isDateObject(e)&&isNaN(e.getTime())||deepEqual$1(e,get$1(p,f,e))},T=getValidationModes(a.mode),E=getValidationModes(a.reValidateMode);if(_){let m,A;const L=u.type?getFieldValue(_._f):getEventValue(e),O=e.type===Gj||e.type===Yj,I=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(_._f)&&!a.resolver&&!get$1(l.errors,f)&&!_._f.deps||((e,s,a,l,c)=>!c.isOnAll&&(!a&&c.isOnTouch?!(s||e):(a?l.isOnBlur:c.isOnBlur)?!e:!(a?l.isOnChange:c.isOnChange)||e))(O,get$1(l.touchedFields,f),l.isSubmitted,E,T),$=isWatched(f,h,O);set(p,f,L),O?u&&u.readOnly||(_._f.onBlur&&_._f.onBlur(e),s&&s(0)):_._f.onChange&&_._f.onChange(e);const z=updateTouchAndDirty(f,L,O),U=!isEmptyObject(z)||$;if(!O&&j.state.next({name:f,type:e.type,values:cloneObject(p)}),I)return(g.isValid||b.isValid)&&("onBlur"===a.mode?O&&_setValid():O||_setValid()),U&&j.state.next({name:f,...$?{}:z});if(!O&&$&&j.state.next({...l}),a.resolver){const{errors:e}=await _runSchema([f]);if(_updateIsFieldValueUpdated(L),k){const s=schemaErrorLookup(l.errors,c,f),a=schemaErrorLookup(e,c,s.name||f);m=a.error,f=a.name,A=isEmptyObject(e)}}else _updateIsValidating([f],!0),m=(await validateField(_,h.disabled,p,N,a.shouldUseNativeValidation))[f],_updateIsValidating([f]),_updateIsFieldValueUpdated(L),k&&(m?A=!1:(g.isValid||b.isValid)&&(A=await executeBuiltInValidation(c,!0)));k&&(_._f.deps&&(!Array.isArray(_._f.deps)||_._f.deps.length>0)&&trigger(_._f.deps),shouldRenderByError(f,A,m,z))}},_focusInput=(e,s)=>{if(get$1(l.errors,s)&&e.focus)return e.focus(),1},trigger=async(e,s={})=>{let u,p;const m=convertToArrayPayload(e);if(a.resolver){const s=await(async e=>{const{errors:s}=await _runSchema(e);if(e)for(const a of e){const e=get$1(s,a);e?set(l.errors,a,e):unset(l.errors,a)}else l.errors=s;return s})(isUndefined(e)?e:m);u=isEmptyObject(s),p=e?!m.some(e=>get$1(s,e)):u}else e?(p=(await Promise.all(m.map(async e=>{const s=get$1(c,e);return await executeBuiltInValidation(s&&s._f?{[e]:s}:s)}))).every(Boolean),(p||l.isValid)&&_setValid()):p=u=await executeBuiltInValidation(c);return j.state.next({...!isString$1(e)||(g.isValid||b.isValid)&&u!==l.isValid?{}:{name:e},...a.resolver||!e?{isValid:u}:{},errors:l.errors}),s.shouldFocus&&!p&&iterateFieldsByAction(c,_focusInput,e?m:h.mount),p},getValues=(e,s)=>{let a={...m.mount?p:u};return s&&(a=extractFormValues(s.dirtyFields?l.dirtyFields:l.touchedFields,a)),isUndefined(e)?a:isString$1(e)?get$1(a,e):e.map(e=>get$1(a,e))},getFieldState=(e,s)=>({invalid:!!get$1((s||l).errors,e),isDirty:!!get$1((s||l).dirtyFields,e),error:get$1((s||l).errors,e),isValidating:!!get$1(l.validatingFields,e),isTouched:!!get$1((s||l).touchedFields,e)}),setError=(e,s,a)=>{const u=(get$1(c,e,{_f:{}})._f||{}).ref,p=get$1(l.errors,e)||{},{ref:m,message:h,type:f,...g}=p;set(l.errors,e,{...g,...s,ref:u}),j.state.next({name:e,errors:l.errors,isValid:!1}),a&&a.shouldFocus&&u&&u.focus&&u.focus()},_subscribe=e=>j.state.subscribe({next:s=>{var a,c,m;a=e.name,c=s.name,m=e.exact,a&&c&&a!==c&&!convertToArrayPayload(a).some(e=>e&&(m?e===c:e.startsWith(c)||c.startsWith(e)))||!((e,s,a,l)=>{a(e);const{name:c,...u}=e;return isEmptyObject(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(e=>s[e]===(!l||rw))})(s,e.formState||g,_setFormState,e.reRenderRoot)||e.callback({values:{...p},...l,...s,defaultValues:u})}}).unsubscribe,unregister=(e,s={})=>{for(const m of e?convertToArrayPayload(e):h.mount)h.mount.delete(m),h.array.delete(m),s.keepValue||(unset(c,m),unset(p,m)),!s.keepError&&unset(l.errors,m),!s.keepDirty&&unset(l.dirtyFields,m),!s.keepTouched&&unset(l.touchedFields,m),!s.keepIsValidating&&unset(l.validatingFields,m),!a.shouldUnregister&&!s.keepDefaultValue&&unset(u,m);j.state.next({values:cloneObject(p)}),j.state.next({...l,...s.keepDirty?{isDirty:_getDirty()}:{}}),!s.keepIsValid&&_setValid()},_setDisabledField=({disabled:e,name:s})=>{(isBoolean$1(e)&&m.mount||e||h.disabled.has(s))&&(e?h.disabled.add(s):h.disabled.delete(s))},register=(e,s={})=>{let l=get$1(c,e);const p=isBoolean$1(s.disabled)||isBoolean$1(a.disabled);return set(c,e,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:e}},name:e,mount:!0,...s}}),h.mount.add(e),l?_setDisabledField({disabled:isBoolean$1(s.disabled)?s.disabled:a.disabled,name:e}):updateValidAndValue(e,!0,s.value),{...p?{disabled:s.disabled||a.disabled}:{},...a.progressive?{required:!!s.required,min:getRuleValue(s.min),max:getRuleValue(s.max),minLength:getRuleValue(s.minLength),maxLength:getRuleValue(s.maxLength),pattern:getRuleValue(s.pattern)}:{},name:e,onChange:onChange,onBlur:onChange,ref:p=>{if(p){register(e,s),l=get$1(c,e);const a=isUndefined(p.value)&&p.querySelectorAll&&p.querySelectorAll("input,select,textarea")[0]||p,m=(e=>isRadioInput(e)||isCheckBoxInput(e))(a),h=l._f.refs||[];if(m?h.find(e=>e===a):a===l._f.ref)return;set(c,e,{_f:{...l._f,...m?{refs:[...h.filter(live),a,...Array.isArray(get$1(u,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),updateValidAndValue(e,!1,void 0,a)}else l=get$1(c,e,{}),l._f&&(l._f.mount=!1),(a.shouldUnregister||s.shouldUnregister)&&(!isNameInFieldArray(h.array,e)||!m.action)&&h.unMount.add(e)}}},_focusError=()=>a.shouldFocusError&&iterateFieldsByAction(c,_focusInput,h.mount),handleSubmit=(e,s)=>async u=>{let m;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=cloneObject(p);if(j.state.next({isSubmitting:!0}),a.resolver){const{errors:e,values:s}=await _runSchema();l.errors=e,f=cloneObject(s)}else await executeBuiltInValidation(c);if(h.disabled.size)for(const e of h.disabled)unset(f,e);if(unset(l.errors,"root"),isEmptyObject(l.errors)){j.state.next({errors:{}});try{await e(f,u)}catch(g){m=g}}else s&&await s({...l.errors},u),_focusError(),setTimeout(_focusError);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(l.errors)&&!m,submitCount:l.submitCount+1,errors:l.errors}),m)throw m},_reset=(e,s={})=>{const f=e?cloneObject(e):u,b=cloneObject(f),N=isEmptyObject(e),k=N?u:b;if(s.keepDefaultValues||(u=f),!s.keepValues){if(s.keepDirtyValues){const e=new Set([...h.mount,...Object.keys(getDirtyFields(u,p))]);for(const s of Array.from(e))get$1(l.dirtyFields,s)?set(k,s,get$1(p,s)):setValue(s,get$1(k,s))}else{if(Kj&&isUndefined(e))for(const e of h.mount){const s=get$1(c,e);if(s&&s._f){const e=Array.isArray(s._f.refs)?s._f.refs[0]:s._f.ref;if(isHTMLElement$1(e)){const s=e.closest("form");if(s){s.reset();break}}}}if(s.keepFieldsRef)for(const e of h.mount)setValue(e,get$1(k,e));else c={}}p=a.shouldUnregister?s.keepDefaultValues?cloneObject(u):{}:cloneObject(k),j.array.next({values:{...k}}),j.state.next({values:{...k}})}h={mount:s.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!g.isValid||!!s.keepIsValid||!!s.keepDirtyValues,m.watch=!!a.shouldUnregister,j.state.next({submitCount:s.keepSubmitCount?l.submitCount:0,isDirty:!N&&(s.keepDirty?l.isDirty:!(!s.keepDefaultValues||deepEqual$1(e,u))),isSubmitted:!!s.keepIsSubmitted&&l.isSubmitted,dirtyFields:N?{}:s.keepDirtyValues?s.keepDefaultValues&&p?getDirtyFields(u,p):l.dirtyFields:s.keepDefaultValues&&e?getDirtyFields(u,e):s.keepDirty?l.dirtyFields:{},touchedFields:s.keepTouched?l.touchedFields:{},errors:s.keepErrors?l.errors:{},isSubmitSuccessful:!!s.keepIsSubmitSuccessful&&l.isSubmitSuccessful,isSubmitting:!1,defaultValues:u})},reset=(e,s)=>_reset(isFunction$1(e)?e(p):e,s),_setFormState=e=>{l={...l,...e}},k={control:{register:register,unregister:unregister,getFieldState:getFieldState,handleSubmit:handleSubmit,setError:setError,_subscribe:_subscribe,_runSchema:_runSchema,_focusError:_focusError,_getWatch:_getWatch,_getDirty:_getDirty,_setValid:_setValid,_setFieldArray:(e,s=[],h,f,N=!0,k=!0)=>{if(f&&h&&!a.disabled){if(m.action=!0,k&&Array.isArray(get$1(c,e))){const s=h(get$1(c,e),f.argA,f.argB);N&&set(c,e,s)}if(k&&Array.isArray(get$1(l.errors,e))){const s=h(get$1(l.errors,e),f.argA,f.argB);N&&set(l.errors,e,s),((e,s)=>{!compact(get$1(e,s)).length&&unset(e,s)})(l.errors,e)}if((g.touchedFields||b.touchedFields)&&k&&Array.isArray(get$1(l.touchedFields,e))){const s=h(get$1(l.touchedFields,e),f.argA,f.argB);N&&set(l.touchedFields,e,s)}(g.dirtyFields||b.dirtyFields)&&(l.dirtyFields=getDirtyFields(u,p)),j.state.next({name:e,isDirty:_getDirty(e,s),dirtyFields:l.dirtyFields,errors:l.errors,isValid:l.isValid})}else set(p,e,s)},_setDisabledField:_setDisabledField,_setErrors:e=>{l.errors=e,j.state.next({errors:l.errors,isValid:!1})},_getFieldArray:e=>compact(get$1(m.mount?p:u,e,a.shouldUnregister?get$1(u,e,[]):[])),_reset:_reset,_resetDefaultValues:()=>isFunction$1(a.defaultValues)&&a.defaultValues().then(e=>{reset(e,a.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of h.unMount){const s=get$1(c,e);s&&(s._f.refs?s._f.refs.every(e=>!live(e)):!live(s._f.ref))&&unregister(e)}h.unMount=new Set},_disableForm:e=>{isBoolean$1(e)&&(j.state.next({disabled:e}),iterateFieldsByAction(c,(s,a)=>{const l=get$1(c,a);l&&(s.disabled=l._f.disabled||e,Array.isArray(l._f.refs)&&l._f.refs.forEach(s=>{s.disabled=l._f.disabled||e}))},0,!1))},_subjects:j,_proxyFormState:g,get _fields(){return c},get _formValues(){return p},get _state(){return m},set _state(e){m=e},get _defaultValues(){return u},get _names(){return h},set _names(e){h=e},get _formState(){return l},get _options(){return a},set _options(e){a={...a,...e}}},subscribe:e=>(m.mount=!0,b={...b,...e.formState},_subscribe({...e,formState:b})),trigger:trigger,register:register,handleSubmit:handleSubmit,watch:(e,s)=>isFunction$1(e)?j.state.subscribe({next:a=>"values"in a&&e(_getWatch(void 0,s),a)}):_getWatch(e,s,!0),setValue:setValue,getValues:getValues,reset:reset,resetField:(e,s={})=>{get$1(c,e)&&(isUndefined(s.defaultValue)?setValue(e,cloneObject(get$1(u,e))):(setValue(e,s.defaultValue),set(u,e,cloneObject(s.defaultValue))),s.keepTouched||unset(l.touchedFields,e),s.keepDirty||(unset(l.dirtyFields,e),l.isDirty=s.defaultValue?_getDirty(e,cloneObject(get$1(u,e))):_getDirty()),s.keepError||(unset(l.errors,e),g.isValid&&_setValid()),j.state.next({...l}))},clearErrors:e=>{e&&convertToArrayPayload(e).forEach(e=>unset(l.errors,e)),j.state.next({errors:e?l.errors:{}})},unregister:unregister,setError:setError,setFocus:(e,s={})=>{const a=get$1(c,e),l=a&&a._f;if(l){const e=l.refs?l.refs[0]:l.ref;e.focus&&(e.focus(),s.shouldSelect&&isFunction$1(e.select)&&e.select())}},getFieldState:getFieldState};return{...k,formControl:k}}function useForm(e={}){const s=ae.useRef(void 0),a=ae.useRef(void 0),[l,c]=ae.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$1(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:isFunction$1(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:l},e.defaultValues&&!isFunction$1(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...c}=createFormControl(e);s.current={...c,formState:l}}const u=s.current.control;return u._options=e,uw(()=>{const e=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(e=>({...e,isReady:!0})),u._formState.isReady=!0,e},[u]),ae.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),ae.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),ae.useEffect(()=>{if(u._proxyFormState.isDirty){const e=u._getDirty();e!==l.isDirty&&u._subjects.state.next({isDirty:e})}},[u,l.isDirty]),ae.useEffect(()=>{e.values&&!deepEqual$1(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,c(e=>({...e}))):u._resetDefaultValues()},[u,e.values]),ae.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),s.current.formState=getProxyFormState(l,u),s.current}const s$1=(e,s,a)=>{if(e&&"reportValidity"in e){const l=get$1(a,s);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},o=(e,s)=>{for(const a in s.fields){const l=s.fields[a];l&&l.ref&&"reportValidity"in l.ref?s$1(l.ref,a,e):l.refs&&l.refs.forEach(s=>s$1(s,a,e))}},r=(e,s)=>{s.shouldUseNativeValidation&&o(e,s);const a={};for(const l in e){const c=get$1(s.fields,l),u=Object.assign(e[l]||{},{ref:c&&c.ref});if(i(s.names||Object.keys(e),l)){const e=Object.assign({},get$1(a,l));set(e,"root",u),set(a,l,e)}else set(a,l,u)}return a},i=(e,s)=>e.some(e=>e.startsWith(s+"."));var xw,vw,yw,n=function(e,s){for(var a={};e.length;){var l=e[0],c=l.code,u=l.message,p=l.path.join(".");if(!a[p])if("unionErrors"in l){var m=l.unionErrors[0].errors[0];a[p]={message:m.message,type:m.code}}else a[p]={message:u,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(s){return s.errors.forEach(function(s){return e.push(s)})}),s){var h=a[p].types,f=h&&h[l.code];a[p]=appendErrors(p,s,a,c,f?[].concat(f,l.message):l.message)}e.shift()}return a},t=function(e,s,a){return void 0===a&&(a={}),function(l,c,u){try{return Promise.resolve(function(c,p){try{var m=Promise.resolve(e["sync"===a.mode?"parse":"parseAsync"](l,s)).then(function(e){return u.shouldUseNativeValidation&&o({},u),{errors:{},values:a.raw?l:e}})}catch(h){return p(h)}return m&&m.then?m.then(void 0,p):m}(0,function(e){if(s=e,Array.isArray(null==s?void 0:s.errors))return{values:{},errors:r(n(e.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};var s;throw e}))}catch(p){return Promise.reject(p)}}};(vw=xw||(xw={})).assertEqual=e=>e,vw.assertIs=function assertIs(e){},vw.assertNever=function assertNever(e){throw new Error},vw.arrayToEnum=e=>{const s={};for(const a of e)s[a]=a;return s},vw.getValidEnumValues=e=>{const s=vw.objectKeys(e).filter(s=>"number"!=typeof e[e[s]]),a={};for(const l of s)a[l]=e[l];return vw.objectValues(a)},vw.objectValues=e=>vw.objectKeys(e).map(function(s){return e[s]}),vw.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const s=[];for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.push(a);return s},vw.find=(e,s)=>{for(const a of e)if(s(a))return a},vw.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,vw.joinValues=function joinValues(e,s=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(s)},vw.jsonStringifyReplacer=(e,s)=>"bigint"==typeof s?s.toString():s,(yw||(yw={})).mergeShapes=(e,s)=>({...e,...s});const bw=xw.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return bw.undefined;case"string":return bw.string;case"number":return isNaN(e)?bw.nan:bw.number;case"boolean":return bw.boolean;case"function":return bw.function;case"bigint":return bw.bigint;case"symbol":return bw.symbol;case"object":return Array.isArray(e)?bw.array:null===e?bw.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?bw.promise:"undefined"!=typeof Map&&e instanceof Map?bw.map:"undefined"!=typeof Set&&e instanceof Set?bw.set:"undefined"!=typeof Date&&e instanceof Date?bw.date:bw.object;default:return bw.unknown}},jw=xw.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(e){return e.message},a={_errors:[]},processError=e=>{for(const l of e.issues)if("invalid_union"===l.code)l.unionErrors.map(processError);else if("invalid_return_type"===l.code)processError(l.returnTypeError);else if("invalid_arguments"===l.code)processError(l.argumentsError);else if(0===l.path.length)a._errors.push(s(l));else{let e=a,c=0;for(;c<l.path.length;){const a=l.path[c];c===l.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(s(l))):e[a]=e[a]||{_errors:[]},e=e[a],c++}}};return processError(this),a}static assert(e){if(!(e instanceof ZodError))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xw.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const s={},a=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(e(l))):a.push(e(l));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,s)=>{let a;switch(e.code){case jw.invalid_type:a=e.received===bw.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case jw.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,xw.jsonStringifyReplacer)}`;break;case jw.unrecognized_keys:a=`Unrecognized key(s) in object: ${xw.joinValues(e.keys,", ")}`;break;case jw.invalid_union:a="Invalid input";break;case jw.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${xw.joinValues(e.options)}`;break;case jw.invalid_enum_value:a=`Invalid enum value. Expected ${xw.joinValues(e.options)}, received '${e.received}'`;break;case jw.invalid_arguments:a="Invalid function arguments";break;case jw.invalid_return_type:a="Invalid function return type";break;case jw.invalid_date:a="Invalid date";break;case jw.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:xw.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case jw.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case jw.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case jw.custom:a="Invalid input";break;case jw.invalid_intersection_types:a="Intersection results could not be merged";break;case jw.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case jw.not_finite:a="Number must be finite";break;default:a=s.defaultError,xw.assertNever(e)}return{message:a}};let ww=errorMap;function getErrorMap(){return ww}const makeIssue=e=>{const{data:s,path:a,errorMaps:l,issueData:c}=e,u=[...a,...c.path||[]],p={...c,path:u};if(void 0!==c.message)return{...c,path:u,message:c.message};let m="";const h=l.filter(e=>!!e).slice().reverse();for(const f of h)m=f(p,{data:s,defaultError:m}).message;return{...c,path:u,message:m}};function addIssueToContext(e,s){const a=getErrorMap(),l=makeIssue({issueData:s,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,a,a===errorMap?void 0:errorMap].filter(e=>!!e)});e.common.issues.push(l)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,s){const a=[];for(const l of s){if("aborted"===l.status)return Nw;"dirty"===l.status&&e.dirty(),a.push(l.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,s){const a=[];for(const l of s){const e=await l.key,s=await l.value;a.push({key:e,value:s})}return ParseStatus.mergeObjectSync(e,a)}static mergeObjectSync(e,s){const a={};for(const l of s){const{key:s,value:c}=l;if("aborted"===s.status)return Nw;if("aborted"===c.status)return Nw;"dirty"===s.status&&e.dirty(),"dirty"===c.status&&e.dirty(),"__proto__"===s.value||void 0===c.value&&!l.alwaysSet||(a[s.value]=c.value)}return{status:e.value,value:a}}}const Nw=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid$1=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;function __classPrivateFieldGet(e,s,a,l){if("function"==typeof s||!s.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s.get(e)}function __classPrivateFieldSet(e,s,a,l,c){if("function"==typeof s||!s.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(e,a),a}var Sw,Cw,kw,_w;"function"==typeof SuppressedError&&SuppressedError,(Cw=Sw||(Sw={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Cw.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class ParseInputLazyPath{constructor(e,s,a,l){this._cachedPath=[],this.parent=e,this.data=s,this._path=a,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,s)=>{if(isValid$1(s))return{success:!0,data:s.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ZodError(e.common.issues);return this._error=s,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:s,invalid_type_error:a,required_error:l,description:c}=e;if(s&&(a||l))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(s)return{errorMap:s,description:c};return{errorMap:(s,c)=>{var u,p;const{message:m}=e;return"invalid_enum_value"===s.code?{message:null!=m?m:c.defaultError}:void 0===c.data?{message:null!==(u=null!=m?m:l)&&void 0!==u?u:c.defaultError}:"invalid_type"!==s.code?{message:c.defaultError}:{message:null!==(p=null!=m?m:a)&&void 0!==p?p:c.defaultError}},description:c}}class ZodType{get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(isAsync(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const a=this.safeParse(e,s);if(a.success)return a.data;throw a.error}safeParse(e,s){var a;const l={common:{issues:[],async:null!==(a=null==s?void 0:s.async)&&void 0!==a&&a,contextualErrorMap:null==s?void 0:s.errorMap},path:(null==s?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},c=this._parseSync({data:e,path:l.path,parent:l});return handleResult(l,c)}"~validate"(e){var s,a;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:l});return isValid$1(s)?{value:s.value}:{issues:l.common.issues}}catch(pW){(null===(a=null===(s=null==pW?void 0:pW.message)||void 0===s?void 0:s.toLowerCase())||void 0===a?void 0:a.includes("encountered"))&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(e=>isValid$1(e)?{value:e.value}:{issues:l.common.issues})}async parseAsync(e,s){const a=await this.safeParseAsync(e,s);if(a.success)return a.data;throw a.error}async safeParseAsync(e,s){const a={common:{issues:[],contextualErrorMap:null==s?void 0:s.errorMap,async:!0},path:(null==s?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},l=this._parse({data:e,path:a.path,parent:a}),c=await(isAsync(l)?l:Promise.resolve(l));return handleResult(a,c)}refine(e,s){const getIssueProperties=e=>"string"==typeof s||void 0===s?{message:s}:"function"==typeof s?s(e):s;return this._refinement((s,a)=>{const l=e(s),setError=()=>a.addIssue({code:jw.custom,...getIssueProperties(s)});return"undefined"!=typeof Promise&&l instanceof Promise?l.then(e=>!!e||(setError(),!1)):!!l||(setError(),!1)})}refinement(e,s){return this._refinement((a,l)=>!!e(a)||(l.addIssue("function"==typeof s?s(a,l):s),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:Zw.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:Zw.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s="function"==typeof e?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:s,typeName:Zw.ZodDefault})}brand(){return new ZodBranded({typeName:Zw.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const s="function"==typeof e?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:s,typeName:Zw.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pw=/^c[^\s-]{8,}$/i,Tw=/^[0-9a-z]+$/,Ew=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Aw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mw=/^[a-z0-9_-]{21}$/i,Lw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Dw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ow=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Iw;const $w=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Fw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Uw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Hw=new RegExp(`^${Uw}$`);function timeRegexSource(e){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?s=`${s}\\.\\d{${e.precision}}`:null==e.precision&&(s=`${s}(\\.\\d+)?`),s}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let s=`${Uw}T${timeRegexSource(e)}`;const a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${a.join("|")})`,new RegExp(`^${s}$`)}function isValidIP(e,s){return!("v4"!==s&&s||!$w.test(e))||!("v6"!==s&&s||!Fw.test(e))}function isValidJWT(e,s){if(!Lw.test(e))return!1;try{const[a]=e.split("."),l=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),c=JSON.parse(atob(l));return"object"==typeof c&&null!==c&&(!(!c.typ||!c.alg)&&(!s||c.alg===s))}catch(a){return!1}}function isValidCidr(e,s){return!("v4"!==s&&s||!Rw.test(e))||!("v6"!==s&&s||!Bw.test(e))}class ZodString extends ZodType{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==bw.string){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.string,received:s.parsedType}),Nw}const s=new ParseStatus;let a;for(const c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if("max"===c.kind)e.data.length>c.value&&(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if("length"===c.kind){const l=e.data.length>c.value,u=e.data.length<c.value;(l||u)&&(a=this._getOrReturnCtx(e,a),l?addIssueToContext(a,{code:jw.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):u&&addIssueToContext(a,{code:jw.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),s.dirty())}else if("email"===c.kind)Ow.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"email",code:jw.invalid_string,message:c.message}),s.dirty());else if("emoji"===c.kind)Iw||(Iw=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Iw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"emoji",code:jw.invalid_string,message:c.message}),s.dirty());else if("uuid"===c.kind)Aw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"uuid",code:jw.invalid_string,message:c.message}),s.dirty());else if("nanoid"===c.kind)Mw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"nanoid",code:jw.invalid_string,message:c.message}),s.dirty());else if("cuid"===c.kind)Pw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"cuid",code:jw.invalid_string,message:c.message}),s.dirty());else if("cuid2"===c.kind)Tw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"cuid2",code:jw.invalid_string,message:c.message}),s.dirty());else if("ulid"===c.kind)Ew.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"ulid",code:jw.invalid_string,message:c.message}),s.dirty());else if("url"===c.kind)try{new URL(e.data)}catch(l){a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"url",code:jw.invalid_string,message:c.message}),s.dirty()}else if("regex"===c.kind){c.regex.lastIndex=0;c.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"regex",code:jw.invalid_string,message:c.message}),s.dirty())}else if("trim"===c.kind)e.data=e.data.trim();else if("includes"===c.kind)e.data.includes(c.value,c.position)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),s.dirty());else if("toLowerCase"===c.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===c.kind)e.data=e.data.toUpperCase();else if("startsWith"===c.kind)e.data.startsWith(c.value)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty());else if("endsWith"===c.kind)e.data.endsWith(c.value)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty());else if("datetime"===c.kind){datetimeRegex(c).test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:"datetime",message:c.message}),s.dirty())}else if("date"===c.kind){Hw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:"date",message:c.message}),s.dirty())}else if("time"===c.kind){timeRegex(c).test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.invalid_string,validation:"time",message:c.message}),s.dirty())}else"duration"===c.kind?Dw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"duration",code:jw.invalid_string,message:c.message}),s.dirty()):"ip"===c.kind?isValidIP(e.data,c.version)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"ip",code:jw.invalid_string,message:c.message}),s.dirty()):"jwt"===c.kind?isValidJWT(e.data,c.alg)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"jwt",code:jw.invalid_string,message:c.message}),s.dirty()):"cidr"===c.kind?isValidCidr(e.data,c.version)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"cidr",code:jw.invalid_string,message:c.message}),s.dirty()):"base64"===c.kind?zw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"base64",code:jw.invalid_string,message:c.message}),s.dirty()):"base64url"===c.kind?Vw.test(e.data)||(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{validation:"base64url",code:jw.invalid_string,message:c.message}),s.dirty()):xw.assertNever(c);return{status:s.value,value:e.data}}_regex(e,s,a){return this.refinement(s=>e.test(s),{validation:s,code:jw.invalid_string,...Sw.errToObj(a)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Sw.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Sw.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Sw.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Sw.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Sw.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Sw.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Sw.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Sw.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Sw.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Sw.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Sw.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Sw.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Sw.errToObj(e)})}datetime(e){var s,a;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(s=null==e?void 0:e.offset)&&void 0!==s&&s,local:null!==(a=null==e?void 0:e.local)&&void 0!==a&&a,...Sw.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...Sw.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Sw.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Sw.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:null==s?void 0:s.position,...Sw.errToObj(null==s?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Sw.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Sw.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Sw.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Sw.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Sw.errToObj(s)})}nonempty(e){return this.min(1,Sw.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const s of this._def.checks)"min"===s.kind&&(null===e||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)"max"===s.kind&&(null===e||s.value<e)&&(e=s.value);return e}}function floatSafeRemainder(e,s){const a=(e.toString().split(".")[1]||"").length,l=(s.toString().split(".")[1]||"").length,c=a>l?a:l;return parseInt(e.toFixed(c).replace(".",""))%parseInt(s.toFixed(c).replace(".",""))/Math.pow(10,c)}ZodString.create=e=>{var s;return new ZodString({checks:[],typeName:Zw.ZodString,coerce:null!==(s=null==e?void 0:e.coerce)&&void 0!==s&&s,...processCreateParams(e)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==bw.number){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.number,received:s.parsedType}),Nw}let s;const a=new ParseStatus;for(const l of this._def.checks)if("int"===l.kind)xw.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty());else if("min"===l.kind){(l.inclusive?e.data<l.value:e.data<=l.value)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty())}else if("max"===l.kind){(l.inclusive?e.data>l.value:e.data>=l.value)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty())}else"multipleOf"===l.kind?0!==floatSafeRemainder(e.data,l.value)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):"finite"===l.kind?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.not_finite,message:l.message}),a.dirty()):xw.assertNever(l);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Sw.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Sw.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Sw.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Sw.toString(s))}setLimit(e,s,a,l){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:Sw.toString(l)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Sw.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Sw.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Sw.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Sw.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Sw.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Sw.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Sw.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Sw.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Sw.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)"min"===s.kind&&(null===e||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)"max"===s.kind&&(null===e||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&xw.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===s||a.value>s)&&(s=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(s)&&Number.isFinite(e)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:Zw.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(l){return this._getInvalidInput(e)}if(this._getType(e)!==bw.bigint)return this._getInvalidInput(e);let s;const a=new ParseStatus;for(const c of this._def.checks)if("min"===c.kind){(c.inclusive?e.data<c.value:e.data<=c.value)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),a.dirty())}else if("max"===c.kind){(c.inclusive?e.data>c.value:e.data>=c.value)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),a.dirty())}else"multipleOf"===c.kind?e.data%c.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:jw.not_multiple_of,multipleOf:c.value,message:c.message}),a.dirty()):xw.assertNever(c);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.bigint,received:s.parsedType}),Nw}gte(e,s){return this.setLimit("min",e,!0,Sw.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Sw.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Sw.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Sw.toString(s))}setLimit(e,s,a,l){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:Sw.toString(l)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Sw.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Sw.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Sw.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Sw.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Sw.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)"min"===s.kind&&(null===e||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)"max"===s.kind&&(null===e||s.value<e)&&(e=s.value);return e}}ZodBigInt.create=e=>{var s;return new ZodBigInt({checks:[],typeName:Zw.ZodBigInt,coerce:null!==(s=null==e?void 0:e.coerce)&&void 0!==s&&s,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==bw.boolean){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.boolean,received:s.parsedType}),Nw}return OK(e.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:Zw.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==bw.date){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.date,received:s.parsedType}),Nw}if(isNaN(e.data.getTime())){return addIssueToContext(this._getOrReturnCtx(e),{code:jw.invalid_date}),Nw}const s=new ParseStatus;let a;for(const l of this._def.checks)"min"===l.kind?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),s.dirty()):"max"===l.kind?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),addIssueToContext(a,{code:jw.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),s.dirty()):xw.assertNever(l);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Sw.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Sw.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)"min"===s.kind&&(null===e||s.value>e)&&(e=s.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)"max"===s.kind&&(null===e||s.value<e)&&(e=s.value);return null!=e?new Date(e):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Zw.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==bw.symbol){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.symbol,received:s.parsedType}),Nw}return OK(e.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:Zw.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==bw.undefined){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.undefined,received:s.parsedType}),Nw}return OK(e.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:Zw.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==bw.null){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.null,received:s.parsedType}),Nw}return OK(e.data)}}ZodNull.create=e=>new ZodNull({typeName:Zw.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=e=>new ZodAny({typeName:Zw.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:Zw.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(e){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.never,received:s.parsedType}),Nw}}ZodNever.create=e=>new ZodNever({typeName:Zw.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==bw.undefined){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.void,received:s.parsedType}),Nw}return OK(e.data)}}ZodVoid.create=e=>new ZodVoid({typeName:Zw.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(e){const{ctx:s,status:a}=this._processInputParams(e),l=this._def;if(s.parsedType!==bw.array)return addIssueToContext(s,{code:jw.invalid_type,expected:bw.array,received:s.parsedType}),Nw;if(null!==l.exactLength){const e=s.data.length>l.exactLength.value,c=s.data.length<l.exactLength.value;(e||c)&&(addIssueToContext(s,{code:e?jw.too_big:jw.too_small,minimum:c?l.exactLength.value:void 0,maximum:e?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),a.dirty())}if(null!==l.minLength&&s.data.length<l.minLength.value&&(addIssueToContext(s,{code:jw.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),a.dirty()),null!==l.maxLength&&s.data.length>l.maxLength.value&&(addIssueToContext(s,{code:jw.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((e,a)=>l.type._parseAsync(new ParseInputLazyPath(s,e,s.path,a)))).then(e=>ParseStatus.mergeArray(a,e));const c=[...s.data].map((e,a)=>l.type._parseSync(new ParseInputLazyPath(s,e,s.path,a)));return ParseStatus.mergeArray(a,c)}get element(){return this._def.type}min(e,s){return new ZodArray({...this._def,minLength:{value:e,message:Sw.toString(s)}})}max(e,s){return new ZodArray({...this._def,maxLength:{value:e,message:Sw.toString(s)}})}length(e,s){return new ZodArray({...this._def,exactLength:{value:e,message:Sw.toString(s)}})}nonempty(e){return this.min(1,e)}}function deepPartialify(e){if(e instanceof ZodObject){const s={};for(const a in e.shape){const l=e.shape[a];s[a]=ZodOptional.create(deepPartialify(l))}return new ZodObject({...e._def,shape:()=>s})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(e=>deepPartialify(e))):e}ZodArray.create=(e,s)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Zw.ZodArray,...processCreateParams(s)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),s=xw.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==bw.object){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.object,received:s.parsedType}),Nw}const{status:s,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const m in a.data)c.includes(m)||u.push(m);const p=[];for(const m of c){const e=l[m],s=a.data[m];p.push({key:{status:"valid",value:m},value:e._parse(new ParseInputLazyPath(a,s,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof ZodNever){const e=this._def.unknownKeys;if("passthrough"===e)for(const s of u)p.push({key:{status:"valid",value:s},value:{status:"valid",value:a.data[s]}});else if("strict"===e)u.length>0&&(addIssueToContext(a,{code:jw.unrecognized_keys,keys:u}),s.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const s of u){const l=a.data[s];p.push({key:{status:"valid",value:s},value:e._parse(new ParseInputLazyPath(a,l,a.path,s)),alwaysSet:s in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const e=[];for(const s of p){const a=await s.key,l=await s.value;e.push({key:a,value:l,alwaysSet:s.alwaysSet})}return e}).then(e=>ParseStatus.mergeObjectSync(s,e)):ParseStatus.mergeObjectSync(s,p)}get shape(){return this._def.shape()}strict(e){return Sw.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(s,a)=>{var l,c,u,p;const m=null!==(u=null===(c=(l=this._def).errorMap)||void 0===c?void 0:c.call(l,s,a).message)&&void 0!==u?u:a.defaultError;return"unrecognized_keys"===s.code?{message:null!==(p=Sw.errToObj(e).message)&&void 0!==p?p:m}:{message:m}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zw.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const s={};return xw.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(s[a]=this.shape[a])}),new ZodObject({...this._def,shape:()=>s})}omit(e){const s={};return xw.objectKeys(this.shape).forEach(a=>{e[a]||(s[a]=this.shape[a])}),new ZodObject({...this._def,shape:()=>s})}deepPartial(){return deepPartialify(this)}partial(e){const s={};return xw.objectKeys(this.shape).forEach(a=>{const l=this.shape[a];e&&!e[a]?s[a]=l:s[a]=l.optional()}),new ZodObject({...this._def,shape:()=>s})}required(e){const s={};return xw.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])s[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof ZodOptional;)e=e._def.innerType;s[a]=e}}),new ZodObject({...this._def,shape:()=>s})}keyof(){return createZodEnum(xw.objectKeys(this.shape))}}ZodObject.create=(e,s)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:Zw.ZodObject,...processCreateParams(s)}),ZodObject.strictCreate=(e,s)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:Zw.ZodObject,...processCreateParams(s)}),ZodObject.lazycreate=(e,s)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:Zw.ZodObject,...processCreateParams(s)});class ZodUnion extends ZodType{_parse(e){const{ctx:s}=this._processInputParams(e),a=this._def.options;if(s.common.async)return Promise.all(a.map(async e=>{const a={...s,common:{...s.common,issues:[]},parent:null};return{result:await e._parseAsync({data:s.data,path:s.path,parent:a}),ctx:a}})).then(function handleResults(e){for(const s of e)if("valid"===s.result.status)return s.result;for(const l of e)if("dirty"===l.result.status)return s.common.issues.push(...l.ctx.common.issues),l.result;const a=e.map(e=>new ZodError(e.ctx.common.issues));return addIssueToContext(s,{code:jw.invalid_union,unionErrors:a}),Nw});{let e;const l=[];for(const u of a){const a={...s,common:{...s.common,issues:[]},parent:null},c=u._parseSync({data:s.data,path:s.path,parent:a});if("valid"===c.status)return c;"dirty"!==c.status||e||(e={result:c,ctx:a}),a.common.issues.length&&l.push(a.common.issues)}if(e)return s.common.issues.push(...e.ctx.common.issues),e.result;const c=l.map(e=>new ZodError(e));return addIssueToContext(s,{code:jw.invalid_union,unionErrors:c}),Nw}}get options(){return this._def.options}}ZodUnion.create=(e,s)=>new ZodUnion({options:e,typeName:Zw.ZodUnion,...processCreateParams(s)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?xw.objectValues(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:e instanceof ZodOptional?[void 0,...getDiscriminator(e.unwrap())]:e instanceof ZodNullable?[null,...getDiscriminator(e.unwrap())]:e instanceof ZodBranded||e instanceof ZodReadonly?getDiscriminator(e.unwrap()):e instanceof ZodCatch?getDiscriminator(e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==bw.object)return addIssueToContext(s,{code:jw.invalid_type,expected:bw.object,received:s.parsedType}),Nw;const a=this.discriminator,l=s.data[a],c=this.optionsMap.get(l);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(addIssueToContext(s,{code:jw.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Nw)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,a){const l=new Map;for(const c of s){const s=getDiscriminator(c.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(l.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);l.set(a,c)}}return new ZodDiscriminatedUnion({typeName:Zw.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:l,...processCreateParams(a)})}}function mergeValues(e,s){const a=getParsedType(e),l=getParsedType(s);if(e===s)return{valid:!0,data:e};if(a===bw.object&&l===bw.object){const a=xw.objectKeys(s),l=xw.objectKeys(e).filter(e=>-1!==a.indexOf(e)),c={...e,...s};for(const u of l){const a=mergeValues(e[u],s[u]);if(!a.valid)return{valid:!1};c[u]=a.data}return{valid:!0,data:c}}if(a===bw.array&&l===bw.array){if(e.length!==s.length)return{valid:!1};const a=[];for(let l=0;l<e.length;l++){const c=mergeValues(e[l],s[l]);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}return a===bw.date&&l===bw.date&&+e===+s?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(e){const{status:s,ctx:a}=this._processInputParams(e),handleParsed=(e,l)=>{if(isAborted(e)||isAborted(l))return Nw;const c=mergeValues(e.value,l.value);return c.valid?((isDirty(e)||isDirty(l))&&s.dirty(),{status:s.value,value:c.data}):(addIssueToContext(a,{code:jw.invalid_intersection_types}),Nw)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,s])=>handleParsed(e,s)):handleParsed(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ZodIntersection.create=(e,s,a)=>new ZodIntersection({left:e,right:s,typeName:Zw.ZodIntersection,...processCreateParams(a)});class ZodTuple extends ZodType{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==bw.array)return addIssueToContext(a,{code:jw.invalid_type,expected:bw.array,received:a.parsedType}),Nw;if(a.data.length<this._def.items.length)return addIssueToContext(a,{code:jw.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Nw;!this._def.rest&&a.data.length>this._def.items.length&&(addIssueToContext(a,{code:jw.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const l=[...a.data].map((e,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new ParseInputLazyPath(a,e,a.path,s)):null}).filter(e=>!!e);return a.common.async?Promise.all(l).then(e=>ParseStatus.mergeArray(s,e)):ParseStatus.mergeArray(s,l)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(e,s)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:Zw.ZodTuple,rest:null,...processCreateParams(s)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==bw.object)return addIssueToContext(a,{code:jw.invalid_type,expected:bw.object,received:a.parsedType}),Nw;const l=[],c=this._def.keyType,u=this._def.valueType;for(const p in a.data)l.push({key:c._parse(new ParseInputLazyPath(a,p,a.path,p)),value:u._parse(new ParseInputLazyPath(a,a.data[p],a.path,p)),alwaysSet:p in a.data});return a.common.async?ParseStatus.mergeObjectAsync(s,l):ParseStatus.mergeObjectSync(s,l)}get element(){return this._def.valueType}static create(e,s,a){return new ZodRecord(s instanceof ZodType?{keyType:e,valueType:s,typeName:Zw.ZodRecord,...processCreateParams(a)}:{keyType:ZodString.create(),valueType:e,typeName:Zw.ZodRecord,...processCreateParams(s)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==bw.map)return addIssueToContext(a,{code:jw.invalid_type,expected:bw.map,received:a.parsedType}),Nw;const l=this._def.keyType,c=this._def.valueType,u=[...a.data.entries()].map(([e,s],u)=>({key:l._parse(new ParseInputLazyPath(a,e,a.path,[u,"key"])),value:c._parse(new ParseInputLazyPath(a,s,a.path,[u,"value"]))}));if(a.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const a of u){const l=await a.key,c=await a.value;if("aborted"===l.status||"aborted"===c.status)return Nw;"dirty"!==l.status&&"dirty"!==c.status||s.dirty(),e.set(l.value,c.value)}return{status:s.value,value:e}})}{const e=new Map;for(const a of u){const l=a.key,c=a.value;if("aborted"===l.status||"aborted"===c.status)return Nw;"dirty"!==l.status&&"dirty"!==c.status||s.dirty(),e.set(l.value,c.value)}return{status:s.value,value:e}}}}ZodMap.create=(e,s,a)=>new ZodMap({valueType:s,keyType:e,typeName:Zw.ZodMap,...processCreateParams(a)});class ZodSet extends ZodType{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==bw.set)return addIssueToContext(a,{code:jw.invalid_type,expected:bw.set,received:a.parsedType}),Nw;const l=this._def;null!==l.minSize&&a.data.size<l.minSize.value&&(addIssueToContext(a,{code:jw.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),null!==l.maxSize&&a.data.size>l.maxSize.value&&(addIssueToContext(a,{code:jw.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function finalizeSet(e){const a=new Set;for(const l of e){if("aborted"===l.status)return Nw;"dirty"===l.status&&s.dirty(),a.add(l.value)}return{status:s.value,value:a}}const u=[...a.data.values()].map((e,s)=>c._parse(new ParseInputLazyPath(a,e,a.path,s)));return a.common.async?Promise.all(u).then(e=>finalizeSet(e)):finalizeSet(u)}min(e,s){return new ZodSet({...this._def,minSize:{value:e,message:Sw.toString(s)}})}max(e,s){return new ZodSet({...this._def,maxSize:{value:e,message:Sw.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}ZodSet.create=(e,s)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:Zw.ZodSet,...processCreateParams(s)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==bw.function)return addIssueToContext(s,{code:jw.invalid_type,expected:bw.function,received:s.parsedType}),Nw;function makeArgsIssue(e,a){return makeIssue({data:e,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:jw.invalid_arguments,argumentsError:a}})}function makeReturnsIssue(e,a){return makeIssue({data:e,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:jw.invalid_return_type,returnTypeError:a}})}const a={errorMap:s.common.contextualErrorMap},l=s.data;if(this._def.returns instanceof ZodPromise){const e=this;return OK(async function(...s){const c=new ZodError([]),u=await e._def.args.parseAsync(s,a).catch(e=>{throw c.addIssue(makeArgsIssue(s,e)),c}),p=await Reflect.apply(l,this,u);return await e._def.returns._def.type.parseAsync(p,a).catch(e=>{throw c.addIssue(makeReturnsIssue(p,e)),c})})}{const e=this;return OK(function(...s){const c=e._def.args.safeParse(s,a);if(!c.success)throw new ZodError([makeArgsIssue(s,c.error)]);const u=Reflect.apply(l,this,c.data),p=e._def.returns.safeParse(u,a);if(!p.success)throw new ZodError([makeReturnsIssue(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,a){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:s||ZodUnknown.create(),typeName:Zw.ZodFunction,...processCreateParams(a)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}ZodLazy.create=(e,s)=>new ZodLazy({getter:e,typeName:Zw.ZodLazy,...processCreateParams(s)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{received:s.data,code:jw.invalid_literal,expected:this._def.value}),Nw}return{status:"valid",value:e.data}}get value(){return this._def.value}}function createZodEnum(e,s){return new ZodEnum({values:e,typeName:Zw.ZodEnum,...processCreateParams(s)})}ZodLiteral.create=(e,s)=>new ZodLiteral({value:e,typeName:Zw.ZodLiteral,...processCreateParams(s)});class ZodEnum extends ZodType{constructor(){super(...arguments),kw.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const s=this._getOrReturnCtx(e),a=this._def.values;return addIssueToContext(s,{expected:xw.joinValues(a),received:s.parsedType,code:jw.invalid_type}),Nw}if(__classPrivateFieldGet(this,kw)||__classPrivateFieldSet(this,kw,new Set(this._def.values)),!__classPrivateFieldGet(this,kw).has(e.data)){const s=this._getOrReturnCtx(e),a=this._def.values;return addIssueToContext(s,{received:s.data,code:jw.invalid_enum_value,options:a}),Nw}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return ZodEnum.create(e,{...this._def,...s})}exclude(e,s=this._def){return ZodEnum.create(this.options.filter(s=>!e.includes(s)),{...this._def,...s})}}kw=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_w.set(this,void 0)}_parse(e){const s=xw.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==bw.string&&a.parsedType!==bw.number){const e=xw.objectValues(s);return addIssueToContext(a,{expected:xw.joinValues(e),received:a.parsedType,code:jw.invalid_type}),Nw}if(__classPrivateFieldGet(this,_w)||__classPrivateFieldSet(this,_w,new Set(xw.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_w).has(e.data)){const e=xw.objectValues(s);return addIssueToContext(a,{received:a.data,code:jw.invalid_enum_value,options:e}),Nw}return OK(e.data)}get enum(){return this._def.values}}_w=new WeakMap,ZodNativeEnum.create=(e,s)=>new ZodNativeEnum({values:e,typeName:Zw.ZodNativeEnum,...processCreateParams(s)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==bw.promise&&!1===s.common.async)return addIssueToContext(s,{code:jw.invalid_type,expected:bw.promise,received:s.parsedType}),Nw;const a=s.parsedType===bw.promise?s.data:Promise.resolve(s.data);return OK(a.then(e=>this._def.type.parseAsync(e,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ZodPromise.create=(e,s)=>new ZodPromise({type:e,typeName:Zw.ZodPromise,...processCreateParams(s)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zw.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:a}=this._processInputParams(e),l=this._def.effect||null,c={addIssue:e=>{addIssueToContext(a,e),e.fatal?s.abort():s.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),"preprocess"===l.type){const e=l.transform(a.data,c);if(a.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===s.value)return Nw;const l=await this._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===l.status?Nw:"dirty"===l.status||"dirty"===s.value?DIRTY(l.value):l});{if("aborted"===s.value)return Nw;const l=this._def.schema._parseSync({data:e,path:a.path,parent:a});return"aborted"===l.status?Nw:"dirty"===l.status||"dirty"===s.value?DIRTY(l.value):l}}if("refinement"===l.type){const executeRefinement=e=>{const s=l.refinement(e,c);if(a.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){const e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?Nw:("dirty"===e.status&&s.dirty(),executeRefinement(e.value),{status:s.value,value:e.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>"aborted"===e.status?Nw:("dirty"===e.status&&s.dirty(),executeRefinement(e.value).then(()=>({status:s.value,value:e.value}))))}if("transform"===l.type){if(!1===a.common.async){const e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!isValid$1(e))return e;const u=l.transform(e.value,c);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:u}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>isValid$1(e)?Promise.resolve(l.transform(e.value,c)).then(e=>({status:s.value,value:e})):e)}xw.assertNever(l)}}ZodEffects.create=(e,s,a)=>new ZodEffects({schema:e,typeName:Zw.ZodEffects,effect:s,...processCreateParams(a)}),ZodEffects.createWithPreprocess=(e,s,a)=>new ZodEffects({schema:s,effect:{type:"preprocess",transform:e},typeName:Zw.ZodEffects,...processCreateParams(a)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===bw.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,s)=>new ZodOptional({innerType:e,typeName:Zw.ZodOptional,...processCreateParams(s)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===bw.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,s)=>new ZodNullable({innerType:e,typeName:Zw.ZodNullable,...processCreateParams(s)});class ZodDefault extends ZodType{_parse(e){const{ctx:s}=this._processInputParams(e);let a=s.data;return s.parsedType===bw.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,s)=>new ZodDefault({innerType:e,typeName:Zw.ZodDefault,defaultValue:"function"==typeof s.default?s.default:()=>s.default,...processCreateParams(s)});class ZodCatch extends ZodType{_parse(e){const{ctx:s}=this._processInputParams(e),a={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return isAsync(l)?l.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===l.status?l.value:this._def.catchValue({get error(){return new ZodError(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,s)=>new ZodCatch({innerType:e,typeName:Zw.ZodCatch,catchValue:"function"==typeof s.catch?s.catch:()=>s.catch,...processCreateParams(s)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==bw.nan){const s=this._getOrReturnCtx(e);return addIssueToContext(s,{code:jw.invalid_type,expected:bw.nan,received:s.parsedType}),Nw}return{status:"valid",value:e.data}}}ZodNaN.create=e=>new ZodNaN({typeName:Zw.ZodNaN,...processCreateParams(e)});const qw=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:s}=this._processInputParams(e),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:s,ctx:a}=this._processInputParams(e);if(a.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?Nw:"dirty"===e.status?(s.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})()}{const e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?Nw:"dirty"===e.status?(s.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,s){return new ZodPipeline({in:e,out:s,typeName:Zw.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(e){const s=this._def.innerType._parse(e),freeze=e=>(isValid$1(e)&&(e.value=Object.freeze(e.value)),e);return isAsync(s)?s.then(e=>freeze(e)):freeze(s)}unwrap(){return this._def.innerType}}function custom(e,s={},a){return e?ZodAny.create().superRefine((l,c)=>{var u,p;if(!e(l)){const e="function"==typeof s?s(l):"string"==typeof s?{message:s}:s,m=null===(p=null!==(u=e.fatal)&&void 0!==u?u:a)||void 0===p||p,h="string"==typeof e?{message:e}:e;c.addIssue({code:"custom",...h,fatal:m})}}):ZodAny.create()}ZodReadonly.create=(e,s)=>new ZodReadonly({innerType:e,typeName:Zw.ZodReadonly,...processCreateParams(s)});const Ww={object:ZodObject.lazycreate};var Zw,Kw;(Kw=Zw||(Zw={})).ZodString="ZodString",Kw.ZodNumber="ZodNumber",Kw.ZodNaN="ZodNaN",Kw.ZodBigInt="ZodBigInt",Kw.ZodBoolean="ZodBoolean",Kw.ZodDate="ZodDate",Kw.ZodSymbol="ZodSymbol",Kw.ZodUndefined="ZodUndefined",Kw.ZodNull="ZodNull",Kw.ZodAny="ZodAny",Kw.ZodUnknown="ZodUnknown",Kw.ZodNever="ZodNever",Kw.ZodVoid="ZodVoid",Kw.ZodArray="ZodArray",Kw.ZodObject="ZodObject",Kw.ZodUnion="ZodUnion",Kw.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Kw.ZodIntersection="ZodIntersection",Kw.ZodTuple="ZodTuple",Kw.ZodRecord="ZodRecord",Kw.ZodMap="ZodMap",Kw.ZodSet="ZodSet",Kw.ZodFunction="ZodFunction",Kw.ZodLazy="ZodLazy",Kw.ZodLiteral="ZodLiteral",Kw.ZodEnum="ZodEnum",Kw.ZodEffects="ZodEffects",Kw.ZodNativeEnum="ZodNativeEnum",Kw.ZodOptional="ZodOptional",Kw.ZodNullable="ZodNullable",Kw.ZodDefault="ZodDefault",Kw.ZodCatch="ZodCatch",Kw.ZodPromise="ZodPromise",Kw.ZodBranded="ZodBranded",Kw.ZodPipeline="ZodPipeline",Kw.ZodReadonly="ZodReadonly";const Gw=ZodString.create,Yw=ZodNumber.create,Qw=ZodNaN.create,Xw=ZodBigInt.create,Jw=ZodBoolean.create,eN=ZodDate.create,tN=ZodSymbol.create,rN=ZodUndefined.create,nN=ZodNull.create,sN=ZodAny.create,aN=ZodUnknown.create,iN=ZodNever.create,oN=ZodVoid.create,lN=ZodArray.create,cN=ZodObject.create,dN=ZodObject.strictCreate,uN=ZodUnion.create,pN=ZodDiscriminatedUnion.create,mN=ZodIntersection.create,hN=ZodTuple.create,fN=ZodRecord.create,gN=ZodMap.create,xN=ZodSet.create,vN=ZodFunction.create,yN=ZodLazy.create,bN=ZodLiteral.create,jN=ZodEnum.create,wN=ZodNativeEnum.create,NN=ZodPromise.create,SN=ZodEffects.create,CN=ZodOptional.create,kN=ZodNullable.create,_N=ZodEffects.createWithPreprocess,PN=ZodPipeline.create,TN={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},EN=Nw;var AN=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:function setErrorMap(e){ww=e},getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:[],addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:Nw,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid$1,isAsync:isAsync,get util(){return xw},get objectUtil(){return yw},ZodParsedType:bw,getParsedType:getParsedType,ZodType:ZodType,datetimeRegex:datetimeRegex,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:qw,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:Ww,get ZodFirstPartyTypeKind(){return Zw},coerce:TN,any:sN,array:lN,bigint:Xw,boolean:Jw,date:eN,discriminatedUnion:pN,effect:SN,enum:jN,function:vN,instanceof:(e,s={message:`Input not instance of ${e.name}`})=>custom(s=>s instanceof e,s),intersection:mN,lazy:yN,literal:bN,map:gN,nan:Qw,nativeEnum:wN,never:iN,null:nN,nullable:kN,number:Yw,object:cN,oboolean:()=>Jw().optional(),onumber:()=>Yw().optional(),optional:CN,ostring:()=>Gw().optional(),pipeline:PN,preprocess:_N,promise:NN,record:fN,set:xN,strictObject:dN,string:Gw,symbol:tN,transformer:SN,tuple:hN,undefined:rN,union:uN,unknown:aN,void:oN,NEVER:EN,ZodIssueCode:jw,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:ZodError});const Form=e=>{const{children:s,...a}=e;return ae.createElement(dw.Provider,{value:a},s)},MN=re.createContext({}),FormField=({...e})=>u.jsx(MN.Provider,{value:{name:e.name},children:u.jsx(Controller,{...e})}),useFormField=()=>{const e=re.useContext(MN),s=re.useContext(LN),{getFieldState:a}=useFormContext(),l=useFormState({name:e.name}),c=a(e.name,l);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:u}=s;return{id:u,name:e.name,formItemId:`${u}-form-item`,formDescriptionId:`${u}-form-item-description`,formMessageId:`${u}-form-item-message`,...c}},LN=re.createContext({});function FormItem({className:e,...s}){const a=re.useId();return u.jsx(LN.Provider,{value:{id:a},children:u.jsx("div",{"data-slot":"form-item",className:cn("grid gap-2",e),...s})})}function FormLabel({className:e,...s}){const{error:a,formItemId:l}=useFormField();return u.jsx(Label$1,{"data-slot":"form-label","data-error":!!a,className:cn("data-[error=true]:text-destructive",e),htmlFor:l,...s})}function FormControl({...e}){const{error:s,formItemId:a,formDescriptionId:l,formMessageId:c}=useFormField();return u.jsx(Jr,{"data-slot":"form-control",id:a,"aria-describedby":s?`${l} ${c}`:`${l}`,"aria-invalid":!!s,...e})}function FormDescription({className:e,...s}){const{formDescriptionId:a}=useFormField();return u.jsx("p",{"data-slot":"form-description",id:a,className:cn("text-muted-foreground text-sm",e),...s})}function FormMessage({className:e,...s}){const{error:a,formMessageId:l}=useFormField(),c=a?String(a?.message??""):s.children;return c?u.jsx("p",{"data-slot":"form-message",id:l,className:cn("text-destructive text-sm",e),...s,children:c}):null}class ApiError extends Error{constructor(e,s,a=null){super(s),this.status=e,this.body=a}}async function apiFetch(e,s){const a=(e=>`/api/${e.replace(/^\//,"")}`)(e);console.log(`[API] ${s?.method||"GET"} ${a}`);const l=await fetch(a,{credentials:"include",headers:{Accept:"application/json",...s?.headers||{}},...s}),c=await l.text(),u=l.headers.get("content-type")||"";if(console.log(`[API] Response ${l.status} ${l.statusText} (${u})`),!l.ok){let s=c;if(u.includes("application/json"))try{s=JSON.parse(c),console.error("[API] Error response:",s)}catch{console.error("[API] Error response (text):",c)}else console.error("[API] Error response (non-JSON):",c);throw new ApiError(l.status,`HTTP ${l.status} on ${e}`,s)}if(!c)return console.log(`[API] Empty success response for ${e}`),null;if(!u.includes("application/json"))return console.warn(`[API] Non-JSON response for ${e}:`,c),c;try{const e=JSON.parse(c);return console.log("[API] Success response:",e),e}catch(pW){throw console.error(`[API] Invalid JSON response for ${e}:`,c),new ApiError(l.status,"Invalid JSON response",c)}}var DN="Radio",[ON,IN]=createContextScope(DN),[$N,RN]=ON(DN),FN=re.forwardRef((e,s)=>{const{__scopeRadio:a,name:l,checked:c=!1,required:p,disabled:m,value:h="on",onCheck:f,form:g,...b}=e,[j,N]=re.useState(null),k=useComposedRefs$1(s,e=>N(e)),_=re.useRef(!1),T=!j||(g||!!j.closest("form"));return u.jsxs($N,{scope:a,checked:c,disabled:m,children:[u.jsx(tn.button,{type:"button",role:"radio","aria-checked":c,"data-state":getState$2(c),"data-disabled":m?"":void 0,disabled:m,value:h,...b,ref:k,onClick:composeEventHandlers(e.onClick,e=>{c||f?.(),T&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),T&&u.jsx(VN,{control:j,bubbles:!_.current,name:l,value:h,checked:c,required:p,disabled:m,form:g,style:{transform:"translateX(-100%)"}})]})});FN.displayName=DN;var BN="RadioIndicator",zN=re.forwardRef((e,s)=>{const{__scopeRadio:a,forceMount:l,...c}=e,p=RN(BN,a);return u.jsx(Presence,{present:l||p.checked,children:u.jsx(tn.span,{"data-state":getState$2(p.checked),"data-disabled":p.disabled?"":void 0,...c,ref:s})})});zN.displayName=BN;var VN=re.forwardRef(({__scopeRadio:e,control:s,checked:a,bubbles:l=!0,...c},p)=>{const m=re.useRef(null),h=useComposedRefs$1(m,p),f=usePrevious$1(a),g=useSize(s);return re.useEffect(()=>{const e=m.current;if(!e)return;const s=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(s,"checked").set;if(f!==a&&c){const s=new Event("click",{bubbles:l});c.call(e,a),e.dispatchEvent(s)}},[f,a,l]),u.jsx(tn.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...c,tabIndex:-1,ref:h,style:{...c.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function getState$2(e){return e?"checked":"unchecked"}VN.displayName="RadioBubbleInput";var UN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HN="RadioGroup",[qN]=createContextScope(HN,[kc,IN]),WN=kc(),ZN=IN(),[KN,GN]=qN(HN),YN=re.forwardRef((e,s)=>{const{__scopeRadioGroup:a,name:l,defaultValue:c,value:p,required:m=!1,disabled:h=!1,orientation:f,dir:g,loop:b=!0,onValueChange:j,...N}=e,k=WN(a),_=useDirection(g),[T,E]=useControllableState({prop:p,defaultProp:c??null,onChange:j,caller:HN});return u.jsx(KN,{scope:a,name:l,required:m,disabled:h,value:T,onValueChange:E,children:u.jsx(Dc,{asChild:!0,...k,orientation:f,dir:_,loop:b,children:u.jsx(tn.div,{role:"radiogroup","aria-required":m,"aria-orientation":f,"data-disabled":h?"":void 0,dir:_,...N,ref:s})})})});YN.displayName=HN;var QN="RadioGroupItem",XN=re.forwardRef((e,s)=>{const{__scopeRadioGroup:a,disabled:l,...c}=e,p=GN(QN,a),m=p.disabled||l,h=WN(a),f=ZN(a),g=re.useRef(null),b=useComposedRefs$1(s,g),j=p.value===c.value,N=re.useRef(!1);return re.useEffect(()=>{const handleKeyDown=e=>{UN.includes(e.key)&&(N.current=!0)},handleKeyUp=()=>N.current=!1;return document.addEventListener("keydown",handleKeyDown),document.addEventListener("keyup",handleKeyUp),()=>{document.removeEventListener("keydown",handleKeyDown),document.removeEventListener("keyup",handleKeyUp)}},[]),u.jsx(Oc,{asChild:!0,...h,focusable:!m,active:j,children:u.jsx(FN,{disabled:m,required:p.required,checked:j,...f,...c,name:p.name,ref:b,onCheck:()=>p.onValueChange(c.value),onKeyDown:composeEventHandlers(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:composeEventHandlers(c.onFocus,()=>{N.current&&g.current?.click()})})})});XN.displayName=QN;var JN=re.forwardRef((e,s)=>{const{__scopeRadioGroup:a,...l}=e,c=ZN(a);return u.jsx(zN,{...c,...l,ref:s})});JN.displayName="RadioGroupIndicator";var eS=YN,tS=XN,rS=JN;function RadioGroup({className:e,...s}){return u.jsx(eS,{"data-slot":"radio-group",className:cn("grid gap-3",e),...s})}function RadioGroupItem({className:e,...s}){return u.jsx(tS,{"data-slot":"radio-group-item",className:cn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:u.jsx(rS,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(Ga,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const nS=AN.object({email:AN.string().email("Invalid email address"),password:AN.string().min(6,"Password must be at least 6 characters"),rememberMe:AN.boolean().optional()}),sS=AN.object({name:AN.string().min(2,"Name must be at least 2 characters"),email:AN.string().email("Invalid email address"),password:AN.string().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/,"Password must contain at least one special character"),confirmPassword:AN.string(),role:AN.enum(["visitor","agent","agency_admin","property_developer"]).default("visitor"),agentDisplayName:AN.string().optional(),agentPhone:AN.string().optional(),agentBio:AN.string().optional(),agentLicense:AN.string().optional(),agentSpecializations:AN.array(AN.string()).optional()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}).refine(e=>"agent"!==e.role||e.agentDisplayName&&e.agentDisplayName.length>=2&&e.agentPhone&&e.agentPhone.length>=10,{message:"Display name and phone number are required for agent registration",path:["agentDisplayName"]});function Login(){const[,e]=useLocation(),s=new URLSearchParams(useSearch()),[a,l]=re.useState(!1),[c,p]=re.useState("register"),[m,h]=re.useState(!1),[f,g]=re.useState(!1),[b,j]=re.useState(!1);re.useEffect(()=>{"true"===s.get("verified")&&Gr.success("Email verified successfully! You can now log in.")},[s]);const N=useForm({resolver:t(nS),defaultValues:{email:"",password:"",rememberMe:!1}}),k=useForm({resolver:t(sS),defaultValues:{name:"",email:"",password:"",confirmPassword:"",role:"visitor",agentDisplayName:"",agentPhone:"",agentBio:"",agentLicense:"",agentSpecializations:[]}}),_=k.watch("role");return u.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative overflow-hidden bg-slate-50 dark:bg-slate-900",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[70%] h-[70%] rounded-full bg-blue-400/20 blur-[100px] animate-pulse"}),u.jsx("div",{className:"absolute top-[20%] -right-[10%] w-[60%] h-[60%] rounded-full bg-purple-400/20 blur-[100px] animate-pulse delay-700"}),u.jsx("div",{className:"absolute -bottom-[20%] left-[20%] w-[50%] h-[50%] rounded-full bg-teal-400/20 blur-[100px] animate-pulse delay-1000"})]}),u.jsxs("div",{className:"w-full max-w-[1100px] grid lg:grid-cols-2 gap-8 items-center relative z-10",children:[u.jsxs("div",{className:"hidden lg:flex flex-col gap-6 text-slate-800 dark:text-slate-200 p-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:u.jsx(Bi,{className:"h-6 w-6 text-white"})}),u.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Property Listify"})]}),u.jsxs("div",{className:"space-y-4 max-w-md",children:[u.jsxs("h2",{className:"text-3xl font-bold leading-tight",children:["Property Listing ",u.jsx("br",{}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Simplified"})]}),u.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed",children:"Join thousands of agents, developers, and buyers on the most modern real estate platform."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[u.jsxs("div",{className:"p-4 rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-white/20 dark:border-slate-700/30",children:[u.jsx(Sl,{className:"h-8 w-8 text-purple-600 mb-3"}),u.jsx("div",{className:"font-semibold text-lg",children:"For Buyers"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Discover properties with AI insights"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-white/20 dark:border-slate-700/30",children:[u.jsx(Ca,{className:"h-8 w-8 text-blue-600 mb-3"}),u.jsx("div",{className:"font-semibold text-lg",children:"For Agents"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Manage listings and leads efficiently"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-white/20 dark:border-slate-700/30",children:[u.jsx(ka,{className:"h-8 w-8 text-indigo-600 mb-3"}),u.jsx("div",{className:"font-semibold text-lg",children:"For Agencies"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Scale your team and business"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-white/20 dark:border-slate-700/30",children:[u.jsx(Ii,{className:"h-8 w-8 text-cyan-600 mb-3"}),u.jsx("div",{className:"font-semibold text-lg",children:"For Developers"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Showcase new developments"})]})]})]}),u.jsx("div",{className:"w-full max-w-md mx-auto",children:u.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50 border border-white/50 dark:border-slate-700/50 p-8",children:[u.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 mb-8",children:[u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:u.jsx(Bi,{className:"h-5 w-5 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Property Listify"})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-2 mb-8 p-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-xl",children:[u.jsx(rf,{value:"login",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-slate-800 data-[state=active]:shadow-sm transition-all",children:"Login"}),u.jsx(rf,{value:"register",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-slate-800 data-[state=active]:shadow-sm transition-all",children:"Register"})]}),u.jsx(nf,{value:"login",className:"mt-0 focus-visible:outline-none",children:u.jsx(Form,{...N,children:u.jsxs("form",{onSubmit:N.handleSubmit(async e=>{l(!0);try{const s=await apiFetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});Gr.success("Welcome back!");const a=s.user?.role;console.log("[Login] API result:",s),console.log("[Login] User role:",a);let l="/user/dashboard";"super_admin"===a?l="/admin/overview":"property_developer"===a?l="/developer/dashboard":"agency_admin"===a?l="/agency/dashboard":"agent"===a&&(l="/agent/dashboard"),console.log("[Login] Redirecting to:",l),await new Promise(e=>setTimeout(e,300)),console.log("[Login] Executing redirect now..."),window.location.href=l}catch(s){console.error("[Login] Error:",s),s instanceof ApiError?Gr.error(s.body?.error||`Login failed (${s.status})`):Gr.error(s instanceof Error?s.message:"Login failed"),l(!1)}}),className:"space-y-5",children:[u.jsx(FormField,{control:N.control,name:"email",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Email"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"email",placeholder:"you@example.com",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:N.control,name:"password",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(FormControl,{children:u.jsx(Input,{type:m?"text":"password",placeholder:"",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all pr-10",...e})}),u.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent text-slate-400 hover:text-slate-600",onClick:()=>h(!m),children:m?u.jsx(hi,{className:"h-4 w-4"}):u.jsx(fi,{className:"h-4 w-4"})})]}),u.jsx(FormMessage,{})]})}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsx(FormField,{control:N.control,name:"rememberMe",render:({field:e})=>u.jsxs(FormItem,{className:"flex flex-row items-center space-x-2 space-y-0",children:[u.jsx(FormControl,{children:u.jsx(Checkbox,{checked:e.value,onCheckedChange:e.onChange})}),u.jsx(FormLabel,{className:"font-normal text-slate-600 dark:text-slate-400 cursor-pointer",children:"Remember me"})]})}),u.jsx(Button$1,{type:"button",variant:"link",className:"p-0 h-auto text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>e("/forgot-password"),children:"Forgot password?"})]}),u.jsx(Button$1,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg shadow-blue-500/25 rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98]",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Logging in..."]}):u.jsxs(u.Fragment,{children:["Login ",u.jsx(pa,{className:"ml-2 h-4 w-4"})]})})]})})}),u.jsx(nf,{value:"register",className:"mt-0 focus-visible:outline-none",children:u.jsx(Form,{...k,children:u.jsxs("form",{onSubmit:k.handleSubmit(async e=>{l(!0);try{const s={name:e.name,email:e.email,password:e.password,role:e.role};"agent"===e.role&&(s.agentProfile={displayName:e.agentDisplayName,phoneNumber:e.agentPhone,bio:e.agentBio,licenseNumber:e.agentLicense,specializations:e.agentSpecializations});const a=await apiFetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});Gr.success(a.message||"Account created successfully! Please check your email to verify your account."),p("login"),k.reset()}catch(s){console.error("[Register] Error:",s),s instanceof ApiError?Gr.error(s.body?.error||`Registration failed (${s.status})`):Gr.error(s instanceof Error?s.message:"Registration failed")}finally{l(!1)}}),className:"space-y-4",children:[u.jsx(FormField,{control:k.control,name:"name",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Full Name"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"John Doe",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:k.control,name:"email",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Email"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"email",placeholder:"you@example.com",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all",...e})}),u.jsx(FormMessage,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:k.control,name:"password",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(FormControl,{children:u.jsx(Input,{type:f?"text":"password",placeholder:"",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all pr-10",...e})}),u.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent text-slate-400 hover:text-slate-600",onClick:()=>g(!f),children:f?u.jsx(hi,{className:"h-4 w-4"}):u.jsx(fi,{className:"h-4 w-4"})})]}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:k.control,name:"confirmPassword",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Confirm"}),u.jsxs("div",{className:"relative",children:[u.jsx(FormControl,{children:u.jsx(Input,{type:b?"text":"password",placeholder:"",className:"bg-white/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition-all pr-10",...e})}),u.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent text-slate-400 hover:text-slate-600",onClick:()=>j(!b),children:b?u.jsx(hi,{className:"h-4 w-4"}):u.jsx(fi,{className:"h-4 w-4"})})]}),u.jsx(FormMessage,{})]})})]}),u.jsx(FormField,{control:k.control,name:"role",render:({field:e})=>u.jsxs(FormItem,{className:"space-y-3",children:[u.jsx(FormLabel,{children:"I am a..."}),u.jsx(FormControl,{children:u.jsxs(RadioGroup,{onValueChange:e.onChange,defaultValue:e.value,className:"grid grid-cols-2 gap-2",children:[u.jsxs(FormItem,{children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"visitor",id:"r-visitor",className:"peer sr-only"})}),u.jsxs(Label$1,{htmlFor:"r-visitor",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-transparent p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:text-primary cursor-pointer",children:[u.jsx(Sl,{className:"mb-2 h-6 w-6"}),u.jsx("span",{className:"text-xs font-medium",children:"Buyer/User"})]})]}),u.jsxs(FormItem,{children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"agent",id:"r-agent",className:"peer sr-only"})}),u.jsxs(Label$1,{htmlFor:"r-agent",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-transparent p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:text-primary cursor-pointer",children:[u.jsx(Ca,{className:"mb-2 h-6 w-6"}),u.jsx("span",{className:"text-xs font-medium",children:"Agent"})]})]}),u.jsxs(FormItem,{children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"agency_admin",id:"r-agency",className:"peer sr-only"})}),u.jsxs(Label$1,{htmlFor:"r-agency",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-transparent p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:text-primary cursor-pointer",children:[u.jsx(ka,{className:"mb-2 h-6 w-6"}),u.jsx("span",{className:"text-xs font-medium",children:"Agency"})]})]}),u.jsxs(FormItem,{children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"property_developer",id:"r-developer",className:"peer sr-only"})}),u.jsxs(Label$1,{htmlFor:"r-developer",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-transparent p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:text-primary cursor-pointer",children:[u.jsx(Ii,{className:"mb-2 h-6 w-6"}),u.jsx("span",{className:"text-xs font-medium",children:"Developer"})]})]})]})}),u.jsx(FormMessage,{})]})}),"agent"===_&&u.jsxs("div",{className:"space-y-4 p-4 bg-blue-50/50 dark:bg-blue-900/10 rounded-xl border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Agent Profile Information"}),u.jsx(FormField,{control:k.control,name:"agentDisplayName",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Display Name *"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"John Smith",className:"bg-white dark:bg-slate-800",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:k.control,name:"agentPhone",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Phone Number *"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"tel",placeholder:"+27 12 345 6789",className:"bg-white dark:bg-slate-800",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:k.control,name:"agentLicense",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"License Number (Optional)"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"FFC1234567",className:"bg-white dark:bg-slate-800",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:k.control,name:"agentBio",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Bio (Optional)"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"Brief description of your experience...",className:"bg-white dark:bg-slate-800",...e})}),u.jsx(FormMessage,{})]})}),u.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your agent profile will be reviewed by our team before activation."})]}),u.jsx(Button$1,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg shadow-blue-500/25 rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98] mt-2",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]})})})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx(Button$1,{variant:"ghost",onClick:()=>e("/"),className:"text-sm text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200",children:"Back to Home"})})]})})]})]})}function AgencyStatsCards({stats:e,isLoading:s}){if(s)return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map((e,s)=>u.jsxs(ea,{children:[u.jsx(ta,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Loading..."})}),u.jsxs(sa,{children:[u.jsx("div",{className:"animate-pulse h-8 bg-muted rounded"}),u.jsx("div",{className:"animate-pulse h-4 bg-muted rounded mt-2"})]})]},s))});const a=[{title:"Total Listings",value:e.totalListings,description:`${e.activeListings} active, ${e.pendingListings} pending`,icon:Bi,color:"text-blue-600"},{title:"Total Sales",value:e.totalSales,description:`+${e.recentSales} this month`,icon:fl,color:"text-green-600"},{title:"Total Leads",value:e.totalLeads,description:`+${e.recentLeads} this month`,icon:wl,color:"text-orange-600"},{title:"Team Agents",value:e.totalAgents,description:"Active team members",icon:Cl,color:"text-purple-600"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map((e,s)=>u.jsxs(ea,{className:"hover:shadow-lg transition-shadow",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(ra,{className:"text-sm font-medium",children:e.title}),u.jsx(e.icon,{className:`h-4 w-4 ${e.color}`})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e.value.toLocaleString()}),u.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},s))})}var aS,iS,oS,lS,cS,dS,uS,pS,mS,hS,fS,gS,xS,vS,yS,bS,jS,wS,NS,SS,CS,kS,_S,PS,TS,ES,AS,MS,LS,DS,OS,IS,$S,RS,FS,BS,zS,VS,US,HS,qS,WS,ZS,KS,GS,YS,QS,XS,JS,eC,tC,rC,nC,sC,aC,iC,oC,lC,cC,dC,uC,pC,mC,hC,fC,gC,xC,vC,yC,bC,jC,wC,NC,SC,CC,kC,_C,PC,TC,EC,AC,MC,LC,DC,OC,IC,$C,RC,FC,BC,zC,VC,UC,HC,qC,WC,ZC,KC,GC,YC,QC,XC,JC,ek;function requireIsArray(){if(iS)return aS;iS=1;var e=Array.isArray;return aS=e}function require_freeGlobal(){if(lS)return oS;lS=1;var s="object"==typeof e&&e&&e.Object===Object&&e;return oS=s}function require_root(){if(dS)return cS;dS=1;var e=require_freeGlobal(),s="object"==typeof self&&self&&self.Object===Object&&self,a=e||s||Function("return this")();return cS=a}function require_Symbol(){if(pS)return uS;pS=1;var e=require_root().Symbol;return uS=e}function require_baseGetTag(){if(vS)return xS;vS=1;var e=require_Symbol(),s=function require_getRawTag(){if(hS)return mS;hS=1;var e=require_Symbol(),s=Object.prototype,a=s.hasOwnProperty,l=s.toString,c=e?e.toStringTag:void 0;return mS=function getRawTag(e){var s=a.call(e,c),u=e[c];try{e[c]=void 0;var p=!0}catch(h){}var m=l.call(e);return p&&(s?e[c]=u:delete e[c]),m}}(),a=function require_objectToString(){if(gS)return fS;gS=1;var e=Object.prototype.toString;return fS=function objectToString(s){return e.call(s)}}(),l=e?e.toStringTag:void 0;return xS=function baseGetTag(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?s(e):a(e)}}function requireIsObjectLike(){if(bS)return yS;return bS=1,yS=function isObjectLike(e){return null!=e&&"object"==typeof e}}function requireIsSymbol(){if(wS)return jS;wS=1;var e=require_baseGetTag(),s=requireIsObjectLike();return jS=function isSymbol2(a){return"symbol"==typeof a||s(a)&&"[object Symbol]"==e(a)}}function require_isKey(){if(SS)return NS;SS=1;var e=requireIsArray(),s=requireIsSymbol(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;return NS=function isKey2(c,u){if(e(c))return!1;var p=typeof c;return!("number"!=p&&"symbol"!=p&&"boolean"!=p&&null!=c&&!s(c))||(l.test(c)||!a.test(c)||null!=u&&c in Object(u))}}function requireIsObject(){if(kS)return CS;return kS=1,CS=function isObject2(e){var s=typeof e;return null!=e&&("object"==s||"function"==s)}}function requireIsFunction(){if(PS)return _S;PS=1;var e=require_baseGetTag(),s=requireIsObject();return _S=function isFunction2(a){if(!s(a))return!1;var l=e(a);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l}}function require_isMasked(){if(MS)return AS;MS=1;var e,s=function require_coreJsData(){if(ES)return TS;ES=1;var e=require_root()["__core-js_shared__"];return TS=e}(),a=(e=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return AS=function isMasked(e){return!!a&&a in e}}function require_toSource(){if(DS)return LS;DS=1;var e=Function.prototype.toString;return LS=function toSource(s){if(null!=s){try{return e.call(s)}catch(a){}try{return s+""}catch(a){}}return""}}function require_getNative(){if(BS)return FS;BS=1;var e=function require_baseIsNative(){if(IS)return OS;IS=1;var e=requireIsFunction(),s=require_isMasked(),a=requireIsObject(),l=require_toSource(),c=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,m=u.toString,h=p.hasOwnProperty,f=RegExp("^"+m.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return OS=function baseIsNative(u){return!(!a(u)||s(u))&&(e(u)?f:c).test(l(u))}}(),s=function require_getValue(){return RS?$S:(RS=1,$S=function getValue(e,s){return null==e?void 0:e[s]})}();return FS=function getNative(a,l){var c=s(a,l);return e(c)?c:void 0}}function require_nativeCreate(){if(VS)return zS;VS=1;var e=require_getNative()(Object,"create");return zS=e}function require_Hash(){if(eC)return JS;eC=1;var e=function require_hashClear(){if(HS)return US;HS=1;var e=require_nativeCreate();return US=function hashClear(){this.__data__=e?e(null):{},this.size=0}}(),s=function require_hashDelete(){return WS?qS:(WS=1,qS=function hashDelete(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s})}(),a=function require_hashGet(){if(KS)return ZS;KS=1;var e=require_nativeCreate(),s=Object.prototype.hasOwnProperty;return ZS=function hashGet(a){var l=this.__data__;if(e){var c=l[a];return"__lodash_hash_undefined__"===c?void 0:c}return s.call(l,a)?l[a]:void 0}}(),l=function require_hashHas(){if(YS)return GS;YS=1;var e=require_nativeCreate(),s=Object.prototype.hasOwnProperty;return GS=function hashHas(a){var l=this.__data__;return e?void 0!==l[a]:s.call(l,a)}}(),c=function require_hashSet(){if(XS)return QS;XS=1;var e=require_nativeCreate();return QS=function hashSet(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=e&&void 0===a?"__lodash_hash_undefined__":a,this}}();function Hash(e){var s=-1,a=null==e?0:e.length;for(this.clear();++s<a;){var l=e[s];this.set(l[0],l[1])}}return Hash.prototype.clear=e,Hash.prototype.delete=s,Hash.prototype.get=a,Hash.prototype.has=l,Hash.prototype.set=c,JS=Hash}function requireEq(){if(sC)return nC;return sC=1,nC=function eq(e,s){return e===s||e!=e&&s!=s}}function require_assocIndexOf(){if(iC)return aC;iC=1;var e=requireEq();return aC=function assocIndexOf(s,a){for(var l=s.length;l--;)if(e(s[l][0],a))return l;return-1}}function require_ListCache(){if(gC)return fC;gC=1;var e=function require_listCacheClear(){return rC?tC:(rC=1,tC=function listCacheClear(){this.__data__=[],this.size=0})}(),s=function require_listCacheDelete(){if(lC)return oC;lC=1;var e=require_assocIndexOf(),s=Array.prototype.splice;return oC=function listCacheDelete(a){var l=this.__data__,c=e(l,a);return!(c<0||(c==l.length-1?l.pop():s.call(l,c,1),--this.size,0))}}(),a=function require_listCacheGet(){if(dC)return cC;dC=1;var e=require_assocIndexOf();return cC=function listCacheGet(s){var a=this.__data__,l=e(a,s);return l<0?void 0:a[l][1]}}(),l=function require_listCacheHas(){if(pC)return uC;pC=1;var e=require_assocIndexOf();return uC=function listCacheHas(s){return e(this.__data__,s)>-1}}(),c=function require_listCacheSet(){if(hC)return mC;hC=1;var e=require_assocIndexOf();return mC=function listCacheSet(s,a){var l=this.__data__,c=e(l,s);return c<0?(++this.size,l.push([s,a])):l[c][1]=a,this}}();function ListCache(e){var s=-1,a=null==e?0:e.length;for(this.clear();++s<a;){var l=e[s];this.set(l[0],l[1])}}return ListCache.prototype.clear=e,ListCache.prototype.delete=s,ListCache.prototype.get=a,ListCache.prototype.has=l,ListCache.prototype.set=c,fC=ListCache}function require_Map(){if(vC)return xC;vC=1;var e=require_getNative()(require_root(),"Map");return xC=e}function require_getMapData(){if(SC)return NC;SC=1;var e=function require_isKeyable(){return wC?jC:(wC=1,jC=function isKeyable(e){var s=typeof e;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==e:null===e})}();return NC=function getMapData(s,a){var l=s.__data__;return e(a)?l["string"==typeof a?"string":"hash"]:l.map}}function require_MapCache(){if(DC)return LC;DC=1;var e=function require_mapCacheClear(){if(bC)return yC;bC=1;var e=require_Hash(),s=require_ListCache(),a=require_Map();return yC=function mapCacheClear(){this.size=0,this.__data__={hash:new e,map:new(a||s),string:new e}}}(),s=function require_mapCacheDelete(){if(kC)return CC;kC=1;var e=require_getMapData();return CC=function mapCacheDelete(s){var a=e(this,s).delete(s);return this.size-=a?1:0,a}}(),a=function require_mapCacheGet(){if(PC)return _C;PC=1;var e=require_getMapData();return _C=function mapCacheGet(s){return e(this,s).get(s)}}(),l=function require_mapCacheHas(){if(EC)return TC;EC=1;var e=require_getMapData();return TC=function mapCacheHas(s){return e(this,s).has(s)}}(),c=function require_mapCacheSet(){if(MC)return AC;MC=1;var e=require_getMapData();return AC=function mapCacheSet(s,a){var l=e(this,s),c=l.size;return l.set(s,a),this.size+=l.size==c?0:1,this}}();function MapCache(e){var s=-1,a=null==e?0:e.length;for(this.clear();++s<a;){var l=e[s];this.set(l[0],l[1])}}return MapCache.prototype.clear=e,MapCache.prototype.delete=s,MapCache.prototype.get=a,MapCache.prototype.has=l,MapCache.prototype.set=c,LC=MapCache}function requireMemoize(){if(IC)return OC;IC=1;var e=require_MapCache();function memoize3(s,a){if("function"!=typeof s||null!=a&&"function"!=typeof a)throw new TypeError("Expected a function");var memoized=function(){var e=arguments,l=a?a.apply(this,e):e[0],c=memoized.cache;if(c.has(l))return c.get(l);var u=s.apply(this,e);return memoized.cache=c.set(l,u)||c,u};return memoized.cache=new(memoize3.Cache||e),memoized}return memoize3.Cache=e,OC=memoize3}function require_stringToPath(){if(BC)return FC;BC=1;var e=function require_memoizeCapped(){if(RC)return $C;RC=1;var e=requireMemoize();return $C=function memoizeCapped(s){var a=e(s,function(e){return 500===l.size&&l.clear(),e}),l=a.cache;return a}}(),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=e(function(e){var l=[];return 46===e.charCodeAt(0)&&l.push(""),e.replace(s,function(e,s,c,u){l.push(c?u.replace(a,"$1"):s||e)}),l});return FC=l}function require_arrayMap(){if(VC)return zC;return VC=1,zC=function arrayMap(e,s){for(var a=-1,l=null==e?0:e.length,c=Array(l);++a<l;)c[a]=s(e[a],a,e);return c}}function requireToString(){if(WC)return qC;WC=1;var e=function require_baseToString(){if(HC)return UC;HC=1;var e=require_Symbol(),s=require_arrayMap(),a=requireIsArray(),l=requireIsSymbol(),c=e?e.prototype:void 0,u=c?c.toString:void 0;return UC=function baseToString(e){if("string"==typeof e)return e;if(a(e))return s(e,baseToString)+"";if(l(e))return u?u.call(e):"";var c=e+"";return"0"==c&&1/e==-1/0?"-0":c},UC}();return qC=function toString2(s){return null==s?"":e(s)}}function require_castPath(){if(KC)return ZC;KC=1;var e=requireIsArray(),s=require_isKey(),a=require_stringToPath(),l=requireToString();return ZC=function castPath(c,u){return e(c)?c:s(c,u)?[c]:a(l(c))}}function require_toKey(){if(YC)return GC;YC=1;var e=requireIsSymbol();return GC=function toKey(s){if("string"==typeof s||e(s))return s;var a=s+"";return"0"==a&&1/s==-1/0?"-0":a}}function require_baseGet(){if(XC)return QC;XC=1;var e=require_castPath(),s=require_toKey();return QC=function baseGet2(a,l){for(var c=0,u=(l=e(l,a)).length;null!=a&&c<u;)a=a[s(l[c++])];return c&&c==u?a:void 0}}function requireGet(){if(ek)return JC;ek=1;var e=require_baseGet();return JC=function get2(s,a,l){var c=null==s?void 0:e(s,a);return void 0===c?l:c}}const tk=getDefaultExportFromCjs$2(requireGet());var rk,nk;const sk=getDefaultExportFromCjs$2(function requireIsNil(){return nk?rk:(nk=1,rk=function isNil2(e){return null==e})}());var ak,ik;const ok=getDefaultExportFromCjs$2(function requireIsString(){if(ik)return ak;ik=1;var e=require_baseGetTag(),s=requireIsArray(),a=requireIsObjectLike();return ak=function isString2(l){return"string"==typeof l||!s(l)&&a(l)&&"[object String]"==e(l)}}());const lk=getDefaultExportFromCjs$2(requireIsFunction());const ck=getDefaultExportFromCjs$2(requireIsObject());var dk,uk,pk={exports:{}},mk={};var hk,fk,gk,xk,vk=function requireReactIs(){return uk||(uk=1,pk.exports=function requireReactIs_production_min(){if(dk)return mk;dk=1;var e,s=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen");function v(e){if("object"==typeof e&&null!==e){var k=e.$$typeof;switch(k){case s:switch(e=e.type){case l:case u:case c:case g:case b:return e;default:switch(e=e&&e.$$typeof){case h:case m:case f:case N:case j:case p:return e;default:return k}}case a:return k}}}return e=Symbol.for("react.module.reference"),mk.ContextConsumer=m,mk.ContextProvider=p,mk.Element=s,mk.ForwardRef=f,mk.Fragment=l,mk.Lazy=N,mk.Memo=j,mk.Portal=a,mk.Profiler=u,mk.StrictMode=c,mk.Suspense=g,mk.SuspenseList=b,mk.isAsyncMode=function(){return!1},mk.isConcurrentMode=function(){return!1},mk.isContextConsumer=function(e){return v(e)===m},mk.isContextProvider=function(e){return v(e)===p},mk.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},mk.isForwardRef=function(e){return v(e)===f},mk.isFragment=function(e){return v(e)===l},mk.isLazy=function(e){return v(e)===N},mk.isMemo=function(e){return v(e)===j},mk.isPortal=function(e){return v(e)===a},mk.isProfiler=function(e){return v(e)===u},mk.isStrictMode=function(e){return v(e)===c},mk.isSuspense=function(e){return v(e)===g},mk.isSuspenseList=function(e){return v(e)===b},mk.isValidElementType=function(s){return"string"==typeof s||"function"==typeof s||s===l||s===u||s===c||s===g||s===b||s===k||"object"==typeof s&&null!==s&&(s.$$typeof===N||s.$$typeof===j||s.$$typeof===p||s.$$typeof===m||s.$$typeof===f||s.$$typeof===e||void 0!==s.getModuleId)},mk.typeOf=v,mk}()),pk.exports}();function requireIsNumber(){if(fk)return hk;fk=1;var e=require_baseGetTag(),s=requireIsObjectLike();return hk=function isNumber3(a){return"number"==typeof a||s(a)&&"[object Number]"==e(a)}}const yk=getDefaultExportFromCjs$2(function require_isNaN(){if(xk)return gk;xk=1;var e=requireIsNumber();return gk=function isNaN2(s){return e(s)&&s!=+s}}());const bk=getDefaultExportFromCjs$2(requireIsNumber());var jk=function mathSign2(e){return 0===e?0:e>0?1:-1},wk=function isPercent2(e){return ok(e)&&e.indexOf("%")===e.length-1},Nk=function isNumber(e){return bk(e)&&!yk(e)},Sk=function isNumOrStr2(e){return Nk(e)||ok(e)},Ck=0,kk=function uniqueId2(e){var s=++Ck;return"".concat(e||"").concat(s)},_k=function getPercentValue2(e,s){var a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Nk(e)&&!ok(e))return l;if(wk(e)){var u=e.indexOf("%");a=s*parseFloat(e.slice(0,u))/100}else a=+e;return yk(a)&&(a=l),c&&a>s&&(a=s),a},Pk=function getAnyElementOfObject2(e){if(!e)return null;var s=Object.keys(e);return s&&s.length?e[s[0]]:null},Tk=function interpolateNumber(e,s){return Nk(e)&&Nk(s)?function(a){return e+a*(s-e)}:function(){return s}};function findEntryInArray(e,s,a){return e&&e.length?e.find(function(e){return e&&("function"==typeof s?s(e):tk(e,s))===a}):null}var Ek=function compareValues2(e,s){return Nk(e)&&Nk(s)?e-s:ok(e)&&ok(s)?e.localeCompare(s):e instanceof Date&&s instanceof Date?e.getTime()-s.getTime():String(e).localeCompare(String(s))};function shallowEqual(e,s){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(s,a)||e[a]!==s[a]))return!1;for(var l in s)if({}.hasOwnProperty.call(s,l)&&!{}.hasOwnProperty.call(e,l))return!1;return!0}function _typeof$M(e){return(_typeof$M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ak=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mk=["points","pathLength"],Lk={svg:["viewBox","children"],polygon:Mk,polyline:Mk},Dk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ok=function adaptEventHandlers2(e,s){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(re.isValidElement(e)&&(a=e.props),!ck(a))return null;var l={};return Object.keys(a).forEach(function(e){Dk.includes(e)&&(l[e]=s||function(s){return a[e](a,s)})}),l},Ik=function adaptEventsOfChild2(e,s,a){if(!ck(e)||"object"!==_typeof$M(e))return null;var l=null;return Object.keys(e).forEach(function(c){var u=e[c];Dk.includes(c)&&"function"==typeof u&&(l||(l={}),l[c]=function getEventHandlerOfChild2(e,s,a){return function(l){return e(s,a,l),null}}(u,s,a))}),l},$k=["children"],Rk=["children"];function _objectWithoutProperties$k(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$k(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _typeof$L(e){return(_typeof$L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bk=function getDisplayName2(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},zk=null,Vk=null,Uk=function toArray2(e){if(e===zk&&Array.isArray(Vk))return Vk;var s=[];return re.Children.forEach(e,function(e){sk(e)||(vk.isFragment(e)?s=s.concat(toArray2(e.props.children)):s.push(e))}),Vk=s,zk=e,s};function findAllByType(e,s){var a=[],l=[];return l=Array.isArray(s)?s.map(function(e){return Bk(e)}):[Bk(s)],Uk(e).forEach(function(e){var s=tk(e,"type.displayName")||tk(e,"type.name");-1!==l.indexOf(s)&&a.push(e)}),a}function findChildByType(e,s){var a=findAllByType(e,s);return a&&a[0]}var Hk=function validateWidthHeight2(e){if(!e||!e.props)return!1;var s=e.props,a=s.width,l=s.height;return!(!Nk(a)||a<=0||!Nk(l)||l<=0)},qk=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wk=function hasClipDot2(e){return e&&"object"===_typeof$L(e)&&"clipDot"in e},Zk=function filterProps2(e,s,a){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var l=e;if(re.isValidElement(e)&&(l=e.props),!ck(l))return null;var c={};return Object.keys(l).forEach(function(e){var u;(function isValidSpreadableProp2(e,s,a,l){var c,u=null!==(c=null==Lk?void 0:Lk[l])&&void 0!==c?c:[];return s.startsWith("data-")||!lk(e)&&(l&&u.includes(s)||Ak.includes(s))||a&&Dk.includes(s)})(null===(u=l)||void 0===u?void 0:u[e],e,s,a)&&(c[e]=l[e])}),c},Kk=function isChildrenEqual2(e,s){if(e===s)return!0;var a=re.Children.count(e);if(a!==re.Children.count(s))return!1;if(0===a)return!0;if(1===a)return Gk(Array.isArray(e)?e[0]:e,Array.isArray(s)?s[0]:s);for(var l=0;l<a;l++){var c=e[l],u=s[l];if(Array.isArray(c)||Array.isArray(u)){if(!isChildrenEqual2(c,u))return!1}else if(!Gk(c,u))return!1}return!0},Gk=function isSingleChildEqual2(e,s){if(sk(e)&&sk(s))return!0;if(!sk(e)&&!sk(s)){var a=e.props||{},l=a.children,c=_objectWithoutProperties$k(a,$k),u=s.props||{},p=u.children,m=_objectWithoutProperties$k(u,Rk);return l&&p?shallowEqual(c,m)&&Kk(l,p):!l&&!p&&shallowEqual(c,m)}return!1},Yk=function renderByOrder2(e,s){var a=[],l={};return Uk(e).forEach(function(e,c){if(function isSvgElement2(e){return e&&e.type&&ok(e.type)&&qk.indexOf(e.type)>=0}(e))a.push(e);else if(e){var u=Bk(e.type),p=s[u]||{},m=p.handler,h=p.once;if(m&&(!h||!l[u])){var f=m(e,u,c);a.push(f),l[u]=!0}}}),a},Qk=function parseChildIndex2(e,s){return Uk(s).indexOf(e)},Xk=["children","width","height","viewBox","className","style","title","desc"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$v.apply(this,arguments)}function _objectWithoutProperties$j(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$j(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Surface(e){var s=e.children,a=e.width,l=e.height,c=e.viewBox,u=e.className,p=e.style,m=e.title,h=e.desc,f=_objectWithoutProperties$j(e,Xk),g=c||{width:a,height:l,x:0,y:0},b=clsx("recharts-surface",u);return ae.createElement("svg",_extends$v({},Zk(f,!0,"svg"),{className:b,width:a,height:l,style:p,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),ae.createElement("title",null,m),ae.createElement("desc",null,h),s)}var Jk=["children","className"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$u.apply(this,arguments)}function _objectWithoutProperties$i(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$i(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var e_,t_,r_,n_,s_,a_,i_,o_,l_,c_,d_,u_,p_,m_,h_,f_,g_=ae.forwardRef(function(e,s){var a=e.children,l=e.className,c=_objectWithoutProperties$i(e,Jk),u=clsx("recharts-layer",l);return ae.createElement("g",_extends$u({className:u},Zk(c,!0),{ref:s}),a)}),x_=function warn2(e,s){for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c]};function require_castSlice(){if(n_)return r_;n_=1;var e=function require_baseSlice(){return t_?e_:(t_=1,e_=function baseSlice(e,s,a){var l=-1,c=e.length;s<0&&(s=-s>c?0:c+s),(a=a>c?c:a)<0&&(a+=c),c=s>a?0:a-s>>>0,s>>>=0;for(var u=Array(c);++l<c;)u[l]=e[l+s];return u})}();return r_=function castSlice(s,a,l){var c=s.length;return l=void 0===l?c:l,!a&&l>=c?s:e(s,a,l)}}function require_hasUnicode(){if(a_)return s_;a_=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return s_=function hasUnicode(s){return e.test(s)}}function require_stringToArray(){if(u_)return d_;u_=1;var e=function require_asciiToArray(){return o_?i_:(o_=1,i_=function asciiToArray(e){return e.split("")})}(),s=require_hasUnicode(),a=function require_unicodeToArray(){if(c_)return l_;c_=1;var e="\\ud800-\\udfff",s="["+e+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",c="[^"+e+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="(?:"+a+"|"+l+")?",h="[\\ufe0e\\ufe0f]?",f=h+m+"(?:\\u200d(?:"+[c,u,p].join("|")+")"+h+m+")*",g="(?:"+[c+a+"?",a,u,p,s].join("|")+")",b=RegExp(l+"(?="+l+")|"+g+f,"g");return l_=function unicodeToArray(e){return e.match(b)||[]}}();return d_=function stringToArray(l){return s(l)?a(l):e(l)}}const v_=getDefaultExportFromCjs$2(function requireUpperFirst(){if(f_)return h_;f_=1;var e=function require_createCaseFirst(){if(m_)return p_;m_=1;var e=require_castSlice(),s=require_hasUnicode(),a=require_stringToArray(),l=requireToString();return p_=function createCaseFirst(c){return function(u){u=l(u);var p=s(u)?a(u):void 0,m=p?p[0]:u.charAt(0),h=p?e(p,1).join(""):u.slice(1);return m[c]()+h}}}()("toUpperCase");return h_=e}());function constant$1(e){return function constant2(){return e}}const y_=Math.cos,b_=Math.sin,j_=Math.sqrt,w_=Math.PI,N_=2*w_,S_=Math.PI,C_=2*S_,k_=1e-6,P_=C_-k_;function append(e){this._+=e[0];for(let s=1,a=e.length;s<a;++s)this._+=arguments[s]+e[s]}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?append:function appendRound(e){let s=Math.floor(e);if(!(s>=0))throw new Error(`invalid digits: ${e}`);if(s>15)return append;const a=10**s;return function(e){this._+=e[0];for(let s=1,l=e.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+e[s]}}(e)}moveTo(e,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,s){this._append`L${this._x1=+e},${this._y1=+s}`}quadraticCurveTo(e,s,a,l){this._append`Q${+e},${+s},${this._x1=+a},${this._y1=+l}`}bezierCurveTo(e,s,a,l,c,u){this._append`C${+e},${+s},${+a},${+l},${this._x1=+c},${this._y1=+u}`}arcTo(e,s,a,l,c){if(e=+e,s=+s,a=+a,l=+l,(c=+c)<0)throw new Error(`negative radius: ${c}`);let u=this._x1,p=this._y1,m=a-e,h=l-s,f=u-e,g=p-s,b=f*f+g*g;if(null===this._x1)this._append`M${this._x1=e},${this._y1=s}`;else if(b>k_)if(Math.abs(g*m-h*f)>k_&&c){let j=a-u,N=l-p,k=m*m+h*h,_=j*j+N*N,T=Math.sqrt(k),E=Math.sqrt(b),A=c*Math.tan((S_-Math.acos((k+b-_)/(2*T*E)))/2),L=A/E,O=A/T;Math.abs(L-1)>k_&&this._append`L${e+L*f},${s+L*g}`,this._append`A${c},${c},0,0,${+(g*j>f*N)},${this._x1=e+O*m},${this._y1=s+O*h}`}else this._append`L${this._x1=e},${this._y1=s}`;else;}arc(e,s,a,l,c,u){if(e=+e,s=+s,u=!!u,(a=+a)<0)throw new Error(`negative radius: ${a}`);let p=a*Math.cos(l),m=a*Math.sin(l),h=e+p,f=s+m,g=1^u,b=u?l-c:c-l;null===this._x1?this._append`M${h},${f}`:(Math.abs(this._x1-h)>k_||Math.abs(this._y1-f)>k_)&&this._append`L${h},${f}`,a&&(b<0&&(b=b%C_+C_),b>P_?this._append`A${a},${a},0,1,${g},${e-p},${s-m}A${a},${a},0,1,${g},${this._x1=h},${this._y1=f}`:b>k_&&this._append`A${a},${a},0,${+(b>=S_)},${g},${this._x1=e+a*Math.cos(c)},${this._y1=s+a*Math.sin(c)}`)}rect(e,s,a,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}h${a=+a}v${+l}h${-a}Z`}toString(){return this._}}function withPath(e){let s=3;return e.digits=function(a){if(!arguments.length)return s;if(null==a)s=null;else{const e=Math.floor(a);if(!(e>=0))throw new RangeError(`invalid digits: ${a}`);s=e}return e},()=>new Path(s)}function array(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function shapeLine(e,s){var a=constant$1(!0),l=null,c=curveLinear,u=null,p=withPath(line);function line(m){var h,f,g,b=(m=array(m)).length,j=!1;for(null==l&&(u=c(g=p())),h=0;h<=b;++h)!(h<b&&a(f=m[h],h,m))===j&&((j=!j)?u.lineStart():u.lineEnd()),j&&u.point(+e(f,h,m),+s(f,h,m));if(g)return u=null,g+""||null}return e="function"==typeof e?e:void 0===e?x:constant$1(e),s="function"==typeof s?s:void 0===s?y:constant$1(s),line.x=function(s){return arguments.length?(e="function"==typeof s?s:constant$1(+s),line):e},line.y=function(e){return arguments.length?(s="function"==typeof e?e:constant$1(+e),line):s},line.defined=function(e){return arguments.length?(a="function"==typeof e?e:constant$1(!!e),line):a},line.curve=function(e){return arguments.length?(c=e,null!=l&&(u=c(l)),line):c},line.context=function(e){return arguments.length?(null==e?l=u=null:u=c(l=e),line):l},line}function shapeArea(e,s,a){var l=null,c=constant$1(!0),u=null,p=curveLinear,m=null,h=withPath(area);function area(f){var g,b,j,N,k,_=(f=array(f)).length,T=!1,E=new Array(_),A=new Array(_);for(null==u&&(m=p(k=h())),g=0;g<=_;++g){if(!(g<_&&c(N=f[g],g,f))===T)if(T=!T)b=g,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),j=g-1;j>=b;--j)m.point(E[j],A[j]);m.lineEnd(),m.areaEnd()}T&&(E[g]=+e(N,g,f),A[g]=+s(N,g,f),m.point(l?+l(N,g,f):E[g],a?+a(N,g,f):A[g]))}if(k)return m=null,k+""||null}function arealine(){return shapeLine().defined(c).curve(p).context(u)}return e="function"==typeof e?e:void 0===e?x:constant$1(+e),s="function"==typeof s?s:constant$1(void 0===s?0:+s),a="function"==typeof a?a:void 0===a?y:constant$1(+a),area.x=function(s){return arguments.length?(e="function"==typeof s?s:constant$1(+s),l=null,area):e},area.x0=function(s){return arguments.length?(e="function"==typeof s?s:constant$1(+s),area):e},area.x1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:constant$1(+e),area):l},area.y=function(e){return arguments.length?(s="function"==typeof e?e:constant$1(+e),a=null,area):s},area.y0=function(e){return arguments.length?(s="function"==typeof e?e:constant$1(+e),area):s},area.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:constant$1(+e),area):a},area.lineX0=area.lineY0=function(){return arealine().x(e).y(s)},area.lineY1=function(){return arealine().x(e).y(a)},area.lineX1=function(){return arealine().x(l).y(s)},area.defined=function(e){return arguments.length?(c="function"==typeof e?e:constant$1(!!e),area):c},area.curve=function(e){return arguments.length?(p=e,null!=u&&(m=p(u)),area):p},area.context=function(e){return arguments.length?(null==e?u=m=null:m=p(u=e),area):u},area}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:this._context.lineTo(e,s)}}};class Bump{constructor(e,s){this._context=e,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,s,e,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,e,this._y0,e,s)}this._x0=e,this._y0=s}}const T_={draw(e,s){const a=j_(s/w_);e.moveTo(a,0),e.arc(0,0,a,0,N_)}},E_={draw(e,s){const a=j_(s/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},A_=j_(1/3),M_=2*A_,L_={draw(e,s){const a=j_(s/M_),l=a*A_;e.moveTo(0,-a),e.lineTo(l,0),e.lineTo(0,a),e.lineTo(-l,0),e.closePath()}},D_={draw(e,s){const a=j_(s),l=-a/2;e.rect(l,l,a,a)}},O_=b_(w_/10)/b_(7*w_/10),I_=b_(N_/10)*O_,$_=-y_(N_/10)*O_,R_={draw(e,s){const a=j_(.8908130915292852*s),l=I_*a,c=$_*a;e.moveTo(0,-a),e.lineTo(l,c);for(let u=1;u<5;++u){const s=N_*u/5,p=y_(s),m=b_(s);e.lineTo(m*a,-p*a),e.lineTo(p*l-m*c,m*l+p*c)}e.closePath()}},F_=j_(3),B_={draw(e,s){const a=-j_(s/(3*F_));e.moveTo(0,2*a),e.lineTo(-F_*a,-a),e.lineTo(F_*a,-a),e.closePath()}},z_=-.5,V_=j_(3)/2,U_=1/j_(12),H_=3*(U_/2+1),q_={draw(e,s){const a=j_(s/H_),l=a/2,c=a*U_,u=l,p=a*U_+a,m=-u,h=p;e.moveTo(l,c),e.lineTo(u,p),e.lineTo(m,h),e.lineTo(z_*l-V_*c,V_*l+z_*c),e.lineTo(z_*u-V_*p,V_*u+z_*p),e.lineTo(z_*m-V_*h,V_*m+z_*h),e.lineTo(z_*l+V_*c,z_*c-V_*l),e.lineTo(z_*u+V_*p,z_*p-V_*u),e.lineTo(z_*m+V_*h,z_*h-V_*m),e.closePath()}};function noop$1(){}function point$2(e,s,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+s)/6,(e._y0+4*e._y1+a)/6)}function Basis(e){this._context=e}function BasisClosed(e){this._context=e}function BasisOpen(e){this._context=e}function LinearClosed(e){this._context=e}function sign(e){return e<0?-1:1}function slope3(e,s,a){var l=e._x1-e._x0,c=s-e._x1,u=(e._y1-e._y0)/(l||c<0&&-0),p=(a-e._y1)/(c||l<0&&-0),m=(u*c+p*l)/(l+c);return(sign(u)+sign(p))*Math.min(Math.abs(u),Math.abs(p),.5*Math.abs(m))||0}function slope2(e,s){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-s)/2:s}function point$1(e,s,a){var l=e._x0,c=e._y0,u=e._x1,p=e._y1,m=(u-l)/3;e._context.bezierCurveTo(l+m,c+m*s,u-m,p-m*a,u,p)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}function Natural(e){this._context=e}function controlPoints(e){var s,a,l=e.length-1,c=new Array(l),u=new Array(l),p=new Array(l);for(c[0]=0,u[0]=2,p[0]=e[0]+2*e[1],s=1;s<l-1;++s)c[s]=1,u[s]=4,p[s]=4*e[s]+2*e[s+1];for(c[l-1]=2,u[l-1]=7,p[l-1]=8*e[l-1]+e[l],s=1;s<l;++s)a=c[s]/u[s-1],u[s]-=a,p[s]-=a*p[s-1];for(c[l-1]=p[l-1]/u[l-1],s=l-2;s>=0;--s)c[s]=(p[s]-c[s+1])/u[s];for(u[l-1]=(e[l]+c[l-1])/2,s=0;s<l-1;++s)u[s]=2*e[s+1]-c[s+1];return[c,u]}function Step(e,s){this._context=e,this._t=s}function stackOffsetNone(e,s){if((c=e.length)>1)for(var a,l,c,u=1,p=e[s[0]],m=p.length;u<c;++u)for(l=p,p=e[s[u]],a=0;a<m;++a)p[a][1]+=p[a][0]=isNaN(l[a][1])?l[a][0]:l[a][1]}function stackOrderNone(e){for(var s=e.length,a=new Array(s);--s>=0;)a[s]=s;return a}function stackValue(e,s){return e[s]}function stackSeries(e){const s=[];return s.key=e,s}function _typeof$K(e){return(_typeof$K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,e,s)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=s}},BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._x2=e,this._y2=s;break;case 1:this._point=2,this._x3=e,this._y3=s;break;case 2:this._point=3,this._x4=e,this._y4=s,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+s)/6);break;default:point$2(this,e,s)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=s}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,l=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 3:this._point=4;default:point$2(this,e,s)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=s}},LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,s){e=+e,s=+s,this._point?this._context.lineTo(e,s):(this._point=1,this._context.moveTo(e,s))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){var a=NaN;if(s=+s,(e=+e)!==this._x1||s!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,a=slope3(this,e,s)),a);break;default:point$1(this,this._t0,a=slope3(this,e,s))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=s,this._t0=a}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,s){MonotoneX.prototype.point.call(this,s,e)},ReflectContext.prototype={moveTo:function(e,s){this._context.moveTo(s,e)},closePath:function(){this._context.closePath()},lineTo:function(e,s){this._context.lineTo(s,e)},bezierCurveTo:function(e,s,a,l,c,u){this._context.bezierCurveTo(s,e,l,a,u,c)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,s=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],s[0]):this._context.moveTo(e[0],s[0]),2===a)this._context.lineTo(e[1],s[1]);else for(var l=controlPoints(e),c=controlPoints(s),u=0,p=1;p<a;++u,++p)this._context.bezierCurveTo(l[0][u],c[0][u],l[1][u],c[1][u],e[p],s[p]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,s){this._x.push(+e),this._y.push(+s)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,s),this._context.lineTo(e,s);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,s)}}this._x=e,this._y=s}};var W_=["type","size","sizeType"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$t.apply(this,arguments)}function ownKeys$D(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$D(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$D(Object(a),!0).forEach(function(s){_defineProperty$J(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$D(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$J(e,s,a){return(s=function _toPropertyKey$J(e){var s=function _toPrimitive$J(e,s){if("object"!=_typeof$K(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$K(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$K(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _objectWithoutProperties$h(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$h(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Z_={symbolCircle:T_,symbolCross:E_,symbolDiamond:L_,symbolSquare:D_,symbolStar:R_,symbolTriangle:B_,symbolWye:q_},K_=Math.PI/180,G_=function Symbols2(e){var s=e.type,a=void 0===s?"circle":s,l=e.size,c=void 0===l?64:l,u=e.sizeType,p=void 0===u?"area":u,m=_objectSpread$D(_objectSpread$D({},_objectWithoutProperties$h(e,W_)),{},{type:a,size:c,sizeType:p}),h=m.className,f=m.cx,g=m.cy,b=Zk(m,!0);return f===+f&&g===+g&&c===+c?ae.createElement("path",_extends$t({},b,{className:clsx("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(g,")"),d:function getPath5(){var e=function getSymbolFactory2(e){var s="symbol".concat(v_(e));return Z_[s]||T_}(a),s=function Symbol$1(e,s){let a=null,l=withPath(symbol);function symbol(){let c;if(a||(a=c=l()),e.apply(this,arguments).draw(a,+s.apply(this,arguments)),c)return a=null,c+""||null}return e="function"==typeof e?e:constant$1(e||T_),s="function"==typeof s?s:constant$1(void 0===s?64:+s),symbol.type=function(s){return arguments.length?(e="function"==typeof s?s:constant$1(s),symbol):e},symbol.size=function(e){return arguments.length?(s="function"==typeof e?e:constant$1(+e),symbol):s},symbol.context=function(e){return arguments.length?(a=null==e?null:e,symbol):a},symbol}().type(e).size(function calculateAreaSize2(e,s,a){if("area"===s)return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var l=18*K_;return 1.25*e*e*(Math.tan(l)-Math.tan(2*l)*Math.pow(Math.tan(l),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(c,p,a));return s()}()})):null};function _typeof$J(e){return(_typeof$J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$s.apply(this,arguments)}function ownKeys$C(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _createClass$m(e,s,a){return s&&function _defineProperties$m(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$I(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$i(e,s,a){return s=_getPrototypeOf$j(s),function _possibleConstructorReturn$j(e,s){if(s&&("object"===_typeof$J(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$j()?Reflect.construct(s,a||[],_getPrototypeOf$j(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$j=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$j(e){return(_getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$j(e,s){return(_setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$I(e,s,a){return(s=_toPropertyKey$I(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$I(e){var s=function _toPrimitive$I(e,s){if("object"!=_typeof$J(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$J(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$J(s)?s:s+""}G_.registerSymbol=function registerSymbol2(e,s){Z_["symbol".concat(v_(e))]=s};var Y_,Q_,X_,J_,eP,tP,rP,nP,sP,aP,iP,oP,lP,cP,dP,uP,pP,mP,hP,fP,gP,xP,vP,yP,bP,jP,wP,NP,SP,CP,kP,_P,PP,TP,EP,AP,MP,LP,DP,OP,IP,$P,RP,FP,BP,zP,VP,UP,HP=32,qP=function(){function DefaultLegendContent2(){return function _classCallCheck$m(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,DefaultLegendContent2),_callSuper$i(this,DefaultLegendContent2,arguments)}return function _inherits$j(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$j(e,s)}(DefaultLegendContent2,re.PureComponent),_createClass$m(DefaultLegendContent2,[{key:"renderIcon",value:function renderIcon(e){var s=this.props.inactiveColor,a=16,l=HP/6,c=HP/3,u=e.inactive?s:e.color;if("plainline"===e.type)return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:HP,y2:a,className:"recharts-legend-icon"});if("line"===e.type)return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(c,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,"\n            H").concat(HP,"M").concat(2*c,",").concat(a,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if("rect"===e.type)return ae.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(4,"h").concat(HP,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(e.legendIcon)){var p=function _objectSpread$C(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$C(Object(a),!0).forEach(function(s){_defineProperty$I(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$C(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}({},e);return delete p.legendIcon,ae.cloneElement(e.legendIcon,p)}return ae.createElement(G_,{fill:u,cx:a,cy:a,size:HP,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function renderItems(){var e=this,s=this.props,a=s.payload,l=s.iconSize,c=s.layout,u=s.formatter,p=s.inactiveColor,m={x:0,y:0,width:HP,height:HP},h={display:"horizontal"===c?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(s,a){var c=s.formatter||u,g=clsx(_defineProperty$I(_defineProperty$I({"recharts-legend-item":!0},"legend-item-".concat(a),!0),"inactive",s.inactive));if("none"===s.type)return null;var b=lk(s.value)?null:s.value;x_(!lk(s.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var j=s.inactive?p:s.color;return ae.createElement("li",_extends$s({className:g,style:h,key:"legend-item-".concat(a)},Ik(e.props,s,a)),ae.createElement(Surface,{width:l,height:l,viewBox:m,style:f},e.renderIcon(s)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},c?c(b,s,a):b))})}},{key:"render",value:function render(){var e=this.props,s=e.payload,a=e.layout,l=e.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:"horizontal"===a?l:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}();function require_Stack(){if(oP)return iP;oP=1;var e=require_ListCache(),s=function require_stackClear(){if(Q_)return Y_;Q_=1;var e=require_ListCache();return Y_=function stackClear(){this.__data__=new e,this.size=0}}(),a=function require_stackDelete(){return J_?X_:(J_=1,X_=function stackDelete(e){var s=this.__data__,a=s.delete(e);return this.size=s.size,a})}(),l=function require_stackGet(){return tP?eP:(tP=1,eP=function stackGet(e){return this.__data__.get(e)})}(),c=function require_stackHas(){return nP?rP:(nP=1,rP=function stackHas(e){return this.__data__.has(e)})}(),u=function require_stackSet(){if(aP)return sP;aP=1;var e=require_ListCache(),s=require_Map(),a=require_MapCache();return sP=function stackSet(l,c){var u=this.__data__;if(u instanceof e){var p=u.__data__;if(!s||p.length<199)return p.push([l,c]),this.size=++u.size,this;u=this.__data__=new a(p)}return u.set(l,c),this.size=u.size,this}}();function Stack(s){var a=this.__data__=new e(s);this.size=a.size}return Stack.prototype.clear=s,Stack.prototype.delete=a,Stack.prototype.get=l,Stack.prototype.has=c,Stack.prototype.set=u,iP=Stack}function require_SetCache(){if(mP)return pP;mP=1;var e=require_MapCache(),s=function require_setCacheAdd(){return cP?lP:(cP=1,lP=function setCacheAdd(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this})}(),a=function require_setCacheHas(){return uP?dP:(uP=1,dP=function setCacheHas(e){return this.__data__.has(e)})}();function SetCache(s){var a=-1,l=null==s?0:s.length;for(this.__data__=new e;++a<l;)this.add(s[a])}return SetCache.prototype.add=SetCache.prototype.push=s,SetCache.prototype.has=a,pP=SetCache}function require_arraySome(){if(fP)return hP;return fP=1,hP=function arraySome(e,s){for(var a=-1,l=null==e?0:e.length;++a<l;)if(s(e[a],a,e))return!0;return!1}}function require_cacheHas(){if(xP)return gP;return xP=1,gP=function cacheHas(e,s){return e.has(s)}}function require_equalArrays(){if(yP)return vP;yP=1;var e=require_SetCache(),s=require_arraySome(),a=require_cacheHas();return vP=function equalArrays(l,c,u,p,m,h){var f=1&u,g=l.length,b=c.length;if(g!=b&&!(f&&b>g))return!1;var j=h.get(l),N=h.get(c);if(j&&N)return j==c&&N==l;var k=-1,_=!0,T=2&u?new e:void 0;for(h.set(l,c),h.set(c,l);++k<g;){var E=l[k],A=c[k];if(p)var L=f?p(A,E,k,c,l,h):p(E,A,k,l,c,h);if(void 0!==L){if(L)continue;_=!1;break}if(T){if(!s(c,function(e,s){if(!a(T,s)&&(E===e||m(E,e,u,p,h)))return T.push(s)})){_=!1;break}}else if(E!==A&&!m(E,A,u,p,h)){_=!1;break}}return h.delete(l),h.delete(c),_}}function require_setToArray(){if(CP)return SP;return CP=1,SP=function setToArray(e){var s=-1,a=Array(e.size);return e.forEach(function(e){a[++s]=e}),a}}function require_equalByTag(){if(_P)return kP;_P=1;var e=require_Symbol(),s=function require_Uint8Array(){if(jP)return bP;jP=1;var e=require_root().Uint8Array;return bP=e}(),a=requireEq(),l=require_equalArrays(),c=function require_mapToArray(){return NP?wP:(NP=1,wP=function mapToArray(e){var s=-1,a=Array(e.size);return e.forEach(function(e,l){a[++s]=[l,e]}),a})}(),u=require_setToArray(),p=e?e.prototype:void 0,m=p?p.valueOf:void 0;return kP=function equalByTag(e,p,h,f,g,b,j){switch(h){case"[object DataView]":if(e.byteLength!=p.byteLength||e.byteOffset!=p.byteOffset)return!1;e=e.buffer,p=p.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=p.byteLength||!b(new s(e),new s(p)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+p);case"[object Error]":return e.name==p.name&&e.message==p.message;case"[object RegExp]":case"[object String]":return e==p+"";case"[object Map]":var N=c;case"[object Set]":var k=1&f;if(N||(N=u),e.size!=p.size&&!k)return!1;var _=j.get(e);if(_)return _==p;f|=2,j.set(e,p);var T=l(N(e),N(p),f,g,b,j);return j.delete(e),T;case"[object Symbol]":if(m)return m.call(e)==m.call(p)}return!1}}function require_arrayPush(){if(TP)return PP;return TP=1,PP=function arrayPush(e,s){for(var a=-1,l=s.length,c=e.length;++a<l;)e[c+a]=s[a];return e}}function require_getSymbols(){if($P)return IP;$P=1;var e=function require_arrayFilter(){return LP?MP:(LP=1,MP=function arrayFilter(e,s){for(var a=-1,l=null==e?0:e.length,c=0,u=[];++a<l;){var p=e[a];s(p,a,e)&&(u[c++]=p)}return u})}(),s=function requireStubArray(){return OP?DP:(OP=1,DP=function stubArray(){return[]})}(),a=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols;return IP=l?function(s){return null==s?[]:(s=Object(s),e(l(s),function(e){return a.call(s,e)}))}:s}function requireIsArguments(){if(UP)return VP;UP=1;var e=function require_baseIsArguments(){if(zP)return BP;zP=1;var e=require_baseGetTag(),s=requireIsObjectLike();return BP=function baseIsArguments(a){return s(a)&&"[object Arguments]"==e(a)}}(),s=requireIsObjectLike(),a=Object.prototype,l=a.hasOwnProperty,c=a.propertyIsEnumerable,u=e(function(){return arguments}())?e:function(e){return s(e)&&l.call(e,"callee")&&!c.call(e,"callee")};return VP=u}_defineProperty$I(qP,"displayName","Legend"),_defineProperty$I(qP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WP,ZP,KP,GP,YP,QP,XP,JP,eT,tT,rT,nT={exports:{}};function requireIsBuffer(){return KP||(KP=1,e=nT,s=nT.exports,a=require_root(),l=function requireStubFalse(){return ZP?WP:(ZP=1,WP=function stubFalse(){return!1})}(),c=s&&!s.nodeType&&s,u=c&&e&&!e.nodeType&&e,p=u&&u.exports===c?a.Buffer:void 0,m=(p?p.isBuffer:void 0)||l,e.exports=m),nT.exports;var e,s,a,l,c,u,p,m}function require_isIndex(){if(YP)return GP;YP=1;var e=/^(?:0|[1-9]\d*)$/;return GP=function isIndex(s,a){var l=typeof s;return!!(a=null==a?9007199254740991:a)&&("number"==l||"symbol"!=l&&e.test(s))&&s>-1&&s%1==0&&s<a}}function requireIsLength(){if(XP)return QP;XP=1;return QP=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function require_baseUnary(){if(rT)return tT;return rT=1,tT=function baseUnary(e){return function(s){return e(s)}}}var sT,aT,iT,oT,lT,cT,dT,uT,pT,mT,hT,fT,gT,xT,vT,yT,bT,jT,wT,NT,ST,CT,kT,_T,PT,TT,ET,AT,MT,LT,DT,OT,IT,$T,RT,FT,BT,zT,VT,UT,HT,qT,WT,ZT,KT,GT,YT,QT,XT,JT,eE,tE,rE,nE,sE,aE,iE,oE,lE,cE,dE,uE,pE,mE,hE,fE,gE,xE,vE,yE,bE,jE,wE,NE,SE,CE,kE,_E,PE,TE,AE,ME,LE,DE={exports:{}};function requireIsTypedArray(){if(iT)return aT;iT=1;var e=function require_baseIsTypedArray(){if(eT)return JP;eT=1;var e=require_baseGetTag(),s=requireIsLength(),a=requireIsObjectLike(),l={};return l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,JP=function baseIsTypedArray(c){return a(c)&&s(c.length)&&!!l[e(c)]}}(),s=require_baseUnary(),a=function require_nodeUtil(){return sT||(sT=1,e=DE,s=DE.exports,a=require_freeGlobal(),l=s&&!s.nodeType&&s,c=l&&e&&!e.nodeType&&e,u=c&&c.exports===l&&a.process,p=function(){try{return c&&c.require&&c.require("util").types||u&&u.binding&&u.binding("util")}catch(e){}}(),e.exports=p),DE.exports;var e,s,a,l,c,u,p}(),l=a&&a.isTypedArray,c=l?s(l):e;return aT=c}function require_arrayLikeKeys(){if(lT)return oT;lT=1;var e=function require_baseTimes(){return FP?RP:(FP=1,RP=function baseTimes(e,s){for(var a=-1,l=Array(e);++a<e;)l[a]=s(a);return l})}(),s=requireIsArguments(),a=requireIsArray(),l=requireIsBuffer(),c=require_isIndex(),u=requireIsTypedArray(),p=Object.prototype.hasOwnProperty;return oT=function arrayLikeKeys(m,h){var f=a(m),g=!f&&s(m),b=!f&&!g&&l(m),j=!f&&!g&&!b&&u(m),N=f||g||b||j,k=N?e(m.length,String):[],_=k.length;for(var T in m)!h&&!p.call(m,T)||N&&("length"==T||b&&("offset"==T||"parent"==T)||j&&("buffer"==T||"byteLength"==T||"byteOffset"==T)||c(T,_))||k.push(T);return k}}function require_overArg(){if(pT)return uT;return pT=1,uT=function overArg(e,s){return function(a){return e(s(a))}}}function require_baseKeys(){if(gT)return fT;gT=1;var e=function require_isPrototype(){if(dT)return cT;dT=1;var e=Object.prototype;return cT=function isPrototype(s){var a=s&&s.constructor;return s===("function"==typeof a&&a.prototype||e)}}(),s=function require_nativeKeys(){if(hT)return mT;hT=1;var e=require_overArg()(Object.keys,Object);return mT=e}(),a=Object.prototype.hasOwnProperty;return fT=function baseKeys(l){if(!e(l))return s(l);var c=[];for(var u in Object(l))a.call(l,u)&&"constructor"!=u&&c.push(u);return c}}function requireIsArrayLike(){if(vT)return xT;vT=1;var e=requireIsFunction(),s=requireIsLength();return xT=function isArrayLike(a){return null!=a&&s(a.length)&&!e(a)}}function requireKeys(){if(bT)return yT;bT=1;var e=require_arrayLikeKeys(),s=require_baseKeys(),a=requireIsArrayLike();return yT=function keys2(l){return a(l)?e(l):s(l)}}function require_getAllKeys(){if(wT)return jT;wT=1;var e=function require_baseGetAllKeys(){if(AP)return EP;AP=1;var e=require_arrayPush(),s=requireIsArray();return EP=function baseGetAllKeys(a,l,c){var u=l(a);return s(a)?u:e(u,c(a))}}(),s=require_getSymbols(),a=requireKeys();return jT=function getAllKeys(l){return e(l,a,s)}}function require_Set(){if(ET)return TT;ET=1;var e=require_getNative()(require_root(),"Set");return TT=e}function require_getTag(){if(DT)return LT;DT=1;var e=function require_DataView(){if(kT)return CT;kT=1;var e=require_getNative()(require_root(),"DataView");return CT=e}(),s=require_Map(),a=function require_Promise(){if(PT)return _T;PT=1;var e=require_getNative()(require_root(),"Promise");return _T=e}(),l=require_Set(),c=function require_WeakMap(){if(MT)return AT;MT=1;var e=require_getNative()(require_root(),"WeakMap");return AT=e}(),u=require_baseGetTag(),p=require_toSource(),m="[object Map]",h="[object Promise]",f="[object Set]",g="[object WeakMap]",b="[object DataView]",j=p(e),N=p(s),k=p(a),_=p(l),T=p(c),E=u;return(e&&E(new e(new ArrayBuffer(1)))!=b||s&&E(new s)!=m||a&&E(a.resolve())!=h||l&&E(new l)!=f||c&&E(new c)!=g)&&(E=function(e){var s=u(e),a="[object Object]"==s?e.constructor:void 0,l=a?p(a):"";if(l)switch(l){case j:return b;case N:return m;case k:return h;case _:return f;case T:return g}return s}),LT=E}function require_baseIsEqualDeep(){if(IT)return OT;IT=1;var e=require_Stack(),s=require_equalArrays(),a=require_equalByTag(),l=function require_equalObjects(){if(ST)return NT;ST=1;var e=require_getAllKeys(),s=Object.prototype.hasOwnProperty;return NT=function equalObjects(a,l,c,u,p,m){var h=1&c,f=e(a),g=f.length;if(g!=e(l).length&&!h)return!1;for(var b=g;b--;){var j=f[b];if(!(h?j in l:s.call(l,j)))return!1}var N=m.get(a),k=m.get(l);if(N&&k)return N==l&&k==a;var _=!0;m.set(a,l),m.set(l,a);for(var T=h;++b<g;){var E=a[j=f[b]],A=l[j];if(u)var L=h?u(A,E,j,l,a,m):u(E,A,j,a,l,m);if(!(void 0===L?E===A||p(E,A,c,u,m):L)){_=!1;break}T||(T="constructor"==j)}if(_&&!T){var O=a.constructor,I=l.constructor;O==I||!("constructor"in a)||!("constructor"in l)||"function"==typeof O&&O instanceof O&&"function"==typeof I&&I instanceof I||(_=!1)}return m.delete(a),m.delete(l),_}}(),c=require_getTag(),u=requireIsArray(),p=requireIsBuffer(),m=requireIsTypedArray(),h="[object Arguments]",f="[object Array]",g="[object Object]",b=Object.prototype.hasOwnProperty;return OT=function baseIsEqualDeep(j,N,k,_,T,E){var A=u(j),L=u(N),O=A?f:c(j),I=L?f:c(N),$=(O=O==h?g:O)==g,z=(I=I==h?g:I)==g,U=O==I;if(U&&p(j)){if(!p(N))return!1;A=!0,$=!1}if(U&&!$)return E||(E=new e),A||m(j)?s(j,N,k,_,T,E):a(j,N,O,k,_,T,E);if(!(1&k)){var H=$&&b.call(j,"__wrapped__"),q=z&&b.call(N,"__wrapped__");if(H||q){var Z=H?j.value():j,Y=q?N.value():N;return E||(E=new e),T(Z,Y,k,_,E)}}return!!U&&(E||(E=new e),l(j,N,k,_,T,E))}}function require_baseIsEqual(){if(RT)return $T;RT=1;var e=require_baseIsEqualDeep(),s=requireIsObjectLike();return $T=function baseIsEqual(a,l,c,u,p){return a===l||(null==a||null==l||!s(a)&&!s(l)?a!=a&&l!=l:e(a,l,c,u,baseIsEqual,p))},$T}function require_isStrictComparable(){if(VT)return zT;VT=1;var e=requireIsObject();return zT=function isStrictComparable(s){return s==s&&!e(s)}}function require_matchesStrictComparable(){if(WT)return qT;return WT=1,qT=function matchesStrictComparable(e,s){return function(a){return null!=a&&(a[e]===s&&(void 0!==s||e in Object(a)))}}}function require_baseMatches(){if(KT)return ZT;KT=1;var e=function require_baseIsMatch(){if(BT)return FT;BT=1;var e=require_Stack(),s=require_baseIsEqual();return FT=function baseIsMatch(a,l,c,u){var p=c.length,m=p,h=!u;if(null==a)return!m;for(a=Object(a);p--;){var f=c[p];if(h&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++p<m;){var g=(f=c[p])[0],b=a[g],j=f[1];if(h&&f[2]){if(void 0===b&&!(g in a))return!1}else{var N=new e;if(u)var k=u(b,j,g,a,l,N);if(!(void 0===k?s(j,b,3,u,N):k))return!1}}return!0}}(),s=function require_getMatchData(){if(HT)return UT;HT=1;var e=require_isStrictComparable(),s=requireKeys();return UT=function getMatchData(a){for(var l=s(a),c=l.length;c--;){var u=l[c],p=a[u];l[c]=[u,p,e(p)]}return l}}(),a=require_matchesStrictComparable();return ZT=function baseMatches(l){var c=s(l);return 1==c.length&&c[0][2]?a(c[0][0],c[0][1]):function(s){return s===l||e(s,l,c)}}}function requireHasIn(){if(eE)return JT;eE=1;var e=function require_baseHasIn(){return YT?GT:(YT=1,GT=function baseHasIn(e,s){return null!=e&&s in Object(e)})}(),s=function require_hasPath(){if(XT)return QT;XT=1;var e=require_castPath(),s=requireIsArguments(),a=requireIsArray(),l=require_isIndex(),c=requireIsLength(),u=require_toKey();return QT=function hasPath(p,m,h){for(var f=-1,g=(m=e(m,p)).length,b=!1;++f<g;){var j=u(m[f]);if(!(b=null!=p&&h(p,j)))break;p=p[j]}return b||++f!=g?b:!!(g=null==p?0:p.length)&&c(g)&&l(j,g)&&(a(p)||s(p))}}();return JT=function hasIn(a,l){return null!=a&&s(a,l,e)}}function requireIdentity(){if(sE)return nE;return sE=1,nE=function identity4(e){return e}}function requireProperty(){if(dE)return cE;dE=1;var e=function require_baseProperty(){return iE?aE:(iE=1,aE=function baseProperty(e){return function(s){return null==s?void 0:s[e]}})}(),s=function require_basePropertyDeep(){if(lE)return oE;lE=1;var e=require_baseGet();return oE=function basePropertyDeep(s){return function(a){return e(a,s)}}}(),a=require_isKey(),l=require_toKey();return cE=function property(c){return a(c)?e(l(c)):s(c)}}function require_baseIteratee(){if(pE)return uE;pE=1;var e=require_baseMatches(),s=function require_baseMatchesProperty(){if(rE)return tE;rE=1;var e=require_baseIsEqual(),s=requireGet(),a=requireHasIn(),l=require_isKey(),c=require_isStrictComparable(),u=require_matchesStrictComparable(),p=require_toKey();return tE=function baseMatchesProperty(m,h){return l(m)&&c(h)?u(p(m),h):function(l){var c=s(l,m);return void 0===c&&c===h?a(l,m):e(h,c,3)}}}(),a=requireIdentity(),l=requireIsArray(),c=requireProperty();return uE=function baseIteratee(u){return"function"==typeof u?u:null==u?a:"object"==typeof u?l(u)?s(u[0],u[1]):e(u):c(u)}}function require_baseFindIndex(){if(hE)return mE;return hE=1,mE=function baseFindIndex(e,s,a,l){for(var c=e.length,u=a+(l?1:-1);l?u--:++u<c;)if(s(e[u],u,e))return u;return-1}}function require_baseIndexOf(){if(bE)return yE;bE=1;var e=require_baseFindIndex(),s=function require_baseIsNaN(){return gE?fE:(gE=1,fE=function baseIsNaN(e){return e!=e})}(),a=function require_strictIndexOf(){return vE?xE:(vE=1,xE=function strictIndexOf(e,s,a){for(var l=a-1,c=e.length;++l<c;)if(e[l]===s)return l;return-1})}();return yE=function baseIndexOf(l,c,u){return c==c?a(l,c,u):e(l,s,u)}}function require_createSet(){if(PE)return _E;PE=1;var e=require_Set(),s=function requireNoop(){return kE?CE:(kE=1,CE=function noop3(){})}(),a=require_setToArray(),l=e&&1/a(new e([,-0]))[1]==1/0?function(s){return new e(s)}:s;return _E=l}function require_baseUniq(){if(AE)return TE;AE=1;var e=require_SetCache(),s=function require_arrayIncludes(){if(wE)return jE;wE=1;var e=require_baseIndexOf();return jE=function arrayIncludes(s,a){return!(null==s||!s.length)&&e(s,a,0)>-1}}(),a=function require_arrayIncludesWith(){return SE?NE:(SE=1,NE=function arrayIncludesWith(e,s,a){for(var l=-1,c=null==e?0:e.length;++l<c;)if(a(s,e[l]))return!0;return!1})}(),l=require_cacheHas(),c=require_createSet(),u=require_setToArray();return TE=function baseUniq(p,m,h){var f=-1,g=s,b=p.length,j=!0,N=[],k=N;if(h)j=!1,g=a;else if(b>=200){var _=m?null:c(p);if(_)return u(_);j=!1,g=l,k=new e}else k=m?[]:N;e:for(;++f<b;){var T=p[f],E=m?m(T):T;if(T=h||0!==T?T:0,j&&E==E){for(var A=k.length;A--;)if(k[A]===E)continue e;m&&k.push(E),N.push(T)}else g(k,E,h)||(k!==N&&k.push(E),N.push(T))}return N}}const OE=getDefaultExportFromCjs$2(function requireUniqBy(){if(LE)return ME;LE=1;var e=require_baseIteratee(),s=require_baseUniq();return ME=function uniqBy2(a,l){return a&&a.length?s(a,e(l,2)):[]}}());function getUniqPayload(e,s,a){return!0===s?OE(e,a):lk(s)?OE(e,s):e}function _typeof$I(e){return(_typeof$I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var IE=["ref"];function ownKeys$B(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$B(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$B(Object(a),!0).forEach(function(s){_defineProperty$H(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$B(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$l(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$H(l.key),l)}}function _callSuper$h(e,s,a){return s=_getPrototypeOf$i(s),function _possibleConstructorReturn$i(e,s){if(s&&("object"===_typeof$I(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$i()?Reflect.construct(s,a||[],_getPrototypeOf$i(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$i=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$i(e){return(_getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$i(e,s){return(_setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$H(e,s,a){return(s=_toPropertyKey$H(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$H(e){var s=function _toPrimitive$H(e,s){if("object"!=_typeof$I(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$I(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$I(s)?s:s+""}function _objectWithoutProperties$g(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$g(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function defaultUniqBy$1(e){return e.value}var $E,RE,FE,BE,zE,VE,UE,HE,qE,WE,ZE,KE,GE,YE,QE,XE,JE,eA,tA,rA,nA,sA,aA,iA,oA,lA,cA,dA,uA,pA,mA,hA,fA,gA,xA,vA,yA,bA,jA,wA,NA,SA,CA,kA,_A=function(){function Legend2(){var e;!function _classCallCheck$l(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Legend2);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _defineProperty$H(e=_callSuper$h(this,Legend2,[].concat(a)),"lastBoundingBox",{width:-1,height:-1}),e}return function _inherits$i(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$i(e,s)}(Legend2,re.PureComponent),function _createClass$l(e,s,a){return s&&_defineProperties$l(e.prototype,s),a&&_defineProperties$l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Legend2,[{key:"componentDidMount",value:function componentDidMount(){this.updateBBox()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateBBox()}},{key:"getBBox",value:function getBBox(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function updateBBox(){var e=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>1||Math.abs(s.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,e&&e(s)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function getBBoxSnapshot(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$B({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function getDefaultPosition(e){var s,a,l=this.props,c=l.layout,u=l.align,p=l.verticalAlign,m=l.margin,h=l.chartWidth,f=l.chartHeight;e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===u&&"vertical"===c?{left:((h||0)-this.getBBoxSnapshot().width)/2}:"right"===u?{right:m&&m.right||0}:{left:m&&m.left||0});e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(a="middle"===p?{top:((f||0)-this.getBBoxSnapshot().height)/2}:"bottom"===p?{bottom:m&&m.bottom||0}:{top:m&&m.top||0});return _objectSpread$B(_objectSpread$B({},s),a)}},{key:"render",value:function render(){var e=this,s=this.props,a=s.content,l=s.width,c=s.height,u=s.wrapperStyle,p=s.payloadUniqBy,m=s.payload,h=_objectSpread$B(_objectSpread$B({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function ref(s){e.wrapperNode=s}},function renderContent$1(e,s){if(ae.isValidElement(e))return ae.cloneElement(e,s);if("function"==typeof e)return ae.createElement(e,s);s.ref;var a=_objectWithoutProperties$g(s,IE);return ae.createElement(qP,a)}(a,_objectSpread$B(_objectSpread$B({},this.props),{},{payload:getUniqPayload(m,p,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function getWithHeight(e,s){var a=_objectSpread$B(_objectSpread$B({},this.defaultProps),e.props).layout;return"vertical"===a&&Nk(e.props.height)?{height:e.props.height}:"horizontal"===a?{width:e.props.width||s}:null}}])}();function require_baseFlatten(){if(BE)return FE;BE=1;var e=require_arrayPush(),s=function require_isFlattenable(){if(RE)return $E;RE=1;var e=require_Symbol(),s=requireIsArguments(),a=requireIsArray(),l=e?e.isConcatSpreadable:void 0;return $E=function isFlattenable(e){return a(e)||s(e)||!!(l&&e&&e[l])}}();return FE=function baseFlatten(a,l,c,u,p){var m=-1,h=a.length;for(c||(c=s),p||(p=[]);++m<h;){var f=a[m];l>0&&c(f)?l>1?baseFlatten(f,l-1,c,u,p):e(p,f):u||(p[p.length]=f)}return p},FE}function require_baseFor(){if(HE)return UE;HE=1;var e=function require_createBaseFor(){return VE?zE:(VE=1,zE=function createBaseFor(e){return function(s,a,l){for(var c=-1,u=Object(s),p=l(s),m=p.length;m--;){var h=p[e?m:++c];if(!1===a(u[h],h,u))break}return s}})}()();return UE=e}function require_baseForOwn(){if(WE)return qE;WE=1;var e=require_baseFor(),s=requireKeys();return qE=function baseForOwn(a,l){return a&&e(a,l,s)}}function require_baseEach(){if(YE)return GE;YE=1;var e=require_baseForOwn(),s=function require_createBaseEach(){if(KE)return ZE;KE=1;var e=requireIsArrayLike();return ZE=function createBaseEach(s,a){return function(l,c){if(null==l)return l;if(!e(l))return s(l,c);for(var u=l.length,p=a?u:-1,m=Object(l);(a?p--:++p<u)&&!1!==c(m[p],p,m););return l}}}()(e);return GE=s}function require_baseMap(){if(XE)return QE;XE=1;var e=require_baseEach(),s=requireIsArrayLike();return QE=function baseMap(a,l){var c=-1,u=s(a)?Array(a.length):[];return e(a,function(e,s,a){u[++c]=l(e,s,a)}),u}}function require_compareMultiple(){if(sA)return nA;sA=1;var e=function require_compareAscending(){if(rA)return tA;rA=1;var e=requireIsSymbol();return tA=function compareAscending(s,a){if(s!==a){var l=void 0!==s,c=null===s,u=s==s,p=e(s),m=void 0!==a,h=null===a,f=a==a,g=e(a);if(!h&&!g&&!p&&s>a||p&&m&&f&&!h&&!g||c&&m&&f||!l&&f||!u)return 1;if(!c&&!p&&!g&&s<a||g&&l&&u&&!c&&!p||h&&l&&u||!m&&u||!f)return-1}return 0}}();return nA=function compareMultiple(s,a,l){for(var c=-1,u=s.criteria,p=a.criteria,m=u.length,h=l.length;++c<m;){var f=e(u[c],p[c]);if(f)return c>=h?f:f*("desc"==l[c]?-1:1)}return s.index-a.index}}function require_baseOrderBy(){if(iA)return aA;iA=1;var e=require_arrayMap(),s=require_baseGet(),a=require_baseIteratee(),l=require_baseMap(),c=function require_baseSortBy(){return eA?JE:(eA=1,JE=function baseSortBy(e,s){var a=e.length;for(e.sort(s);a--;)e[a]=e[a].value;return e})}(),u=require_baseUnary(),p=require_compareMultiple(),m=requireIdentity(),h=requireIsArray();return aA=function baseOrderBy(f,g,b){g=g.length?e(g,function(e){return h(e)?function(a){return s(a,1===e.length?e[0]:e)}:e}):[m];var j=-1;g=e(g,u(a));var N=l(f,function(s,a,l){return{criteria:e(g,function(e){return e(s)}),index:++j,value:s}});return c(N,function(e,s){return p(e,s,b)})}}function require_overRest(){if(dA)return cA;dA=1;var e=function require_apply(){return lA?oA:(lA=1,oA=function apply(e,s,a){switch(a.length){case 0:return e.call(s);case 1:return e.call(s,a[0]);case 2:return e.call(s,a[0],a[1]);case 3:return e.call(s,a[0],a[1],a[2])}return e.apply(s,a)})}(),s=Math.max;return cA=function overRest(a,l,c){return l=s(void 0===l?a.length-1:l,0),function(){for(var u=arguments,p=-1,m=s(u.length-l,0),h=Array(m);++p<m;)h[p]=u[l+p];p=-1;for(var f=Array(l+1);++p<l;)f[p]=u[p];return f[l]=c(h),e(a,this,f)}},cA}function require_defineProperty(){if(hA)return mA;hA=1;var e=require_getNative(),s=function(){try{var s=e(Object,"defineProperty");return s({},"",{}),s}catch(a){}}();return mA=s}function require_baseSetToString(){if(gA)return fA;gA=1;var e=function requireConstant(){return pA?uA:(pA=1,uA=function constant2(e){return function(){return e}})}(),s=require_defineProperty(),a=requireIdentity();return fA=s?function(a,l){return s(a,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:a}function require_setToString(){if(bA)return yA;bA=1;var e=require_baseSetToString(),s=function require_shortOut(){if(vA)return xA;vA=1;var e=Date.now;return xA=function shortOut(s){var a=0,l=0;return function(){var c=e(),u=16-(c-l);if(l=c,u>0){if(++a>=800)return arguments[0]}else a=0;return s.apply(void 0,arguments)}},xA}(),a=s(e);return yA=a}function require_isIterateeCall(){if(SA)return NA;SA=1;var e=requireEq(),s=requireIsArrayLike(),a=require_isIndex(),l=requireIsObject();return NA=function isIterateeCall(c,u,p){if(!l(p))return!1;var m=typeof u;return!!("number"==m?s(p)&&a(u,p.length):"string"==m&&u in p)&&e(p[u],c)}}_defineProperty$H(_A,"displayName","Legend"),_defineProperty$H(_A,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const PA=getDefaultExportFromCjs$2(function requireSortBy(){if(kA)return CA;kA=1;var e=require_baseFlatten(),s=require_baseOrderBy(),a=function require_baseRest(){if(wA)return jA;wA=1;var e=requireIdentity(),s=require_overRest(),a=require_setToString();return jA=function baseRest(l,c){return a(s(l,c,e),l+"")}}(),l=require_isIterateeCall(),c=a(function(a,c){if(null==a)return[];var u=c.length;return u>1&&l(a,c[0],c[1])?c=[]:u>2&&l(c[0],c[1],c[2])&&(c=[c[0]]),s(a,e(c,1),[])});return CA=c}());function _typeof$H(e){return(_typeof$H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$r.apply(this,arguments)}function _slicedToArray$c(e,s){return function _arrayWithHoles$d(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$c(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$l(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$l(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$l(e,s)}(e,s)||function _nonIterableRest$d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$l(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys$A(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$A(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$A(Object(a),!0).forEach(function(s){_defineProperty$F(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$A(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$F(e,s,a){return(s=function _toPropertyKey$G(e){var s=function _toPrimitive$G(e,s){if("object"!=_typeof$H(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$H(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$H(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function defaultFormatter(e){return Array.isArray(e)&&Sk(e[0])&&Sk(e[1])?e.join(" ~ "):e}var TA=function DefaultTooltipContent2(e){var s=e.separator,a=void 0===s?" : ":s,l=e.contentStyle,c=void 0===l?{}:l,u=e.itemStyle,p=void 0===u?{}:u,m=e.labelStyle,h=void 0===m?{}:m,f=e.payload,g=e.formatter,b=e.itemSorter,j=e.wrapperClassName,N=e.labelClassName,k=e.label,_=e.labelFormatter,T=e.accessibilityLayer,E=void 0!==T&&T,A=_objectSpread$A({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},c),L=_objectSpread$A({margin:0},h),O=!sk(k),I=O?k:"",$=clsx("recharts-default-tooltip",j),z=clsx("recharts-tooltip-label",N);O&&_&&null!=f&&(I=_(k,f));var U=E?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",_extends$r({className:$,style:A},U),ae.createElement("p",{className:z,style:L},ae.isValidElement(I)?I:"".concat(I)),function renderContent3(){if(f&&f.length){var e=(b?PA(f,b):f).map(function(e,s){if("none"===e.type)return null;var l=_objectSpread$A({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},p),c=e.formatter||g||defaultFormatter,u=e.value,m=e.name,h=u,b=m;if(c&&null!=h&&null!=b){var j=c(u,m,e,s,f);if(Array.isArray(j)){var N=_slicedToArray$c(j,2);h=N[0],b=N[1]}else h=j}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(s),style:l},Sk(b)?ae.createElement("span",{className:"recharts-tooltip-item-name"},b):null,Sk(b)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},h),ae.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function _typeof$G(e){return(_typeof$G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty$E(e,s,a){return(s=function _toPropertyKey$F(e){var s=function _toPrimitive$F(e,s){if("object"!=_typeof$G(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$G(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$G(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var EA="recharts-tooltip-wrapper",AA={visibility:"hidden"};function getTooltipCSSClassName(e){var s=e.coordinate,a=e.translateX,l=e.translateY;return clsx(EA,_defineProperty$E(_defineProperty$E(_defineProperty$E(_defineProperty$E({},"".concat(EA,"-right"),Nk(a)&&s&&Nk(s.x)&&a>=s.x),"".concat(EA,"-left"),Nk(a)&&s&&Nk(s.x)&&a<s.x),"".concat(EA,"-bottom"),Nk(l)&&s&&Nk(s.y)&&l>=s.y),"".concat(EA,"-top"),Nk(l)&&s&&Nk(s.y)&&l<s.y))}function getTooltipTranslateXY(e){var s=e.allowEscapeViewBox,a=e.coordinate,l=e.key,c=e.offsetTopLeft,u=e.position,p=e.reverseDirection,m=e.tooltipDimension,h=e.viewBox,f=e.viewBoxDimension;if(u&&Nk(u[l]))return u[l];var g=a[l]-m-c,b=a[l]+c;return s[l]?p[l]?g:b:p[l]?g<h[l]?Math.max(b,h[l]):Math.max(g,h[l]):b+m>h[l]+f?Math.max(g,h[l]):Math.max(b,h[l])}function _typeof$F(e){return(_typeof$F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$z(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$z(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$z(Object(a),!0).forEach(function(s){_defineProperty$D(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$z(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _createClass$k(e,s,a){return s&&function _defineProperties$k(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$E(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$g(e,s,a){return s=_getPrototypeOf$h(s),function _possibleConstructorReturn$h(e,s){if(s&&("object"===_typeof$F(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$h()?Reflect.construct(s,a||[],_getPrototypeOf$h(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$h=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$h(e){return(_getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$h(e,s){return(_setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$D(e,s,a){return(s=_toPropertyKey$E(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$E(e){var s=function _toPrimitive$E(e,s){if("object"!=_typeof$F(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$F(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$F(s)?s:s+""}var MA=function(){function TooltipBoundingBox2(){var e;!function _classCallCheck$k(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,TooltipBoundingBox2);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _defineProperty$D(e=_callSuper$g(this,TooltipBoundingBox2,[].concat(a)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$D(e,"handleKeyDown",function(s){var a,l,c,u;"Escape"===s.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(a=null===(l=e.props.coordinate)||void 0===l?void 0:l.x)&&void 0!==a?a:0,y:null!==(c=null===(u=e.props.coordinate)||void 0===u?void 0:u.y)&&void 0!==c?c:0}})}),e}return function _inherits$h(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$h(e,s)}(TooltipBoundingBox2,re.PureComponent),_createClass$k(TooltipBoundingBox2,[{key:"updateBBox",value:function updateBBox(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e,s;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(s=this.props.coordinate)||void 0===s?void 0:s.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function render(){var e=this,s=this.props,a=s.active,l=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,p=s.children,m=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,g=s.offset,b=s.position,j=s.reverseDirection,N=s.useTranslate3d,k=s.viewBox,_=s.wrapperStyle,T=function getTooltipTranslate(e){var s,a,l=e.allowEscapeViewBox,c=e.coordinate,u=e.offsetTopLeft,p=e.position,m=e.reverseDirection,h=e.tooltipBox,f=e.useTranslate3d,g=e.viewBox;return{cssProperties:h.height>0&&h.width>0&&c?function getTransformStyle(e){var s=e.translateX,a=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(s,"px, ").concat(a,"px, 0)"):"translate(".concat(s,"px, ").concat(a,"px)")}}({translateX:s=getTooltipTranslateXY({allowEscapeViewBox:l,coordinate:c,key:"x",offsetTopLeft:u,position:p,reverseDirection:m,tooltipDimension:h.width,viewBox:g,viewBoxDimension:g.width}),translateY:a=getTooltipTranslateXY({allowEscapeViewBox:l,coordinate:c,key:"y",offsetTopLeft:u,position:p,reverseDirection:m,tooltipDimension:h.height,viewBox:g,viewBoxDimension:g.height}),useTranslate3d:f}):AA,cssClasses:getTooltipCSSClassName({translateX:s,translateY:a,coordinate:c})}}({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:g,position:b,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:k}),E=T.cssClasses,A=T.cssProperties,L=_objectSpread$z(_objectSpread$z({transition:f&&a?"transform ".concat(c,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return ae.createElement("div",{tabIndex:-1,className:E,style:L,ref:function ref(s){e.wrapperNode=s}},p)}}])}(),LA=function parseIsSsrByDefault2(){return!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)}();function _typeof$E(e){return(_typeof$E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$y(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$y(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$y(Object(a),!0).forEach(function(s){_defineProperty$C(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$y(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _createClass$j(e,s,a){return s&&function _defineProperties$j(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$D(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$f(e,s,a){return s=_getPrototypeOf$g(s),function _possibleConstructorReturn$g(e,s){if(s&&("object"===_typeof$E(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$g()?Reflect.construct(s,a||[],_getPrototypeOf$g(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$g=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$g(e){return(_getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$g(e,s){return(_setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$C(e,s,a){return(s=_toPropertyKey$D(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$D(e){var s=function _toPrimitive$D(e,s){if("object"!=_typeof$E(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$E(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$E(s)?s:s+""}function defaultUniqBy(e){return e.dataKey}var DA,OA,IA,$A,RA,FA,BA,zA,VA,UA,HA,qA,WA=function(){function Tooltip2(){return function _classCallCheck$j(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Tooltip2),_callSuper$f(this,Tooltip2,arguments)}return function _inherits$g(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$g(e,s)}(Tooltip2,re.PureComponent),_createClass$j(Tooltip2,[{key:"render",value:function render(){var e=this,s=this.props,a=s.active,l=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,p=s.content,m=s.coordinate,h=s.filterNull,f=s.isAnimationActive,g=s.offset,b=s.payload,j=s.payloadUniqBy,N=s.position,k=s.reverseDirection,_=s.useTranslate3d,T=s.viewBox,E=s.wrapperStyle,A=null!=b?b:[];h&&A.length&&(A=getUniqPayload(b.filter(function(s){return null!=s.value&&(!0!==s.hide||e.props.includeHidden)}),j,defaultUniqBy));var L=A.length>0;return ae.createElement(MA,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:f,active:a,coordinate:m,hasPayload:L,offset:g,position:N,reverseDirection:k,useTranslate3d:_,viewBox:T,wrapperStyle:E},function renderContent(e,s){return ae.isValidElement(e)?ae.cloneElement(e,s):"function"==typeof e?ae.createElement(e,s):ae.createElement(TA,s)}(p,_objectSpread$y(_objectSpread$y({},this.props),{},{payload:A})))}}])}();function require_baseTrim(){if(FA)return RA;FA=1;var e=function require_trimmedEndIndex(){if($A)return IA;$A=1;var e=/\s/;return IA=function trimmedEndIndex(s){for(var a=s.length;a--&&e.test(s.charAt(a)););return a}}(),s=/^\s+/;return RA=function baseTrim(a){return a?a.slice(0,e(a)+1).replace(s,""):a}}function requireToNumber(){if(zA)return BA;zA=1;var e=require_baseTrim(),s=requireIsObject(),a=requireIsSymbol(),l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt;return BA=function toNumber(m){if("number"==typeof m)return m;if(a(m))return NaN;if(s(m)){var h="function"==typeof m.valueOf?m.valueOf():m;m=s(h)?h+"":h}if("string"!=typeof m)return 0===m?m:+m;m=e(m);var f=c.test(m);return f||u.test(m)?p(m.slice(2),f?2:8):l.test(m)?NaN:+m}}function requireDebounce(){if(UA)return VA;UA=1;var e=requireIsObject(),s=function requireNow(){if(OA)return DA;OA=1;var e=require_root();return DA=function(){return e.Date.now()}}(),a=requireToNumber(),l=Math.max,c=Math.min;return VA=function debounce2(u,p,m){var h,f,g,b,j,N,k=0,_=!1,T=!1,E=!0;if("function"!=typeof u)throw new TypeError("Expected a function");function invokeFunc(e){var s=h,a=f;return h=f=void 0,k=e,b=u.apply(a,s)}function shouldInvoke(e){var s=e-N;return void 0===N||s>=p||s<0||T&&e-k>=g}function timerExpired(){var e=s();if(shouldInvoke(e))return trailingEdge(e);j=setTimeout(timerExpired,function remainingWait(e){var s=p-(e-N);return T?c(s,g-(e-k)):s}(e))}function trailingEdge(e){return j=void 0,E&&h?invokeFunc(e):(h=f=void 0,b)}function debounced(){var e=s(),a=shouldInvoke(e);if(h=arguments,f=this,N=e,a){if(void 0===j)return function leadingEdge(e){return k=e,j=setTimeout(timerExpired,p),_?invokeFunc(e):b}(N);if(T)return clearTimeout(j),j=setTimeout(timerExpired,p),invokeFunc(N)}return void 0===j&&(j=setTimeout(timerExpired,p)),b}return p=a(p)||0,e(m)&&(_=!!m.leading,g=(T="maxWait"in m)?l(a(m.maxWait)||0,p):g,E="trailing"in m?!!m.trailing:E),debounced.cancel=function cancel(){void 0!==j&&clearTimeout(j),k=0,h=N=f=j=void 0},debounced.flush=function flush(){return void 0===j?b:trailingEdge(s())},debounced},VA}_defineProperty$C(WA,"displayName","Tooltip"),_defineProperty$C(WA,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!LA,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZA=function requireThrottle(){if(qA)return HA;qA=1;var e=requireDebounce(),s=requireIsObject();return HA=function throttle2(a,l,c){var u=!0,p=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return s(c)&&(u="leading"in c?!!c.leading:u,p="trailing"in c?!!c.trailing:p),e(a,l,{leading:u,maxWait:l,trailing:p})},HA}();const KA=getDefaultExportFromCjs$2(ZA);function _typeof$D(e){return(_typeof$D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$x(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$x(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$x(Object(a),!0).forEach(function(s){_defineProperty$B(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$x(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$B(e,s,a){return(s=function _toPropertyKey$C(e){var s=function _toPrimitive$C(e,s){if("object"!=_typeof$D(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$D(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$D(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _slicedToArray$b(e,s){return function _arrayWithHoles$c(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$b(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$k(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$k(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$k(e,s)}(e,s)||function _nonIterableRest$c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$k(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var GA=re.forwardRef(function(e,s){var a=e.aspect,l=e.initialDimension,c=void 0===l?{width:-1,height:-1}:l,u=e.width,p=void 0===u?"100%":u,m=e.height,h=void 0===m?"100%":m,f=e.minWidth,g=void 0===f?0:f,b=e.minHeight,j=e.maxHeight,N=e.children,k=e.debounce,_=void 0===k?0:k,T=e.id,E=e.className,A=e.onResize,L=e.style,O=void 0===L?{}:L,I=re.useRef(null),$=re.useRef();$.current=A,re.useImperativeHandle(s,function(){return Object.defineProperty(I.current,"current",{get:function get2(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var z=_slicedToArray$b(re.useState({containerWidth:c.width,containerHeight:c.height}),2),U=z[0],H=z[1],q=re.useCallback(function(e,s){H(function(a){var l=Math.round(e),c=Math.round(s);return a.containerWidth===l&&a.containerHeight===c?a:{containerWidth:l,containerHeight:c}})},[]);re.useEffect(function(){var e=function callback2(e){var s,a=e[0].contentRect,l=a.width,c=a.height;q(l,c),null===(s=$.current)||void 0===s||s.call($,l,c)};_>0&&(e=KA(e,_,{trailing:!0,leading:!1}));var s=new ResizeObserver(e),a=I.current.getBoundingClientRect(),l=a.width,c=a.height;return q(l,c),s.observe(I.current),function(){s.disconnect()}},[q,_]);var Z=re.useMemo(function(){var e=U.containerWidth,s=U.containerHeight;if(e<0||s<0)return null;x_(wk(p)||wk(h),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",p,h),x_(!a||a>0,"The aspect(%s) must be greater than zero.",a);var l=wk(p)?e:p,c=wk(h)?s:h;a&&a>0&&(l?c=l/a:c&&(l=c*a),j&&c>j&&(c=j)),x_(l>0||c>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",l,c,p,h,g,b,a);var u=!Array.isArray(N)&&Bk(N.type).endsWith("Chart");return ae.Children.map(N,function(e){return ae.isValidElement(e)?re.cloneElement(e,_objectSpread$x({width:l,height:c},u?{style:_objectSpread$x({height:"100%",width:"100%",maxHeight:c,maxWidth:l},e.props.style)}:{})):e})},[a,N,h,j,b,g,U,p]);return ae.createElement("div",{id:T?"".concat(T):void 0,className:clsx("recharts-responsive-container",E),style:_objectSpread$x(_objectSpread$x({},O),{},{width:p,height:h,minWidth:g,minHeight:b,maxHeight:j}),ref:I},Z)}),YA=function Cell2(e){return null};function _typeof$C(e){return(_typeof$C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$w(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$w(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$w(Object(a),!0).forEach(function(s){_defineProperty$A(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$w(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$A(e,s,a){return(s=function _toPropertyKey$B(e){var s=function _toPrimitive$B(e,s){if("object"!=_typeof$C(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$C(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$C(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}YA.displayName="Cell";var QA={widthCache:{},cacheCount:0},XA={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JA="recharts_measurement_span";var eM=function getStringSize2(e){if(null==e||LA)return{width:0,height:0};var s=function removeInvalidKeys(e){var s=_objectSpread$w({},e);return Object.keys(s).forEach(function(e){s[e]||delete s[e]}),s}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a=JSON.stringify({text:e,copyStyle:s});if(QA.widthCache[a])return QA.widthCache[a];try{var l=document.getElementById(JA);l||((l=document.createElement("span")).setAttribute("id",JA),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));var c=_objectSpread$w(_objectSpread$w({},XA),s);Object.assign(l.style,c),l.textContent="".concat(e);var u=l.getBoundingClientRect(),p={width:u.width,height:u.height};return QA.widthCache[a]=p,++QA.cacheCount>2e3&&(QA.cacheCount=0,QA.widthCache={}),p}catch(m){return{width:0,height:0}}};function _typeof$B(e){return(_typeof$B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray$a(e,s){return function _arrayWithHoles$b(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$a(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s){if(Object(a)!==a)return;h=!1}else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$j(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$j(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$j(e,s)}(e,s)||function _nonIterableRest$b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$j(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _defineProperties$i(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$A(l.key),l)}}function _toPropertyKey$A(e){var s=function _toPrimitive$A(e,s){if("object"!=_typeof$B(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$B(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$B(s)?s:s+""}var tM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},iM=Object.keys(aM),oM="NaN";var lM=function(){function DecimalCSS2(e,s){!function _classCallCheck$i(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,DecimalCSS2),this.num=e,this.unit=s,this.num=e,this.unit=s,Number.isNaN(e)&&(this.unit=""),""===s||nM.test(s)||(this.num=NaN,this.unit=""),iM.includes(s)&&(this.num=function convertToPx(e,s){return e*aM[s]}(e,s),this.unit="px")}return function _createClass$i(e,s,a){return s&&_defineProperties$i(e.prototype,s),a&&_defineProperties$i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(DecimalCSS2,[{key:"add",value:function add2(e){return this.unit!==e.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num+e.num,this.unit)}},{key:"subtract",value:function subtract2(e){return this.unit!==e.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num-e.num,this.unit)}},{key:"multiply",value:function multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function divide2(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function toString2(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function isNaN2(){return Number.isNaN(this.num)}}],[{key:"parse",value:function parse2(e){var s,a=_slicedToArray$a(null!==(s=sM.exec(e))&&void 0!==s?s:[],3),l=a[1],c=a[2];return new DecimalCSS2(parseFloat(l),null!=c?c:"")}}])}();function calculateArithmetic(e){if(e.includes(oM))return oM;for(var s=e;s.includes("*")||s.includes("/");){var a,l=_slicedToArray$a(null!==(a=tM.exec(s))&&void 0!==a?a:[],4),c=l[1],u=l[2],p=l[3],m=lM.parse(null!=c?c:""),h=lM.parse(null!=p?p:""),f="*"===u?m.multiply(h):m.divide(h);if(f.isNaN())return oM;s=s.replace(tM,f.toString())}for(;s.includes("+")||/.-\d+(?:\.\d+)?/.test(s);){var g,b=_slicedToArray$a(null!==(g=rM.exec(s))&&void 0!==g?g:[],4),j=b[1],N=b[2],k=b[3],_=lM.parse(null!=j?j:""),T=lM.parse(null!=k?k:""),E="+"===N?_.add(T):_.subtract(T);if(E.isNaN())return oM;s=s.replace(rM,E.toString())}return s}var cM=/\(([^()]*)\)/;function evaluateExpression(e){var s=e.replace(/\s+/g,"");return s=function calculateParentheses(e){for(var s=e;s.includes("(");){var a=_slicedToArray$a(cM.exec(s),2)[1];s=s.replace(cM,calculateArithmetic(a))}return s}(s),s=calculateArithmetic(s)}function reduceCSSCalc(e){var s=function safeEvaluateExpression(e){try{return evaluateExpression(e)}catch(s){return oM}}(e.slice(5,-1));return s===oM?"":s}var dM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uM=["dx","dy","angle","className","breakAll"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$q.apply(this,arguments)}function _objectWithoutProperties$f(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$f(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _slicedToArray$9(e,s){return function _arrayWithHoles$a(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$9(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s){if(Object(a)!==a)return;h=!1}else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$i(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$i(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$i(e,s)}(e,s)||function _nonIterableRest$a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$i(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var pM=/[ \f\n\r\t\v\u2028\u2029]+/,mM=function calculateWordWidths2(e){var s=e.children,a=e.breakAll,l=e.style;try{var c=[];return sk(s)||(c=a?s.toString().split(""):s.toString().split(pM)),{wordsWithComputedWidth:c.map(function(e){return{word:e,width:eM(e,l).width}}),spaceWidth:a?0:eM("",l).width}}catch(u){return null}},hM=function getWordsWithoutCalculate2(e){return[{words:sk(e)?[]:e.toString().split(pM)}]},fM=function getWordsByLines2(e){var s=e.width,a=e.scaleToFit,l=e.children,c=e.style,u=e.breakAll,p=e.maxLines;if((s||a)&&!LA){var m=mM({breakAll:u,children:l,style:c});return m?function calculateWordsByLines2(e,s,a,l,c){var u=e.maxLines,p=e.children,m=e.style,h=e.breakAll,f=Nk(u),g=p,b=function calculate2(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,s){var u=s.word,p=s.width,m=e[e.length-1];if(m&&(null==l||c||m.width+p+a<Number(l)))m.words.push(u),m.width+=p+a;else{var h={words:[u],width:p};e.push(h)}return e},[])},j=b(s);if(!f)return j;for(var N,k=function checkOverflow2(e){var s=g.slice(0,e),a=mM({breakAll:h,style:m,children:s+""}).wordsWithComputedWidth,c=b(a),p=c.length>u||function findLongestLine2(e){return e.reduce(function(e,s){return e.width>s.width?e:s})}(c).width>Number(l);return[p,c]},_=0,T=g.length-1,E=0;_<=T&&E<=g.length-1;){var A=Math.floor((_+T)/2),L=_slicedToArray$9(k(A-1),2),O=L[0],I=L[1],$=_slicedToArray$9(k(A),1)[0];if(O||$||(_=A+1),O&&$&&(T=A-1),!O&&$){N=I;break}E++}return N||j}({breakAll:u,children:l,maxLines:p,style:c},m.wordsWithComputedWidth,m.spaceWidth,s,a):hM(l)}return hM(l)},gM="#808080",xM=function Text2(e){var s=e.x,a=void 0===s?0:s,l=e.y,c=void 0===l?0:l,u=e.lineHeight,p=void 0===u?"1em":u,m=e.capHeight,h=void 0===m?"0.71em":m,f=e.scaleToFit,g=void 0!==f&&f,b=e.textAnchor,j=void 0===b?"start":b,N=e.verticalAnchor,k=void 0===N?"end":N,_=e.fill,T=void 0===_?gM:_,E=_objectWithoutProperties$f(e,dM),A=re.useMemo(function(){return fM({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:g,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,g,E.style,E.width]),L=E.dx,O=E.dy,I=E.angle,$=E.className,z=E.breakAll,U=_objectWithoutProperties$f(E,uM);if(!Sk(a)||!Sk(c))return null;var H,q=a+(Nk(L)?L:0),Z=c+(Nk(O)?O:0);switch(k){case"start":H=reduceCSSCalc("calc(".concat(h,")"));break;case"middle":H=reduceCSSCalc("calc(".concat((A.length-1)/2," * -").concat(p," + (").concat(h," / 2))"));break;default:H=reduceCSSCalc("calc(".concat(A.length-1," * -").concat(p,")"))}var Y=[];if(g){var X=A[0].width,J=E.width;Y.push("scale(".concat((Nk(J)?J/X:1)/X,")"))}return I&&Y.push("rotate(".concat(I,", ").concat(q,", ").concat(Z,")")),Y.length&&(U.transform=Y.join(" ")),ae.createElement("text",_extends$q({},Zk(U,!0),{x:q,y:Z,className:clsx("recharts-text",$),textAnchor:j,fill:T.includes("url")?gM:T}),A.map(function(e,s){var a=e.words.join(z?"":" ");return ae.createElement("tspan",{x:q,dy:0===s?H:p,key:"".concat(a,"-").concat(s)},a)}))};function ascending(e,s){return null==e||null==s?NaN:e<s?-1:e>s?1:e>=s?0:NaN}function descending(e,s){return null==e||null==s?NaN:s<e?-1:s>e?1:s>=e?0:NaN}function bisector(e){let s,a,l;function left(e,l,c=0,u=e.length){if(c<u){if(0!==s(l,l))return u;do{const s=c+u>>>1;a(e[s],l)<0?c=s+1:u=s}while(c<u)}return c}return 2!==e.length?(s=ascending,a=(s,a)=>ascending(e(s),a),l=(s,a)=>e(s)-a):(s=e===ascending||e===descending?e:zero$1,a=e,l=e),{left:left,center:function center(e,s,a=0,c=e.length){const u=left(e,s,a,c-1);return u>a&&l(e[u-1],s)>-l(e[u],s)?u-1:u},right:function right(e,l,c=0,u=e.length){if(c<u){if(0!==s(l,l))return u;do{const s=c+u>>>1;a(e[s],l)<=0?c=s+1:u=s}while(c<u)}return c}}}function zero$1(){return 0}function number$2(e){return null===e?NaN:+e}const vM=bisector(ascending).right;bisector(number$2).center;class InternMap extends Map{constructor(e,s=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),null!=e)for(const[a,l]of e)this.set(a,l)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,s){return super.set(function intern_set({_intern:e,_key:s},a){const l=s(a);return e.has(l)?e.get(l):(e.set(l,a),a)}(this,e),s)}delete(e){return super.delete(function intern_delete({_intern:e,_key:s},a){const l=s(a);e.has(l)&&(a=e.get(l),e.delete(l));return a}(this,e))}}function intern_get({_intern:e,_key:s},a){const l=s(a);return e.has(l)?e.get(l):a}function keyof(e){return null!==e&&"object"==typeof e?e.valueOf():e}function ascendingDefined(e,s){return(null==e||!(e>=e))-(null==s||!(s>=s))||(e<s?-1:e>s?1:0)}const yM=Math.sqrt(50),bM=Math.sqrt(10),jM=Math.sqrt(2);function tickSpec(e,s,a){const l=(s-e)/Math.max(0,a),c=Math.floor(Math.log10(l)),u=l/Math.pow(10,c),p=u>=yM?10:u>=bM?5:u>=jM?2:1;let m,h,f;return c<0?(f=Math.pow(10,-c)/p,m=Math.round(e*f),h=Math.round(s*f),m/f<e&&++m,h/f>s&&--h,f=-f):(f=Math.pow(10,c)*p,m=Math.round(e/f),h=Math.round(s/f),m*f<e&&++m,h*f>s&&--h),h<m&&.5<=a&&a<2?tickSpec(e,s,2*a):[m,h,f]}function ticks(e,s,a){if(!((a=+a)>0))return[];if((e=+e)===(s=+s))return[e];const l=s<e,[c,u,p]=l?tickSpec(s,e,a):tickSpec(e,s,a);if(!(u>=c))return[];const m=u-c+1,h=new Array(m);if(l)if(p<0)for(let f=0;f<m;++f)h[f]=(u-f)/-p;else for(let f=0;f<m;++f)h[f]=(u-f)*p;else if(p<0)for(let f=0;f<m;++f)h[f]=(c+f)/-p;else for(let f=0;f<m;++f)h[f]=(c+f)*p;return h}function tickIncrement(e,s,a){return tickSpec(e=+e,s=+s,a=+a)[2]}function tickStep(e,s,a){a=+a;const l=(s=+s)<(e=+e),c=l?tickIncrement(s,e,a):tickIncrement(e,s,a);return(l?-1:1)*(c<0?1/-c:c)}function max$3(e,s){let a;for(const l of e)null!=l&&(a<l||void 0===a&&l>=l)&&(a=l);return a}function min$3(e,s){let a;for(const l of e)null!=l&&(a>l||void 0===a&&l>=l)&&(a=l);return a}function quickselect(e,s,a=0,l=1/0,c){if(s=Math.floor(s),a=Math.floor(Math.max(0,a)),l=Math.floor(Math.min(e.length-1,l)),!(a<=s&&s<=l))return e;for(c=void 0===c?ascendingDefined:function compareDefined(e=ascending){if(e===ascending)return ascendingDefined;if("function"!=typeof e)throw new TypeError("compare is not a function");return(s,a)=>{const l=e(s,a);return l||0===l?l:(0===e(a,a))-(0===e(s,s))}}(c);l>a;){if(l-a>600){const u=l-a+1,p=s-a+1,m=Math.log(u),h=.5*Math.exp(2*m/3),f=.5*Math.sqrt(m*h*(u-h)/u)*(p-u/2<0?-1:1);quickselect(e,s,Math.max(a,Math.floor(s-p*h/u+f)),Math.min(l,Math.floor(s+(u-p)*h/u+f)),c)}const u=e[s];let p=a,m=l;for(swap(e,a,s),c(e[l],u)>0&&swap(e,a,l);p<m;){for(swap(e,p,m),++p,--m;c(e[p],u)<0;)++p;for(;c(e[m],u)>0;)--m}0===c(e[a],u)?swap(e,a,m):(++m,swap(e,m,l)),m<=s&&(a=m+1),s<=m&&(l=m-1)}return e}function swap(e,s,a){const l=e[s];e[s]=e[a],e[a]=l}function quantileSorted(e,s,a=number$2){if((l=e.length)&&!isNaN(s=+s)){if(s<=0||l<2)return+a(e[0],0,e);if(s>=1)return+a(e[l-1],l-1,e);var l,c=(l-1)*s,u=Math.floor(c),p=+a(e[u],u,e);return p+(+a(e[u+1],u+1,e)-p)*(c-u)}}function initRange(e,s){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(s).domain(e)}return this}function initInterpolator(e,s){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof s?this.interpolator(s):this.range(s)}return this}const wM=Symbol("implicit");function ordinal(){var e=new InternMap,s=[],a=[],l=wM;function scale2(c){let u=e.get(c);if(void 0===u){if(l!==wM)return l;e.set(c,u=s.push(c)-1)}return a[u%a.length]}return scale2.domain=function(a){if(!arguments.length)return s.slice();s=[],e=new InternMap;for(const l of a)e.has(l)||e.set(l,s.push(l)-1);return scale2},scale2.range=function(e){return arguments.length?(a=Array.from(e),scale2):a.slice()},scale2.unknown=function(e){return arguments.length?(l=e,scale2):l},scale2.copy=function(){return ordinal(s,a).unknown(l)},initRange.apply(scale2,arguments),scale2}function band(){var e,s,a=ordinal().unknown(void 0),l=a.domain,c=a.range,u=0,p=1,m=!1,h=0,f=0,g=.5;function rescale(){var a=l().length,b=p<u,j=b?p:u,N=b?u:p;e=(N-j)/Math.max(1,a-h+2*f),m&&(e=Math.floor(e)),j+=(N-j-e*(a-h))*g,s=e*(1-h),m&&(j=Math.round(j),s=Math.round(s));var k=function range$2(e,s,a){e=+e,s=+s,a=(c=arguments.length)<2?(s=e,e=0,1):c<3?1:+a;for(var l=-1,c=0|Math.max(0,Math.ceil((s-e)/a)),u=new Array(c);++l<c;)u[l]=e+l*a;return u}(a).map(function(s){return j+e*s});return c(b?k.reverse():k)}return delete a.unknown,a.domain=function(e){return arguments.length?(l(e),rescale()):l()},a.range=function(e){return arguments.length?([u,p]=e,u=+u,p=+p,rescale()):[u,p]},a.rangeRound=function(e){return[u,p]=e,u=+u,p=+p,m=!0,rescale()},a.bandwidth=function(){return s},a.step=function(){return e},a.round=function(e){return arguments.length?(m=!!e,rescale()):m},a.padding=function(e){return arguments.length?(h=Math.min(1,f=+e),rescale()):h},a.paddingInner=function(e){return arguments.length?(h=Math.min(1,e),rescale()):h},a.paddingOuter=function(e){return arguments.length?(f=+e,rescale()):f},a.align=function(e){return arguments.length?(g=Math.max(0,Math.min(1,e)),rescale()):g},a.copy=function(){return band(l(),[u,p]).round(m).paddingInner(h).paddingOuter(f).align(g)},initRange.apply(rescale(),arguments)}function pointish(e){var s=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(s())},e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(e,s,a){e.prototype=s.prototype=a,a.constructor=e}function extend(e,s){var a=Object.create(e.prototype);for(var l in s)a[l]=s[l];return a}function Color(){}var NM=.7,SM=1/NM,CM="\\s*([+-]?\\d+)\\s*",kM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_M="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PM=/^#([0-9a-f]{3,8})$/,TM=new RegExp(`^rgb\\(${CM},${CM},${CM}\\)$`),EM=new RegExp(`^rgb\\(${_M},${_M},${_M}\\)$`),AM=new RegExp(`^rgba\\(${CM},${CM},${CM},${kM}\\)$`),MM=new RegExp(`^rgba\\(${_M},${_M},${_M},${kM}\\)$`),LM=new RegExp(`^hsl\\(${kM},${_M},${_M}\\)$`),DM=new RegExp(`^hsla\\(${kM},${_M},${_M},${kM}\\)$`),OM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var s,a;return e=(e+"").trim().toLowerCase(),(s=PM.exec(e))?(a=s[1].length,s=parseInt(s[1],16),6===a?rgbn(s):3===a?new Rgb(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===a?rgba(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===a?rgba(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=TM.exec(e))?new Rgb(s[1],s[2],s[3],1):(s=EM.exec(e))?new Rgb(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=AM.exec(e))?rgba(s[1],s[2],s[3],s[4]):(s=MM.exec(e))?rgba(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=LM.exec(e))?hsla(s[1],s[2]/100,s[3]/100,1):(s=DM.exec(e))?hsla(s[1],s[2]/100,s[3]/100,s[4]):OM.hasOwnProperty(e)?rgbn(OM[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,s,a,l){return l<=0&&(e=s=a=NaN),new Rgb(e,s,a,l)}function rgb$1(e,s,a,l){return 1===arguments.length?function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}(e):new Rgb(e,s,a,null==l?1:l)}function Rgb(e,s,a,l){this.r=+e,this.g=+s,this.b=+a,this.opacity=+l}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${1===e?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===e?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return((e=clampi(e))<16?"0":"")+e.toString(16)}function hsla(e,s,a,l){return l<=0?e=s=a=NaN:a<=0||a>=1?e=s=NaN:s<=0&&(e=NaN),new Hsl(e,s,a,l)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var s=(e=e.rgb()).r/255,a=e.g/255,l=e.b/255,c=Math.min(s,a,l),u=Math.max(s,a,l),p=NaN,m=u-c,h=(u+c)/2;return m?(p=s===u?(a-l)/m+6*(a<l):a===u?(l-s)/m+2:(s-a)/m+4,m/=h<.5?u+c:2-u-c,p*=60):m=h>0&&h<1?0:p,new Hsl(p,m,h,e.opacity)}function Hsl(e,s,a,l){this.h=+e,this.s=+s,this.l=+a,this.opacity=+l}function clamph(e){return(e=(e||0)%360)<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,s,a){return 255*(e<60?s+(a-s)*e/60:e<180?a:e<240?s+(a-s)*(240-e)/60:s)}define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb$1,extend(Color,{brighter(e){return e=null==e?SM:Math.pow(SM,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?NM:Math.pow(NM,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,function hsl(e,s,a,l){return 1===arguments.length?hslConvert(e):new Hsl(e,s,a,null==l?1:l)},extend(Color,{brighter(e){return e=null==e?SM:Math.pow(SM,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?NM:Math.pow(NM,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,l=a+(a<.5?a:1-a)*s,c=2*a-l;return new Rgb(hsl2rgb(e>=240?e-240:e+120,c,l),hsl2rgb(e,c,l),hsl2rgb(e<120?e+240:e-120,c,l),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${1===e?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===e?")":`, ${e})`}`}}));const constant=e=>()=>e;function gamma(e){return 1===(e=+e)?nogamma:function(s,a){return a-s?function exponential(e,s,a){return e=Math.pow(e,a),s=Math.pow(s,a)-e,a=1/a,function(l){return Math.pow(e+l*s,a)}}(s,a,e):constant(isNaN(s)?a:s)}}function nogamma(e,s){var a=s-e;return a?function linear$1(e,s){return function(a){return e+a*s}}(e,a):constant(isNaN(e)?s:e)}const IM=function rgbGamma(e){var s=gamma(e);function rgb2(e,a){var l=s((e=rgb$1(e)).r,(a=rgb$1(a)).r),c=s(e.g,a.g),u=s(e.b,a.b),p=nogamma(e.opacity,a.opacity);return function(s){return e.r=l(s),e.g=c(s),e.b=u(s),e.opacity=p(s),e+""}}return rgb2.gamma=rgbGamma,rgb2}(1);function numberArray(e,s){s||(s=[]);var a,l=e?Math.min(s.length,e.length):0,c=s.slice();return function(u){for(a=0;a<l;++a)c[a]=e[a]*(1-u)+s[a]*u;return c}}function genericArray(e,s){var a,l=s?s.length:0,c=e?Math.min(l,e.length):0,u=new Array(c),p=new Array(l);for(a=0;a<c;++a)u[a]=interpolate(e[a],s[a]);for(;a<l;++a)p[a]=s[a];return function(e){for(a=0;a<c;++a)p[a]=u[a](e);return p}}function date$1(e,s){var a=new Date;return e=+e,s=+s,function(l){return a.setTime(e*(1-l)+s*l),a}}function interpolateNumber$1(e,s){return e=+e,s=+s,function(a){return e*(1-a)+s*a}}function object(e,s){var a,l={},c={};for(a in null!==e&&"object"==typeof e||(e={}),null!==s&&"object"==typeof s||(s={}),s)a in e?l[a]=interpolate(e[a],s[a]):c[a]=s[a];return function(e){for(a in l)c[a]=l[a](e);return c}}var $M=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RM=new RegExp($M.source,"g");function string(e,s){var a,l,c,u=$M.lastIndex=RM.lastIndex=0,p=-1,m=[],h=[];for(e+="",s+="";(a=$M.exec(e))&&(l=RM.exec(s));)(c=l.index)>u&&(c=s.slice(u,c),m[p]?m[p]+=c:m[++p]=c),(a=a[0])===(l=l[0])?m[p]?m[p]+=l:m[++p]=l:(m[++p]=null,h.push({i:p,x:interpolateNumber$1(a,l)})),u=RM.lastIndex;return u<s.length&&(c=s.slice(u),m[p]?m[p]+=c:m[++p]=c),m.length<2?h[0]?function one(e){return function(s){return e(s)+""}}(h[0].x):function zero(e){return function(){return e}}(s):(s=h.length,function(e){for(var a,l=0;l<s;++l)m[(a=h[l]).i]=a.x(e);return m.join("")})}function interpolate(e,s){var a,l=typeof s;return null==s||"boolean"===l?constant(s):("number"===l?interpolateNumber$1:"string"===l?(a=color(s))?(s=a,IM):string:s instanceof color?IM:s instanceof Date?date$1:function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(s)?numberArray:Array.isArray(s)?genericArray:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?object:interpolateNumber$1)(e,s)}function interpolateRound(e,s){return e=+e,s=+s,function(a){return Math.round(e*(1-a)+s*a)}}function number$1(e){return+e}var FM=[0,1];function identity$5(e){return e}function normalize(e,s){return(s-=e=+e)?function(a){return(a-e)/s}:function constants(e){return function(){return e}}(isNaN(s)?NaN:.5)}function bimap(e,s,a){var l=e[0],c=e[1],u=s[0],p=s[1];return c<l?(l=normalize(c,l),u=a(p,u)):(l=normalize(l,c),u=a(u,p)),function(e){return u(l(e))}}function polymap(e,s,a){var l=Math.min(e.length,s.length)-1,c=new Array(l),u=new Array(l),p=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),s=s.slice().reverse());++p<l;)c[p]=normalize(e[p],e[p+1]),u[p]=a(s[p],s[p+1]);return function(s){var a=vM(e,s,1,l)-1;return u[a](c[a](s))}}function copy$1(e,s){return s.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e,s,a,l,c,u,p=FM,m=FM,h=interpolate,f=identity$5;function rescale(){var e=Math.min(p.length,m.length);return f!==identity$5&&(f=function clamper(e,s){var a;return e>s&&(a=e,e=s,s=a),function(a){return Math.max(e,Math.min(s,a))}}(p[0],p[e-1])),l=e>2?polymap:bimap,c=u=null,scale2}function scale2(s){return null==s||isNaN(s=+s)?a:(c||(c=l(p.map(e),m,h)))(e(f(s)))}return scale2.invert=function(a){return f(s((u||(u=l(m,p.map(e),interpolateNumber$1)))(a)))},scale2.domain=function(e){return arguments.length?(p=Array.from(e,number$1),rescale()):p.slice()},scale2.range=function(e){return arguments.length?(m=Array.from(e),rescale()):m.slice()},scale2.rangeRound=function(e){return m=Array.from(e),h=interpolateRound,rescale()},scale2.clamp=function(e){return arguments.length?(f=!!e||identity$5,rescale()):f!==identity$5},scale2.interpolate=function(e){return arguments.length?(h=e,rescale()):h},scale2.unknown=function(e){return arguments.length?(a=e,scale2):a},function(a,l){return e=a,s=l,rescale()}}function continuous(){return transformer$2()(identity$5,identity$5)}function formatDecimalParts(e,s){if((a=(e=s?e.toExponential(s-1):e.toExponential()).indexOf("e"))<0)return null;var a,l=e.slice(0,a);return[l.length>1?l[0]+l.slice(2):l,+e.slice(a+1)]}function exponent(e){return(e=formatDecimalParts(Math.abs(e)))?e[1]:NaN}var BM,zM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(s=zM.exec(e)))throw new Error("invalid format: "+e);var s;return new FormatSpecifier({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function FormatSpecifier(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function formatRounded(e,s){var a=formatDecimalParts(e,s);if(!a)return e+"";var l=a[0],c=a[1];return c<0?"0."+new Array(-c).join("0")+l:l.length>c+1?l.slice(0,c+1)+"."+l.slice(c+1):l+new Array(c-l.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const VM={"%":(e,s)=>(100*e).toFixed(s),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,s)=>e.toExponential(s),f:(e,s)=>e.toFixed(s),g:(e,s)=>e.toPrecision(s),o:e=>Math.round(e).toString(8),p:(e,s)=>formatRounded(100*e,s),r:formatRounded,s:function formatPrefixAuto(e,s){var a=formatDecimalParts(e,s);if(!a)return e+"";var l=a[0],c=a[1],u=c-(BM=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1,p=l.length;return u===p?l:u>p?l+new Array(u-p+1).join("0"):u>0?l.slice(0,u)+"."+l.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(e,Math.max(0,s+u-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$4(e){return e}var UM,HM,qM,WM=Array.prototype.map,ZM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var s=void 0===e.grouping||void 0===e.thousands?identity$4:function formatGroup(e,s){return function(a,l){for(var c=a.length,u=[],p=0,m=e[0],h=0;c>0&&m>0&&(h+m+1>l&&(m=Math.max(1,l-h)),u.push(a.substring(c-=m,c+m)),!((h+=m+1)>l));)m=e[p=(p+1)%e.length];return u.reverse().join(s)}}(WM.call(e.grouping,Number),e.thousands+""),a=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?identity$4:function formatNumerals(e){return function(s){return s.replace(/[0-9]/g,function(s){return e[+s]})}}(WM.call(e.numerals,String)),p=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function newFormat(e){var f=(e=formatSpecifier(e)).fill,g=e.align,b=e.sign,j=e.symbol,N=e.zero,k=e.width,_=e.comma,T=e.precision,E=e.trim,A=e.type;"n"===A?(_=!0,A="g"):VM[A]||(void 0===T&&(T=12),E=!0,A="g"),(N||"0"===f&&"="===g)&&(N=!0,f="0",g="=");var L="$"===j?a:"#"===j&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O="$"===j?l:/[%p]/.test(A)?p:"",I=VM[A],$=/[defgprs%]/.test(A);function format2(e){var a,l,p,j=L,z=O;if("c"===A)z=I(e)+z,e="";else{var U=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:I(Math.abs(e),T),E&&(e=function formatTrim(e){e:for(var s,a=e.length,l=1,c=-1;l<a;++l)switch(e[l]){case".":c=s=l;break;case"0":0===c&&(c=l),s=l;break;default:if(!+e[l])break e;c>0&&(c=0)}return c>0?e.slice(0,c)+e.slice(s+1):e}(e)),U&&0===+e&&"+"!==b&&(U=!1),j=(U?"("===b?b:m:"-"===b||"("===b?"":b)+j,z=("s"===A?ZM[8+BM/3]:"")+z+(U&&"("===b?")":""),$)for(a=-1,l=e.length;++a<l;)if(48>(p=e.charCodeAt(a))||p>57){z=(46===p?c+e.slice(a+1):e.slice(a))+z,e=e.slice(0,a);break}}_&&!N&&(e=s(e,1/0));var H=j.length+e.length+z.length,q=H<k?new Array(k-H+1).join(f):"";switch(_&&N&&(e=s(q+e,q.length?k-z.length:1/0),q=""),g){case"<":e=j+e+z+q;break;case"=":e=j+q+e+z;break;case"^":e=q.slice(0,H=q.length>>1)+j+e+z+q.slice(H);break;default:e=q+j+e+z}return u(e)}return T=void 0===T?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T)),format2.toString=function(){return e+""},format2}return{format:newFormat,formatPrefix:function formatPrefix2(e,s){var a=newFormat(((e=formatSpecifier(e)).type="f",e)),l=3*Math.max(-8,Math.min(8,Math.floor(exponent(s)/3))),c=Math.pow(10,-l),u=ZM[8+l/3];return function(e){return a(c*e)+u}}}}function tickFormat(e,s,a,l){var c,u=tickStep(e,s,a);switch((l=formatSpecifier(null==l?",f":l)).type){case"s":var p=Math.max(Math.abs(e),Math.abs(s));return null!=l.precision||isNaN(c=function precisionPrefix(e,s){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(s)/3)))-exponent(Math.abs(e)))}(u,p))||(l.precision=c),qM(l,p);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(c=function precisionRound(e,s){return e=Math.abs(e),s=Math.abs(s)-e,Math.max(0,exponent(s)-exponent(e))+1}(u,Math.max(Math.abs(e),Math.abs(s))))||(l.precision=c-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(c=function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}(u))||(l.precision=c-2*("%"===l.type))}return HM(l)}function linearish(e){var s=e.domain;return e.ticks=function(e){var a=s();return ticks(a[0],a[a.length-1],null==e?10:e)},e.tickFormat=function(e,a){var l=s();return tickFormat(l[0],l[l.length-1],null==e?10:e,a)},e.nice=function(a){null==a&&(a=10);var l,c,u=s(),p=0,m=u.length-1,h=u[p],f=u[m],g=10;for(f<h&&(c=h,h=f,f=c,c=p,p=m,m=c);g-- >0;){if((c=tickIncrement(h,f,a))===l)return u[p]=h,u[m]=f,s(u);if(c>0)h=Math.floor(h/c)*c,f=Math.ceil(f/c)*c;else{if(!(c<0))break;h=Math.ceil(h*c)/c,f=Math.floor(f*c)/c}l=c}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function nice(e,s){var a,l=0,c=(e=e.slice()).length-1,u=e[l],p=e[c];return p<u&&(a=l,l=c,c=a,a=u,u=p,p=a),e[l]=s.floor(u),e[c]=s.ceil(p),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function reflect(e){return(s,a)=>-e(-s,a)}function loggish(e){const s=e(transformLog,transformExp),a=s.domain;let l,c,u=10;function rescale(){return l=function logp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),s=>Math.log(s)/e)}(u),c=function powp(e){return 10===e?pow10:e===Math.E?Math.exp:s=>Math.pow(e,s)}(u),a()[0]<0?(l=reflect(l),c=reflect(c),e(transformLogn,transformExpn)):e(transformLog,transformExp),s}return s.base=function(e){return arguments.length?(u=+e,rescale()):u},s.domain=function(e){return arguments.length?(a(e),rescale()):a()},s.ticks=e=>{const s=a();let p=s[0],m=s[s.length-1];const h=m<p;h&&([p,m]=[m,p]);let f,g,b=l(p),j=l(m);const N=null==e?10:+e;let k=[];if(!(u%1)&&j-b<N){if(b=Math.floor(b),j=Math.ceil(j),p>0){for(;b<=j;++b)for(f=1;f<u;++f)if(g=b<0?f/c(-b):f*c(b),!(g<p)){if(g>m)break;k.push(g)}}else for(;b<=j;++b)for(f=u-1;f>=1;--f)if(g=b>0?f/c(-b):f*c(b),!(g<p)){if(g>m)break;k.push(g)}2*k.length<N&&(k=ticks(p,m,N))}else k=ticks(b,j,Math.min(j-b,N)).map(c);return h?k.reverse():k},s.tickFormat=(e,a)=>{if(null==e&&(e=10),null==a&&(a=10===u?"s":","),"function"!=typeof a&&(u%1||null!=(a=formatSpecifier(a)).precision||(a.trim=!0),a=HM(a)),e===1/0)return a;const p=Math.max(1,u*e/s.ticks().length);return e=>{let s=e/c(Math.round(l(e)));return s*u<u-.5&&(s*=u),s<=p?a(e):""}},s.nice=()=>a(nice(a(),{floor:e=>c(Math.floor(l(e))),ceil:e=>c(Math.ceil(l(e)))})),s}function transformSymlog(e){return function(s){return Math.sign(s)*Math.log1p(Math.abs(s/e))}}function transformSymexp(e){return function(s){return Math.sign(s)*Math.expm1(Math.abs(s))*e}}function symlogish(e){var s=1,a=e(transformSymlog(s),transformSymexp(s));return a.constant=function(a){return arguments.length?e(transformSymlog(s=+a),transformSymexp(s)):s},linearish(a)}function transformPow(e){return function(s){return s<0?-Math.pow(-s,e):Math.pow(s,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var s=e(identity$5,identity$5),a=1;return s.exponent=function(s){return arguments.length?(a=+s,function rescale(){return 1===a?e(identity$5,identity$5):.5===a?e(transformSqrt,transformSquare):e(transformPow(a),transformPow(1/a))}()):a},linearish(s)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$1(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function square(e){return Math.sign(e)*e*e}!function defaultLocale$1(e){return UM=formatLocale$1(e),HM=UM.format,qM=UM.formatPrefix,UM}({thousands:",",grouping:[3],currency:["$",""]});const KM=new Date,GM=new Date;function timeInterval(e,s,a,l){function interval(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return interval.floor=s=>(e(s=new Date(+s)),s),interval.ceil=a=>(e(a=new Date(a-1)),s(a,1),e(a),a),interval.round=e=>{const s=interval(e),a=interval.ceil(e);return e-s<a-e?s:a},interval.offset=(e,a)=>(s(e=new Date(+e),null==a?1:Math.floor(a)),e),interval.range=(a,l,c)=>{const u=[];if(a=interval.ceil(a),c=null==c?1:Math.floor(c),!(a<l&&c>0))return u;let p;do{u.push(p=new Date(+a)),s(a,c),e(a)}while(p<a&&a<l);return u},interval.filter=a=>timeInterval(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(e,l)=>{if(e>=e)if(l<0)for(;++l<=0;)for(;s(e,-1),!a(e););else for(;--l>=0;)for(;s(e,1),!a(e););}),a&&(interval.count=(s,l)=>(KM.setTime(+s),GM.setTime(+l),e(KM),e(GM),Math.floor(a(KM,GM))),interval.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?interval.filter(l?s=>l(s)%e===0:s=>interval.count(0,s)%e===0):interval:null)),interval}const YM=timeInterval(()=>{},(e,s)=>{e.setTime(+e+s)},(e,s)=>s-e);YM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?timeInterval(s=>{s.setTime(Math.floor(s/e)*e)},(s,a)=>{s.setTime(+s+a*e)},(s,a)=>(a-s)/e):YM:null),YM.range;const QM=1e3,XM=6e4,JM=36e5,eL=864e5,tL=6048e5,rL=2592e6,nL=31536e6,sL=timeInterval(e=>{e.setTime(e-e.getMilliseconds())},(e,s)=>{e.setTime(+e+s*QM)},(e,s)=>(s-e)/QM,e=>e.getUTCSeconds());sL.range;const aL=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*QM)},(e,s)=>{e.setTime(+e+s*XM)},(e,s)=>(s-e)/XM,e=>e.getMinutes());aL.range;const iL=timeInterval(e=>{e.setUTCSeconds(0,0)},(e,s)=>{e.setTime(+e+s*XM)},(e,s)=>(s-e)/XM,e=>e.getUTCMinutes());iL.range;const oL=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*QM-e.getMinutes()*XM)},(e,s)=>{e.setTime(+e+s*JM)},(e,s)=>(s-e)/JM,e=>e.getHours());oL.range;const lL=timeInterval(e=>{e.setUTCMinutes(0,0,0)},(e,s)=>{e.setTime(+e+s*JM)},(e,s)=>(s-e)/JM,e=>e.getUTCHours());lL.range;const cL=timeInterval(e=>e.setHours(0,0,0,0),(e,s)=>e.setDate(e.getDate()+s),(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*XM)/eL,e=>e.getDate()-1);cL.range;const dL=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/eL,e=>e.getUTCDate()-1);dL.range;const uL=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/eL,e=>Math.floor(e/eL));function timeWeekday(e){return timeInterval(s=>{s.setDate(s.getDate()-(s.getDay()+7-e)%7),s.setHours(0,0,0,0)},(e,s)=>{e.setDate(e.getDate()+7*s)},(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*XM)/tL)}uL.range;const pL=timeWeekday(0),mL=timeWeekday(1),hL=timeWeekday(2),fL=timeWeekday(3),gL=timeWeekday(4),xL=timeWeekday(5),vL=timeWeekday(6);function utcWeekday(e){return timeInterval(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-e)%7),s.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+7*s)},(e,s)=>(s-e)/tL)}pL.range,mL.range,hL.range,fL.range,gL.range,xL.range,vL.range;const yL=utcWeekday(0),bL=utcWeekday(1),jL=utcWeekday(2),wL=utcWeekday(3),NL=utcWeekday(4),SL=utcWeekday(5),CL=utcWeekday(6);yL.range,bL.range,jL.range,wL.range,NL.range,SL.range,CL.range;const kL=timeInterval(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,s)=>{e.setMonth(e.getMonth()+s)},(e,s)=>s.getMonth()-e.getMonth()+12*(s.getFullYear()-e.getFullYear()),e=>e.getMonth());kL.range;const _L=timeInterval(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCMonth(e.getUTCMonth()+s)},(e,s)=>s.getUTCMonth()-e.getUTCMonth()+12*(s.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());_L.range;const PL=timeInterval(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s)},(e,s)=>s.getFullYear()-e.getFullYear(),e=>e.getFullYear());PL.every=e=>isFinite(e=Math.floor(e))&&e>0?timeInterval(s=>{s.setFullYear(Math.floor(s.getFullYear()/e)*e),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,a)=>{s.setFullYear(s.getFullYear()+a*e)}):null,PL.range;const TL=timeInterval(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s)},(e,s)=>s.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function ticker(e,s,a,l,c,u){const p=[[sL,1,QM],[sL,5,5e3],[sL,15,15e3],[sL,30,3e4],[u,1,XM],[u,5,3e5],[u,15,9e5],[u,30,18e5],[c,1,JM],[c,3,108e5],[c,6,216e5],[c,12,432e5],[l,1,eL],[l,2,1728e5],[a,1,tL],[s,1,rL],[s,3,7776e6],[e,1,nL]];function tickInterval(s,a,l){const c=Math.abs(a-s)/l,u=bisector(([,,e])=>e).right(p,c);if(u===p.length)return e.every(tickStep(s/nL,a/nL,l));if(0===u)return YM.every(Math.max(tickStep(s,a,l),1));const[m,h]=p[c/p[u-1][2]<p[u][2]/c?u-1:u];return m.every(h)}return[function ticks2(e,s,a){const l=s<e;l&&([e,s]=[s,e]);const c=a&&"function"==typeof a.range?a:tickInterval(e,s,a),u=c?c.range(e,+s+1):[];return l?u.reverse():u},tickInterval]}TL.every=e=>isFinite(e=Math.floor(e))&&e>0?timeInterval(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/e)*e),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,a)=>{s.setUTCFullYear(s.getUTCFullYear()+a*e)}):null,TL.range;const[EL,AL]=ticker(TL,_L,yL,uL,lL,iL),[ML,LL]=ticker(PL,kL,pL,cL,oL,aL);function localDate(e){if(0<=e.y&&e.y<100){var s=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return s.setFullYear(e.y),s}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var s=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return s.setUTCFullYear(e.y),s}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,s,a){return{y:e,m:s,d:a,H:0,M:0,S:0,L:0}}var DL,OL,IL,$L={"-":"",_:" ",0:"0"},RL=/^\s*\d+/,FL=/^%/,BL=/[\\^$*+?|[\]().{}]/g;function pad(e,s,a){var l=e<0?"-":"",c=(l?-e:e)+"",u=c.length;return l+(u<a?new Array(a-u+1).join(s)+c:c)}function requote(e){return e.replace(BL,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((e,s)=>[e.toLowerCase(),s]))}function parseWeekdayNumberSunday(e,s,a){var l=RL.exec(s.slice(a,a+1));return l?(e.w=+l[0],a+l[0].length):-1}function parseWeekdayNumberMonday(e,s,a){var l=RL.exec(s.slice(a,a+1));return l?(e.u=+l[0],a+l[0].length):-1}function parseWeekNumberSunday(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.U=+l[0],a+l[0].length):-1}function parseWeekNumberISO(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.V=+l[0],a+l[0].length):-1}function parseWeekNumberMonday(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.W=+l[0],a+l[0].length):-1}function parseFullYear(e,s,a){var l=RL.exec(s.slice(a,a+4));return l?(e.y=+l[0],a+l[0].length):-1}function parseYear(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.y=+l[0]+(+l[0]>68?1900:2e3),a+l[0].length):-1}function parseZone(e,s,a){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(a,a+6));return l?(e.Z=l[1]?0:-(l[2]+(l[3]||"00")),a+l[0].length):-1}function parseQuarter(e,s,a){var l=RL.exec(s.slice(a,a+1));return l?(e.q=3*l[0]-3,a+l[0].length):-1}function parseMonthNumber(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.m=l[0]-1,a+l[0].length):-1}function parseDayOfMonth(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.d=+l[0],a+l[0].length):-1}function parseDayOfYear(e,s,a){var l=RL.exec(s.slice(a,a+3));return l?(e.m=0,e.d=+l[0],a+l[0].length):-1}function parseHour24(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.H=+l[0],a+l[0].length):-1}function parseMinutes(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.M=+l[0],a+l[0].length):-1}function parseSeconds(e,s,a){var l=RL.exec(s.slice(a,a+2));return l?(e.S=+l[0],a+l[0].length):-1}function parseMilliseconds(e,s,a){var l=RL.exec(s.slice(a,a+3));return l?(e.L=+l[0],a+l[0].length):-1}function parseMicroseconds(e,s,a){var l=RL.exec(s.slice(a,a+6));return l?(e.L=Math.floor(l[0]/1e3),a+l[0].length):-1}function parseLiteralPercent(e,s,a){var l=FL.exec(s.slice(a,a+1));return l?a+l[0].length:-1}function parseUnixTimestamp(e,s,a){var l=RL.exec(s.slice(a));return l?(e.Q=+l[0],a+l[0].length):-1}function parseUnixTimestampSeconds(e,s,a){var l=RL.exec(s.slice(a));return l?(e.s=+l[0],a+l[0].length):-1}function formatDayOfMonth(e,s){return pad(e.getDate(),s,2)}function formatHour24(e,s){return pad(e.getHours(),s,2)}function formatHour12(e,s){return pad(e.getHours()%12||12,s,2)}function formatDayOfYear(e,s){return pad(1+cL.count(PL(e),e),s,3)}function formatMilliseconds(e,s){return pad(e.getMilliseconds(),s,3)}function formatMicroseconds(e,s){return formatMilliseconds(e,s)+"000"}function formatMonthNumber(e,s){return pad(e.getMonth()+1,s,2)}function formatMinutes(e,s){return pad(e.getMinutes(),s,2)}function formatSeconds(e,s){return pad(e.getSeconds(),s,2)}function formatWeekdayNumberMonday(e){var s=e.getDay();return 0===s?7:s}function formatWeekNumberSunday(e,s){return pad(pL.count(PL(e)-1,e),s,2)}function dISO(e){var s=e.getDay();return s>=4||0===s?gL(e):gL.ceil(e)}function formatWeekNumberISO(e,s){return e=dISO(e),pad(gL.count(PL(e),e)+(4===PL(e).getDay()),s,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,s){return pad(mL.count(PL(e)-1,e),s,2)}function formatYear(e,s){return pad(e.getFullYear()%100,s,2)}function formatYearISO(e,s){return pad((e=dISO(e)).getFullYear()%100,s,2)}function formatFullYear(e,s){return pad(e.getFullYear()%1e4,s,4)}function formatFullYearISO(e,s){var a=e.getDay();return pad((e=a>=4||0===a?gL(e):gL.ceil(e)).getFullYear()%1e4,s,4)}function formatZone(e){var s=e.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+pad(s/60|0,"0",2)+pad(s%60,"0",2)}function formatUTCDayOfMonth(e,s){return pad(e.getUTCDate(),s,2)}function formatUTCHour24(e,s){return pad(e.getUTCHours(),s,2)}function formatUTCHour12(e,s){return pad(e.getUTCHours()%12||12,s,2)}function formatUTCDayOfYear(e,s){return pad(1+dL.count(TL(e),e),s,3)}function formatUTCMilliseconds(e,s){return pad(e.getUTCMilliseconds(),s,3)}function formatUTCMicroseconds(e,s){return formatUTCMilliseconds(e,s)+"000"}function formatUTCMonthNumber(e,s){return pad(e.getUTCMonth()+1,s,2)}function formatUTCMinutes(e,s){return pad(e.getUTCMinutes(),s,2)}function formatUTCSeconds(e,s){return pad(e.getUTCSeconds(),s,2)}function formatUTCWeekdayNumberMonday(e){var s=e.getUTCDay();return 0===s?7:s}function formatUTCWeekNumberSunday(e,s){return pad(yL.count(TL(e)-1,e),s,2)}function UTCdISO(e){var s=e.getUTCDay();return s>=4||0===s?NL(e):NL.ceil(e)}function formatUTCWeekNumberISO(e,s){return e=UTCdISO(e),pad(NL.count(TL(e),e)+(4===TL(e).getUTCDay()),s,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,s){return pad(bL.count(TL(e)-1,e),s,2)}function formatUTCYear(e,s){return pad(e.getUTCFullYear()%100,s,2)}function formatUTCYearISO(e,s){return pad((e=UTCdISO(e)).getUTCFullYear()%100,s,2)}function formatUTCFullYear(e,s){return pad(e.getUTCFullYear()%1e4,s,4)}function formatUTCFullYearISO(e,s){var a=e.getUTCDay();return pad((e=a>=4||0===a?NL(e):NL.ceil(e)).getUTCFullYear()%1e4,s,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,s,a,l,c,u,p,m,h,f){var g=continuous(),b=g.invert,j=g.domain,N=f(".%L"),k=f(":%S"),_=f("%I:%M"),T=f("%I %p"),E=f("%a %d"),A=f("%b %d"),L=f("%B"),O=f("%Y");function tickFormat2(e){return(h(e)<e?N:m(e)<e?k:p(e)<e?_:u(e)<e?T:l(e)<e?c(e)<e?E:A:a(e)<e?L:O)(e)}return g.invert=function(e){return new Date(b(e))},g.domain=function(e){return arguments.length?j(Array.from(e,number)):j().map(date)},g.ticks=function(s){var a=j();return e(a[0],a[a.length-1],null==s?10:s)},g.tickFormat=function(e,s){return null==s?tickFormat2:f(s)},g.nice=function(e){var a=j();return e&&"function"==typeof e.range||(e=s(a[0],a[a.length-1],null==e?10:e)),e?j(nice(a,e)):g},g.copy=function(){return copy$1(g,calendar(e,s,a,l,c,u,p,m,h,f))},g}function transformer$1(){var e,s,a,l,c,u=0,p=1,m=identity$5,h=!1;function scale2(s){return null==s||isNaN(s=+s)?c:m(0===a?.5:(s=(l(s)-e)*a,h?Math.max(0,Math.min(1,s)):s))}function range3(e){return function(s){var a,l;return arguments.length?([a,l]=s,m=e(a,l),scale2):[m(0),m(1)]}}return scale2.domain=function(c){return arguments.length?([u,p]=c,e=l(u=+u),s=l(p=+p),a=e===s?0:1/(s-e),scale2):[u,p]},scale2.clamp=function(e){return arguments.length?(h=!!e,scale2):h},scale2.interpolator=function(e){return arguments.length?(m=e,scale2):m},scale2.range=range3(interpolate),scale2.rangeRound=range3(interpolateRound),scale2.unknown=function(e){return arguments.length?(c=e,scale2):c},function(c){return l=c,e=c(u),s=c(p),a=e===s?0:1/(s-e),scale2}}function copy(e,s){return s.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function transformer(){var e,s,a,l,c,u,p,m=0,h=.5,f=1,g=1,b=identity$5,j=!1;function scale2(e){return isNaN(e=+e)?p:(e=.5+((e=+u(e))-s)*(g*e<g*s?l:c),b(j?Math.max(0,Math.min(1,e)):e))}function range3(e){return function(s){var a,l,c;return arguments.length?([a,l,c]=s,b=function piecewise(e,s){void 0===s&&(s=e,e=interpolate);for(var a=0,l=s.length-1,c=s[0],u=new Array(l<0?0:l);a<l;)u[a]=e(c,c=s[++a]);return function(e){var s=Math.max(0,Math.min(l-1,Math.floor(e*=l)));return u[s](e-s)}}(e,[a,l,c]),scale2):[b(0),b(.5),b(1)]}}return scale2.domain=function(p){return arguments.length?([m,h,f]=p,e=u(m=+m),s=u(h=+h),a=u(f=+f),l=e===s?0:.5/(s-e),c=s===a?0:.5/(a-s),g=s<e?-1:1,scale2):[m,h,f]},scale2.clamp=function(e){return arguments.length?(j=!!e,scale2):j},scale2.interpolator=function(e){return arguments.length?(b=e,scale2):b},scale2.range=range3(interpolate),scale2.rangeRound=range3(interpolateRound),scale2.unknown=function(e){return arguments.length?(p=e,scale2):p},function(p){return u=p,e=p(m),s=p(h),a=p(f),l=e===s?0:.5/(s-e),c=s===a?0:.5/(a-s),g=s<e?-1:1,scale2}}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}!function defaultLocale(e){return DL=function formatLocale(e){var s=e.dateTime,a=e.date,l=e.time,c=e.periods,u=e.days,p=e.shortDays,m=e.months,h=e.shortMonths,f=formatRe(c),g=formatLookup(c),b=formatRe(u),j=formatLookup(u),N=formatRe(p),k=formatLookup(p),_=formatRe(m),T=formatLookup(m),E=formatRe(h),A=formatLookup(h),L={a:function formatShortWeekday(e){return p[e.getDay()]},A:function formatWeekday(e){return u[e.getDay()]},b:function formatShortMonth(e){return h[e.getMonth()]},B:function formatMonth(e){return m[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(e){return c[+(e.getHours()>=12)]},q:function formatQuarter(e){return 1+~~(e.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},O={a:function formatUTCShortWeekday(e){return p[e.getUTCDay()]},A:function formatUTCWeekday(e){return u[e.getUTCDay()]},b:function formatUTCShortMonth(e){return h[e.getUTCMonth()]},B:function formatUTCMonth(e){return m[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(e){return c[+(e.getUTCHours()>=12)]},q:function formatUTCQuarter(e){return 1+~~(e.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},I={a:function parseShortWeekday(e,s,a){var l=N.exec(s.slice(a));return l?(e.w=k.get(l[0].toLowerCase()),a+l[0].length):-1},A:function parseWeekday(e,s,a){var l=b.exec(s.slice(a));return l?(e.w=j.get(l[0].toLowerCase()),a+l[0].length):-1},b:function parseShortMonth(e,s,a){var l=E.exec(s.slice(a));return l?(e.m=A.get(l[0].toLowerCase()),a+l[0].length):-1},B:function parseMonth(e,s,a){var l=_.exec(s.slice(a));return l?(e.m=T.get(l[0].toLowerCase()),a+l[0].length):-1},c:function parseLocaleDateTime(e,a,l){return parseSpecifier(e,s,a,l)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(e,s,a){var l=f.exec(s.slice(a));return l?(e.p=g.get(l[0].toLowerCase()),a+l[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(e,s,l){return parseSpecifier(e,a,s,l)},X:function parseLocaleTime(e,s,a){return parseSpecifier(e,l,s,a)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(e,s){return function(a){var l,c,u,p=[],m=-1,h=0,f=e.length;for(a instanceof Date||(a=new Date(+a));++m<f;)37===e.charCodeAt(m)&&(p.push(e.slice(h,m)),null!=(c=$L[l=e.charAt(++m)])?l=e.charAt(++m):c="e"===l?" ":"0",(u=s[l])&&(l=u(a,c)),p.push(l),h=m+1);return p.push(e.slice(h,m)),p.join("")}}function newParse(e,s){return function(a){var l,c,u=newDate(1900,void 0,1);if(parseSpecifier(u,e,a+="",0)!=a.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(s&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(c=(l=utcDate(newDate(u.y,0,1))).getUTCDay(),l=c>4||0===c?bL.ceil(l):bL(l),l=dL.offset(l,7*(u.V-1)),u.y=l.getUTCFullYear(),u.m=l.getUTCMonth(),u.d=l.getUTCDate()+(u.w+6)%7):(c=(l=localDate(newDate(u.y,0,1))).getDay(),l=c>4||0===c?mL.ceil(l):mL(l),l=cL.offset(l,7*(u.V-1)),u.y=l.getFullYear(),u.m=l.getMonth(),u.d=l.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),c="Z"in u?utcDate(newDate(u.y,0,1)).getUTCDay():localDate(newDate(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(c+5)%7:u.w+7*u.U-(c+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,utcDate(u)):localDate(u)}}function parseSpecifier(e,s,a,l){for(var c,u,p=0,m=s.length,h=a.length;p<m;){if(l>=h)return-1;if(37===(c=s.charCodeAt(p++))){if(c=s.charAt(p++),!(u=I[c in $L?s.charAt(p++):c])||(l=u(e,a,l))<0)return-1}else if(c!=a.charCodeAt(l++))return-1}return l}return L.x=newFormat(a,L),L.X=newFormat(l,L),L.c=newFormat(s,L),O.x=newFormat(a,O),O.X=newFormat(l,O),O.c=newFormat(s,O),{format:function(e){var s=newFormat(e+="",L);return s.toString=function(){return e},s},parse:function(e){var s=newParse(e+="",!1);return s.toString=function(){return e},s},utcFormat:function(e){var s=newFormat(e+="",O);return s.toString=function(){return e},s},utcParse:function(e){var s=newParse(e+="",!0);return s.toString=function(){return e},s}}}(e),OL=DL.format,DL.parse,IL=DL.utcFormat,DL.utcParse,DL}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const zL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:function diverging(){var e=linearish(transformer()(identity$5));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)},scaleDivergingLog:function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)},scaleDivergingPow:divergingPow,scaleDivergingSqrt:function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)},scaleIdentity:function identity$3(e){var s;function scale2(e){return null==e||isNaN(e=+e)?s:e}return scale2.invert=scale2,scale2.domain=scale2.range=function(s){return arguments.length?(e=Array.from(s,number$1),scale2):e.slice()},scale2.unknown=function(e){return arguments.length?(s=e,scale2):s},scale2.copy=function(){return identity$3(e).unknown(s)},e=arguments.length?Array.from(e,number$1):[0,1],linearish(scale2)},scaleImplicit:wM,scaleLinear:linear,scaleLog:function log(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$1(e,log()).base(e.base()),initRange.apply(e,arguments),e},scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:function quantile(){var e,s=[],a=[],l=[];function rescale(){var e=0,c=Math.max(1,a.length);for(l=new Array(c-1);++e<c;)l[e-1]=quantileSorted(s,e/c);return scale2}function scale2(s){return null==s||isNaN(s=+s)?e:a[vM(l,s)]}return scale2.invertExtent=function(e){var c=a.indexOf(e);return c<0?[NaN,NaN]:[c>0?l[c-1]:s[0],c<l.length?l[c]:s[s.length-1]]},scale2.domain=function(e){if(!arguments.length)return s.slice();s=[];for(let a of e)null==a||isNaN(a=+a)||s.push(a);return s.sort(ascending),rescale()},scale2.range=function(e){return arguments.length?(a=Array.from(e),rescale()):a.slice()},scale2.unknown=function(s){return arguments.length?(e=s,scale2):e},scale2.quantiles=function(){return l.slice()},scale2.copy=function(){return quantile().domain(s).range(a).unknown(e)},initRange.apply(scale2,arguments)},scaleQuantize:function quantize(){var e,s=0,a=1,l=1,c=[.5],u=[0,1];function scale2(s){return null!=s&&s<=s?u[vM(c,s,0,l)]:e}function rescale(){var e=-1;for(c=new Array(l);++e<l;)c[e]=((e+1)*a-(e-l)*s)/(l+1);return scale2}return scale2.domain=function(e){return arguments.length?([s,a]=e,s=+s,a=+a,rescale()):[s,a]},scale2.range=function(e){return arguments.length?(l=(u=Array.from(e)).length-1,rescale()):u.slice()},scale2.invertExtent=function(e){var p=u.indexOf(e);return p<0?[NaN,NaN]:p<1?[s,c[0]]:p>=l?[c[l-1],a]:[c[p-1],c[p]]},scale2.unknown=function(s){return arguments.length?(e=s,scale2):scale2},scale2.thresholds=function(){return c.slice()},scale2.copy=function(){return quantize().domain([s,a]).range(u).unknown(e)},initRange.apply(linearish(scale2),arguments)},scaleRadial:function radial(){var e,s=continuous(),a=[0,1],l=!1;function scale2(a){var c=function unsquare(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(s(a));return isNaN(c)?e:l?Math.round(c):c}return scale2.invert=function(e){return s.invert(square(e))},scale2.domain=function(e){return arguments.length?(s.domain(e),scale2):s.domain()},scale2.range=function(e){return arguments.length?(s.range((a=Array.from(e,number$1)).map(square)),scale2):a.slice()},scale2.rangeRound=function(e){return scale2.range(e).round(!0)},scale2.round=function(e){return arguments.length?(l=!!e,scale2):l},scale2.clamp=function(e){return arguments.length?(s.clamp(e),scale2):s.clamp()},scale2.unknown=function(s){return arguments.length?(e=s,scale2):e},scale2.copy=function(){return radial(s.domain(),a).round(l).clamp(s.clamp()).unknown(e)},initRange.apply(scale2,arguments),linearish(scale2)},scaleSequential:function sequential(){var e=linearish(transformer$1()(identity$5));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)},scaleSequentialLog:function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)},scaleSequentialPow:sequentialPow,scaleSequentialQuantile:function sequentialQuantile(){var e=[],s=identity$5;function scale2(a){if(null!=a&&!isNaN(a=+a))return s((vM(e,a,1)-1)/(e.length-1))}return scale2.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)null==a||isNaN(a=+a)||e.push(a);return e.sort(ascending),scale2},scale2.interpolator=function(e){return arguments.length?(s=e,scale2):s},scale2.range=function(){return e.map((a,l)=>s(l/(e.length-1)))},scale2.quantiles=function(s){return Array.from({length:s+1},(a,l)=>function quantile$1(e,s,a){if((l=(e=Float64Array.from(function*numbers(e){for(let s of e)null!=s&&(s=+s)>=s&&(yield s)}(e))).length)&&!isNaN(s=+s)){if(s<=0||l<2)return min$3(e);if(s>=1)return max$3(e);var l,c=(l-1)*s,u=Math.floor(c),p=max$3(quickselect(e,u).subarray(0,u+1));return p+(min$3(e.subarray(u+1))-p)*(c-u)}}(e,l/s))},scale2.copy=function(){return sequentialQuantile(s).domain(e)},initInterpolator.apply(scale2,arguments)},scaleSequentialSqrt:function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)},scaleSqrt:function sqrt(){return pow.apply(null,arguments).exponent(.5)},scaleSymlog:function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$1(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)},scaleThreshold:function threshold(){var e,s=[.5],a=[0,1],l=1;function scale2(c){return null!=c&&c<=c?a[vM(s,c,0,l)]:e}return scale2.domain=function(e){return arguments.length?(s=Array.from(e),l=Math.min(s.length,a.length-1),scale2):s.slice()},scale2.range=function(e){return arguments.length?(a=Array.from(e),l=Math.min(s.length,a.length-1),scale2):a.slice()},scale2.invertExtent=function(e){var l=a.indexOf(e);return[s[l-1],s[l]]},scale2.unknown=function(s){return arguments.length?(e=s,scale2):e},scale2.copy=function(){return threshold().domain(s).range(a).unknown(e)},initRange.apply(scale2,arguments)},scaleTime:function time(){return initRange.apply(calendar(ML,LL,PL,kL,pL,cL,oL,aL,sL,OL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function utcTime(){return initRange.apply(calendar(EL,AL,TL,_L,yL,dL,lL,iL,sL,IL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:tickFormat},Symbol.toStringTag,{value:"Module"}));var VL,UL,HL,qL,WL,ZL;function require_baseExtremum(){if(UL)return VL;UL=1;var e=requireIsSymbol();return VL=function baseExtremum(s,a,l){for(var c=-1,u=s.length;++c<u;){var p=s[c],m=a(p);if(null!=m&&(void 0===h?m==m&&!e(m):l(m,h)))var h=m,f=p}return f}}function require_baseGt(){if(qL)return HL;return qL=1,HL=function baseGt(e,s){return e>s}}const KL=getDefaultExportFromCjs$2(function requireMax(){if(ZL)return WL;ZL=1;var e=require_baseExtremum(),s=require_baseGt(),a=requireIdentity();return WL=function max2(l){return l&&l.length?e(l,a,s):void 0}}());var GL,YL,QL,XL;function require_baseLt(){if(YL)return GL;return YL=1,GL=function baseLt(e,s){return e<s}}const JL=getDefaultExportFromCjs$2(function requireMin(){if(XL)return QL;XL=1;var e=require_baseExtremum(),s=require_baseLt(),a=requireIdentity();return QL=function min2(l){return l&&l.length?e(l,a,s):void 0}}());var eD,tD,rD,nD;const sD=getDefaultExportFromCjs$2(function requireFlatMap(){if(nD)return rD;nD=1;var e=require_baseFlatten(),s=function requireMap(){if(tD)return eD;tD=1;var e=require_arrayMap(),s=require_baseIteratee(),a=require_baseMap(),l=requireIsArray();return eD=function map2(c,u){return(l(c)?e:a)(c,s(u,3))}}();return rD=function flatMap2(a,l){return e(s(a,l),1)}}());var aD,iD;const oD=getDefaultExportFromCjs$2(function requireIsEqual(){if(iD)return aD;iD=1;var e=require_baseIsEqual();return aD=function isEqual2(s,a){return e(s,a)}}());var lD,cD=1e9,dD=!0,uD="[DecimalError] ",pD=uD+"Invalid argument: ",mD=uD+"Exponent out of range: ",hD=Math.floor,fD=Math.pow,gD=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xD=1e7,vD=9007199254740991,yD=hD(1286742750677284.5),bD={};function add$1(e,s){var a,l,c,u,p,m,h,f,g=e.constructor,b=g.precision;if(!e.s||!s.s)return s.s||(s=new g(e)),dD?round(s,b):s;if(h=e.d,f=s.d,p=e.e,c=s.e,h=h.slice(),u=p-c){for(u<0?(l=h,u=-u,m=f.length):(l=f,c=p,m=h.length),u>(m=(p=Math.ceil(b/7))>m?p+1:m+1)&&(u=m,l.length=1),l.reverse();u--;)l.push(0);l.reverse()}for((m=h.length)-(u=f.length)<0&&(u=m,l=f,f=h,h=l),a=0;u;)a=(h[--u]=h[u]+f[u]+a)/xD|0,h[u]%=xD;for(a&&(h.unshift(a),++c),m=h.length;0==h[--m];)h.pop();return s.d=h,s.e=c,dD?round(s,b):s}function checkInt32(e,s,a){if(e!==~~e||e<s||e>a)throw Error(pD+e)}function digitsToString(e){var s,a,l,c=e.length-1,u="",p=e[0];if(c>0){for(u+=p,s=1;s<c;s++)(a=7-(l=e[s]+"").length)&&(u+=getZeroString(a)),u+=l;(a=7-(l=(p=e[s])+"").length)&&(u+=getZeroString(a))}else if(0===p)return"0";for(;p%10==0;)p/=10;return u+p}bD.absoluteValue=bD.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},bD.comparedTo=bD.cmp=function(e){var s,a,l,c,u=this;if(e=new u.constructor(e),u.s!==e.s)return u.s||-e.s;if(u.e!==e.e)return u.e>e.e^u.s<0?1:-1;for(s=0,a=(l=u.d.length)<(c=e.d.length)?l:c;s<a;++s)if(u.d[s]!==e.d[s])return u.d[s]>e.d[s]^u.s<0?1:-1;return l===c?0:l>c^u.s<0?1:-1},bD.decimalPlaces=bD.dp=function(){var e=this,s=e.d.length-1,a=7*(s-e.e);if(s=e.d[s])for(;s%10==0;s/=10)a--;return a<0?0:a},bD.dividedBy=bD.div=function(e){return jD(this,new this.constructor(e))},bD.dividedToIntegerBy=bD.idiv=function(e){var s=this.constructor;return round(jD(this,new s(e),0,1),s.precision)},bD.equals=bD.eq=function(e){return!this.cmp(e)},bD.exponent=function(){return getBase10Exponent(this)},bD.greaterThan=bD.gt=function(e){return this.cmp(e)>0},bD.greaterThanOrEqualTo=bD.gte=function(e){return this.cmp(e)>=0},bD.isInteger=bD.isint=function(){return this.e>this.d.length-2},bD.isNegative=bD.isneg=function(){return this.s<0},bD.isPositive=bD.ispos=function(){return this.s>0},bD.isZero=function(){return 0===this.s},bD.lessThan=bD.lt=function(e){return this.cmp(e)<0},bD.lessThanOrEqualTo=bD.lte=function(e){return this.cmp(e)<1},bD.logarithm=bD.log=function(e){var s,a=this,l=a.constructor,c=l.precision,u=c+5;if(void 0===e)e=new l(10);else if((e=new l(e)).s<1||e.eq(lD))throw Error(uD+"NaN");if(a.s<1)throw Error(uD+(a.s?"NaN":"-Infinity"));return a.eq(lD)?new l(0):(dD=!1,s=jD(ln(a,u),ln(e,u),u),dD=!0,round(s,c))},bD.minus=bD.sub=function(e){var s=this;return e=new s.constructor(e),s.s==e.s?subtract$1(s,e):add$1(s,(e.s=-e.s,e))},bD.modulo=bD.mod=function(e){var s,a=this,l=a.constructor,c=l.precision;if(!(e=new l(e)).s)throw Error(uD+"NaN");return a.s?(dD=!1,s=jD(a,e,0,1).times(e),dD=!0,a.minus(s)):round(new l(a),c)},bD.naturalExponential=bD.exp=function(){return exp(this)},bD.naturalLogarithm=bD.ln=function(){return ln(this)},bD.negated=bD.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},bD.plus=bD.add=function(e){var s=this;return e=new s.constructor(e),s.s==e.s?add$1(s,e):subtract$1(s,(e.s=-e.s,e))},bD.precision=bD.sd=function(e){var s,a,l,c=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(pD+e);if(s=getBase10Exponent(c)+1,a=7*(l=c.d.length-1)+1,l=c.d[l]){for(;l%10==0;l/=10)a--;for(l=c.d[0];l>=10;l/=10)a++}return e&&s>a?s:a},bD.squareRoot=bD.sqrt=function(){var e,s,a,l,c,u,p,m=this,h=m.constructor;if(m.s<1){if(!m.s)return new h(0);throw Error(uD+"NaN")}for(e=getBase10Exponent(m),dD=!1,0==(c=Math.sqrt(+m))||c==1/0?(((s=digitsToString(m.d)).length+e)%2==0&&(s+="0"),c=Math.sqrt(s),e=hD((e+1)/2)-(e<0||e%2),l=new h(s=c==1/0?"5e"+e:(s=c.toExponential()).slice(0,s.indexOf("e")+1)+e)):l=new h(c.toString()),c=p=(a=h.precision)+3;;)if(l=(u=l).plus(jD(m,u,p+2)).times(.5),digitsToString(u.d).slice(0,p)===(s=digitsToString(l.d)).slice(0,p)){if(s=s.slice(p-3,p+1),c==p&&"4999"==s){if(round(u,a+1,0),u.times(u).eq(m)){l=u;break}}else if("9999"!=s)break;p+=4}return dD=!0,round(l,a)},bD.times=bD.mul=function(e){var s,a,l,c,u,p,m,h,f,g=this,b=g.constructor,j=g.d,N=(e=new b(e)).d;if(!g.s||!e.s)return new b(0);for(e.s*=g.s,a=g.e+e.e,(h=j.length)<(f=N.length)&&(u=j,j=N,N=u,p=h,h=f,f=p),u=[],l=p=h+f;l--;)u.push(0);for(l=f;--l>=0;){for(s=0,c=h+l;c>l;)m=u[c]+N[l]*j[c-l-1]+s,u[c--]=m%xD|0,s=m/xD|0;u[c]=(u[c]+s)%xD|0}for(;!u[--p];)u.pop();return s?++a:u.shift(),e.d=u,e.e=a,dD?round(e,b.precision):e},bD.toDecimalPlaces=bD.todp=function(e,s){var a=this,l=a.constructor;return a=new l(a),void 0===e?a:(checkInt32(e,0,cD),void 0===s?s=l.rounding:checkInt32(s,0,8),round(a,e+getBase10Exponent(a)+1,s))},bD.toExponential=function(e,s){var a,l=this,c=l.constructor;return void 0===e?a=toString(l,!0):(checkInt32(e,0,cD),void 0===s?s=c.rounding:checkInt32(s,0,8),a=toString(l=round(new c(l),e+1,s),!0,e+1)),a},bD.toFixed=function(e,s){var a,l,c=this,u=c.constructor;return void 0===e?toString(c):(checkInt32(e,0,cD),void 0===s?s=u.rounding:checkInt32(s,0,8),a=toString((l=round(new u(c),e+getBase10Exponent(c)+1,s)).abs(),!1,e+getBase10Exponent(l)+1),c.isneg()&&!c.isZero()?"-"+a:a)},bD.toInteger=bD.toint=function(){var e=this,s=e.constructor;return round(new s(e),getBase10Exponent(e)+1,s.rounding)},bD.toNumber=function(){return+this},bD.toPower=bD.pow=function(e){var s,a,l,c,u,p,m=this,h=m.constructor,f=+(e=new h(e));if(!e.s)return new h(lD);if(!(m=new h(m)).s){if(e.s<1)throw Error(uD+"Infinity");return m}if(m.eq(lD))return m;if(l=h.precision,e.eq(lD))return round(m,l);if(p=(s=e.e)>=(a=e.d.length-1),u=m.s,p){if((a=f<0?-f:f)<=vD){for(c=new h(lD),s=Math.ceil(l/7+4),dD=!1;a%2&&truncate((c=c.times(m)).d,s),0!==(a=hD(a/2));)truncate((m=m.times(m)).d,s);return dD=!0,e.s<0?new h(lD).div(c):round(c,l)}}else if(u<0)throw Error(uD+"NaN");return u=u<0&&1&e.d[Math.max(s,a)]?-1:1,m.s=1,dD=!1,c=e.times(ln(m,l+12)),dD=!0,(c=exp(c)).s=u,c},bD.toPrecision=function(e,s){var a,l,c=this,u=c.constructor;return void 0===e?l=toString(c,(a=getBase10Exponent(c))<=u.toExpNeg||a>=u.toExpPos):(checkInt32(e,1,cD),void 0===s?s=u.rounding:checkInt32(s,0,8),l=toString(c=round(new u(c),e,s),e<=(a=getBase10Exponent(c))||a<=u.toExpNeg,e)),l},bD.toSignificantDigits=bD.tosd=function(e,s){var a=this.constructor;return void 0===e?(e=a.precision,s=a.rounding):(checkInt32(e,1,cD),void 0===s?s=a.rounding:checkInt32(s,0,8)),round(new a(this),e,s)},bD.toString=bD.valueOf=bD.val=bD.toJSON=bD[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,s=getBase10Exponent(e),a=e.constructor;return toString(e,s<=a.toExpNeg||s>=a.toExpPos)};var jD=function(){function multiplyInteger(e,s){var a,l=0,c=e.length;for(e=e.slice();c--;)a=e[c]*s+l,e[c]=a%xD|0,l=a/xD|0;return l&&e.unshift(l),e}function compare(e,s,a,l){var c,u;if(a!=l)u=a>l?1:-1;else for(c=u=0;c<a;c++)if(e[c]!=s[c]){u=e[c]>s[c]?1:-1;break}return u}function subtract2(e,s,a){for(var l=0;a--;)e[a]-=l,l=e[a]<s[a]?1:0,e[a]=l*xD+e[a]-s[a];for(;!e[0]&&e.length>1;)e.shift()}return function(e,s,a,l){var c,u,p,m,h,f,g,b,j,N,k,_,T,E,A,L,O,I,$=e.constructor,z=e.s==s.s?1:-1,U=e.d,H=s.d;if(!e.s)return new $(e);if(!s.s)throw Error(uD+"Division by zero");for(u=e.e-s.e,O=H.length,A=U.length,b=(g=new $(z)).d=[],p=0;H[p]==(U[p]||0);)++p;if(H[p]>(U[p]||0)&&--u,(_=null==a?a=$.precision:l?a+(getBase10Exponent(e)-getBase10Exponent(s))+1:a)<0)return new $(0);if(_=_/7+2|0,p=0,1==O)for(m=0,H=H[0],_++;(p<A||m)&&_--;p++)T=m*xD+(U[p]||0),b[p]=T/H|0,m=T%H|0;else{for((m=xD/(H[0]+1)|0)>1&&(H=multiplyInteger(H,m),U=multiplyInteger(U,m),O=H.length,A=U.length),E=O,N=(j=U.slice(0,O)).length;N<O;)j[N++]=0;(I=H.slice()).unshift(0),L=H[0],H[1]>=xD/2&&++L;do{m=0,(c=compare(H,j,O,N))<0?(k=j[0],O!=N&&(k=k*xD+(j[1]||0)),(m=k/L|0)>1?(m>=xD&&(m=xD-1),1==(c=compare(h=multiplyInteger(H,m),j,f=h.length,N=j.length))&&(m--,subtract2(h,O<f?I:H,f))):(0==m&&(c=m=1),h=H.slice()),(f=h.length)<N&&h.unshift(0),subtract2(j,h,N),-1==c&&(c=compare(H,j,O,N=j.length))<1&&(m++,subtract2(j,O<N?I:H,N)),N=j.length):0===c&&(m++,j=[0]),b[p++]=m,c&&j[0]?j[N++]=U[E]||0:(j=[U[E]],N=1)}while((E++<A||void 0!==j[0])&&_--)}return b[0]||b.shift(),g.e=u,round(g,l?a+getBase10Exponent(g)+1:a)}}();function exp(e,s){var a,l,c,u,p,m=0,h=0,f=e.constructor,g=f.precision;if(getBase10Exponent(e)>16)throw Error(mD+getBase10Exponent(e));if(!e.s)return new f(lD);for(dD=!1,p=g,u=new f(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(p+=Math.log(fD(2,h))/Math.LN10*2+5|0,a=l=c=new f(lD),f.precision=p;;){if(l=round(l.times(e),p),a=a.times(++m),digitsToString((u=c.plus(jD(l,a,p))).d).slice(0,p)===digitsToString(c.d).slice(0,p)){for(;h--;)c=round(c.times(c),p);return f.precision=g,null==s?(dD=!0,round(c,g)):c}c=u}}function getBase10Exponent(e){for(var s=7*e.e,a=e.d[0];a>=10;a/=10)s++;return s}function getLn10(e,s,a){if(s>e.LN10.sd())throw dD=!0,a&&(e.precision=a),Error(uD+"LN10 precision limit exceeded");return round(new e(e.LN10),s)}function getZeroString(e){for(var s="";e--;)s+="0";return s}function ln(e,s){var a,l,c,u,p,m,h,f,g,b=1,j=e,N=j.d,k=j.constructor,_=k.precision;if(j.s<1)throw Error(uD+(j.s?"NaN":"-Infinity"));if(j.eq(lD))return new k(0);if(null==s?(dD=!1,f=_):f=s,j.eq(10))return null==s&&(dD=!0),getLn10(k,f);if(f+=10,k.precision=f,l=(a=digitsToString(N)).charAt(0),u=getBase10Exponent(j),!(Math.abs(u)<15e14))return h=getLn10(k,f+2,_).times(u+""),j=ln(new k(l+"."+a.slice(1)),f-10).plus(h),k.precision=_,null==s?(dD=!0,round(j,_)):j;for(;l<7&&1!=l||1==l&&a.charAt(1)>3;)l=(a=digitsToString((j=j.times(e)).d)).charAt(0),b++;for(u=getBase10Exponent(j),l>1?(j=new k("0."+a),u++):j=new k(l+"."+a.slice(1)),m=p=j=jD(j.minus(lD),j.plus(lD),f),g=round(j.times(j),f),c=3;;){if(p=round(p.times(g),f),digitsToString((h=m.plus(jD(p,new k(c),f))).d).slice(0,f)===digitsToString(m.d).slice(0,f))return m=m.times(2),0!==u&&(m=m.plus(getLn10(k,f+2,_).times(u+""))),m=jD(m,new k(b),f),k.precision=_,null==s?(dD=!0,round(m,_)):m;m=h,c+=2}}function parseDecimal(e,s){var a,l,c;for((a=s.indexOf("."))>-1&&(s=s.replace(".","")),(l=s.search(/e/i))>0?(a<0&&(a=l),a+=+s.slice(l+1),s=s.substring(0,l)):a<0&&(a=s.length),l=0;48===s.charCodeAt(l);)++l;for(c=s.length;48===s.charCodeAt(c-1);)--c;if(s=s.slice(l,c)){if(c-=l,a=a-l-1,e.e=hD(a/7),e.d=[],l=(a+1)%7,a<0&&(l+=7),l<c){for(l&&e.d.push(+s.slice(0,l)),c-=7;l<c;)e.d.push(+s.slice(l,l+=7));l=7-(s=s.slice(l)).length}else l-=c;for(;l--;)s+="0";if(e.d.push(+s),dD&&(e.e>yD||e.e<-yD))throw Error(mD+a)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,s,a){var l,c,u,p,m,h,f,g,b=e.d;for(p=1,u=b[0];u>=10;u/=10)p++;if((l=s-p)<0)l+=7,c=s,f=b[g=0];else{if((g=Math.ceil((l+1)/7))>=(u=b.length))return e;for(f=u=b[g],p=1;u>=10;u/=10)p++;c=(l%=7)-7+p}if(void 0!==a&&(m=f/(u=fD(10,p-c-1))%10|0,h=s<0||void 0!==b[g+1]||f%u,h=a<4?(m||h)&&(0==a||a==(e.s<0?3:2)):m>5||5==m&&(4==a||h||6==a&&(l>0?c>0?f/fD(10,p-c):0:b[g-1])%10&1||a==(e.s<0?8:7))),s<1||!b[0])return h?(u=getBase10Exponent(e),b.length=1,s=s-u-1,b[0]=fD(10,(7-s%7)%7),e.e=hD(-s/7)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(0==l?(b.length=g,u=1,g--):(b.length=g+1,u=fD(10,7-l),b[g]=c>0?(f/fD(10,p-c)%fD(10,c)|0)*u:0),h)for(;;){if(0==g){(b[0]+=u)==xD&&(b[0]=1,++e.e);break}if(b[g]+=u,b[g]!=xD)break;b[g--]=0,u=1}for(l=b.length;0===b[--l];)b.pop();if(dD&&(e.e>yD||e.e<-yD))throw Error(mD+getBase10Exponent(e));return e}function subtract$1(e,s){var a,l,c,u,p,m,h,f,g,b,j=e.constructor,N=j.precision;if(!e.s||!s.s)return s.s?s.s=-s.s:s=new j(e),dD?round(s,N):s;if(h=e.d,b=s.d,l=s.e,f=e.e,h=h.slice(),p=f-l){for((g=p<0)?(a=h,p=-p,m=b.length):(a=b,l=f,m=h.length),p>(c=Math.max(Math.ceil(N/7),m)+2)&&(p=c,a.length=1),a.reverse(),c=p;c--;)a.push(0);a.reverse()}else{for((g=(c=h.length)<(m=b.length))&&(m=c),c=0;c<m;c++)if(h[c]!=b[c]){g=h[c]<b[c];break}p=0}for(g&&(a=h,h=b,b=a,s.s=-s.s),m=h.length,c=b.length-m;c>0;--c)h[m++]=0;for(c=b.length;c>p;){if(h[--c]<b[c]){for(u=c;u&&0===h[--u];)h[u]=xD-1;--h[u],h[c]+=xD}h[c]-=b[c]}for(;0===h[--m];)h.pop();for(;0===h[0];h.shift())--l;return h[0]?(s.d=h,s.e=l,dD?round(s,N):s):new j(0)}function toString(e,s,a){var l,c=getBase10Exponent(e),u=digitsToString(e.d),p=u.length;return s?(a&&(l=a-p)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(l):p>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(c<0?"e":"e+")+c):c<0?(u="0."+getZeroString(-c-1)+u,a&&(l=a-p)>0&&(u+=getZeroString(l))):c>=p?(u+=getZeroString(c+1-p),a&&(l=a-c-1)>0&&(u=u+"."+getZeroString(l))):((l=c+1)<p&&(u=u.slice(0,l)+"."+u.slice(l)),a&&(l=a-p)>0&&(c+1===p&&(u+="."),u+=getZeroString(l))),e.s<0?"-"+u:u}function truncate(e,s){if(e.length>s)return e.length=s,!0}function config(e){if(!e||"object"!=typeof e)throw Error(uD+"Object expected");var s,a,l,c=["precision",1,cD,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(s=0;s<c.length;s+=3)if(void 0!==(l=e[a=c[s]])){if(!(hD(l)===l&&l>=c[s+1]&&l<=c[s+2]))throw Error(pD+a+": "+l);this[a]=l}if(void 0!==(l=e[a="LN10"])){if(l!=Math.LN10)throw Error(pD+a+": "+l);this[a]=new this(l)}return this}var wD=function clone(e){var s,a,l;function Decimal2(e){var s=this;if(!(s instanceof Decimal2))return new Decimal2(e);if(s.constructor=Decimal2,e instanceof Decimal2)return s.s=e.s,s.e=e.e,void(s.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(pD+e);if(e>0)s.s=1;else{if(!(e<0))return s.s=0,s.e=0,void(s.d=[0]);e=-e,s.s=-1}return e===~~e&&e<1e7?(s.e=0,void(s.d=[e])):parseDecimal(s,e.toString())}if("string"!=typeof e)throw Error(pD+e);if(45===e.charCodeAt(0)?(e=e.slice(1),s.s=-1):s.s=1,!gD.test(e))throw Error(pD+e);parseDecimal(s,e)}if(Decimal2.prototype=bD,Decimal2.ROUND_UP=0,Decimal2.ROUND_DOWN=1,Decimal2.ROUND_CEIL=2,Decimal2.ROUND_FLOOR=3,Decimal2.ROUND_HALF_UP=4,Decimal2.ROUND_HALF_DOWN=5,Decimal2.ROUND_HALF_EVEN=6,Decimal2.ROUND_HALF_CEIL=7,Decimal2.ROUND_HALF_FLOOR=8,Decimal2.clone=clone,Decimal2.config=Decimal2.set=config,void 0===e&&(e={}),e)for(l=["precision","rounding","toExpNeg","toExpPos","LN10"],s=0;s<l.length;)e.hasOwnProperty(a=l[s++])||(e[a]=this[a]);return Decimal2.config(e),Decimal2}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});lD=new wD(1);const ND=wD;function _toConsumableArray$b(e){return function _arrayWithoutHoles$b(e){if(Array.isArray(e))return _arrayLikeToArray$h(e)}(e)||function _iterableToArray$c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray$h(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$h(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$h(e,s)}(e)||function _nonIterableSpread$b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$h(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var SD=function identity(e){return e},CD={},kD=function isPlaceHolder2(e){return e===CD},_D=function curry02(e){return function _curried(){return 0===arguments.length||1===arguments.length&&kD(arguments.length<=0?void 0:arguments[0])?_curried:e.apply(void 0,arguments)}},PD=function curryN2(e,s){return 1===e?s:_D(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=l.filter(function(e){return e!==CD}).length;return u>=e?s.apply(void 0,l):curryN2(e-u,_D(function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var u=l.map(function(e){return kD(e)?a.shift():e});return s.apply(void 0,_toConsumableArray$b(u).concat(a))}))})},TD=function curry2(e){return PD(e.length,e)},ED=function range(e,s){for(var a=[],l=e;l<s;++l)a[l-e]=l;return a},AD=TD(function(e,s){return Array.isArray(s)?s.map(e):Object.keys(s).map(function(e){return s[e]}).map(e)}),MD=function reverse2(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LD=function memoize(e){var s=null,a=null;return function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return s&&c.every(function(e,a){return e===s[a]})?a:(s=c,a=e.apply(void 0,c))}};const DD={rangeStep:function rangeStep(e,s,a){for(var l=new ND(e),c=0,u=[];l.lt(s)&&c<1e5;)u.push(l.toNumber()),l=l.add(a),c++;return u},getDigitCount:function getDigitCount(e){return 0===e?1:Math.floor(new ND(e).abs().log(10).toNumber())+1},interpolateNumber:TD(function(e,s,a){var l=+e;return l+a*(+s-l)}),uninterpolateNumber:TD(function(e,s,a){var l=s-+e;return(a-e)/(l=l||1/0)}),uninterpolateTruncation:TD(function(e,s,a){var l=s-+e;return l=l||1/0,Math.max(0,Math.min(1,(a-e)/l))})};function _toConsumableArray$a(e){return function _arrayWithoutHoles$a(e){if(Array.isArray(e))return _arrayLikeToArray$g(e)}(e)||function _iterableToArray$b(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_unsupportedIterableToArray$g(e)||function _nonIterableSpread$a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray$8(e,s){return function _arrayWithHoles$9(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$8(e,s){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],l=!0,c=!1,u=void 0;try{for(var p,m=e[Symbol.iterator]();!(l=(p=m.next()).done)&&(a.push(p.value),!s||a.length!==s);l=!0);}catch(pW){c=!0,u=pW}finally{try{l||null==m.return||m.return()}finally{if(c)throw u}}return a}(e,s)||_unsupportedIterableToArray$g(e,s)||function _nonIterableRest$9(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$g(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray$g(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$g(e,s):void 0}}function _arrayLikeToArray$g(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function getValidInterval(e){var s=_slicedToArray$8(e,2),a=s[0],l=s[1],c=a,u=l;return a>l&&(c=l,u=a),[c,u]}function getFormatStep(e,s,a){if(e.lte(0))return new ND(0);var l=DD.getDigitCount(e.toNumber()),c=new ND(10).pow(l),u=e.div(c),p=1!==l?.05:.1,m=new ND(Math.ceil(u.div(p).toNumber())).add(a).mul(p).mul(c);return s?m:new ND(Math.ceil(m))}function getTickOfSingleValue(e,s,a){var l=1,c=new ND(e);if(!c.isint()&&a){var u=Math.abs(e);u<1?(l=new ND(10).pow(DD.getDigitCount(e)-1),c=new ND(Math.floor(c.div(l).toNumber())).mul(l)):u>1&&(c=new ND(Math.floor(e)))}else 0===e?c=new ND(Math.floor((s-1)/2)):a||(c=new ND(Math.floor(e)));var p=Math.floor((s-1)/2),m=function compose(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];if(!s.length)return SD;var l=s.reverse(),c=l[0],u=l.slice(1);return function(){return u.reduce(function(e,s){return s(e)},c.apply(void 0,arguments))}}(AD(function(e){return c.add(new ND(e-p).mul(l)).toNumber()}),ED);return m(0,s)}function calculateStep(e,s,a,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((s-e)/(a-1)))return{step:new ND(0),tickMin:new ND(0),tickMax:new ND(0)};var u,p=getFormatStep(new ND(s).sub(e).div(a-1),l,c);u=e<=0&&s>=0?new ND(0):(u=new ND(e).add(s).div(2)).sub(new ND(u).mod(p));var m=Math.ceil(u.sub(e).div(p).toNumber()),h=Math.ceil(new ND(s).sub(u).div(p).toNumber()),f=m+h+1;return f>a?calculateStep(e,s,a,l,c+1):(f<a&&(h=s>0?h+(a-f):h,m=s>0?m:m+(a-f)),{step:p,tickMin:u.sub(new ND(m).mul(p)),tickMax:u.add(new ND(h).mul(p))})}var OD=LD(function getNiceTickValuesFn(e){var s=_slicedToArray$8(e,2),a=s[0],l=s[1],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=Math.max(c,2),m=_slicedToArray$8(getValidInterval([a,l]),2),h=m[0],f=m[1];if(h===-1/0||f===1/0){var g=f===1/0?[h].concat(_toConsumableArray$a(ED(0,c-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(ED(0,c-1).map(function(){return-1/0})),[f]);return a>l?MD(g):g}if(h===f)return getTickOfSingleValue(h,c,u);var b=calculateStep(h,f,p,u),j=b.step,N=b.tickMin,k=b.tickMax,_=DD.rangeStep(N,k.add(new ND(.1).mul(j)),j);return a>l?MD(_):_}),ID=LD(function getTickValuesFixedDomainFn(e,s){var a=_slicedToArray$8(e,2),l=a[0],c=a[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=_slicedToArray$8(getValidInterval([l,c]),2),m=p[0],h=p[1];if(m===-1/0||h===1/0)return[l,c];if(m===h)return[m];var f=Math.max(s,2),g=getFormatStep(new ND(h).sub(m).div(f-1),u,0),b=[].concat(_toConsumableArray$a(DD.rangeStep(new ND(m),new ND(h).sub(new ND(.99).mul(g)),g)),[h]);return l>c?MD(b):b});function invariant(e,s){throw new Error("Invariant failed")}var $D=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$A(e){return(_typeof$A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$p.apply(this,arguments)}function _slicedToArray$7(e,s){return function _arrayWithHoles$8(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$7(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$f(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$f(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$f(e,s)}(e,s)||function _nonIterableRest$8(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$f(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _objectWithoutProperties$e(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$e(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _createClass$h(e,s,a){return s&&function _defineProperties$h(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$z(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$e(e,s,a){return s=_getPrototypeOf$f(s),function _possibleConstructorReturn$f(e,s){if(s&&("object"===_typeof$A(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$f()?Reflect.construct(s,a||[],_getPrototypeOf$f(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$f=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$f(e){return(_getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$f(e,s){return(_setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$z(e,s,a){return(s=_toPropertyKey$z(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$z(e){var s=function _toPrimitive$z(e,s){if("object"!=_typeof$A(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$A(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$A(s)?s:s+""}var RD=function(){function ErrorBar2(){return function _classCallCheck$h(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,ErrorBar2),_callSuper$e(this,ErrorBar2,arguments)}return function _inherits$f(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$f(e,s)}(ErrorBar2,ae.Component),_createClass$h(ErrorBar2,[{key:"render",value:function render(){var e=this.props,s=e.offset,a=e.layout,l=e.width,c=e.dataKey,u=e.data,p=e.dataPointFormatter,m=e.xAxis,h=e.yAxis,f=_objectWithoutProperties$e(e,$D),g=Zk(f,!1);"x"===this.props.direction&&"number"!==m.type&&invariant();var b=u.map(function(e){var u=p(e,c),f=u.x,b=u.y,j=u.value,N=u.errorVal;if(!N)return null;var k,_,T=[];if(Array.isArray(N)){var E=_slicedToArray$7(N,2);k=E[0],_=E[1]}else k=_=N;if("vertical"===a){var A=m.scale,L=b+s,O=L+l,I=L-l,$=A(j-k),z=A(j+_);T.push({x1:z,y1:O,x2:z,y2:I}),T.push({x1:$,y1:L,x2:z,y2:L}),T.push({x1:$,y1:O,x2:$,y2:I})}else if("horizontal"===a){var U=h.scale,H=f+s,q=H-l,Z=H+l,Y=U(j-k),X=U(j+_);T.push({x1:q,y1:X,x2:Z,y2:X}),T.push({x1:H,y1:Y,x2:H,y2:X}),T.push({x1:q,y1:Y,x2:Z,y2:Y})}return ae.createElement(g_,_extends$p({className:"recharts-errorBar",key:"bar-".concat(T.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},g),T.map(function(e){return ae.createElement("line",_extends$p({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return ae.createElement(g_,{className:"recharts-errorBars"},b)}}])}();function _typeof$z(e){return(_typeof$z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$v(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$v(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$v(Object(a),!0).forEach(function(s){_defineProperty$y(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$v(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$y(e,s,a){return(s=function _toPropertyKey$y(e){var s=function _toPrimitive$y(e,s){if("object"!=_typeof$z(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$z(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$z(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}_defineProperty$z(RD,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),_defineProperty$z(RD,"displayName","ErrorBar");var FD=function getLegendProps2(e){var s=e.children,a=e.formattedGraphicalItems,l=e.legendWidth,c=e.legendContent,u=findChildByType(s,_A);if(!u)return null;var p,m=_A.defaultProps,h=void 0!==m?_objectSpread$v(_objectSpread$v({},m),u.props):{};return p=u.props&&u.props.payload?u.props&&u.props.payload:"children"===c?(a||[]).reduce(function(e,s){var a=s.item,l=s.props,c=l.sectors||l.data||[];return e.concat(c.map(function(e){return{type:u.props.iconType||a.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(a||[]).map(function(e){var s=e.item,a=s.type.defaultProps,l=void 0!==a?_objectSpread$v(_objectSpread$v({},a),s.props):{},c=l.dataKey,u=l.name,p=l.legendType;return{inactive:l.hide,dataKey:c,type:h.iconType||p||"square",color:BD(s),value:u||c,payload:l}}),_objectSpread$v(_objectSpread$v(_objectSpread$v({},h),_A.getWithHeight(u,l)),{},{payload:p,item:u})};function _typeof$y(e){return(_typeof$y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray$9(e){return function _arrayWithoutHoles$9(e){if(Array.isArray(e))return _arrayLikeToArray$e(e)}(e)||function _iterableToArray$a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$e(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$e(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$e(e,s)}(e)||function _nonIterableSpread$9(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$e(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys$u(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$u(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$u(Object(a),!0).forEach(function(s){_defineProperty$x(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$u(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$x(e,s,a){return(s=function _toPropertyKey$x(e){var s=function _toPrimitive$x(e,s){if("object"!=_typeof$y(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$y(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$y(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function getValueByDataKey(e,s,a){return sk(e)||sk(s)?a:Sk(s)?tk(e,s,a):lk(s)?s(e):a}function getDomainOfDataByKey(e,s,a,l){var c=sD(e,function(e){return getValueByDataKey(e,s)});if("number"===a){var u=c.filter(function(e){return Nk(e)||parseFloat(e)});return u.length?[JL(u),KL(u)]:[1/0,-1/0]}return(l?c.filter(function(e){return!sk(e)}):c).map(function(e){return Sk(e)||e instanceof Date?e:""})}var BD=function getMainColorOfGraphicItem2(e){var s,a,l=e.type.displayName,c=null!==(s=e.type)&&void 0!==s&&s.defaultProps?_objectSpread$u(_objectSpread$u({},e.type.defaultProps),e.props):e.props,u=c.stroke,p=c.fill;switch(l){case"Line":a=u;break;case"Area":case"Radar":a=u&&"none"!==u?u:p;break;default:a=p}return a},zD=function getDomainOfErrorBars2(e,s,a,l,c){var u=findAllByType(s.props.children,RD).filter(function(e){return function isErrorBarRelevantForAxis2(e,s,a){return!!sk(s)||("horizontal"===e?"yAxis"===s:"vertical"===e||"x"===a?"xAxis"===s:"y"!==a||"yAxis"===s)}(l,c,e.props.direction)});if(u&&u.length){var p=u.map(function(e){return e.props.dataKey});return e.reduce(function(e,s){var l=getValueByDataKey(s,a);if(sk(l))return e;var c=Array.isArray(l)?[JL(l),KL(l)]:[l,l],u=p.reduce(function(e,a){var l=getValueByDataKey(s,a,0),u=c[0]-Math.abs(Array.isArray(l)?l[0]:l),p=c[1]+Math.abs(Array.isArray(l)?l[1]:l);return[Math.min(u,e[0]),Math.max(p,e[1])]},[1/0,-1/0]);return[Math.min(u[0],e[0]),Math.max(u[1],e[1])]},[1/0,-1/0])}return null},VD=function getDomainOfItemsWithSameAxis2(e,s,a,l,c){var u=s.map(function(s){var u=s.props.dataKey;return"number"===a&&u&&zD(e,s,u,l)||getDomainOfDataByKey(e,u,a,c)});if("number"===a)return u.reduce(function(e,s){return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);var p={};return u.reduce(function(e,s){for(var a=0,l=s.length;a<l;a++)p[s[a]]||(p[s[a]]=!0,e.push(s[a]));return e},[])},UD=function isCategoricalAxis2(e,s){return"horizontal"===e&&"xAxis"===s||"vertical"===e&&"yAxis"===s||"centric"===e&&"angleAxis"===s||"radial"===e&&"radiusAxis"===s},HD=function getCoordinatesOfGrid2(e,s,a,l){if(l)return e.map(function(e){return e.coordinate});var c,u,p=e.map(function(e){return e.coordinate===s&&(c=!0),e.coordinate===a&&(u=!0),e.coordinate});return c||p.push(s),u||p.push(a),p},qD=function getTicksOfAxis2(e,s,a){if(!e)return null;var l=e.scale,c=e.duplicateDomain,u=e.type,p=e.range,m="scaleBand"===e.realScaleType?l.bandwidth()/2:2,h=(s||a)&&"category"===u&&l.bandwidth?l.bandwidth()/m:0;return h="angleAxis"===e.axisType&&(null==p?void 0:p.length)>=2?2*jk(p[0]-p[1])*h:h,s&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var s=c?c.indexOf(e):e;return{coordinate:l(s)+h,value:e,offset:h}}).filter(function(e){return!yk(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,s){return{coordinate:l(e)+h,value:e,index:s,offset:h}}):l.ticks&&!a?l.ticks(e.tickCount).map(function(e){return{coordinate:l(e)+h,value:e,offset:h}}):l.domain().map(function(e,s){return{coordinate:l(e)+h,value:c?c[e]:e,index:s,offset:h}})},WD=new WeakMap,ZD=function combineEventHandlers2(e,s){if("function"!=typeof s)return e;WD.has(e)||WD.set(e,new WeakMap);var a=WD.get(e);if(a.has(s))return a.get(s);var l=function combineHandler2(){e.apply(void 0,arguments),s.apply(void 0,arguments)};return a.set(s,l),l},KD=function parseScale2(e,s,a){var l=e.scale,c=e.type,u=e.layout,p=e.axisType;if("auto"===l)return"radial"===u&&"radiusAxis"===p?{scale:band(),realScaleType:"band"}:"radial"===u&&"angleAxis"===p?{scale:linear(),realScaleType:"linear"}:"category"===c&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?{scale:point(),realScaleType:"point"}:"category"===c?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(ok(l)){var m="scale".concat(v_(l));return{scale:(zL[m]||point)(),realScaleType:zL[m]?m:"point"}}return lk(l)?{scale:l}:{scale:point(),realScaleType:"point"}},GD=1e-4,YD=function checkDomainOfScale2(e){var s=e.domain();if(s&&!(s.length<=2)){var a=s.length,l=e.range(),c=Math.min(l[0],l[1])-GD,u=Math.max(l[0],l[1])+GD,p=e(s[0]),m=e(s[a-1]);(p<c||p>u||m<c||m>u)&&e.domain([s[0],s[a-1]])}},QD={sign:function offsetSign2(e){var s=e.length;if(!(s<=0))for(var a=0,l=e[0].length;a<l;++a)for(var c=0,u=0,p=0;p<s;++p){var m=yk(e[p][a][1])?e[p][a][0]:e[p][a][1];m>=0?(e[p][a][0]=c,e[p][a][1]=c+m,c=e[p][a][1]):(e[p][a][0]=u,e[p][a][1]=u+m,u=e[p][a][1])}},expand:function stackOffsetExpand(e,s){if((l=e.length)>0){for(var a,l,c,u=0,p=e[0].length;u<p;++u){for(c=a=0;a<l;++a)c+=e[a][u][1]||0;if(c)for(a=0;a<l;++a)e[a][u][1]/=c}stackOffsetNone(e,s)}},none:stackOffsetNone,silhouette:function stackOffsetSilhouette(e,s){if((a=e.length)>0){for(var a,l=0,c=e[s[0]],u=c.length;l<u;++l){for(var p=0,m=0;p<a;++p)m+=e[p][l][1]||0;c[l][1]+=c[l][0]=-m/2}stackOffsetNone(e,s)}},wiggle:function stackOffsetWiggle(e,s){if((c=e.length)>0&&(l=(a=e[s[0]]).length)>0){for(var a,l,c,u=0,p=1;p<l;++p){for(var m=0,h=0,f=0;m<c;++m){for(var g=e[s[m]],b=g[p][1]||0,j=(b-(g[p-1][1]||0))/2,N=0;N<m;++N){var k=e[s[N]];j+=(k[p][1]||0)-(k[p-1][1]||0)}h+=b,f+=j*b}a[p-1][1]+=a[p-1][0]=u,h&&(u-=f/h)}a[p-1][1]+=a[p-1][0]=u,stackOffsetNone(e,s)}},positive:function offsetPositive2(e){var s=e.length;if(!(s<=0))for(var a=0,l=e[0].length;a<l;++a)for(var c=0,u=0;u<s;++u){var p=yk(e[u][a][1])?e[u][a][0]:e[u][a][1];p>=0?(e[u][a][0]=c,e[u][a][1]=c+p,c=e[u][a][1]):(e[u][a][0]=0,e[u][a][1]=0)}}},XD=function getStackedData2(e,s,a){var l=s.map(function(e){return e.props.dataKey}),c=QD[a],u=function shapeStack(){var e=constant$1([]),s=stackOrderNone,a=stackOffsetNone,l=stackValue;function stack(c){var u,p,m=Array.from(e.apply(this,arguments),stackSeries),h=m.length,f=-1;for(const e of c)for(u=0,++f;u<h;++u)(m[u][f]=[0,+l(e,m[u].key,f,c)]).data=e;for(u=0,p=array(s(m));u<h;++u)m[p[u]].index=u;return a(m,p),m}return stack.keys=function(s){return arguments.length?(e="function"==typeof s?s:constant$1(Array.from(s)),stack):e},stack.value=function(e){return arguments.length?(l="function"==typeof e?e:constant$1(+e),stack):l},stack.order=function(e){return arguments.length?(s=null==e?stackOrderNone:"function"==typeof e?e:constant$1(Array.from(e)),stack):s},stack.offset=function(e){return arguments.length?(a=null==e?stackOffsetNone:e,stack):a},stack}().keys(l).value(function(e,s){return+getValueByDataKey(e,s,0)}).order(stackOrderNone).offset(c);return u(e)},JD=function getTicksOfScale2(e,s){var a=s.realScaleType,l=s.type,c=s.tickCount,u=s.originalDomain,p=s.allowDecimals,m=a||s.scale;if("auto"!==m&&"linear"!==m)return null;if(c&&"number"===l&&u&&("auto"===u[0]||"auto"===u[1])){var h=e.domain();if(!h.length)return null;var f=OD(h,c,p);return e.domain([JL(f),KL(f)]),{niceTicks:f}}if(c&&"number"===l){var g=e.domain();return{niceTicks:ID(g,c,p)}}return null};function getCateCoordinateOfLine(e){var s=e.axis,a=e.ticks,l=e.bandSize,c=e.entry,u=e.index,p=e.dataKey;if("category"===s.type){if(!s.allowDuplicatedCategory&&s.dataKey&&!sk(c[s.dataKey])){var m=findEntryInArray(a,"value",c[s.dataKey]);if(m)return m.coordinate+l/2}return a[u]?a[u].coordinate+l/2:null}var h=getValueByDataKey(c,sk(p)?s.dataKey:p);return sk(h)?null:s.scale(h)}var eO=function getCateCoordinateOfBar2(e){var s=e.axis,a=e.ticks,l=e.offset,c=e.bandSize,u=e.entry,p=e.index;if("category"===s.type)return a[p]?a[p].coordinate+l:null;var m=getValueByDataKey(u,s.dataKey,s.domain[p]);return sk(m)?null:s.scale(m)-c/2+l},tO=function getDomainOfStackGroups2(e,s,a){return Object.keys(e).reduce(function(l,c){var u=e[c].stackedData.reduce(function(e,l){var c=function getDomainOfSingle2(e){return e.reduce(function(e,s){return[JL(s.concat([e[0]]).filter(Nk)),KL(s.concat([e[1]]).filter(Nk))]},[1/0,-1/0])}(l.slice(s,a+1));return[Math.min(e[0],c[0]),Math.max(e[1],c[1])]},[1/0,-1/0]);return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},rO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sO=function parseSpecifiedDomain2(e,s,a){if(lk(e))return e(s,a);if(!Array.isArray(e))return s;var l=[];if(Nk(e[0]))l[0]=a?e[0]:Math.min(e[0],s[0]);else if(rO.test(e[0])){var c=+rO.exec(e[0])[1];l[0]=s[0]-c}else lk(e[0])?l[0]=e[0](s[0]):l[0]=s[0];if(Nk(e[1]))l[1]=a?e[1]:Math.max(e[1],s[1]);else if(nO.test(e[1])){var u=+nO.exec(e[1])[1];l[1]=s[1]+u}else lk(e[1])?l[1]=e[1](s[1]):l[1]=s[1];return l},aO=function getBandSizeOfAxis2(e,s,a){if(e&&e.scale&&e.scale.bandwidth){var l=e.scale.bandwidth();if(!a||l>0)return l}if(e&&s&&s.length>=2){for(var c=PA(s,function(e){return e.coordinate}),u=1/0,p=1,m=c.length;p<m;p++){var h=c[p],f=c[p-1];u=Math.min((h.coordinate||0)-(f.coordinate||0),u)}return u===1/0?0:u}return a?void 0:0},iO=function parseDomainOfCategoryAxis2(e,s,a){return e&&e.length?oD(e,tk(a,"type.defaultProps.domain"))?s:e:s},oO=function getTooltipItem2(e,s){var a=e.type.defaultProps?_objectSpread$u(_objectSpread$u({},e.type.defaultProps),e.props):e.props,l=a.dataKey,c=a.name,u=a.unit,p=a.formatter,m=a.tooltipType,h=a.chartType,f=a.hide;return _objectSpread$u(_objectSpread$u({},Zk(e,!1)),{},{dataKey:l,unit:u,formatter:p,name:c||l,color:BD(e),value:getValueByDataKey(s,l),type:m,payload:s,chartType:h,hide:f})};function _typeof$x(e){return(_typeof$x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$t(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$t(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$t(Object(a),!0).forEach(function(s){_defineProperty$w(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$t(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$w(e,s,a){return(s=function _toPropertyKey$w(e){var s=function _toPrimitive$w(e,s){if("object"!=_typeof$x(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$x(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$x(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _slicedToArray$6(e,s){return function _arrayWithHoles$7(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$6(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$d(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$d(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$d(e,s)}(e,s)||function _nonIterableRest$7(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$d(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var lO=Math.PI/180,cO=function radianToDegree2(e){return 180*e/Math.PI},dO=function polarToCartesian2(e,s,a,l){return{x:e+Math.cos(-lO*l)*a,y:s+Math.sin(-lO*l)*a}},uO=function getMaxRadius2(e,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},pO=function getAngleOfPoint2(e,s){var a=e.x,l=e.y,c=s.cx,u=s.cy,p=function distanceBetweenPoints2(e,s){var a=e.x,l=e.y,c=s.x,u=s.y;return Math.sqrt(Math.pow(a-c,2)+Math.pow(l-u,2))}({x:a,y:l},{x:c,y:u});if(p<=0)return{radius:p};var m=(a-c)/p,h=Math.acos(m);return l>u&&(h=2*Math.PI-h),{radius:p,angle:cO(h),angleInRadian:h}},mO=function reverseFormatAngleOfSetor2(e,s){var a=s.startAngle,l=s.endAngle,c=Math.floor(a/360),u=Math.floor(l/360);return e+360*Math.min(c,u)},hO=function inRangeOfSector2(e,s){var a=e.x,l=e.y,c=pO({x:a,y:l},s),u=c.radius,p=c.angle,m=s.innerRadius,h=s.outerRadius;if(u<m||u>h)return!1;if(0===u)return!0;var f,g=function formatAngleOfSector2(e){var s=e.startAngle,a=e.endAngle,l=Math.floor(s/360),c=Math.floor(a/360),u=Math.min(l,c);return{startAngle:s-360*u,endAngle:a-360*u}}(s),b=g.startAngle,j=g.endAngle,N=p;if(b<=j){for(;N>j;)N-=360;for(;N<b;)N+=360;f=N>=b&&N<=j}else{for(;N>b;)N-=360;for(;N<j;)N+=360;f=N>=j&&N<=b}return f?_objectSpread$t(_objectSpread$t({},s),{},{radius:u,angle:mO(N,s)}):null},fO=function getTickClassName2(e){return re.isValidElement(e)||lk(e)||"boolean"==typeof e?"":e.className};function _typeof$w(e){return(_typeof$w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gO=["offset"];function _toConsumableArray$8(e){return function _arrayWithoutHoles$8(e){if(Array.isArray(e))return _arrayLikeToArray$c(e)}(e)||function _iterableToArray$9(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$c(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$c(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$c(e,s)}(e)||function _nonIterableSpread$8(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$c(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _objectWithoutProperties$d(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$d(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ownKeys$s(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$s(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$s(Object(a),!0).forEach(function(s){_defineProperty$v(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$s(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$v(e,s,a){return(s=function _toPropertyKey$v(e){var s=function _toPrimitive$v(e,s){if("object"!=_typeof$w(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$w(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$w(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$o.apply(this,arguments)}var xO=function renderRadialLabel2(e,s,a){var l,c,u=e.position,p=e.viewBox,m=e.offset,h=e.className,f=p,g=f.cx,b=f.cy,j=f.innerRadius,N=f.outerRadius,k=f.startAngle,_=f.endAngle,T=f.clockWise,E=(j+N)/2,A=function getDeltaAngle(e,s){return jk(s-e)*Math.min(Math.abs(s-e),360)}(k,_),L=A>=0?1:-1;"insideStart"===u?(l=k+L*m,c=T):"insideEnd"===u?(l=_-L*m,c=!T):"end"===u&&(l=_+L*m,c=T),c=A<=0?c:!c;var O=dO(g,b,E,l),I=dO(g,b,E,l+359*(c?1:-1)),$="M".concat(O.x,",").concat(O.y,"\n    A").concat(E,",").concat(E,",0,1,").concat(c?0:1,",\n    ").concat(I.x,",").concat(I.y),z=sk(e.id)?kk("recharts-radial-line-"):e.id;return ae.createElement("text",_extends$o({},a,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",h)}),ae.createElement("defs",null,ae.createElement("path",{id:z,d:$})),ae.createElement("textPath",{xlinkHref:"#".concat(z)},s))};function Label(e){var s,a=e.offset,l=_objectSpread$s({offset:void 0===a?5:a},_objectWithoutProperties$d(e,gO)),c=l.viewBox,u=l.position,p=l.value,m=l.children,h=l.content,f=l.className,g=void 0===f?"":f,b=l.textBreakAll;if(!c||sk(p)&&sk(m)&&!re.isValidElement(h)&&!lk(h))return null;if(re.isValidElement(h))return re.cloneElement(h,l);if(lk(h)){if(s=re.createElement(h,l),re.isValidElement(s))return s}else s=function getLabel2(e){var s=e.value,a=e.formatter,l=sk(e.children)?s:e.children;return lk(a)?a(l):l}(l);var j=function isPolar2(e){return"cx"in e&&Nk(e.cx)}(c),N=Zk(l,!0);if(j&&("insideStart"===u||"insideEnd"===u||"end"===u))return xO(l,s,N);var k=j?function getAttrsOfPolarLabel2(e){var s=e.viewBox,a=e.offset,l=e.position,c=s,u=c.cx,p=c.cy,m=c.innerRadius,h=c.outerRadius,f=(c.startAngle+c.endAngle)/2;if("outside"===l){var g=dO(u,p,h+a,f),b=g.x;return{x:b,y:g.y,textAnchor:b>=u?"start":"end",verticalAnchor:"middle"}}if("center"===l)return{x:u,y:p,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===l)return{x:u,y:p,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===l)return{x:u,y:p,textAnchor:"middle",verticalAnchor:"end"};var j=dO(u,p,(m+h)/2,f);return{x:j.x,y:j.y,textAnchor:"middle",verticalAnchor:"middle"}}(l):function getAttrsOfCartesianLabel2(e){var s=e.viewBox,a=e.parentViewBox,l=e.offset,c=e.position,u=s,p=u.x,m=u.y,h=u.width,f=u.height,g=f>=0?1:-1,b=g*l,j=g>0?"end":"start",N=g>0?"start":"end",k=h>=0?1:-1,_=k*l,T=k>0?"end":"start",E=k>0?"start":"end";if("top"===c)return _objectSpread$s(_objectSpread$s({},{x:p+h/2,y:m-g*l,textAnchor:"middle",verticalAnchor:j}),a?{height:Math.max(m-a.y,0),width:h}:{});if("bottom"===c)return _objectSpread$s(_objectSpread$s({},{x:p+h/2,y:m+f+b,textAnchor:"middle",verticalAnchor:N}),a?{height:Math.max(a.y+a.height-(m+f),0),width:h}:{});if("left"===c){var A={x:p-_,y:m+f/2,textAnchor:T,verticalAnchor:"middle"};return _objectSpread$s(_objectSpread$s({},A),a?{width:Math.max(A.x-a.x,0),height:f}:{})}if("right"===c){var L={x:p+h+_,y:m+f/2,textAnchor:E,verticalAnchor:"middle"};return _objectSpread$s(_objectSpread$s({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:f}:{})}var O=a?{width:h,height:f}:{};return"insideLeft"===c?_objectSpread$s({x:p+_,y:m+f/2,textAnchor:E,verticalAnchor:"middle"},O):"insideRight"===c?_objectSpread$s({x:p+h-_,y:m+f/2,textAnchor:T,verticalAnchor:"middle"},O):"insideTop"===c?_objectSpread$s({x:p+h/2,y:m+b,textAnchor:"middle",verticalAnchor:N},O):"insideBottom"===c?_objectSpread$s({x:p+h/2,y:m+f-b,textAnchor:"middle",verticalAnchor:j},O):"insideTopLeft"===c?_objectSpread$s({x:p+_,y:m+b,textAnchor:E,verticalAnchor:N},O):"insideTopRight"===c?_objectSpread$s({x:p+h-_,y:m+b,textAnchor:T,verticalAnchor:N},O):"insideBottomLeft"===c?_objectSpread$s({x:p+_,y:m+f-b,textAnchor:E,verticalAnchor:j},O):"insideBottomRight"===c?_objectSpread$s({x:p+h-_,y:m+f-b,textAnchor:T,verticalAnchor:j},O):ck(c)&&(Nk(c.x)||wk(c.x))&&(Nk(c.y)||wk(c.y))?_objectSpread$s({x:p+_k(c.x,h),y:m+_k(c.y,f),textAnchor:"end",verticalAnchor:"end"},O):_objectSpread$s({x:p+h/2,y:m+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)}(l);return ae.createElement(xM,_extends$o({className:clsx("recharts-label",g)},N,k,{breakAll:b}),s)}Label.displayName="Label";var vO,yO,bO=function parseViewBox2(e){var s=e.cx,a=e.cy,l=e.angle,c=e.startAngle,u=e.endAngle,p=e.r,m=e.radius,h=e.innerRadius,f=e.outerRadius,g=e.x,b=e.y,j=e.top,N=e.left,k=e.width,_=e.height,T=e.clockWise,E=e.labelViewBox;if(E)return E;if(Nk(k)&&Nk(_)){if(Nk(g)&&Nk(b))return{x:g,y:b,width:k,height:_};if(Nk(j)&&Nk(N))return{x:j,y:N,width:k,height:_}}return Nk(g)&&Nk(b)?{x:g,y:b,width:0,height:0}:Nk(s)&&Nk(a)?{cx:s,cy:a,startAngle:c||l||0,endAngle:u||l||0,innerRadius:h||0,outerRadius:f||m||p||0,clockWise:T}:e.viewBox?e.viewBox:{}};Label.parseViewBox=bO,Label.renderCallByParent=function renderCallByParent(e,s){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&a&&!e.label)return null;var l=e.children,c=bO(e),u=findAllByType(l,Label).map(function(e,a){return re.cloneElement(e,{viewBox:s||c,key:"label-".concat(a)})});if(!a)return u;var p=function parseLabel2(e,s){return e?!0===e?ae.createElement(Label,{key:"label-implicit",viewBox:s}):Sk(e)?ae.createElement(Label,{key:"label-implicit",viewBox:s,value:e}):re.isValidElement(e)?e.type===Label?re.cloneElement(e,{key:"label-implicit",viewBox:s}):ae.createElement(Label,{key:"label-implicit",content:e,viewBox:s}):lk(e)?ae.createElement(Label,{key:"label-implicit",content:e,viewBox:s}):ck(e)?ae.createElement(Label,_extends$o({viewBox:s},e,{key:"label-implicit"})):null:null}(e.label,s||c);return[p].concat(_toConsumableArray$8(u))};const jO=getDefaultExportFromCjs$2(function requireLast(){return yO?vO:(yO=1,vO=function last2(e){var s=null==e?0:e.length;return s?e[s-1]:void 0})}());function _typeof$v(e){return(_typeof$v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wO=["valueAccessor"],NO=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(e){return function _arrayWithoutHoles$7(e){if(Array.isArray(e))return _arrayLikeToArray$b(e)}(e)||function _iterableToArray$8(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$b(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$b(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$b(e,s)}(e)||function _nonIterableSpread$7(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$b(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$n.apply(this,arguments)}function ownKeys$r(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$r(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$r(Object(a),!0).forEach(function(s){_defineProperty$u(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$r(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$u(e,s,a){return(s=function _toPropertyKey$u(e){var s=function _toPrimitive$u(e,s){if("object"!=_typeof$v(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$v(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$v(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _objectWithoutProperties$c(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$c(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var SO=function defaultAccessor2(e){return Array.isArray(e.value)?jO(e.value):e.value};function LabelList(e){var s=e.valueAccessor,a=void 0===s?SO:s,l=_objectWithoutProperties$c(e,wO),c=l.data,u=l.dataKey,p=l.clockWise,m=l.id,h=l.textBreakAll,f=_objectWithoutProperties$c(l,NO);return c&&c.length?ae.createElement(g_,{className:"recharts-label-list"},c.map(function(e,s){var l=sk(u)?a(e,s):getValueByDataKey(e&&e.payload,u),c=sk(m)?{}:{id:"".concat(m,"-").concat(s)};return ae.createElement(Label,_extends$n({},Zk(e,!0),f,c,{parentViewBox:e.parentViewBox,value:l,textBreakAll:h,viewBox:Label.parseViewBox(sk(p)?e:_objectSpread$r(_objectSpread$r({},e),{},{clockWise:p})),key:"label-".concat(s),index:s}))})):null}function _typeof$u(e){return(_typeof$u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$m.apply(this,arguments)}function ownKeys$q(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$q(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$q(Object(a),!0).forEach(function(s){_defineProperty$t(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$q(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$t(e,s,a){return(s=function _toPropertyKey$t(e){var s=function _toPrimitive$t(e,s){if("object"!=_typeof$u(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$u(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$u(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}LabelList.displayName="LabelList",LabelList.renderCallByParent=function renderCallByParent2(e,s){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&a&&!e.label)return null;var l=findAllByType(e.children,LabelList).map(function(e,a){return re.cloneElement(e,{data:s,key:"labelList-".concat(a)})});return a?[function parseLabelList(e,s){return e?!0===e?ae.createElement(LabelList,{key:"labelList-implicit",data:s}):ae.isValidElement(e)||lk(e)?ae.createElement(LabelList,{key:"labelList-implicit",data:s,content:e}):ck(e)?ae.createElement(LabelList,_extends$n({data:s},e,{key:"labelList-implicit"})):null:null}(e.label,s)].concat(_toConsumableArray$7(l)):l};var CO=function getTangentCircle2(e){var s=e.cx,a=e.cy,l=e.radius,c=e.angle,u=e.sign,p=e.isExternal,m=e.cornerRadius,h=e.cornerIsExternal,f=m*(p?1:-1)+l,g=Math.asin(m/f)/lO,b=h?c:c+u*g,j=h?c-u*g:c;return{center:dO(s,a,f,b),circleTangency:dO(s,a,l,b),lineTangency:dO(s,a,f*Math.cos(g*lO),j),theta:g}},kO=function getSectorPath2(e){var s=e.cx,a=e.cy,l=e.innerRadius,c=e.outerRadius,u=e.startAngle,p=function getDeltaAngle3(e,s){return jk(s-e)*Math.min(Math.abs(s-e),359.999)}(u,e.endAngle),m=u+p,h=dO(s,a,c,u),f=dO(s,a,c,m),g="M ".concat(h.x,",").concat(h.y,"\n    A ").concat(c,",").concat(c,",0,\n    ").concat(+(Math.abs(p)>180),",").concat(+(u>m),",\n    ").concat(f.x,",").concat(f.y,"\n  ");if(l>0){var b=dO(s,a,l,u),j=dO(s,a,l,m);g+="L ".concat(j.x,",").concat(j.y,"\n            A ").concat(l,",").concat(l,",0,\n            ").concat(+(Math.abs(p)>180),",").concat(+(u<=m),",\n            ").concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(s,",").concat(a," Z");return g},_O={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PO=function Sector2(e){var s=_objectSpread$q(_objectSpread$q({},_O),e),a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,p=s.cornerRadius,m=s.forceCornerRadius,h=s.cornerIsExternal,f=s.startAngle,g=s.endAngle,b=s.className;if(u<c||f===g)return null;var j,N=clsx("recharts-sector",b),k=u-c,_=_k(p,k,0,!0);return j=_>0&&Math.abs(f-g)<360?function getSectorWithCorner2(e){var s=e.cx,a=e.cy,l=e.innerRadius,c=e.outerRadius,u=e.cornerRadius,p=e.forceCornerRadius,m=e.cornerIsExternal,h=e.startAngle,f=e.endAngle,g=jk(f-h),b=CO({cx:s,cy:a,radius:c,angle:h,sign:g,cornerRadius:u,cornerIsExternal:m}),j=b.circleTangency,N=b.lineTangency,k=b.theta,_=CO({cx:s,cy:a,radius:c,angle:f,sign:-g,cornerRadius:u,cornerIsExternal:m}),T=_.circleTangency,E=_.lineTangency,A=_.theta,L=m?Math.abs(h-f):Math.abs(h-f)-k-A;if(L<0)return p?"M ".concat(N.x,",").concat(N.y,"\n        a").concat(u,",").concat(u,",0,0,1,").concat(2*u,",0\n        a").concat(u,",").concat(u,",0,0,1,").concat(2*-u,",0\n      "):kO({cx:s,cy:a,innerRadius:l,outerRadius:c,startAngle:h,endAngle:f});var O="M ".concat(N.x,",").concat(N.y,"\n    A").concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,"\n    A").concat(c,",").concat(c,",0,").concat(+(L>180),",").concat(+(g<0),",").concat(T.x,",").concat(T.y,"\n    A").concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(E.x,",").concat(E.y,"\n  ");if(l>0){var I=CO({cx:s,cy:a,radius:l,angle:h,sign:g,isExternal:!0,cornerRadius:u,cornerIsExternal:m}),$=I.circleTangency,z=I.lineTangency,U=I.theta,H=CO({cx:s,cy:a,radius:l,angle:f,sign:-g,isExternal:!0,cornerRadius:u,cornerIsExternal:m}),q=H.circleTangency,Z=H.lineTangency,Y=H.theta,X=m?Math.abs(h-f):Math.abs(h-f)-U-Y;if(X<0&&0===u)return"".concat(O,"L").concat(s,",").concat(a,"Z");O+="L".concat(Z.x,",").concat(Z.y,"\n      A").concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(q.x,",").concat(q.y,"\n      A").concat(l,",").concat(l,",0,").concat(+(X>180),",").concat(+(g>0),",").concat($.x,",").concat($.y,"\n      A").concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(z.x,",").concat(z.y,"Z")}else O+="L".concat(s,",").concat(a,"Z");return O}({cx:a,cy:l,innerRadius:c,outerRadius:u,cornerRadius:Math.min(_,k/2),forceCornerRadius:m,cornerIsExternal:h,startAngle:f,endAngle:g}):kO({cx:a,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:g}),ae.createElement("path",_extends$m({},Zk(s,!0),{className:N,d:j,role:"img"}))};function _typeof$t(e){return(_typeof$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$l.apply(this,arguments)}function ownKeys$p(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$p(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$p(Object(a),!0).forEach(function(s){_defineProperty$s(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$p(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$s(e,s,a){return(s=function _toPropertyKey$s(e){var s=function _toPrimitive$s(e,s){if("object"!=_typeof$t(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$t(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$t(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var TO,EO,AO,MO,LO,DO={curveBasisClosed:function curveBasisClosed(e){return new BasisClosed(e)},curveBasisOpen:function curveBasisOpen(e){return new BasisOpen(e)},curveBasis:function curveBasis(e){return new Basis(e)},curveBumpX:function bumpX(e){return new Bump(e,!0)},curveBumpY:function bumpY(e){return new Bump(e,!1)},curveLinearClosed:function curveLinearClosed(e){return new LinearClosed(e)},curveLinear:curveLinear,curveMonotoneX:function monotoneX(e){return new MonotoneX(e)},curveMonotoneY:function monotoneY(e){return new MonotoneY(e)},curveNatural:function curveNatural(e){return new Natural(e)},curveStep:function curveStep(e){return new Step(e,.5)},curveStepAfter:function stepAfter(e){return new Step(e,1)},curveStepBefore:function stepBefore(e){return new Step(e,0)}},OO=function defined2(e){return e.x===+e.x&&e.y===+e.y},IO=function getX2(e){return e.x},$O=function getY2(e){return e.y},RO=function getPath(e){var s,a=e.type,l=void 0===a?"linear":a,c=e.points,u=void 0===c?[]:c,p=e.baseLine,m=e.layout,h=e.connectNulls,f=void 0!==h&&h,g=function getCurveFactory2(e,s){if(lk(e))return e;var a="curve".concat(v_(e));return"curveMonotone"!==a&&"curveBump"!==a||!s?DO[a]||curveLinear:DO["".concat(a).concat("vertical"===s?"Y":"X")]}(l,m),b=f?u.filter(function(e){return OO(e)}):u;if(Array.isArray(p)){var j=f?p.filter(function(e){return OO(e)}):p,N=b.map(function(e,s){return _objectSpread$p(_objectSpread$p({},e),{},{base:j[s]})});return(s="vertical"===m?shapeArea().y($O).x1(IO).x0(function(e){return e.base.x}):shapeArea().x(IO).y1($O).y0(function(e){return e.base.y})).defined(OO).curve(g),s(N)}return(s="vertical"===m&&Nk(p)?shapeArea().y($O).x1(IO).x0(p):Nk(p)?shapeArea().x(IO).y1($O).y0(p):shapeLine().x(IO).y($O)).defined(OO).curve(g),s(b)},FO=function Curve2(e){var s=e.className,a=e.points,l=e.path,c=e.pathRef;if(!(a&&a.length||l))return null;var u=a&&a.length?RO(e):l;return re.createElement("path",_extends$l({},Zk(e,!1),Ok(e),{className:clsx("recharts-curve",s),d:u,ref:c}))},BO={exports:{}};function requireReactPropTypesSecret(){if(EO)return TO;EO=1;return TO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function requireFactoryWithThrowingShims(){if(MO)return AO;MO=1;var e=requireReactPropTypesSecret();function emptyFunction(){}function emptyFunctionWithReset(){}return emptyFunctionWithReset.resetWarningCache=emptyFunction,AO=function(){function shim2(s,a,l,c,u,p){if(p!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}function getShim(){return shim2}shim2.isRequired=shim2;var s={array:shim2,bigint:shim2,bool:shim2,func:shim2,number:shim2,object:shim2,string:shim2,symbol:shim2,any:shim2,arrayOf:getShim,element:shim2,elementType:shim2,instanceOf:getShim,node:shim2,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s}}function requirePropTypes(){return LO||(LO=1,BO.exports=requireFactoryWithThrowingShims()()),BO.exports}const zO=getDefaultExportFromCjs$2(requirePropTypes());var VO=Object.getOwnPropertyNames,UO=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty;function combineComparators(e,s){return function isEqual2(a,l,c){return e(a,l,c)&&s(a,l,c)}}function createIsCircular(e){return function isCircular(s,a,l){if(!s||!a||"object"!=typeof s||"object"!=typeof a)return e(s,a,l);var c=l.cache,u=c.get(s),p=c.get(a);if(u&&p)return u===a&&p===s;c.set(s,a),c.set(a,s);var m=e(s,a,l);return c.delete(s),c.delete(a),m}}function getStrictProperties(e){return VO(e).concat(UO(e))}var qO=Object.hasOwn||function(e,s){return HO.call(e,s)};function sameValueZeroEqual(e,s){return e===s||!e&&!s&&e!=e&&s!=s}var WO=Object.getOwnPropertyDescriptor,ZO=Object.keys;function areArraysEqual(e,s,a){var l=e.length;if(s.length!==l)return!1;for(;l-- >0;)if(!a.equals(e[l],s[l],l,l,e,s,a))return!1;return!0}function areDatesEqual(e,s){return sameValueZeroEqual(e.getTime(),s.getTime())}function areErrorsEqual(e,s){return e.name===s.name&&e.message===s.message&&e.cause===s.cause&&e.stack===s.stack}function areFunctionsEqual(e,s){return e===s}function areMapsEqual(e,s,a){var l=e.size;if(l!==s.size)return!1;if(!l)return!0;for(var c,u,p=new Array(l),m=e.entries(),h=0;(c=m.next())&&!c.done;){for(var f=s.entries(),g=!1,b=0;(u=f.next())&&!u.done;)if(p[b])b++;else{var j=c.value,N=u.value;if(a.equals(j[0],N[0],h,b,e,s,a)&&a.equals(j[1],N[1],j[0],N[0],e,s,a)){g=p[b]=!0;break}b++}if(!g)return!1;h++}return!0}var KO=sameValueZeroEqual;function areObjectsEqual(e,s,a){var l=ZO(e),c=l.length;if(ZO(s).length!==c)return!1;for(;c-- >0;)if(!isPropertyEqual(e,s,a,l[c]))return!1;return!0}function areObjectsEqualStrict(e,s,a){var l,c,u,p=getStrictProperties(e),m=p.length;if(getStrictProperties(s).length!==m)return!1;for(;m-- >0;){if(!isPropertyEqual(e,s,a,l=p[m]))return!1;if(c=WO(e,l),u=WO(s,l),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable))return!1}return!0}function arePrimitiveWrappersEqual(e,s){return sameValueZeroEqual(e.valueOf(),s.valueOf())}function areRegExpsEqual(e,s){return e.source===s.source&&e.flags===s.flags}function areSetsEqual(e,s,a){var l=e.size;if(l!==s.size)return!1;if(!l)return!0;for(var c,u,p=new Array(l),m=e.values();(c=m.next())&&!c.done;){for(var h=s.values(),f=!1,g=0;(u=h.next())&&!u.done;){if(!p[g]&&a.equals(c.value,u.value,c.value,u.value,e,s,a)){f=p[g]=!0;break}g++}if(!f)return!1}return!0}function areTypedArraysEqual(e,s){var a=e.length;if(s.length!==a)return!1;for(;a-- >0;)if(e[a]!==s[a])return!1;return!0}function areUrlsEqual(e,s){return e.hostname===s.hostname&&e.pathname===s.pathname&&e.protocol===s.protocol&&e.port===s.port&&e.hash===s.hash&&e.username===s.username&&e.password===s.password}function isPropertyEqual(e,s,a,l){return!("_owner"!==l&&"__o"!==l&&"__v"!==l||!e.$$typeof&&!s.$$typeof)||qO(s,l)&&a.equals(e[l],s[l],l,l,e,s,a)}var GO=Array.isArray,YO="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,QO=Object.assign,XO=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(e){var s=e.areArraysEqual,a=e.areDatesEqual,l=e.areErrorsEqual,c=e.areFunctionsEqual,u=e.areMapsEqual,p=e.areNumbersEqual,m=e.areObjectsEqual,h=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,g=e.areSetsEqual,b=e.areTypedArraysEqual,j=e.areUrlsEqual,N=e.unknownTagComparators;return function comparator(e,k,_){if(e===k)return!0;if(null==e||null==k)return!1;var T=typeof e;if(T!==typeof k)return!1;if("object"!==T)return"number"===T?p(e,k,_):"function"===T&&c(e,k,_);var E=e.constructor;if(E!==k.constructor)return!1;if(E===Object)return m(e,k,_);if(GO(e))return s(e,k,_);if(null!=YO&&YO(e))return b(e,k,_);if(E===Date)return a(e,k,_);if(E===RegExp)return f(e,k,_);if(E===Map)return u(e,k,_);if(E===Set)return g(e,k,_);var A=XO(e);if("[object Date]"===A)return a(e,k,_);if("[object RegExp]"===A)return f(e,k,_);if("[object Map]"===A)return u(e,k,_);if("[object Set]"===A)return g(e,k,_);if("[object Object]"===A)return"function"!=typeof e.then&&"function"!=typeof k.then&&m(e,k,_);if("[object URL]"===A)return j(e,k,_);if("[object Error]"===A)return l(e,k,_);if("[object Arguments]"===A)return m(e,k,_);if("[object Boolean]"===A||"[object Number]"===A||"[object String]"===A)return h(e,k,_);if(N){var L=N[A];if(!L){var O=function getShortTag(e){return null!=e?e[Symbol.toStringTag]:void 0}(e);O&&(L=N[O])}if(L)return L(e,k,_)}return!1}}var JO=createCustomEqual();function createCustomEqual(e){void 0===e&&(e={});var s=e.circular,a=void 0!==s&&s,l=e.createInternalComparator,c=e.createState,u=e.strict,p=void 0!==u&&u,m=function createEqualityComparatorConfig(e){var s=e.circular,a=e.createCustomConfig,l=e.strict,c={areArraysEqual:l?areObjectsEqualStrict:areArraysEqual,areDatesEqual:areDatesEqual,areErrorsEqual:areErrorsEqual,areFunctionsEqual:areFunctionsEqual,areMapsEqual:l?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual:KO,areObjectsEqual:l?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual:arePrimitiveWrappersEqual,areRegExpsEqual:areRegExpsEqual,areSetsEqual:l?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:l?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual:areUrlsEqual,unknownTagComparators:void 0};if(a&&(c=QO({},c,a(c))),s){var u=createIsCircular(c.areArraysEqual),p=createIsCircular(c.areMapsEqual),m=createIsCircular(c.areObjectsEqual),h=createIsCircular(c.areSetsEqual);c=QO({},c,{areArraysEqual:u,areMapsEqual:p,areObjectsEqual:m,areSetsEqual:h})}return c}(e),h=createEqualityComparator(m);return function createIsEqual(e){var s=e.circular,a=e.comparator,l=e.createState,c=e.equals,u=e.strict;if(l)return function isEqual2(e,p){var m=l(),h=m.cache,f=void 0===h?s?new WeakMap:void 0:h,g=m.meta;return a(e,p,{cache:f,equals:c,meta:g,strict:u})};if(s)return function isEqual2(e,s){return a(e,s,{cache:new WeakMap,equals:c,meta:void 0,strict:u})};var p={cache:void 0,equals:c,meta:void 0,strict:u};return function isEqual2(e,s){return a(e,s,p)}}({circular:a,comparator:h,createState:c,equals:l?l(h):function createInternalEqualityComparator(e){return function(s,a,l,c,u,p,m){return e(s,a,m)}}(h),strict:p})}function setRafTimeout(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=-1;requestAnimationFrame(function shouldUpdate2(l){a<0&&(a=l),l-a>s?(e(l),a=-1):function safeRequestAnimationFrame(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(shouldUpdate2)})}function _typeof$s(e){return(_typeof$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toArray(e){return function _arrayWithHoles$6(e){if(Array.isArray(e))return e}(e)||function _iterableToArray$7(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$a(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$a(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$a(e,s)}(e)||function _nonIterableRest$6(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$a(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function createAnimateManager(){var e=function handleChange2(){return null},s=!1,a=function setStyle3(a){if(!s){if(Array.isArray(a)){if(!a.length)return;var l=_toArray(a),c=l[0],u=l.slice(1);return"number"==typeof c?void setRafTimeout(setStyle3.bind(null,u),c):(setStyle3(c),void setRafTimeout(setStyle3.bind(null,u)))}"object"===_typeof$s(a)&&e(a),"function"==typeof a&&a()}};return{stop:function stop(){s=!0},start:function start(e){s=!1,a(e)},subscribe:function subscribe2(s){return e=s,function(){e=function handleChange2(){return null}}}}}function _typeof$r(e){return(_typeof$r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$o(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$o(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$o(Object(a),!0).forEach(function(s){_defineProperty$r(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$o(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$r(e,s,a){return(s=function _toPropertyKey$r(e){var s=function _toPrimitive$r(e,s){if("object"!==_typeof$r(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!==_typeof$r(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"===_typeof$r(s)?s:String(s)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}createCustomEqual({strict:!0}),createCustomEqual({circular:!0}),createCustomEqual({circular:!0,strict:!0}),createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});var eI=function identity2(e){return e},tI=function mapObject2(e,s){return Object.keys(s).reduce(function(a,l){return _objectSpread$o(_objectSpread$o({},a),{},_defineProperty$r({},l,e(l,s[l])))},{})},rI=function getTransitionVal2(e,s,a){return e.map(function(e){return"".concat(function getDashCase2(e){return e.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})}(e)," ").concat(s,"ms ").concat(a)}).join(",")};function _slicedToArray$5(e,s){return function _arrayWithHoles$5(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$5(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||_unsupportedIterableToArray$9(e,s)||function _nonIterableRest$5(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray$6(e){return function _arrayWithoutHoles$6(e){if(Array.isArray(e))return _arrayLikeToArray$9(e)}(e)||function _iterableToArray$6(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray$9(e)||function _nonIterableSpread$6(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$9(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray$9(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$9(e,s):void 0}}function _arrayLikeToArray$9(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var nI=1e-4,sI=function cubicBezierFactor2(e,s){return[0,3*e,3*s-6*e,3*e-3*s+1]},aI=function multyTime2(e,s){return e.map(function(e,a){return e*Math.pow(s,a)}).reduce(function(e,s){return e+s})},iI=function cubicBezier2(e,s){return function(a){var l=sI(e,s);return aI(l,a)}},oI=function configBezier2(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];var l=s[0],c=s[1],u=s[2],p=s[3];if(1===s.length)switch(s[0]){case"linear":l=0,c=0,u=1,p=1;break;case"ease":l=.25,c=.1,u=.25,p=1;break;case"ease-in":l=.42,c=0,u=1,p=1;break;case"ease-out":l=.42,c=0,u=.58,p=1;break;case"ease-in-out":l=0,c=0,u=.58,p=1;break;default:var m=s[0].split("(");if("cubic-bezier"===m[0]&&4===m[1].split(")")[0].split(",").length){var h=_slicedToArray$5(m[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);l=h[0],c=h[1],u=h[2],p=h[3]}}var f=iI(l,u),g=iI(c,p),b=function derivativeCubicBezier2(e,s){return function(a){var l=sI(e,s),c=[].concat(_toConsumableArray$6(l.map(function(e,s){return e*s}).slice(1)),[0]);return aI(c,a)}}(l,u),j=function rangeValue2(e){return e>1?1:e<0?0:e},N=function bezier2(e){for(var s=e>1?1:e,a=s,l=0;l<8;++l){var c=f(a)-s,u=b(a);if(Math.abs(c-s)<nI||u<nI)return g(a);a=j(a-c/u)}return g(a)};return N.isStepper=!1,N},lI=function configEasing2(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];var l=s[0];if("string"==typeof l)switch(l){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oI(l);case"spring":return function configSpring2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.stiff,a=void 0===s?100:s,l=e.damping,c=void 0===l?8:l,u=e.dt,p=void 0===u?17:u,m=function stepper2(e,s,l){var u=l+(-(e-s)*a-l*c)*p/1e3,m=l*p/1e3+e;return Math.abs(m-s)<nI&&Math.abs(u)<nI?[s,0]:[m,u]};return m.isStepper=!0,m.dt=p,m}();default:if("cubic-bezier"===l.split("(")[0])return oI(l)}return"function"==typeof l?l:null};function _typeof$q(e){return(_typeof$q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray$5(e){return function _arrayWithoutHoles$5(e){if(Array.isArray(e))return _arrayLikeToArray$8(e)}(e)||function _iterableToArray$5(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray$8(e)||function _nonIterableSpread$5(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys$n(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$n(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$n(Object(a),!0).forEach(function(s){_defineProperty$q(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$n(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$q(e,s,a){return(s=function _toPropertyKey$q(e){var s=function _toPrimitive$q(e,s){if("object"!==_typeof$q(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!==_typeof$q(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"===_typeof$q(s)?s:String(s)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _slicedToArray$4(e,s){return function _arrayWithHoles$4(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$4(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||_unsupportedIterableToArray$8(e,s)||function _nonIterableRest$4(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$8(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray$8(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$8(e,s):void 0}}function _arrayLikeToArray$8(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var cI=function alpha2(e,s,a){return e+(s-e)*a},dI=function needContinue2(e){return e.from!==e.to},uI=function calStepperVals2(e,s,a){var l=tI(function(s,a){if(dI(a)){var l=_slicedToArray$4(e(a.from,a.to,a.velocity),2),c=l[0],u=l[1];return _objectSpread$n(_objectSpread$n({},a),{},{from:c,velocity:u})}return a},s);return a<1?tI(function(e,s){return dI(s)?_objectSpread$n(_objectSpread$n({},s),{},{velocity:cI(s.velocity,l[e].velocity,a),from:cI(s.from,l[e].from,a)}):s},s):calStepperVals2(e,l,a-1)};const configUpdate=function(e,s,a,l,c){var u,p,m=function getIntersectionKeys2(e,s){return[Object.keys(e),Object.keys(s)].reduce(function(e,s){return e.filter(function(e){return s.includes(e)})})}(e,s),h=m.reduce(function(a,l){return _objectSpread$n(_objectSpread$n({},a),{},_defineProperty$q({},l,[e[l],s[l]]))},{}),f=m.reduce(function(a,l){return _objectSpread$n(_objectSpread$n({},a),{},_defineProperty$q({},l,{from:e[l],velocity:0,to:s[l]}))},{}),g=-1,b=function update2(){return null};return b=a.isStepper?function stepperUpdate2(l){u||(u=l);var p=(l-u)/a.dt;f=uI(a,f,p),c(_objectSpread$n(_objectSpread$n(_objectSpread$n({},e),s),function getCurrStyle2(){return tI(function(e,s){return s.from},f)}())),u=l,function shouldStopAnimation2(){return!Object.values(f).filter(dI).length}()||(g=requestAnimationFrame(b))}:function timingUpdate2(u){p||(p=u);var m=(u-p)/l,f=tI(function(e,s){return cI.apply(void 0,_toConsumableArray$5(s).concat([a(m)]))},h);if(c(_objectSpread$n(_objectSpread$n(_objectSpread$n({},e),s),f)),m<1)g=requestAnimationFrame(b);else{var j=tI(function(e,s){return cI.apply(void 0,_toConsumableArray$5(s).concat([a(1)]))},h);c(_objectSpread$n(_objectSpread$n(_objectSpread$n({},e),s),j))}},function(){return requestAnimationFrame(b),function(){cancelAnimationFrame(g)}}};function _typeof$p(e){return(_typeof$p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pI=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$b(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$b(e,s){if(null==e)return{};var a,l,c={},u=Object.keys(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||(c[a]=e[a]);return c}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _toConsumableArray$4(e){return function _arrayWithoutHoles$4(e){if(Array.isArray(e))return _arrayLikeToArray$7(e)}(e)||function _iterableToArray$4(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$7(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$7(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$7(e,s)}(e)||function _nonIterableSpread$4(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$7(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys$m(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$m(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$m(Object(a),!0).forEach(function(s){_defineProperty$p(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$m(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$p(e,s,a){return(s=_toPropertyKey$p(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _createClass$g(e,s,a){return s&&function _defineProperties$g(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$p(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$p(e){var s=function _toPrimitive$p(e,s){if("object"!==_typeof$p(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!==_typeof$p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"===_typeof$p(s)?s:String(s)}function _setPrototypeOf$e(e,s){return(_setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _createSuper(e){var s=function _isNativeReflectConstruct$e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var a,l=_getPrototypeOf$e(e);if(s){var c=_getPrototypeOf$e(this).constructor;a=Reflect.construct(l,arguments,c)}else a=l.apply(this,arguments);return _possibleConstructorReturn$e(this,a)}}function _possibleConstructorReturn$e(e,s){if(s&&("object"===_typeof$p(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(e)}function _assertThisInitialized$e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf$e(e){return(_getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mI=function(){!function _inherits$e(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$e(e,s)}(Animate2,re.PureComponent);var e=_createSuper(Animate2);function Animate2(s,a){var l;!function _classCallCheck$g(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Animate2);var c=(l=e.call(this,s,a)).props,u=c.isActive,p=c.attributeName,m=c.from,h=c.to,f=c.steps,g=c.children,b=c.duration;if(l.handleStyleChange=l.handleStyleChange.bind(_assertThisInitialized$e(l)),l.changeStyle=l.changeStyle.bind(_assertThisInitialized$e(l)),!u||b<=0)return l.state={style:{}},"function"==typeof g&&(l.state={style:h}),_possibleConstructorReturn$e(l);if(f&&f.length)l.state={style:f[0].style};else if(m){if("function"==typeof g)return l.state={style:m},_possibleConstructorReturn$e(l);l.state={style:p?_defineProperty$p({},p,m):m}}else l.state={style:{}};return l}return _createClass$g(Animate2,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,s=e.isActive,a=e.canBegin;this.mounted=!0,s&&a&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,p=s.to,m=s.from,h=this.state.style;if(l)if(a){if(!(JO(e.to,p)&&e.canBegin&&e.isActive)){var f=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=f||u?m:e.to;if(this.state&&h){var b={style:c?_defineProperty$p({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(b)}this.runAnimation(_objectSpread$m(_objectSpread$m({},this.props),{},{from:g,begin:0}))}}else{var j={style:c?_defineProperty$p({},c,p):p};this.state&&h&&(c&&h[c]!==p||!c&&h!==p)&&this.setState(j)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function handleStyleChange(e){this.changeStyle(e)}},{key:"changeStyle",value:function changeStyle(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function runJSAnimation(e){var s=this,a=e.from,l=e.to,c=e.duration,u=e.easing,p=e.begin,m=e.onAnimationEnd,h=e.onAnimationStart,f=configUpdate(a,l,lI(u),c,this.changeStyle);this.manager.start([h,p,function finalStartAnimation2(){s.stopJSAnimation=f()},c,m])}},{key:"runStepAnimation",value:function runStepAnimation(e){var s=this,a=e.steps,l=e.begin,c=e.onAnimationStart,u=a[0],p=u.style,m=u.duration,h=void 0===m?0:m;return this.manager.start([c].concat(_toConsumableArray$4(a.reduce(function addStyle2(e,l,c){if(0===c)return e;var u=l.duration,p=l.easing,m=void 0===p?"ease":p,h=l.style,f=l.properties,g=l.onAnimationEnd,b=c>0?a[c-1]:l,j=f||Object.keys(h);if("function"==typeof m||"spring"===m)return[].concat(_toConsumableArray$4(e),[s.runJSAnimation.bind(s,{from:b.style,to:h,duration:u,easing:m}),u]);var N=rI(j,u,m),k=_objectSpread$m(_objectSpread$m(_objectSpread$m({},b.style),h),{},{transition:N});return[].concat(_toConsumableArray$4(e),[k,u,g]).filter(eI)},[p,Math.max(h,l)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function runAnimation(e){this.manager||(this.manager=createAnimateManager());var s=e.begin,a=e.duration,l=e.attributeName,c=e.to,u=e.easing,p=e.onAnimationStart,m=e.onAnimationEnd,h=e.steps,f=e.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),"function"!=typeof u&&"function"!=typeof f&&"spring"!==u)if(h.length>1)this.runStepAnimation(e);else{var b=l?_defineProperty$p({},l,c):c,j=rI(Object.keys(b),a,u);g.start([p,s,_objectSpread$m(_objectSpread$m({},b),{},{transition:j}),a,m])}else this.runJSAnimation(e)}},{key:"render",value:function render(){var e=this.props,s=e.children;e.begin;var a=e.duration;e.attributeName,e.easing;var l=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var c=_objectWithoutProperties$b(e,pI),u=re.Children.count(s),p=this.state.style;if("function"==typeof s)return s(p);if(!l||0===u||a<=0)return s;var m=function cloneContainer2(e){var s=e.props,a=s.style,l=void 0===a?{}:a,u=s.className;return re.cloneElement(e,_objectSpread$m(_objectSpread$m({},c),{},{style:_objectSpread$m(_objectSpread$m({},l),p),className:u}))};return 1===u?m(re.Children.only(s)):ae.createElement("div",null,re.Children.map(s,function(e){return m(e)}))}}]),Animate2}();function _typeof$o(e){return(_typeof$o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$k.apply(this,arguments)}function _slicedToArray$3(e,s){return function _arrayWithHoles$3(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$3(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$6(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$6(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$6(e,s)}(e,s)||function _nonIterableRest$3(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$6(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys$l(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$l(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$l(Object(a),!0).forEach(function(s){_defineProperty$o(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$l(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$o(e,s,a){return(s=function _toPropertyKey$o(e){var s=function _toPrimitive$o(e,s){if("object"!=_typeof$o(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$o(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$o(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}mI.displayName="Animate",mI.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function onAnimationEnd(){},onAnimationStart:function onAnimationStart(){}},mI.propTypes={from:zO.oneOfType([zO.object,zO.string]),to:zO.oneOfType([zO.object,zO.string]),attributeName:zO.string,duration:zO.number,begin:zO.number,easing:zO.oneOfType([zO.string,zO.func]),steps:zO.arrayOf(zO.shape({duration:zO.number.isRequired,style:zO.object.isRequired,easing:zO.oneOfType([zO.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zO.func]),properties:zO.arrayOf("string"),onAnimationEnd:zO.func})),children:zO.oneOfType([zO.node,zO.func]),isActive:zO.bool,canBegin:zO.bool,onAnimationEnd:zO.func,shouldReAnimate:zO.bool,onAnimationStart:zO.func,onAnimationReStart:zO.func};var hI=function getRectanglePath2(e,s,a,l,c){var u,p=Math.min(Math.abs(a)/2,Math.abs(l)/2),m=l>=0?1:-1,h=a>=0?1:-1,f=l>=0&&a>=0||l<0&&a<0?1:0;if(p>0&&c instanceof Array){for(var g=[0,0,0,0],b=0;b<4;b++)g[b]=c[b]>p?p:c[b];u="M".concat(e,",").concat(s+m*g[0]),g[0]>0&&(u+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+h*g[0],",").concat(s)),u+="L ".concat(e+a-h*g[1],",").concat(s),g[1]>0&&(u+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,",\n        ").concat(e+a,",").concat(s+m*g[1])),u+="L ".concat(e+a,",").concat(s+l-m*g[2]),g[2]>0&&(u+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,",\n        ").concat(e+a-h*g[2],",").concat(s+l)),u+="L ".concat(e+h*g[3],",").concat(s+l),g[3]>0&&(u+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,",\n        ").concat(e,",").concat(s+l-m*g[3])),u+="Z"}else if(p>0&&c===+c&&c>0){var j=Math.min(p,c);u="M ".concat(e,",").concat(s+m*j,"\n            A ").concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+h*j,",").concat(s,"\n            L ").concat(e+a-h*j,",").concat(s,"\n            A ").concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+a,",").concat(s+m*j,"\n            L ").concat(e+a,",").concat(s+l-m*j,"\n            A ").concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+a-h*j,",").concat(s+l,"\n            L ").concat(e+h*j,",").concat(s+l,"\n            A ").concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(s+l-m*j," Z")}else u="M ".concat(e,",").concat(s," h ").concat(a," v ").concat(l," h ").concat(-a," Z");return u},fI=function isInRectangle2(e,s){if(!e||!s)return!1;var a=e.x,l=e.y,c=s.x,u=s.y,p=s.width,m=s.height;if(Math.abs(p)>0&&Math.abs(m)>0){var h=Math.min(c,c+p),f=Math.max(c,c+p),g=Math.min(u,u+m),b=Math.max(u,u+m);return a>=h&&a<=f&&l>=g&&l<=b}return!1},gI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xI=function Rectangle3(e){var s=_objectSpread$l(_objectSpread$l({},gI),e),a=re.useRef(),l=_slicedToArray$3(re.useState(-1),2),c=l[0],u=l[1];re.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&u(e)}catch(pW){}},[]);var p=s.x,m=s.y,h=s.width,f=s.height,g=s.radius,b=s.className,j=s.animationEasing,N=s.animationDuration,k=s.animationBegin,_=s.isAnimationActive,T=s.isUpdateAnimationActive;if(p!==+p||m!==+m||h!==+h||f!==+f||0===h||0===f)return null;var E=clsx("recharts-rectangle",b);return T?ae.createElement(mI,{canBegin:c>0,from:{width:h,height:f,x:p,y:m},to:{width:h,height:f,x:p,y:m},duration:N,animationEasing:j,isActive:T},function(e){var l=e.width,u=e.height,p=e.x,m=e.y;return ae.createElement(mI,{canBegin:c>0,from:"0px ".concat(-1===c?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:N,isActive:_,easing:j},ae.createElement("path",_extends$k({},Zk(s,!0),{className:E,d:hI(p,m,l,u,g),ref:a})))}):ae.createElement("path",_extends$k({},Zk(s,!0),{className:E,d:hI(p,m,h,f,g)}))},vI=["points","className","baseLinePoints","connectNulls"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$j.apply(this,arguments)}function _objectWithoutProperties$a(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$a(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _toConsumableArray$3(e){return function _arrayWithoutHoles$3(e){if(Array.isArray(e))return _arrayLikeToArray$5(e)}(e)||function _iterableToArray$3(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$5(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$5(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$5(e,s)}(e)||function _nonIterableSpread$3(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$5(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}var yI=function isValidatePoint2(e){return e&&e.x===+e.x&&e.y===+e.y},bI=function getSinglePolygonPath2(e,s){var a=function getParsedPoints2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=[[]];return e.forEach(function(e){yI(e)?s[s.length-1].push(e):s[s.length-1].length>0&&s.push([])}),yI(e[0])&&s[s.length-1].push(e[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s}(e);s&&(a=[a.reduce(function(e,s){return[].concat(_toConsumableArray$3(e),_toConsumableArray$3(s))},[])]);var l=a.map(function(e){return e.reduce(function(e,s,a){return"".concat(e).concat(0===a?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return 1===a.length?"".concat(l,"Z"):l},jI=function Polygon3(e){var s=e.points,a=e.className,l=e.baseLinePoints,c=e.connectNulls,u=_objectWithoutProperties$a(e,vI);if(!s||!s.length)return null;var p=clsx("recharts-polygon",a);if(l&&l.length){var m=u.stroke&&"none"!==u.stroke,h=function getRanglePath2(e,s,a){var l=bI(e,a);return"".concat("Z"===l.slice(-1)?l.slice(0,-1):l,"L").concat(bI(s.reverse(),a).slice(1))}(s,l,c);return ae.createElement("g",{className:p},ae.createElement("path",_extends$j({},Zk(u,!0),{fill:"Z"===h.slice(-1)?u.fill:"none",stroke:"none",d:h})),m?ae.createElement("path",_extends$j({},Zk(u,!0),{fill:"none",d:bI(s,c)})):null,m?ae.createElement("path",_extends$j({},Zk(u,!0),{fill:"none",d:bI(l,c)})):null)}var f=bI(s,c);return ae.createElement("path",_extends$j({},Zk(u,!0),{fill:"Z"===f.slice(-1)?u.fill:"none",className:p,d:f}))};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$i.apply(this,arguments)}var wI=function Dot2(e){var s=e.cx,a=e.cy,l=e.r,c=clsx("recharts-dot",e.className);return s===+s&&a===+a&&l===+l?re.createElement("circle",_extends$i({},Zk(e,!1),Ok(e),{className:c,cx:s,cy:a,r:l})):null};function _typeof$n(e){return(_typeof$n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NI=["x","y","top","left","width","height","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$h.apply(this,arguments)}function ownKeys$k(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _defineProperty$n(e,s,a){return(s=function _toPropertyKey$n(e){var s=function _toPrimitive$n(e,s){if("object"!=_typeof$n(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$n(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _objectWithoutProperties$9(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$9(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var SI,CI,kI=function getPath3(e,s,a,l,c,u){return"M".concat(e,",").concat(c,"v").concat(l,"M").concat(u,",").concat(s,"h").concat(a)},_I=function Cross2(e){var s=e.x,a=void 0===s?0:s,l=e.y,c=void 0===l?0:l,u=e.top,p=void 0===u?0:u,m=e.left,h=void 0===m?0:m,f=e.width,g=void 0===f?0:f,b=e.height,j=void 0===b?0:b,N=e.className,k=function _objectSpread$k(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$k(Object(a),!0).forEach(function(s){_defineProperty$n(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$k(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}({x:a,y:c,top:p,left:h,width:g,height:j},_objectWithoutProperties$9(e,NI));return Nk(a)&&Nk(c)&&Nk(g)&&Nk(j)&&Nk(p)&&Nk(h)?ae.createElement("path",_extends$h({},Zk(k,!0),{className:clsx("recharts-cross",N),d:kI(a,c,g,j,p,h)})):null};const PI=getDefaultExportFromCjs$2(function requireMaxBy(){if(CI)return SI;CI=1;var e=require_baseExtremum(),s=require_baseGt(),a=require_baseIteratee();return SI=function maxBy2(l,c){return l&&l.length?e(l,a(c,2),s):void 0}}());var TI,EI;const AI=getDefaultExportFromCjs$2(function requireMinBy(){if(EI)return TI;EI=1;var e=require_baseExtremum(),s=require_baseIteratee(),a=require_baseLt();return TI=function minBy2(l,c){return l&&l.length?e(l,s(c,2),a):void 0}}());var MI=["cx","cy","angle","ticks","axisLine"],LI=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$m(e){return(_typeof$m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$g.apply(this,arguments)}function ownKeys$j(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$j(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$j(Object(a),!0).forEach(function(s){_defineProperty$m(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$j(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _objectWithoutProperties$8(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$8(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _defineProperties$f(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$m(l.key),l)}}function _callSuper$d(e,s,a){return s=_getPrototypeOf$d(s),function _possibleConstructorReturn$d(e,s){if(s&&("object"===_typeof$m(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$d()?Reflect.construct(s,a||[],_getPrototypeOf$d(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$d=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$d(e){return(_getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$d(e,s){return(_setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$m(e,s,a){return(s=_toPropertyKey$m(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$m(e){var s=function _toPrimitive$m(e,s){if("object"!=_typeof$m(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$m(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$m(s)?s:s+""}var DI=function(){function PolarRadiusAxis2(){return function _classCallCheck$f(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,PolarRadiusAxis2),_callSuper$d(this,PolarRadiusAxis2,arguments)}return function _inherits$d(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$d(e,s)}(PolarRadiusAxis2,re.PureComponent),function _createClass$f(e,s,a){return s&&_defineProperties$f(e.prototype,s),a&&_defineProperties$f(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(PolarRadiusAxis2,[{key:"getTickValueCoord",value:function getTickValueCoord(e){var s=e.coordinate,a=this.props,l=a.angle,c=a.cx,u=a.cy;return dO(c,u,s,l)}},{key:"getTickTextAnchor",value:function getTickTextAnchor(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function getViewBox(){var e=this.props,s=e.cx,a=e.cy,l=e.angle,c=e.ticks,u=PI(c,function(e){return e.coordinate||0});return{cx:s,cy:a,startAngle:l,endAngle:l,innerRadius:AI(c,function(e){return e.coordinate||0}).coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function renderAxisLine(){var e=this.props,s=e.cx,a=e.cy,l=e.angle,c=e.ticks,u=e.axisLine,p=_objectWithoutProperties$8(e,MI),m=c.reduce(function(e,s){return[Math.min(e[0],s.coordinate),Math.max(e[1],s.coordinate)]},[1/0,-1/0]),h=dO(s,a,m[0],l),f=dO(s,a,m[1],l),g=_objectSpread$j(_objectSpread$j(_objectSpread$j({},Zk(p,!1)),{},{fill:"none"},Zk(u,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return ae.createElement("line",_extends$g({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function renderTicks(){var e=this,s=this.props,a=s.ticks,l=s.tick,c=s.angle,u=s.tickFormatter,p=s.stroke,m=_objectWithoutProperties$8(s,LI),h=this.getTickTextAnchor(),f=Zk(m,!1),g=Zk(l,!1),b=a.map(function(s,a){var m=e.getTickValueCoord(s),b=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(m.x,", ").concat(m.y,")")},f),{},{stroke:"none",fill:p},g),{},{index:a},m),{},{payload:s});return ae.createElement(g_,_extends$g({className:clsx("recharts-polar-radius-axis-tick",fO(l)),key:"tick-".concat(s.coordinate)},Ik(e.props,s,a)),PolarRadiusAxis2.renderTickItem(l,b,u?u(s.value,a):s.value))});return ae.createElement(g_,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function render(){var e=this.props,s=e.ticks,a=e.axisLine,l=e.tick;return s&&s.length?ae.createElement(g_,{className:clsx("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),l&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox())):null}}],[{key:"renderTickItem",value:function renderTickItem(e,s,a){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):ae.createElement(xM,_extends$g({},s,{className:"recharts-polar-radius-axis-tick-value"}),a)}}])}();function _typeof$l(e){return(_typeof$l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$f.apply(this,arguments)}function ownKeys$i(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$i(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$i(Object(a),!0).forEach(function(s){_defineProperty$l(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$i(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$e(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$l(l.key),l)}}function _callSuper$c(e,s,a){return s=_getPrototypeOf$c(s),function _possibleConstructorReturn$c(e,s){if(s&&("object"===_typeof$l(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$c()?Reflect.construct(s,a||[],_getPrototypeOf$c(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$c=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$c(e){return(_getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$c(e,s){return(_setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$l(e,s,a){return(s=_toPropertyKey$l(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$l(e){var s=function _toPrimitive$l(e,s){if("object"!=_typeof$l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$l(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$l(s)?s:s+""}_defineProperty$m(DI,"displayName","PolarRadiusAxis"),_defineProperty$m(DI,"axisType","radiusAxis"),_defineProperty$m(DI,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var OI,II,$I,RI,FI=Math.PI/180,BI=1e-5,zI=function(){function PolarAngleAxis2(){return function _classCallCheck$e(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,PolarAngleAxis2),_callSuper$c(this,PolarAngleAxis2,arguments)}return function _inherits$c(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$c(e,s)}(PolarAngleAxis2,re.PureComponent),function _createClass$e(e,s,a){return s&&_defineProperties$e(e.prototype,s),a&&_defineProperties$e(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(PolarAngleAxis2,[{key:"getTickLineCoord",value:function getTickLineCoord(e){var s=this.props,a=s.cx,l=s.cy,c=s.radius,u=s.orientation,p=s.tickSize||8,m=dO(a,l,c,e.coordinate),h=dO(a,l,c+("inner"===u?-1:1)*p,e.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function getTickTextAnchor(e){var s=this.props.orientation,a=Math.cos(-e.coordinate*FI);return a>BI?"outer"===s?"start":"end":a<-BI?"outer"===s?"end":"start":"middle"}},{key:"renderAxisLine",value:function renderAxisLine(){var e=this.props,s=e.cx,a=e.cy,l=e.radius,c=e.axisLine,u=e.axisLineType,p=_objectSpread$i(_objectSpread$i({},Zk(this.props,!1)),{},{fill:"none"},Zk(c,!1));if("circle"===u)return ae.createElement(wI,_extends$f({className:"recharts-polar-angle-axis-line"},p,{cx:s,cy:a,r:l}));var m=this.props.ticks.map(function(e){return dO(s,a,l,e.coordinate)});return ae.createElement(jI,_extends$f({className:"recharts-polar-angle-axis-line"},p,{points:m}))}},{key:"renderTicks",value:function renderTicks(){var e=this,s=this.props,a=s.ticks,l=s.tick,c=s.tickLine,u=s.tickFormatter,p=s.stroke,m=Zk(this.props,!1),h=Zk(l,!1),f=_objectSpread$i(_objectSpread$i({},m),{},{fill:"none"},Zk(c,!1)),g=a.map(function(s,a){var g=e.getTickLineCoord(s),b=_objectSpread$i(_objectSpread$i(_objectSpread$i({textAnchor:e.getTickTextAnchor(s)},m),{},{stroke:"none",fill:p},h),{},{index:a,payload:s,x:g.x2,y:g.y2});return ae.createElement(g_,_extends$f({className:clsx("recharts-polar-angle-axis-tick",fO(l)),key:"tick-".concat(s.coordinate)},Ik(e.props,s,a)),c&&ae.createElement("line",_extends$f({className:"recharts-polar-angle-axis-tick-line"},f,g)),l&&PolarAngleAxis2.renderTickItem(l,b,u?u(s.value,a):s.value))});return ae.createElement(g_,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function render(){var e=this.props,s=e.ticks,a=e.radius,l=e.axisLine;return a<=0||!s||!s.length?null:ae.createElement(g_,{className:clsx("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function renderTickItem(e,s,a){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):ae.createElement(xM,_extends$f({},s,{className:"recharts-polar-angle-axis-tick-value"}),a)}}])}();_defineProperty$l(zI,"displayName","PolarAngleAxis"),_defineProperty$l(zI,"axisType","angleAxis"),_defineProperty$l(zI,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const VI=getDefaultExportFromCjs$2(function requireIsPlainObject(){if(RI)return $I;RI=1;var e=require_baseGetTag(),s=function require_getPrototype(){if(II)return OI;II=1;var e=require_overArg()(Object.getPrototypeOf,Object);return OI=e}(),a=requireIsObjectLike(),l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,m=u.call(Object);return $I=function isPlainObject2(l){if(!a(l)||"[object Object]"!=e(l))return!1;var c=s(l);if(null===c)return!0;var h=p.call(c,"constructor")&&c.constructor;return"function"==typeof h&&h instanceof h&&u.call(h)==m}}());var UI,HI;const qI=getDefaultExportFromCjs$2(function requireIsBoolean(){if(HI)return UI;HI=1;var e=require_baseGetTag(),s=requireIsObjectLike();return UI=function isBoolean2(a){return!0===a||!1===a||s(a)&&"[object Boolean]"==e(a)}}());function _typeof$k(e){return(_typeof$k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$e.apply(this,arguments)}function _slicedToArray$2(e,s){return function _arrayWithHoles$2(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$2(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$4(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$4(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$4(e,s)}(e,s)||function _nonIterableRest$2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$4(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys$h(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$h(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$h(Object(a),!0).forEach(function(s){_defineProperty$k(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$h(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$k(e,s,a){return(s=function _toPropertyKey$k(e){var s=function _toPrimitive$k(e,s){if("object"!=_typeof$k(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$k(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$k(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var WI,ZI=function getTrapezoidPath2(e,s,a,l,c){var u,p=a-l;return u="M ".concat(e,",").concat(s),u+="L ".concat(e+a,",").concat(s),u+="L ".concat(e+a-p/2,",").concat(s+c),u+="L ".concat(e+a-p/2-l,",").concat(s+c),u+="L ".concat(e,",").concat(s," Z")},KI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GI=function Trapezoid2(e){var s=_objectSpread$h(_objectSpread$h({},KI),e),a=re.useRef(),l=_slicedToArray$2(re.useState(-1),2),c=l[0],u=l[1];re.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&u(e)}catch(pW){}},[]);var p=s.x,m=s.y,h=s.upperWidth,f=s.lowerWidth,g=s.height,b=s.className,j=s.animationEasing,N=s.animationDuration,k=s.animationBegin,_=s.isUpdateAnimationActive;if(p!==+p||m!==+m||h!==+h||f!==+f||g!==+g||0===h&&0===f||0===g)return null;var T=clsx("recharts-trapezoid",b);return _?ae.createElement(mI,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:g,x:p,y:m},to:{upperWidth:h,lowerWidth:f,height:g,x:p,y:m},duration:N,animationEasing:j,isActive:_},function(e){var l=e.upperWidth,u=e.lowerWidth,p=e.height,m=e.x,h=e.y;return ae.createElement(mI,{canBegin:c>0,from:"0px ".concat(-1===c?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:N,easing:j},ae.createElement("path",_extends$e({},Zk(s,!0),{className:T,d:ZI(m,h,l,u,p),ref:a})))}):ae.createElement("g",null,ae.createElement("path",_extends$e({},Zk(s,!0),{className:T,d:ZI(p,m,h,f,g)})))},YI=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$j(e){return(_typeof$j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties$7(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$7(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ownKeys$g(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$g(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$g(Object(a),!0).forEach(function(s){_defineProperty$j(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$g(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$j(e,s,a){return(s=function _toPropertyKey$j(e){var s=function _toPrimitive$j(e,s){if("object"!=_typeof$j(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$j(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$j(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function defaultPropTransformer(e,s){return _objectSpread$g(_objectSpread$g({},s),e)}function ShapeSelector(e){var s=e.shapeType,a=e.elementProps;switch(s){case"rectangle":return ae.createElement(xI,a);case"trapezoid":return ae.createElement(GI,a);case"sector":return ae.createElement(PO,a);case"symbols":if(function isSymbolsProps(e,s){return"symbols"===e}(s))return ae.createElement(G_,a);break;default:return null}}function Shape(e){var s,a=e.option,l=e.shapeType,c=e.propTransformer,u=void 0===c?defaultPropTransformer:c,p=e.activeClassName,m=void 0===p?"recharts-active-shape":p,h=e.isActive,f=_objectWithoutProperties$7(e,YI);if(re.isValidElement(a))s=re.cloneElement(a,_objectSpread$g(_objectSpread$g({},f),function getPropsFromShapeOption(e){return re.isValidElement(e)?e.props:e}(a)));else if(lk(a))s=a(f);else if(VI(a)&&!qI(a)){var g=u(a,f);s=ae.createElement(ShapeSelector,{shapeType:l,elementProps:g})}else{var b=f;s=ae.createElement(ShapeSelector,{shapeType:l,elementProps:b})}return h?ae.createElement(g_,{className:m},s):s}function isFunnel(e,s){return null!=s&&"trapezoids"in e.props}function isPie(e,s){return null!=s&&"sectors"in e.props}function isScatter(e,s){return null!=s&&"points"in e.props}function compareFunnel(e,s){var a,l,c=e.x===(null==s||null===(a=s.labelViewBox)||void 0===a?void 0:a.x)||e.x===s.x,u=e.y===(null==s||null===(l=s.labelViewBox)||void 0===l?void 0:l.y)||e.y===s.y;return c&&u}function comparePie(e,s){var a=e.endAngle===s.endAngle,l=e.startAngle===s.startAngle;return a&&l}function compareScatter(e,s){var a=e.x===s.x,l=e.y===s.y,c=e.z===s.z;return a&&l&&c}function getActiveShapeIndexForTooltip(e){var s=e.activeTooltipItem,a=e.graphicalItem,l=e.itemData,c=function getShapeDataKey(e,s){var a;return isFunnel(e,s)?a="trapezoids":isPie(e,s)?a="sectors":isScatter(e,s)&&(a="points"),a}(a,s),u=function getActiveShapeTooltipPayload(e,s){var a,l;return isFunnel(e,s)?null===(a=s.tooltipPayload)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.payload:isPie(e,s)?null===(l=s.tooltipPayload)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.payload)||void 0===l?void 0:l.payload:isScatter(e,s)?s.payload:{}}(a,s),p=l.filter(function(e,l){var p=oD(u,e),m=a.props[c].filter(function(e){var l=function getComparisonFn(e,s){var a;return isFunnel(e,s)?a=compareFunnel:isPie(e,s)?a=comparePie:isScatter(e,s)&&(a=compareScatter),a}(a,s);return l(e,s)}),h=a.props[c].indexOf(m[m.length-1]);return p&&l===h});return l.indexOf(p[p.length-1])}function _typeof$i(e){return(_typeof$i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$d.apply(this,arguments)}function ownKeys$f(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$f(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$f(Object(a),!0).forEach(function(s){_defineProperty$i(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$f(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$d(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$i(l.key),l)}}function _callSuper$b(e,s,a){return s=_getPrototypeOf$b(s),function _possibleConstructorReturn$b(e,s){if(s&&("object"===_typeof$i(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$b()?Reflect.construct(s,a||[],_getPrototypeOf$b(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$b=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$b(e){return(_getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$b(e,s){return(_setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$i(e,s,a){return(s=_toPropertyKey$i(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$i(e){var s=function _toPrimitive$i(e,s){if("object"!=_typeof$i(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$i(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$i(s)?s:s+""}var QI,XI,JI,e$,t$,r$,n$,s$,a$=function(){function Pie2(e){var s;return function _classCallCheck$d(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Pie2),_defineProperty$i(s=_callSuper$b(this,Pie2,[e]),"pieRef",null),_defineProperty$i(s,"sectorRefs",[]),_defineProperty$i(s,"id",kk("recharts-pie-")),_defineProperty$i(s,"handleAnimationEnd",function(){var e=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),lk(e)&&e()}),_defineProperty$i(s,"handleAnimationStart",function(){var e=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),lk(e)&&e()}),s.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},s}return function _inherits$b(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$b(e,s)}(Pie2,re.PureComponent),function _createClass$d(e,s,a){return s&&_defineProperties$d(e.prototype,s),a&&_defineProperties$d(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Pie2,[{key:"isActiveIndex",value:function isActiveIndex(e){var s=this.props.activeIndex;return Array.isArray(s)?-1!==s.indexOf(e):e===s}},{key:"hasActiveIndex",value:function hasActiveIndex(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function renderLabels(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,p=Zk(this.props,!1),m=Zk(a,!1),h=Zk(l,!1),f=a&&a.offsetRadius||20,g=e.map(function(e,s){var g=(e.startAngle+e.endAngle)/2,b=dO(e.cx,e.cy,e.outerRadius+f,g),j=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},p),e),{},{stroke:"none"},m),{},{index:s,textAnchor:Pie2.getTextAnchor(b.x,e.cx)},b),N=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},p),e),{},{fill:"none",stroke:e.fill},h),{},{index:s,points:[dO(e.cx,e.cy,e.outerRadius,g),b]}),k=c;return sk(c)&&sk(u)?k="value":sk(c)&&(k=u),ae.createElement(g_,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(s)},l&&Pie2.renderLabelLineItem(l,N,"line"),Pie2.renderLabelItem(a,j,getValueByDataKey(e,k)))});return ae.createElement(g_,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function renderSectorsStatically(e){var s=this,a=this.props,l=a.activeShape,c=a.blendStroke,u=a.inactiveShape;return e.map(function(a,p){if(0===(null==a?void 0:a.startAngle)&&0===(null==a?void 0:a.endAngle)&&1!==e.length)return null;var m=s.isActiveIndex(p),h=u&&s.hasActiveIndex()?u:null,f=m?l:h,g=_objectSpread$f(_objectSpread$f({},a),{},{stroke:c?a.fill:a.stroke,tabIndex:-1});return ae.createElement(g_,_extends$d({ref:function ref(e){e&&!s.sectorRefs.includes(e)&&s.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Ik(s.props,a,p),{key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(p)}),ae.createElement(Shape,_extends$d({option:f,isActive:m,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function renderSectorsWithAnimation(){var e=this,s=this.props,a=s.sectors,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,p=s.animationEasing,m=s.animationId,h=this.state,f=h.prevSectors,g=h.prevIsAnimationActive;return ae.createElement(mI,{begin:c,duration:u,isActive:l,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(s){var l=s.t,c=[],u=(a&&a[0]).startAngle;return a.forEach(function(e,s){var a=f&&f[s],p=s>0?tk(e,"paddingAngle",0):0;if(a){var m=Tk(a.endAngle-a.startAngle,e.endAngle-e.startAngle),h=_objectSpread$f(_objectSpread$f({},e),{},{startAngle:u+p,endAngle:u+m(l)+p});c.push(h),u=h.endAngle}else{var g=e.endAngle,b=e.startAngle,j=Tk(0,g-b)(l),N=_objectSpread$f(_objectSpread$f({},e),{},{startAngle:u+p,endAngle:u+j+p});c.push(N),u=N.endAngle}}),ae.createElement(g_,null,e.renderSectorsStatically(c))})}},{key:"attachKeyboardHandlers",value:function attachKeyboardHandlers(e){var s=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var a=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[a].focus(),s.setState({sectorToFocus:a});break;case"ArrowRight":var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break;case"Escape":s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function renderSectors(){var e=this.props,s=e.sectors,a=e.isAnimationActive,l=this.state.prevSectors;return!(a&&s&&s.length)||l&&oD(l,s)?this.renderSectorsStatically(s):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function componentDidMount(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function render(){var e=this,s=this.props,a=s.hide,l=s.sectors,c=s.className,u=s.label,p=s.cx,m=s.cy,h=s.innerRadius,f=s.outerRadius,g=s.isAnimationActive,b=this.state.isAnimationFinished;if(a||!l||!l.length||!Nk(p)||!Nk(m)||!Nk(h)||!Nk(f))return null;var j=clsx("recharts-pie",c);return ae.createElement(g_,{tabIndex:this.props.rootTabIndex,className:j,ref:function ref(s){e.pieRef=s}},this.renderSectors(),u&&this.renderLabels(l),Label.renderCallByParent(this.props,null,!1),(!g||b)&&LabelList.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,s){return s.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==s.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:e.sectors!==s.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function getTextAnchor(e,s){return e>s?"start":e<s?"end":"middle"}},{key:"renderLabelLineItem",value:function renderLabelLineItem(e,s,a){if(ae.isValidElement(e))return ae.cloneElement(e,s);if(lk(e))return e(s);var l=clsx("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return ae.createElement(FO,_extends$d({},s,{key:a,type:"linear",className:l}))}},{key:"renderLabelItem",value:function renderLabelItem(e,s,a){if(ae.isValidElement(e))return ae.cloneElement(e,s);var l=a;if(lk(e)&&(l=e(s),ae.isValidElement(l)))return l;var c=clsx("recharts-pie-label-text","boolean"==typeof e||lk(e)?"":e.className);return ae.createElement(xM,_extends$d({},s,{alignmentBaseline:"middle",className:c}),l)}}])}();function requireToFinite(){if(e$)return JI;e$=1;var e=requireToNumber(),s=1/0;return JI=function toFinite(a){return a?(a=e(a))===s||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0}}function require_createRange(){if(r$)return t$;r$=1;var e=function require_baseRange(){if(XI)return QI;XI=1;var e=Math.ceil,s=Math.max;return QI=function baseRange(a,l,c,u){for(var p=-1,m=s(e((l-a)/(c||1)),0),h=Array(m);m--;)h[u?m:++p]=a,a+=c;return h}}(),s=require_isIterateeCall(),a=requireToFinite();return t$=function createRange(l){return function(c,u,p){return p&&"number"!=typeof p&&s(c,u,p)&&(u=p=void 0),c=a(c),void 0===u?(u=c,c=0):u=a(u),p=void 0===p?c<u?1:-1:a(p),e(c,u,p,l)}}}WI=a$,_defineProperty$i(a$,"displayName","Pie"),_defineProperty$i(a$,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!LA,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),_defineProperty$i(a$,"parseDeltaAngle",function(e,s){return jk(s-e)*Math.min(Math.abs(s-e),360)}),_defineProperty$i(a$,"getRealPieData",function(e){var s=e.data,a=e.children,l=Zk(e,!1),c=findAllByType(a,YA);return s&&s.length?s.map(function(e,s){return _objectSpread$f(_objectSpread$f(_objectSpread$f({payload:e},l),e),c&&c[s]&&c[s].props)}):c&&c.length?c.map(function(e){return _objectSpread$f(_objectSpread$f({},l),e.props)}):[]}),_defineProperty$i(a$,"parseCoordinateOfPie",function(e,s){var a=s.top,l=s.left,c=s.width,u=s.height,p=uO(c,u);return{cx:l+_k(e.cx,c,c/2),cy:a+_k(e.cy,u,u/2),innerRadius:_k(e.innerRadius,p,0),outerRadius:_k(e.outerRadius,p,.8*p),maxRadius:e.maxRadius||Math.sqrt(c*c+u*u)/2}}),_defineProperty$i(a$,"getComposedData",function(e){var s=e.item,a=e.offset,l=void 0!==s.type.defaultProps?_objectSpread$f(_objectSpread$f({},s.type.defaultProps),s.props):s.props,c=WI.getRealPieData(l);if(!c||!c.length)return null;var u=l.cornerRadius,p=l.startAngle,m=l.endAngle,h=l.paddingAngle,f=l.dataKey,g=l.nameKey,b=l.valueKey,j=l.tooltipType,N=Math.abs(l.minAngle),k=WI.parseCoordinateOfPie(l,a),_=WI.parseDeltaAngle(p,m),T=Math.abs(_),E=f;sk(f)&&sk(b)?(x_(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),E="value"):sk(f)&&(x_(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),E=b);var A,L,O=c.filter(function(e){return 0!==getValueByDataKey(e,E,0)}).length,I=T-O*N-(T>=360?O:O-1)*h,$=c.reduce(function(e,s){var a=getValueByDataKey(s,E,0);return e+(Nk(a)?a:0)},0);$>0&&(A=c.map(function(e,s){var a,l=getValueByDataKey(e,E,0),c=getValueByDataKey(e,g,s),m=(Nk(l)?l:0)/$,f=(a=s?L.endAngle+jk(_)*h*(0!==l?1:0):p)+jk(_)*((0!==l?N:0)+m*I),b=(a+f)/2,T=(k.innerRadius+k.outerRadius)/2,A=[{name:c,value:l,payload:e,dataKey:E,type:j}],O=dO(k.cx,k.cy,T,b);return L=_objectSpread$f(_objectSpread$f(_objectSpread$f({percent:m,cornerRadius:u,name:c,tooltipPayload:A,midAngle:b,middleRadius:T,tooltipPosition:O},e),k),{},{value:getValueByDataKey(e,E),startAngle:a,endAngle:f,payload:e,paddingAngle:jk(_)*h})}));return _objectSpread$f(_objectSpread$f({},k),{},{sectors:A,data:c})});const i$=getDefaultExportFromCjs$2(function requireRange(){if(s$)return n$;s$=1;var e=require_createRange()();return n$=e}());function _typeof$h(e){return(_typeof$h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$e(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$e(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$e(Object(a),!0).forEach(function(s){_defineProperty$h(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$e(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$h(e,s,a){return(s=function _toPropertyKey$h(e){var s=function _toPrimitive$h(e,s){if("object"!=_typeof$h(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$h(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$h(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var o$=["Webkit","Moz","O","ms"];function _typeof$g(e){return(_typeof$g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$c.apply(this,arguments)}function ownKeys$d(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$d(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$d(Object(a),!0).forEach(function(s){_defineProperty$g(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$d(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$c(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$g(l.key),l)}}function _callSuper$a(e,s,a){return s=_getPrototypeOf$a(s),function _possibleConstructorReturn$a(e,s){if(s&&("object"===_typeof$g(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$a()?Reflect.construct(s,a||[],_getPrototypeOf$a(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$a=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$a(e){return(_getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$a(e,s){return(_setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$g(e,s,a){return(s=_toPropertyKey$g(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$g(e){var s=function _toPrimitive$g(e,s){if("object"!=_typeof$g(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$g(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$g(s)?s:s+""}var l$,c$,d$,u$,p$=function isTouch2(e){return e.changedTouches&&!!e.changedTouches.length},m$=function(){function Brush2(e){var s;return function _classCallCheck$c(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Brush2),_defineProperty$g(s=_callSuper$a(this,Brush2,[e]),"handleDrag",function(e){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(e):s.state.isSlideMoving&&s.handleSlideDrag(e)}),_defineProperty$g(s,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleDrag(e.changedTouches[0])}),_defineProperty$g(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=s.props,a=e.endIndex,l=e.onDragEnd,c=e.startIndex;null==l||l({endIndex:a,startIndex:c})}),s.detachDragEndListener()}),_defineProperty$g(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),_defineProperty$g(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),_defineProperty$g(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),_defineProperty$g(s,"handleSlideDragStart",function(e){var a=p$(e)?e.changedTouches[0]:e;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return function _inherits$a(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$a(e,s)}(Brush2,re.PureComponent),function _createClass$c(e,s,a){return s&&_defineProperties$c(e.prototype,s),a&&_defineProperties$c(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Brush2,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function getIndex(e){var s=e.startX,a=e.endX,l=this.state.scaleValues,c=this.props,u=c.gap,p=c.data.length-1,m=Math.min(s,a),h=Math.max(s,a),f=Brush2.getIndexInRange(l,m),g=Brush2.getIndexInRange(l,h);return{startIndex:f-f%u,endIndex:g===p?p:g-g%u}}},{key:"getTextOfTick",value:function getTextOfTick(e){var s=this.props,a=s.data,l=s.tickFormatter,c=s.dataKey,u=getValueByDataKey(a[e],c,e);return lk(l)?l(u,e):u}},{key:"attachDragEndListener",value:function attachDragEndListener(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function detachDragEndListener(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function handleSlideDrag(e){var s=this.state,a=s.slideMoveStartX,l=s.startX,c=s.endX,u=this.props,p=u.x,m=u.width,h=u.travellerWidth,f=u.startIndex,g=u.endIndex,b=u.onChange,j=e.pageX-a;j>0?j=Math.min(j,p+m-h-c,p+m-h-l):j<0&&(j=Math.max(j,p-l,p-c));var N=this.getIndex({startX:l+j,endX:c+j});N.startIndex===f&&N.endIndex===g||!b||b(N),this.setState({startX:l+j,endX:c+j,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function handleTravellerDragStart(e,s){var a=p$(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function handleTravellerMove(e){var s=this.state,a=s.brushMoveStartX,l=s.movingTravellerId,c=s.endX,u=s.startX,p=this.state[l],m=this.props,h=m.x,f=m.width,g=m.travellerWidth,b=m.onChange,j=m.gap,N=m.data,k={startX:this.state.startX,endX:this.state.endX},_=e.pageX-a;_>0?_=Math.min(_,h+f-g-p):_<0&&(_=Math.max(_,h-p)),k[l]=p+_;var T=this.getIndex(k),E=T.startIndex,A=T.endIndex;this.setState(_defineProperty$g(_defineProperty$g({},l,p+_),"brushMoveStartX",e.pageX),function(){b&&function isFullGap2(){var e=N.length-1;return"startX"===l&&(c>u?E%j===0:A%j===0)||c<u&&A===e||"endX"===l&&(c>u?A%j===0:E%j===0)||c>u&&A===e}()&&b(T)})}},{key:"handleTravellerMoveKeyboard",value:function handleTravellerMoveKeyboard(e,s){var a=this,l=this.state,c=l.scaleValues,u=l.startX,p=l.endX,m=this.state[s],h=c.indexOf(m);if(-1!==h){var f=h+e;if(!(-1===f||f>=c.length)){var g=c[f];"startX"===s&&g>=p||"endX"===s&&g<=u||this.setState(_defineProperty$g({},s,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function renderBackground(){var e=this.props,s=e.x,a=e.y,l=e.width,c=e.height,u=e.fill,p=e.stroke;return ae.createElement("rect",{stroke:p,fill:u,x:s,y:a,width:l,height:c})}},{key:"renderPanorama",value:function renderPanorama(){var e=this.props,s=e.x,a=e.y,l=e.width,c=e.height,u=e.data,p=e.children,m=e.padding,h=re.Children.only(p);return h?ae.cloneElement(h,{x:s,y:a,width:l,height:c,margin:m,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function renderTravellerLayer(e,s){var a,l,c=this,u=this.props,p=u.y,m=u.travellerWidth,h=u.height,f=u.traveller,g=u.ariaLabel,b=u.data,j=u.startIndex,N=u.endIndex,k=Math.max(e,this.props.x),_=_objectSpread$d(_objectSpread$d({},Zk(this.props,!1)),{},{x:k,y:p,width:m,height:h}),T=g||"Min value: ".concat(null===(a=b[j])||void 0===a?void 0:a.name,", Max value: ").concat(null===(l=b[N])||void 0===l?void 0:l.name);return ae.createElement(g_,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function onKeyDown(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),c.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,s))},onFocus:function onFocus(){c.setState({isTravellerFocused:!0})},onBlur:function onBlur(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},Brush2.renderTraveller(f,_))}},{key:"renderSlide",value:function renderSlide(e,s){var a=this.props,l=a.y,c=a.height,u=a.stroke,p=a.travellerWidth,m=Math.min(e,s)+p,h=Math.max(Math.abs(s-e)-p,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:m,y:l,width:h,height:c})}},{key:"renderText",value:function renderText(){var e=this.props,s=e.startIndex,a=e.endIndex,l=e.y,c=e.height,u=e.travellerWidth,p=e.stroke,m=this.state,h=m.startX,f=m.endX,g={pointerEvents:"none",fill:p};return ae.createElement(g_,{className:"recharts-brush-texts"},ae.createElement(xM,_extends$c({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-5,y:l+c/2},g),this.getTextOfTick(s)),ae.createElement(xM,_extends$c({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+u+5,y:l+c/2},g),this.getTextOfTick(a)))}},{key:"render",value:function render(){var e=this.props,s=e.data,a=e.className,l=e.children,c=e.x,u=e.y,p=e.width,m=e.height,h=e.alwaysShowText,f=this.state,g=f.startX,b=f.endX,j=f.isTextActive,N=f.isSlideMoving,k=f.isTravellerMoving,_=f.isTravellerFocused;if(!s||!s.length||!Nk(c)||!Nk(u)||!Nk(p)||!Nk(m)||p<=0||m<=0)return null;var T=clsx("recharts-brush",a),E=1===ae.Children.count(l),A=function generatePrefixStyle2(e,s){var a=e.replace(/(\w)/,function(e){return e.toUpperCase()}),l=o$.reduce(function(e,l){return _objectSpread$e(_objectSpread$e({},e),{},_defineProperty$h({},l+a,s))},{});return l[e]=s,l}("userSelect","none");return ae.createElement(g_,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(j||N||k||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function renderDefaultTraveller(e){var s=e.x,a=e.y,l=e.width,c=e.height,u=e.stroke,p=Math.floor(a+c/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:s,y:a,width:l,height:c,fill:u,stroke:"none"}),ae.createElement("line",{x1:s+1,y1:p,x2:s+l-1,y2:p,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:s+1,y1:p+2,x2:s+l-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function renderTraveller(e,s){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):Brush2.renderDefaultTraveller(s)}},{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,s){var a=e.data,l=e.width,c=e.x,u=e.travellerWidth,p=e.updateId,m=e.startIndex,h=e.endIndex;if(a!==s.prevData||p!==s.prevUpdateId)return _objectSpread$d({prevData:a,prevTravellerWidth:u,prevUpdateId:p,prevX:c,prevWidth:l},a&&a.length?function createScale2(e){var s=e.data,a=e.startIndex,l=e.endIndex,c=e.x,u=e.width,p=e.travellerWidth;if(!s||!s.length)return{};var m=s.length,h=point().domain(i$(0,m)).range([c,c+u-p]),f=h.domain().map(function(e){return h(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(l),scale:h,scaleValues:f}}({data:a,width:l,x:c,travellerWidth:u,startIndex:m,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||c!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([c,c+l-u]);var f=s.scale.domain().map(function(e){return s.scale(e)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:p,prevX:c,prevWidth:l,startX:s.scale(e.startIndex),endX:s.scale(e.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function getIndexInRange(e,s){for(var a=0,l=e.length-1;l-a>1;){var c=Math.floor((a+l)/2);e[c]>s?l=c:a=c}return s>=e[l]?l:a}}])}();_defineProperty$g(m$,"displayName","Brush"),_defineProperty$g(m$,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const h$=getDefaultExportFromCjs$2(function requireSome(){if(u$)return d$;u$=1;var e=require_arraySome(),s=require_baseIteratee(),a=function require_baseSome(){if(c$)return l$;c$=1;var e=require_baseEach();return l$=function baseSome(s,a){var l;return e(s,function(e,s,c){return!(l=a(e,s,c))}),!!l}}(),l=requireIsArray(),c=require_isIterateeCall();return d$=function some2(u,p,m){var h=l(u)?e:a;return m&&c(u,p,m)&&(p=void 0),h(u,s(p,3))}}());var f$,g$,x$,v$,y$=function ifOverflowMatches2(e,s){var a=e.alwaysShow,l=e.ifOverflow;return a&&(l="extendDomain"),l===s};const b$=getDefaultExportFromCjs$2(function requireMapValues(){if(v$)return x$;v$=1;var e=function require_baseAssignValue(){if(g$)return f$;g$=1;var e=require_defineProperty();return f$=function baseAssignValue(s,a,l){"__proto__"==a&&e?e(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}}(),s=require_baseForOwn(),a=require_baseIteratee();return x$=function mapValues2(l,c){var u={};return c=a(c,3),s(l,function(s,a,l){e(u,a,c(s,a,l))}),u}}());var j$,w$,N$,S$,C$,k$;const _$=getDefaultExportFromCjs$2(function requireEvery(){if(k$)return C$;k$=1;var e=function require_arrayEvery(){return w$?j$:(w$=1,j$=function arrayEvery(e,s){for(var a=-1,l=null==e?0:e.length;++a<l;)if(!s(e[a],a,e))return!1;return!0})}(),s=function require_baseEvery(){if(S$)return N$;S$=1;var e=require_baseEach();return N$=function baseEvery(s,a){var l=!0;return e(s,function(e,s,c){return l=!!a(e,s,c)}),l}}(),a=require_baseIteratee(),l=requireIsArray(),c=require_isIterateeCall();return C$=function every2(u,p,m){var h=l(u)?e:s;return m&&c(u,p,m)&&(p=void 0),h(u,a(p,3))}}());var P$=["x","y"];function _typeof$f(e){return(_typeof$f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$b.apply(this,arguments)}function ownKeys$c(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$c(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$c(Object(a),!0).forEach(function(s){_defineProperty$f(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$c(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$f(e,s,a){return(s=function _toPropertyKey$f(e){var s=function _toPrimitive$f(e,s){if("object"!=_typeof$f(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$f(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$f(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _objectWithoutProperties$6(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$6(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function typeguardBarRectangleProps(e,s){var a=e.x,l=e.y,c=_objectWithoutProperties$6(e,P$),u="".concat(a),p=parseInt(u,10),m="".concat(l),h=parseInt(m,10),f="".concat(s.height||c.height),g=parseInt(f,10),b="".concat(s.width||c.width),j=parseInt(b,10);return _objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},s),c),p?{x:p}:{}),h?{y:h}:{}),{},{height:g,width:j,name:s.name,radius:s.radius})}function BarRectangle(e){return ae.createElement(Shape,_extends$b({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},e))}var T$,E$=function minPointSizeCallback2(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,l){if("number"==typeof e)return e;var c=Nk(a)||function isNullish2(e){return sk(e)}(a);return c?e(a,l):(c||invariant(),s)}},A$=["value","background"];function _typeof$e(e){return(_typeof$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties$5(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$5(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$a.apply(this,arguments)}function ownKeys$b(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$b(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$b(Object(a),!0).forEach(function(s){_defineProperty$e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$b(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$b(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$e(l.key),l)}}function _callSuper$9(e,s,a){return s=_getPrototypeOf$9(s),function _possibleConstructorReturn$9(e,s){if(s&&("object"===_typeof$e(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$9(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$9()?Reflect.construct(s,a||[],_getPrototypeOf$9(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$9=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$9(e){return(_getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$9(e,s){return(_setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$e(e,s,a){return(s=_toPropertyKey$e(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$e(e){var s=function _toPrimitive$e(e,s){if("object"!=_typeof$e(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$e(s)?s:s+""}var M$=function(){function Bar2(){var e;!function _classCallCheck$b(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Bar2);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _defineProperty$e(e=_callSuper$9(this,Bar2,[].concat(a)),"state",{isAnimationFinished:!1}),_defineProperty$e(e,"id",kk("recharts-bar-")),_defineProperty$e(e,"handleAnimationEnd",function(){var s=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),s&&s()}),_defineProperty$e(e,"handleAnimationStart",function(){var s=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),s&&s()}),e}return function _inherits$9(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$9(e,s)}(Bar2,re.PureComponent),function _createClass$b(e,s,a){return s&&_defineProperties$b(e.prototype,s),a&&_defineProperties$b(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Bar2,[{key:"renderRectanglesStatically",value:function renderRectanglesStatically(e){var s=this,a=this.props,l=a.shape,c=a.dataKey,u=a.activeIndex,p=a.activeBar,m=Zk(this.props,!1);return e&&e.map(function(e,a){var h=a===u,f=h?p:l,g=_objectSpread$b(_objectSpread$b(_objectSpread$b({},m),e),{},{isActive:h,option:f,index:a,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ae.createElement(g_,_extends$a({className:"recharts-bar-rectangle"},Ik(s.props,e,a),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(a)}),ae.createElement(BarRectangle,g))})}},{key:"renderRectanglesWithAnimation",value:function renderRectanglesWithAnimation(){var e=this,s=this.props,a=s.data,l=s.layout,c=s.isAnimationActive,u=s.animationBegin,p=s.animationDuration,m=s.animationEasing,h=s.animationId,f=this.state.prevData;return ae.createElement(mI,{begin:u,duration:p,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(s){var c=s.t,u=a.map(function(e,s){var a=f&&f[s];if(a){var u=Tk(a.x,e.x),p=Tk(a.y,e.y),m=Tk(a.width,e.width),h=Tk(a.height,e.height);return _objectSpread$b(_objectSpread$b({},e),{},{x:u(c),y:p(c),width:m(c),height:h(c)})}if("horizontal"===l){var g=Tk(0,e.height)(c);return _objectSpread$b(_objectSpread$b({},e),{},{y:e.y+e.height-g,height:g})}var b=Tk(0,e.width)(c);return _objectSpread$b(_objectSpread$b({},e),{},{width:b})});return ae.createElement(g_,null,e.renderRectanglesStatically(u))})}},{key:"renderRectangles",value:function renderRectangles(){var e=this.props,s=e.data,a=e.isAnimationActive,l=this.state.prevData;return!(a&&s&&s.length)||l&&oD(l,s)?this.renderRectanglesStatically(s):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function renderBackground(){var e=this,s=this.props,a=s.data,l=s.dataKey,c=s.activeIndex,u=Zk(this.props.background,!1);return a.map(function(s,a){s.value;var p=s.background,m=_objectWithoutProperties$5(s,A$);if(!p)return null;var h=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},m),{},{fill:"#eee"},p),u),Ik(e.props,s,a)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:l,index:a,className:"recharts-bar-background-rectangle"});return ae.createElement(BarRectangle,_extends$a({key:"background-bar-".concat(a),option:e.props.background,isActive:a===c},h))})}},{key:"renderErrorBar",value:function renderErrorBar(e,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.data,c=a.xAxis,u=a.yAxis,p=a.layout,m=findAllByType(a.children,RD);if(!m)return null;var h="vertical"===p?l[0].height/2:l[0].width/2,f=function dataPointFormatter2(e,s){var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:getValueByDataKey(e,s)}},g={clipPath:e?"url(#clipPath-".concat(s,")"):null};return ae.createElement(g_,g,m.map(function(e){return ae.cloneElement(e,{key:"error-bar-".concat(s,"-").concat(e.props.dataKey),data:l,xAxis:c,yAxis:u,layout:p,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function render(){var e=this.props,s=e.hide,a=e.data,l=e.className,c=e.xAxis,u=e.yAxis,p=e.left,m=e.top,h=e.width,f=e.height,g=e.isAnimationActive,b=e.background,j=e.id;if(s||!a||!a.length)return null;var N=this.state.isAnimationFinished,k=clsx("recharts-bar",l),_=c&&c.allowDataOverflow,T=u&&u.allowDataOverflow,E=_||T,A=sk(j)?this.id:j;return ae.createElement(g_,{className:k},_||T?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(A)},ae.createElement("rect",{x:_?p:p-h/2,y:T?m:m-f/2,width:_?h:2*h,height:T?f:2*f}))):null,ae.createElement(g_,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!g||N)&&LabelList.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,s){return e.animationId!==s.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:s.curData}:e.data!==s.curData?{curData:e.data}:null}}])}();function _typeof$d(e){return(_typeof$d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties$a(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$d(l.key),l)}}function ownKeys$a(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$a(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$a(Object(a),!0).forEach(function(s){_defineProperty$d(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$a(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$d(e,s,a){return(s=_toPropertyKey$d(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$d(e){var s=function _toPrimitive$d(e,s){if("object"!=_typeof$d(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$d(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$d(s)?s:s+""}T$=M$,_defineProperty$e(M$,"displayName","Bar"),_defineProperty$e(M$,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!LA,animationBegin:0,animationDuration:400,animationEasing:"ease"}),_defineProperty$e(M$,"getComposedData",function(e){var s=e.props,a=e.item,l=e.barPosition,c=e.bandSize,u=e.xAxis,p=e.yAxis,m=e.xAxisTicks,h=e.yAxisTicks,f=e.stackedData,g=e.dataStartIndex,b=e.displayedData,j=e.offset,N=function findPositionOfBar2(e,s){if(!e)return null;for(var a=0,l=e.length;a<l;a++)if(e[a].item===s)return e[a].position;return null}(l,a);if(!N)return null;var k=s.layout,_=a.type.defaultProps,T=void 0!==_?_objectSpread$b(_objectSpread$b({},_),a.props):a.props,E=T.dataKey,A=T.children,L=T.minPointSize,O="horizontal"===k?p:u,I=f?O.scale.domain():null,$=function getBaseValueOfBar2(e){var s=e.numericAxis,a=s.scale.domain();if("number"===s.type){var l=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]);return l<=0&&c>=0?0:c<0?c:l}return a[0]}({numericAxis:O}),z=findAllByType(A,YA),U=b.map(function(e,s){var l,b,j,_,T,A;f?l=function truncateByDomain2(e,s){if(!s||2!==s.length||!Nk(s[0])||!Nk(s[1]))return e;var a=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),c=[e[0],e[1]];return(!Nk(e[0])||e[0]<a)&&(c[0]=a),(!Nk(e[1])||e[1]>l)&&(c[1]=l),c[0]>l&&(c[0]=l),c[1]<a&&(c[1]=a),c}(f[g+s],I):(l=getValueByDataKey(e,E),Array.isArray(l)||(l=[$,l]));var O=E$(L,T$.defaultProps.minPointSize)(l[1],s);if("horizontal"===k){var U,H=[p.scale(l[0]),p.scale(l[1])],q=H[0],Z=H[1];b=eO({axis:u,ticks:m,bandSize:c,offset:N.offset,entry:e,index:s}),j=null!==(U=null!=Z?Z:q)&&void 0!==U?U:void 0,_=N.size;var Y=q-Z;if(T=Number.isNaN(Y)?0:Y,A={x:b,y:p.y,width:_,height:p.height},Math.abs(O)>0&&Math.abs(T)<Math.abs(O)){var X=jk(T||O)*(Math.abs(O)-Math.abs(T));j-=X,T+=X}}else{var J=[u.scale(l[0]),u.scale(l[1])],re=J[0],ae=J[1];if(b=re,j=eO({axis:p,ticks:h,bandSize:c,offset:N.offset,entry:e,index:s}),_=ae-re,T=N.size,A={x:u.x,y:j,width:u.width,height:T},Math.abs(O)>0&&Math.abs(_)<Math.abs(O))_+=jk(_||O)*(Math.abs(O)-Math.abs(_))}return _objectSpread$b(_objectSpread$b(_objectSpread$b({},e),{},{x:b,y:j,width:_,height:T,value:f?l:l[1],payload:e,background:A},z&&z[s]&&z[s].props),{},{tooltipPayload:[oO(a,e)],tooltipPosition:{x:b+_/2,y:j+T/2}})});return _objectSpread$b({data:U,layout:k},j)});var L$=function formatAxisMap3(e,s,a,l,c){var u=e.width,p=e.height,m=e.layout,h=e.children,f=Object.keys(s),g={left:a.left,leftMirror:a.left,right:u-a.right,rightMirror:u-a.right,top:a.top,topMirror:a.top,bottom:p-a.bottom,bottomMirror:p-a.bottom},b=!!findChildByType(h,M$);return f.reduce(function(u,p){var h,f,j,N,k,_=s[p],T=_.orientation,E=_.domain,A=_.padding,L=void 0===A?{}:A,O=_.mirror,I=_.reversed,$="".concat(T).concat(O?"Mirror":"");if("number"===_.type&&("gap"===_.padding||"no-gap"===_.padding)){var z=E[1]-E[0],U=1/0,H=_.categoricalDomain.sort(Ek);if(H.forEach(function(e,s){s>0&&(U=Math.min((e||0)-(H[s-1]||0),U))}),Number.isFinite(U)){var q=U/z,Z="vertical"===_.layout?a.height:a.width;if("gap"===_.padding&&(h=q*Z/2),"no-gap"===_.padding){var Y=_k(e.barCategoryGap,q*Z),X=q*Z/2;h=X-Y-(X-Y)/Z*Y}}}f="xAxis"===l?[a.left+(L.left||0)+(h||0),a.left+a.width-(L.right||0)-(h||0)]:"yAxis"===l?"horizontal"===m?[a.top+a.height-(L.bottom||0),a.top+(L.top||0)]:[a.top+(L.top||0)+(h||0),a.top+a.height-(L.bottom||0)-(h||0)]:_.range,I&&(f=[f[1],f[0]]);var J=KD(_,c,b),re=J.scale,ae=J.realScaleType;re.domain(E).range(f),YD(re);var le=JD(re,_objectSpread$a(_objectSpread$a({},_),{},{realScaleType:ae}));"xAxis"===l?(k="top"===T&&!O||"bottom"===T&&O,j=a.left,N=g[$]-k*_.height):"yAxis"===l&&(k="left"===T&&!O||"right"===T&&O,j=g[$]-k*_.width,N=a.top);var ce=_objectSpread$a(_objectSpread$a(_objectSpread$a({},_),le),{},{realScaleType:ae,x:j,y:N,scale:re,width:"xAxis"===l?a.width:_.width,height:"yAxis"===l?a.height:_.height});return ce.bandSize=aO(ce,le),_.hide||"xAxis"!==l?_.hide||(g[$]+=(k?-1:1)*ce.width):g[$]+=(k?-1:1)*ce.height,_objectSpread$a(_objectSpread$a({},u),{},_defineProperty$d({},p,ce))},{})},D$=function rectWithPoints2(e,s){var a=e.x,l=e.y,c=s.x,u=s.y;return{x:Math.min(a,c),y:Math.min(l,u),width:Math.abs(c-a),height:Math.abs(u-l)}},O$=function(){function ScaleHelper2(e){!function _classCallCheck$a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,ScaleHelper2),this.scale=e}return function _createClass$a(e,s,a){return s&&_defineProperties$a(e.prototype,s),a&&_defineProperties$a(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(ScaleHelper2,[{key:"domain",get:function get2(){return this.scale.domain}},{key:"range",get:function get2(){return this.scale.range}},{key:"rangeMin",get:function get2(){return this.range()[0]}},{key:"rangeMax",get:function get2(){return this.range()[1]}},{key:"bandwidth",get:function get2(){return this.scale.bandwidth}},{key:"apply",value:function apply(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.bandAware,l=s.position;if(void 0!==e){if(l)switch(l){case"start":default:return this.scale(e);case"middle":var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c;case"end":var u=this.bandwidth?this.bandwidth():0;return this.scale(e)+u}if(a){var p=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+p}return this.scale(e)}}},{key:"isInRange",value:function isInRange(e){var s=this.range(),a=s[0],l=s[s.length-1];return a<=l?e>=a&&e<=l:e>=l&&e<=a}}],[{key:"create",value:function create2(e){return new ScaleHelper2(e)}}])}();_defineProperty$d(O$,"EPS",1e-4);var I$=function createLabeledScales2(e){var s=Object.keys(e).reduce(function(s,a){return _objectSpread$a(_objectSpread$a({},s),{},_defineProperty$d({},a,O$.create(e[a])))},{});return _objectSpread$a(_objectSpread$a({},s),{},{apply:function apply(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.bandAware,c=a.position;return b$(e,function(e,a){return s[a].apply(e,{bandAware:l,position:c})})},isInRange:function isInRange(e){return _$(e,function(e,a){return s[a].isInRange(e)})}})};var $$,R$,F$,B$,z$,V$,U$,H$;function requireFindIndex(){if(V$)return z$;V$=1;var e=require_baseFindIndex(),s=require_baseIteratee(),a=function requireToInteger(){if(B$)return F$;B$=1;var e=requireToFinite();return F$=function toInteger(s){var a=e(s),l=a%1;return a==a?l?a-l:a:0}}(),l=Math.max;return z$=function findIndex2(c,u,p){var m=null==c?0:c.length;if(!m)return-1;var h=null==p?0:a(p);return h<0&&(h=l(m+h,0)),e(c,s(u,3),h)}}const q$=getDefaultExportFromCjs$2(function requireFind(){if(H$)return U$;H$=1;var e=function require_createFind(){if(R$)return $$;R$=1;var e=require_baseIteratee(),s=requireIsArrayLike(),a=requireKeys();return $$=function createFind(l){return function(c,u,p){var m=Object(c);if(!s(c)){var h=e(u,3);c=a(c),u=function(e){return h(m[e],e,m)}}var f=l(c,u,p);return f>-1?m[h?c[f]:f]:void 0}}}()(requireFindIndex());return U$=e}());var W$=getDefaultExportFromCjs$2(requireMemoize())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Z$=re.createContext(void 0),K$=re.createContext(void 0),G$=re.createContext(void 0),Y$=re.createContext({}),Q$=re.createContext(void 0),X$=re.createContext(0),J$=re.createContext(0),eR=function ChartLayoutContextProvider2(e){var s=e.state,a=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.clipPathId,p=e.children,m=e.width,h=e.height,f=W$(c);return ae.createElement(Z$.Provider,{value:a},ae.createElement(K$.Provider,{value:l},ae.createElement(Y$.Provider,{value:c},ae.createElement(G$.Provider,{value:f},ae.createElement(Q$.Provider,{value:u},ae.createElement(X$.Provider,{value:h},ae.createElement(J$.Provider,{value:m},p)))))))},tR=function useXAxisOrThrow2(e){var s=re.useContext(Z$);null==s&&invariant();var a=s[e];return null==a&&invariant(),a},rR=function useYAxisOrThrow2(e){var s=re.useContext(K$);null==s&&invariant();var a=s[e];return null==a&&invariant(),a},nR=function useChartWidth2(){return re.useContext(J$)},sR=function useChartHeight2(){return re.useContext(X$)};function _typeof$c(e){return(_typeof$c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createClass$9(e,s,a){return s&&function _defineProperties$9(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$c(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$8(e,s,a){return s=_getPrototypeOf$8(s),function _possibleConstructorReturn$8(e,s){if(s&&("object"===_typeof$c(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$8()?Reflect.construct(s,a||[],_getPrototypeOf$8(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$8=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$8(e){return(_getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$8(e,s){return(_setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function ownKeys$9(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$9(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$9(Object(a),!0).forEach(function(s){_defineProperty$c(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$9(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$c(e,s,a){return(s=_toPropertyKey$c(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$c(e){var s=function _toPrimitive$c(e,s){if("object"!=_typeof$c(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$c(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$c(s)?s:s+""}function _slicedToArray$1(e,s){return function _arrayWithHoles$1(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit$1(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||function _unsupportedIterableToArray$3(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$3(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$3(e,s)}(e,s)||function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$3(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$9.apply(this,arguments)}function ReferenceLineImpl(e){var s=e.x,a=e.y,l=e.segment,c=e.xAxisId,u=e.yAxisId,p=e.shape,m=e.className,h=e.alwaysShow,f=function useClipPathId2(){return re.useContext(Q$)}(),g=tR(c),b=rR(u),j=function useViewBox2(){return re.useContext(G$)}();if(!f||!j)return null;x_(void 0===h,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var N=function getEndPoints2(e,s,a,l,c,u,p,m,h){var f=c.x,g=c.y,b=c.width,j=c.height;if(a){var N=h.y,k=e.y.apply(N,{position:u});if(y$(h,"discard")&&!e.y.isInRange(k))return null;var _=[{x:f+b,y:k},{x:f,y:k}];return"left"===m?_.reverse():_}if(s){var T=h.x,E=e.x.apply(T,{position:u});if(y$(h,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:g+j},{x:E,y:g}];return"top"===p?A.reverse():A}if(l){var L=h.segment.map(function(s){return e.apply(s,{position:u})});return y$(h,"discard")&&h$(L,function(s){return!e.isInRange(s)})?null:L}return null}(I$({x:g.scale,y:b.scale}),Sk(s),Sk(a),l&&2===l.length,j,e.position,g.orientation,b.orientation,e);if(!N)return null;var k=_slicedToArray$1(N,2),_=k[0],T=_.x,E=_.y,A=k[1],L=A.x,O=A.y,I=_objectSpread$9(_objectSpread$9({clipPath:y$(e,"hidden")?"url(#".concat(f,")"):void 0},Zk(e,!0)),{},{x1:T,y1:E,x2:L,y2:O});return ae.createElement(g_,{className:clsx("recharts-reference-line",m)},function renderLine2(e,s){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):ae.createElement("line",_extends$9({},s,{className:"recharts-reference-line-line"}))}(p,I),Label.renderCallByParent(e,function rectWithCoords2(e){var s=e.x1,a=e.y1,l=e.x2,c=e.y2;return D$({x:s,y:a},{x:l,y:c})}({x1:T,y1:E,x2:L,y2:O})))}var aR=function(){function ReferenceLine2(){return function _classCallCheck$9(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,ReferenceLine2),_callSuper$8(this,ReferenceLine2,arguments)}return function _inherits$8(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$8(e,s)}(ReferenceLine2,ae.Component),_createClass$9(ReferenceLine2,[{key:"render",value:function render(){return ae.createElement(ReferenceLineImpl,this.props)}}])}();function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$8.apply(this,arguments)}function _typeof$b(e){return(_typeof$b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$8(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$8(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$8(Object(a),!0).forEach(function(s){_defineProperty$b(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$8(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _createClass$8(e,s,a){return s&&function _defineProperties$8(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$b(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$7(e,s,a){return s=_getPrototypeOf$7(s),function _possibleConstructorReturn$7(e,s){if(s&&("object"===_typeof$b(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$7()?Reflect.construct(s,a||[],_getPrototypeOf$7(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$7=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$7(e){return(_getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$7(e,s){return(_setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$b(e,s,a){return(s=_toPropertyKey$b(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$b(e){var s=function _toPrimitive$b(e,s){if("object"!=_typeof$b(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$b(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$b(s)?s:s+""}_defineProperty$c(aR,"displayName","ReferenceLine"),_defineProperty$c(aR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var iR=function(){function ReferenceDot2(){return function _classCallCheck$8(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,ReferenceDot2),_callSuper$7(this,ReferenceDot2,arguments)}return function _inherits$7(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$7(e,s)}(ReferenceDot2,ae.Component),_createClass$8(ReferenceDot2,[{key:"render",value:function render(){var e=this.props,s=e.x,a=e.y,l=e.r,c=e.alwaysShow,u=e.clipPathId,p=Sk(s),m=Sk(a);if(x_(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!m)return null;var h=function getCoordinate2(e){var s=e.x,a=e.y,l=e.xAxis,c=e.yAxis,u=I$({x:l.scale,y:c.scale}),p=u.apply({x:s,y:a},{bandAware:!0});return y$(e,"discard")&&!u.isInRange(p)?null:p}(this.props);if(!h)return null;var f=h.x,g=h.y,b=this.props,j=b.shape,N=b.className,k=_objectSpread$8(_objectSpread$8({clipPath:y$(this.props,"hidden")?"url(#".concat(u,")"):void 0},Zk(this.props,!0)),{},{cx:f,cy:g});return ae.createElement(g_,{className:clsx("recharts-reference-dot",N)},ReferenceDot2.renderDot(j,k),Label.renderCallByParent(this.props,{x:f-l,y:g-l,width:2*l,height:2*l}))}}])}();function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$7.apply(this,arguments)}function _typeof$a(e){return(_typeof$a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$7(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$7(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$7(Object(a),!0).forEach(function(s){_defineProperty$a(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$7(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _createClass$7(e,s,a){return s&&function _defineProperties$7(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$a(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$6(e,s,a){return s=_getPrototypeOf$6(s),function _possibleConstructorReturn$6(e,s){if(s&&("object"===_typeof$a(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$6(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$6()?Reflect.construct(s,a||[],_getPrototypeOf$6(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$6=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$6(e){return(_getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$6(e,s){return(_setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$a(e,s,a){return(s=_toPropertyKey$a(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$a(e){var s=function _toPrimitive$a(e,s){if("object"!=_typeof$a(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$a(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$a(s)?s:s+""}_defineProperty$b(iR,"displayName","ReferenceDot"),_defineProperty$b(iR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),_defineProperty$b(iR,"renderDot",function(e,s){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):ae.createElement(wI,_extends$8({},s,{cx:s.cx,cy:s.cy,className:"recharts-reference-dot-dot"}))});var oR=function(){function ReferenceArea2(){return function _classCallCheck$7(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,ReferenceArea2),_callSuper$6(this,ReferenceArea2,arguments)}return function _inherits$6(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$6(e,s)}(ReferenceArea2,ae.Component),_createClass$7(ReferenceArea2,[{key:"render",value:function render(){var e=this.props,s=e.x1,a=e.x2,l=e.y1,c=e.y2,u=e.className,p=e.alwaysShow,m=e.clipPathId;x_(void 0===p,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Sk(s),f=Sk(a),g=Sk(l),b=Sk(c),j=this.props.shape;if(!(h||f||g||b||j))return null;var N=function getRect2(e,s,a,l,c){var u=c.x1,p=c.x2,m=c.y1,h=c.y2,f=c.xAxis,g=c.yAxis;if(!f||!g)return null;var b=I$({x:f.scale,y:g.scale}),j={x:e?b.x.apply(u,{position:"start"}):b.x.rangeMin,y:a?b.y.apply(m,{position:"start"}):b.y.rangeMin},N={x:s?b.x.apply(p,{position:"end"}):b.x.rangeMax,y:l?b.y.apply(h,{position:"end"}):b.y.rangeMax};return!y$(c,"discard")||b.isInRange(j)&&b.isInRange(N)?D$(j,N):null}(h,f,g,b,this.props);if(!N&&!j)return null;var k=y$(this.props,"hidden")?"url(#".concat(m,")"):void 0;return ae.createElement(g_,{className:clsx("recharts-reference-area",u)},ReferenceArea2.renderRect(j,_objectSpread$7(_objectSpread$7({clipPath:k},Zk(this.props,!0)),N)),Label.renderCallByParent(this.props,N))}}])}();function getEveryNthWithCondition(e,s,a){if(s<1)return[];if(1===s&&void 0===a)return e;for(var l=[],c=0;c<e.length;c+=s)l.push(e[c]);return l}function getAngledTickWidth(e,s,a){return function getAngledRectangleWidth2(e){var s=e.width,a=e.height,l=function normalizeAngle(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),c=l*Math.PI/180,u=Math.atan(a/s),p=c>u&&c<Math.PI-u?a/Math.sin(c):s/Math.cos(c);return Math.abs(p)}({width:e.width+s.width,height:e.height+s.height},a)}function isVisible(e,s,a,l,c){if(e*s<e*l||e*s>e*c)return!1;var u=a();return e*(s-e*u/2-l)>=0&&e*(s+e*u/2-c)<=0}function _typeof$9(e){return(_typeof$9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$6(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$6(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$6(Object(a),!0).forEach(function(s){_defineProperty$9(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$6(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$9(e,s,a){return(s=function _toPropertyKey$9(e){var s=function _toPrimitive$9(e,s){if("object"!=_typeof$9(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$9(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$9(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function getTicks(e,s,a){var l=e.tick,c=e.ticks,u=e.viewBox,p=e.minTickGap,m=e.orientation,h=e.interval,f=e.tickFormatter,g=e.unit,b=e.angle;if(!c||!c.length||!l)return[];if(Nk(h)||LA)return function getNumberIntervalTicks(e,s){return getEveryNthWithCondition(e,s+1)}(c,"number"==typeof h&&Nk(h)?h:0);var j=[],N="top"===m||"bottom"===m?"width":"height",k=g&&"width"===N?eM(g,{fontSize:s,letterSpacing:a}):{width:0,height:0},_=function getTickSize2(e,l){var c=lk(f)?f(e.value,l):e.value;return"width"===N?getAngledTickWidth(eM(c,{fontSize:s,letterSpacing:a}),k,b):eM(c,{fontSize:s,letterSpacing:a})[N]},T=c.length>=2?jk(c[1].coordinate-c[0].coordinate):1,E=function getTickBoundaries(e,s,a){var l="width"===a,c=e.x,u=e.y,p=e.width,m=e.height;return 1===s?{start:l?c:u,end:l?c+p:u+m}:{start:l?c+p:u+m,end:l?c:u}}(u,T,N);return"equidistantPreserveStart"===h?function getEquidistantTicks(e,s,a,l,c){for(var u,p=(l||[]).slice(),m=s.start,h=s.end,f=0,g=1,b=m,j=function _loop2(){var s=null==l?void 0:l[f];if(void 0===s)return{v:getEveryNthWithCondition(l,g)};var u,p=f,j=function getSize2(){return void 0===u&&(u=a(s,p)),u},N=s.coordinate,k=0===f||isVisible(e,N,j,b,h);k||(f=0,b=m,g+=1),k&&(b=N+e*(j()/2+c),f+=g)};g<=p.length;)if(u=j())return u.v;return[]}(T,E,_,c,p):(j="preserveStart"===h||"preserveStartEnd"===h?function getTicksStart(e,s,a,l,c,u){var p=(l||[]).slice(),m=p.length,h=s.start,f=s.end;if(u){var g=l[m-1],b=a(g,m-1),j=e*(g.coordinate+e*b/2-f);p[m-1]=g=_objectSpread$6(_objectSpread$6({},g),{},{tickCoord:j>0?g.coordinate-j*e:g.coordinate}),isVisible(e,g.tickCoord,function(){return b},h,f)&&(f=g.tickCoord-e*(b/2+c),p[m-1]=_objectSpread$6(_objectSpread$6({},g),{},{isShow:!0}))}for(var N=u?m-1:m,k=function _loop22(s){var l,u=p[s],m=function getSize2(){return void 0===l&&(l=a(u,s)),l};if(0===s){var g=e*(u.coordinate-e*m()/2-h);p[s]=u=_objectSpread$6(_objectSpread$6({},u),{},{tickCoord:g<0?u.coordinate-g*e:u.coordinate})}else p[s]=u=_objectSpread$6(_objectSpread$6({},u),{},{tickCoord:u.coordinate});isVisible(e,u.tickCoord,m,h,f)&&(h=u.tickCoord+e*(m()/2+c),p[s]=_objectSpread$6(_objectSpread$6({},u),{},{isShow:!0}))},_=0;_<N;_++)k(_);return p}(T,E,_,c,p,"preserveStartEnd"===h):function getTicksEnd(e,s,a,l,c){for(var u=(l||[]).slice(),p=u.length,m=s.start,h=s.end,f=function _loop2(s){var l,f=u[s],g=function getSize2(){return void 0===l&&(l=a(f,s)),l};if(s===p-1){var b=e*(f.coordinate+e*g()/2-h);u[s]=f=_objectSpread$6(_objectSpread$6({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate})}else u[s]=f=_objectSpread$6(_objectSpread$6({},f),{},{tickCoord:f.coordinate});isVisible(e,f.tickCoord,g,m,h)&&(h=f.tickCoord-e*(g()/2+c),u[s]=_objectSpread$6(_objectSpread$6({},f),{},{isShow:!0}))},g=p-1;g>=0;g--)f(g);return u}(T,E,_,c,p),j.filter(function(e){return e.isShow}))}_defineProperty$a(oR,"displayName","ReferenceArea"),_defineProperty$a(oR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),_defineProperty$a(oR,"renderRect",function(e,s){return ae.isValidElement(e)?ae.cloneElement(e,s):lk(e)?e(s):ae.createElement(xI,_extends$7({},s,{className:"recharts-reference-area-rect"}))});var lR=["viewBox"],cR=["viewBox"],dR=["ticks"];function _typeof$8(e){return(_typeof$8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$6.apply(this,arguments)}function ownKeys$5(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$5(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$5(Object(a),!0).forEach(function(s){_defineProperty$8(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$5(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _objectWithoutProperties$4(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$4(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _defineProperties$6(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$8(l.key),l)}}function _callSuper$5(e,s,a){return s=_getPrototypeOf$5(s),function _possibleConstructorReturn$5(e,s){if(s&&("object"===_typeof$8(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$5(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$5()?Reflect.construct(s,a||[],_getPrototypeOf$5(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$5=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$5(e){return(_getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$5(e,s){return(_setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$8(e,s,a){return(s=_toPropertyKey$8(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$8(e){var s=function _toPrimitive$8(e,s){if("object"!=_typeof$8(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$8(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$8(s)?s:s+""}var uR=function(){function CartesianAxis2(e){var s;return function _classCallCheck$6(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,CartesianAxis2),(s=_callSuper$5(this,CartesianAxis2,[e])).state={fontSize:"",letterSpacing:""},s}return function _inherits$5(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$5(e,s)}(CartesianAxis2,re.Component),function _createClass$6(e,s,a){return s&&_defineProperties$6(e.prototype,s),a&&_defineProperties$6(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(CartesianAxis2,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,s){var a=e.viewBox,l=_objectWithoutProperties$4(e,lR),c=this.props,u=c.viewBox,p=_objectWithoutProperties$4(c,cR);return!shallowEqual(a,u)||!shallowEqual(l,p)||!shallowEqual(s,this.state)}},{key:"componentDidMount",value:function componentDidMount(){var e=this.layerReference;if(e){var s=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function getTickLineCoord(e){var s,a,l,c,u,p,m=this.props,h=m.x,f=m.y,g=m.width,b=m.height,j=m.orientation,N=m.tickSize,k=m.mirror,_=m.tickMargin,T=k?-1:1,E=e.tickSize||N,A=Nk(e.tickCoord)?e.tickCoord:e.coordinate;switch(j){case"top":s=a=e.coordinate,p=(l=(c=f+ +!k*b)-T*E)-T*_,u=A;break;case"left":l=c=e.coordinate,u=(s=(a=h+ +!k*g)-T*E)-T*_,p=A;break;case"right":l=c=e.coordinate,u=(s=(a=h+ +k*g)+T*E)+T*_,p=A;break;default:s=a=e.coordinate,p=(l=(c=f+ +k*b)+T*E)+T*_,u=A}return{line:{x1:s,y1:l,x2:a,y2:c},tick:{x:u,y:p}}}},{key:"getTickTextAnchor",value:function getTickTextAnchor(){var e,s=this.props,a=s.orientation,l=s.mirror;switch(a){case"left":e=l?"start":"end";break;case"right":e=l?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function getTickVerticalAnchor(){var e=this.props,s=e.orientation,a=e.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=a?"start":"end";break;default:l=a?"end":"start"}return l}},{key:"renderAxisLine",value:function renderAxisLine(){var e=this.props,s=e.x,a=e.y,l=e.width,c=e.height,u=e.orientation,p=e.mirror,m=e.axisLine,h=_objectSpread$5(_objectSpread$5(_objectSpread$5({},Zk(this.props,!1)),Zk(m,!1)),{},{fill:"none"});if("top"===u||"bottom"===u){var f=+("top"===u&&!p||"bottom"===u&&p);h=_objectSpread$5(_objectSpread$5({},h),{},{x1:s,y1:a+f*c,x2:s+l,y2:a+f*c})}else{var g=+("left"===u&&!p||"right"===u&&p);h=_objectSpread$5(_objectSpread$5({},h),{},{x1:s+g*l,y1:a,x2:s+g*l,y2:a+c})}return ae.createElement("line",_extends$6({},h,{className:clsx("recharts-cartesian-axis-line",tk(m,"className"))}))}},{key:"renderTicks",value:function renderTicks(e,s,a){var l=this,c=this.props,u=c.tickLine,p=c.stroke,m=c.tick,h=c.tickFormatter,f=c.unit,g=getTicks(_objectSpread$5(_objectSpread$5({},this.props),{},{ticks:e}),s,a),b=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),N=Zk(this.props,!1),k=Zk(m,!1),_=_objectSpread$5(_objectSpread$5({},N),{},{fill:"none"},Zk(u,!1)),T=g.map(function(e,s){var a=l.getTickLineCoord(e),c=a.line,T=a.tick,E=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:b,verticalAnchor:j},N),{},{stroke:"none",fill:p},k),T),{},{index:s,payload:e,visibleTicksCount:g.length,tickFormatter:h});return ae.createElement(g_,_extends$6({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Ik(l.props,e,s)),u&&ae.createElement("line",_extends$6({},_,c,{className:clsx("recharts-cartesian-axis-tick-line",tk(u,"className"))})),m&&CartesianAxis2.renderTickItem(m,E,"".concat(lk(h)?h(e.value,s):e.value).concat(f||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function render(){var e=this,s=this.props,a=s.axisLine,l=s.width,c=s.height,u=s.ticksGenerator,p=s.className;if(s.hide)return null;var m=this.props,h=m.ticks,f=_objectWithoutProperties$4(m,dR),g=h;return lk(u)&&(g=h&&h.length>0?u(this.props):u(f)),l<=0||c<=0||!g||!g.length?null:ae.createElement(g_,{className:clsx("recharts-cartesian-axis",p),ref:function ref(s){e.layerReference=s}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function renderTickItem(e,s,a){var l=clsx(s.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(e)?ae.cloneElement(e,_objectSpread$5(_objectSpread$5({},s),{},{className:l})):lk(e)?e(_objectSpread$5(_objectSpread$5({},s),{},{className:l})):ae.createElement(xM,_extends$6({},s,{className:"recharts-cartesian-axis-tick-value"}),a)}}])}();_defineProperty$8(uR,"displayName","CartesianAxis"),_defineProperty$8(uR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pR=["x1","y1","x2","y2","key"],mR=["offset"];function _typeof$7(e){return(_typeof$7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$4(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$4(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$4(Object(a),!0).forEach(function(s){_defineProperty$7(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$4(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$7(e,s,a){return(s=function _toPropertyKey$7(e){var s=function _toPrimitive$7(e,s){if("object"!=_typeof$7(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$7(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$7(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$5.apply(this,arguments)}function _objectWithoutProperties$3(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$3(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var hR=function Background2(e){var s=e.fill;if(!s||"none"===s)return null;var a=e.fillOpacity,l=e.x,c=e.y,u=e.width,p=e.height,m=e.ry;return ae.createElement("rect",{x:l,y:c,ry:m,width:u,height:p,stroke:"none",fill:s,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function renderLineItem(e,s){var a;if(ae.isValidElement(e))a=ae.cloneElement(e,s);else if(lk(e))a=e(s);else{var l=s.x1,c=s.y1,u=s.x2,p=s.y2,m=s.key,h=_objectWithoutProperties$3(s,pR),f=Zk(h,!1);f.offset;var g=_objectWithoutProperties$3(f,mR);a=ae.createElement("line",_extends$5({},g,{x1:l,y1:c,x2:u,y2:p,fill:"none",key:m}))}return a}function HorizontalGridLines(e){var s=e.x,a=e.width,l=e.horizontal,c=void 0===l||l,u=e.horizontalPoints;if(!c||!u||!u.length)return null;var p=u.map(function(l,u){var p=_objectSpread$4(_objectSpread$4({},e),{},{x1:s,y1:l,x2:s+a,y2:l,key:"line-".concat(u),index:u});return renderLineItem(c,p)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function VerticalGridLines(e){var s=e.y,a=e.height,l=e.vertical,c=void 0===l||l,u=e.verticalPoints;if(!c||!u||!u.length)return null;var p=u.map(function(l,u){var p=_objectSpread$4(_objectSpread$4({},e),{},{x1:l,y1:s,x2:l,y2:s+a,key:"line-".concat(u),index:u});return renderLineItem(c,p)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function HorizontalStripes(e){var s=e.horizontalFill,a=e.fillOpacity,l=e.x,c=e.y,u=e.width,p=e.height,m=e.horizontalPoints,h=e.horizontal;if(!(void 0===h||h)||!s||!s.length)return null;var f=m.map(function(e){return Math.round(e+c-c)}).sort(function(e,s){return e-s});c!==f[0]&&f.unshift(0);var g=f.map(function(e,m){var h=!f[m+1]?c+p-e:f[m+1]-e;if(h<=0)return null;var g=m%s.length;return ae.createElement("rect",{key:"react-".concat(m),y:e,x:l,height:h,width:u,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function VerticalStripes(e){var s=e.vertical,a=void 0===s||s,l=e.verticalFill,c=e.fillOpacity,u=e.x,p=e.y,m=e.width,h=e.height,f=e.verticalPoints;if(!a||!l||!l.length)return null;var g=f.map(function(e){return Math.round(e+u-u)}).sort(function(e,s){return e-s});u!==g[0]&&g.unshift(0);var b=g.map(function(e,s){var a=!g[s+1]?u+m-e:g[s+1]-e;if(a<=0)return null;var f=s%l.length;return ae.createElement("rect",{key:"react-".concat(s),x:e,y:p,width:a,height:h,stroke:"none",fill:l[f],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},b)}var fR=function defaultVerticalCoordinatesGenerator2(e,s){var a=e.xAxis,l=e.width,c=e.height,u=e.offset;return HD(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},uR.defaultProps),a),{},{ticks:qD(a,!0),viewBox:{x:0,y:0,width:l,height:c}})),u.left,u.left+u.width,s)},gR=function defaultHorizontalCoordinatesGenerator2(e,s){var a=e.yAxis,l=e.width,c=e.height,u=e.offset;return HD(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},uR.defaultProps),a),{},{ticks:qD(a,!0),viewBox:{x:0,y:0,width:l,height:c}})),u.top,u.top+u.height,s)},xR={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(e){var s,a,l,c,u,p,m=nR(),h=sR(),f=function useOffset2(){return re.useContext(Y$)}(),g=_objectSpread$4(_objectSpread$4({},e),{},{stroke:null!==(s=e.stroke)&&void 0!==s?s:xR.stroke,fill:null!==(a=e.fill)&&void 0!==a?a:xR.fill,horizontal:null!==(l=e.horizontal)&&void 0!==l?l:xR.horizontal,horizontalFill:null!==(c=e.horizontalFill)&&void 0!==c?c:xR.horizontalFill,vertical:null!==(u=e.vertical)&&void 0!==u?u:xR.vertical,verticalFill:null!==(p=e.verticalFill)&&void 0!==p?p:xR.verticalFill,x:Nk(e.x)?e.x:f.left,y:Nk(e.y)?e.y:f.top,width:Nk(e.width)?e.width:f.width,height:Nk(e.height)?e.height:f.height}),b=g.x,j=g.y,N=g.width,k=g.height,_=g.syncWithTicks,T=g.horizontalValues,E=g.verticalValues,A=function useArbitraryXAxis2(){var e=re.useContext(Z$);return Pk(e)}(),L=function useYAxisWithFiniteDomainOrRandom2(){var e=re.useContext(K$);return q$(e,function(e){return _$(e.domain,Number.isFinite)})||Pk(e)}();if(!Nk(N)||N<=0||!Nk(k)||k<=0||!Nk(b)||b!==+b||!Nk(j)||j!==+j)return null;var O=g.verticalCoordinatesGenerator||fR,I=g.horizontalCoordinatesGenerator||gR,$=g.horizontalPoints,z=g.verticalPoints;if((!$||!$.length)&&lk(I)){var U=T&&T.length,H=I({yAxis:L?_objectSpread$4(_objectSpread$4({},L),{},{ticks:U?T:L.ticks}):void 0,width:m,height:h,offset:f},!!U||_);x_(Array.isArray(H),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$7(H),"]")),Array.isArray(H)&&($=H)}if((!z||!z.length)&&lk(O)){var q=E&&E.length,Z=O({xAxis:A?_objectSpread$4(_objectSpread$4({},A),{},{ticks:q?E:A.ticks}):void 0,width:m,height:h,offset:f},!!q||_);x_(Array.isArray(Z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$7(Z),"]")),Array.isArray(Z)&&(z=Z)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(hR,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),ae.createElement(HorizontalGridLines,_extends$5({},g,{offset:f,horizontalPoints:$,xAxis:A,yAxis:L})),ae.createElement(VerticalGridLines,_extends$5({},g,{offset:f,verticalPoints:z,xAxis:A,yAxis:L})),ae.createElement(HorizontalStripes,_extends$5({},g,{horizontalPoints:$})),ae.createElement(VerticalStripes,_extends$5({},g,{verticalPoints:z})))}CartesianGrid.displayName="CartesianGrid";var vR=["type","layout","connectNulls","ref"],yR=["key"];function _typeof$6(e){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties$2(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$2(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$4.apply(this,arguments)}function ownKeys$3(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$3(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$3(Object(a),!0).forEach(function(s){_defineProperty$6(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$3(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _toConsumableArray$2(e){return function _arrayWithoutHoles$2(e){if(Array.isArray(e))return _arrayLikeToArray$2(e)}(e)||function _iterableToArray$2(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$2(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$2(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$2(e,s)}(e)||function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$2(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function _defineProperties$5(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$6(l.key),l)}}function _callSuper$4(e,s,a){return s=_getPrototypeOf$4(s),function _possibleConstructorReturn$4(e,s){if(s&&("object"===_typeof$6(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$4()?Reflect.construct(s,a||[],_getPrototypeOf$4(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$4=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$4(e){return(_getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$4(e,s){return(_setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$6(e,s,a){return(s=_toPropertyKey$6(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$6(e){var s=function _toPrimitive$6(e,s){if("object"!=_typeof$6(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$6(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$6(s)?s:s+""}var bR=function(){function Line2(){var e;!function _classCallCheck$5(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Line2);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _defineProperty$6(e=_callSuper$4(this,Line2,[].concat(a)),"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$6(e,"generateSimpleStrokeDasharray",function(e,s){return"".concat(s,"px ").concat(e-s,"px")}),_defineProperty$6(e,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(e,s){return e+s});if(!c)return e.generateSimpleStrokeDasharray(a,s);for(var u=Math.floor(s/c),p=s%c,m=a-s,h=[],f=0,g=0;f<l.length;g+=l[f],++f)if(g+l[f]>p){h=[].concat(_toConsumableArray$2(l.slice(0,f)),[p-g]);break}var b=h.length%2==0?[0,m]:[m];return[].concat(_toConsumableArray$2(Line2.repeat(l,u)),_toConsumableArray$2(h),b).map(function(e){return"".concat(e,"px")}).join(", ")}),_defineProperty$6(e,"id",kk("recharts-line-")),_defineProperty$6(e,"pathRef",function(s){e.mainCurve=s}),_defineProperty$6(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),_defineProperty$6(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function _inherits$4(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$4(e,s)}(Line2,re.PureComponent),function _createClass$5(e,s,a){return s&&_defineProperties$5(e.prototype,s),a&&_defineProperties$5(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Line2,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function getTotalLength(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(pW){return 0}}},{key:"renderErrorBar",value:function renderErrorBar(e,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.points,c=a.xAxis,u=a.yAxis,p=a.layout,m=findAllByType(a.children,RD);if(!m)return null;var h=function dataPointFormatter2(e,s){return{x:e.x,y:e.y,value:e.value,errorVal:getValueByDataKey(e.payload,s)}},f={clipPath:e?"url(#clipPath-".concat(s,")"):null};return ae.createElement(g_,f,m.map(function(e){return ae.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:l,xAxis:c,yAxis:u,layout:p,dataPointFormatter:h})}))}},{key:"renderDots",value:function renderDots(e,s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,p=l.dataKey,m=Zk(this.props,!1),h=Zk(c,!0),f=u.map(function(e,s){var a=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(s),r:3},m),h),{},{index:s,cx:e.x,cy:e.y,value:e.value,dataKey:p,payload:e.payload,points:u});return Line2.renderDotItem(c,a)}),g={clipPath:e?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return ae.createElement(g_,_extends$4({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function renderCurveStatically(e,s,a,l){var c=this.props,u=c.type,p=c.layout,m=c.connectNulls;c.ref;var h=_objectWithoutProperties$2(c,vR),f=_objectSpread$3(_objectSpread$3(_objectSpread$3({},Zk(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:e},l),{},{type:u,layout:p,connectNulls:m});return ae.createElement(FO,_extends$4({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function renderCurveWithAnimation(e,s){var a=this,l=this.props,c=l.points,u=l.strokeDasharray,p=l.isAnimationActive,m=l.animationBegin,h=l.animationDuration,f=l.animationEasing,g=l.animationId,b=l.animateNewValues,j=l.width,N=l.height,k=this.state,_=k.prevPoints,T=k.totalLength;return ae.createElement(mI,{begin:m,duration:h,isActive:p,easing:f,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(l){var p=l.t;if(_){var m=_.length/c.length,h=c.map(function(e,s){var a=Math.floor(s*m);if(_[a]){var l=_[a],c=Tk(l.x,e.x),u=Tk(l.y,e.y);return _objectSpread$3(_objectSpread$3({},e),{},{x:c(p),y:u(p)})}if(b){var h=Tk(2*j,e.x),f=Tk(N/2,e.y);return _objectSpread$3(_objectSpread$3({},e),{},{x:h(p),y:f(p)})}return _objectSpread$3(_objectSpread$3({},e),{},{x:e.x,y:e.y})});return a.renderCurveStatically(h,e,s)}var f,g=Tk(0,T)(p);if(u){var k="".concat(u).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});f=a.getStrokeDasharray(g,T,k)}else f=a.generateSimpleStrokeDasharray(T,g);return a.renderCurveStatically(c,e,s,{strokeDasharray:f})})}},{key:"renderCurve",value:function renderCurve(e,s){var a=this.props,l=a.points,c=a.isAnimationActive,u=this.state,p=u.prevPoints,m=u.totalLength;return c&&l&&l.length&&(!p&&m>0||!oD(p,l))?this.renderCurveWithAnimation(e,s):this.renderCurveStatically(l,e,s)}},{key:"render",value:function render(){var e,s=this.props,a=s.hide,l=s.dot,c=s.points,u=s.className,p=s.xAxis,m=s.yAxis,h=s.top,f=s.left,g=s.width,b=s.height,j=s.isAnimationActive,N=s.id;if(a||!c||!c.length)return null;var k=this.state.isAnimationFinished,_=1===c.length,T=clsx("recharts-line",u),E=p&&p.allowDataOverflow,A=m&&m.allowDataOverflow,L=E||A,O=sk(N)?this.id:N,I=null!==(e=Zk(l,!1))&&void 0!==e?e:{r:3,strokeWidth:2},$=I.r,z=void 0===$?3:$,U=I.strokeWidth,H=void 0===U?2:U,q=(Wk(l)?l:{}).clipDot,Z=void 0===q||q,Y=2*z+H;return ae.createElement(g_,{className:T},E||A?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(O)},ae.createElement("rect",{x:E?f:f-g/2,y:A?h:h-b/2,width:E?g:2*g,height:A?b:2*b})),!Z&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ae.createElement("rect",{x:f-Y/2,y:h-Y/2,width:g+Y,height:b+Y}))):null,!_&&this.renderCurve(L,O),this.renderErrorBar(L,O),(_||l)&&this.renderDots(L,Z,O),(!j||k)&&LabelList.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,s){return e.animationId!==s.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:s.curPoints}:e.points!==s.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function repeat(e,s){for(var a=e.length%2!=0?[].concat(_toConsumableArray$2(e),[0]):e,l=[],c=0;c<s;++c)l=[].concat(_toConsumableArray$2(l),_toConsumableArray$2(a));return l}},{key:"renderDotItem",value:function renderDotItem(e,s){var a;if(ae.isValidElement(e))a=ae.cloneElement(e,s);else if(lk(e))a=e(s);else{var l=s.key,c=_objectWithoutProperties$2(s,yR),u=clsx("recharts-line-dot","boolean"!=typeof e?e.className:"");a=ae.createElement(wI,_extends$4({key:l},c,{className:u}))}return a}}])}();_defineProperty$6(bR,"displayName","Line"),_defineProperty$6(bR,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!LA,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),_defineProperty$6(bR,"getComposedData",function(e){var s=e.props,a=e.xAxis,l=e.yAxis,c=e.xAxisTicks,u=e.yAxisTicks,p=e.dataKey,m=e.bandSize,h=e.displayedData,f=e.offset,g=s.layout;return _objectSpread$3({points:h.map(function(e,s){var h=getValueByDataKey(e,p);return"horizontal"===g?{x:getCateCoordinateOfLine({axis:a,ticks:c,bandSize:m,entry:e,index:s}),y:sk(h)?null:l.scale(h),value:h,payload:e}:{x:sk(h)?null:a.scale(h),y:getCateCoordinateOfLine({axis:l,ticks:u,bandSize:m,entry:e,index:s}),value:h,payload:e}}),layout:g},f)});var jR,wR=["layout","type","stroke","connectNulls","isRange","ref"],NR=["key"];function _typeof$5(e){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties$1(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose$1(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$3.apply(this,arguments)}function ownKeys$2(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$2(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$2(Object(a),!0).forEach(function(s){_defineProperty$5(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$2(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperties$4(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$5(l.key),l)}}function _callSuper$3(e,s,a){return s=_getPrototypeOf$3(s),function _possibleConstructorReturn$3(e,s){if(s&&("object"===_typeof$5(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$3(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$3()?Reflect.construct(s,a||[],_getPrototypeOf$3(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$3=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$3(e){return(_getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$3(e,s){return(_setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$5(e,s,a){return(s=_toPropertyKey$5(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$5(e){var s=function _toPrimitive$5(e,s){if("object"!=_typeof$5(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$5(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$5(s)?s:s+""}var SR=function(){function Area2(){var e;!function _classCallCheck$4(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,Area2);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return _defineProperty$5(e=_callSuper$3(this,Area2,[].concat(a)),"state",{isAnimationFinished:!0}),_defineProperty$5(e,"id",kk("recharts-area-")),_defineProperty$5(e,"handleAnimationEnd",function(){var s=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),lk(s)&&s()}),_defineProperty$5(e,"handleAnimationStart",function(){var s=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),lk(s)&&s()}),e}return function _inherits$3(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$3(e,s)}(Area2,re.PureComponent),function _createClass$4(e,s,a){return s&&_defineProperties$4(e.prototype,s),a&&_defineProperties$4(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(Area2,[{key:"renderDots",value:function renderDots(e,s,a){var l=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(l&&!c)return null;var u=this.props,p=u.dot,m=u.points,h=u.dataKey,f=Zk(this.props,!1),g=Zk(p,!0),b=m.map(function(e,s){var a=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(s),r:3},f),g),{},{index:s,cx:e.x,cy:e.y,dataKey:h,value:e.value,payload:e.payload,points:m});return Area2.renderDotItem(p,a)}),j={clipPath:e?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return ae.createElement(g_,_extends$3({className:"recharts-area-dots"},j),b)}},{key:"renderHorizontalRect",value:function renderHorizontalRect(e){var s=this.props,a=s.baseLine,l=s.points,c=s.strokeWidth,u=l[0].x,p=l[l.length-1].x,m=e*Math.abs(u-p),h=KL(l.map(function(e){return e.y||0}));return Nk(a)&&"number"==typeof a?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(KL(a.map(function(e){return e.y||0})),h)),Nk(h)?ae.createElement("rect",{x:u<p?u:u-m,y:0,width:m,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function renderVerticalRect(e){var s=this.props,a=s.baseLine,l=s.points,c=s.strokeWidth,u=l[0].y,p=l[l.length-1].y,m=e*Math.abs(u-p),h=KL(l.map(function(e){return e.x||0}));return Nk(a)&&"number"==typeof a?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(KL(a.map(function(e){return e.x||0})),h)),Nk(h)?ae.createElement("rect",{x:0,y:u<p?u:u-m,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function renderClipRect(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function renderAreaStatically(e,s,a,l){var c=this.props,u=c.layout,p=c.type,m=c.stroke,h=c.connectNulls,f=c.isRange;c.ref;var g=_objectWithoutProperties$1(c,wR);return ae.createElement(g_,{clipPath:a?"url(#clipPath-".concat(l,")"):null},ae.createElement(FO,_extends$3({},Zk(g,!0),{points:e,connectNulls:h,type:p,baseLine:s,layout:u,stroke:"none",className:"recharts-area-area"})),"none"!==m&&ae.createElement(FO,_extends$3({},Zk(this.props,!1),{className:"recharts-area-curve",layout:u,type:p,connectNulls:h,fill:"none",points:e})),"none"!==m&&f&&ae.createElement(FO,_extends$3({},Zk(this.props,!1),{className:"recharts-area-curve",layout:u,type:p,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function renderAreaWithAnimation(e,s){var a=this,l=this.props,c=l.points,u=l.baseLine,p=l.isAnimationActive,m=l.animationBegin,h=l.animationDuration,f=l.animationEasing,g=l.animationId,b=this.state,j=b.prevPoints,N=b.prevBaseLine;return ae.createElement(mI,{begin:m,duration:h,isActive:p,easing:f,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(l){var p=l.t;if(j){var m,h=j.length/c.length,f=c.map(function(e,s){var a=Math.floor(s*h);if(j[a]){var l=j[a],c=Tk(l.x,e.x),u=Tk(l.y,e.y);return _objectSpread$2(_objectSpread$2({},e),{},{x:c(p),y:u(p)})}return e});if(Nk(u)&&"number"==typeof u)m=Tk(N,u)(p);else if(sk(u)||yk(u)){m=Tk(N,0)(p)}else m=u.map(function(e,s){var a=Math.floor(s*h);if(N[a]){var l=N[a],c=Tk(l.x,e.x),u=Tk(l.y,e.y);return _objectSpread$2(_objectSpread$2({},e),{},{x:c(p),y:u(p)})}return e});return a.renderAreaStatically(f,m,e,s)}return ae.createElement(g_,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(p))),ae.createElement(g_,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(c,u,e,s)))})}},{key:"renderArea",value:function renderArea(e,s){var a=this.props,l=a.points,c=a.baseLine,u=a.isAnimationActive,p=this.state,m=p.prevPoints,h=p.prevBaseLine,f=p.totalLength;return u&&l&&l.length&&(!m&&f>0||!oD(m,l)||!oD(h,c))?this.renderAreaWithAnimation(e,s):this.renderAreaStatically(l,c,e,s)}},{key:"render",value:function render(){var e,s=this.props,a=s.hide,l=s.dot,c=s.points,u=s.className,p=s.top,m=s.left,h=s.xAxis,f=s.yAxis,g=s.width,b=s.height,j=s.isAnimationActive,N=s.id;if(a||!c||!c.length)return null;var k=this.state.isAnimationFinished,_=1===c.length,T=clsx("recharts-area",u),E=h&&h.allowDataOverflow,A=f&&f.allowDataOverflow,L=E||A,O=sk(N)?this.id:N,I=null!==(e=Zk(l,!1))&&void 0!==e?e:{r:3,strokeWidth:2},$=I.r,z=void 0===$?3:$,U=I.strokeWidth,H=void 0===U?2:U,q=(Wk(l)?l:{}).clipDot,Z=void 0===q||q,Y=2*z+H;return ae.createElement(g_,{className:T},E||A?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(O)},ae.createElement("rect",{x:E?m:m-g/2,y:A?p:p-b/2,width:E?g:2*g,height:A?b:2*b})),!Z&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ae.createElement("rect",{x:m-Y/2,y:p-Y/2,width:g+Y,height:b+Y}))):null,_?null:this.renderArea(L,O),(l||_)&&this.renderDots(L,Z,O),(!j||k)&&LabelList.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,s){return e.animationId!==s.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:e.points!==s.curPoints||e.baseLine!==s.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}])}();function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createClass$3(e,s,a){return s&&function _defineProperties$3(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$4(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$2(e,s,a){return s=_getPrototypeOf$2(s),function _possibleConstructorReturn$2(e,s){if(s&&("object"===_typeof$4(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$2()?Reflect.construct(s,a||[],_getPrototypeOf$2(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$2=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$2(e){return(_getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$2(e,s){return(_setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$4(e,s,a){return(s=_toPropertyKey$4(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$4(e){var s=function _toPrimitive$4(e,s){if("object"!=_typeof$4(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$4(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$4(s)?s:s+""}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$2.apply(this,arguments)}function XAxisImpl(e){var s=e.xAxisId,a=nR(),l=sR(),c=tR(s);return null==c?null:re.createElement(uR,_extends$2({},c,{className:clsx("recharts-".concat(c.axisType," ").concat(c.axisType),c.className),viewBox:{x:0,y:0,width:a,height:l},ticksGenerator:function ticksGenerator(e){return qD(e,!0)}}))}jR=SR,_defineProperty$5(SR,"displayName","Area"),_defineProperty$5(SR,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!LA,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),_defineProperty$5(SR,"getBaseValue",function(e,s,a,l){var c=e.layout,u=e.baseValue,p=s.props.baseValue,m=null!=p?p:u;if(Nk(m)&&"number"==typeof m)return m;var h="horizontal"===c?l:a,f=h.scale.domain();if("number"===h.type){var g=Math.max(f[0],f[1]),b=Math.min(f[0],f[1]);return"dataMin"===m?b:"dataMax"===m||g<0?g:Math.max(Math.min(f[0],f[1]),0)}return"dataMin"===m?f[0]:"dataMax"===m?f[1]:f[0]}),_defineProperty$5(SR,"getComposedData",function(e){var s,a=e.props,l=e.item,c=e.xAxis,u=e.yAxis,p=e.xAxisTicks,m=e.yAxisTicks,h=e.bandSize,f=e.dataKey,g=e.stackedData,b=e.dataStartIndex,j=e.displayedData,N=e.offset,k=a.layout,_=g&&g.length,T=jR.getBaseValue(a,l,c,u),E="horizontal"===k,A=!1,L=j.map(function(e,s){var a;_?a=g[b+s]:(a=getValueByDataKey(e,f),Array.isArray(a)?A=!0:a=[T,a]);var l=null==a[1]||_&&null==getValueByDataKey(e,f);return E?{x:getCateCoordinateOfLine({axis:c,ticks:p,bandSize:h,entry:e,index:s}),y:l?null:u.scale(a[1]),value:a,payload:e}:{x:l?null:c.scale(a[1]),y:getCateCoordinateOfLine({axis:u,ticks:m,bandSize:h,entry:e,index:s}),value:a,payload:e}});return s=_||A?L.map(function(e){var s=Array.isArray(e.value)?e.value[0]:null;return E?{x:e.x,y:null!=s&&null!=e.y?u.scale(s):null}:{x:null!=s?c.scale(s):null,y:e.y}}):E?u.scale(T):c.scale(T),_objectSpread$2({points:L,baseLine:s,layout:k,isRange:A},N)}),_defineProperty$5(SR,"renderDotItem",function(e,s){var a;if(ae.isValidElement(e))a=ae.cloneElement(e,s);else if(lk(e))a=e(s);else{var l=clsx("recharts-area-dot","boolean"!=typeof e?e.className:""),c=s.key,u=_objectWithoutProperties$1(s,NR);a=ae.createElement(wI,_extends$3({},u,{key:c,className:l}))}return a});var CR=function(){function XAxis2(){return function _classCallCheck$3(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,XAxis2),_callSuper$2(this,XAxis2,arguments)}return function _inherits$2(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$2(e,s)}(XAxis2,re.Component),_createClass$3(XAxis2,[{key:"render",value:function render(){return re.createElement(XAxisImpl,this.props)}}])}();function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createClass$2(e,s,a){return s&&function _defineProperties$2(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$3(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$1(e,s,a){return s=_getPrototypeOf$1(s),function _possibleConstructorReturn$1(e,s){if(s&&("object"===_typeof$3(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized$1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct$1()?Reflect.construct(s,a||[],_getPrototypeOf$1(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct$1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct$1=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf$1(e){return(_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$1(e,s){return(_setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _defineProperty$3(e,s,a){return(s=_toPropertyKey$3(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$3(e){var s=function _toPrimitive$3(e,s){if("object"!=_typeof$3(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$3(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$3(s)?s:s+""}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends$1.apply(this,arguments)}_defineProperty$4(CR,"displayName","XAxis"),_defineProperty$4(CR,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var kR=function YAxisImpl2(e){var s=e.yAxisId,a=nR(),l=sR(),c=rR(s);return null==c?null:re.createElement(uR,_extends$1({},c,{className:clsx("recharts-".concat(c.axisType," ").concat(c.axisType),c.className),viewBox:{x:0,y:0,width:a,height:l},ticksGenerator:function ticksGenerator(e){return qD(e,!0)}}))},_R=function(){function YAxis2(){return function _classCallCheck$2(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,YAxis2),_callSuper$1(this,YAxis2,arguments)}return function _inherits$1(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf$1(e,s)}(YAxis2,re.Component),_createClass$2(YAxis2,[{key:"render",value:function render(){return re.createElement(kR,this.props)}}])}();function _toConsumableArray$1(e){return function _arrayWithoutHoles$1(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}(e)||function _iterableToArray$1(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray$1(e,s){if(!e)return;if("string"==typeof e)return _arrayLikeToArray$1(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$1(e,s)}(e)||function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$1(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}_defineProperty$3(_R,"displayName","YAxis"),_defineProperty$3(_R,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var PR,TR=function detectReferenceElementsDomain2(e,s,a,l,c){var u=findAllByType(e,aR),p=findAllByType(e,iR),m=[].concat(_toConsumableArray$1(u),_toConsumableArray$1(p)),h=findAllByType(e,oR),f="".concat(l,"Id"),g=l[0],b=s;if(m.length&&(b=m.reduce(function(e,s){if(s.props[f]===a&&y$(s.props,"extendDomain")&&Nk(s.props[g])){var l=s.props[g];return[Math.min(e[0],l),Math.max(e[1],l)]}return e},b)),h.length){var j="".concat(g,"1"),N="".concat(g,"2");b=h.reduce(function(e,s){if(s.props[f]===a&&y$(s.props,"extendDomain")&&Nk(s.props[j])&&Nk(s.props[N])){var l=s.props[j],c=s.props[N];return[Math.min(e[0],l,c),Math.max(e[1],l,c)]}return e},b)}return c&&c.length&&(b=c.reduce(function(e,s){return Nk(s)?[Math.min(e[0],s),Math.max(e[1],s)]:e},b)),b},ER={exports:{}};var AR=new(getDefaultExportFromCjs$2(function requireEventemitter3(){return PR||(PR=1,function(e){var s=Object.prototype.hasOwnProperty,a="~";function Events(){}function EE(e,s,a){this.fn=e,this.context=s,this.once=a||!1}function addListener(e,s,l,c,u){if("function"!=typeof l)throw new TypeError("The listener must be a function");var p=new EE(l,c||e,u),m=a?a+s:s;return e._events[m]?e._events[m].fn?e._events[m]=[e._events[m],p]:e._events[m].push(p):(e._events[m]=p,e._eventsCount++),e}function clearEvent(e,s){0===--e._eventsCount?e._events=new Events:delete e._events[s]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(a=!1)),EventEmitter2.prototype.eventNames=function eventNames(){var e,l,c=[];if(0===this._eventsCount)return c;for(l in e=this._events)s.call(e,l)&&c.push(a?l.slice(1):l);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(e)):c},EventEmitter2.prototype.listeners=function listeners(e){var s=a?a+e:e,l=this._events[s];if(!l)return[];if(l.fn)return[l.fn];for(var c=0,u=l.length,p=new Array(u);c<u;c++)p[c]=l[c].fn;return p},EventEmitter2.prototype.listenerCount=function listenerCount(e){var s=a?a+e:e,l=this._events[s];return l?l.fn?1:l.length:0},EventEmitter2.prototype.emit=function emit(e,s,l,c,u,p){var m=a?a+e:e;if(!this._events[m])return!1;var h,f,g=this._events[m],b=arguments.length;if(g.fn){switch(g.once&&this.removeListener(e,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,s),!0;case 3:return g.fn.call(g.context,s,l),!0;case 4:return g.fn.call(g.context,s,l,c),!0;case 5:return g.fn.call(g.context,s,l,c,u),!0;case 6:return g.fn.call(g.context,s,l,c,u,p),!0}for(f=1,h=new Array(b-1);f<b;f++)h[f-1]=arguments[f];g.fn.apply(g.context,h)}else{var j,N=g.length;for(f=0;f<N;f++)switch(g[f].once&&this.removeListener(e,g[f].fn,void 0,!0),b){case 1:g[f].fn.call(g[f].context);break;case 2:g[f].fn.call(g[f].context,s);break;case 3:g[f].fn.call(g[f].context,s,l);break;case 4:g[f].fn.call(g[f].context,s,l,c);break;default:if(!h)for(j=1,h=new Array(b-1);j<b;j++)h[j-1]=arguments[j];g[f].fn.apply(g[f].context,h)}}return!0},EventEmitter2.prototype.on=function on(e,s,a){return addListener(this,e,s,a,!1)},EventEmitter2.prototype.once=function once(e,s,a){return addListener(this,e,s,a,!0)},EventEmitter2.prototype.removeListener=function removeListener(e,s,l,c){var u=a?a+e:e;if(!this._events[u])return this;if(!s)return clearEvent(this,u),this;var p=this._events[u];if(p.fn)p.fn!==s||c&&!p.once||l&&p.context!==l||clearEvent(this,u);else{for(var m=0,h=[],f=p.length;m<f;m++)(p[m].fn!==s||c&&!p[m].once||l&&p[m].context!==l)&&h.push(p[m]);h.length?this._events[u]=1===h.length?h[0]:h:clearEvent(this,u)}return this},EventEmitter2.prototype.removeAllListeners=function removeAllListeners(e){var s;return e?(s=a?a+e:e,this._events[s]&&clearEvent(this,s)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=a,EventEmitter2.EventEmitter=EventEmitter2,e.exports=EventEmitter2}(ER)),ER.exports}())),MR="recharts.syncMouseEvents";function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createClass$1(e,s,a){return s&&function _defineProperties$1(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey$2(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty$2(e,s,a){return(s=_toPropertyKey$2(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey$2(e){var s=function _toPrimitive$2(e,s){if("object"!=_typeof$2(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$2(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_typeof$2(s)?s:s+""}var LR=function(){return _createClass$1(function AccessibilityManager2(){!function _classCallCheck$1(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,AccessibilityManager2),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")},[{key:"setDetails",value:function setDetails(e){var s,a=e.coordinateList,l=void 0===a?null:a,c=e.container,u=void 0===c?null:c,p=e.layout,m=void 0===p?null:p,h=e.offset,f=void 0===h?null:h,g=e.mouseHandlerCallback,b=void 0===g?null:g;this.coordinateList=null!==(s=null!=l?l:this.coordinateList)&&void 0!==s?s:[],this.container=null!=u?u:this.container,this.layout=null!=m?m:this.layout,this.offset=null!=f?f:this.offset,this.mouseHandlerCallback=null!=b?b:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function focus2(){this.spoofMouse()}},{key:"keyboardEvent",value:function keyboardEvent(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function setIndex(e){this.activeIndex=e}},{key:"spoofMouse",value:function spoofMouse(){var e,s;if("horizontal"===this.layout&&0!==this.coordinateList.length){var a=this.container.getBoundingClientRect(),l=a.x,c=a.y,u=a.height,p=this.coordinateList[this.activeIndex].coordinate,m=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,h=(null===(s=window)||void 0===s?void 0:s.scrollY)||0,f=l+p+m,g=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:f,pageY:g})}}}])}();function getRadialCursorPoints(e){var s=e.cx,a=e.cy,l=e.radius,c=e.startAngle,u=e.endAngle;return{points:[dO(s,a,l,c),dO(s,a,l,u)],cx:s,cy:a,radius:l,startAngle:c,endAngle:u}}function getCursorPoints(e,s,a){var l,c,u,p;if("horizontal"===e)u=l=s.x,c=a.top,p=a.top+a.height;else if("vertical"===e)p=c=s.y,l=a.left,u=a.left+a.width;else if(null!=s.cx&&null!=s.cy){if("centric"!==e)return getRadialCursorPoints(s);var m=s.cx,h=s.cy,f=s.innerRadius,g=s.outerRadius,b=s.angle,j=dO(m,h,f,b),N=dO(m,h,g,b);l=j.x,c=j.y,u=N.x,p=N.y}return[{x:l,y:c},{x:u,y:p}]}function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$1(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread$1(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys$1(Object(a),!0).forEach(function(s){_defineProperty$1(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$1(e,s,a){return(s=function _toPropertyKey$1(e){var s=function _toPrimitive$1(e,s){if("object"!=_typeof$1(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof$1(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof$1(s)?s:s+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function Cursor(e){var s,a,l,c=e.element,u=e.tooltipEventType,p=e.isActive,m=e.activeCoordinate,h=e.activePayload,f=e.offset,g=e.activeTooltipIndex,b=e.tooltipAxisBandSize,j=e.layout,N=e.chartName,k=null!==(s=c.props.cursor)&&void 0!==s?s:null===(a=c.type.defaultProps)||void 0===a?void 0:a.cursor;if(!c||!k||!p||!m||"ScatterChart"!==N&&"axis"!==u)return null;var _=FO;if("ScatterChart"===N)l=m,_=_I;else if("BarChart"===N)l=function getCursorRectangle(e,s,a,l){var c=l/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?s.x-c:a.left+.5,y:"horizontal"===e?a.top+.5:s.y-c,width:"horizontal"===e?l:a.width-1,height:"horizontal"===e?a.height-1:l}}(j,m,f,b),_=xI;else if("radial"===j){var T=getRadialCursorPoints(m),E=T.cx,A=T.cy,L=T.radius;l={cx:E,cy:A,startAngle:T.startAngle,endAngle:T.endAngle,innerRadius:L,outerRadius:L},_=PO}else l={points:getCursorPoints(j,m,f)},_=FO;var O=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},f),l),Zk(k,!1)),{},{payload:h,payloadIndex:g,className:clsx("recharts-tooltip-cursor",k.className)});return re.isValidElement(k)?re.cloneElement(k,O):re.createElement(_,O)}var DR=["item"],OR=["children","className","width","height","style","compact","title","desc"];function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_extends.apply(this,arguments)}function _slicedToArray(e,s){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,s){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,c,u,p,m=[],h=!0,f=!1;try{if(u=(a=a.call(e)).next,0===s);else for(;!(h=(l=u.call(a)).done)&&(m.push(l.value),m.length!==s);h=!0);}catch(g){f=!0,c=g}finally{try{if(!h&&null!=a.return&&(p=a.return(),Object(p)!==p))return}finally{if(f)throw c}}return m}}(e,s)||_unsupportedIterableToArray(e,s)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _objectWithoutProperties(e,s){if(null==e)return{};var a,l,c=function _objectWithoutPropertiesLoose(e,s){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(s.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _createClass(e,s,a){return s&&function _defineProperties(e,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_toPropertyKey(l.key),l)}}(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper(e,s,a){return s=_getPrototypeOf(s),function _possibleConstructorReturn(e,s){if(s&&("object"===_typeof(s)||"function"==typeof s))return s;if(void 0!==s)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_isNativeReflectConstruct()?Reflect.construct(s,a||[],_getPrototypeOf(e).constructor):s.apply(e,a))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct2(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf2(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,s){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf2(e,s){return e.__proto__=s,e})(e,s)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,s):void 0}}function _arrayLikeToArray(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=e[a];return l}function ownKeys(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,l)}return a}function _objectSpread(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?ownKeys(Object(a),!0).forEach(function(s){_defineProperty(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty(e,s,a){return(s=_toPropertyKey(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function _toPropertyKey(e){var s=function _toPrimitive(e,s){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,s);if("object"!=_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==_typeof(s)?s:s+""}var IR={xAxis:["bottom","top"],yAxis:["left","right"]},$R={width:"100%",height:"100%"},RR={x:0,y:0};function renderAsIs(e){return e}var FR=function getDisplayedData2(e,s){var a=s.graphicalItems,l=s.dataStartIndex,c=s.dataEndIndex,u=(null!=a?a:[]).reduce(function(e,s){var a=s.props.data;return a&&a.length?[].concat(_toConsumableArray(e),_toConsumableArray(a)):e},[]);return u.length>0?u:e&&e.length&&Nk(l)&&Nk(c)?e.slice(l,c+1):[]};function getDefaultDomainByAxisType(e){return"number"===e?[0,"auto"]:void 0}var BR=function getTooltipContent2(e,s,a,l){var c=e.graphicalItems,u=e.tooltipAxis,p=FR(s,e);return a<0||!c||!c.length||a>=p.length?null:c.reduce(function(c,m){var h,f,g=null!==(h=m.props.data)&&void 0!==h?h:s;(g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1)),u.dataKey&&!u.allowDuplicatedCategory)?f=findEntryInArray(void 0===g?p:g,u.dataKey,l):f=g&&g[a]||p[a];return f?[].concat(_toConsumableArray(c),[oO(m,f)]):c},[])},zR=function getTooltipData2(e,s,a,l){var c=l||{x:e.chartX,y:e.chartY},u=function calculateTooltipPos2(e,s){return"horizontal"===s?e.x:"vertical"===s?e.y:"centric"===s?e.angle:e.radius}(c,a),p=e.orderedTooltipTicks,m=e.tooltipAxis,h=e.tooltipTicks,f=function calculateActiveTickIndex2(e){var s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,u=-1,p=null!==(s=null==a?void 0:a.length)&&void 0!==s?s:0;if(p<=1)return 0;if(c&&"angleAxis"===c.axisType&&Math.abs(Math.abs(c.range[1]-c.range[0])-360)<=1e-6)for(var m=c.range,h=0;h<p;h++){var f=h>0?l[h-1].coordinate:l[p-1].coordinate,g=l[h].coordinate,b=h>=p-1?l[0].coordinate:l[h+1].coordinate,j=void 0;if(jk(g-f)!==jk(b-g)){var N=[];if(jk(b-g)===jk(m[1]-m[0])){j=b;var k=g+m[1]-m[0];N[0]=Math.min(k,(k+f)/2),N[1]=Math.max(k,(k+f)/2)}else{j=f;var _=b+m[1]-m[0];N[0]=Math.min(g,(_+g)/2),N[1]=Math.max(g,(_+g)/2)}var T=[Math.min(g,(j+g)/2),Math.max(g,(j+g)/2)];if(e>T[0]&&e<=T[1]||e>=N[0]&&e<=N[1]){u=l[h].index;break}}else{var E=Math.min(f,b),A=Math.max(f,b);if(e>(E+g)/2&&e<=(A+g)/2){u=l[h].index;break}}}else for(var L=0;L<p;L++)if(0===L&&e<=(a[L].coordinate+a[L+1].coordinate)/2||L>0&&L<p-1&&e>(a[L].coordinate+a[L-1].coordinate)/2&&e<=(a[L].coordinate+a[L+1].coordinate)/2||L===p-1&&e>(a[L].coordinate+a[L-1].coordinate)/2){u=a[L].index;break}return u}(u,p,h,m);if(f>=0&&h){var g=h[f]&&h[f].value,b=BR(e,s,f,g),j=function getActiveCoordinate2(e,s,a,l){var c=s.find(function(e){return e&&e.index===a});if(c){if("horizontal"===e)return{x:c.coordinate,y:l.y};if("vertical"===e)return{x:l.x,y:c.coordinate};if("centric"===e){var u=c.coordinate,p=l.radius;return _objectSpread(_objectSpread(_objectSpread({},l),dO(l.cx,l.cy,p,u)),{},{angle:u,radius:p})}var m=c.coordinate,h=l.angle;return _objectSpread(_objectSpread(_objectSpread({},l),dO(l.cx,l.cy,m,h)),{},{angle:h,radius:m})}return RR}(a,p,f,c);return{activeTooltipIndex:f,activeLabel:g,activePayload:b,activeCoordinate:j}}return null},VR=function getAxisMapByAxes2(e,s){var a=s.axes,l=s.graphicalItems,c=s.axisType,u=s.axisIdKey,p=s.stackGroups,m=s.dataStartIndex,h=s.dataEndIndex,f=e.layout,g=e.children,b=e.stackOffset,j=UD(f,c);return a.reduce(function(s,a){var N,k=void 0!==a.type.defaultProps?_objectSpread(_objectSpread({},a.type.defaultProps),a.props):a.props,_=k.type,T=k.dataKey,E=k.allowDataOverflow,A=k.allowDuplicatedCategory,L=k.scale,O=k.ticks,I=k.includeHidden,$=k[u];if(s[$])return s;var z,U,H,q=FR(e.data,{graphicalItems:l.filter(function(e){var s;return(u in e.props?e.props[u]:null===(s=e.type.defaultProps)||void 0===s?void 0:s[u])===$}),dataStartIndex:m,dataEndIndex:h}),Z=q.length;(function isDomainSpecifiedByUser(e,s,a){if("number"===a&&!0===s&&Array.isArray(e)){var l=null==e?void 0:e[0],c=null==e?void 0:e[1];if(l&&c&&Nk(l)&&Nk(c))return!0}return!1})(k.domain,E,_)&&(z=sO(k.domain,null,E),!j||"number"!==_&&"auto"===L||(H=getDomainOfDataByKey(q,T,"category")));var Y=getDefaultDomainByAxisType(_);if(!z||0===z.length){var X,J=null!==(X=k.domain)&&void 0!==X?X:Y;if(T){if(z=getDomainOfDataByKey(q,T,_),"category"===_&&j){var re=function hasDuplicate2(e){if(!Array.isArray(e))return!1;for(var s=e.length,a={},l=0;l<s;l++){if(a[e[l]])return!0;a[e[l]]=!0}return!1}(z);A&&re?(U=z,z=i$(0,Z)):A||(z=iO(J,z,a).reduce(function(e,s){return e.indexOf(s)>=0?e:[].concat(_toConsumableArray(e),[s])},[]))}else if("category"===_)z=A?z.filter(function(e){return""!==e&&!sk(e)}):iO(J,z,a).reduce(function(e,s){return e.indexOf(s)>=0||""===s||sk(s)?e:[].concat(_toConsumableArray(e),[s])},[]);else if("number"===_){var ae=function parseErrorBarsOfAxis2(e,s,a,l,c){var u=s.map(function(s){return zD(e,s,a,c,l)}).filter(function(e){return!sk(e)});return u&&u.length?u.reduce(function(e,s){return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]):null}(q,l.filter(function(e){var s,a,l=u in e.props?e.props[u]:null===(s=e.type.defaultProps)||void 0===s?void 0:s[u],c="hide"in e.props?e.props.hide:null===(a=e.type.defaultProps)||void 0===a?void 0:a.hide;return l===$&&(I||!c)}),T,c,f);ae&&(z=ae)}!j||"number"!==_&&"auto"===L||(H=getDomainOfDataByKey(q,T,"category"))}else z=j?i$(0,Z):p&&p[$]&&p[$].hasStack&&"number"===_?"expand"===b?[0,1]:tO(p[$].stackGroups,m,h):VD(q,l.filter(function(e){var s=u in e.props?e.props[u]:e.type.defaultProps[u],a="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return s===$&&(I||!a)}),_,f,!0);if("number"===_)z=TR(g,z,$,c,O),J&&(z=sO(J,z,E));else if("category"===_&&J){var le=J;z.every(function(e){return le.indexOf(e)>=0})&&(z=le)}}return _objectSpread(_objectSpread({},s),{},_defineProperty({},$,_objectSpread(_objectSpread({},k),{},{axisType:c,domain:z,categoricalDomain:H,duplicateDomain:U,originalDomain:null!==(N=k.domain)&&void 0!==N?N:Y,isCategorical:j,layout:f})))},{})},UR=function getAxisMap2(e,s){var a=s.axisType,l=void 0===a?"xAxis":a,c=s.AxisComp,u=s.graphicalItems,p=s.stackGroups,m=s.dataStartIndex,h=s.dataEndIndex,f=e.children,g="".concat(l,"Id"),b=findAllByType(f,c),j={};return b&&b.length?j=VR(e,{axes:b,graphicalItems:u,axisType:l,axisIdKey:g,stackGroups:p,dataStartIndex:m,dataEndIndex:h}):u&&u.length&&(j=function getAxisMapByItems2(e,s){var a=s.graphicalItems,l=s.Axis,c=s.axisType,u=s.axisIdKey,p=s.stackGroups,m=s.dataStartIndex,h=s.dataEndIndex,f=e.layout,g=e.children,b=FR(e.data,{graphicalItems:a,dataStartIndex:m,dataEndIndex:h}),j=b.length,N=UD(f,c),k=-1;return a.reduce(function(e,s){var _,T=(void 0!==s.type.defaultProps?_objectSpread(_objectSpread({},s.type.defaultProps),s.props):s.props)[u],E=getDefaultDomainByAxisType("number");return e[T]?e:(k++,N?_=i$(0,j):p&&p[T]&&p[T].hasStack?(_=tO(p[T].stackGroups,m,h),_=TR(g,_,T,c)):(_=sO(E,VD(b,a.filter(function(e){var s,a,l=u in e.props?e.props[u]:null===(s=e.type.defaultProps)||void 0===s?void 0:s[u],c="hide"in e.props?e.props.hide:null===(a=e.type.defaultProps)||void 0===a?void 0:a.hide;return l===T&&!c}),"number",f),l.defaultProps.allowDataOverflow),_=TR(g,_,T,c)),_objectSpread(_objectSpread({},e),{},_defineProperty({},T,_objectSpread(_objectSpread({axisType:c},l.defaultProps),{},{hide:!0,orientation:tk(IR,"".concat(c,".").concat(k%2),null),domain:_,originalDomain:E,isCategorical:N,layout:f}))))},{})}(e,{Axis:c,graphicalItems:u,axisType:l,axisIdKey:g,stackGroups:p,dataStartIndex:m,dataEndIndex:h})),j},HR=function createDefaultState2(e){var s=e.children,a=e.defaultShowTooltip,l=findChildByType(s,m$),c=0,u=0;return e.data&&0!==e.data.length&&(u=e.data.length-1),l&&l.props&&(l.props.startIndex>=0&&(c=l.props.startIndex),l.props.endIndex>=0&&(u=l.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:c,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:Boolean(a)}},qR=function getAxisNameByLayout2(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WR=function calculateOffset2(e,s){var a=e.props,l=(e.graphicalItems,e.xAxisMap),c=void 0===l?{}:l,u=e.yAxisMap,p=void 0===u?{}:u,m=a.width,h=a.height,f=a.children,g=a.margin||{},b=findChildByType(f,m$),j=findChildByType(f,_A),N=Object.keys(p).reduce(function(e,s){var a=p[s],l=a.orientation;return a.mirror||a.hide?e:_objectSpread(_objectSpread({},e),{},_defineProperty({},l,e[l]+a.width))},{left:g.left||0,right:g.right||0}),k=Object.keys(c).reduce(function(e,s){var a=c[s],l=a.orientation;return a.mirror||a.hide?e:_objectSpread(_objectSpread({},e),{},_defineProperty({},l,tk(e,"".concat(l))+a.height))},{top:g.top||0,bottom:g.bottom||0}),_=_objectSpread(_objectSpread({},k),N),T=_.bottom;b&&(_.bottom+=b.props.height||m$.defaultProps.height),j&&s&&(_=function appendOffsetOfLegend2(e,s,a,l){var c=a.children,u=a.width,p=a.margin,m=u-(p.left||0)-(p.right||0),h=FD({children:c,legendWidth:m});if(h){var f=l||{},g=f.width,b=f.height,j=h.align,N=h.verticalAlign,k=h.layout;if(("vertical"===k||"horizontal"===k&&"middle"===N)&&"center"!==j&&Nk(e[j]))return _objectSpread$u(_objectSpread$u({},e),{},_defineProperty$x({},j,e[j]+(g||0)));if(("horizontal"===k||"vertical"===k&&"center"===j)&&"middle"!==N&&Nk(e[N]))return _objectSpread$u(_objectSpread$u({},e),{},_defineProperty$x({},N,e[N]+(b||0)))}return e}(_,0,a,s));var E=m-_.left-_.right,A=h-_.top-_.bottom;return _objectSpread(_objectSpread({brushBottom:T},_),{},{width:Math.max(E,0),height:Math.max(A,0)})},ZR=function getCartesianAxisSize2(e,s){return"xAxis"===s?e[s].width:"yAxis"===s?e[s].height:void 0},KR=function generateCategoricalChart2(e){var s=e.chartName,a=e.GraphicalChild,l=e.defaultTooltipEventType,c=void 0===l?"axis":l,u=e.validateTooltipEventTypes,p=void 0===u?["axis"]:u,m=e.axisComponents,h=e.legendContent,f=e.formatAxisMap,g=e.defaultProps,b=function getFormatItems2(e,s){var a=s.graphicalItems,l=s.stackGroups,c=s.offset,u=s.updateId,p=s.dataStartIndex,h=s.dataEndIndex,f=e.barSize,g=e.layout,b=e.barGap,j=e.barCategoryGap,N=e.maxBarSize,k=qR(g),_=k.numericAxisName,T=k.cateAxisName,E=function hasGraphicalBarItem2(e){return!(!e||!e.length)&&e.some(function(e){var s=Bk(e&&e.type);return s&&s.indexOf("Bar")>=0})}(a),A=[];return a.forEach(function(a,k){var L=FR(e.data,{graphicalItems:[a],dataStartIndex:p,dataEndIndex:h}),O=void 0!==a.type.defaultProps?_objectSpread(_objectSpread({},a.type.defaultProps),a.props):a.props,I=O.dataKey,$=O.maxBarSize,z=O["".concat(_,"Id")],U=O["".concat(T,"Id")],H=m.reduce(function(e,a){var l=s["".concat(a.axisType,"Map")],c=O["".concat(a.axisType,"Id")];l&&l[c]||"zAxis"===a.axisType||invariant();var u=l[c];return _objectSpread(_objectSpread({},e),{},_defineProperty(_defineProperty({},a.axisType,u),"".concat(a.axisType,"Ticks"),qD(u)))},{}),q=H[T],Z=H["".concat(T,"Ticks")],Y=l&&l[z]&&l[z].hasStack&&function getStackedDataOfItem2(e,s){var a,l=(null!==(a=e.type)&&void 0!==a&&a.defaultProps?_objectSpread$u(_objectSpread$u({},e.type.defaultProps),e.props):e.props).stackId;if(Sk(l)){var c=s[l];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null}(a,l[z].stackGroups),X=Bk(a.type).indexOf("Bar")>=0,J=aO(q,Z),re=[],ae=E&&function getBarSizeList2(e){var s=e.barSize,a=e.totalSize,l=e.stackGroups,c=void 0===l?{}:l;if(!c)return{};for(var u={},p=Object.keys(c),m=0,h=p.length;m<h;m++)for(var f=c[p[m]].stackGroups,g=Object.keys(f),b=0,j=g.length;b<j;b++){var N=f[g[b]],k=N.items,_=N.cateAxisId,T=k.filter(function(e){return Bk(e.type).indexOf("Bar")>=0});if(T&&T.length){var E=T[0].type.defaultProps,A=void 0!==E?_objectSpread$u(_objectSpread$u({},E),T[0].props):T[0].props,L=A.barSize,O=A[_];u[O]||(u[O]=[]);var I=sk(L)?s:L;u[O].push({item:T[0],stackList:T.slice(1),barSize:sk(I)?void 0:_k(I,a,0)})}}return u}({barSize:f,stackGroups:l,totalSize:ZR(H,T)});if(X){var le,ce,de=sk($)?N:$,ue=null!==(le=null!==(ce=aO(q,Z,!0))&&void 0!==ce?ce:de)&&void 0!==le?le:0;re=function getBarPosition2(e){var s=e.barGap,a=e.barCategoryGap,l=e.bandSize,c=e.sizeList,u=void 0===c?[]:c,p=e.maxBarSize,m=u.length;if(m<1)return null;var h,f=_k(s,l,0,!0),g=[];if(u[0].barSize===+u[0].barSize){var b=!1,j=l/m,N=u.reduce(function(e,s){return e+s.barSize||0},0);(N+=(m-1)*f)>=l&&(N-=(m-1)*f,f=0),N>=l&&j>0&&(b=!0,N=m*(j*=.9));var k={offset:((l-N)/2|0)-f,size:0};h=u.reduce(function(e,s){var a={item:s.item,position:{offset:k.offset+k.size+f,size:b?j:s.barSize}},l=[].concat(_toConsumableArray$9(e),[a]);return k=l[l.length-1].position,s.stackList&&s.stackList.length&&s.stackList.forEach(function(e){l.push({item:e,position:k})}),l},g)}else{var _=_k(a,l,0,!0);l-2*_-(m-1)*f<=0&&(f=0);var T=(l-2*_-(m-1)*f)/m;T>1&&(T>>=0);var E=p===+p?Math.min(T,p):T;h=u.reduce(function(e,s,a){var l=[].concat(_toConsumableArray$9(e),[{item:s.item,position:{offset:_+(T+f)*a+(T-E)/2,size:E}}]);return s.stackList&&s.stackList.length&&s.stackList.forEach(function(e){l.push({item:e,position:l[l.length-1].position})}),l},g)}return h}({barGap:b,barCategoryGap:j,bandSize:ue!==J?ue:J,sizeList:ae[U],maxBarSize:de}),ue!==J&&(re=re.map(function(e){return _objectSpread(_objectSpread({},e),{},{position:_objectSpread(_objectSpread({},e.position),{},{offset:e.position.offset-ue/2})})}))}var me=a&&a.type&&a.type.getComposedData;me&&A.push({props:_objectSpread(_objectSpread({},me(_objectSpread(_objectSpread({},H),{},{displayedData:L,props:e,dataKey:I,item:a,bandSize:J,barPosition:re,offset:c,stackedData:Y,layout:g,dataStartIndex:p,dataEndIndex:h}))),{},_defineProperty(_defineProperty(_defineProperty({key:a.key||"item-".concat(k)},_,H[_]),T,H[T]),"animationId",u)),childIndex:Qk(a,e.children),item:a})}),A},j=function updateStateOfAxisMapsOffsetAndStackGroups2(e,l){var c=e.props,u=e.dataStartIndex,p=e.dataEndIndex,h=e.updateId;if(!Hk({props:c}))return null;var g=c.children,j=c.layout,N=c.stackOffset,k=c.data,_=c.reverseStackOrder,T=qR(j),E=T.numericAxisName,A=T.cateAxisName,L=findAllByType(g,a),O=function getStackGroupsByAxisId2(e,s,a,l,c,u){if(!e)return null;var p=(u?s.reverse():s).reduce(function(e,s){var c,u=null!==(c=s.type)&&void 0!==c&&c.defaultProps?_objectSpread$u(_objectSpread$u({},s.type.defaultProps),s.props):s.props,p=u.stackId;if(u.hide)return e;var m=u[a],h=e[m]||{hasStack:!1,stackGroups:{}};if(Sk(p)){var f=h.stackGroups[p]||{numericAxisId:a,cateAxisId:l,items:[]};f.items.push(s),h.hasStack=!0,h.stackGroups[p]=f}else h.stackGroups[kk("_stackId_")]={numericAxisId:a,cateAxisId:l,items:[s]};return _objectSpread$u(_objectSpread$u({},e),{},_defineProperty$x({},m,h))},{});return Object.keys(p).reduce(function(s,u){var m=p[u];return m.hasStack&&(m.stackGroups=Object.keys(m.stackGroups).reduce(function(s,u){var p=m.stackGroups[u];return _objectSpread$u(_objectSpread$u({},s),{},_defineProperty$x({},u,{numericAxisId:a,cateAxisId:l,items:p.items,stackedData:XD(e,p.items,c)}))},{})),_objectSpread$u(_objectSpread$u({},s),{},_defineProperty$x({},u,m))},{})}(k,L,"".concat(E,"Id"),"".concat(A,"Id"),N,_),I=m.reduce(function(e,s){var a="".concat(s.axisType,"Map");return _objectSpread(_objectSpread({},e),{},_defineProperty({},a,UR(c,_objectSpread(_objectSpread({},s),{},{graphicalItems:L,stackGroups:s.axisType===E&&O,dataStartIndex:u,dataEndIndex:p}))))},{}),$=WR(_objectSpread(_objectSpread({},I),{},{props:c,graphicalItems:L}),null==l?void 0:l.legendBBox);Object.keys(I).forEach(function(e){I[e]=f(c,I[e],$,e.replace("Map",""),s)});var z=function tooltipTicksGenerator2(e){var s=Pk(e),a=qD(s,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:PA(a,function(e){return e.coordinate}),tooltipAxis:s,tooltipAxisBandSize:aO(s,a)}}(I["".concat(A,"Map")]),U=b(c,_objectSpread(_objectSpread({},I),{},{dataStartIndex:u,dataEndIndex:p,updateId:h,graphicalItems:L,stackGroups:O,offset:$}));return _objectSpread(_objectSpread({formattedGraphicalItems:U,graphicalItems:L,offset:$,stackGroups:O},z),I)},N=function(){function CategoricalChartWrapper2(e){var a,l,c;return function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,CategoricalChartWrapper2),_defineProperty(c=_callSuper(this,CategoricalChartWrapper2,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(c,"accessibilityManager",new LR),_defineProperty(c,"handleLegendBBoxUpdate",function(e){if(e){var s=c.state,a=s.dataStartIndex,l=s.dataEndIndex,u=s.updateId;c.setState(_objectSpread({legendBBox:e},j({props:c.props,dataStartIndex:a,dataEndIndex:l,updateId:u},_objectSpread(_objectSpread({},c.state),{},{legendBBox:e}))))}}),_defineProperty(c,"handleReceiveSyncEvent",function(e,s,a){if(c.props.syncId===e){if(a===c.eventEmitterSymbol&&"function"!=typeof c.props.syncMethod)return;c.applySyncEvent(s)}}),_defineProperty(c,"handleBrushChange",function(e){var s=e.startIndex,a=e.endIndex;if(s!==c.state.dataStartIndex||a!==c.state.dataEndIndex){var l=c.state.updateId;c.setState(function(){return _objectSpread({dataStartIndex:s,dataEndIndex:a},j({props:c.props,dataStartIndex:s,dataEndIndex:a,updateId:l},c.state))}),c.triggerSyncEvent({dataStartIndex:s,dataEndIndex:a})}}),_defineProperty(c,"handleMouseEnter",function(e){var s=c.getMouseInfo(e);if(s){var a=_objectSpread(_objectSpread({},s),{},{isTooltipActive:!0});c.setState(a),c.triggerSyncEvent(a);var l=c.props.onMouseEnter;lk(l)&&l(a,e)}}),_defineProperty(c,"triggeredAfterMouseMove",function(e){var s=c.getMouseInfo(e),a=s?_objectSpread(_objectSpread({},s),{},{isTooltipActive:!0}):{isTooltipActive:!1};c.setState(a),c.triggerSyncEvent(a);var l=c.props.onMouseMove;lk(l)&&l(a,e)}),_defineProperty(c,"handleItemMouseEnter",function(e){c.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),_defineProperty(c,"handleItemMouseLeave",function(){c.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(c,"handleMouseMove",function(e){e.persist(),c.throttleTriggeredAfterMouseMove(e)}),_defineProperty(c,"handleMouseLeave",function(e){c.throttleTriggeredAfterMouseMove.cancel();var s={isTooltipActive:!1};c.setState(s),c.triggerSyncEvent(s);var a=c.props.onMouseLeave;lk(a)&&a(s,e)}),_defineProperty(c,"handleOuterEvent",function(e){var s,a=function getReactEventByType2(e){var s=e&&e.type;return s&&Fk[s]?Fk[s]:null}(e),l=tk(c.props,"".concat(a));a&&lk(l)&&l(null!==(s=/.*touch.*/i.test(a)?c.getMouseInfo(e.changedTouches[0]):c.getMouseInfo(e))&&void 0!==s?s:{},e)}),_defineProperty(c,"handleClick",function(e){var s=c.getMouseInfo(e);if(s){var a=_objectSpread(_objectSpread({},s),{},{isTooltipActive:!0});c.setState(a),c.triggerSyncEvent(a);var l=c.props.onClick;lk(l)&&l(a,e)}}),_defineProperty(c,"handleMouseDown",function(e){var s=c.props.onMouseDown;lk(s)&&s(c.getMouseInfo(e),e)}),_defineProperty(c,"handleMouseUp",function(e){var s=c.props.onMouseUp;lk(s)&&s(c.getMouseInfo(e),e)}),_defineProperty(c,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&c.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),_defineProperty(c,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&c.handleMouseDown(e.changedTouches[0])}),_defineProperty(c,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&c.handleMouseUp(e.changedTouches[0])}),_defineProperty(c,"handleDoubleClick",function(e){var s=c.props.onDoubleClick;lk(s)&&s(c.getMouseInfo(e),e)}),_defineProperty(c,"handleContextMenu",function(e){var s=c.props.onContextMenu;lk(s)&&s(c.getMouseInfo(e),e)}),_defineProperty(c,"triggerSyncEvent",function(e){void 0!==c.props.syncId&&AR.emit(MR,c.props.syncId,e,c.eventEmitterSymbol)}),_defineProperty(c,"applySyncEvent",function(e){var s=c.props,a=s.layout,l=s.syncMethod,u=c.state.updateId,p=e.dataStartIndex,m=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)c.setState(_objectSpread({dataStartIndex:p,dataEndIndex:m},j({props:c.props,dataStartIndex:p,dataEndIndex:m,updateId:u},c.state)));else if(void 0!==e.activeTooltipIndex){var h=e.chartX,f=e.chartY,g=e.activeTooltipIndex,b=c.state,N=b.offset,k=b.tooltipTicks;if(!N)return;if("function"==typeof l)g=l(k,e);else if("value"===l){g=-1;for(var _=0;_<k.length;_++)if(k[_].value===e.activeLabel){g=_;break}}var T=_objectSpread(_objectSpread({},N),{},{x:N.left,y:N.top}),E=Math.min(h,T.x+T.width),A=Math.min(f,T.y+T.height),L=k[g]&&k[g].value,O=BR(c.state,c.props.data,g),I=k[g]?{x:"horizontal"===a?k[g].coordinate:E,y:"horizontal"===a?A:k[g].coordinate}:RR;c.setState(_objectSpread(_objectSpread({},e),{},{activeLabel:L,activeCoordinate:I,activePayload:O,activeTooltipIndex:g}))}else c.setState(e)}),_defineProperty(c,"renderCursor",function(e){var a,l=c.state,u=l.isTooltipActive,p=l.activeCoordinate,m=l.activePayload,h=l.offset,f=l.activeTooltipIndex,g=l.tooltipAxisBandSize,b=c.getTooltipEventType(),j=null!==(a=e.props.active)&&void 0!==a?a:u,N=c.props.layout,k=e.key||"_recharts-cursor";return ae.createElement(Cursor,{key:k,activeCoordinate:p,activePayload:m,activeTooltipIndex:f,chartName:s,element:e,isActive:j,layout:N,offset:h,tooltipAxisBandSize:g,tooltipEventType:b})}),_defineProperty(c,"renderPolarAxis",function(e,s,a){var l=tk(e,"type.axisType"),u=tk(c.state,"".concat(l,"Map")),p=e.type.defaultProps,m=void 0!==p?_objectSpread(_objectSpread({},p),e.props):e.props,h=u&&u[m["".concat(l,"Id")]];return re.cloneElement(e,_objectSpread(_objectSpread({},h),{},{className:clsx(l,h.className),key:e.key||"".concat(s,"-").concat(a),ticks:qD(h,!0)}))}),_defineProperty(c,"renderPolarGrid",function(e){var s=e.props,a=s.radialLines,l=s.polarAngles,u=s.polarRadius,p=c.state,m=p.radiusAxisMap,h=p.angleAxisMap,f=Pk(m),g=Pk(h),b=g.cx,j=g.cy,N=g.innerRadius,k=g.outerRadius;return re.cloneElement(e,{polarAngles:Array.isArray(l)?l:qD(g,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(u)?u:qD(f,!0).map(function(e){return e.coordinate}),cx:b,cy:j,innerRadius:N,outerRadius:k,key:e.key||"polar-grid",radialLines:a})}),_defineProperty(c,"renderLegend",function(){var e=c.state.formattedGraphicalItems,s=c.props,a=s.children,l=s.width,u=s.height,p=c.props.margin||{},m=l-(p.left||0)-(p.right||0),f=FD({children:a,formattedGraphicalItems:e,legendWidth:m,legendContent:h});if(!f)return null;var g=f.item,b=_objectWithoutProperties(f,DR);return re.cloneElement(g,_objectSpread(_objectSpread({},b),{},{chartWidth:l,chartHeight:u,margin:p,onBBoxUpdate:c.handleLegendBBoxUpdate}))}),_defineProperty(c,"renderTooltip",function(){var e,s=c.props,a=s.children,l=s.accessibilityLayer,u=findChildByType(a,WA);if(!u)return null;var p=c.state,m=p.isTooltipActive,h=p.activeCoordinate,f=p.activePayload,g=p.activeLabel,b=p.offset,j=null!==(e=u.props.active)&&void 0!==e?e:m;return re.cloneElement(u,{viewBox:_objectSpread(_objectSpread({},b),{},{x:b.left,y:b.top}),active:j,label:g,payload:j?f:[],coordinate:h,accessibilityLayer:l})}),_defineProperty(c,"renderBrush",function(e){var s=c.props,a=s.margin,l=s.data,u=c.state,p=u.offset,m=u.dataStartIndex,h=u.dataEndIndex,f=u.updateId;return re.cloneElement(e,{key:e.key||"_recharts-brush",onChange:ZD(c.handleBrushChange,e.props.onChange),data:l,x:Nk(e.props.x)?e.props.x:p.left,y:Nk(e.props.y)?e.props.y:p.top+p.height+p.brushBottom-(a.bottom||0),width:Nk(e.props.width)?e.props.width:p.width,startIndex:m,endIndex:h,updateId:"brush-".concat(f)})}),_defineProperty(c,"renderReferenceElement",function(e,s,a){if(!e)return null;var l=c.clipPathId,u=c.state,p=u.xAxisMap,m=u.yAxisMap,h=u.offset,f=e.type.defaultProps||{},g=e.props,b=g.xAxisId,j=void 0===b?f.xAxisId:b,N=g.yAxisId,k=void 0===N?f.yAxisId:N;return re.cloneElement(e,{key:e.key||"".concat(s,"-").concat(a),xAxis:p[j],yAxis:m[k],viewBox:{x:h.left,y:h.top,width:h.width,height:h.height},clipPathId:l})}),_defineProperty(c,"renderActivePoints",function(e){var s=e.item,a=e.activePoint,l=e.basePoint,c=e.childIndex,u=e.isRange,p=[],m=s.props.key,h=void 0!==s.item.type.defaultProps?_objectSpread(_objectSpread({},s.item.type.defaultProps),s.item.props):s.item.props,f=h.activeDot,g=_objectSpread(_objectSpread({index:c,dataKey:h.dataKey,cx:a.x,cy:a.y,r:4,fill:BD(s.item),strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},Zk(f,!1)),Ok(f));return p.push(CategoricalChartWrapper2.renderActiveDot(f,g,"".concat(m,"-activePoint-").concat(c))),l?p.push(CategoricalChartWrapper2.renderActiveDot(f,_objectSpread(_objectSpread({},g),{},{cx:l.x,cy:l.y}),"".concat(m,"-basePoint-").concat(c))):u&&p.push(null),p}),_defineProperty(c,"renderGraphicChild",function(e,s,a){var l=c.filterFormatItem(e,s,a);if(!l)return null;var u=c.getTooltipEventType(),p=c.state,m=p.isTooltipActive,h=p.tooltipAxis,f=p.activeTooltipIndex,g=p.activeLabel,b=findChildByType(c.props.children,WA),j=l.props,N=j.points,k=j.isRange,_=j.baseLine,T=void 0!==l.item.type.defaultProps?_objectSpread(_objectSpread({},l.item.type.defaultProps),l.item.props):l.item.props,E=T.activeDot,A=T.hide,L=T.activeBar,O=T.activeShape,I=Boolean(!A&&m&&b&&(E||L||O)),$={};"axis"!==u&&b&&"click"===b.props.trigger?$={onClick:ZD(c.handleItemMouseEnter,e.props.onClick)}:"axis"!==u&&($={onMouseLeave:ZD(c.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:ZD(c.handleItemMouseEnter,e.props.onMouseEnter)});var z=re.cloneElement(e,_objectSpread(_objectSpread({},l.props),$));if(I){if(!(f>=0)){var U,H=(null!==(U=c.getItemByXY(c.state.activeCoordinate))&&void 0!==U?U:{graphicalItem:z}).graphicalItem,q=H.item,Z=void 0===q?e:q,Y=H.childIndex,X=_objectSpread(_objectSpread(_objectSpread({},l.props),$),{},{activeIndex:Y});return[re.cloneElement(Z,X),null,null]}var J,ae;if(h.dataKey&&!h.allowDuplicatedCategory){var le="function"==typeof h.dataKey?function findWithPayload(e){return"function"==typeof h.dataKey?h.dataKey(e.payload):null}:"payload.".concat(h.dataKey.toString());J=findEntryInArray(N,le,g),ae=k&&_&&findEntryInArray(_,le,g)}else J=null==N?void 0:N[f],ae=k&&_&&_[f];if(O||L){var ce=void 0!==e.props.activeIndex?e.props.activeIndex:f;return[re.cloneElement(e,_objectSpread(_objectSpread(_objectSpread({},l.props),$),{},{activeIndex:ce})),null,null]}if(!sk(J))return[z].concat(_toConsumableArray(c.renderActivePoints({item:l,activePoint:J,basePoint:ae,childIndex:f,isRange:k})))}return k?[z,null,null]:[z,null]}),_defineProperty(c,"renderCustomized",function(e,s,a){return re.cloneElement(e,_objectSpread(_objectSpread({key:"recharts-customized-".concat(a)},c.props),c.state))}),_defineProperty(c,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:c.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:c.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:c.renderBrush,once:!0},Bar:{handler:c.renderGraphicChild},Line:{handler:c.renderGraphicChild},Area:{handler:c.renderGraphicChild},Radar:{handler:c.renderGraphicChild},RadialBar:{handler:c.renderGraphicChild},Scatter:{handler:c.renderGraphicChild},Pie:{handler:c.renderGraphicChild},Funnel:{handler:c.renderGraphicChild},Tooltip:{handler:c.renderCursor,once:!0},PolarGrid:{handler:c.renderPolarGrid,once:!0},PolarAngleAxis:{handler:c.renderPolarAxis},PolarRadiusAxis:{handler:c.renderPolarAxis},Customized:{handler:c.renderCustomized}}),c.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:kk("recharts"),"-clip"),c.throttleTriggeredAfterMouseMove=KA(c.triggeredAfterMouseMove,null!==(l=e.throttleDelay)&&void 0!==l?l:1e3/60),c.state={},c}return function _inherits(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&_setPrototypeOf(e,s)}(CategoricalChartWrapper2,re.Component),_createClass(CategoricalChartWrapper2,[{key:"componentDidMount",value:function componentDidMount(){var e,s;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(s=this.props.margin.top)&&void 0!==s?s:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function displayDefaultTooltip(){var e=this.props,s=e.children,a=e.data,l=e.height,c=e.layout,u=findChildByType(s,WA);if(u){var p=u.props.defaultIndex;if(!("number"!=typeof p||p<0||p>this.state.tooltipTicks.length-1)){var m=this.state.tooltipTicks[p]&&this.state.tooltipTicks[p].value,h=BR(this.state,a,p,m),f=this.state.tooltipTicks[p].coordinate,g=(this.state.offset.top+l)/2,b="horizontal"===c?{x:f,y:g}:{y:f,x:g},j=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});j&&(b=_objectSpread(_objectSpread({},b),j.props.points[p].tooltipPosition),h=j.props.points[p].tooltipPayload);var N={activeTooltipIndex:p,isTooltipActive:!0,activeLabel:m,activePayload:h,activeCoordinate:b};this.setState(N),this.renderCursor(u),this.accessibilityManager.setIndex(p)}}}},{key:"getSnapshotBeforeUpdate",value:function getSnapshotBeforeUpdate(e,s){if(!this.props.accessibilityLayer)return null;var a,l;(this.state.tooltipTicks!==s.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(a=this.props.margin.left)&&void 0!==a?a:0,top:null!==(l=this.props.margin.top)&&void 0!==l?l:0}});return null}},{key:"componentDidUpdate",value:function componentDidUpdate(e){Kk([findChildByType(e.children,WA)],[findChildByType(this.props.children,WA)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function getTooltipEventType(){var e=findChildByType(this.props.children,WA);if(e&&"boolean"==typeof e.props.shared){var s=e.props.shared?"axis":"item";return p.indexOf(s)>=0?s:c}return c}},{key:"getMouseInfo",value:function getMouseInfo(e){if(!this.container)return null;var s=this.container,a=s.getBoundingClientRect(),l=function getOffset2(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}}(a),c={chartX:Math.round(e.pageX-l.left),chartY:Math.round(e.pageY-l.top)},u=a.width/s.offsetWidth||1,p=this.inRange(c.chartX,c.chartY,u);if(!p)return null;var m=this.state,h=m.xAxisMap,f=m.yAxisMap,g=this.getTooltipEventType(),b=zR(this.state,this.props.data,this.props.layout,p);if("axis"!==g&&h&&f){var j=Pk(h).scale,N=Pk(f).scale,k=j&&j.invert?j.invert(c.chartX):null,_=N&&N.invert?N.invert(c.chartY):null;return _objectSpread(_objectSpread({},c),{},{xValue:k,yValue:_},b)}return b?_objectSpread(_objectSpread({},c),b):null}},{key:"inRange",value:function inRange(e,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=this.props.layout,c=e/a,u=s/a;if("horizontal"===l||"vertical"===l){var p=this.state.offset;return c>=p.left&&c<=p.left+p.width&&u>=p.top&&u<=p.top+p.height?{x:c,y:u}:null}var m=this.state,h=m.angleAxisMap,f=m.radiusAxisMap;if(h&&f){var g=Pk(h);return hO({x:c,y:u},g)}return null}},{key:"parseEventsOfWrapper",value:function parseEventsOfWrapper(){var e=this.props.children,s=this.getTooltipEventType(),a=findChildByType(e,WA),l={};return a&&"axis"===s&&(l="click"===a.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),_objectSpread(_objectSpread({},Ok(this.props,this.handleOuterEvent)),l)}},{key:"addListener",value:function addListener(){AR.on(MR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function removeListener(){AR.removeListener(MR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function filterFormatItem(e,s,a){for(var l=this.state.formattedGraphicalItems,c=0,u=l.length;c<u;c++){var p=l[c];if(p.item===e||p.props.key===e.key||s===Bk(p.item.type)&&a===p.childIndex)return p}return null}},{key:"renderClipPath",value:function renderClipPath(){var e=this.clipPathId,s=this.state.offset,a=s.left,l=s.top,c=s.height,u=s.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:e},ae.createElement("rect",{x:a,y:l,height:c,width:u})))}},{key:"getXScales",value:function getXScales(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,s){var a=_slicedToArray(s,2),l=a[0],c=a[1];return _objectSpread(_objectSpread({},e),{},_defineProperty({},l,c.scale))},{}):null}},{key:"getYScales",value:function getYScales(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,s){var a=_slicedToArray(s,2),l=a[0],c=a[1];return _objectSpread(_objectSpread({},e),{},_defineProperty({},l,c.scale))},{}):null}},{key:"getXScaleByAxisId",value:function getXScaleByAxisId(e){var s;return null===(s=this.state.xAxisMap)||void 0===s||null===(s=s[e])||void 0===s?void 0:s.scale}},{key:"getYScaleByAxisId",value:function getYScaleByAxisId(e){var s;return null===(s=this.state.yAxisMap)||void 0===s||null===(s=s[e])||void 0===s?void 0:s.scale}},{key:"getItemByXY",value:function getItemByXY(e){var s=this.state,a=s.formattedGraphicalItems,l=s.activeItem;if(a&&a.length)for(var c=0,u=a.length;c<u;c++){var p=a[c],m=p.props,h=p.item,f=void 0!==h.type.defaultProps?_objectSpread(_objectSpread({},h.type.defaultProps),h.props):h.props,g=Bk(h.type);if("Bar"===g){var b=(m.data||[]).find(function(s){return fI(e,s)});if(b)return{graphicalItem:p,payload:b}}else if("RadialBar"===g){var j=(m.data||[]).find(function(s){return hO(e,s)});if(j)return{graphicalItem:p,payload:j}}else if(isFunnel(p,l)||isPie(p,l)||isScatter(p,l)){var N=getActiveShapeIndexForTooltip({graphicalItem:p,activeTooltipItem:l,itemData:f.data}),k=void 0===f.activeIndex?N:f.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},p),{},{childIndex:k}),payload:isScatter(p,l)?f.data[N]:p.props.data[N]}}}return null}},{key:"render",value:function render(){var e=this;if(!Hk(this))return null;var s,a,l=this.props,c=l.children,u=l.className,p=l.width,m=l.height,h=l.style,f=l.compact,g=l.title,b=l.desc,j=_objectWithoutProperties(l,OR),N=Zk(j,!1);if(f)return ae.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(Surface,_extends({},N,{width:p,height:m,title:g,desc:b}),this.renderClipPath(),Yk(c,this.renderMap)));this.props.accessibilityLayer&&(N.tabIndex=null!==(s=this.props.tabIndex)&&void 0!==s?s:0,N.role=null!==(a=this.props.role)&&void 0!==a?a:"application",N.onKeyDown=function(s){e.accessibilityManager.keyboardEvent(s)},N.onFocus=function(){e.accessibilityManager.focus()});var k=this.parseEventsOfWrapper();return ae.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",_extends({className:clsx("recharts-wrapper",u),style:_objectSpread({position:"relative",cursor:"default",width:p,height:m},h)},k,{ref:function ref(s){e.container=s}}),ae.createElement(Surface,_extends({},N,{width:p,height:m,title:g,desc:b,style:$R}),this.renderClipPath(),Yk(c,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();_defineProperty(N,"displayName",s),_defineProperty(N,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),_defineProperty(N,"getDerivedStateFromProps",function(e,s){var a=e.dataKey,l=e.data,c=e.children,u=e.width,p=e.height,m=e.layout,h=e.stackOffset,f=e.margin,g=s.dataStartIndex,b=s.dataEndIndex;if(void 0===s.updateId){var N=HR(e);return _objectSpread(_objectSpread(_objectSpread({},N),{},{updateId:0},j(_objectSpread(_objectSpread({props:e},N),{},{updateId:0}),s)),{},{prevDataKey:a,prevData:l,prevWidth:u,prevHeight:p,prevLayout:m,prevStackOffset:h,prevMargin:f,prevChildren:c})}if(a!==s.prevDataKey||l!==s.prevData||u!==s.prevWidth||p!==s.prevHeight||m!==s.prevLayout||h!==s.prevStackOffset||!shallowEqual(f,s.prevMargin)){var k=HR(e),_={chartX:s.chartX,chartY:s.chartY,isTooltipActive:s.isTooltipActive},T=_objectSpread(_objectSpread({},zR(s,l,m)),{},{updateId:s.updateId+1}),E=_objectSpread(_objectSpread(_objectSpread({},k),_),T);return _objectSpread(_objectSpread(_objectSpread({},E),j(_objectSpread({props:e},E),s)),{},{prevDataKey:a,prevData:l,prevWidth:u,prevHeight:p,prevLayout:m,prevStackOffset:h,prevMargin:f,prevChildren:c})}if(!Kk(c,s.prevChildren)){var A,L,O,I,$=findChildByType(c,m$),z=$&&null!==(A=null===(L=$.props)||void 0===L?void 0:L.startIndex)&&void 0!==A?A:g,U=$&&null!==(O=null===(I=$.props)||void 0===I?void 0:I.endIndex)&&void 0!==O?O:b,H=z!==g||U!==b,q=!sk(l)&&!H?s.updateId:s.updateId+1;return _objectSpread(_objectSpread({updateId:q},j(_objectSpread(_objectSpread({props:e},s),{},{updateId:q,dataStartIndex:z,dataEndIndex:U}),s)),{},{prevChildren:c,dataStartIndex:z,dataEndIndex:U})}return null}),_defineProperty(N,"renderActiveDot",function(e,s,a){var l;return l=re.isValidElement(e)?re.cloneElement(e,s):lk(e)?e(s):ae.createElement(wI,s),ae.createElement(g_,{className:"recharts-active-dot",key:a},l)});var k=re.forwardRef(function CategoricalChart2(e,s){return ae.createElement(N,_extends({},e,{ref:s}))});return k.displayName=N.displayName,k},GR=KR({chartName:"LineChart",GraphicalChild:bR,axisComponents:[{axisType:"xAxis",AxisComp:CR},{axisType:"yAxis",AxisComp:_R}],formatAxisMap:L$}),YR=KR({chartName:"BarChart",GraphicalChild:M$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:CR},{axisType:"yAxis",AxisComp:_R}],formatAxisMap:L$}),QR=KR({chartName:"PieChart",GraphicalChild:a$,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zI},{axisType:"radiusAxis",AxisComp:DI}],formatAxisMap:function formatAxisMap(e,s,a,l,c){var u=e.width,p=e.height,m=e.startAngle,h=e.endAngle,f=_k(e.cx,u,u/2),g=_k(e.cy,p,p/2),b=uO(u,p,a),j=_k(e.innerRadius,b,0),N=_k(e.outerRadius,b,.8*b);return Object.keys(s).reduce(function(e,a){var u,p=s[a],b=p.domain,k=p.reversed;if(sk(p.range))"angleAxis"===l?u=[m,h]:"radiusAxis"===l&&(u=[j,N]),k&&(u=[u[1],u[0]]);else{var _=_slicedToArray$6(u=p.range,2);m=_[0],h=_[1]}var T=KD(p,c),E=T.realScaleType,A=T.scale;A.domain(b).range(u),YD(A);var L=JD(A,_objectSpread$t(_objectSpread$t({},p),{},{realScaleType:E})),O=_objectSpread$t(_objectSpread$t(_objectSpread$t({},p),L),{},{range:u,radius:N,realScaleType:E,scale:A,cx:f,cy:g,innerRadius:j,outerRadius:N,startAngle:m,endAngle:h});return _objectSpread$t(_objectSpread$t({},e),{},_defineProperty$w({},a,O))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),XR=KR({chartName:"AreaChart",GraphicalChild:SR,axisComponents:[{axisType:"xAxis",AxisComp:CR},{axisType:"yAxis",AxisComp:_R}],formatAxisMap:L$});function AgencyPerformanceChart({data:e,isLoading:s}){return s?u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-5 w-5"}),"Performance Overview"]})}),u.jsx(sa,{children:u.jsx("div",{className:"h-[400px] flex items-center justify-center",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading chart..."})})})]}):e&&0!==e.length?u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(fl,{className:"h-5 w-5"}),"Performance Overview (Last 6 Months)"]})}),u.jsxs(sa,{children:[u.jsx(GA,{width:"100%",height:400,children:u.jsxs(YR,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(CartesianGrid,{strokeDasharray:"3 3"}),u.jsx(CR,{dataKey:"month"}),u.jsx(_R,{}),u.jsx(WA,{formatter:(e,s)=>[e,"string"==typeof s?s.charAt(0).toUpperCase()+s.slice(1):s],labelFormatter:e=>`Month: ${e}`}),u.jsx(M$,{dataKey:"listings",stackId:"a",fill:"#3b82f6",name:"Listings"}),u.jsx(M$,{dataKey:"leads",stackId:"a",fill:"#10b981",name:"Leads"}),u.jsx(M$,{dataKey:"sales",stackId:"a",fill:"#f59e0b",name:"Sales"})]})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-4 border-t",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((e,s)=>e+s.listings,0)}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.reduce((e,s)=>e+s.leads,0)}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Leads"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.reduce((e,s)=>e+s.sales,0)}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"})]})]})]})]}):u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-5 w-5"}),"Performance Overview"]})}),u.jsx(sa,{children:u.jsx("div",{className:"h-[400px] flex items-center justify-center",children:u.jsx("div",{className:"text-muted-foreground",children:"No performance data available"})})})]})}function RecentLeadsTable({leads:e,isLoading:s,onViewAll:a}){if(s)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(wl,{className:"h-5 w-5"}),"Recent Leads"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((e,s)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]},s))})})]});if(!e||0===e.length)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(wl,{className:"h-5 w-5"}),"Recent Leads"]})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(wl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No recent leads"}),u.jsx("p",{className:"text-sm",children:"New leads will appear here"})]})})]});const getLeadTypeIcon=e=>{switch(e){case"inquiry":default:return u.jsx(xo,{className:"h-4 w-4"});case"viewing_request":return u.jsx(Ea,{className:"h-4 w-4"});case"offer":return u.jsx(oo,{className:"h-4 w-4"});case"callback":return u.jsx(Eo,{className:"h-4 w-4"})}},getStatusBadgeVariant=e=>{switch(e){case"new":case"converted":return"default";case"contacted":return"secondary";case"qualified":default:return"outline";case"closed":case"lost":return"destructive"}},formatDate=e=>{const s=new Date(e),a=new Date,l=Math.abs(a.getTime()-s.getTime()),c=Math.ceil(l/864e5);return 1===c?"Today":2===c?"Yesterday":c<=7?c-1+" days ago":s.toLocaleDateString()};return u.jsxs(ea,{className:"mb-8",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(wl,{className:"h-5 w-5"}),"Recent Leads"]}),a&&u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:a,children:["View All",u.jsx(pa,{className:"h-4 w-4 ml-1"})]})]}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(e=>{return u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:getLeadTypeIcon(e.leadType)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),u.jsx(Badge,{variant:getStatusBadgeVariant(e.status),className:"text-xs",children:e.status})]}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[(s=e.leadType,s.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())),e.propertyId&&`  Property #${e.propertyId}`]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[u.jsx("span",{children:e.email}),e.phone&&u.jsx("span",{children:e.phone}),u.jsx("span",{children:formatDate(e.createdAt)})]}),e.message&&u.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.message})]})]},e.id);var s})})})]})}function RecentListingsTable({listings:e,isLoading:s,onViewAll:a}){if(s)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-5 w-5"}),"Recent Listings"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((e,s)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]},s))})})]});if(!e||0===e.length)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-5 w-5"}),"Recent Listings"]})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(Bi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No recent listings"}),u.jsx("p",{className:"text-sm",children:"New property listings will appear here"})]})})]});const getStatusBadgeVariant=e=>{switch(e){case"available":return"default";case"pending":return"secondary";case"sold":return"destructive";default:return"outline"}},formatDate=e=>{const s=new Date(e),a=new Date,l=Math.abs(a.getTime()-s.getTime()),c=Math.ceil(l/864e5);return 1===c?"Today":2===c?"Yesterday":c<=7?c-1+" days ago":s.toLocaleDateString()};return u.jsxs(ea,{className:"mb-8",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"h-5 w-5"}),"Recent Listings"]}),a&&u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:a,children:["View All",u.jsx(pa,{className:"h-4 w-4 ml-1"})]})]}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(e=>{return u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(Bi,{className:"h-5 w-5 text-primary"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-medium text-sm truncate",children:e.title}),u.jsx(Badge,{variant:getStatusBadgeVariant(e.status),className:"text-xs",children:e.status})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ii,{className:"h-3 w-3"}),(s=e.price,new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(s))]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(lo,{className:"h-3 w-3"}),e.city]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(Ea,{className:"h-3 w-3"}),"Listed ",formatDate(e.createdAt)]})]})]},e.id);var s})})})]})}var JR="Progress",eF=100,[tF]=createContextScope(JR),[rF,nF]=tF(JR),sF=re.forwardRef((e,s)=>{const{__scopeProgress:a,value:l=null,max:c,getValueLabel:p=defaultGetValueLabel,...m}=e;!c&&0!==c||isValidMaxNumber(c)||console.error(function getInvalidMaxError(e,s){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`}(`${c}`,"Progress"));const h=isValidMaxNumber(c)?c:eF;null===l||isValidValueNumber(l,h)||console.error(function getInvalidValueError(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${l}`,"Progress"));const f=isValidValueNumber(l,h)?l:null,g=isNumber2(f)?p(f,h):void 0;return u.jsx(rF,{scope:a,value:f,max:h,children:u.jsx(tn.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":isNumber2(f)?f:void 0,"aria-valuetext":g,role:"progressbar","data-state":getProgressState(f,h),"data-value":f??void 0,"data-max":h,...m,ref:s})})});sF.displayName=JR;var aF="ProgressIndicator",iF=re.forwardRef((e,s)=>{const{__scopeProgress:a,...l}=e,c=nF(aF,a);return u.jsx(tn.div,{"data-state":getProgressState(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...l,ref:s})});function defaultGetValueLabel(e,s){return`${Math.round(e/s*100)}%`}function getProgressState(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function isNumber2(e){return"number"==typeof e}function isValidMaxNumber(e){return isNumber2(e)&&!isNaN(e)&&e>0}function isValidValueNumber(e,s){return isNumber2(e)&&!isNaN(e)&&e<=s&&e>=0}iF.displayName=aF;var oF=sF,lF=iF;function Progress({className:e,value:s,indicatorClassName:a,...l}){return u.jsx(oF,{"data-slot":"progress",className:cn("bg-slate-100 relative h-2 w-full overflow-hidden rounded-full",e),...l,children:u.jsx(lF,{"data-slot":"progress-indicator",className:cn("bg-primary h-full w-full flex-1 transition-all",a),style:{transform:`translateX(-${100-(s||0)}%)`}})})}function LeadConversionAnalytics({data:e,isLoading:s}){if(s)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ol,{className:"h-5 w-5"}),"Lead Conversion Analytics"]})}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"animate-pulse h-8 bg-muted rounded"}),u.jsx("div",{className:"animate-pulse h-4 bg-muted rounded w-3/4"}),u.jsx("div",{className:"animate-pulse h-20 bg-muted rounded"})]})})]});if(!e)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ol,{className:"h-5 w-5"}),"Lead Conversion Analytics"]})}),u.jsx(sa,{children:u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversion data available"})})]});const getStatusColor2=e=>{switch(e){case"new":return"bg-blue-500";case"contacted":return"bg-yellow-500";case"qualified":return"bg-orange-500";case"converted":return"bg-green-500";case"closed":return"bg-purple-500";case"lost":return"bg-red-500";default:return"bg-gray-500"}};return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ol,{className:"h-5 w-5"}),"Lead Conversion Analytics"]})}),u.jsxs(sa,{children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.total}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Leads"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.converted}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Converted"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[e.conversionRate,"%"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Conversion Rate"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[u.jsx(fl,{className:"h-4 w-4"}),"Conversion Funnel"]}),e.byStatus.map((e,s)=>{return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${getStatusColor2(e.status)}`}),u.jsx("span",{className:"text-sm font-medium",children:(a=e.status,a.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()))}),u.jsx(Badge,{variant:"outline",className:"text-xs",children:e.count})]}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.percentage,"%"]})]}),u.jsx(Progress,{value:e.percentage,className:"h-2"})]},e.status);var a})]}),u.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ua,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"font-medium text-sm",children:"Conversion Insights"})]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:e.conversionRate>=20?u.jsx("span",{className:"text-green-600",children:"Excellent conversion rate! Keep up the great work."}):e.conversionRate>=10?u.jsx("span",{className:"text-blue-600",children:"Good conversion rate. Focus on lead qualification to improve further."}):e.conversionRate>=5?u.jsx("span",{className:"text-orange-600",children:"Average conversion rate. Consider improving follow-up processes."}):u.jsx("span",{className:"text-red-600",children:"Low conversion rate. Review lead quality and agent training."})})]})]})]})}function CommissionEarningsDashboard({data:e,isLoading:s}){if(s)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"h-5 w-5"}),"Commission & Earnings"]})}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"animate-pulse h-8 bg-muted rounded"}),u.jsx("div",{className:"animate-pulse h-32 bg-muted rounded"})]})})]});if(!e)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"h-5 w-5"}),"Commission & Earnings"]})}),u.jsx(sa,{children:u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No commission data available"})})]});const formatCurrency2=e=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(e);return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"h-5 w-5"}),"Commission & Earnings Overview"]})}),u.jsxs(sa,{children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(fl,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"})]}),u.jsx("div",{className:"text-2xl font-bold text-green-600",children:formatCurrency2(e.totalEarnings)})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(Ua,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Paid"})]}),u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:formatCurrency2(e.paidCommissions)})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(Qa,{className:"h-4 w-4 text-orange-600"}),u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Pending"})]}),u.jsx("div",{className:"text-2xl font-bold text-orange-600",children:formatCurrency2(e.pendingCommissions)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[u.jsx(fl,{className:"h-4 w-4"}),"Monthly Earnings Trend"]}),u.jsx(GA,{width:"100%",height:250,children:u.jsxs(GR,{data:e.monthlyBreakdown,children:[u.jsx(CartesianGrid,{strokeDasharray:"3 3"}),u.jsx(CR,{dataKey:"month"}),u.jsx(_R,{tickFormatter:e=>`R${e}`}),u.jsx(WA,{formatter:e=>[formatCurrency2(e),"Earnings"],labelFormatter:e=>`Month: ${e}`}),u.jsx(bR,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:6}})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[u.jsx(Ua,{className:"h-4 w-4 text-green-600"}),"Payment Status"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm",children:"Paid"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:e.totalEarnings>0?e.paidCommissions/e.totalEarnings*100+"%":"0%"}})}),u.jsxs("span",{className:"text-sm font-medium",children:[e.totalEarnings>0?Math.round(e.paidCommissions/e.totalEarnings*100):0,"%"]})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm",children:"Pending"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:e.totalEarnings>0?e.pendingCommissions/e.totalEarnings*100+"%":"0%"}})}),u.jsxs("span",{className:"text-sm font-medium",children:[e.totalEarnings>0?Math.round(e.pendingCommissions/e.totalEarnings*100):0,"%"]})]})]})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h4",{className:"font-medium mb-3",children:"Monthly Performance"}),u.jsx("div",{className:"space-y-2",children:e.monthlyBreakdown.slice(-3).map((e,s)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm",children:e.month}),u.jsx(Badge,{variant:e.earnings>0?"default":"secondary",children:formatCurrency2(e.earnings)})]},e.month))})]})]})]})]})}function AgentPerformanceLeaderboard({data:e,isLoading:s}){if(s)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(xl,{className:"h-5 w-5"}),"Agent Performance Leaderboard"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>u.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-muted rounded-full"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]},s))})})]});if(!e||0===e.length)return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(xl,{className:"h-5 w-5"}),"Agent Performance Leaderboard"]})}),u.jsx(sa,{children:u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No performance data available"})})]});const getRankIcon=e=>{switch(e){case 0:return"";case 1:return"";case 2:return"";default:return`#${e+1}`}},getRankColor=e=>{switch(e){case 0:return"text-yellow-600";case 1:return"text-gray-500";case 2:return"text-amber-600";default:return"text-muted-foreground"}};return u.jsxs(ea,{className:"mb-8",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(xl,{className:"h-5 w-5"}),"Agent Performance Leaderboard"]})}),u.jsxs(sa,{children:[u.jsx("div",{className:"space-y-4",children:e.slice(0,10).map((e,s)=>{return u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border "+(s<3?"bg-gradient-to-r from-yellow-50 to-transparent border-yellow-200":""),children:[u.jsx("div",{className:`flex-shrink-0 w-8 text-center font-bold ${getRankColor(s)}`,children:getRankIcon(s)}),u.jsx(Avatar,{className:"flex-shrink-0",children:u.jsx(AvatarFallback,{className:"bg-primary/10",children:(l=e.agentName,l.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-semibold truncate",children:e.agentName}),s<3&&u.jsx(Badge,{variant:"outline",className:"text-xs",children:"Top Performer"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(ii,{className:"h-3 w-3 text-green-600"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Earnings"})]}),u.jsx("div",{className:"text-sm font-bold text-green-600",children:(a=e.earnings,new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(a))})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Bi,{className:"h-3 w-3 text-blue-600"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Listed"})]}),u.jsx("div",{className:"text-sm font-bold",children:e.propertiesListed})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Cl,{className:"h-3 w-3 text-purple-600"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Leads"})]}),u.jsx("div",{className:"text-sm font-bold",children:e.leadsGenerated})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(fl,{className:"h-3 w-3 text-orange-600"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Sold"})]}),u.jsx("div",{className:"text-sm font-bold",children:e.propertiesSold})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Conversion Rate:"}),u.jsxs(Badge,{variant:e.conversionRate>=20?"default":e.conversionRate>=10?"secondary":"outline",className:"text-xs",children:[e.conversionRate,"%"]})]})]})]},e.agentId);var a,l})}),e.length>10&&u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing top 10 performers. ",e.length-10," more agents..."]})})]})]})}function AgencyExploreOverview(){const[,e]=useLocation(),{data:s,isLoading:a}=At.exploreAnalytics.getAggregatedMetrics.useQuery({period:"month"});if(a)return u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Explore Performance"})}),u.jsx(sa,{children:u.jsxs("div",{className:"animate-pulse space-y-3",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]})})]});if(!s?.data)return u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Explore Performance"}),u.jsx(na,{children:"No Explore content from your team yet"})]}),u.jsxs(sa,{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Encourage your agents to upload videos to Explore to start tracking performance."}),u.jsx(Button$1,{onClick:()=>e("/explore/upload"),children:"Upload to Explore"})]})]});const l=s.data;return u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ra,{children:"Explore Performance"}),u.jsx(na,{children:"This month's aggregate metrics"})]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>e("/agency/explore"),children:["View Details",u.jsx(pa,{className:"ml-2 h-4 w-4"})]})]})}),u.jsx(sa,{children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx(MetricCard$3,{icon:u.jsx(fi,{className:"h-5 w-5 text-blue-500"}),label:"Total Views",value:l.totalViews.toLocaleString()}),u.jsx(MetricCard$3,{icon:u.jsx(Cl,{className:"h-5 w-5 text-green-500"}),label:"Unique Viewers",value:l.totalUniqueViewers.toLocaleString()}),u.jsx(MetricCard$3,{icon:u.jsx(kl,{className:"h-5 w-5 text-purple-500"}),label:"Completion Rate",value:`${l.averageCompletionRate.toFixed(1)}%`}),u.jsx(MetricCard$3,{icon:u.jsx(fl,{className:"h-5 w-5 text-orange-500"}),label:"Engagement Rate",value:`${l.engagementRate.toFixed(1)}%`})]})})]})}function MetricCard$3({icon:e,label:s,value:a}){return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-slate-50",children:e}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:s}),u.jsx("p",{className:"text-lg font-semibold text-slate-800",children:a})]})]})}function AgencyDashboard(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),{data:c,isLoading:p}=At.agency.getDashboardStats.useQuery(),{data:m,isLoading:h}=At.agency.getPerformanceData.useQuery(),{data:f,isLoading:g}=At.agency.getRecentLeads.useQuery(),{data:b,isLoading:j}=At.agency.getRecentListings.useQuery(),{data:N,isLoading:k}=At.agency.getLeadConversionStats.useQuery(),{data:_,isLoading:T}=At.agency.getCommissionStats.useQuery(),{data:E,isLoading:A}=At.agency.getAgentLeaderboard.useQuery();return l?u.jsx("div",{className:"min-h-screen bg-[#F4F7FA] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-400",children:"Loading..."})]})}):s?"agency_admin"!==a?.role?(e("/dashboard"),null):u.jsxs("div",{className:"min-h-screen bg-[#F4F7FA]",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"h-8 w-8 text-emerald-600"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Agency Dashboard"}),u.jsx("p",{className:"text-slate-500",children:"Monitor performance and manage your team"})]}),u.jsx(Badge,{className:"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 border-emerald-200",children:"Agency Admin"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",onClick:()=>e("/explore/upload"),className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 text-blue-700 hover:from-blue-100 hover:to-indigo-100",children:[u.jsx(ka,{className:"mr-2 h-4 w-4"}),"Upload to Explore"]}),u.jsxs(Button$1,{variant:"outline",onClick:()=>e("/agency/subscription"),children:[u.jsx(si,{className:"mr-2 h-4 w-4"}),"Subscription"]}),u.jsxs(Button$1,{onClick:()=>e("/agency/agents"),children:[u.jsx(qo,{className:"mr-2 h-4 w-4"}),"Manage Team"]})]})]}),u.jsx(AgencyStatsCards,{stats:c||{totalListings:0,totalSales:0,totalLeads:0,totalAgents:0,activeListings:0,pendingListings:0,recentLeads:0,recentSales:0},isLoading:p}),u.jsx(AgencyPerformanceChart,{data:m||[],isLoading:h}),u.jsx(AgencyExploreOverview,{}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[u.jsx(LeadConversionAnalytics,{data:N||{total:0,converted:0,conversionRate:0,byStatus:[]},isLoading:k}),u.jsx(CommissionEarningsDashboard,{data:_||{totalEarnings:0,paidCommissions:0,pendingCommissions:0,monthlyBreakdown:[]},isLoading:T})]}),u.jsx(AgentPerformanceLeaderboard,{data:E||[],isLoading:A}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(RecentLeadsTable,{leads:f||[],isLoading:g,onViewAll:()=>e("/agency/leads")}),u.jsx(RecentListingsTable,{listings:b||[],isLoading:j,onViewAll:()=>e("/agency/listings")})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Quick Actions"}),u.jsx(na,{children:"Common agency management tasks"})]}),u.jsx(sa,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(Button$1,{variant:"outline",className:"justify-between h-auto py-4",onClick:()=>e("/agency/invite"),children:[u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[u.jsx(wl,{className:"h-4 w-4"}),"Invite Agents"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new team members"})]}),u.jsx(pa,{className:"h-4 w-4"})]}),u.jsxs(Button$1,{variant:"outline",className:"justify-between h-auto py-4",onClick:()=>e("/agency/agents"),children:[u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[u.jsx(Cl,{className:"h-4 w-4"}),"Manage Team"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Update roles and permissions"})]}),u.jsx(pa,{className:"h-4 w-4"})]}),u.jsxs(Button$1,{variant:"outline",className:"justify-between h-auto py-4",onClick:()=>e("/listings/create"),children:[u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[u.jsx(ka,{className:"h-4 w-4"}),"Add Listing"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Create new property listing"})]}),u.jsx(pa,{className:"h-4 w-4"})]})]})})]})]})]}):(e("/login"),null)}function ShareProfileModal({isOpen:e,onClose:s,agentId:a,agentName:l}){const[c,p]=re.useState(!1),m=`${window.location.origin}/agent/profile/${a}`,h=`Check out ${l}'s real estate profile!`,handleShare=e=>{const s=encodeURIComponent(m),a=encodeURIComponent(h),l={facebook:`https://www.facebook.com/sharer/sharer.php?u=${s}`,twitter:`https://twitter.com/intent/tweet?url=${s}&text=${a}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${s}`,whatsapp:`https://wa.me/?text=${a}%20${s}`,email:`mailto:?subject=${a}&body=Check%20out%20this%20agent%20profile:%20${s}`};l[e]&&window.open(l[e],"_blank","width=600,height=400")};return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-md",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{className:"text-2xl",children:"Share Your Profile"}),u.jsx(DialogDescription,{children:"Share your professional profile to attract more clients"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"profile-link",className:"text-sm font-semibold",children:"Your Profile Link"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{id:"profile-link",value:m,readOnly:!0,className:"bg-gray-50"}),u.jsx(Button$1,{onClick:async()=>{try{await navigator.clipboard.writeText(m),p(!0),Gr.success("Profile link copied to clipboard!"),setTimeout(()=>p(!1),2e3)}catch(pW){Gr.error("Failed to copy link")}},variant:"outline",className:"flex-shrink-0",children:c?u.jsx(Ia,{className:"h-4 w-4 text-green-600"}):u.jsx(ni,{className:"h-4 w-4"})})]})]}),u.jsxs(Button$1,{onClick:()=>{window.open(m,"_blank")},variant:"outline",className:"w-full",children:[u.jsx(mi,{className:"h-4 w-4 mr-2"}),"Preview Your Public Profile"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Label$1,{className:"text-sm font-semibold",children:"Share on Social Media"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Button$1,{onClick:()=>handleShare("facebook"),variant:"outline",className:"justify-start",children:[u.jsx(gi,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),u.jsxs(Button$1,{onClick:()=>handleShare("twitter"),variant:"outline",className:"justify-start",children:[u.jsx(vl,{className:"h-4 w-4 mr-2 text-sky-500"}),"Twitter"]}),u.jsxs(Button$1,{onClick:()=>handleShare("linkedin"),variant:"outline",className:"justify-start",children:[u.jsx(eo,{className:"h-4 w-4 mr-2 text-blue-700"}),"LinkedIn"]}),u.jsxs(Button$1,{onClick:()=>handleShare("whatsapp"),variant:"outline",className:"justify-start",children:[u.jsx(xo,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]}),u.jsxs(Button$1,{onClick:()=>handleShare("email"),variant:"outline",className:"justify-start col-span-2",children:[u.jsx(oo,{className:"h-4 w-4 mr-2 text-gray-600"}),"Email"]})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:" Marketing Tips"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Add your profile link to your email signature"}),u.jsx("li",{children:" Share on your social media bio"}),u.jsx("li",{children:" Include in your business cards (QR code)"}),u.jsx("li",{children:" Use in property listing descriptions"})]})]})]})]})})}const cF=[{name:"Overview",href:"/agent/dashboard",icon:Bi},{name:"Listings",href:"/agent/listings",icon:ka},{name:"Leads & CRM",href:"/agent/leads",icon:Cl},{name:"Marketing Hub",href:"/agent/marketing",icon:ho},{name:"Earnings",href:"/agent/earnings",icon:ii},{name:"Analytics",href:"/agent/analytics",icon:Da},{name:"Productivity",href:"/agent/productivity",icon:Ea},{name:"Training & Support",href:"/agent/training",icon:Mi},{name:"Settings",href:"/agent/settings",icon:qo}],dF=[{name:"Add New Listing",icon:Mo,variant:"default"},{name:"Upload to Explore",icon:yl,variant:"secondary"},{name:"View Leads",icon:fi,variant:"secondary"},{name:"Promote Listing",icon:fl,variant:"secondary"},{name:"Share Profile",icon:Wo,variant:"secondary"}];function AgentSidebar(){const[,e]=useLocation(),{user:s}=useAuth(),[a,l]=re.useState(!1),c=s?.name?s.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"AG";return u.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 bg-white border-r border-gray-100 shadow-soft z-20",children:[u.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[u.jsxs("div",{className:"flex items-center h-16 flex-shrink-0 px-6 border-b border-gray-100",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-soft flex items-center justify-center",children:u.jsx(ka,{className:"h-5 w-5 text-white"})}),u.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Agent Portal"})]}),u.jsxs("div",{className:"px-4 pt-6 pb-4",children:[u.jsx("h3",{className:"px-2 mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Quick Actions"}),u.jsx("div",{className:"space-y-2",children:dF.map(s=>u.jsxs(Button$1,{variant:s.variant,className:cn("w-full justify-start h-auto py-2.5 px-4 rounded-xl transition-all duration-200","default"===s.variant?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-soft hover:shadow-hover text-white":"bg-gray-50 hover:bg-gray-100 border border-gray-100 text-gray-700 hover:text-blue-600 shadow-sm"),size:"sm",onClick:()=>{"Add New Listing"===s.name?e("/listings/create"):"Upload to Explore"===s.name?e("/explore/upload"):"View Leads"===s.name?e("/agent/leads"):"Promote Listing"===s.name?e("/agent/marketing"):"Share Profile"===s.name&&l(!0)},children:[u.jsx(s.icon,{className:cn("mr-2.5 h-4 w-4 flex-shrink-0","secondary"===s.variant&&"text-blue-500")}),u.jsx("span",{className:"text-sm font-medium",children:s.name})]},s.name))})]}),u.jsxs("nav",{className:"flex-1 px-4 py-2 space-y-1 overflow-y-auto",children:[u.jsx("h3",{className:"px-2 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wide mt-4",children:"Menu"}),cF.map(e=>u.jsxs("a",{href:e.href,className:cn("flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 group",window.location.pathname===e.href?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"),children:[u.jsx(e.icon,{className:cn("mr-3 h-5 w-5 flex-shrink-0 transition-colors duration-200",window.location.pathname===e.href?"text-blue-600":"text-gray-400 group-hover:text-blue-500")}),e.name]},e.name))]}),u.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-100 bg-gray-50/50",children:u.jsxs("div",{className:"flex items-center p-3 rounded-xl hover:bg-white transition-all duration-200 cursor-pointer group shadow-sm hover:shadow-soft",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-soft group-hover:scale-105 transition-transform duration-200",children:u.jsx("span",{className:"text-sm font-semibold text-white",children:c})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:s?.name||"Agent"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Real Estate Agent"})]}),u.jsx(qo,{className:"ml-auto h-4 w-4 text-gray-400 group-hover:text-blue-500 transition-colors"})]})})]}),u.jsx(ShareProfileModal,{isOpen:a,onClose:()=>l(!1),agentId:2,agentName:s?.name||"Agent"})]})}var uF="Popover",[pF]=createContextScope(uF,[Un]),mF=Un(),[hF,fF]=pF(uF),Popover$1=e=>{const{__scopePopover:s,children:a,open:l,defaultOpen:c,onOpenChange:p,modal:m=!1}=e,h=mF(s),f=re.useRef(null),[g,b]=re.useState(!1),[j,N]=useControllableState({prop:l,defaultProp:c??!1,onChange:p,caller:uF});return u.jsx(ts,{...h,children:u.jsx(hF,{scope:s,contentId:useId(),triggerRef:f,open:j,onOpenChange:N,onOpenToggle:re.useCallback(()=>N(e=>!e),[N]),hasCustomAnchor:g,onCustomAnchorAdd:re.useCallback(()=>b(!0),[]),onCustomAnchorRemove:re.useCallback(()=>b(!1),[]),modal:m,children:a})})};Popover$1.displayName=uF;var gF="PopoverAnchor";re.forwardRef((e,s)=>{const{__scopePopover:a,...l}=e,c=fF(gF,a),p=mF(a),{onCustomAnchorAdd:m,onCustomAnchorRemove:h}=c;return re.useEffect(()=>(m(),()=>h()),[m,h]),u.jsx(rs,{...p,...l,ref:s})}).displayName=gF;var xF="PopoverTrigger",vF=re.forwardRef((e,s)=>{const{__scopePopover:a,...l}=e,c=fF(xF,a),p=mF(a),m=useComposedRefs$1(s,c.triggerRef),h=u.jsx(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":getState$1(c.open),...l,ref:m,onClick:composeEventHandlers(e.onClick,c.onOpenToggle)});return c.hasCustomAnchor?h:u.jsx(rs,{asChild:!0,...p,children:h})});vF.displayName=xF;var yF="PopoverPortal",[bF,jF]=pF(yF,{forceMount:void 0}),PopoverPortal=e=>{const{__scopePopover:s,forceMount:a,children:l,container:c}=e,p=fF(yF,s);return u.jsx(bF,{scope:s,forceMount:a,children:u.jsx(Presence,{present:a||p.open,children:u.jsx(as,{asChild:!0,container:c,children:l})})})};PopoverPortal.displayName=yF;var wF="PopoverContent",NF=re.forwardRef((e,s)=>{const a=jF(wF,e.__scopePopover),{forceMount:l=a.forceMount,...c}=e,p=fF(wF,e.__scopePopover);return u.jsx(Presence,{present:l||p.open,children:p.modal?u.jsx(CF,{...c,ref:s}):u.jsx(kF,{...c,ref:s})})});NF.displayName=wF;var SF=createSlot("PopoverContent.RemoveScroll"),CF=re.forwardRef((e,s)=>{const a=fF(wF,e.__scopePopover),l=re.useRef(null),c=useComposedRefs$1(s,l),p=re.useRef(!1);return re.useEffect(()=>{const e=l.current;if(e)return hideOthers(e)},[]),u.jsx(td,{as:SF,allowPinchZoom:!0,children:u.jsx(_F,{...e,ref:c,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,e=>{e.preventDefault(),p.current||a.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,e=>{const s=e.detail.originalEvent,a=0===s.button&&!0===s.ctrlKey,l=2===s.button||a;p.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),kF=re.forwardRef((e,s)=>{const a=fF(wF,e.__scopePopover),l=re.useRef(!1),c=re.useRef(!1);return u.jsx(_F,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||a.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,c.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,"pointerdown"===s.detail.originalEvent.type&&(c.current=!0));const u=s.target,p=a.triggerRef.current?.contains(u);p&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&c.current&&s.preventDefault()}})}),_F=re.forwardRef((e,s)=>{const{__scopePopover:a,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:p,disableOutsidePointerEvents:m,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:b,...j}=e,N=fF(wF,a),k=mF(a);return useFocusGuards(),u.jsx(xc,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:c,onUnmountAutoFocus:p,children:u.jsx(un,{asChild:!0,disableOutsidePointerEvents:m,onInteractOutside:b,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:g,onDismiss:()=>N.onOpenChange(!1),children:u.jsx(ns,{"data-state":getState$1(N.open),role:"dialog",id:N.contentId,...k,...j,ref:s,style:{...j.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PF="PopoverClose";re.forwardRef((e,s)=>{const{__scopePopover:a,...l}=e,c=fF(PF,a);return u.jsx(tn.button,{type:"button",...l,ref:s,onClick:composeEventHandlers(e.onClick,()=>c.onOpenChange(!1))})}).displayName=PF;function getState$1(e){return e?"open":"closed"}re.forwardRef((e,s)=>{const{__scopePopover:a,...l}=e,c=mF(a);return u.jsx(ss,{...c,...l,ref:s})}).displayName="PopoverArrow";var TF=Popover$1,EF=vF,AF=PopoverPortal,MF=NF;function Popover({...e}){return u.jsx(TF,{"data-slot":"popover",...e})}function PopoverTrigger({...e}){return u.jsx(EF,{"data-slot":"popover-trigger",...e})}function PopoverContent({className:e,align:s="center",sideOffset:a=4,...l}){return u.jsx(AF,{children:u.jsx(MF,{"data-slot":"popover-content",align:s,sideOffset:a,className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...l})})}function AgentTopNav(){const[,e]=useLocation(),{user:s,logout:a}=useAuth(),[l,c]=re.useState(""),p=s?.name?s.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"AG",m=[],h=[],f=m.filter(e=>e.unread).length,g=h.filter(e=>e.unread).length;return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-gray-100 bg-white/80 backdrop-blur-xl px-6 shadow-soft transition-all duration-200",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"default",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-soft hover:shadow-hover rounded-xl transition-all duration-200",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Quick Action"]})}),u.jsxs(DropdownMenuContent,{align:"start",className:"w-56 rounded-xl shadow-hover",children:[u.jsxs(DropdownMenuItem,{onClick:()=>e("/listings/create"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add New Listing"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/explore/upload"),children:[u.jsx(yl,{className:"h-4 w-4 mr-2"}),"Upload to Explore"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/agent/leads?action=add"),children:[u.jsx(wl,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]})]})}),u.jsx("div",{className:"flex-1 max-w-2xl mx-8",children:u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(Input,{placeholder:"Search listings, clients, content...",className:"pl-10 bg-gray-50/50 border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500/20 rounded-xl transition-all duration-200 w-full",value:l,onChange:e=>c(e.target.value)})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",size:"icon",className:"relative rounded-xl hover:bg-gray-50",children:[u.jsx(wa,{className:"h-5 w-5 text-gray-600"}),f>0&&u.jsx(Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-xs rounded-full",children:f})]})}),u.jsxs(PopoverContent,{className:"w-80 p-0 rounded-xl shadow-hover",align:"end",children:[u.jsx("div",{className:"p-4 border-b border-gray-100",children:u.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===m.length?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(wa,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"No new notifications"})]}):m.map(e=>u.jsxs("div",{className:cn("p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50 last:border-0",e.unread&&"bg-blue-50/30"),children:[u.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.text}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]},e.id))}),u.jsx("div",{className:"p-3 border-t border-gray-100",children:u.jsx(Button$1,{variant:"ghost",className:"w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg",onClick:()=>e("/agent/dashboard?tab=notifications"),children:"View All Notifications"})})]})]}),u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",size:"icon",className:"relative rounded-xl hover:bg-gray-50",children:[u.jsx(xo,{className:"h-5 w-5 text-gray-600"}),g>0&&u.jsx(Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-xs rounded-full",children:g})]})}),u.jsxs(PopoverContent,{className:"w-80 p-0 rounded-xl shadow-hover",align:"end",children:[u.jsx("div",{className:"p-4 border-b border-gray-100",children:u.jsx("h3",{className:"font-semibold text-gray-900",children:"Messages"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===h.length?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(xo,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"No new messages"})]}):h.map(e=>u.jsxs("div",{className:cn("p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50 last:border-0",e.unread&&"bg-blue-50/30"),children:[u.jsx("p",{className:"text-sm text-gray-900 font-semibold",children:e.from}),u.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.text}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]},e.id))}),u.jsx("div",{className:"p-3 border-t border-gray-100",children:u.jsx(Button$1,{variant:"ghost",className:"w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg",onClick:()=>e("/agent/leads"),children:"View All Messages"})})]})]}),u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",className:"flex items-center gap-2 rounded-xl hover:bg-gray-50 px-3",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-soft",children:u.jsx("span",{className:"text-xs font-semibold text-white",children:p})}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s?.name||"Agent"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Real Estate Agent"})]}),u.jsx($a,{className:"h-4 w-4 text-gray-400"})]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-56 rounded-xl shadow-hover",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-gray-100",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s?.name}),u.jsx("p",{className:"text-xs text-gray-500",children:s?.email})]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/agent/settings"),children:[u.jsx(Sl,{className:"h-4 w-4 mr-2"}),"My Profile"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/agent/settings"),children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),u.jsx(DropdownMenuSeparator,{}),u.jsxs(DropdownMenuItem,{onClick:()=>{a(),e("/login")},className:"text-red-600 focus:text-red-600",children:[u.jsx(io,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})}function QuickStatCard({title:e,value:s,icon:a,trend:l}){return u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-gray-100",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s}),l&&u.jsxs("p",{className:cn("text-xs font-medium mt-2 flex items-center gap-1",l.positive?"text-green-600":"text-red-600"),children:[u.jsx(fl,{className:cn("h-3 w-3",!l.positive&&"rotate-180")}),l.value]})]}),u.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:u.jsx(a,{className:"h-6 w-6 text-blue-600"})})]})})})}function AgentDashboardOverview(){const[,e]=useLocation(),{isAuthenticated:s,user:a}=useAuth(),{data:l,isLoading:c}=At.agent.getDashboardStats.useQuery(void 0,{enabled:s&&"agent"===a?.role,retry:!1}),p=[],m=[],h=[],f=[],g=[],b=[];return u.jsx("div",{className:"min-h-screen bg-gray-50",children:u.jsxs("main",{className:"p-6 space-y-6 max-w-[1800px] mx-auto",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-8 text-white shadow-hover",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",a?.name?.split(" ")[0]||"Agent","! "]}),u.jsx("p",{className:"text-blue-100",children:"Here's what's happening with your business today."})]}),u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-blue-100",children:"Today's Date"}),u.jsx("p",{className:"text-lg font-semibold",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[u.jsx(QuickStatCard,{title:"Active Listings",value:c?"":l?.activeListings??0,icon:ka}),u.jsx(QuickStatCard,{title:"New Leads This Week",value:c?"":l?.newLeadsThisWeek??0,icon:Cl}),u.jsx(QuickStatCard,{title:"Showings Today",value:c?"":l?.showingsToday??p.length,icon:Ea}),u.jsx(QuickStatCard,{title:"Commission Pending",value:c?"":`R ${((l?.commissionsPending??0)/100).toLocaleString()}`,icon:ii})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:u.jsx(Ea,{className:"h-5 w-5 text-purple-600"})}),"Today's Schedule"]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>e("/agent/productivity"),children:["View Calendar ",u.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})}),u.jsx(sa,{children:0===p.length?u.jsx("p",{className:"text-center text-gray-500 py-6",children:"No appointments scheduled for today."}):u.jsx("div",{className:"space-y-3",children:p.map(e=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[u.jsx("div",{className:"flex-shrink-0 w-20 text-center",children:u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.time})}),u.jsx("div",{className:"h-10 w-1 bg-blue-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.title}),u.jsxs("p",{className:"text-sm text-gray-500",children:["with ",e.client]})]}),u.jsx(Badge,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:e.type})]},e.id))})})]}),u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:u.jsx(Cl,{className:"h-5 w-5 text-green-600"})}),"New Leads"]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>e("/agent/leads"),children:["View All ",u.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})}),u.jsx(sa,{children:0===m.length?u.jsx("p",{className:"text-center text-gray-500 py-6",children:"No new leads yet."}):u.jsx("div",{className:"space-y-3",children:m.map(e=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[u.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),u.jsx("p",{className:"text-sm text-gray-600",children:e.property}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Budget: ",e.budget]})]}),u.jsx("p",{className:"text-xs text-gray-400",children:e.time})]},e.id))})})]}),u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-orange-50 rounded-xl",children:u.jsx(Bi,{className:"h-5 w-5 text-orange-600"})}),"Active Listings Performance"]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>e("/agent/listings"),children:["View All ",u.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})}),u.jsx(sa,{children:0===g.length?u.jsx("p",{className:"text-center text-gray-500 py-6",children:"No active listings to show."}):u.jsx("div",{className:"space-y-3",children:g.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.title}),u.jsx("p",{className:"text-lg font-bold text-blue-600 mt-1",children:e.price})]}),u.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500",children:"Views"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.views})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500",children:"Enquiries"}),u.jsx("p",{className:"font-semibold text-green-600",children:e.enquiries})]})]})]},e.id))})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-yellow-50 rounded-xl",children:u.jsx(Ua,{className:"h-5 w-5 text-yellow-600"})}),"Tasks Today"]})}),u.jsx(sa,{children:0===h.length?u.jsx("p",{className:"text-center text-gray-500 py-6",children:"No tasks due today."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-2",children:h.map(e=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:cn("h-5 w-5 rounded border-2 flex items-center justify-center",e.completed?"bg-green-500 border-green-500":"border-gray-300"),children:e.completed&&u.jsx(Ua,{className:"h-4 w-4 text-white"})}),u.jsx("p",{className:cn("text-sm flex-1",e.completed?"text-gray-400 line-through":"text-gray-900"),children:e.task}),"high"===e.priority&&!e.completed&&u.jsx(Badge,{className:"bg-red-100 text-red-700 text-xs",children:"High"})]},e.id))}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"w-full mt-4 text-blue-600",onClick:()=>e("/agent/productivity"),children:"View All Tasks"})]})})]}),u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-pink-50 rounded-xl",children:u.jsx(kl,{className:"h-5 w-5 text-pink-600"})}),"Explore Videos"]})}),u.jsx(sa,{children:0===f.length?u.jsxs("div",{className:"text-center py-6",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:"No videos uploaded yet."}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"w-full text-blue-600",onClick:()=>e("/agent/marketing"),children:"Upload Video"})]}):u.jsxs("div",{className:"space-y-3",children:[f.map(e=>u.jsx("div",{className:"p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg flex items-center justify-center",children:u.jsx(Ao,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-sm text-gray-900",children:e.title}),u.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(fi,{className:"h-3 w-3"})," ",e.views]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ol,{className:"h-3 w-3"})," ",e.engagement,"%"]})]})]})]})},e.id)),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"w-full mt-4 text-blue-600",onClick:()=>e("/agent/marketing"),children:"Upload More Videos"})]})})]}),u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-2 border-blue-100",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:u.jsx(el,{className:"h-5 w-5 text-blue-600"})}),"Alerts & Tips"]})}),u.jsx(sa,{children:0===b.length?u.jsx("p",{className:"text-center text-gray-500 py-6",children:"No new alerts."}):u.jsx("div",{className:"space-y-3",children:b.map(e=>u.jsx("div",{className:"p-4 bg-blue-50 rounded-xl",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Va,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.message}),u.jsxs(Button$1,{variant:"link",className:"p-0 h-auto text-blue-600 text-sm mt-2",children:[e.action," ",u.jsx(pa,{className:"h-3 w-3 ml-1"})]})]})]})},e.id))})})]}),u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:[u.jsx(ta,{className:"pb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl",children:u.jsx(xo,{className:"h-5 w-5 text-indigo-600"})}),"Messages"]}),u.jsx(Badge,{className:"bg-gray-200 text-gray-600",children:"0"})]})}),u.jsxs(sa,{children:[u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No new messages"}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"w-full text-blue-600",onClick:()=>e("/agent/leads"),children:"View Messages"})]})]})]})]})]})})}function AgentDashboard(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),{data:c,isLoading:p}=At.agent.getDashboardStats.useQuery(void 0,{enabled:s&&"agent"===a?.role,retry:!1,onError:s=>{s.message.includes("Agent profile not found")&&e("/agent/setup")}});return l||p?u.jsx("div",{className:"min-h-screen bg-[#F4F7FA] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-400",children:"Loading..."})]})}):s?"agent"!==a?.role?(e("/dashboard"),null):u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsx(AgentDashboardOverview,{})]})]}):(e("/login"),null)}const ReadinessIndicator=({score:e,missing:s={},size:a="md",variant:l="ring",className:c})=>{const p=e>=90,m=(h=e)>=90?"text-green-500":h>=50?"text-amber-500":"text-red-500";var h;const f=Object.entries(s).flatMap(([e,s])=>s.map(s=>`${e.charAt(0).toUpperCase()+e.slice(1)}: ${s}`));if("compact"===l)return u.jsx(TooltipProvider,{children:u.jsxs(Tooltip$1,{children:[u.jsx(TooltipTrigger,{asChild:!0,children:u.jsxs("div",{className:cn("flex items-center gap-2",c),children:[u.jsxs("div",{className:cn("font-bold",m),children:[e,"%"]}),p?u.jsx(Ha,{className:"w-4 h-4 text-green-500"}):u.jsx(Va,{className:"w-4 h-4 text-amber-500"})]})}),u.jsx(TooltipContent,{className:"max-w-xs",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-xs border-b pb-1 mb-1",children:p?"Ready to Submit":"Fix Required"}),f.length>0?u.jsxs("ul",{className:"text-xs list-disc pl-3 space-y-0.5",children:[f.slice(0,5).map((e,s)=>u.jsx("li",{children:e},s)),f.length>5&&u.jsxs("li",{children:["+ ",f.length-5," more"]})]}):u.jsx("p",{className:"text-xs text-green-500",children:"All checks passed"})]})})]})});const g="sm"===a?32:"md"===a?48:64,b="sm"===a?3:4,j=(g-b)/2,N=2*j*Math.PI,k=N-e/100*N;return u.jsx("div",{className:cn("relative flex items-center justify-center",c),children:u.jsx(TooltipProvider,{children:u.jsxs(Tooltip$1,{children:[u.jsx(TooltipTrigger,{children:u.jsxs("div",{className:"relative",style:{width:g,height:g},children:[u.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[u.jsx("circle",{className:"text-gray-200",strokeWidth:b,stroke:"currentColor",fill:"transparent",r:j,cx:g/2,cy:g/2}),u.jsx("circle",{className:cn("transition-all duration-500",m),strokeWidth:b,strokeDasharray:N,strokeDashoffset:k,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:j,cx:g/2,cy:g/2})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("span",{className:cn("font-bold","sm"===a?"text-[10px]":"text-xs",m),children:[e,"%"]})})]})}),u.jsx(TooltipContent,{className:"max-w-xs",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-xs border-b pb-1 mb-1",children:p?"Ready for Submission":"Completion Status"}),f.length>0?u.jsx("ul",{className:"text-xs list-disc pl-3 space-y-0.5",children:f.map((e,s)=>u.jsx("li",{children:e},s))}):u.jsx("p",{className:"text-xs text-green-500",children:"All checks passed!"})]})})]})})})};function getQualityTier(e){return e>=90?{tier:"featured",label:"Featured",color:"green"}:e>=75?{tier:"optimized",label:"Optimized",color:"blue"}:e>=50?{tier:"basic",label:"Basic",color:"yellow"}:{tier:"poor",label:"Poor",color:"red"}}const EntityStatusCard=({type:e,data:s,readiness:a,quality:l,onEdit:c,onDelete:p,onView:m,className:h})=>{const f="listing"===e,g=s.status,b=s.approvalStatus,getStatusBadge=()=>{switch(g){case"published":case"active":return u.jsx(Badge,{className:"bg-green-500 hover:bg-green-600",children:"Published"});case"approved":return u.jsx(Badge,{className:"bg-blue-500 hover:bg-blue-600",children:"Approved (Unpublished)"});case"pending":case"pending_review":return u.jsx(Badge,{className:"bg-amber-500 hover:bg-amber-600",children:"Pending Review"});case"rejected":return u.jsx(Badge,{variant:"destructive",children:"Action Required"});default:return u.jsx(Badge,{variant:"secondary",className:"text-gray-500",children:"Draft"})}},j="rejected"===g||"rejected"===b;let N=[];if(s.rejectionReasons)try{N="string"==typeof s.rejectionReasons?JSON.parse(s.rejectionReasons):s.rejectionReasons}catch(L){N=[String(s.rejectionReasons)]}else s.rejectionReason&&(N=[s.rejectionReason]);const k=s.rejectionNote,_=f?s.title:s.name,T=f?s.primaryImage:(e=>{if(!e)return null;let s=[];if(Array.isArray(e))s=e;else if("string"==typeof e)try{const a=JSON.parse(e);Array.isArray(a)?s=a:("string"==typeof a||"object"==typeof a&&null!==a)&&(s=[a])}catch{(e.trim().startsWith("http")||e.trim().startsWith("/"))&&(s=[e.trim()])}else"object"==typeof e&&null!==e&&(s=[e]);if(0===s.length)return null;const a=s.find(e=>"object"==typeof e&&null!==e&&"hero"===e.category&&e.url);if(a&&"string"==typeof a.url)return a.url;for(const l of s){if("string"==typeof l&&l.length>0)return l;if("object"==typeof l&&null!==l&&l.url&&"string"==typeof l.url&&l.url.length>0)return l.url}return null})(s.images),E=f?s.pricing?.askingPrice||s.pricing?.monthlyRent:s.priceFrom,A=f?null:s.priceTo,formatPriceDisplay=()=>E?!f&&A&&A>E?`${formatCurrency(E)} - ${formatCurrency(A)}`:formatCurrency(E):null;return u.jsx(ea,{className:cn("overflow-hidden bg-white border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",h),children:u.jsx(sa,{className:"p-0",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-0 sm:gap-6",children:[u.jsxs("div",{className:"w-full sm:w-48 h-48 sm:h-auto bg-slate-100 shrink-0 relative border-r border-slate-100",children:[T?u.jsx("img",{src:withApiBase(T),alt:_,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://placehold.co/400x300?text=No+Image",e.currentTarget.onerror=null}}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 text-xs font-medium",children:"No Image"}),u.jsx("div",{className:"absolute top-3 left-3 sm:hidden",children:getStatusBadge()})]}),u.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsx("div",{className:"hidden sm:block",children:getStatusBadge()}),u.jsxs("div",{className:"flex items-center gap-3",children:["draft"===g&&u.jsx("div",{className:"scale-90 origin-right",children:u.jsx(ReadinessIndicator,{score:a.score,missing:a.missing,variant:"compact",size:"sm"})}),l&&("draft"===g||"active"===g||"published"===g)&&u.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Quality"}),u.jsx("div",{className:cn("text-xs font-bold","green"===getQualityTier(l.score).color?"text-emerald-600":"blue"===getQualityTier(l.score).color?"text-blue-600":"yellow"===getQualityTier(l.score).color?"text-amber-600":"text-rose-600"),children:l.score})]}),u.jsxs("div",{className:"flex items-center gap-1 border-l border-slate-100 pl-2 ml-1",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-900",onClick:()=>c(s.id),title:"Edit",children:u.jsx(rl,{className:"w-4 h-4"})}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-rose-600 hover:bg-rose-50",onClick:()=>p(s.id),title:"Delete",children:u.jsx(ul,{className:"w-4 h-4"})})]})]})]}),u.jsx("h3",{className:"font-semibold text-xl text-slate-900 line-clamp-1 mb-1",children:_||"Untitled Property"}),u.jsx("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-3",children:u.jsx("span",{children:s.address||s.city||"No location set"})}),formatPriceDisplay()&&u.jsx("p",{className:"font-semibold text-lg text-slate-900",children:formatPriceDisplay()}),j&&u.jsx("div",{className:"mt-4 bg-red-50/50 border border-red-100 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gl,{className:"w-5 h-5 text-red-600 mt-0.5 shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Changes Required"}),u.jsxs("ul",{className:"text-sm text-red-700 list-disc pl-4 mt-2 mb-2 space-y-1",children:[N.slice(0,3).map((e,s)=>u.jsx("li",{children:e},s)),N.length>3&&u.jsxs("li",{children:["+ ",N.length-3," more"]})]}),k&&u.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-white/50 p-2 rounded border border-red-100 italic",children:['Note from Admin: "',k,'"']}),u.jsx(Button$1,{size:"sm",variant:"outline",className:"mt-3 border-red-200 text-red-700 hover:bg-red-50 hover:text-red-900 hover:border-red-300",onClick:()=>c(s.id),children:"Fix & Resubmit"})]})]})})]}),!j&&"published"!==g&&"active"!==g&&u.jsx("div",{className:"mt-5 flex justify-end border-t border-slate-50 pt-4",children:"draft"===g?u.jsx(Button$1,{size:"sm",onClick:()=>c(s.id),className:"font-medium",children:a.score>=90?"Review & Submit":"Continue Setup"}):u.jsx(Button$1,{size:"sm",variant:"outline",className:"text-slate-500 bg-slate-50 border-slate-200",disabled:!0,children:"In Review"})})]})]})})})},calculateListingReadiness=e=>{const s={location:[],pricing:[],media:[],description:[],specs:[]};let a=0;e.address&&e.latitude&&e.longitude?a+=20:(e.address||s.location.push("Address"),e.latitude&&e.longitude||s.location.push("Map Location")),e.askingPrice&&Number(e.askingPrice)>0||e.monthlyRent&&Number(e.monthlyRent)>0?a+=20:s.pricing.push("Price");let l=0;if(Array.isArray(e.images)?l=e.images.length:Array.isArray(e.media)&&(l=e.media.length),l>=5?a+=25:s.media.push(`Upload at least 5 images (Current: ${l})`),e.description&&e.description.length>=100?a+=15:e.description?e.description.length<100&&s.description.push("Description too short (<100 chars)"):s.description.push("Description"),e.propertyType){let l=e.propertyDetails||{};if("string"==typeof l)try{l=JSON.parse(l)}catch(c){}l.bedrooms||"land"===e.propertyType||"commercial"===e.propertyType?a+=20:s.specs.push("Bedrooms")}else s.specs.push("Property Type");return{score:a,missing:s}},calculateDevelopmentReadiness=e=>{const s={basic:[],location:[],media:[],amenities:[],specs:[]};let a=0;e.name&&e.description&&e.description.length>50?a+=20:(e.name||s.basic.push("Name"),(!e.description||e.description.length<=50)&&s.basic.push("Description (min 50 chars)")),e.address&&e.latitude&&e.longitude?a+=20:(e.address||s.location.push("Address"),e.latitude&&e.longitude||s.location.push("Map Location"));let l=0;if(Array.isArray(e.images))l=e.images.length;else if("string"==typeof e.images)try{const s=JSON.parse(e.images);Array.isArray(s)&&(l=s.length)}catch(u){}l>=1?a+=20:s.media.push("Main Image");let c=0;if(Array.isArray(e.amenities))c=e.amenities.length;else if("string"==typeof e.amenities)try{const s=JSON.parse(e.amenities);Array.isArray(s)&&(c=s.length)}catch(u){}return c>=3?a+=20:s.amenities.push(`Select at least 3 amenities (Current: ${c})`),e.priceFrom&&Number(e.priceFrom)>0?a+=20:s.specs.push("Price From (Units)"),{score:a,missing:s}};function AgentListings(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState(""),[m,h]=re.useState("active"),getStatusForTab=e=>{switch(e){case"active":return"available";case"pending":return"pending_review";case"draft":return"draft";case"sold":return"sold";case"archived":return"archived";default:return"all"}},f="draft"===m||"pending"===m,{data:g,isLoading:b}=At.agent.getMyListings.useQuery({status:getStatusForTab(m),limit:50},{enabled:!!a&&!f}),{data:j,isLoading:N,refetch:k}=At.listing.myListings.useQuery({status:getStatusForTab(m),limit:50},{enabled:!!a&&f}),_=At.useContext();At.agent.archiveProperty.useMutation({onSuccess:()=>{console.log("Archive property success"),_.agent.getMyListings.invalidate()},onError:e=>{console.error("Archive property error:",e),alert("Failed to archive property: "+e.message)}});const T=At.agent.deleteProperty.useMutation({onSuccess:()=>{console.log("Delete property success"),_.agent.getMyListings.invalidate()},onError:e=>{console.error("Delete property error:",e),alert("Failed to delete property: "+e.message)}});At.listing.archive.useMutation({onSuccess:()=>{console.log("Archive listing success"),_.listing.myListings.invalidate(),k()},onError:e=>{console.error("Archive listing error:",e),alert("Failed to archive listing: "+e.message)}});const E=At.listing.delete.useMutation({onSuccess:()=>{console.log("Delete listing success"),_.listing.myListings.invalidate(),k()},onError:e=>{console.error("Delete listing error:",e),alert("Failed to delete listing: "+e.message)}}),A=f?N:b,L=f?j?.map(e=>({id:e.id,title:e.title,address:e.address,city:e.city,price:e.pricing?.askingPrice||e.pricing?.monthlyRent||e.pricing?.startingBid||0,bedrooms:e.propertyDetails?.bedrooms||0,bathrooms:e.propertyDetails?.bathrooms||0,houseAreaM2:e.propertyDetails?.houseAreaM2||e.propertyDetails?.unitSizeM2||e.propertyDetails?.floorAreaM2||0,primaryImage:e.primaryImage,status:"pending_review"===e.status?"pending":e.status,approvalStatus:e.approvalStatus,readinessScore:e.readinessScore,rejectionReasons:e.rejectionReasons,rejectionNote:e.rejectionNote,readiness:calculateListingReadiness(e),views:0,enquiries:0})):g?.map(e=>({...e,price:e.pricing?.askingPrice||e.pricing?.monthlyRent||e.pricing?.startingBid||0,primaryImage:e.primaryImage,readiness:calculateListingReadiness(e)}));if(!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;const O=L?.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.address?.toLowerCase().includes(c.toLowerCase())||e.city?.toLowerCase().includes(c.toLowerCase()));return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center gap-4 border-b border-white/20 bg-white/80 backdrop-blur-xl px-6 transition-all duration-300",children:[u.jsx("div",{className:"flex-1",children:u.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"My Listings"})}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs(Button$1,{onClick:()=>e("/listings/create"),className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white shadow-md hover:shadow-lg transition-all duration-300 rounded-xl",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add New Listing"]})})]}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsxs("div",{className:"relative w-full sm:w-96",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx(Input,{placeholder:"Search listings...",className:"pl-10 bg-white border-slate-200 focus:ring-slate-500 rounded-lg",value:c,onChange:e=>p(e.target.value)})]}),u.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:u.jsxs(Button$1,{variant:"outline",className:"bg-white border-slate-200 text-slate-600 hover:text-slate-900 rounded-lg",children:[u.jsx(Si,{className:"h-4 w-4 mr-2"}),"Filter"]})})]}),u.jsxs(ef,{value:m,onValueChange:h,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full max-w-3xl grid-cols-5 p-1 bg-slate-100 rounded-xl mb-6",children:[u.jsx(rf,{value:"active",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:text-emerald-600 data-[state=active]:shadow-sm transition-all duration-200",children:"Active"}),u.jsx(rf,{value:"pending",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:text-amber-600 data-[state=active]:shadow-sm transition-all duration-200",children:"Pending"}),u.jsx(rf,{value:"draft",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200",children:"Drafts"}),u.jsx(rf,{value:"sold",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm transition-all duration-200",children:"Sold"}),u.jsx(rf,{value:"archived",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:text-slate-500 data-[state=active]:shadow-sm transition-all duration-200",children:"Archived"})]}),u.jsx(nf,{value:m,className:"space-y-6 animate-in fade-in-50 duration-500 slide-in-from-bottom-2",children:A?u.jsx("div",{className:"flex flex-col gap-4",children:[1,2,3].map(e=>u.jsxs("div",{className:"bg-white rounded-2xl p-4 flex gap-4",children:[u.jsx(Skeleton,{className:"h-32 w-48 rounded-xl shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsx(Skeleton,{className:"h-6 w-3/4"}),u.jsx(Skeleton,{className:"h-4 w-1/2"})]})]},e))}):0===O?.length?u.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-slate-200 border-dashed",children:[u.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100",children:u.jsx(Bi,{className:"h-8 w-8 text-slate-300"})}),u.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No listings found"}),u.jsx("p",{className:"text-slate-500 mt-1",children:c?"Try adjusting your search terms":`You don't have any ${m} listings yet`}),!c&&("active"===m||"draft"===m)&&u.jsx(Button$1,{onClick:()=>e("/listings/create"),className:"mt-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl",children:"Create Listing"})]}):u.jsx("div",{className:"flex flex-col gap-4",children:O?.map(s=>u.jsx(EntityStatusCard,{type:"listing",data:s,readiness:s.readiness,onEdit:s=>e(`/listings/create?id=${s}&edit=true`),onDelete:e=>{return s=e,console.log("handleDelete called",{listingId:s,isDraftOrPending:f}),void(confirm("Are you sure you want to permanently delete this listing? This action cannot be undone.")&&(f?E.mutate({id:s}):T.mutate({id:s})));var s},onView:s=>e(`/property/${s}`)},s.id))})})]})]})]})]})}const LF="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function isWindow(e){const s=Object.prototype.toString.call(e);return"[object Window]"===s||"[object global]"===s}function isNode(e){return"nodeType"in e}function getWindow(e){var s,a;return e?isWindow(e)?e:isNode(e)&&null!=(s=null==(a=e.ownerDocument)?void 0:a.defaultView)?s:window:window}function isDocument(e){const{Document:s}=getWindow(e);return e instanceof s}function isHTMLElement(e){return!isWindow(e)&&e instanceof getWindow(e).HTMLElement}function isSVGElement(e){return e instanceof getWindow(e).SVGElement}function getOwnerDocument(e){return e?isWindow(e)?e.document:isNode(e)?isDocument(e)?e:isHTMLElement(e)||isSVGElement(e)?e.ownerDocument:document:document:document}const DF=LF?re.useLayoutEffect:re.useEffect;function useEvent(e){const s=re.useRef(e);return DF(()=>{s.current=e}),re.useCallback(function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return null==s.current?void 0:s.current(...a)},[])}function useLatestValue(e,s){void 0===s&&(s=[e]);const a=re.useRef(e);return DF(()=>{a.current!==e&&(a.current=e)},s),a}function useLazyMemo(e,s){const a=re.useRef();return re.useMemo(()=>{const s=e(a.current);return a.current=s,s},[...s])}function useNodeRef(e){const s=useEvent(e),a=re.useRef(null),l=re.useCallback(e=>{e!==a.current&&(null==s||s(e,a.current)),a.current=e},[]);return[a,l]}function usePrevious(e){const s=re.useRef();return re.useEffect(()=>{s.current=e},[e]),s.current}let OF={};function useUniqueId(e,s){return re.useMemo(()=>{if(s)return s;const a=null==OF[e]?0:OF[e]+1;return OF[e]=a,e+"-"+a},[e,s])}function createAdjustmentFn(e){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return l.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const a=s[c];null!=a&&(s[c]=a+e*u)}return s},{...s})}}const IF=createAdjustmentFn(1),$F=createAdjustmentFn(-1);function isKeyboardEvent(e){if(!e)return!1;const{KeyboardEvent:s}=getWindow(e.target);return s&&e instanceof s}function getEventCoordinates(e){if(function isTouchEvent(e){if(!e)return!1;const{TouchEvent:s}=getWindow(e.target);return s&&e instanceof s}(e)){if(e.touches&&e.touches.length){const{clientX:s,clientY:a}=e.touches[0];return{x:s,y:a}}if(e.changedTouches&&e.changedTouches.length){const{clientX:s,clientY:a}=e.changedTouches[0];return{x:s,y:a}}}return function hasViewportRelativeCoordinates(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const RF=Object.freeze({Translate:{toString(e){if(!e)return;const{x:s,y:a}=e;return"translate3d("+(s?Math.round(s):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:s,scaleY:a}=e;return"scaleX("+s+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[RF.Translate.toString(e),RF.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:s,duration:a,easing:l}=e;return s+" "+a+"ms "+l}}}),FF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(e){return e.matches(FF)?e:e.querySelector(FF)}const BF={display:"none"};function HiddenText(e){let{id:s,value:a}=e;return ae.createElement("div",{id:s,style:BF},a)}function LiveRegion(e){let{id:s,announcement:a,ariaLiveType:l="assertive"}=e;return ae.createElement("div",{id:s,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":l,"aria-atomic":!0},a)}const zF=re.createContext(null);const VF={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},UF={onDragStart(e){let{active:s}=e;return"Picked up draggable item "+s.id+"."},onDragOver(e){let{active:s,over:a}=e;return a?"Draggable item "+s.id+" was moved over droppable area "+a.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(e){let{active:s,over:a}=e;return a?"Draggable item "+s.id+" was dropped over droppable area "+a.id:"Draggable item "+s.id+" was dropped."},onDragCancel(e){let{active:s}=e;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function Accessibility(e){let{announcements:s=UF,container:a,hiddenTextDescribedById:l,screenReaderInstructions:c=VF}=e;const{announce:u,announcement:p}=function useAnnouncement(){const[e,s]=re.useState("");return{announce:re.useCallback(e=>{null!=e&&s(e)},[]),announcement:e}}(),m=useUniqueId("DndLiveRegion"),[h,f]=re.useState(!1);if(re.useEffect(()=>{f(!0)},[]),function useDndMonitor(e){const s=re.useContext(zF);re.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(e)},[e,s])}(re.useMemo(()=>({onDragStart(e){let{active:a}=e;u(s.onDragStart({active:a}))},onDragMove(e){let{active:a,over:l}=e;s.onDragMove&&u(s.onDragMove({active:a,over:l}))},onDragOver(e){let{active:a,over:l}=e;u(s.onDragOver({active:a,over:l}))},onDragEnd(e){let{active:a,over:l}=e;u(s.onDragEnd({active:a,over:l}))},onDragCancel(e){let{active:a,over:l}=e;u(s.onDragCancel({active:a,over:l}))}}),[u,s])),!h)return null;const g=ae.createElement(ae.Fragment,null,ae.createElement(HiddenText,{id:l,value:c.draggable}),ae.createElement(LiveRegion,{id:m,announcement:p}));return a?Fr.createPortal(g,a):g}var HF,qF;function noop2(){}function useSensor(e,s){return re.useMemo(()=>({sensor:e,options:null!=s?s:{}}),[e,s])}function useSensors(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return re.useMemo(()=>[...s].filter(e=>null!=e),[...s])}(qF=HF||(HF={})).DragStart="dragStart",qF.DragMove="dragMove",qF.DragEnd="dragEnd",qF.DragCancel="dragCancel",qF.DragOver="dragOver",qF.RegisterDroppable="registerDroppable",qF.SetDroppableDisabled="setDroppableDisabled",qF.UnregisterDroppable="unregisterDroppable";const WF=Object.freeze({x:0,y:0});function distanceBetween(e,s){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function getRelativeTransformOrigin(e,s){const a=getEventCoordinates(e);if(!a)return"0 0";return(a.x-s.left)/s.width*100+"% "+(a.y-s.top)/s.height*100+"%"}function sortCollisionsAsc(e,s){let{data:{value:a}}=e,{data:{value:l}}=s;return a-l}function sortCollisionsDesc(e,s){let{data:{value:a}}=e,{data:{value:l}}=s;return l-a}function cornersOfRectangle(e){let{left:s,top:a,height:l,width:c}=e;return[{x:s,y:a},{x:s+c,y:a},{x:s,y:a+l},{x:s+c,y:a+l}]}function getFirstCollision(e,s){if(!e||0===e.length)return null;const[a]=e;return a[s]}function centerOfRectangle(e,s,a){return void 0===s&&(s=e.left),void 0===a&&(a=e.top),{x:s+.5*e.width,y:a+.5*e.height}}const closestCenter=e=>{let{collisionRect:s,droppableRects:a,droppableContainers:l}=e;const c=centerOfRectangle(s,s.left,s.top),u=[];for(const p of l){const{id:e}=p,s=a.get(e);if(s){const a=distanceBetween(centerOfRectangle(s),c);u.push({id:e,data:{droppableContainer:p,value:a}})}}return u.sort(sortCollisionsAsc)},closestCorners=e=>{let{collisionRect:s,droppableRects:a,droppableContainers:l}=e;const c=cornersOfRectangle(s),u=[];for(const p of l){const{id:e}=p,s=a.get(e);if(s){const a=cornersOfRectangle(s),l=c.reduce((e,s,l)=>e+distanceBetween(a[l],s),0),m=Number((l/4).toFixed(4));u.push({id:e,data:{droppableContainer:p,value:m}})}}return u.sort(sortCollisionsAsc)};function getIntersectionRatio(e,s){const a=Math.max(s.top,e.top),l=Math.max(s.left,e.left),c=Math.min(s.left+s.width,e.left+e.width),u=Math.min(s.top+s.height,e.top+e.height),p=c-l,m=u-a;if(l<c&&a<u){const a=s.width*s.height,l=e.width*e.height,c=p*m;return Number((c/(a+l-c)).toFixed(4))}return 0}const rectIntersection=e=>{let{collisionRect:s,droppableRects:a,droppableContainers:l}=e;const c=[];for(const u of l){const{id:e}=u,l=a.get(e);if(l){const a=getIntersectionRatio(l,s);a>0&&c.push({id:e,data:{droppableContainer:u,value:a}})}}return c.sort(sortCollisionsDesc)};function getRectDelta(e,s){return e&&s?{x:e.left-s.left,y:e.top-s.top}:WF}function createRectAdjustmentFn(e){return function adjustClientRect(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return l.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...s})}}const ZF=createRectAdjustmentFn(1);function parseTransform(e){if(e.startsWith("matrix3d(")){const s=e.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}if(e.startsWith("matrix(")){const s=e.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}const KF={ignoreTransform:!1};function getClientRect(e,s){void 0===s&&(s=KF);let a=e.getBoundingClientRect();if(s.ignoreTransform){const{transform:s,transformOrigin:l}=getWindow(e).getComputedStyle(e);s&&(a=function inverseTransform(e,s,a){const l=parseTransform(s);if(!l)return e;const{scaleX:c,scaleY:u,x:p,y:m}=l,h=e.left-p-(1-c)*parseFloat(a),f=e.top-m-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),g=c?e.width/c:e.width,b=u?e.height/u:e.height;return{width:g,height:b,top:f,right:h+g,bottom:f+b,left:h}}(a,s,l))}const{top:l,left:c,width:u,height:p,bottom:m,right:h}=a;return{top:l,left:c,width:u,height:p,bottom:m,right:h}}function getTransformAgnosticClientRect(e){return getClientRect(e,{ignoreTransform:!0})}function getScrollableAncestors(e,s){const a=[];return e?function findScrollableAncestors(l){if(null!=s&&a.length>=s)return a;if(!l)return a;if(isDocument(l)&&null!=l.scrollingElement&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!isHTMLElement(l)||isSVGElement(l))return a;if(a.includes(l))return a;const c=getWindow(e).getComputedStyle(l);return l!==e&&function isScrollable(e,s){void 0===s&&(s=getWindow(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const l=s[e];return"string"==typeof l&&a.test(l)})}(l,c)&&a.push(l),function isFixed(e,s){return void 0===s&&(s=getWindow(e).getComputedStyle(e)),"fixed"===s.position}(l,c)?a:findScrollableAncestors(l.parentNode)}(e):a}function getFirstScrollableAncestor(e){const[s]=getScrollableAncestors(e,1);return null!=s?s:null}function getScrollableElement(e){return LF&&e?isWindow(e)?e:isNode(e)?isDocument(e)||e===getOwnerDocument(e).scrollingElement?window:isHTMLElement(e)?e:null:null:null}function getScrollXCoordinate(e){return isWindow(e)?e.scrollX:e.scrollLeft}function getScrollYCoordinate(e){return isWindow(e)?e.scrollY:e.scrollTop}function getScrollCoordinates(e){return{x:getScrollXCoordinate(e),y:getScrollYCoordinate(e)}}var GF,YF;function isDocumentScrollingElement(e){return!(!LF||!e)&&e===document.scrollingElement}function getScrollPosition(e){const s={x:0,y:0},a=isDocumentScrollingElement(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},l={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height};return{isTop:e.scrollTop<=s.y,isLeft:e.scrollLeft<=s.x,isBottom:e.scrollTop>=l.y,isRight:e.scrollLeft>=l.x,maxScroll:l,minScroll:s}}(YF=GF||(GF={}))[YF.Forward=1]="Forward",YF[YF.Backward=-1]="Backward";const QF={x:.2,y:.2};function getScrollDirectionAndSpeed(e,s,a,l,c){let{top:u,left:p,right:m,bottom:h}=a;void 0===l&&(l=10),void 0===c&&(c=QF);const{isTop:f,isBottom:g,isLeft:b,isRight:j}=getScrollPosition(e),N={x:0,y:0},k={x:0,y:0},_=s.height*c.y,T=s.width*c.x;return!f&&u<=s.top+_?(N.y=GF.Backward,k.y=l*Math.abs((s.top+_-u)/_)):!g&&h>=s.bottom-_&&(N.y=GF.Forward,k.y=l*Math.abs((s.bottom-_-h)/_)),!j&&m>=s.right-T?(N.x=GF.Forward,k.x=l*Math.abs((s.right-T-m)/T)):!b&&p<=s.left+T&&(N.x=GF.Backward,k.x=l*Math.abs((s.left+T-p)/T)),{direction:N,speed:k}}function getScrollElementRect(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:s}=window;return{top:0,left:0,right:e,bottom:s,width:e,height:s}}const{top:s,left:a,right:l,bottom:c}=e.getBoundingClientRect();return{top:s,left:a,right:l,bottom:c,width:e.clientWidth,height:e.clientHeight}}function getScrollOffsets(e){return e.reduce((e,s)=>IF(e,getScrollCoordinates(s)),WF)}function scrollIntoViewIfNeeded(e,s){if(void 0===s&&(s=getClientRect),!e)return;const{top:a,left:l,bottom:c,right:u}=s(e);getFirstScrollableAncestor(e)&&(c<=0||u<=0||a>=window.innerHeight||l>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const XF=[["x",["left","right"],function getScrollXOffset(e){return e.reduce((e,s)=>e+getScrollXCoordinate(s),0)}],["y",["top","bottom"],function getScrollYOffset(e){return e.reduce((e,s)=>e+getScrollYCoordinate(s),0)}]];class Rect{constructor(e,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=getScrollableAncestors(s),l=getScrollOffsets(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[c,u,p]of XF)for(const e of u)Object.defineProperty(this,e,{get:()=>{const s=p(a),u=l[c]-s;return this.rect[e]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var s;return null==(s=this.target)?void 0:s.removeEventListener(...e)})},this.target=e}add(e,s,a){var l;null==(l=this.target)||l.addEventListener(e,s,a),this.listeners.push([e,s,a])}}function hasExceededDistance(e,s){const a=Math.abs(e.x),l=Math.abs(e.y);return"number"==typeof s?Math.sqrt(a**2+l**2)>s:"x"in s&&"y"in s?a>s.x&&l>s.y:"x"in s?a>s.x:"y"in s&&l>s.y}var JF,eB,tB,rB;function preventDefault(e){e.preventDefault()}function stopPropagation(e){e.stopPropagation()}(eB=JF||(JF={})).Click="click",eB.DragStart="dragstart",eB.Keydown="keydown",eB.ContextMenu="contextmenu",eB.Resize="resize",eB.SelectionChange="selectionchange",eB.VisibilityChange="visibilitychange",(rB=tB||(tB={})).Space="Space",rB.Down="ArrowDown",rB.Right="ArrowRight",rB.Left="ArrowLeft",rB.Up="ArrowUp",rB.Esc="Escape",rB.Enter="Enter",rB.Tab="Tab";const nB={start:[tB.Space,tB.Enter],cancel:[tB.Esc],end:[tB.Space,tB.Enter,tB.Tab]},defaultKeyboardCoordinateGetter=(e,s)=>{let{currentCoordinates:a}=s;switch(e.code){case tB.Right:return{...a,x:a.x+25};case tB.Left:return{...a,x:a.x-25};case tB.Down:return{...a,y:a.y+25};case tB.Up:return{...a,y:a.y-25}}};class KeyboardSensor{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:s}}=e;this.props=e,this.listeners=new Listeners(getOwnerDocument(s)),this.windowListeners=new Listeners(getWindow(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(JF.Resize,this.handleCancel),this.windowListeners.add(JF.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(JF.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:s}=this.props,a=e.node.current;a&&scrollIntoViewIfNeeded(a),s(WF)}handleKeyDown(e){if(isKeyboardEvent(e)){const{active:s,context:a,options:l}=this.props,{keyboardCodes:c=nB,coordinateGetter:u=defaultKeyboardCoordinateGetter,scrollBehavior:p="smooth"}=l,{code:m}=e;if(c.end.includes(m))return void this.handleEnd(e);if(c.cancel.includes(m))return void this.handleCancel(e);const{collisionRect:h}=a.current,f=h?{x:h.left,y:h.top}:WF;this.referenceCoordinates||(this.referenceCoordinates=f);const g=u(e,{active:s,context:a.current,currentCoordinates:f});if(g){const s=$F(g,f),l={x:0,y:0},{scrollableAncestors:c}=a.current;for(const a of c){const c=e.code,{isTop:u,isRight:m,isLeft:h,isBottom:f,maxScroll:b,minScroll:j}=getScrollPosition(a),N=getScrollElementRect(a),k={x:Math.min(c===tB.Right?N.right-N.width/2:N.right,Math.max(c===tB.Right?N.left:N.left+N.width/2,g.x)),y:Math.min(c===tB.Down?N.bottom-N.height/2:N.bottom,Math.max(c===tB.Down?N.top:N.top+N.height/2,g.y))},_=c===tB.Right&&!m||c===tB.Left&&!h,T=c===tB.Down&&!f||c===tB.Up&&!u;if(_&&k.x!==g.x){const e=a.scrollLeft+s.x,u=c===tB.Right&&e<=b.x||c===tB.Left&&e>=j.x;if(u&&!s.y)return void a.scrollTo({left:e,behavior:p});l.x=u?a.scrollLeft-e:c===tB.Right?a.scrollLeft-b.x:a.scrollLeft-j.x,l.x&&a.scrollBy({left:-l.x,behavior:p});break}if(T&&k.y!==g.y){const e=a.scrollTop+s.y,u=c===tB.Down&&e<=b.y||c===tB.Up&&e>=j.y;if(u&&!s.x)return void a.scrollTo({top:e,behavior:p});l.y=u?a.scrollTop-e:c===tB.Down?a.scrollTop-b.y:a.scrollTop-j.y,l.y&&a.scrollBy({top:-l.y,behavior:p});break}}this.handleMove(e,IF($F(g,this.referenceCoordinates),l))}}}handleMove(e,s){const{onMove:a}=this.props;e.preventDefault(),a(s)}handleEnd(e){const{onEnd:s}=this.props;e.preventDefault(),this.detach(),s()}handleCancel(e){const{onCancel:s}=this.props;e.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function isDistanceConstraint(e){return Boolean(e&&"distance"in e)}function isDelayConstraint(e){return Boolean(e&&"delay"in e)}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(e,s,a)=>{let{keyboardCodes:l=nB,onActivation:c}=s,{active:u}=a;const{code:p}=e.nativeEvent;if(l.start.includes(p)){const s=u.activatorNode.current;return(!s||e.target===s)&&(e.preventDefault(),null==c||c({event:e.nativeEvent}),!0)}return!1}}];class AbstractPointerSensor{constructor(e,s,a){var l;void 0===a&&(a=function getEventListenerTarget(e){const{EventTarget:s}=getWindow(e);return e instanceof s?e:getOwnerDocument(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=s;const{event:c}=e,{target:u}=c;this.props=e,this.events=s,this.document=getOwnerDocument(u),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(a),this.windowListeners=new Listeners(getWindow(u)),this.initialCoordinates=null!=(l=getEventCoordinates(c))?l:WF,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:s,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(JF.Resize,this.handleCancel),this.windowListeners.add(JF.DragStart,preventDefault),this.windowListeners.add(JF.VisibilityChange,this.handleCancel),this.windowListeners.add(JF.ContextMenu,preventDefault),this.documentListeners.add(JF.Keydown,this.handleKeydown),s){if(null!=a&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(s))return this.timeoutId=setTimeout(this.handleStart,s.delay),void this.handlePending(s);if(isDistanceConstraint(s))return void this.handlePending(s)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,s){const{active:a,onPending:l}=this.props;l(a,e,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:e}=this,{onStart:s}=this.props;e&&(this.activated=!0,this.documentListeners.add(JF.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(JF.SelectionChange,this.removeTextSelection),s(e))}handleMove(e){var s;const{activated:a,initialCoordinates:l,props:c}=this,{onMove:u,options:{activationConstraint:p}}=c;if(!l)return;const m=null!=(s=getEventCoordinates(e))?s:WF,h=$F(l,m);if(!a&&p){if(isDistanceConstraint(p)){if(null!=p.tolerance&&hasExceededDistance(h,p.tolerance))return this.handleCancel();if(hasExceededDistance(h,p.distance))return this.handleStart()}return isDelayConstraint(p)&&hasExceededDistance(h,p.tolerance)?this.handleCancel():void this.handlePending(p,h)}e.cancelable&&e.preventDefault(),u(m)}handleEnd(){const{onAbort:e,onEnd:s}=this.props;this.detach(),this.activated||e(this.props.active),s()}handleCancel(){const{onAbort:e,onCancel:s}=this.props;this.detach(),this.activated||e(this.props.active),s()}handleKeydown(e){e.code===tB.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const sB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(e){const{event:s}=e,a=getOwnerDocument(s.target);super(e,sB,a)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(e,s)=>{let{nativeEvent:a}=e,{onActivation:l}=s;return!(!a.isPrimary||0!==a.button)&&(null==l||l({event:a}),!0)}}];const aB={move:{name:"mousemove"},end:{name:"mouseup"}};var iB,oB;(oB=iB||(iB={}))[oB.RightClick=2]="RightClick";(class MouseSensor extends AbstractPointerSensor{constructor(e){super(e,aB,getOwnerDocument(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,s)=>{let{nativeEvent:a}=e,{onActivation:l}=s;return a.button!==iB.RightClick&&(null==l||l({event:a}),!0)}}];const lB={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var cB,dB,uB,pB;function useAutoScroller(e){let{acceleration:s,activator:a=cB.Pointer,canScroll:l,draggingRect:c,enabled:u,interval:p=5,order:m=uB.TreeOrder,pointerCoordinates:h,scrollableAncestors:f,scrollableAncestorRects:g,delta:b,threshold:j}=e;const N=function useScrollIntent(e){let{delta:s,disabled:a}=e;const l=usePrevious(s);return useLazyMemo(e=>{if(a||!l||!e)return mB;const c={x:Math.sign(s.x-l.x),y:Math.sign(s.y-l.y)};return{x:{[GF.Backward]:e.x[GF.Backward]||-1===c.x,[GF.Forward]:e.x[GF.Forward]||1===c.x},y:{[GF.Backward]:e.y[GF.Backward]||-1===c.y,[GF.Forward]:e.y[GF.Forward]||1===c.y}}},[a,s,l])}({delta:b,disabled:!u}),[k,_]=function useInterval(){const e=re.useRef(null);return[re.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),re.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),T=re.useRef({x:0,y:0}),E=re.useRef({x:0,y:0}),A=re.useMemo(()=>{switch(a){case cB.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case cB.DraggableRect:return c}},[a,c,h]),L=re.useRef(null),O=re.useCallback(()=>{const e=L.current;if(!e)return;const s=T.current.x*E.current.x,a=T.current.y*E.current.y;e.scrollBy(s,a)},[]),I=re.useMemo(()=>m===uB.TreeOrder?[...f].reverse():f,[m,f]);re.useEffect(()=>{if(u&&f.length&&A){for(const e of I){if(!1===(null==l?void 0:l(e)))continue;const a=f.indexOf(e),c=g[a];if(!c)continue;const{direction:u,speed:m}=getScrollDirectionAndSpeed(e,c,A,s,j);for(const e of["x","y"])N[e][u[e]]||(m[e]=0,u[e]=0);if(m.x>0||m.y>0)return _(),L.current=e,k(O,p),T.current=m,void(E.current=u)}T.current={x:0,y:0},E.current={x:0,y:0},_()}else _()},[s,O,l,_,u,p,JSON.stringify(A),JSON.stringify(N),k,f,I,g,JSON.stringify(j)])}(class TouchSensor extends AbstractPointerSensor{constructor(e){super(e,lB)}static setup(){return window.addEventListener(lB.move.name,noop3,{capture:!1,passive:!1}),function teardown(){window.removeEventListener(lB.move.name,noop3)};function noop3(){}}}).activators=[{eventName:"onTouchStart",handler:(e,s)=>{let{nativeEvent:a}=e,{onActivation:l}=s;const{touches:c}=a;return!(c.length>1)&&(null==l||l({event:a}),!0)}}],(dB=cB||(cB={}))[dB.Pointer=0]="Pointer",dB[dB.DraggableRect=1]="DraggableRect",(pB=uB||(uB={}))[pB.TreeOrder=0]="TreeOrder",pB[pB.ReversedTreeOrder=1]="ReversedTreeOrder";const mB={x:{[GF.Backward]:!1,[GF.Forward]:!1},y:{[GF.Backward]:!1,[GF.Forward]:!1}};var hB,fB,gB;(fB=hB||(hB={}))[fB.Always=0]="Always",fB[fB.BeforeDragging=1]="BeforeDragging",fB[fB.WhileDragging=2]="WhileDragging",(gB||(gB={})).Optimized="optimized";const xB=new Map;function useInitialValue(e,s){return useLazyMemo(a=>e?a||("function"==typeof s?s(e):e):null,[s,e])}function useResizeObserver$1(e){let{callback:s,disabled:a}=e;const l=useEvent(s),c=re.useMemo(()=>{if(a||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(l)},[a]);return re.useEffect(()=>()=>null==c?void 0:c.disconnect(),[c]),c}function defaultMeasure(e){return new Rect(getClientRect(e),e)}function useRect(e,s,a){void 0===s&&(s=defaultMeasure);const[l,c]=re.useState(null);function measureRect(){c(l=>{if(!e)return null;var c;if(!1===e.isConnected)return null!=(c=null!=l?l:a)?c:null;const u=s(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const u=function useMutationObserver(e){let{callback:s,disabled:a}=e;const l=useEvent(s),c=re.useMemo(()=>{if(a||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(l)},[l,a]);return re.useEffect(()=>()=>null==c?void 0:c.disconnect(),[c]),c}({callback(s){if(e)for(const a of s){const{type:s,target:l}=a;if("childList"===s&&l instanceof HTMLElement&&l.contains(e)){measureRect();break}}}}),p=useResizeObserver$1({callback:measureRect});return DF(()=>{measureRect(),e?(null==p||p.observe(e),null==u||u.observe(document.body,{childList:!0,subtree:!0})):(null==p||p.disconnect(),null==u||u.disconnect())},[e]),l}const vB=[];function useScrollOffsetsDelta(e,s){void 0===s&&(s=[]);const a=re.useRef(null);return re.useEffect(()=>{a.current=null},s),re.useEffect(()=>{const s=e!==WF;s&&!a.current&&(a.current=e),!s&&a.current&&(a.current=null)},[e]),a.current?$F(e,a.current):WF}function useWindowRect(e){return re.useMemo(()=>e?function getWindowClientRect(e){const s=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}(e):null,[e])}const yB=[];function getMeasurableNode(e){if(!e)return null;if(e.children.length>1)return e;const s=e.children[0];return isHTMLElement(s)?s:e}const bB=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],jB={current:{}},wB={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:hB.WhileDragging,frequency:gB.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(e){var s;return null!=e&&null!=(s=super.get(e))?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:s}=e;return!s})}getNodeFor(e){var s,a;return null!=(s=null==(a=this.get(e))?void 0:a.node.current)?s:void 0}}const NB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wB,measureDroppableContainers:noop2,windowRect:null,measuringScheduled:!1},SB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop2,draggableNodes:new Map,over:null,measureDroppableContainers:noop2},CB=re.createContext(SB),kB=re.createContext(NB);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(e,s){switch(s.type){case HF.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case HF.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:s.coordinates.x-e.draggable.initialCoordinates.x,y:s.coordinates.y-e.draggable.initialCoordinates.y}}};case HF.DragEnd:case HF.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case HF.RegisterDroppable:{const{element:a}=s,{id:l}=a,c=new DroppableContainersMap(e.droppable.containers);return c.set(l,a),{...e,droppable:{...e.droppable,containers:c}}}case HF.SetDroppableDisabled:{const{id:a,key:l,disabled:c}=s,u=e.droppable.containers.get(a);if(!u||l!==u.key)return e;const p=new DroppableContainersMap(e.droppable.containers);return p.set(a,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:p}}}case HF.UnregisterDroppable:{const{id:a,key:l}=s,c=e.droppable.containers.get(a);if(!c||l!==c.key)return e;const u=new DroppableContainersMap(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function RestoreFocus(e){let{disabled:s}=e;const{active:a,activatorEvent:l,draggableNodes:c}=re.useContext(CB),u=usePrevious(l),p=usePrevious(null==a?void 0:a.id);return re.useEffect(()=>{if(!s&&!l&&u&&null!=p){if(!isKeyboardEvent(u))return;if(document.activeElement===u.target)return;const e=c.get(p);if(!e)return;const{activatorNode:s,node:a}=e;if(!s.current&&!a.current)return;requestAnimationFrame(()=>{for(const e of[s.current,a.current]){if(!e)continue;const s=findFirstFocusableNode(e);if(s){s.focus();break}}})}},[l,s,c,p,u]),null}function applyModifiers(e,s){let{transform:a,...l}=s;return null!=e&&e.length?e.reduce((e,s)=>s({transform:e,...l}),a):a}const _B=re.createContext({...WF,scaleX:1,scaleY:1});var PB,TB;(TB=PB||(PB={}))[TB.Uninitialized=0]="Uninitialized",TB[TB.Initializing=1]="Initializing",TB[TB.Initialized=2]="Initialized";const EB=re.memo(function DndContext2(e){var s,a,l,c;let{id:u,accessibility:p,autoScroll:m=!0,children:h,sensors:f=bB,collisionDetection:g=rectIntersection,measuring:b,modifiers:j,...N}=e;const k=re.useReducer(reducer,void 0,getInitialState),[_,T]=k,[E,A]=function useDndMonitorProvider(){const[e]=re.useState(()=>new Set),s=re.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[re.useCallback(s=>{let{type:a,event:l}=s;e.forEach(e=>{var s;return null==(s=e[a])?void 0:s.call(e,l)})},[e]),s]}(),[L,O]=re.useState(PB.Uninitialized),I=L===PB.Initialized,{draggable:{active:$,nodes:z,translate:U},droppable:{containers:H}}=_,q=null!=$?z.get($):null,Z=re.useRef({initial:null,translated:null}),Y=re.useMemo(()=>{var e;return null!=$?{id:$,data:null!=(e=null==q?void 0:q.data)?e:jB,rect:Z}:null},[$,q]),X=re.useRef(null),[J,le]=re.useState(null),[ce,de]=re.useState(null),ue=useLatestValue(N,Object.values(N)),me=useUniqueId("DndDescribedBy",u),he=re.useMemo(()=>H.getEnabled(),[H]),fe=function useMeasuringConfiguration(e){return re.useMemo(()=>({draggable:{...wB.draggable,...null==e?void 0:e.draggable},droppable:{...wB.droppable,...null==e?void 0:e.droppable},dragOverlay:{...wB.dragOverlay,...null==e?void 0:e.dragOverlay}}),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(b),{droppableRects:ge,measureDroppableContainers:xe,measuringScheduled:ye}=function useDroppableMeasuring(e,s){let{dragging:a,dependencies:l,config:c}=s;const[u,p]=re.useState(null),{frequency:m,measure:h,strategy:f}=c,g=re.useRef(e),b=function isDisabled(){switch(f){case hB.Always:return!1;case hB.BeforeDragging:return a;default:return!a}}(),j=useLatestValue(b),N=re.useCallback(function(e){void 0===e&&(e=[]),j.current||p(s=>null===s?e:s.concat(e.filter(e=>!s.includes(e))))},[j]),k=re.useRef(null),_=useLazyMemo(s=>{if(b&&!a)return xB;if(!s||s===xB||g.current!==e||null!=u){const s=new Map;for(let a of e){if(!a)continue;if(u&&u.length>0&&!u.includes(a.id)&&a.rect.current){s.set(a.id,a.rect.current);continue}const e=a.node.current,l=e?new Rect(h(e),e):null;a.rect.current=l,l&&s.set(a.id,l)}return s}return s},[e,u,a,b,h]);return re.useEffect(()=>{g.current=e},[e]),re.useEffect(()=>{b||N()},[a,b]),re.useEffect(()=>{u&&u.length>0&&p(null)},[JSON.stringify(u)]),re.useEffect(()=>{b||"number"!=typeof m||null!==k.current||(k.current=setTimeout(()=>{N(),k.current=null},m))},[m,b,N,...l]),{droppableRects:_,measureDroppableContainers:N,measuringScheduled:null!=u}}(he,{dragging:I,dependencies:[U.x,U.y],config:fe.droppable}),be=function useCachedNode(e,s){const a=null!=s?e.get(s):void 0,l=a?a.node.current:null;return useLazyMemo(e=>{var a;return null==s?null:null!=(a=null!=l?l:e)?a:null},[l,s])}(z,$),je=re.useMemo(()=>ce?getEventCoordinates(ce):null,[ce]),Ne=function getAutoScrollerOptions(){const e=!1===(null==J?void 0:J.autoScrollEnabled),s="object"==typeof m?!1===m.enabled:!1===m,a=I&&!e&&!s;if("object"==typeof m)return{...m,enabled:a};return{enabled:a}}(),Se=function useInitialRect(e,s){return useInitialValue(e,s)}(be,fe.draggable.measure);!function useLayoutShiftScrollCompensation(e){let{activeNode:s,measure:a,initialRect:l,config:c=!0}=e;const u=re.useRef(!1),{x:p,y:m}="boolean"==typeof c?{x:c,y:c}:c;DF(()=>{if(!p&&!m||!s)return void(u.current=!1);if(u.current||!l)return;const e=null==s?void 0:s.node.current;if(!e||!1===e.isConnected)return;const c=getRectDelta(a(e),l);if(p||(c.x=0),m||(c.y=0),u.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){const s=getFirstScrollableAncestor(e);s&&s.scrollBy({top:c.y,left:c.x})}},[s,p,m,l,a])}({activeNode:null!=$?z.get($):null,config:Ne.layoutShiftCompensation,initialRect:Se,measure:fe.draggable.measure});const Ce=useRect(be,fe.draggable.measure,Se),_e=useRect(be?be.parentElement:null),Pe=re.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:ge,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=H.getNodeFor(null==(s=Pe.current.over)?void 0:s.id),Ee=function useDragOverlayMeasuring(e){let{measure:s}=e;const[a,l]=re.useState(null),c=useResizeObserver$1({callback:re.useCallback(e=>{for(const{target:a}of e)if(isHTMLElement(a)){l(e=>{const l=s(a);return e?{...e,width:l.width,height:l.height}:l});break}},[s])}),u=re.useCallback(e=>{const a=getMeasurableNode(e);null==c||c.disconnect(),a&&(null==c||c.observe(a)),l(a?s(a):null)},[s,c]),[p,m]=useNodeRef(u);return re.useMemo(()=>({nodeRef:p,rect:a,setRef:m}),[a,p,m])}({measure:fe.dragOverlay.measure}),Ae=null!=(a=Ee.nodeRef.current)?a:be,Le=I?null!=(l=Ee.rect)?l:Ce:null,Oe=Boolean(Ee.nodeRef.current&&Ee.rect),Ie=function useRectDelta(e){return getRectDelta(e,useInitialValue(e))}(Oe?null:Ce),$e=useWindowRect(Ae?getWindow(Ae):null),Fe=function useScrollableAncestors(e){const s=re.useRef(e),a=useLazyMemo(a=>e?a&&a!==vB&&e&&s.current&&e.parentNode===s.current.parentNode?a:getScrollableAncestors(e):vB,[e]);return re.useEffect(()=>{s.current=e},[e]),a}(I?null!=Te?Te:be:null),Be=function useRects(e,s){void 0===s&&(s=getClientRect);const[a]=e,l=useWindowRect(a?getWindow(a):null),[c,u]=re.useState(yB);function measureRects(){u(()=>e.length?e.map(e=>isDocumentScrollingElement(e)?l:new Rect(s(e),e)):yB)}const p=useResizeObserver$1({callback:measureRects});return DF(()=>{null==p||p.disconnect(),measureRects(),e.forEach(e=>null==p?void 0:p.observe(e))},[e]),c}(Fe),ze=applyModifiers(j,{transform:{x:U.x-Ie.x,y:U.y-Ie.y,scaleX:1,scaleY:1},activatorEvent:ce,active:Y,activeNodeRect:Ce,containerNodeRect:_e,draggingNodeRect:Le,over:Pe.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:Fe,scrollableAncestorRects:Be,windowRect:$e}),Ve=je?IF(je,U):null,Ue=function useScrollOffsets(e){const[s,a]=re.useState(null),l=re.useRef(e),c=re.useCallback(e=>{const s=getScrollableElement(e.target);s&&a(e=>e?(e.set(s,getScrollCoordinates(s)),new Map(e)):null)},[]);return re.useEffect(()=>{const s=l.current;if(e!==s){cleanup(s);const u=e.map(e=>{const s=getScrollableElement(e);return s?(s.addEventListener("scroll",c,{passive:!0}),[s,getScrollCoordinates(s)]):null}).filter(e=>null!=e);a(u.length?new Map(u):null),l.current=e}return()=>{cleanup(e),cleanup(s)};function cleanup(e){e.forEach(e=>{const s=getScrollableElement(e);null==s||s.removeEventListener("scroll",c)})}},[c,e]),re.useMemo(()=>e.length?s?Array.from(s.values()).reduce((e,s)=>IF(e,s),WF):getScrollOffsets(e):WF,[e,s])}(Fe),He=useScrollOffsetsDelta(Ue),qe=useScrollOffsetsDelta(Ue,[Ce]),We=IF(ze,He),Ze=Le?ZF(Le,ze):null,Ke=Y&&Ze?g({active:Y,collisionRect:Ze,droppableRects:ge,droppableContainers:he,pointerCoordinates:Ve}):null,Ge=getFirstCollision(Ke,"id"),[Ye,Qe]=re.useState(null),Xe=function adjustScale(e,s,a){return{...e,scaleX:s&&a?s.width/a.width:1,scaleY:s&&a?s.height/a.height:1}}(Oe?ze:IF(ze,qe),null!=(c=null==Ye?void 0:Ye.rect)?c:null,Ce),Je=re.useRef(null),et=re.useCallback((e,s)=>{let{sensor:a,options:l}=s;if(null==X.current)return;const c=z.get(X.current);if(!c)return;const u=e.nativeEvent,p=new a({active:X.current,activeNode:c,event:u,options:l,context:Pe,onAbort(e){if(!z.get(e))return;const{onDragAbort:s}=ue.current,a={id:e};null==s||s(a),E({type:"onDragAbort",event:a})},onPending(e,s,a,l){if(!z.get(e))return;const{onDragPending:c}=ue.current,u={id:e,constraint:s,initialCoordinates:a,offset:l};null==c||c(u),E({type:"onDragPending",event:u})},onStart(e){const s=X.current;if(null==s)return;const a=z.get(s);if(!a)return;const{onDragStart:l}=ue.current,c={activatorEvent:u,active:{id:s,data:a.data,rect:Z}};Fr.unstable_batchedUpdates(()=>{null==l||l(c),O(PB.Initializing),T({type:HF.DragStart,initialCoordinates:e,active:s}),E({type:"onDragStart",event:c}),le(Je.current),de(u)})},onMove(e){T({type:HF.DragMove,coordinates:e})},onEnd:createHandler(HF.DragEnd),onCancel:createHandler(HF.DragCancel)});function createHandler(e){return async function handler(){const{active:s,collisions:a,over:l,scrollAdjustedTranslate:c}=Pe.current;let p=null;if(s&&c){const{cancelDrop:m}=ue.current;if(p={activatorEvent:u,active:s,collisions:a,delta:c,over:l},e===HF.DragEnd&&"function"==typeof m){await Promise.resolve(m(p))&&(e=HF.DragCancel)}}X.current=null,Fr.unstable_batchedUpdates(()=>{T({type:e}),O(PB.Uninitialized),Qe(null),le(null),de(null),Je.current=null;const s=e===HF.DragEnd?"onDragEnd":"onDragCancel";if(p){const e=ue.current[s];null==e||e(p),E({type:s,event:p})}})}}Je.current=p},[z]),tt=function useCombineActivators(e,s){return re.useMemo(()=>e.reduce((e,a)=>{const{sensor:l}=a;return[...e,...l.activators.map(e=>({eventName:e.eventName,handler:s(e.handler,a)}))]},[]),[e,s])}(f,re.useCallback((e,s)=>(a,l)=>{const c=a.nativeEvent,u=z.get(l);if(null!==X.current||!u||c.dndKit||c.defaultPrevented)return;const p={active:u};!0===e(a,s.options,p)&&(c.dndKit={capturedBy:s.sensor},X.current=l,et(a,s))},[z,et]));!function useSensorSetup(e){re.useEffect(()=>{if(!LF)return;const s=e.map(e=>{let{sensor:s}=e;return null==s.setup?void 0:s.setup()});return()=>{for(const e of s)null==e||e()}},e.map(e=>{let{sensor:s}=e;return s}))}(f),DF(()=>{Ce&&L===PB.Initializing&&O(PB.Initialized)},[Ce,L]),re.useEffect(()=>{const{onDragMove:e}=ue.current,{active:s,activatorEvent:a,collisions:l,over:c}=Pe.current;if(!s||!a)return;const u={active:s,activatorEvent:a,collisions:l,delta:{x:We.x,y:We.y},over:c};Fr.unstable_batchedUpdates(()=>{null==e||e(u),E({type:"onDragMove",event:u})})},[We.x,We.y]),re.useEffect(()=>{const{active:e,activatorEvent:s,collisions:a,droppableContainers:l,scrollAdjustedTranslate:c}=Pe.current;if(!e||null==X.current||!s||!c)return;const{onDragOver:u}=ue.current,p=l.get(Ge),m=p&&p.rect.current?{id:p.id,rect:p.rect.current,data:p.data,disabled:p.disabled}:null,h={active:e,activatorEvent:s,collisions:a,delta:{x:c.x,y:c.y},over:m};Fr.unstable_batchedUpdates(()=>{Qe(m),null==u||u(h),E({type:"onDragOver",event:h})})},[Ge]),DF(()=>{Pe.current={activatorEvent:ce,active:Y,activeNode:be,collisionRect:Ze,collisions:Ke,droppableRects:ge,draggableNodes:z,draggingNode:Ae,draggingNodeRect:Le,droppableContainers:H,over:Ye,scrollableAncestors:Fe,scrollAdjustedTranslate:We},Z.current={initial:Le,translated:Ze}},[Y,be,Ke,Ze,z,Ae,Le,ge,H,Ye,Fe,We]),useAutoScroller({...Ne,delta:U,draggingRect:Ze,pointerCoordinates:Ve,scrollableAncestors:Fe,scrollableAncestorRects:Be});const rt=re.useMemo(()=>({active:Y,activeNode:be,activeNodeRect:Ce,activatorEvent:ce,collisions:Ke,containerNodeRect:_e,dragOverlay:Ee,draggableNodes:z,droppableContainers:H,droppableRects:ge,over:Ye,measureDroppableContainers:xe,scrollableAncestors:Fe,scrollableAncestorRects:Be,measuringConfiguration:fe,measuringScheduled:ye,windowRect:$e}),[Y,be,Ce,ce,Ke,_e,Ee,z,H,ge,Ye,xe,Fe,Be,fe,ye,$e]),nt=re.useMemo(()=>({activatorEvent:ce,activators:tt,active:Y,activeNodeRect:Ce,ariaDescribedById:{draggable:me},dispatch:T,draggableNodes:z,over:Ye,measureDroppableContainers:xe}),[ce,tt,Y,Ce,T,me,z,Ye,xe]);return ae.createElement(zF.Provider,{value:A},ae.createElement(CB.Provider,{value:nt},ae.createElement(kB.Provider,{value:rt},ae.createElement(_B.Provider,{value:Xe},h)),ae.createElement(RestoreFocus,{disabled:!1===(null==p?void 0:p.restoreFocus)})),ae.createElement(Accessibility,{...p,hiddenTextDescribedById:me}))}),AB=re.createContext(null),MB="button";function useDraggable(e){let{id:s,data:a,disabled:l=!1,attributes:c}=e;const u=useUniqueId("Draggable"),{activators:p,activatorEvent:m,active:h,activeNodeRect:f,ariaDescribedById:g,draggableNodes:b,over:j}=re.useContext(CB),{role:N=MB,roleDescription:k="draggable",tabIndex:_=0}=null!=c?c:{},T=(null==h?void 0:h.id)===s,E=re.useContext(T?_B:AB),[A,L]=useNodeRef(),[O,I]=useNodeRef(),$=function useSyntheticListeners(e,s){return re.useMemo(()=>e.reduce((e,a)=>{let{eventName:l,handler:c}=a;return e[l]=e=>{c(e,s)},e},{}),[e,s])}(p,s),z=useLatestValue(a);DF(()=>(b.set(s,{id:s,key:u,node:A,activatorNode:O,data:z}),()=>{const e=b.get(s);e&&e.key===u&&b.delete(s)}),[b,s]);return{active:h,activatorEvent:m,activeNodeRect:f,attributes:re.useMemo(()=>({role:N,tabIndex:_,"aria-disabled":l,"aria-pressed":!(!T||N!==MB)||void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[l,N,_,T,k,g.draggable]),isDragging:T,listeners:l?void 0:$,node:A,over:j,setNodeRef:L,setActivatorNodeRef:I,transform:E}}function useDndContext(){return re.useContext(kB)}const LB={timeout:25};function AnimationManager(e){let{animation:s,children:a}=e;const[l,c]=re.useState(null),[u,p]=re.useState(null),m=usePrevious(a);return a||l||!m||c(m),DF(()=>{if(!u)return;const e=null==l?void 0:l.key,a=null==l?void 0:l.props.id;null!=e&&null!=a?Promise.resolve(s(a,u)).then(()=>{c(null)}):c(null)},[s,l,u]),ae.createElement(ae.Fragment,null,a,l?re.cloneElement(l,{ref:p}):null)}const DB={x:0,y:0,scaleX:1,scaleY:1};function NullifiedContextProvider(e){let{children:s}=e;return ae.createElement(CB.Provider,{value:SB},ae.createElement(_B.Provider,{value:DB},s))}const OB={position:"fixed",touchAction:"none"},defaultTransition$1=e=>isKeyboardEvent(e)?"transform 250ms ease":void 0,IB=re.forwardRef((e,s)=>{let{as:a,activatorEvent:l,adjustScale:c,children:u,className:p,rect:m,style:h,transform:f,transition:g=defaultTransition$1}=e;if(!m)return null;const b=c?f:{...f,scaleX:1,scaleY:1},j={...OB,width:m.width,height:m.height,top:m.top,left:m.left,transform:RF.Transform.toString(b),transformOrigin:c&&l?getRelativeTransformOrigin(l,m):void 0,transition:"function"==typeof g?g(l):g,...h};return ae.createElement(a,{className:p,style:j,ref:s},u)}),defaultDropAnimationSideEffects=e=>s=>{let{active:a,dragOverlay:l}=s;const c={},{styles:u,className:p}=e;if(null!=u&&u.active)for(const[e,m]of Object.entries(u.active))void 0!==m&&(c[e]=a.node.style.getPropertyValue(e),a.node.style.setProperty(e,m));if(null!=u&&u.dragOverlay)for(const[e,m]of Object.entries(u.dragOverlay))void 0!==m&&l.node.style.setProperty(e,m);return null!=p&&p.active&&a.node.classList.add(p.active),null!=p&&p.dragOverlay&&l.node.classList.add(p.dragOverlay),function cleanup(){for(const[e,s]of Object.entries(c))a.node.style.setProperty(e,s);null!=p&&p.active&&a.node.classList.remove(p.active)}},$B={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:s,final:a}}=e;return[{transform:RF.Transform.toString(s)},{transform:RF.Transform.toString(a)}]},sideEffects:defaultDropAnimationSideEffects({styles:{active:{opacity:"0"}}})};function useDropAnimation(e){let{config:s,draggableNodes:a,droppableContainers:l,measuringConfiguration:c}=e;return useEvent((e,u)=>{if(null===s)return;const p=a.get(e);if(!p)return;const m=p.node.current;if(!m)return;const h=getMeasurableNode(u);if(!h)return;const{transform:f}=getWindow(u).getComputedStyle(u),g=parseTransform(f);if(!g)return;const b="function"==typeof s?s:function createDefaultDropAnimation(e){const{duration:s,easing:a,sideEffects:l,keyframes:c}={...$B,...e};return e=>{let{active:u,dragOverlay:p,transform:m,...h}=e;if(!s)return;const f={x:p.rect.left-u.rect.left,y:p.rect.top-u.rect.top},g={scaleX:1!==m.scaleX?u.rect.width*m.scaleX/p.rect.width:1,scaleY:1!==m.scaleY?u.rect.height*m.scaleY/p.rect.height:1},b={x:m.x-f.x,y:m.y-f.y,...g},j=c({...h,active:u,dragOverlay:p,transform:{initial:m,final:b}}),[N]=j,k=j[j.length-1];if(JSON.stringify(N)===JSON.stringify(k))return;const _=null==l?void 0:l({active:u,dragOverlay:p,...h}),T=p.node.animate(j,{duration:s,easing:a,fill:"forwards"});return new Promise(e=>{T.onfinish=()=>{null==_||_(),e()}})}}(s);return scrollIntoViewIfNeeded(m,c.draggable.measure),b({active:{id:e,data:p.data,node:m,rect:c.draggable.measure(m)},draggableNodes:a,dragOverlay:{node:u,rect:c.dragOverlay.measure(h)},droppableContainers:l,measuringConfiguration:c,transform:g})})}let RB=0;const FB=ae.memo(e=>{let{adjustScale:s=!1,children:a,dropAnimation:l,style:c,transition:u,modifiers:p,wrapperElement:m="div",className:h,zIndex:f=999}=e;const{activatorEvent:g,active:b,activeNodeRect:j,containerNodeRect:N,draggableNodes:k,droppableContainers:_,dragOverlay:T,over:E,measuringConfiguration:A,scrollableAncestors:L,scrollableAncestorRects:O,windowRect:I}=useDndContext(),$=re.useContext(_B),z=function useKey(e){return re.useMemo(()=>{if(null!=e)return RB++,RB},[e])}(null==b?void 0:b.id),U=applyModifiers(p,{activatorEvent:g,active:b,activeNodeRect:j,containerNodeRect:N,draggingNodeRect:T.rect,over:E,overlayNodeRect:T.rect,scrollableAncestors:L,scrollableAncestorRects:O,transform:$,windowRect:I}),H=useInitialValue(j),q=useDropAnimation({config:l,draggableNodes:k,droppableContainers:_,measuringConfiguration:A}),Z=H?T.setRef:void 0;return ae.createElement(NullifiedContextProvider,null,ae.createElement(AnimationManager,{animation:q},b&&z?ae.createElement(IB,{key:z,id:b.id,ref:Z,as:m,activatorEvent:g,adjustScale:s,className:h,transition:u,rect:H,style:{zIndex:f,...c},transform:U},a):null))});function arrayMove(e,s,a){const l=e.slice();return l.splice(a<0?l.length+a:a,0,l.splice(s,1)[0]),l}function getSortedRects(e,s){return e.reduce((e,a,l)=>{const c=s.get(a);return c&&(e[l]=c),e},Array(e.length))}function isValidIndex(e){return null!==e&&e>=0}const rectSortingStrategy=e=>{let{rects:s,activeIndex:a,overIndex:l,index:c}=e;const u=arrayMove(s,l,a),p=s[c],m=u[c];return m&&p?{x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height}:null},BB={scaleX:1,scaleY:1},verticalListSortingStrategy=e=>{var s;let{activeIndex:a,activeNodeRect:l,index:c,rects:u,overIndex:p}=e;const m=null!=(s=u[a])?s:l;if(!m)return null;if(c===a){const e=u[p];return e?{x:0,y:a<p?e.top+e.height-(m.top+m.height):e.top-m.top,...BB}:null}const h=function getItemGap$1(e,s,a){const l=e[s],c=e[s-1],u=e[s+1];if(!l)return 0;if(a<s)return c?l.top-(c.top+c.height):u?u.top-(l.top+l.height):0;return u?u.top-(l.top+l.height):c?l.top-(c.top+c.height):0}(u,c,a);return c>a&&c<=p?{x:0,y:-m.height-h,...BB}:c<a&&c>=p?{x:0,y:m.height+h,...BB}:{x:0,y:0,...BB}};const zB="Sortable",VB=ae.createContext({activeIndex:-1,containerId:zB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(e){let{children:s,id:a,items:l,strategy:c=rectSortingStrategy,disabled:u=!1}=e;const{active:p,dragOverlay:m,droppableRects:h,over:f,measureDroppableContainers:g}=useDndContext(),b=useUniqueId(zB,a),j=Boolean(null!==m.rect),N=re.useMemo(()=>l.map(e=>"object"==typeof e&&"id"in e?e.id:e),[l]),k=null!=p,_=p?N.indexOf(p.id):-1,T=f?N.indexOf(f.id):-1,E=re.useRef(N),A=!function itemsEqual(e,s){if(e===s)return!0;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0}(N,E.current),L=-1!==T&&-1===_||A,O=function normalizeDisabled(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(u);DF(()=>{A&&k&&g(N)},[A,N,k,g]),re.useEffect(()=>{E.current=N},[N]);const I=re.useMemo(()=>({activeIndex:_,containerId:b,disabled:O,disableTransforms:L,items:N,overIndex:T,useDragOverlay:j,sortedRects:getSortedRects(N,h),strategy:c}),[_,b,O.draggable,O.droppable,L,N,T,h,j,c]);return ae.createElement(VB.Provider,{value:I},s)}const defaultNewIndexGetter=e=>{let{id:s,items:a,activeIndex:l,overIndex:c}=e;return arrayMove(a,l,c).indexOf(s)},defaultAnimateLayoutChanges=e=>{let{containerId:s,isSorting:a,wasDragging:l,index:c,items:u,newIndex:p,previousItems:m,previousContainerId:h,transition:f}=e;return!(!f||!l)&&((m===u||c!==p)&&(!!a||p!==c&&s===h))},UB={duration:200,easing:"ease"},HB="transform",qB=RF.Transition.toString({property:HB,duration:0,easing:"linear"}),WB={roleDescription:"sortable"};function useSortable(e){let{animateLayoutChanges:s=defaultAnimateLayoutChanges,attributes:a,disabled:l,data:c,getNewIndex:u=defaultNewIndexGetter,id:p,strategy:m,resizeObserverConfig:h,transition:f=UB}=e;const{items:g,containerId:b,activeIndex:j,disabled:N,disableTransforms:k,sortedRects:_,overIndex:T,useDragOverlay:E,strategy:A}=re.useContext(VB),L=function normalizeLocalDisabled(e,s){var a,l;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(a=null==e?void 0:e.draggable)?a:s.draggable,droppable:null!=(l=null==e?void 0:e.droppable)?l:s.droppable}}(l,N),O=g.indexOf(p),I=re.useMemo(()=>({sortable:{containerId:b,index:O,items:g},...c}),[b,c,O,g]),$=re.useMemo(()=>g.slice(g.indexOf(p)),[g,p]),{rect:z,node:U,isOver:H,setNodeRef:q}=function useDroppable(e){let{data:s,disabled:a=!1,id:l,resizeObserverConfig:c}=e;const u=useUniqueId("Droppable"),{active:p,dispatch:m,over:h,measureDroppableContainers:f}=re.useContext(CB),g=re.useRef({disabled:a}),b=re.useRef(!1),j=re.useRef(null),N=re.useRef(null),{disabled:k,updateMeasurementsFor:_,timeout:T}={...LB,...c},E=useLatestValue(null!=_?_:l),A=useResizeObserver$1({callback:re.useCallback(()=>{b.current?(null!=N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{f(Array.isArray(E.current)?E.current:[E.current]),N.current=null},T)):b.current=!0},[T]),disabled:k||!p}),L=re.useCallback((e,s)=>{A&&(s&&(A.unobserve(s),b.current=!1),e&&A.observe(e))},[A]),[O,I]=useNodeRef(L),$=useLatestValue(s);return re.useEffect(()=>{A&&O.current&&(A.disconnect(),b.current=!1,A.observe(O.current))},[O,A]),re.useEffect(()=>(m({type:HF.RegisterDroppable,element:{id:l,key:u,disabled:a,node:O,rect:j,data:$}}),()=>m({type:HF.UnregisterDroppable,key:u,id:l})),[l]),re.useEffect(()=>{a!==g.current.disabled&&(m({type:HF.SetDroppableDisabled,id:l,key:u,disabled:a}),g.current.disabled=a)},[l,u,a,m]),{active:p,rect:j,isOver:(null==h?void 0:h.id)===l,node:O,over:h,setNodeRef:I}}({id:p,data:I,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...h}}),{active:Z,activatorEvent:Y,activeNodeRect:X,attributes:J,setNodeRef:ae,listeners:le,isDragging:ce,over:de,setActivatorNodeRef:ue,transform:me}=useDraggable({id:p,data:I,attributes:{...WB,...a},disabled:L.draggable}),he=function useCombinedRefs(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return re.useMemo(()=>e=>{s.forEach(s=>s(e))},s)}(q,ae),fe=Boolean(Z),ge=fe&&!k&&isValidIndex(j)&&isValidIndex(T),xe=!E&&ce,ye=xe&&ge?me:null,be=ge?null!=ye?ye:(null!=m?m:A)({rects:_,activeNodeRect:X,activeIndex:j,overIndex:T,index:O}):null,je=isValidIndex(j)&&isValidIndex(T)?u({id:p,items:g,activeIndex:j,overIndex:T}):O,Ne=null==Z?void 0:Z.id,Se=re.useRef({activeId:Ne,items:g,newIndex:je,containerId:b}),Ce=g!==Se.current.items,_e=s({active:Z,containerId:b,isDragging:ce,isSorting:fe,id:p,index:O,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:f,wasDragging:null!=Se.current.activeId}),Pe=function useDerivedTransform(e){let{disabled:s,index:a,node:l,rect:c}=e;const[u,p]=re.useState(null),m=re.useRef(a);return DF(()=>{if(!s&&a!==m.current&&l.current){const e=c.current;if(e){const s=getClientRect(l.current,{ignoreTransform:!0}),a={x:e.left-s.left,y:e.top-s.top,scaleX:e.width/s.width,scaleY:e.height/s.height};(a.x||a.y)&&p(a)}}a!==m.current&&(m.current=a)},[s,a,l,c]),re.useEffect(()=>{u&&p(null)},[u]),u}({disabled:!_e,index:O,node:U,rect:z});return re.useEffect(()=>{fe&&Se.current.newIndex!==je&&(Se.current.newIndex=je),b!==Se.current.containerId&&(Se.current.containerId=b),g!==Se.current.items&&(Se.current.items=g)},[fe,je,b,g]),re.useEffect(()=>{if(Ne===Se.current.activeId)return;if(null!=Ne&&null==Se.current.activeId)return void(Se.current.activeId=Ne);const e=setTimeout(()=>{Se.current.activeId=Ne},50);return()=>clearTimeout(e)},[Ne]),{active:Z,activeIndex:j,attributes:J,data:I,rect:z,index:O,newIndex:je,items:g,isOver:H,isSorting:fe,isDragging:ce,listeners:le,node:U,overIndex:T,over:de,setNodeRef:he,setActivatorNodeRef:ue,setDroppableNodeRef:q,setDraggableNodeRef:ae,transform:null!=Pe?Pe:be,transition:function getTransition(){if(Pe||Ce&&Se.current.newIndex===O)return qB;if(xe&&!isKeyboardEvent(Y)||!f)return;if(fe||_e)return RF.Transition.toString({...f,property:HB});return}()}}function hasSortableData(e){if(!e)return!1;const s=e.data.current;return!!(s&&"sortable"in s&&"object"==typeof s.sortable&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const ZB=[tB.Down,tB.Right,tB.Up,tB.Left],sortableKeyboardCoordinates=(e,s)=>{let{context:{active:a,collisionRect:l,droppableRects:c,droppableContainers:u,over:p,scrollableAncestors:m}}=s;if(ZB.includes(e.code)){if(e.preventDefault(),!a||!l)return;const s=[];u.getEnabled().forEach(a=>{if(!a||null!=a&&a.disabled)return;const u=c.get(a.id);if(u)switch(e.code){case tB.Down:l.top<u.top&&s.push(a);break;case tB.Up:l.top>u.top&&s.push(a);break;case tB.Left:l.left>u.left&&s.push(a);break;case tB.Right:l.left<u.left&&s.push(a)}});const h=closestCorners({collisionRect:l,droppableRects:c,droppableContainers:s});let f=getFirstCollision(h,"id");if(f===(null==p?void 0:p.id)&&h.length>1&&(f=h[1].id),null!=f){const e=u.get(a.id),s=u.get(f),p=s?c.get(s.id):null,h=null==s?void 0:s.node.current;if(h&&p&&e&&s){const a=getScrollableAncestors(h).some((e,s)=>m[s]!==e),c=isSameContainer(e,s),u=function isAfter$1(e,s){if(!hasSortableData(e)||!hasSortableData(s))return!1;if(!isSameContainer(e,s))return!1;return e.data.current.sortable.index<s.data.current.sortable.index}(e,s),f=a||!c?{x:0,y:0}:{x:u?l.width-p.width:0,y:u?l.height-p.height:0},g={x:p.left,y:p.top};return f.x&&f.y?g:$F(g,f)}}}};function isSameContainer(e,s){return!(!hasSortableData(e)||!hasSortableData(s))&&e.data.current.sortable.containerId===s.data.current.sortable.containerId}function SortableLeadCard({lead:e,onClick:s}){const{attributes:a,listeners:l,setNodeRef:c,transform:p,transition:m,isDragging:h}=useSortable({id:e.id}),f={transform:RF.Transform.toString(p),transition:m,opacity:h?.5:1};return u.jsx("div",{ref:c,style:f,children:u.jsx(ea,{className:cn("cursor-pointer transition-all duration-200 hover:shadow-hover group",h&&"shadow-hover rotate-2 scale-105"),onClick:s,children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("button",{...a,...l,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-gray-100 rounded transition-colors mt-0.5",onClick:e=>e.stopPropagation(),children:u.jsx(Di,{className:"h-4 w-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:e.name}),e.score>=80&&u.jsxs(Badge,{className:"bg-red-100 text-red-700 text-xs mt-1 inline-flex items-center gap-1",children:[u.jsx("span",{className:"text-red-500",children:""}),"Hot Lead (",e.score,")"]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation()},children:u.jsx(ui,{className:"h-4 w-4 text-gray-400"})})]}),e.property&&u.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Bi,{className:"h-3.5 w-3.5 text-blue-600 flex-shrink-0"}),u.jsx("p",{className:"font-semibold text-xs text-gray-900 truncate",children:e.property.title})]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[e.property.city,"  R ",(e.property.price/1e6).toFixed(1),"M"]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[u.jsx(oo,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[u.jsx(Eo,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),u.jsx("span",{children:e.phone})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(ii,{className:"h-3 w-3 text-green-600 flex-shrink-0"}),u.jsxs("span",{className:"font-medium text-gray-700",children:["Budget: ",e.budget]})]}),e.tags&&e.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>u.jsx(Badge,{variant:"outline",className:"text-xs bg-white border-gray-200 text-gray-700",children:e},e))}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Ea,{className:"h-3 w-3"}),u.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),u.jsx(Badge,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:e.source})]})]})})})})}const KB=[{id:"new",title:"New Leads",color:"from-blue-500 to-blue-600",icon:Cl,leads:[]},{id:"contacted",title:"Contacted",color:"from-yellow-500 to-yellow-600",icon:Eo,leads:[]},{id:"viewing",title:"Viewing Scheduled",color:"from-purple-500 to-purple-600",icon:Ea,leads:[]},{id:"offer",title:"Offer Stage",color:"from-orange-500 to-orange-600",icon:ii,leads:[]},{id:"closed",title:"Closed Won",color:"from-green-500 to-green-600",icon:ol,leads:[]}];function EnhancedLeadPipeline({onLeadClick:e,onAddLead:s}){const a=[{id:"1",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+27 82 123 4567",message:"Interested in luxury properties in Camps Bay",source:"Website",budget:"R 15M - R 20M",property:{title:"Luxury Villa - Camps Bay",city:"Cape Town",price:25e6},createdAt:"2024-12-01T10:30:00Z",lastContact:"2024-12-01T14:00:00Z",nextFollowUp:"2024-12-03T10:00:00Z",score:92,tags:["Hot Lead","High Budget"]},{id:"2",name:"Michael Chen",email:"mchen@company.com",phone:"+27 83 456 7890",message:"Looking for investment property",source:"Explore Feed",budget:"R 3M - R 5M",property:{title:"Modern Apartment - Sandton",city:"Johannesburg",price:45e5},createdAt:"2024-11-30T09:15:00Z",score:78,tags:["Investor"]},{id:"3",name:"Alice Williams",email:"alice.w@email.com",phone:null,message:"First-time buyer looking for family home",source:"Agent Profile",budget:"R 2M - R 3M",createdAt:"2024-11-29T16:45:00Z",lastContact:"2024-11-30T11:00:00Z",score:65,tags:["First Time Buyer"]},{id:"4",name:"Robert Smith",email:"rob.smith@email.com",phone:"+27 84 789 0123",message:"Interested in waterfront properties",source:"Referral",budget:"R 8M - R 12M",property:{title:"Waterfront Penthouse",city:"Cape Town",price:12e6},createdAt:"2024-11-28T13:20:00Z",nextFollowUp:"2024-12-02T15:00:00Z",score:85,tags:["Referral","Hot Lead"]},{id:"5",name:"Emma Brown",email:"emma.brown@email.com",phone:"+27 82 234 5678",message:"Ready to make an offer",source:"Website",budget:"R 6M - R 8M",property:{title:"Family Home - Constantia",city:"Cape Town",price:75e5},createdAt:"2024-11-27T11:00:00Z",lastContact:"2024-12-01T09:00:00Z",score:95,tags:["Hot Lead","Ready to Buy"]}],[l,c]=re.useState(()=>{const e=[...KB];return e[0].leads=[a[0],a[2]],e[1].leads=[a[1]],e[2].leads=[a[3]],e[3].leads=[a[4]],e[4].leads=[],e}),[p,m]=re.useState(null),h=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}})),findStageByLeadId=e=>{for(const s of l)if(s.leads.some(s=>s.id===e))return s.id;return null},f=l.reduce((e,s)=>e+s.leads.length,0),g=l.reduce((e,s)=>e+s.leads.reduce((e,s)=>s.property?e+s.property.price:e,0),0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ea,{className:"shadow-soft border-l-4 border-l-blue-500",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Leads"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(Cl,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(ea,{className:"shadow-soft border-l-4 border-l-green-500",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pipeline Value"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R ",(g/1e6).toFixed(1),"M"]})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:u.jsx(ii,{className:"h-6 w-6 text-green-600"})})]})})}),u.jsx(ea,{className:"shadow-soft border-l-4 border-l-purple-500",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Conversion Rate"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"23%"})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:u.jsx(fl,{className:"h-6 w-6 text-purple-600"})})]})})}),u.jsx(ea,{className:"shadow-soft border-l-4 border-l-orange-500",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Hot Leads"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(e=>e.score>=80).length})]}),u.jsx("div",{className:"p-3 bg-orange-50 rounded-xl",children:u.jsx(ol,{className:"h-6 w-6 text-orange-600"})})]})})})]}),u.jsxs(EB,{sensors:h,collisionDetection:closestCorners,onDragStart:e=>{m(e.active.id)},onDragEnd:e=>{const{active:s,over:a}=e;if(!a)return void m(null);const l=findStageByLeadId(s.id),u=a.id;l&&l!==u&&c(e=>{const a=[...e],c=a.findIndex(e=>e.id===l),p=a.findIndex(e=>e.id===u),m=a[c].leads.find(e=>e.id===s.id);return m&&(a[c].leads=a[c].leads.filter(e=>e.id!==s.id),a[p].leads=[...a[p].leads,m]),a}),m(null)},children:[u.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:l.map(s=>u.jsx("div",{className:"flex flex-col",children:u.jsxs(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 flex-1",children:[u.jsx(ta,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:cn("p-2 rounded-lg bg-gradient-to-br",s.color,"text-white"),children:u.jsx(s.icon,{className:"h-4 w-4"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-sm font-semibold text-gray-900",children:s.title}),u.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[s.leads.length," lead",1!==s.leads.length?"s":""]})]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-7 w-7",children:u.jsx(Mo,{className:"h-4 w-4"})})]})}),u.jsx(sa,{className:"pt-0",children:u.jsx(SortableContext,{items:s.leads.map(e=>e.id),strategy:verticalListSortingStrategy,id:s.id,children:u.jsxs("div",{className:"space-y-3 min-h-[400px] p-2 bg-gray-50/50 rounded-xl",children:[s.leads.map(s=>u.jsx(SortableLeadCard,{lead:s,onClick:()=>e?.(s)},s.id)),0===s.leads.length&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[u.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-3",children:u.jsx(s.icon,{className:"h-8 w-8"})}),u.jsx("p",{className:"text-sm font-medium",children:"No leads yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Drag leads here"})]})]})})})]})},s.id))}),u.jsx(FB,{children:p?u.jsx("div",{className:"cursor-grabbing rotate-3",children:u.jsx(LeadCardContent,{lead:(()=>{if(!p)return null;for(const e of l){const s=e.leads.find(e=>e.id===p);if(s)return s}return null})(),isDragging:!0})}):null})]})]})}function LeadCardContent({lead:e,isDragging:s}){return u.jsx(ea,{className:cn("transition-all duration-200",s?"shadow-hover scale-105":"shadow-soft hover:shadow-hover"),children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:e.name}),e.score>=80&&u.jsxs(Badge,{className:"bg-red-100 text-red-700 text-xs mt-1",children:[" Hot Lead (",e.score,")"]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-6 w-6 -mt-1",children:u.jsx(ui,{className:"h-4 w-4 text-gray-400"})})]}),e.property&&u.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Bi,{className:"h-3.5 w-3.5 text-blue-600"}),u.jsx("p",{className:"font-semibold text-xs text-gray-900",children:e.property.title})]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[e.property.city,"  R ",(e.property.price/1e6).toFixed(1),"M"]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[u.jsx(oo,{className:"h-3 w-3 text-gray-400"}),u.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[u.jsx(Eo,{className:"h-3 w-3 text-gray-400"}),u.jsx("span",{children:e.phone})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(ii,{className:"h-3 w-3 text-green-600"}),u.jsxs("span",{className:"font-medium text-gray-700",children:["Budget: ",e.budget]})]}),e.tags&&e.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>u.jsx(Badge,{variant:"outline",className:"text-xs bg-white",children:e},e))}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Ea,{className:"h-3 w-3"}),u.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),u.jsx(Badge,{variant:"outline",className:"text-xs",children:e.source})]})]})})})}function ClientProfileModal({lead:e,isOpen:s,onClose:a}){const[l,c]=re.useState("overview"),[p,m]=re.useState(!1),[h,f]=re.useState("");if(!e)return null;const g=[{id:"1",type:"call",title:"Initial Contact Call",description:"Discussed property requirements and budget",date:"2024-12-01T10:00:00Z",outcome:"Interested in scheduling viewing"},{id:"2",type:"email",title:"Property Brochure Sent",description:"Sent detailed brochure for Camps Bay villa",date:"2024-12-01T14:30:00Z"},{id:"3",type:"viewing",title:"Property Viewing",description:"Showed Camps Bay villa, client very interested",date:"2024-12-02T11:00:00Z",outcome:"Positive feedback, considering offer"}],b=[{id:"1",content:"Client prefers waterfront properties. Looking to relocate from Johannesburg.",createdAt:"2024-12-01T10:30:00Z",createdBy:"You"},{id:"2",content:"Mentioned they have a property to sell first. Timeline: 2-3 months.",createdAt:"2024-12-01T15:00:00Z",createdBy:"You"}],getTypeColor=e=>{switch(e){case"call":return"bg-blue-100 text-blue-700";case"email":return"bg-purple-100 text-purple-700";case"meeting":return"bg-green-100 text-green-700";case"viewing":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}};return u.jsx(Dialog,{open:s,onOpenChange:a,children:u.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(DialogHeader,{children:u.jsxs(DialogTitle,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-lg font-bold",children:e.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),u.jsx("p",{className:"text-sm text-gray-500 font-normal",children:"Client Profile"})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(fl,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Lead Score"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.score,"/100"]})]})]})})}),u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:u.jsx(xo,{className:"h-5 w-5 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Interactions"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.length})]})]})})}),u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:u.jsx(Qa,{className:"h-5 w-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Days Active"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:Math.floor(((new Date).getTime()-new Date(e.createdAt).getTime())/864e5)})]})]})})}),u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:u.jsx(wi,{className:"h-5 w-5 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Notes"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:b.length})]})]})})})]}),u.jsxs(ef,{value:l,onValueChange:c,children:[u.jsxs(tf,{className:"grid w-full grid-cols-4 p-1 bg-gray-100 rounded-xl",children:[u.jsx(rf,{value:"overview",className:"rounded-lg",children:"Overview"}),u.jsx(rf,{value:"timeline",className:"rounded-lg",children:"Timeline"}),u.jsx(rf,{value:"notes",className:"rounded-lg",children:"Notes"}),u.jsx(rf,{value:"properties",className:"rounded-lg",children:"Properties"})]}),u.jsxs(nf,{value:"overview",className:"space-y-4",children:[u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>m(!p),children:p?u.jsxs(u.Fragment,{children:[u.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Save"]}):u.jsxs(u.Fragment,{children:[u.jsx(rl,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[u.jsx(oo,{className:"h-4 w-4 text-gray-400"}),"Email"]}),p?u.jsx(Input,{defaultValue:e.email,className:"rounded-lg"}):u.jsx("p",{className:"text-sm text-gray-900 pl-6",children:e.email})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[u.jsx(Eo,{className:"h-4 w-4 text-gray-400"}),"Phone"]}),p?u.jsx(Input,{defaultValue:e.phone||"",className:"rounded-lg"}):u.jsx("p",{className:"text-sm text-gray-900 pl-6",children:e.phone||"Not provided"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[u.jsx(ii,{className:"h-4 w-4 text-gray-400"}),"Budget"]}),p?u.jsx(Input,{defaultValue:e.budget,className:"rounded-lg"}):u.jsx("p",{className:"text-sm text-gray-900 pl-6",children:e.budget})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-gray-400"}),"Source"]}),u.jsx(Badge,{className:"ml-6 bg-blue-100 text-blue-700",children:e.source})]})]}),e.message&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[u.jsx(xo,{className:"h-4 w-4 text-gray-400"}),"Initial Message"]}),u.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg italic",children:['"',e.message,'"']})]}),e.tags&&e.tags.length>0&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Tags"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tags.map(e=>u.jsxs(Badge,{variant:"outline",className:"bg-white",children:[e,p&&u.jsx("button",{className:"ml-1 hover:text-red-600",children:u.jsx(Il,{className:"h-3 w-3"})})]},e)),p&&u.jsxs(Button$1,{variant:"outline",size:"sm",className:"h-6",children:[u.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Add Tag"]})]})]})]})}),e.property&&u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Interested Property"}),u.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-lg",children:u.jsx(Bi,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:e.property.title}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.property.city,"  R ",(e.property.price/1e6).toFixed(1),"M"]}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"mt-3",children:"View Property Details"})]})]})})]})})]}),u.jsx(nf,{value:"timeline",className:"space-y-4",children:u.jsx("div",{className:"space-y-4",children:g.map((e,s)=>{const a=(e=>{switch(e){case"call":return Eo;case"email":return oo;case"meeting":return Users;case"viewing":return Bi;default:return wi}})(e.type);return u.jsxs("div",{className:"relative",children:[s!==g.length-1&&u.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200"}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:cn("p-3 rounded-full flex-shrink-0 h-12 w-12 flex items-center justify-center",getTypeColor(e.type)),children:u.jsx(a,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:e.title}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.date).toLocaleString()})]}),u.jsx(Badge,{className:getTypeColor(e.type),children:e.type})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.outcome&&u.jsx("div",{className:"mt-2 p-2 bg-green-50 rounded-lg",children:u.jsxs("p",{className:"text-xs font-medium text-green-700",children:["Outcome: ",e.outcome]})})]})]})})})]},e.id)})})}),u.jsxs(nf,{value:"notes",className:"space-y-4",children:[u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-4",children:[u.jsx(Textarea,{placeholder:"Add a new note...",value:h,onChange:e=>f(e.target.value),className:"mb-3 rounded-lg",rows:3}),u.jsxs(Button$1,{onClick:()=>{h.trim()&&f("")},className:"w-full",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})}),u.jsx("div",{className:"space-y-3",children:b.map(e=>u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(e.createdAt).toLocaleString(),"  ",e.createdBy]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-6 w-6",children:u.jsx(rl,{className:"h-3 w-3"})})]}),u.jsx("p",{className:"text-sm text-gray-700",children:e.content})]})},e.id))})]}),u.jsx(nf,{value:"properties",children:u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-6 text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Property history and preferences will appear here"})})})})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[u.jsxs(Button$1,{className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Call Client"]}),u.jsxs(Button$1,{variant:"outline",className:"flex-1",children:[u.jsx(oo,{className:"h-4 w-4 mr-2"}),"Send Email"]}),u.jsxs(Button$1,{variant:"outline",className:"flex-1",children:[u.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})]})]})})}function AgentLeadsEnhanced(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState(null),[m,h]=re.useState(!1),[f,g]=re.useState("pipeline"),[b,j]=re.useState(""),{data:N,isLoading:k,error:_}=At.agent.getDashboardStats.useQuery(void 0,{enabled:s&&"agent"===a?.role,retry:!1});if(re.useEffect(()=>{!k&&_&&_.message?.includes("Agent profile not found")&&e("/agent/setup")},[_,k,e]),!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;if(k||l)return u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#F4F7FA]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsxs("main",{className:"p-6 max-w-[1800px] mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Leads & CRM"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your lead pipeline and client relationships"})]}),u.jsxs(Button$1,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-soft rounded-xl",onClick:()=>{},children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white/60 backdrop-blur-xl p-4 rounded-2xl border border-white/20 shadow-soft",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative w-80",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(Input,{placeholder:"Search leads...",className:"pl-10 bg-white border-gray-200 rounded-xl",value:b,onChange:e=>j(e.target.value)})]}),u.jsxs(Button$1,{variant:"outline",className:"rounded-xl",children:[u.jsx(Si,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),u.jsx(ef,{value:f,onValueChange:g,className:"w-auto",children:u.jsxs(tf,{className:"bg-gray-100 rounded-xl",children:[u.jsxs(rf,{value:"pipeline",className:"rounded-lg",children:[u.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Pipeline"]}),u.jsxs(rf,{value:"analytics",className:"rounded-lg",children:[u.jsx(Da,{className:"h-4 w-4 mr-2"}),"Analytics"]}),u.jsxs(rf,{value:"messages",className:"rounded-lg",children:[u.jsx(xo,{className:"h-4 w-4 mr-2"}),"Messages"]})]})})]}),"pipeline"===f&&u.jsx(EnhancedLeadPipeline,{onLeadClick:e=>{p(e),h(!0)},onAddLead:()=>{}}),"analytics"===f&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Ai,{className:"h-5 w-5 text-blue-600"}),"Lead Sources"]}),u.jsx("div",{className:"space-y-4",children:[{source:"Website",count:12,percentage:40,color:"from-blue-500 to-blue-600"},{source:"Explore Feed",count:8,percentage:27,color:"from-purple-500 to-purple-600"},{source:"Agent Profile",count:6,percentage:20,color:"from-green-500 to-green-600"},{source:"Referral",count:4,percentage:13,color:"from-orange-500 to-orange-600"}].map(e=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.source}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[e.count," leads"]}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.percentage,"%)"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`bg-gradient-to-r ${e.color} h-2 rounded-full transition-all duration-500`,style:{width:`${e.percentage}%`}})})]},e.source))})]})}),u.jsx(ea,{className:"shadow-soft",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(fl,{className:"h-5 w-5 text-green-600"}),"Conversion Funnel"]}),u.jsx("div",{className:"space-y-3",children:[{stage:"New Leads",count:30,width:100},{stage:"Contacted",count:20,width:67},{stage:"Viewing",count:12,width:40},{stage:"Offer",count:8,width:27},{stage:"Closed",count:5,width:17}].map(e=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-32 text-sm font-medium text-gray-700",children:e.stage}),u.jsx("div",{className:"flex-1 relative",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-10",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-10 rounded-full flex items-center justify-end pr-4 transition-all duration-500",style:{width:`${e.width}%`},children:u.jsx("span",{className:"text-white text-sm font-bold",children:e.count})})})})]},e.stage))})]})})]}),"messages"===f&&u.jsx(ea,{className:"shadow-soft",children:u.jsx(sa,{className:"p-12 text-center",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"p-4 bg-blue-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:u.jsx(xo,{className:"h-10 w-10 text-blue-600"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Message Center"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Centralized messaging with all your leads and clients. Chat history, scheduled messages, and more."}),u.jsxs(Button$1,{className:"bg-blue-600 hover:bg-blue-700",children:[u.jsx(xo,{className:"h-4 w-4 mr-2"}),"Open Message Center"]})]})})})]}),u.jsx(ClientProfileModal,{lead:c,isOpen:m,onClose:()=>{h(!1),p(null)}})]})]})}function AgentMarketingHub(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState("explore"),m=[{id:1,title:"360 Virtual Tour - Luxury Villa",views:2345,likes:187,shares:45,engagement:87,thumbnail:"/assets/video1.jpg",uploadDate:"2024-11-28",status:"published"},{id:2,title:"Cape Town Waterfront Apartment Tour",views:1823,likes:156,shares:32,engagement:92,thumbnail:"/assets/video2.jpg",uploadDate:"2024-11-25",status:"published"},{id:3,title:"Modern Kitchen Design Ideas",views:956,likes:89,shares:18,engagement:76,thumbnail:"/assets/video3.jpg",uploadDate:"2024-11-22",status:"published"}],h=[{id:1,title:"Luxury Villa - Camps Bay",budget:5e3,spent:3200,impressions:12500,clicks:234,leads:12,status:"active",endsIn:"5 days"},{id:2,title:"Modern Apartment - Sandton",budget:3e3,spent:3e3,impressions:8900,clicks:156,leads:8,status:"completed",endsIn:"Ended"}],f=[{id:1,category:"Social Post",title:"New Listing Announcement",description:"Announce a new property with key details",icon:ho},{id:2,category:"Video Script",title:"Property Walkthrough",description:"Guide for filming property tours",icon:kl},{id:3,category:"Email",title:"Open House Invitation",description:"Invite clients to your open house",icon:wi},{id:4,category:"Social Post",title:"Market Update",description:"Share market insights with your audience",icon:Da}];if(!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;const g=m.reduce((e,s)=>e+s.views,0),b=Math.round(m.reduce((e,s)=>e+s.engagement,0)/m.length);return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketing Hub"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Grow your visibility and promote your listings"})]}),u.jsxs(Button$1,{onClick:()=>e("/explore/upload"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white shadow-soft rounded-xl",children:[u.jsx(yl,{className:"h-4 w-4 mr-2"}),"Upload to Explore"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-pink-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Explore Views"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.toLocaleString()}),u.jsxs("p",{className:"text-xs text-green-600 font-medium mt-2 flex items-center gap-1",children:[u.jsx(fl,{className:"h-3 w-3"}),"+12% this week"]})]}),u.jsx("div",{className:"p-3 bg-pink-50 rounded-xl",children:u.jsx(fi,{className:"h-6 w-6 text-pink-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-blue-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b,"%"]}),u.jsx("p",{className:"text-xs text-blue-600 font-medium mt-2",children:"Above average"})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(ol,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-purple-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Videos Published"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length}),u.jsx("p",{className:"text-xs text-purple-600 font-medium mt-2",children:"This month"})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:u.jsx(kl,{className:"h-6 w-6 text-purple-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-green-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Active Promotions"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.filter(e=>"active"===e.status).length}),u.jsx("p",{className:"text-xs text-green-600 font-medium mt-2",children:"Running campaigns"})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:u.jsx(ho,{className:"h-6 w-6 text-green-600"})})]})})})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full max-w-3xl grid-cols-5 p-1 bg-white rounded-xl shadow-soft",children:[u.jsx(rf,{value:"explore",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Explore Feed"}),u.jsx(rf,{value:"promote",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Promote Listings"}),u.jsx(rf,{value:"social",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Social Media"}),u.jsx(rf,{value:"branding",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Branding"}),u.jsx(rf,{value:"templates",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Templates"})]}),u.jsx(nf,{value:"explore",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(kl,{className:"h-5 w-5 text-pink-600"}),"My Explore Videos"]}),u.jsxs(Button$1,{onClick:()=>e("/explore/upload"),className:"bg-pink-600 hover:bg-pink-700 text-white rounded-xl",children:[u.jsx(yl,{className:"h-4 w-4 mr-2"}),"Upload New Video"]})]})}),u.jsx(sa,{className:"space-y-4",children:m.map(e=>u.jsx("div",{className:"p-5 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-32 h-24 bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Ao,{className:"h-10 w-10 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded ",new Date(e.uploadDate).toLocaleDateString()]})]}),u.jsx(Badge,{className:"bg-green-100 text-green-700",children:e.status})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Views"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.views.toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Likes"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.likes})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Shares"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.shares})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Engagement"}),u.jsxs("p",{className:"font-semibold text-green-600",children:[e.engagement,"%"]})]})]})]})]})},e.id))})]})}),u.jsx(nf,{value:"promote",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ra,{children:"Active Promotions"}),u.jsxs(Button$1,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl",children:[u.jsx(el,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})}),u.jsx(sa,{className:"space-y-4",children:h.map(e=>u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Ends in: ",e.endsIn]})]}),u.jsx(Badge,{className:"active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",children:e.status})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Budget"}),u.jsxs("p",{className:"font-semibold text-gray-900",children:["R ",e.budget.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Spent"}),u.jsxs("p",{className:"font-semibold text-blue-600",children:["R ",e.spent.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Impressions"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.impressions.toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Clicks"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.clicks})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Leads"}),u.jsx("p",{className:"font-semibold text-green-600",children:e.leads})]})]}),u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:e.spent/e.budget*100+"%"}})})})]},e.id))})]})}),u.jsx(nf,{value:"social",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Share on Social Media"})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Share your listings and content across your social media platforms"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Instagram",icon:Ui,color:"from-pink-500 to-purple-600",connected:!0},{name:"Facebook",icon:gi,color:"from-blue-600 to-blue-700",connected:!0},{name:"Twitter",icon:vl,color:"from-sky-400 to-sky-600",connected:!1},{name:"LinkedIn",icon:eo,color:"from-blue-700 to-blue-800",connected:!1}].map(e=>u.jsx("div",{className:"p-5 bg-gray-50 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:cn("p-3 rounded-xl bg-gradient-to-br",e.color),children:u.jsx(e.icon,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),u.jsx("p",{className:"text-sm text-gray-500",children:e.connected?"Connected":"Not connected"})]})]}),u.jsx(Button$1,{variant:e.connected?"default":"outline",size:"sm",className:"rounded-lg",children:e.connected?"Share":"Connect"})]})},e.name))})]})]})}),u.jsx(nf,{value:"branding",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Personal Branding"})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"p-5 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Share Your Profile"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share your agent profile with potential clients"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 bg-white px-4 py-3 rounded-lg border border-gray-200 text-sm text-gray-600",children:["https://portal.co.za/agent/",a?.id]}),u.jsxs(Button$1,{className:"bg-blue-600 text-white rounded-lg",children:[u.jsx(ni,{className:"h-4 w-4 mr-2"}),"Copy"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:u.jsx(zi,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:"Profile Cover Image"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Update your cover photo"})]})]}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"w-full",children:"Upload Image"})]}),u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:u.jsx(wi,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:"Agent Biography"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Tell your story"})]})]}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"w-full",children:"Edit Bio"})]})]})]})]})}),u.jsx(nf,{value:"templates",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(el,{className:"h-5 w-5 text-yellow-600"}),"Content Templates"]})}),u.jsx(sa,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(e=>u.jsx("div",{className:"p-5 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl hover:from-blue-50 hover:to-blue-100 transition-all cursor-pointer",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(e.icon,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Badge,{className:"bg-blue-100 text-blue-700 text-xs mb-2",children:e.category}),u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-blue-600 p-0 h-auto hover:bg-transparent",children:["Use Template ",u.jsx(mi,{className:"h-3 w-3 ml-1"})]})]})]})},e.id))})})]})})]})]})]})]})}function AgentEarnings(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState("overview"),m=[{id:1,property:"Luxury Villa - Camps Bay",client:"John Smith",salePrice:25e6,commission:625e3,commissionRate:2.5,status:"pending",dateClosed:"2024-11-28",payoutDate:"2024-12-15"},{id:2,property:"Modern Apartment - Sandton",client:"Sarah Williams",salePrice:45e5,commission:9e4,commissionRate:2,status:"paid",dateClosed:"2024-11-15",payoutDate:"2024-11-30"},{id:3,property:"Waterfront Penthouse - Cape Town",client:"Mike Davis",salePrice:12e6,commission:24e4,commissionRate:2,status:"pending",dateClosed:"2024-11-25",payoutDate:"2024-12-10"}];if(!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;const formatCurrency2=e=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Track your commissions, payouts, and wallet balance"})]}),u.jsxs(Button$1,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-soft rounded-xl",children:[u.jsx(li,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-green-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Balance"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency2(45750)}),u.jsxs("p",{className:"text-xs text-green-600 font-medium mt-2 flex items-center gap-1",children:[u.jsx(ha,{className:"h-3 w-3"}),"Available for withdrawal"]})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:u.jsx(Tl,{className:"h-6 w-6 text-green-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-blue-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Pending Commissions"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency2(125e3)}),u.jsx("p",{className:"text-xs text-blue-600 font-medium mt-2",children:"3 deals pending payout"})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(Qa,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-purple-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Upcoming Payouts"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency2(78500)}),u.jsx("p",{className:"text-xs text-purple-600 font-medium mt-2",children:"Next payout in 5 days"})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:u.jsx(Ea,{className:"h-6 w-6 text-purple-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-orange-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Earned This Month"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency2(156e3)}),u.jsxs("p",{className:"text-xs text-green-600 font-medium mt-2 flex items-center gap-1",children:[u.jsx(fl,{className:"h-3 w-3"}),"+23% from last month"]})]}),u.jsx("div",{className:"p-3 bg-orange-50 rounded-xl",children:u.jsx(ii,{className:"h-6 w-6 text-orange-600"})})]})})})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full max-w-2xl grid-cols-4 p-1 bg-white rounded-xl shadow-soft",children:[u.jsx(rf,{value:"overview",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Overview"}),u.jsx(rf,{value:"commissions",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Commissions"}),u.jsx(rf,{value:"transactions",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Transactions"}),u.jsx(rf,{value:"bonuses",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Bonuses"})]}),u.jsx(nf,{value:"commissions",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Commission Tracker"})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:m.map(e=>u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.property}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Client: ",e.client]})]}),u.jsx(Badge,{className:cn("paid"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:"paid"===e.status?"Paid":"Pending"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Sale Price"}),u.jsx("p",{className:"font-semibold text-gray-900",children:formatCurrency2(e.salePrice)})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-500",children:["Commission (",e.commissionRate,"%)"]}),u.jsx("p",{className:"font-semibold text-green-600",children:formatCurrency2(e.commission)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Date Closed"}),u.jsx("p",{className:"font-semibold text-gray-900",children:new Date(e.dateClosed).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Payout Date"}),u.jsx("p",{className:"font-semibold text-blue-600",children:new Date(e.payoutDate).toLocaleDateString()})]})]})]},e.id))})})]})}),u.jsx(nf,{value:"transactions",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Transaction History"})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-3",children:[{id:1,type:"commission",description:"Sandton Apartment Sale",amount:9e4,date:"2024-11-30",status:"completed"},{id:2,type:"bonus",description:"Top Performer Bonus - November",amount:15e3,date:"2024-11-30",status:"completed"},{id:3,type:"withdrawal",description:"Bank Transfer",amount:-5e4,date:"2024-11-28",status:"completed"}].map(e=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:cn("p-3 rounded-xl","commission"===e.type&&"bg-green-100","bonus"===e.type&&"bg-purple-100","withdrawal"===e.type&&"bg-blue-100"),children:["commission"===e.type&&u.jsx(ii,{className:"h-5 w-5 text-green-600"}),"bonus"===e.type&&u.jsx(fa,{className:"h-5 w-5 text-purple-600"}),"withdrawal"===e.type&&u.jsx(si,{className:"h-5 w-5 text-blue-600"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.description}),u.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:cn("font-bold text-lg",e.amount>0?"text-green-600":"text-red-600"),children:[e.amount>0?"+":"",formatCurrency2(e.amount)]}),u.jsx(Badge,{className:"bg-green-100 text-green-700 text-xs",children:e.status})]})]},e.id))})})]})}),u.jsx(nf,{value:"bonuses",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(fa,{className:"h-5 w-5 text-yellow-600"}),"Bonuses & Incentives"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:[{id:1,name:"Top Performer - Q4 2024",amount:25e3,status:"earned",date:"2024-12-31"},{id:2,name:"10 Listings Milestone",amount:1e4,status:"in_progress",progress:7,total:10}].map(e=>u.jsxs("div",{className:"p-5 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),"earned"===e.status&&u.jsxs("p",{className:"text-sm text-gray-500",children:["Payout: ",new Date(e.date).toLocaleDateString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:formatCurrency2(e.amount)}),"earned"===e.status?u.jsxs(Badge,{className:"bg-green-100 text-green-700 mt-1",children:[u.jsx(Ua,{className:"h-3 w-3 mr-1"}),"Earned"]}):u.jsx(Badge,{className:"bg-blue-100 text-blue-700 mt-1",children:"In Progress"})]})]}),"in_progress"===e.status&&e.progress&&e.total&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[e.progress," / ",e.total," listings"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:e.progress/e.total*100+"%"}})})]})]},e.id))})})]})}),u.jsx(nf,{value:"overview",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Recent Commissions"})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-3",children:m.slice(0,3).map(e=>u.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm text-gray-900",children:e.property}),u.jsx("p",{className:"text-xs text-gray-500",children:e.client})]}),u.jsx("p",{className:"font-bold text-green-600",children:formatCurrency2(e.commission)})]},e.id))})})]}),u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Wallet Actions"})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsxs(Button$1,{className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl justify-start",children:[u.jsx(si,{className:"h-4 w-4 mr-2"}),"Withdraw Funds"]}),u.jsxs(Button$1,{variant:"outline",className:"w-full rounded-xl justify-start",children:[u.jsx(li,{className:"h-4 w-4 mr-2"}),"Download Statement"]}),u.jsxs(Button$1,{variant:"outline",className:"w-full rounded-xl justify-start",children:[u.jsx(ol,{className:"h-4 w-4 mr-2"}),"View Earnings Goals"]})]})]})]})})]})]})]})]})}function MetricCard$2({title:e,value:s,change:a,icon:l,className:c}){return u.jsx(ea,{className:cn("shadow-soft hover:shadow-hover transition-all duration-200",c),children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s}),a&&u.jsxs("div",{className:"flex items-center gap-1",children:[a.positive?u.jsx(ha,{className:"h-4 w-4 text-green-600"}):u.jsx(da,{className:"h-4 w-4 text-red-600"}),u.jsx("span",{className:cn("text-sm font-medium",a.positive?"text-green-600":"text-red-600"),children:a.value})]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(l,{className:"h-6 w-6 text-blue-600"})})]})})})}function AgentAnalytics(){const{user:e}=useAuth(),[s,a]=re.useState("30d"),[l,c]=re.useState("overview"),{data:p,isLoading:m}=At.agent.getDashboardStats.useQuery();return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"sticky top-0 z-10 bg-white border-b border-gray-100 shadow-sm",children:u.jsx("div",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your performance and insights"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl p-1",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}].map(e=>u.jsx("button",{onClick:()=>a(e.value),className:cn("px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200",s===e.value?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:e.label},e.value))}),u.jsxs(Button$1,{variant:"outline",size:"sm",children:[u.jsx(li,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(MetricCard$2,{title:"Total Views",value:m?"":"12,458",change:{value:"+12.5%",positive:!0},icon:fi}),u.jsx(MetricCard$2,{title:"Leads Generated",value:m?"":p?.newLeadsThisWeek??0,change:{value:"+8.2%",positive:!0},icon:Cl}),u.jsx(MetricCard$2,{title:"Conversion Rate",value:"24.5%",change:{value:"+3.1%",positive:!0},icon:ol}),u.jsx(MetricCard$2,{title:"Revenue",value:"R 485K",change:{value:"+18.7%",positive:!0},icon:ii})]}),u.jsxs(ef,{value:l,onValueChange:c,children:[u.jsxs(tf,{className:"grid w-full grid-cols-4 p-1 bg-white rounded-xl shadow-soft",children:[u.jsx(rf,{value:"overview",className:"rounded-lg",children:"Overview"}),u.jsx(rf,{value:"listings",className:"rounded-lg",children:"Listings"}),u.jsx(rf,{value:"leads",className:"rounded-lg",children:"Leads"}),u.jsx(rf,{value:"revenue",className:"rounded-lg",children:"Revenue"})]}),u.jsxs(nf,{value:"overview",className:"space-y-6 mt-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-5 w-5 text-blue-600"}),"Performance Trends"]})}),u.jsx(sa,{children:u.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:u.jsxs("div",{className:"text-center text-gray-400",children:[u.jsx(Da,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),u.jsx("p",{className:"text-sm font-medium",children:"Chart visualization coming soon"}),u.jsx("p",{className:"text-xs mt-1",children:"Performance data over time"})]})})})]}),u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Cl,{className:"h-5 w-5 text-blue-600"}),"Lead Sources"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:[{source:"Website",count:45,percentage:35,color:"bg-blue-500"},{source:"Explore Feed",count:38,percentage:30,color:"bg-purple-500"},{source:"Agent Profile",count:25,percentage:20,color:"bg-green-500"},{source:"Referral",count:19,percentage:15,color:"bg-orange-500"}].map(e=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"font-medium text-gray-700",children:e.source}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-500",children:[e.count," leads"]}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[e.percentage,"%"]})]})]}),u.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:cn("h-full rounded-full",e.color),style:{width:`${e.percentage}%`}})})]},e.source))})})]})]}),u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(fl,{className:"h-5 w-5 text-blue-600"}),"Top Performing Listings"]})}),u.jsx(sa,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-100",children:[u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Property"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Views"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Leads"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Conversion"}),u.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"})]})}),u.jsx("tbody",{children:[{name:"3 Bed Apartment in Sandton",views:1245,leads:34,conversion:"2.7%",status:"Active"},{name:"Luxury Villa in Camps Bay",views:892,leads:28,conversion:"3.1%",status:"Active"},{name:"Modern Townhouse in Rosebank",views:765,leads:19,conversion:"2.5%",status:"Active"}].map((e,s)=>u.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4",children:u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:e.name})}),u.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:e.views.toLocaleString()}),u.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:e.leads}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"text-sm font-medium text-green-600",children:e.conversion})}),u.jsx("td",{className:"py-3 px-4",children:u.jsx(Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:e.status})})]},s))})]})})})]})]}),u.jsx(nf,{value:"listings",className:"space-y-6 mt-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Listing Performance Analytics"})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx(Bi,{className:"h-12 w-12 mx-auto mb-4 opacity-40"}),u.jsx("p",{className:"font-medium",children:"Detailed listing analytics coming soon"})]})})]})}),u.jsx(nf,{value:"leads",className:"space-y-6 mt-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Lead Funnel Analytics"})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx(Cl,{className:"h-12 w-12 mx-auto mb-4 opacity-40"}),u.jsx("p",{className:"font-medium",children:"Lead funnel visualization coming soon"})]})})]})}),u.jsx(nf,{value:"revenue",className:"space-y-6 mt-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Revenue Analytics"})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx(ii,{className:"h-12 w-12 mx-auto mb-4 opacity-40"}),u.jsx("p",{className:"font-medium",children:"Revenue breakdown coming soon"})]})})]})})]})]})]})}const GB=[{id:"month",label:"Month"},{id:"week",label:"Week"},{id:"day",label:"Day"}];function ShowingsCalendar({className:e}){const[s,a]=re.useState(new Date),[l,c]=re.useState("month"),[p,m]=re.useState(null),[h,f]=re.useState(""),[g,b]=re.useState(""),j=At.useUtils(),getDateRange=()=>{const e=new Date(s),a=new Date(s);switch(l){case"month":e.setDate(1),e.setDate(e.getDate()-e.getDay()),a.setMonth(a.getMonth()+1,0),a.setDate(a.getDate()+(6-a.getDay()));break;case"week":e.setDate(e.getDate()-e.getDay()),a.setDate(e.getDate()+6)}return{start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}},{data:N,isLoading:k}=At.agent.getMyShowings.useQuery({startDate:getDateRange().start,endDate:getDateRange().end,status:g||void 0}),_=At.agent.updateShowingStatus.useMutation({onSuccess:()=>{Gr.success("Showing status updated"),j.agent.getMyShowings.invalidate()},onError:e=>{Gr.error(e.message||"Failed to update showing status")}}),navigateDate=e=>{const c=new Date(s);switch(l){case"month":c.setMonth(s.getMonth()+("next"===e?1:-1));break;case"week":c.setDate(s.getDate()+("next"===e?7:-7));break;case"day":c.setDate(s.getDate()+("next"===e?1:-1))}a(c)},getShowingsForDate=e=>{if(!N)return[];const s=e.toISOString().split("T")[0];return N.filter(e=>new Date(e.scheduledAt).toISOString().split("T")[0]===s)},T=N?.filter(e=>!(h&&!e.property?.title?.toLowerCase().includes(h.toLowerCase())&&!e.client?.name?.toLowerCase().includes(h.toLowerCase())))||[],getStatusColor2=e=>{switch(e){case"requested":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return u.jsxs("div",{className:`space-y-4 ${e}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ea,{className:"h-6 w-6 text-primary"}),u.jsx("h2",{className:"text-2xl font-bold",children:"Showings Calendar"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search properties...",value:h,onChange:e=>f(e.target.value),className:"pl-10 w-64"})]}),u.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"px-3 py-1 border rounded text-sm",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"requested",children:"Requested"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"completed",children:"Completed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),u.jsx(ea,{children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>navigateDate("prev"),children:u.jsx(Ra,{className:"h-4 w-4"})}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>navigateDate("next"),children:u.jsx(Fa,{className:"h-4 w-4"})}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>{a(new Date)},children:"Today"})]}),u.jsx("h3",{className:"text-lg font-semibold",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric",..."week"===l&&{day:"numeric"}})}),u.jsx("div",{className:"flex gap-1",children:GB.map(e=>u.jsx(Button$1,{variant:l===e.id?"default":"outline",size:"sm",onClick:()=>c(e.id),children:e.label},e.id))})]})})}),"month"===l&&(()=>{const e=new Date(s.getFullYear(),s.getMonth(),1);new Date(s.getFullYear(),s.getMonth()+1,0);const a=new Date(e);a.setDate(a.getDate()-a.getDay());const l=[],c=new Date;for(let h=0;h<42;h++){const e=new Date(a);e.setDate(a.getDate()+h);const f=getShowingsForDate(e),g=e.getMonth()===s.getMonth(),b=e.toDateString()===c.toDateString(),j=p?.toDateString()===e.toDateString();l.push(u.jsxs("div",{className:`min-h-32 p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${g?"":"bg-gray-50 text-gray-400"} ${b?"bg-blue-50":""} ${j?"ring-2 ring-blue-500":""}`,onClick:()=>m(e),children:[u.jsx("div",{className:"text-sm font-medium mb-1 "+(b?"text-blue-600":""),children:e.getDate()}),u.jsxs("div",{className:"space-y-1",children:[f.slice(0,3).map(e=>u.jsxs("div",{className:`text-xs p-1 rounded truncate border ${getStatusColor2(e.status)}`,title:`${e.property?.title||"Property"} - ${new Date(e.scheduledAt).toLocaleTimeString()}`,children:[u.jsx("div",{className:"font-medium",children:new Date(e.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("div",{className:"truncate",children:e.property?.title||"Property"})]},e.id)),f.length>3&&u.jsxs("div",{className:"text-xs text-gray-500",children:["+",f.length-3," more"]})]})]},h))}return u.jsxs("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>u.jsx("div",{className:"bg-gray-100 p-3 text-center text-sm font-medium",children:e},e)),l]})})(),p&&(()=>{if(!p)return null;const e=getShowingsForDate(p);return 0===e.length?u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center text-muted-foreground",children:["No showings scheduled for ",p.toLocaleDateString()]})}):u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Ea,{className:"h-5 w-5"}),"Showings for ",p.toLocaleDateString()]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:e.map(e=>u.jsx(ShowingCard,{showing:e,onStatusUpdate:(e,s)=>_.mutate({showingId:e,status:s}),isUpdating:_.isPending},e.id))})})]})})(),!p&&T.length>0&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(ra,{children:["All Showings (",T.length,")"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:T.map(e=>u.jsx(ShowingCard,{showing:e,onStatusUpdate:(e,s)=>_.mutate({showingId:e,status:s}),isUpdating:_.isPending},e.id))})})]})]})}function ShowingCard({showing:e,onStatusUpdate:s,isUpdating:a}){return u.jsx(ea,{children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h4",{className:"font-semibold",children:e.property?.title||"Property Showing"}),u.jsx(Badge,{className:`${getStatusColor(e.status)}`,children:e.status})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qa,{className:"h-4 w-4"}),new Date(e.scheduledAt).toLocaleString()]}),e.property&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4"}),e.property.address,", ",e.property.city]})]}),e.client&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Cl,{className:"h-4 w-4"}),e.client.name]}),e.client.email&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(oo,{className:"h-4 w-4"}),e.client.email]}),e.client.phone&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Eo,{className:"h-4 w-4"}),e.client.phone]})]})]}),e.notes&&u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsx("strong",{children:"Notes:"})," ",e.notes]})]}),u.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:["requested"===e.status&&u.jsx(Button$1,{size:"sm",onClick:()=>s(e.id,"confirmed"),disabled:a,children:"Confirm"}),"confirmed"===e.status&&u.jsx(Button$1,{size:"sm",onClick:()=>s(e.id,"completed"),disabled:a,children:"Complete"}),("requested"===e.status||"confirmed"===e.status)&&u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>s(e.id,"cancelled"),disabled:a,children:"Cancel"})]})]})})})}function getStatusColor(e){switch(e){case"requested":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}function AgentProductivity(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState("tasks"),[m,h]=re.useState(!1),[f,g]=re.useState([{id:1,title:"Follow up with Sarah about offer",dueDate:"2024-12-02",priority:"high",completed:!1,category:"follow-up"},{id:2,title:"Upload new photos for Waterfront listing",dueDate:"2024-12-02",priority:"medium",completed:!0,category:"listing"},{id:3,title:"Prepare market analysis report",dueDate:"2024-12-03",priority:"high",completed:!1,category:"admin"},{id:4,title:"Schedule viewing for Sandton property",dueDate:"2024-12-02",priority:"low",completed:!0,category:"showing"},{id:5,title:"Send contract to John Smith",dueDate:"2024-12-04",priority:"high",completed:!1,category:"admin"},{id:6,title:"Update pricing on 3 listings",dueDate:"2024-12-05",priority:"medium",completed:!1,category:"listing"}]),b=[{id:1,title:"Call back Mike Davis",time:"2:00 PM Today",type:"call",priority:"high"},{id:2,title:"Send property brochure to Alice",time:"4:00 PM Today",type:"email",priority:"medium"},{id:3,title:"Property inspection follow-up",time:"Tomorrow 10:00 AM",type:"meeting",priority:"high"}],j=[{id:1,property:"Luxury Villa - Camps Bay",date:"2024-12-03",time:"10:00 AM",client:"John Smith",address:"123 Ocean View Drive, Camps Bay",status:"confirmed"},{id:2,property:"Modern Apartment - Sandton",date:"2024-12-03",time:"2:00 PM",client:"Sarah Williams",address:"45 Rivonia Road, Sandton",status:"confirmed"},{id:3,property:"Waterfront Penthouse",date:"2024-12-04",time:"11:30 AM",client:"Mike Davis",address:"78 Waterfront Drive, Cape Town",status:"pending"}];if(!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;const getPriorityColor=e=>{switch(e){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},getCategoryColor=e=>{switch(e){case"follow-up":return"bg-blue-100 text-blue-700";case"listing":return"bg-purple-100 text-purple-700";case"showing":return"bg-green-100 text-green-700";case"admin":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},N=f.filter(e=>e.completed).length,k=f.length,_=Math.round(N/k*100);return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Productivity"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Manage tasks, calendar, and follow-ups"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tasks Today"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.filter(e=>!e.completed).length}),u.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-2",children:[N," completed"]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(Ua,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Completion Rate"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[_,"%"]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full",style:{width:`${_}%`}})})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:u.jsx(Ua,{className:"h-6 w-6 text-green-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Upcoming Showings"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.length}),u.jsx("p",{className:"text-xs text-purple-600 font-medium mt-2",children:"Next: Today 10:00 AM"})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:u.jsx(lo,{className:"h-6 w-6 text-purple-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Reminders"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.length}),u.jsx("p",{className:"text-xs text-orange-600 font-medium mt-2",children:"Pending actions"})]}),u.jsx("div",{className:"p-3 bg-orange-50 rounded-xl",children:u.jsx(wa,{className:"h-6 w-6 text-orange-600"})})]})})})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full max-w-2xl grid-cols-4 p-1 bg-white rounded-xl shadow-soft",children:[u.jsx(rf,{value:"tasks",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Tasks"}),u.jsx(rf,{value:"calendar",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Calendar"}),u.jsx(rf,{value:"showings",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Showings"}),u.jsx(rf,{value:"reminders",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Reminders"})]}),u.jsx(nf,{value:"tasks",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between",children:[u.jsx(ra,{children:"Task Manager"}),u.jsxs(Button$1,{onClick:()=>h(!m),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),u.jsxs(sa,{className:"space-y-3",children:[m&&u.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl space-y-3 mb-4",children:[u.jsx(Input,{placeholder:"Task title...",className:"bg-white"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Input,{type:"date",className:"bg-white"}),u.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 bg-white",children:[u.jsx("option",{children:"Priority"}),u.jsx("option",{value:"high",children:"High"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"low",children:"Low"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{className:"flex-1 bg-blue-600 text-white",children:"Save Task"}),u.jsx(Button$1,{variant:"outline",onClick:()=>h(!1),children:"Cancel"})]})]}),f.map(e=>u.jsxs("div",{className:cn("flex items-center gap-4 p-4 rounded-xl transition-all duration-200",e.completed?"bg-gray-50":"bg-white border border-gray-200 hover:shadow-soft"),children:[u.jsx("button",{onClick:()=>{return s=e.id,void g(f.map(e=>e.id===s?{...e,completed:!e.completed}:e));var s},className:cn("h-6 w-6 rounded border-2 flex items-center justify-center flex-shrink-0 transition-all",e.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-blue-500"),children:e.completed&&u.jsx(Ua,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:cn("font-medium",e.completed?"text-gray-400 line-through":"text-gray-900"),children:e.title}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[u.jsx(Qa,{className:"h-3 w-3"}),new Date(e.dueDate).toLocaleDateString()]}),u.jsx(Badge,{className:cn("text-xs",getCategoryColor(e.category)),children:e.category})]})]}),u.jsx(Badge,{className:cn("text-xs",getPriorityColor(e.priority)),children:e.priority}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:bg-blue-50",children:u.jsx(rl,{className:"h-4 w-4"})}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-50",onClick:()=>{return s=e.id,void g(f.filter(e=>e.id!==s));var s},children:u.jsx(ul,{className:"h-4 w-4"})})]})]},e.id))]})]})}),u.jsx(nf,{value:"calendar",children:u.jsx(ShowingsCalendar,{})}),u.jsx(nf,{value:"showings",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Viewing Schedule"})}),u.jsx(sa,{className:"space-y-4",children:j.map(e=>u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.property}),u.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[u.jsx(lo,{className:"h-3 w-3"}),e.address]})]}),u.jsx(Badge,{className:"confirmed"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700",children:e.status})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Date"}),u.jsx("p",{className:"font-semibold text-gray-900",children:new Date(e.date).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Time"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.time})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Client"}),u.jsxs("p",{className:"font-semibold text-gray-900 flex items-center gap-1",children:[u.jsx(Sl,{className:"h-3 w-3"}),e.client]})]})]})]},e.id))})]})}),u.jsx(nf,{value:"reminders",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(wa,{className:"h-5 w-5 text-orange-600"}),"Follow-up Reminders"]})}),u.jsx(sa,{className:"space-y-3",children:b.map(e=>u.jsx("div",{className:"p-4 bg-orange-50 rounded-xl hover:bg-orange-100 transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 bg-orange-200 rounded-lg",children:u.jsx(Va,{className:"h-5 w-5 text-orange-700"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:e.title}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.time}),u.jsxs(Badge,{className:cn("mt-2 text-xs",getPriorityColor(e.priority)),children:[e.priority," priority"]})]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-600",children:u.jsx(Il,{className:"h-4 w-4"})})]})},e.id))})]})})]})]})]})]})}function AgentTrainingSupport(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),[c,p]=re.useState("academy"),[m,h]=re.useState(""),f=[{id:1,title:"Real Estate Fundamentals",description:"Master the basics of property sales",duration:"2.5 hours",progress:100,status:"completed",category:"Basics",lessons:12},{id:2,title:"Advanced Negotiation Skills",description:"Close deals with confidence",duration:"3 hours",progress:45,status:"in-progress",category:"Sales",lessons:15},{id:3,title:"Digital Marketing for Agents",description:"Boost your online presence",duration:"2 hours",progress:0,status:"not-started",category:"Marketing",lessons:10},{id:4,title:"Client Relationship Management",description:"Build lasting client relationships",duration:"1.5 hours",progress:0,status:"not-started",category:"CRM",lessons:8}],g=[{id:1,name:"Certified Real Estate Professional",earned:!0,earnedDate:"2024-10-15",validUntil:"2025-10-15",badge:""},{id:2,name:"Luxury Property Specialist",earned:!1,progress:75,requiredCourses:3,completedCourses:2,badge:""},{id:3,name:"Digital Marketing Expert",earned:!1,progress:30,requiredCourses:4,completedCourses:1,badge:""}],b=[{id:1,subject:"Unable to upload property photos",status:"open",priority:"high",createdAt:"2024-12-01",lastUpdate:"2024-12-01"},{id:2,subject:"Commission payment inquiry",status:"in-progress",priority:"medium",createdAt:"2024-11-28",lastUpdate:"2024-11-30"},{id:3,subject:"Question about listing approval process",status:"resolved",priority:"low",createdAt:"2024-11-25",lastUpdate:"2024-11-26"}];if(!l&&!s)return e("/login"),null;if(!l&&"agent"!==a?.role)return e("/dashboard"),null;const j=f.filter(e=>"completed"===e.status).length,N=g.filter(e=>e.earned).length,getStatusColor2=e=>{switch(e){case"completed":return"bg-green-100 text-green-700";case"in-progress":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},getTicketStatusColor=e=>{switch(e){case"open":return"bg-red-100 text-red-700";case"in-progress":return"bg-yellow-100 text-yellow-700";case"resolved":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return u.jsxs("div",{className:"flex min-h-screen bg-[#F4F7FA]",children:[u.jsx(AgentSidebar,{}),u.jsxs(Sheet,{children:[u.jsx(SheetTrigger,{asChild:!0,className:"lg:hidden fixed top-4 left-4 z-50",children:u.jsx(Button$1,{variant:"ghost",size:"icon",children:u.jsx(fo,{className:"h-6 w-6"})})}),u.jsx(SheetContent,{side:"left",className:"w-64 p-0",children:u.jsx(AgentSidebar,{})})]}),u.jsxs("div",{className:"flex-1 lg:pl-64",children:[u.jsx(AgentTopNav,{}),u.jsxs("main",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Training & Support"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Learn, grow, and get help when you need it"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-blue-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Courses Completed"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j}),u.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-2",children:["of ",f.length," total"]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:u.jsx(Na,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-yellow-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Certifications"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N}),u.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-2",children:"Earned"})]}),u.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl",children:u.jsx(fa,{className:"h-6 w-6 text-yellow-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-purple-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Learning Hours"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12.5"}),u.jsx("p",{className:"text-xs text-purple-600 font-medium mt-2",children:"This month"})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:u.jsx(Qa,{className:"h-6 w-6 text-purple-600"})})]})})}),u.jsx(ea,{className:"shadow-soft hover:shadow-hover transition-all duration-300 border-l-4 border-l-green-500",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Support Tickets"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.filter(e=>"resolved"!==e.status).length}),u.jsx("p",{className:"text-xs text-green-600 font-medium mt-2",children:"Active"})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:u.jsx(go,{className:"h-6 w-6 text-green-600"})})]})})})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full max-w-3xl grid-cols-4 p-1 bg-white rounded-xl shadow-soft",children:[u.jsx(rf,{value:"academy",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Academy"}),u.jsx(rf,{value:"certifications",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Certifications"}),u.jsx(rf,{value:"help",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Help Center"}),u.jsx(rf,{value:"support",className:"rounded-lg data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700",children:"Support"})]}),u.jsx(nf,{value:"academy",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-5 w-5 text-blue-600"}),"Training Courses"]}),u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(Input,{placeholder:"Search courses...",className:"pl-10 w-64 rounded-xl",value:m,onChange:e=>h(e.target.value)})]})]})}),u.jsx(sa,{className:"space-y-4",children:f.map(e=>u.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Badge,{className:"bg-blue-100 text-blue-700 text-xs",children:e.category}),u.jsx(Badge,{className:cn("text-xs",getStatusColor2(e.status)),children:e.status.replace("-"," ")})]}),u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(kl,{className:"h-3 w-3"}),e.lessons," lessons"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Qa,{className:"h-3 w-3"}),e.duration]})]})]}),u.jsx(Button$1,{variant:"not-started"===e.status?"default":"outline",size:"sm",className:"ml-4 rounded-lg",children:"completed"===e.status?u.jsxs(u.Fragment,{children:[u.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Review"]}):"in-progress"===e.status?u.jsxs(u.Fragment,{children:["Continue",u.jsx(Fa,{className:"h-4 w-4 ml-1"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Start Course"]})})]}),e.progress>0&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[e.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:cn("h-2 rounded-full transition-all",100===e.progress?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-blue-600"),style:{width:`${e.progress}%`}})})]})]},e.id))})]})}),u.jsx(nf,{value:"certifications",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(xl,{className:"h-5 w-5 text-yellow-600"}),"Certifications & Achievements"]})}),u.jsx(sa,{className:"space-y-4",children:g.map(e=>u.jsx("div",{className:cn("p-5 rounded-xl",e.earned?"bg-gradient-to-r from-yellow-50 to-orange-50":"bg-gray-50"),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"text-4xl",children:e.badge}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),e.earned?u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Earned on ",new Date(e.earnedDate).toLocaleDateString()]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Valid until ",new Date(e.validUntil).toLocaleDateString()]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Complete ",e.requiredCourses," required courses to earn this certification"]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-gray-600",children:[e.completedCourses," of ",e.requiredCourses," courses"]}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[e.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-2 rounded-full",style:{width:`${e.progress}%`}})})]})]})]})]}),e.earned&&u.jsxs(Badge,{className:"bg-green-100 text-green-700",children:[u.jsx(sl,{className:"h-3 w-3 mr-1"}),"Certified"]})]})},e.id))})]})}),u.jsx(nf,{value:"help",className:"space-y-4",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(qa,{className:"h-5 w-5 text-blue-600"}),"Frequently Asked Questions"]})}),u.jsx(sa,{className:"space-y-3",children:[{id:1,category:"Listings",question:"How do I create a new listing?",answer:'Navigate to the Listings page and click "Add New Listing". Follow the wizard to enter property details, upload photos, and publish.'},{id:2,category:"Commissions",question:"When will I receive my commission?",answer:"Commissions are typically paid 7-10 business days after the deal closes and all paperwork is completed."},{id:3,category:"Marketing",question:"How do I upload videos to Explore?",answer:'Go to Marketing Hub > Explore Feed and click "Upload New Video". You can upload vertical videos up to 60 seconds.'},{id:4,category:"Account",question:"How do I update my profile information?",answer:"Visit Settings > Profile to update your personal information, profile photo, and contact details."}].map(e=>u.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:u.jsx(qa,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx(Badge,{className:"bg-blue-100 text-blue-700 text-xs",children:e.category})}),u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:e.question}),u.jsx("p",{className:"text-sm text-gray-600",children:e.answer})]})]})},e.id))})]})}),u.jsxs(nf,{value:"support",className:"space-y-4",children:[u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ra,{children:"Support Tickets"}),u.jsxs(Button$1,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl",children:[u.jsx(go,{className:"h-4 w-4 mr-2"}),"New Ticket"]})]})}),u.jsx(sa,{className:"space-y-3",children:b.map(e=>u.jsx("div",{className:"p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.subject}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",new Date(e.createdAt).toLocaleDateString(),"  Last update"," ",new Date(e.lastUpdate).toLocaleDateString()]})]}),u.jsx(Badge,{className:cn("text-xs",getTicketStatusColor(e.status)),children:e.status.replace("-"," ")})]})},e.id))})]}),u.jsx(ea,{className:"shadow-soft bg-gradient-to-r from-blue-50 to-purple-50",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:u.jsx(go,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Need immediate help?"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Our support team is available 24/7 to assist you"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{variant:"outline",size:"sm",className:"rounded-lg",children:"Live Chat"}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"rounded-lg",children:"Email Support"})]})]})]})})})]})]})]})]})]})}var YB="Switch",[QB]=createContextScope(YB),[XB,JB]=QB(YB),ez=re.forwardRef((e,s)=>{const{__scopeSwitch:a,name:l,checked:c,defaultChecked:p,required:m,disabled:h,value:f="on",onCheckedChange:g,form:b,...j}=e,[N,k]=re.useState(null),_=useComposedRefs$1(s,e=>k(e)),T=re.useRef(!1),E=!N||(b||!!N.closest("form")),[A,L]=useControllableState({prop:c,defaultProp:p??!1,onChange:g,caller:YB});return u.jsxs(XB,{scope:a,checked:A,disabled:h,children:[u.jsx(tn.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":getState(A),"data-disabled":h?"":void 0,disabled:h,value:f,...j,ref:_,onClick:composeEventHandlers(e.onClick,e=>{L(e=>!e),E&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),E&&u.jsx(nz,{control:N,bubbles:!T.current,name:l,value:f,checked:A,required:m,disabled:h,form:b,style:{transform:"translateX(-100%)"}})]})});ez.displayName=YB;var tz="SwitchThumb",rz=re.forwardRef((e,s)=>{const{__scopeSwitch:a,...l}=e,c=JB(tz,a);return u.jsx(tn.span,{"data-state":getState(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:s})});rz.displayName=tz;var nz=re.forwardRef(({__scopeSwitch:e,control:s,checked:a,bubbles:l=!0,...c},p)=>{const m=re.useRef(null),h=useComposedRefs$1(m,p),f=usePrevious$1(a),g=useSize(s);return re.useEffect(()=>{const e=m.current;if(!e)return;const s=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(s,"checked").set;if(f!==a&&c){const s=new Event("click",{bubbles:l});c.call(e,a),e.dispatchEvent(s)}},[f,a,l]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...c,tabIndex:-1,ref:h,style:{...c.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function getState(e){return e?"checked":"unchecked"}nz.displayName="SwitchBubbleInput";var sz=ez,az=rz;function Switch({className:e,...s}){return u.jsx(sz,{"data-slot":"switch",className:cn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:u.jsx(az,{"data-slot":"switch-thumb",className:cn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AgentSettings(){const{user:e}=useAuth(),[s,a]=re.useState("profile"),[l,c]=re.useState(!1),[p,m]=re.useState({name:e?.name||"",email:e?.email||"",phone:"",bio:"",location:""}),[h,f]=re.useState({emailLeads:!0,emailShowings:!0,emailCommissions:!0,pushLeads:!0,pushShowings:!1,pushCommissions:!0,smsShowings:!0});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"sticky top-0 z-10 bg-white border-b border-gray-100 shadow-sm",children:u.jsx("div",{className:"px-6 py-4",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your account and preferences"})]})})})}),u.jsx("main",{className:"p-6 max-w-[1200px] mx-auto",children:u.jsxs(ef,{value:s,onValueChange:a,children:[u.jsxs(tf,{className:"grid w-full grid-cols-5 p-1 bg-white rounded-xl shadow-soft mb-6",children:[u.jsx(rf,{value:"profile",className:"rounded-lg",children:"Profile"}),u.jsx(rf,{value:"notifications",className:"rounded-lg",children:"Notifications"}),u.jsx(rf,{value:"security",className:"rounded-lg",children:"Security"}),u.jsx(rf,{value:"billing",className:"rounded-lg",children:"Billing"}),u.jsx(rf,{value:"integrations",className:"rounded-lg",children:"Integrations"})]}),u.jsx(nf,{value:"profile",className:"space-y-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Sl,{className:"h-5 w-5 text-blue-600"}),"Personal Information"]})}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-soft",children:u.jsx("span",{className:"text-2xl font-semibold text-white",children:e?.name?.charAt(0)||"A"})}),u.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-soft hover:shadow-hover transition-all",children:u.jsx(Aa,{className:"h-4 w-4 text-gray-600"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Photo"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a professional photo to build trust with clients"}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"mt-3",children:"Change Photo"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"name",children:"Full Name"}),u.jsx(Input,{id:"name",value:p.name,onChange:e=>m({...p,name:e.target.value}),placeholder:"Enter your full name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"email",children:"Email Address"}),u.jsx(Input,{id:"email",type:"email",value:p.email,onChange:e=>m({...p,email:e.target.value}),placeholder:"your.email@example.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"phone",children:"Phone Number"}),u.jsx(Input,{id:"phone",type:"tel",value:p.phone,onChange:e=>m({...p,phone:e.target.value}),placeholder:"+27 12 345 6789"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"location",children:"Location"}),u.jsx(Input,{id:"location",value:p.location,onChange:e=>m({...p,location:e.target.value}),placeholder:"City, Province"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"bio",children:"Bio"}),u.jsx("textarea",{id:"bio",value:p.bio,onChange:e=>m({...p,bio:e.target.value}),placeholder:"Tell clients about yourself and your expertise...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[120px]"})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[u.jsx(Button$1,{variant:"outline",children:"Cancel"}),u.jsxs(Button$1,{onClick:()=>{Gr.success("Profile updated successfully")},children:[u.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}),u.jsx(nf,{value:"notifications",className:"space-y-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(wa,{className:"h-5 w-5 text-blue-600"}),"Notification Preferences"]})}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(oo,{className:"h-5 w-5 text-gray-600"}),"Email Notifications"]}),u.jsx("div",{className:"space-y-4",children:[{key:"emailLeads",label:"New Leads",description:"Get notified when you receive new leads"},{key:"emailShowings",label:"Showing Requests",description:"Notifications for new showing requests"},{key:"emailCommissions",label:"Commission Updates",description:"Updates on commission status changes"}].map(e=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:e.label}),u.jsx("p",{className:"text-sm text-gray-500",children:e.description})]}),u.jsx(Switch,{checked:h[e.key],onCheckedChange:s=>f({...h,[e.key]:s})})]},e.key))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Xo,{className:"h-5 w-5 text-gray-600"}),"Push Notifications"]}),u.jsx("div",{className:"space-y-4",children:[{key:"pushLeads",label:"New Leads",description:"Real-time lead notifications"},{key:"pushShowings",label:"Showing Reminders",description:"15 min before scheduled showings"},{key:"pushCommissions",label:"Commission Alerts",description:"Payment and approval notifications"}].map(e=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:e.label}),u.jsx("p",{className:"text-sm text-gray-500",children:e.description})]}),u.jsx(Switch,{checked:h[e.key],onCheckedChange:s=>f({...h,[e.key]:s})})]},e.key))})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100",children:[u.jsx(Button$1,{variant:"outline",children:"Reset to Default"}),u.jsxs(Button$1,{onClick:()=>{Gr.success("Notification preferences saved")},children:[u.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})]})]})]})}),u.jsx(nf,{value:"security",className:"space-y-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Ko,{className:"h-5 w-5 text-blue-600"}),"Security Settings"]})}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(ao,{className:"h-5 w-5 text-gray-600"}),"Change Password"]}),u.jsxs("div",{className:"space-y-4 max-w-md",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"current-password",children:"Current Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Input,{id:"current-password",type:l?"text":"password",placeholder:"Enter current password"}),u.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?u.jsx(hi,{className:"h-4 w-4"}):u.jsx(fi,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"new-password",children:"New Password"}),u.jsx(Input,{id:"new-password",type:l?"text":"password",placeholder:"Enter new password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"confirm-password",children:"Confirm New Password"}),u.jsx(Input,{id:"confirm-password",type:l?"text":"password",placeholder:"Confirm new password"})]}),u.jsx(Button$1,{className:"w-full",children:"Update Password"})]})]}),u.jsx("div",{className:"pt-6 border-t border-gray-100",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-1",children:[u.jsx(Hi,{className:"h-5 w-5 text-gray-600"}),"Two-Factor Authentication"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),u.jsx(Button$1,{variant:"outline",children:"Enable 2FA"})]})})]})]})}),u.jsx(nf,{value:"billing",className:"space-y-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(si,{className:"h-5 w-5 text-blue-600"}),"Billing & Subscription"]})}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx(si,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),u.jsx("p",{className:"font-medium",children:"Subscription management coming soon"})]})})]})}),u.jsx(nf,{value:"integrations",className:"space-y-6",children:u.jsxs(ea,{className:"shadow-soft",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Xi,{className:"h-5 w-5 text-blue-600"}),"Connected Integrations"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:[{name:"Google Calendar",description:"Sync your showings and appointments",connected:!0},{name:"WhatsApp Business",description:"Send automated messages to clients",connected:!1},{name:"Zapier",description:"Connect to 1000+ apps",connected:!1}].map(e=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:u.jsx(Ai,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:e.name}),u.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]}),e.connected?u.jsx(Button$1,{variant:"outline",size:"sm",children:"Disconnect"}):u.jsx(Button$1,{size:"sm",children:"Connect"})]},e.name))})})]})})]})})]})}const iz=["Residential Sales","Commercial Sales","Luxury Properties","First-Time Buyers","Investment Properties","Rentals","Property Management","Land & Farms"];function AgentSetupWizard(){const[,e]=useLocation(),[s,a]=re.useState(1),[l,c]=re.useState({displayName:"",phoneNumber:"",bio:"",profilePhoto:"",licenseNumber:"",specializations:[]}),p=At.agent.createProfile.useMutation({onSuccess:()=>{e("/agent/dashboard")},onError:e=>{alert("Failed to create profile: "+e.message)}});return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:u.jsxs(ea,{className:"w-full max-w-2xl shadow-xl",children:[u.jsxs(ta,{className:"text-center",children:[u.jsx(ra,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Complete Your Agent Profile"}),u.jsxs(na,{className:"text-base",children:["Step ",s," of 3 - Let's set up your professional profile"]})]}),u.jsxs(sa,{className:"space-y-6",children:[1===s&&u.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"displayName",className:"flex items-center gap-2",children:[u.jsx(Sl,{className:"h-4 w-4"}),"Display Name *"]}),u.jsx(Input,{id:"displayName",placeholder:"e.g., John Smith",value:l.displayName,onChange:e=>c({...l,displayName:e.target.value}),className:"text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"phoneNumber",className:"flex items-center gap-2",children:[u.jsx(Eo,{className:"h-4 w-4"}),"Phone Number *"]}),u.jsx(Input,{id:"phoneNumber",type:"tel",placeholder:"e.g., +27 12 345 6789",value:l.phoneNumber,onChange:e=>c({...l,phoneNumber:e.target.value}),className:"text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"licenseNumber",className:"flex items-center gap-2",children:[u.jsx(fa,{className:"h-4 w-4"}),"License Number (Optional)"]}),u.jsx(Input,{id:"licenseNumber",placeholder:"e.g., FFC1234567",value:l.licenseNumber,onChange:e=>c({...l,licenseNumber:e.target.value}),className:"text-base"})]})]}),2===s&&u.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"bio",className:"flex items-center gap-2",children:[u.jsx(wi,{className:"h-4 w-4"}),"Professional Bio (Optional)"]}),u.jsx(Textarea,{id:"bio",placeholder:"Tell us about your experience and expertise...",value:l.bio,onChange:e=>c({...l,bio:e.target.value}),rows:5,className:"text-base resize-none",maxLength:1e3}),u.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[l.bio.length,"/1000 characters"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(Ca,{className:"h-4 w-4"}),"Specializations (Optional)"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:iz.map(e=>u.jsx("button",{type:"button",onClick:()=>(e=>{c(s=>({...s,specializations:s.specializations.includes(e)?s.specializations.filter(s=>s!==e):[...s.specializations,e]}))})(e),className:"px-3 py-2 rounded-lg border text-sm transition-all "+(l.specializations.includes(e)?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-200 hover:border-gray-300"),children:e},e))})]})]}),3===s&&u.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(yl,{className:"h-4 w-4"}),"Profile Photo (Optional)"]}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[u.jsx(yl,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Photo upload coming soon"}),u.jsx("p",{className:"text-xs text-gray-500",children:"For now, you can skip this step and add a photo later"})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Ready to get started!"}),u.jsx("p",{className:"text-sm text-blue-700",children:'Click "Complete Setup" to finish creating your agent profile and access your dashboard.'})]})]}),u.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s>1&&u.jsxs(Button$1,{variant:"outline",onClick:()=>a(s-1),className:"gap-2",children:[u.jsx(ua,{className:"h-4 w-4"}),"Back"]}),s<3?u.jsxs(Button$1,{onClick:()=>a(s+1),disabled:!(1!==s||l.displayName.length>=2&&l.phoneNumber.length>=10),className:"ml-auto gap-2",children:["Next",u.jsx(pa,{className:"h-4 w-4"})]}):u.jsx(Button$1,{onClick:()=>{p.mutate(l)},disabled:p.isLoading,className:"ml-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:p.isLoading?"Creating...":"Complete Setup"})]})]})]})})}function AgentSetup(){return u.jsx(AgentSetupWizard,{})}const GlassCard=({children:e,className:s,hover:a=!1})=>u.jsx("div",{className:cn("bg-white/70 backdrop-blur-xl rounded-[2rem] border border-white/40","shadow-[0_20px_50px_rgba(8,_112,_184,_0.07)]",a&&"transition-all duration-300 hover:shadow-[0_25px_60px_rgba(8,_112,_184,_0.12)] hover:-translate-y-1",s),children:e});function Table({className:e,...s}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:cn("w-full caption-bottom text-sm",e),...s})})}function TableHeader({className:e,...s}){return u.jsx("thead",{"data-slot":"table-header",className:cn("[&_tr]:border-b",e),...s})}function TableBody({className:e,...s}){return u.jsx("tbody",{"data-slot":"table-body",className:cn("[&_tr:last-child]:border-0",e),...s})}function TableRow({className:e,...s}){return u.jsx("tr",{"data-slot":"table-row",className:cn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function TableHead({className:e,...s}){return u.jsx("th",{"data-slot":"table-head",className:cn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function TableCell({className:e,...s}){return u.jsx("td",{"data-slot":"table-cell",className:cn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function ListingOversight(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),[l,c]=re.useState(""),[p,m]=re.useState("all"),[h,f]=re.useState(null),[g,b]=re.useState(""),[j,N]=re.useState(!1),[k,_]=re.useState(!1),[T,E]=re.useState(null),[A,L]=re.useState(1),{data:O,isLoading:I,refetch:$}=At.listing.getApprovalQueue.useQuery({status:"all"!==p?p:void 0}),z=O?O.slice(20*(A-1),20*A):[],U=O?Math.ceil(O.length/20):1,H=At.listing.approve.useMutation({onSuccess:()=>{Gr.success("Property approved successfully"),$(),N(!1),f(null),b("")},onError:e=>{Gr.error(e.message||"Failed to approve property")}}),q=At.listing.reject.useMutation({onSuccess:()=>{Gr.success("Property rejected successfully"),$(),N(!1),f(null),b("")},onError:e=>{Gr.error(e.message||"Failed to reject property")}}),Z=At.listing.delete.useMutation({onSuccess:()=>{Gr.success("Property deleted successfully"),$(),_(!1),E(null)},onError:e=>{Gr.error(e.message||"Failed to delete property")}});if(!a||"super_admin"!==s?.role)return e("/login"),null;const getStatusBadgeVariant=e=>{switch(e){case"available":return"default";case"pending":return"secondary";case"sold":case"rented":default:return"outline";case"archived":return"destructive"}},handleDelete=e=>{E(e),_(!0)},getActionButton=s=>"pending"===s.status?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white flex-1",onClick:a=>{a.stopPropagation(),e(`/admin/review/${s.id}`)},children:[u.jsx(fi,{className:"h-3 w-3 mr-2"}),"Review"]}),u.jsx(Button$1,{size:"sm",variant:"destructive",onClick:e=>{e.stopPropagation(),handleDelete(s)},children:u.jsx(ul,{className:"h-3 w-3"})})]}):u.jsxs(Button$1,{size:"sm",variant:"destructive",onClick:e=>{e.stopPropagation(),handleDelete(s)},children:[u.jsx(ul,{className:"h-3 w-3 mr-2"}),"Delete"]});return u.jsxs("div",{className:"min-h-screen bg-transparent",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/admin/dashboard"),children:u.jsx(ua,{className:"h-4 w-4"})}),u.jsx(fi,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Listing Approvals"}),u.jsx("p",{className:"text-muted-foreground",children:"Review and moderate property listings"})]})]})}),u.jsx(GlassCard,{className:"mb-6 border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:u.jsx(sa,{className:"pt-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search by title or address...",value:l,onChange:e=>c(e.target.value),className:"pl-10 bg-white/50 border-slate-200 focus:bg-white transition-all"})]}),u.jsxs(Select$1,{value:p,onValueChange:m,children:[u.jsx(SelectTrigger,{className:"bg-white/50 border-slate-200 focus:bg-white transition-all",children:u.jsx(SelectValue,{placeholder:"Filter by status..."})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Statuses"}),u.jsx(SelectItem,{value:"available",children:"Available"}),u.jsx(SelectItem,{value:"pending",children:"Pending"}),u.jsx(SelectItem,{value:"sold",children:"Sold"}),u.jsx(SelectItem,{value:"rented",children:"Rented"}),u.jsx(SelectItem,{value:"archived",children:"Archived"})]})]}),u.jsxs(Button$1,{variant:"outline",className:"flex items-center gap-2 bg-white/50 hover:bg-white",children:[u.jsx(Si,{className:"h-4 w-4"}),"Advanced Filters"]})]})})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Total Listings"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-slate-800",children:O?.length||0})})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-orange-600",children:O?.filter(e=>"pending"===e.status).length||0})})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-green-600",children:O?.filter(e=>"approved"===e.status).length||0})})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-red-600",children:O?.filter(e=>"rejected"===e.status).length||0})})]})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)]",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"Property Listings"})}),u.jsx(sa,{children:I?u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading properties..."}):z?.length?u.jsxs(u.Fragment,{children:[u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{className:"hover:bg-transparent border-slate-200",children:[u.jsx(TableHead,{className:"text-slate-500",children:"Property"}),u.jsx(TableHead,{className:"text-slate-500",children:"Type"}),u.jsx(TableHead,{className:"text-slate-500",children:"Action"}),u.jsx(TableHead,{className:"text-slate-500",children:"Status"}),u.jsx(TableHead,{className:"text-slate-500",children:"Submitted"}),u.jsx(TableHead,{className:"text-slate-500",children:"Actions"})]})}),u.jsx(TableBody,{children:z.map(e=>u.jsxs(TableRow,{className:"hover:bg-white/40 border-slate-100 transition-colors",children:[u.jsx(TableCell,{children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-700",children:e.listingTitle}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Submitted by User #",e.submittedBy]})]})}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",children:e.listingPropertyType})}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"secondary",children:e.listingAction})}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:getStatusBadgeVariant(e.status),children:e.status})}),u.jsx(TableCell,{className:"text-slate-600",children:new Date(e.submittedAt).toLocaleDateString()}),u.jsx(TableCell,{children:getActionButton(e)})]},e.id))})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>L(e=>Math.max(1,e-1)),disabled:1===A,className:"bg-white/50 hover:bg-white",children:"Previous"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",A," of ",U]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>L(e=>e+1),disabled:A>=U,className:"bg-white/50 hover:bg-white",children:"Next"})]})]}):u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No properties found."})})]}),u.jsx(Dialog,{open:j,onOpenChange:N,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{children:["approve"===h?.action&&"Approve Property Listing","reject"===h?.action&&"Reject Property Listing"]}),u.jsx(DialogDescription,{children:h?.listingTitle})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Reason (Optional)"}),u.jsx(Textarea,{placeholder:"Provide a reason for this action...",value:g,onChange:e=>b(e.target.value)})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{h&&("approve"===h.action?H.mutate({listingId:h.listingId,notes:g}):"reject"===h.action&&q.mutate({listingId:h.listingId,reason:g}))},disabled:H.isPending||q.isPending,variant:"reject"===h?.action?"destructive":"default",children:H.isPending||q.isPending?"Processing...":u.jsxs(u.Fragment,{children:["approve"===h?.action&&"Approve","reject"===h?.action&&"Reject"]})})]})]})]})}),u.jsx(Dialog,{open:k,onOpenChange:_,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Delete Property Listing"}),u.jsxs(DialogDescription,{children:['Are you sure you want to delete "',T?.listingTitle,'"? This action cannot be undone.']})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{T&&Z.mutate({id:T.id})},disabled:Z.isPending,variant:"destructive",children:Z.isPending?"Deleting...":"Delete"})]})]})})]})]})}function InviteAgents(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),[l,c]=re.useState(!1),[p,m]=re.useState(""),[h,f]=re.useState("agent"),[g,b]=re.useState(null),{data:j,isLoading:N,refetch:k}=At.invitation.list.useQuery(),_=At.invitation.create.useMutation({onSuccess:e=>{Gr.success("Invitation sent successfully!"),m(""),f("agent"),c(!1),k()},onError:e=>{Gr.error(e.message||"Failed to send invitation")}}),T=At.invitation.cancel.useMutation({onSuccess:()=>{Gr.success("Invitation cancelled"),k()},onError:e=>{Gr.error(e.message||"Failed to cancel invitation")}}),E=At.invitation.resend.useMutation({onSuccess:()=>{Gr.success("Invitation resent with new link"),k()},onError:e=>{Gr.error(e.message||"Failed to resend invitation")}});if(!a||"agency_admin"!==s?.role&&"super_admin"!==s?.role)return e("/login"),null;const getStatusBadgeVariant=e=>{switch(e){case"pending":return"default";case"accepted":return"secondary";case"expired":default:return"outline";case"cancelled":return"destructive"}};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wl,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Invite Agents"}),u.jsx("p",{className:"text-muted-foreground",children:"Send invitations to agents to join your agency"})]})]}),u.jsxs(Dialog,{open:l,onOpenChange:c,children:[u.jsx(DialogTrigger,{asChild:!0,children:u.jsxs(Button$1,{children:[u.jsx(oo,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})}),u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Invite Agent"}),u.jsx(DialogDescription,{children:"Send an invitation email to a new agent to join your agency"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),u.jsx(Input,{id:"email",type:"email",placeholder:"agent@example.com",value:p,onChange:e=>m(e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"role",className:"text-sm font-medium",children:"Role"}),u.jsxs(Select$1,{value:h,onValueChange:e=>f(e),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"agent",children:"Agent"}),u.jsx(SelectItem,{value:"agency_admin",children:"Agency Admin"})]})]})]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>c(!1),disabled:_.isPending,children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{p?_.mutate({email:p,role:h}):Gr.error("Please enter an email address")},disabled:_.isPending,children:_.isPending?"Sending...":"Send Invitation"})]})]})]})]}),j&&u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Total Invitations"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold",children:j.length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.filter(e=>"pending"===e.status).length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Accepted"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.filter(e=>"accepted"===e.status).length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Expired"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-gray-600",children:j.filter(e=>"expired"===e.status).length})})]})]}),N?u.jsx(ea,{children:u.jsx(sa,{className:"py-12 text-center text-muted-foreground",children:"Loading invitations..."})}):j?.length?u.jsx("div",{className:"space-y-4",children:j.map(e=>{return u.jsx(ea,{children:u.jsx(sa,{className:"pt-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"font-semibold",children:e.email}),u.jsx(Badge,{variant:(s=e.role,"agency_admin"===s?"default":"secondary"),children:e.role}),u.jsx(Badge,{variant:getStatusBadgeVariant(e.status),children:e.status})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ea,{className:"h-3 w-3"}),"Sent: ",new Date(e.createdAt).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ea,{className:"h-3 w-3"}),"Expires: ",new Date(e.expiresAt).toLocaleDateString()]})]}),"pending"===e.status&&u.jsx("div",{className:"mt-2",children:u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>(e=>{const s=`${window.location.origin}/accept-invitation?token=${e}`;navigator.clipboard.writeText(s),b(e),Gr.success("Invitation link copied to clipboard!"),setTimeout(()=>b(null),2e3)})(e.token),children:g===e.token?u.jsxs(u.Fragment,{children:[u.jsx(Ia,{className:"mr-2 h-3 w-3"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(ni,{className:"mr-2 h-3 w-3"}),"Copy Invitation Link"]})})})]}),"pending"===e.status&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>{return s=e.id,void E.mutate({invitationId:s});var s},disabled:E.isPending,children:[u.jsx(Oo,{className:"mr-2 h-3 w-3"}),"Resend"]}),u.jsxs(Button$1,{variant:"destructive",size:"sm",onClick:()=>{return s=e.id,void(confirm("Are you sure you want to cancel this invitation?")&&T.mutate({invitationId:s}));var s},disabled:T.isPending,children:[u.jsx(Il,{className:"mr-2 h-3 w-3"}),"Cancel"]})]})]})})},e.id);var s})}):u.jsx(ea,{children:u.jsxs(sa,{className:"py-12 text-center text-muted-foreground",children:[u.jsx(wl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No invitations sent yet."}),u.jsx("p",{className:"text-sm mt-2",children:'Click "Send Invitation" to invite your first agent.'})]})})]})]})}function AgentManagement(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),[l,c]=re.useState(null),[p,m]=re.useState(null),{data:h,isLoading:f,refetch:g}=At.agency.listAgents.useQuery(),b=At.agency.updateAgentRole.useMutation({onSuccess:()=>{Gr.success("Agent role updated successfully"),c(null),g()},onError:e=>{Gr.error(e.message||"Failed to update agent role")}}),j=At.agency.removeAgent.useMutation({onSuccess:()=>{Gr.success("Agent removed from agency"),m(null),g()},onError:e=>{Gr.error(e.message||"Failed to remove agent")}});if(!a||"agency_admin"!==s?.role)return e("/login"),null;const getRoleBadgeVariant=e=>{switch(e){case"agency_admin":return"default";case"agent":return"secondary";default:return"outline"}};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/agency/dashboard"),children:u.jsx(ua,{className:"h-4 w-4"})}),u.jsx(Cl,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Agent Management"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your agency team members"})]})]}),u.jsxs(Button$1,{onClick:()=>e("/agency/invite"),children:[u.jsx(oo,{className:"mr-2 h-4 w-4"}),"Invite New Agent"]})]}),h&&u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Total Agents"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold",children:h.length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Agency Admins"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.filter(e=>"agency_admin"===e.role).length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Agents"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.filter(e=>"agent"===e.role).length})})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsx(ra,{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.filter(e=>e.agentProfile).length})})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Team Members"})}),u.jsx(sa,{children:f?u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading agents..."}):h?.length?u.jsx("div",{className:"space-y-4",children:h.map(e=>u.jsx(ea,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:u.jsx(bl,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"font-semibold",children:e.name||e.firstName||e.email}),u.jsx(Badge,{variant:getRoleBadgeVariant(e.role),children:e.role.replace("_"," ")})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(oo,{className:"h-3 w-3"}),e.email]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ea,{className:"h-3 w-3"}),"Joined ",new Date(e.createdAt).toLocaleDateString()]})]}),e.agentProfile&&u.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Agent profile active  ",e.agentProfile.totalSales||0," total sales"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Select$1,{value:e.role,onValueChange:s=>((e,s)=>{b.mutate({userId:e,role:s})})(e.id,s),disabled:b.isPending,children:[u.jsx(SelectTrigger,{className:"w-[140px]",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"agent",children:"Agent"}),u.jsx(SelectItem,{value:"agency_admin",children:"Admin"})]})]}),e.id!==s?.id&&u.jsx(Button$1,{variant:"destructive",size:"sm",onClick:()=>(e=>{m(e)})(e),disabled:j.isPending,children:u.jsx(ul,{className:"h-4 w-4"})})]})]})},e.id))}):u.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[u.jsx(Cl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No agents in your agency yet."}),u.jsx("p",{className:"text-sm mt-2",children:"Invite agents to get started."})]})})]}),u.jsx(AlertDialog,{open:!!p,onOpenChange:()=>m(null),children:u.jsxs(AlertDialogContent,{children:[u.jsxs(AlertDialogHeader,{children:[u.jsx(AlertDialogTitle,{children:"Remove Agent from Agency"}),u.jsxs(AlertDialogDescription,{children:["Are you sure you want to remove ",p?.name||p?.email," from your agency? This action cannot be undone and the agent will lose access to agency resources."]})]}),u.jsxs(AlertDialogFooter,{children:[u.jsx(AlertDialogCancel,{children:"Cancel"}),u.jsx(AlertDialogAction,{onClick:()=>{p&&j.mutate({userId:p.id})},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Agent"})]})]})})]})]})}function AcceptInvitation(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),l=new URLSearchParams(useSearch()).get("token"),[c,p]=re.useState(!1),{data:m,isLoading:h,error:f}=At.invitation.getByToken.useQuery({token:l||""},{enabled:!!l,retry:!1}),g=At.invitation.accept.useMutation({onSuccess:()=>{Gr.success("Invitation accepted! Welcome to the agency!"),setTimeout(()=>{const e="agency_admin"===m?.role?"/agency/dashboard":"/agent/dashboard";window.location.href=e},500)},onError:e=>{Gr.error(e.message||"Failed to accept invitation"),p(!1)}});return l?h?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsx(ea,{className:"max-w-md mx-auto",children:u.jsxs(sa,{className:"pt-6 text-center",children:[u.jsx(no,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading invitation..."})]})})})]}):f||!m?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsx(ea,{className:"max-w-md mx-auto",children:u.jsxs(sa,{className:"pt-6 text-center",children:[u.jsx(Va,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invitation Not Available"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:f?.message||"This invitation could not be found."}),u.jsx(Button$1,{onClick:()=>e("/"),children:"Go to Home"})]})})})]}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsxs(ea,{className:"max-w-2xl mx-auto",children:[u.jsxs(ta,{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:u.jsx(ka,{className:"h-12 w-12 text-primary"})})}),u.jsx(ra,{className:"text-2xl",children:"You've Been Invited!"}),u.jsx(na,{children:"You have been invited to join an agency"})]}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Invited Email:"}),u.jsx("span",{className:"font-semibold",children:m.email})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bl,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Role:"}),u.jsx(Badge,{children:m.role})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Agency ID:"}),u.jsx("span",{className:"font-semibold",children:m.agencyId})]})]}),a?s?.email!==m.email?u.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:["This invitation is for ",u.jsx("strong",{children:m.email}),", but you're logged in as ",u.jsx("strong",{children:s?.email}),". Please log in with the correct account."]})}):u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{onClick:()=>{if(l){if(!a)return Gr.error("Please log in or register first"),void e(`/login?redirect=/accept-invitation?token=${l}`);p(!0),g.mutate({token:l})}else Gr.error("Invalid invitation link")},disabled:c,className:"flex-1",children:c?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"}),"Accepting..."]}):"Accept Invitation"}),u.jsx(Button$1,{variant:"outline",onClick:()=>e("/"),disabled:c,children:"Decline"})]}):u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[u.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-3",children:"You need to log in or register to accept this invitation."}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Button$1,{onClick:()=>e(`/login?redirect=/accept-invitation?token=${l}`),variant:"default",children:"Log In / Register"})})]}),u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["This invitation expires on ",new Date(m.expiresAt).toLocaleDateString()," at"," ",new Date(m.expiresAt).toLocaleTimeString()]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsx(ea,{className:"max-w-md mx-auto",children:u.jsxs(sa,{className:"pt-6 text-center",children:[u.jsx(Va,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invalid Invitation Link"}),u.jsx("p",{className:"text-muted-foreground",children:"This invitation link is invalid or incomplete."})]})})})]})}function ContactAgentModal({video:e,onClose:s}){const[a,l]=re.useState({name:"",email:"",phone:"",message:""}),[c,p]=re.useState({}),m=At.video.contactAgent.useMutation({onSuccess:e=>{console.log("Success:",e),s()},onError:e=>{console.error("Error:",e)}}),generateMessage=()=>{if("listing"===e.type){const s=e.propertyTitle||"the property";return`Hi ${e.agentName||"there"}, I saw your video about ${s} and would like to know more. Please contact me with more information.`}return`Hi ${e.agentName||"there"}, I saw your video on the Explore feed and would like to connect. Please get in touch with me.`};return u.jsx(Dialog,{open:!0,onOpenChange:s,children:u.jsxs(DialogContent,{className:"bg-background text-foreground max-w-md mx-4",onClick:e=>{e.target===e.currentTarget&&s()},children:[u.jsx(DialogHeader,{children:u.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Contact Agent"}),"listing"===e.type&&u.jsx("span",{className:"text-sm text-muted-foreground",children:"(Property Video)"})]})}),u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsx("div",{className:"p-3 bg-muted rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-semibold text-primary",children:e.agentName?e.agentName.charAt(0).toUpperCase():"A"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:e.agentName||"Agent"}),"listing"===e.type&&e.propertyTitle&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Regarding: ",e.propertyTitle]})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx(Input,{placeholder:"Your Name *",value:a.name,onChange:e=>{l({...a,name:e.target.value}),c.name&&p({...c,name:""})},className:c.name?"border-red-500":""}),c.name&&u.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.name})]}),u.jsxs("div",{children:[u.jsx(Input,{type:"email",placeholder:"Your Email *",value:a.email,onChange:e=>{l({...a,email:e.target.value}),c.email&&p({...c,email:""})},className:c.email?"border-red-500":""}),c.email&&u.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.email})]}),u.jsx("div",{children:u.jsx(Input,{type:"tel",placeholder:"Your Phone (optional)",value:a.phone,onChange:e=>l({...a,phone:e.target.value})})}),u.jsxs("div",{children:[u.jsx(Textarea,{placeholder:"Your message *",value:a.message,onChange:e=>{l({...a,message:e.target.value}),c.message&&p({...c,message:""})},className:"min-h-[80px] "+(c.message?"border-red-500":"")}),c.message&&u.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.message})]})]}),!a.message&&u.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Suggested message:"}),u.jsx("p",{className:"text-sm",children:generateMessage()}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>l({...a,message:generateMessage()}),children:"Use This Message"})]}),u.jsx(Button$1,{className:"w-full",onClick:()=>{if(!(()=>{const e={};return a.name.trim()||(e.name="Name is required"),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(e.email="Please enter a valid email address"):e.email="Email is required",a.message.trim()||(e.message="Message is required"),p(e),0===Object.keys(e).length})())return;const s=a.message.trim()||generateMessage();m.mutate({agentId:e.agentId,videoId:e.id,propertyId:e.propertyId,name:a.name.trim(),email:a.email.trim(),phone:a.phone.trim()||void 0,message:s})},disabled:m.isLoading,children:m.isLoading?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Message"}),u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"The agent will receive your inquiry and can respond directly."})]})]})})}function useVideoPlayback(e={}){const{preloadNext:s=!1,lowBandwidthMode:a=!1,threshold:l=.5,onEnterViewport:c,onExitViewport:u}=e,p=re.useRef(null),m=re.useRef(null),h=re.useRef(0),[f,g]=re.useState(!1),[b,j]=re.useState(!1),[N,k]=re.useState(null),[_,T]=re.useState(!1),E=re.useCallback(async()=>{const e=p.current;if(e)try{k(null),await e.play(),g(!0),h.current=0}catch(pW){const s=pW instanceof Error?pW:new Error("Failed to play video");if(console.error("Video playback failed:",s),k(s),g(!1),h.current<3){h.current++;const e=Math.min(1e3*Math.pow(2,h.current-1),5e3);setTimeout(()=>{_&&E()},e)}}},[_]),A=re.useCallback(()=>{const e=p.current;e&&(e.pause(),g(!1))},[]),L=re.useCallback(()=>{h.current=0,k(null),_&&E()},[_,E]);return re.useEffect(()=>{const e=m.current;if(!e)return;const s=new IntersectionObserver(e=>{e.forEach(e=>{const s=e.isIntersecting;T(s),s?(c?.(),a||E()):(u?.(),A())})},{threshold:l,rootMargin:"0px"});return s.observe(e),()=>{s.disconnect()}},[l,a,c,u,E,A]),re.useEffect(()=>{const e=p.current;if(!e)return;const handleWaiting=()=>{j(!0)},handlePlaying=()=>{j(!1)},handleCanPlay=()=>{j(!1)},handleStalled=()=>{j(!0)},handleSuspend=()=>{j(!1)},handleLoadStart=()=>{j(!0)},handleLoadedData=()=>{j(!1)};return e.addEventListener("waiting",handleWaiting),e.addEventListener("playing",handlePlaying),e.addEventListener("canplay",handleCanPlay),e.addEventListener("stalled",handleStalled),e.addEventListener("suspend",handleSuspend),e.addEventListener("loadstart",handleLoadStart),e.addEventListener("loadeddata",handleLoadedData),()=>{e.removeEventListener("waiting",handleWaiting),e.removeEventListener("playing",handlePlaying),e.removeEventListener("canplay",handleCanPlay),e.removeEventListener("stalled",handleStalled),e.removeEventListener("suspend",handleSuspend),e.removeEventListener("loadstart",handleLoadStart),e.removeEventListener("loadeddata",handleLoadedData)}},[]),re.useEffect(()=>{const e=p.current;if(!e)return;const handlePlay=()=>g(!0),handlePause=()=>g(!1),handleEnded=()=>g(!1);return e.addEventListener("play",handlePlay),e.addEventListener("pause",handlePause),e.addEventListener("ended",handleEnded),()=>{e.removeEventListener("play",handlePlay),e.removeEventListener("pause",handlePause),e.removeEventListener("ended",handleEnded)}},[]),re.useEffect(()=>{if(!s||!_)return;const e=p.current;return e?(e.preload="auto",()=>{e&&(e.preload="metadata")}):void 0},[s,_]),{videoRef:p,containerRef:m,isPlaying:f,isBuffering:b,error:N,inView:_,retry:L,play:E,pause:A}}const oz={bg:{primary:"#ffffff",secondary:"#f8f9fa",tertiary:"#f1f3f5",dark:"#1f2937"},accent:{primary:"#4f46e5",light:"#6366f1",subtle:"#e0e7ff",gradient:"linear-gradient(135deg, #4f46e5 0%, #4338ca 100%)"},glass:{bg:"rgba(255, 255, 255, 0.85)",bgDark:"rgba(0, 0, 0, 0.4)",border:"rgba(255, 255, 255, 0.3)",borderDark:"rgba(255, 255, 255, 0.1)",backdrop:"blur(12px)"},text:{primary:"#1f2937",secondary:"#6b7280",tertiary:"#6b7280",inverse:"#ffffff"},status:{success:"#047857",error:"#dc2626"}},lz={sm:"0.5rem",md:"1rem",xl:"2rem"},cz={pill:"9999px"},dz={sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 2px 4px 0 rgba(0, 0, 0, 0.08)",lg:"0 4px 6px -1px rgba(0, 0, 0, 0.1)","2xl":"0 20px 25px -5px rgba(0, 0, 0, 0.1)",glass:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",accent:"0 4px 6px -1px rgba(99, 102, 241, 0.3)",accentHover:"0 6px 12px -2px rgba(99, 102, 241, 0.4)"},uz={fontSize:{xs:"0.75rem",xl:"1.25rem"},fontWeight:{medium:"500",semibold:"600",bold:"700"}},pz={easeOut:[.4,0,.2,1]},mz={fast:{duration:.15,ease:pz.easeOut},normal:{duration:.3,ease:pz.easeOut}},hz={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:mz.normal},hover:{y:-2,scale:1.01,transition:mz.fast},tap:{scale:.98,transition:mz.fast}},fz={initial:{scale:1},hover:{scale:1.05,transition:mz.fast},tap:{scale:.98,transition:mz.fast}},gz={initial:{opacity:0,x:-20},animate:{opacity:1,x:0,transition:mz.normal},exit:{opacity:0,x:20,transition:mz.fast}},xz={initial:{},animate:{transition:{staggerChildren:.05}}},vz={initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:mz.fast}};function getVariants(e){return"undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches?{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}:e}const formatSize=e=>{const s=Number(e?.unitSize);if(Number.isFinite(s)&&s>0)return`${s} m`;const a=Number(e?.sizeFrom??e?.floorSizeFrom),l=Number(e?.sizeTo??e?.floorSizeTo),c=Number.isFinite(a)&&a>0,u=Number.isFinite(l)&&l>0;return c&&u?`${a}${l} m`:c?`${a} m`:u?`${l} m`:""},formatYard=e=>{const s=Number(e?.yardSize);return Number.isFinite(s)&&s>0?`${s} m`:""},formatParking=e=>{const s=String(e?.parking??"").toLowerCase(),a=String(e?.parkingType??"").toLowerCase(),l=Number(e?.parkingBays),c=Number.isFinite(l)&&l>0,u=s&&"none"!==s&&"0"!==s,p=a&&"none"!==a;return u||p||c?u?"carport"!==s&&"garage"!==s||!c?s:l>=2?`double ${s}`:s:p?a:c?l>=2?"2 parking":"1 parking":"":""};function VideoCard$1({video:e,isActive:s,onView:a}){const{videoRef:l,containerRef:c,isPlaying:p,isBuffering:m,error:h,retry:f,play:g,pause:b}=useVideoPlayback({preloadNext:!0,threshold:.5,onEnterViewport:()=>{a?.()}}),[j,N]=re.useState(!1),[k,_]=re.useState(!1),[T,E]=re.useState(e.isLiked||!1),[A,L]=re.useState(!1),[O,I]=re.useState(!1),$=At.video.toggleLike.useMutation({onSuccess:e=>{E(e.liked)},onError:e=>{console.error("Failed to toggle like:",e)}});re.useEffect(()=>{l.current&&(s&&!p?g():!s&&p&&b())},[s,p,g,b]);const formatPrice2=e=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),handleDoubleTap=()=>{T||($.mutate({videoId:parseInt(e.id)}),L(!0),setTimeout(()=>L(!1),1e3))};return re.useEffect(()=>{if(k){const e=setTimeout(()=>{_(!1)},800);return()=>clearTimeout(e)}},[k]),u.jsxs("div",{ref:c,className:"relative h-full w-full flex items-center justify-center bg-black",children:[u.jsxs("div",{className:"relative h-full w-auto max-w-full",children:[e.videoUrl?.includes("unsplash.com")?u.jsx("img",{src:e.videoUrl,alt:e.title,className:"h-full w-auto max-w-full object-contain",loading:"lazy",onDoubleClick:handleDoubleTap,onClick:()=>I(!O)}):u.jsx("video",{ref:l,src:e.videoUrl,className:"h-full w-auto max-w-full object-contain",loop:!0,muted:!0,playsInline:!0,preload:"metadata",poster:e.thumbnailUrl,onClick:()=>{p?(b(),_(!0)):(g(),_(!1))},onDoubleClick:handleDoubleTap,onLoadedMetadata:()=>{}}),u.jsx(AnimatePresence,{children:m&&!e.videoUrl?.includes("unsplash.com")&&u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop},children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx(no,{className:"h-12 w-12 text-white animate-spin",strokeWidth:2.5}),u.jsx("span",{className:"text-white text-sm font-medium",children:"Loading..."})]})})}),u.jsx(AnimatePresence,{children:h&&!e.videoUrl?.includes("unsplash.com")&&u.jsx(kb.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm pointer-events-auto",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center",children:u.jsx(Oo,{className:"h-8 w-8 text-red-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white text-lg font-semibold mb-1",children:"Playback Error"}),u.jsx("p",{className:"text-gray-300 text-sm",children:"Unable to load video"})]}),u.jsxs(kb.button,{onClick:f,variants:fz,whileHover:"hover",whileTap:"tap",className:"px-6 py-3 rounded-xl text-white font-medium flex items-center gap-2",style:{background:oz.glass.bg,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`,boxShadow:dz.glass},children:[u.jsx(Oo,{className:"h-5 w-5"}),"Retry"]})]})})}),!e.videoUrl?.includes("unsplash.com")&&!O&&!m&&!h&&u.jsx(AnimatePresence,{children:(!p||k)&&u.jsx(kb.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"h-20 w-20 rounded-full flex items-center justify-center shadow-2xl",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:p?u.jsx(_o,{className:"h-10 w-10 text-white"}):u.jsx(Ao,{className:"h-10 w-10 text-white ml-1"})})})}),A&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-50",children:u.jsx("div",{className:"animate-in zoom-in duration-500 animate-out fade-out duration-1000",children:u.jsx($i,{className:"h-32 w-32 text-red-500 fill-current drop-shadow-2xl"})})}),u.jsx(AnimatePresence,{children:O&&"listing"===e.type&&u.jsxs(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 flex flex-col p-6 pointer-events-auto cursor-pointer",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop},onClick:()=>I(!1),children:[u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:e.propertyTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-200 mb-4",children:[u.jsx(lo,{className:"h-5 w-5 text-blue-400"}),u.jsx("span",{children:e.propertyLocation})]}),e.propertyPrice&&u.jsx("p",{className:"text-3xl font-bold text-white mb-6",children:formatPrice2(e.propertyPrice)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.bedrooms&&u.jsxs(kb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-3 rounded-xl p-4",style:{background:oz.glass.bg,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:[u.jsx(ja,{className:"h-6 w-6 text-blue-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-900 font-semibold",children:e.bedrooms}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Bedrooms"})]})]}),e.bathrooms&&u.jsxs(kb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"flex items-center gap-3 rounded-xl p-4",style:{background:oz.glass.bg,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:[u.jsx(ya,{className:"h-6 w-6 text-blue-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-900 font-semibold",children:e.bathrooms}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Bathrooms"})]})]}),e.area&&u.jsxs(kb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-3 rounded-xl p-4",style:{background:oz.glass.bg,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:[u.jsx(nl,{className:"h-6 w-6 text-blue-400"}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-900 font-semibold",children:[e.area.toLocaleString()," m"]}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Building Size"})]})]}),e.yardSize&&u.jsxs(kb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"flex items-center gap-3 rounded-xl p-4",style:{background:oz.glass.bg,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:[u.jsx(pl,{className:"h-6 w-6 text-blue-400"}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-900 font-semibold",children:[e.yardSize.toLocaleString()," m"]}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Yard Size"})]})]})]}),e.highlights&&e.highlights.length>0&&u.jsxs(kb.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6",children:[u.jsx("h3",{className:"text-white text-lg font-bold mb-3",children:"Property Highlights"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.highlights.map((e,s)=>u.jsx(kb.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.35+.05*s},className:"px-3 py-1.5 rounded-full text-white text-sm",style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.3) 0%, rgba(79, 70, 229, 0.3) 100%)",backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:e},s))})]})]}),u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center text-gray-300 text-sm mt-4",children:"Tap anywhere to close"})]})}),u.jsxs(kb.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"absolute bottom-0 left-0 right-0 p-4 md:p-6 pb-20 md:pb-24 text-white pointer-events-none",style:{background:"linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.6) 50%, transparent 100%)"},children:["listing"===e.type?u.jsxs("div",{className:"space-y-2",children:[u.jsx(kb.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex items-center gap-2 mb-2",children:u.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full shadow-lg",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.9) 0%, rgba(239, 68, 68, 0.9) 100%)",backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:[u.jsx(fl,{className:"h-3 w-3"}),u.jsx("span",{className:"text-xs font-bold",children:"Hot Property"})]})}),u.jsx("h2",{className:"font-bold text-xl md:text-2xl line-clamp-2 mb-2 drop-shadow-lg",children:e.propertyTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-sm md:text-base text-gray-200 mb-2",children:[u.jsx(lo,{className:"h-4 w-4 text-blue-400"}),u.jsx("p",{className:"line-clamp-1",children:e.propertyLocation})]}),(console.log("[VideoCard] unit sample",{unitSize:e.unitSize,sizeFrom:e.sizeFrom,sizeTo:e.sizeTo,yardSize:e.yardSize,parking:e.parking,parkingType:e.parkingType,parkingBays:e.parkingBays}),null),u.jsxs("div",{className:"flex items-center gap-3 text-xs md:text-sm text-gray-300 mb-2",children:[e.bedrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ja,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:e.bedrooms})]}),e.bathrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ya,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:e.bathrooms})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(HouseMeasureIcon,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:formatSize(e)})]}),e.yardSize&&e.yardSize>0&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(mo,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:formatYard(e)})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ma,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:formatParking(e)})]})]}),e.propertyPrice&&u.jsx(kb.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"inline-block px-4 py-2 rounded-full shadow-lg",style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(79, 70, 229, 0.9) 100%)",backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:u.jsx("p",{className:"font-bold text-white text-lg md:text-xl",children:formatPrice2(e.propertyPrice)})})]}):u.jsx("div",{className:"mb-2",children:u.jsxs("p",{className:"font-semibold text-base md:text-lg",children:["@",e.agentName]})}),e.caption&&u.jsx("p",{className:"text-sm md:text-base text-gray-200 line-clamp-2 mt-2 drop-shadow-lg",children:e.caption}),e.duration&&e.duration>0&&u.jsx("p",{className:"text-xs md:text-sm text-gray-300 mt-1",children:(z=e.duration,`${Math.floor(z/60)}:${(z%60).toString().padStart(2,"0")}`)})]})]}),u.jsxs("div",{className:"absolute right-3 md:right-4 bottom-28 md:bottom-32 flex flex-col items-center space-y-5 md:space-y-6 pointer-events-auto",children:[u.jsxs(kb.button,{onClick:()=>{$.mutate({videoId:parseInt(e.id)}),T||(L(!0),setTimeout(()=>L(!1),1e3))},variants:fz,whileHover:"hover",whileTap:"tap",className:"flex flex-col items-center",disabled:$.isPending,children:[u.jsx("div",{className:"p-3 md:p-3.5 rounded-full shadow-xl transition-all duration-300",style:{background:T?"linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(236, 72, 153, 0.9) 100%)":oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${T?oz.glass.border:oz.glass.borderDark}`},children:u.jsx($i,{className:"h-7 w-7 md:h-8 md:w-8 transition-all duration-300 "+(T?"text-white fill-current":"text-white")})}),u.jsx("span",{className:"text-xs md:text-sm mt-1.5 font-bold drop-shadow-lg text-white",children:e.likes+(T?1:0)+(e.isLiked&&!T?-1:0)})]}),u.jsxs(kb.button,{onClick:async()=>{const s={title:"listing"===e.type?`Check out this property: ${e.propertyTitle}`:`Video by ${e.agentName}`,text:e.caption||"",url:window.location.href};if(navigator.share&&navigator.canShare(s))try{await navigator.share(s)}catch(pW){console.log("Error sharing:",pW)}else try{await navigator.clipboard.writeText(window.location.href),console.log("Link copied to clipboard")}catch(pW){console.log("Failed to copy link")}},variants:fz,whileHover:"hover",whileTap:"tap",className:"flex flex-col items-center text-white",children:[u.jsx("div",{className:"p-3 md:p-3.5 rounded-full shadow-xl transition-all duration-300",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:u.jsx(Wo,{className:"h-7 w-7 md:h-8 md:w-8"})}),u.jsx("span",{className:"text-xs md:text-sm mt-1.5 font-bold drop-shadow-lg",children:e.shares||0})]}),u.jsxs(kb.button,{onClick:()=>N(!0),variants:fz,whileHover:"hover",whileTap:"tap",className:"flex flex-col items-center text-white",children:[u.jsx("div",{className:"p-3 md:p-3.5 rounded-full shadow-xl transition-all duration-300",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:u.jsx(go,{className:"h-7 w-7 md:h-8 md:w-8"})}),u.jsx("span",{className:"text-xs md:text-sm mt-1.5 font-bold drop-shadow-lg",children:"Contact"})]})]}),u.jsxs(kb.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute top-4 right-4 rounded-full px-4 py-2 text-white text-xs md:text-sm font-semibold shadow-lg",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:[u.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:e.views||0}),u.jsx("span",{className:"text-white/90 ml-1",children:"views"})]}),j&&u.jsx(ContactAgentModal,{video:e,onClose:()=>N(!1)})]});var z}function EnhancedSearchBar({onSearch:e,placeholder:s="Search properties, areas, agents..."}){const[a,l]=re.useState(""),[c,p]=re.useState([]),[m,h]=re.useState(!1),f=re.useRef(null),g=[{type:"trending",label:"Sandton Properties",icon:fl},{type:"location",label:"Cape Town",icon:lo},{type:"location",label:"Camps Bay",icon:lo},{type:"property",label:"Luxury Apartments",icon:Bi},{type:"property",label:"Beachfront Homes",icon:Bi}];re.useEffect(()=>{if(a.length>1){const e=g.filter(e=>e.label.toLowerCase().includes(a.toLowerCase()));p(e),h(!0)}else p([]),h(!1)},[a]),re.useEffect(()=>{function handleClickOutside(e){f.current&&!f.current.contains(e.target)&&h(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);return u.jsxs("div",{ref:f,className:"relative w-full",children:[u.jsx("form",{onSubmit:s=>{s.preventDefault(),a.trim()&&(e?.(a),h(!1))},children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:u.jsx(Vo,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:s,className:"w-full pl-12 pr-4 py-3.5 rounded-full border-2 border-gray-200 bg-white/90 backdrop-blur-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all duration-300 outline-none text-gray-900 placeholder-gray-500 shadow-sm hover:shadow-md"})]})}),m&&c.length>0&&u.jsx("div",{className:"absolute top-full mt-2 w-full bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:c.map((s,a)=>{const c=s.icon;return u.jsxs("button",{onClick:()=>(s=>{l(s.label),e?.(s.label),h(!1)})(s),className:"w-full px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors duration-150 flex items-center gap-3 border-b border-gray-100 last:border-0",children:[c&&u.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:u.jsx(c,{className:"h-4 w-4 text-blue-600"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.label}),u.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.type})]})]},a)})})]})}const yz="explore_selected_category";const bz="explore_property_filters",jz={propertyType:"all"};function useExploreCommonState(e={}){const{initialViewMode:s="home",initialFeedType:a="recommended",initialShowFilters:l=!1}=e,[c,u]=re.useState(s),[p,m]=re.useState(a),[h,f]=re.useState(l),{selectedCategoryId:g,setSelectedCategoryId:b}=function useCategoryFilter(){const[e,s]=re.useState(()=>{const e=sessionStorage.getItem(yz);return e?parseInt(e,10):void 0});return re.useEffect(()=>{void 0!==e?sessionStorage.setItem(yz,e.toString()):sessionStorage.removeItem(yz)},[e]),{selectedCategoryId:e,setSelectedCategoryId:s,clearCategory:()=>{s(void 0)}}}(),{filters:j,setPropertyType:N,updateCommonFilters:k,updateResidentialFilters:_,updateDevelopmentFilters:T,updateLandFilters:E,clearFilters:A,getFilterCount:L}=function usePropertyFilters(){const[e,s]=re.useState(()=>{try{const e=sessionStorage.getItem(bz);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load filters from storage:",e)}return jz});re.useEffect(()=>{try{sessionStorage.setItem(bz,JSON.stringify(e))}catch(s){console.error("Failed to save filters to storage:",s)}},[e]);const a=re.useCallback(e=>{s(s=>({...s,propertyType:e,residential:"residential"===e?s.residential:void 0,development:"development"===e?s.development:void 0,land:"land"===e?s.land:void 0}))},[]),l=re.useCallback(e=>{s(s=>({...s,...e}))},[]),c=re.useCallback(e=>{s(s=>({...s,residential:{...s.residential,...e}}))},[]),u=re.useCallback(e=>{s(s=>({...s,development:{...s.development,...e}}))},[]),p=re.useCallback(e=>{s(s=>({...s,land:{...s.land,...e}}))},[]),m=re.useCallback(()=>{s(jz)},[]),h=re.useCallback(()=>{s(e=>({...e,residential:void 0,development:void 0,land:void 0}))},[]),f=re.useCallback(()=>{let s=0;return void 0!==e.priceMin&&s++,void 0!==e.priceMax&&s++,e.location&&s++,"all"!==e.propertyType&&s++,e.residential&&(e.residential.beds?.length&&s++,e.residential.baths?.length&&s++,e.residential.parking?.length&&s++,e.residential.securityLevel?.length&&s++,void 0!==e.residential.petFriendly&&s++,void 0!==e.residential.furnished&&s++),e.development&&(e.development.launchStatus?.length&&s++,e.development.phase?.length&&s++,e.development.unitConfigurations?.length&&s++,void 0!==e.development.developerOffers&&s++),e.land&&(e.land.zoning?.length&&s++,e.land.utilities?.length&&s++,void 0!==e.land.sizeMin&&s++,void 0!==e.land.sizeMax&&s++,e.land.surveyStatus?.length&&s++),s},[e]),g=re.useCallback(()=>f()>0,[f]);return{filters:e,setPropertyType:a,updateCommonFilters:l,updateResidentialFilters:c,updateDevelopmentFilters:u,updateLandFilters:p,clearFilters:m,clearTypeFilters:h,getFilterCount:f,hasActiveFilters:g}}(),O=re.useCallback(()=>{f(e=>!e)},[]);return{viewMode:c,setViewMode:u,feedType:p,setFeedType:m,selectedCategoryId:g,setSelectedCategoryId:b,showFilters:h,setShowFilters:f,toggleFilters:O,filters:j,filterActions:{setPropertyType:N,updateCommonFilters:k,updateResidentialFilters:_,updateDevelopmentFilters:T,updateLandFilters:E,clearFilters:A,getFilterCount:L}}}function useIsMobile(){return function useMediaQuery(e){const[s,a]=re.useState(!1);return re.useEffect(()=>{const s=window.matchMedia(e);a(s.matches);const listener=e=>{a(e.matches)};return s.addEventListener?s.addEventListener("change",listener):s.addListener(listener),()=>{s.removeEventListener?s.removeEventListener("change",listener):s.removeListener(listener)}},[e]),s}("(max-width: 768px)")}const createStoreImpl=e=>{let s;const a=new Set,setState=(e,l)=>{const c="function"==typeof e?e(s):e;if(!Object.is(c,s)){const e=s;s=(null!=l?l:"object"!=typeof c||null===c)?c:Object.assign({},s,c),a.forEach(a=>a(s,e))}},getState2=()=>s,l={setState:setState,getState:getState2,getInitialState:()=>c,subscribe:e=>(a.add(e),()=>a.delete(e))},c=s=e(setState,getState2,l);return l},identity3=e=>e;const createImpl=e=>{const s=(e=>e?createStoreImpl(e):createStoreImpl)(e),useBoundStore=e=>function useStore(e,s=identity3){const a=ae.useSyncExternalStore(e.subscribe,ae.useCallback(()=>s(e.getState()),[e,s]),ae.useCallback(()=>s(e.getInitialState()),[e,s]));return ae.useDebugValue(a),a}(s,e);return Object.assign(useBoundStore,s),useBoundStore},create=e=>createImpl;function createJSONStorage(e,s){let a;try{a=e()}catch(l){return}return{getItem:e=>{var s;const parse2=e=>null===e?null:JSON.parse(e,void 0),l=null!=(s=a.getItem(e))?s:null;return l instanceof Promise?l.then(parse2):parse2(l)},setItem:(e,s)=>a.setItem(e,JSON.stringify(s,void 0)),removeItem:e=>a.removeItem(e)}}const toThenable=e=>s=>{try{const a=e(s);return a instanceof Promise?a:{then:e=>toThenable(e)(a),catch(e){return this}}}catch(a){return{then(e){return this},catch:e=>toThenable(e)(a)}}},persist=(e,s)=>(a,l,c)=>{let u={storage:createJSONStorage(()=>localStorage),partialize:e=>e,version:0,merge:(e,s)=>({...s,...e}),...s},p=!1;const m=new Set,h=new Set;let f=u.storage;if(!f)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),a(...e)},l,c);const setItem=()=>{const e=u.partialize({...l()});return f.setItem(u.name,{state:e,version:u.version})},g=c.setState;c.setState=(e,s)=>(g(e,s),setItem());const b=e((...e)=>(a(...e),setItem()),l,c);let j;c.getInitialState=()=>b;const hydrate=()=>{var e,s;if(!f)return;p=!1,m.forEach(e=>{var s;return e(null!=(s=l())?s:b)});const c=(null==(s=u.onRehydrateStorage)?void 0:s.call(u,null!=(e=l())?e:b))||void 0;return toThenable(f.getItem.bind(f))(u.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===u.version)return[!1,e.state];if(u.migrate){const s=u.migrate(e.state,e.version);return s instanceof Promise?s.then(e=>[!0,e]):[!0,s]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var s;const[c,p]=e;if(j=u.merge(p,null!=(s=l())?s:b),a(j,!0),c)return setItem()}).then(()=>{null==c||c(j,void 0),j=l(),p=!0,h.forEach(e=>e(j))}).catch(e=>{null==c||c(void 0,e)})};return c.persist={setOptions:e=>{u={...u,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>hydrate(),hasHydrated:()=>p,onHydrate:e=>(m.add(e),()=>{m.delete(e)}),onFinishHydration:e=>(h.add(e),()=>{h.delete(e)})},u.skipHydration||hydrate(),j||b},wz=create()(persist((e,s)=>({propertyType:null,minPrice:null,maxPrice:null,minBedrooms:null,maxBedrooms:null,minBathrooms:null,location:null,agencyId:null,ownershipType:null,structuralType:null,floors:null,setPropertyType:s=>e({propertyType:s}),setMinPrice:s=>e({minPrice:s}),setMaxPrice:s=>e({maxPrice:s}),setMinBedrooms:s=>e({minBedrooms:s}),setMaxBedrooms:s=>e({maxBedrooms:s}),setMinBathrooms:s=>e({minBathrooms:s}),setLocation:s=>e({location:s}),setAgencyId:s=>e({agencyId:s}),setOwnershipType:s=>e({ownershipType:s}),setStructuralType:s=>e({structuralType:s}),setFloors:s=>e({floors:s}),clearFilters:()=>e({propertyType:null,minPrice:null,maxPrice:null,minBedrooms:null,maxBedrooms:null,minBathrooms:null,location:null,agencyId:null,ownershipType:null,structuralType:null,floors:null}),getFilterCount:()=>{const e=s();let a=0;return e.propertyType&&a++,null===e.minPrice&&null===e.maxPrice||a++,null===e.minBedrooms&&null===e.maxBedrooms||a++,null!==e.minBathrooms&&a++,e.location&&a++,e.agencyId&&a++,e.ownershipType&&a++,e.structuralType&&a++,e.floors&&a++,a}}),{name:"explore-filters"})),Nz={sm:"px-3 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},Sz={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};function MicroPill({label:e,selected:s=!1,onClick:a,icon:l,size:c="md",variant:p="default",className:m="",disabled:h=!1}){const f=!!a&&!h;return u.jsxs(kb.button,{className:cn(Nz[c],"accent"===p?s?"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-accent":"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300":s?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-200 hover:border-gray-300","rounded-full font-medium","transition-all duration-200 ease-out","flex items-center gap-1.5","focus:outline-none focus:ring-2 focus:ring-offset-2",s?"focus:ring-gray-900":"focus:ring-gray-300",f&&"cursor-pointer",h&&"opacity-50 cursor-not-allowed",m),onClick:f?a:void 0,whileHover:f?{scale:1.05}:void 0,whileTap:f?{scale:.95}:void 0,transition:{duration:.15,ease:"easeOut"},disabled:h,type:"button",role:f?"button":void 0,"aria-pressed":f?s:void 0,children:[l&&u.jsx(l,{className:Sz[c]}),u.jsx("span",{children:e})]})}const Cz={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},kz={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},_z={default:"modern-btn bg-white text-gray-700 hover:bg-gray-50",glass:"glass-overlay text-white hover:bg-white/90",accent:"accent-btn text-white"};function IconButton({icon:e,onClick:s,label:a,size:l="md",variant:c="default",className:p="",disabled:m=!1}){return u.jsx(kb.button,{className:cn(Cz[l],_z[c],"flex items-center justify-center rounded-xl","transition-all duration-150 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2","accent"===c?"focus:ring-indigo-500":"focus:ring-gray-300",m&&"opacity-50 cursor-not-allowed",p),onClick:s,whileHover:m?void 0:{scale:1.05},whileTap:m?void 0:{scale:.95},transition:{duration:.15,ease:"easeOut"},"aria-label":a,disabled:m,type:"button",children:u.jsx(e,{className:kz[l]})})}function AgencySelector({selectedAgencyId:e,onAgencyChange:s,className:a=""}){const[l,c]=re.useState(!1),[p,m]=re.useState([]);re.useEffect(()=>{m([{id:1,name:"Premium Properties",isVerified:!0},{id:2,name:"Luxury Estates",isVerified:!0},{id:3,name:"Urban Living",isVerified:!1},{id:4,name:"Coastal Realty",isVerified:!0}])},[]);const h=p.find(s=>s.id===e),handleSelect=e=>{s(e),c(!1)};return u.jsxs("div",{className:`relative ${a}`,children:[u.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all",style:{backgroundColor:e?oz.accent.light:oz.bg.tertiary,border:`1px solid ${e?oz.accent.primary:oz.bg.tertiary}`},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"w-5 h-5",style:{color:e?oz.accent.primary:oz.text.secondary}}),u.jsx("span",{className:"text-sm font-medium",style:{color:e?oz.accent.primary:oz.text.secondary,fontWeight:uz.fontWeight.medium},children:h?h.name:"All Agencies"})]}),e&&u.jsx("button",{onClick:e=>{e.stopPropagation(),handleSelect(null)},className:"p-1 rounded-lg hover:bg-white/50 transition-colors",children:u.jsx(Il,{className:"w-4 h-4",style:{color:oz.accent.primary}})})]}),u.jsx(AnimatePresence,{children:l&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),u.jsxs(kb.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 rounded-xl overflow-hidden z-20",style:{backgroundColor:oz.bg.primary,boxShadow:dz.lg,maxHeight:"300px",overflowY:"auto"},children:[u.jsxs("button",{onClick:()=>handleSelect(null),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"w-5 h-5",style:{color:oz.text.secondary}}),u.jsx("span",{className:"text-sm font-medium",style:{color:oz.text.primary,fontWeight:uz.fontWeight.medium},children:"All Agencies"})]}),!e&&u.jsx(Ia,{className:"w-5 h-5",style:{color:oz.accent.primary}})]}),u.jsx("div",{className:"h-px",style:{backgroundColor:oz.bg.tertiary}}),p.map(s=>u.jsxs("button",{onClick:()=>handleSelect(s.id),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[s.logo?u.jsx("img",{src:s.logo,alt:s.name,className:"w-8 h-8 rounded-lg object-cover"}):u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold",style:{background:oz.accent.gradient,color:"white"},children:s.name.charAt(0)}),u.jsx("div",{className:"text-left",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium",style:{color:oz.text.primary,fontWeight:uz.fontWeight.medium},children:s.name}),s.isVerified&&u.jsx(Ia,{className:"w-4 h-4",style:{color:oz.status.success}})]})})]}),e===s.id&&u.jsx(Ia,{className:"w-5 h-5",style:{color:oz.accent.primary}})]},s.id))]})]})})]})}const Pz=[{value:"residential",label:"Residential Development",description:"Apartments, townhouses, estates, retirement villages",enabled:!0},{value:"mixed_use",label:"Mixed-Use Development",description:"Residential & commercial in one development",enabled:!1},{value:"land",label:"Land Development",description:"Serviced plots, vacant land, plot + build",enabled:!1},{value:"commercial",label:"Commercial Development",description:"Offices, retail, industrial, mixed commercial",enabled:!1}],Tz=[{value:"apartment",label:"Apartment Complex",description:"Multi-unit building, shared amenities, sectional title."},{value:"townhouse",label:"Townhouse Estate",description:"Row houses or clusters with private gardens."},{value:"freehold",label:"Freehold Homes",description:"Standalone units on individual erven."},{value:"retirement",label:"Retirement Village",description:"Age-restricted with lifestyle & medical amenities."},{value:"student",label:"Student Accommodation",description:"High-density, leasing-focused, shared facilities."},{value:"mixed",label:"Mixed-Use Residential",description:"Combined residential types in one development.",disabled:!0}],Ez=[{value:"launching-soon",label:"Launching Soon",description:"Sales opening soon"},{value:"selling",label:"Selling",description:"Development is active and selling"},{value:"sold-out",label:"Sold Out",description:"No units available"}],Az=[{value:"for_sale",label:"For Sale",description:"Units are being sold"},{value:"for_rent",label:"For Rent / Lease",description:"Residential leasing"},{value:"auction",label:"Auction",description:"Properties to be auctioned"}],Mz=[{value:"full-title",label:"Full Title (Freehold)",description:"Buyers own individual property and land"},{value:"sectional-title",label:"Sectional Title",description:"Buyers own unit, share common areas"},{value:"leasehold",label:"Leasehold",description:"Buyers own property for a fixed lease period"},{value:"life-rights",label:"Life Rights",description:"Right of occupation for lifetime"}],Lz=[{value:"apartment",label:"Apartment",description:"Unit in a multi-story building"},{value:"freestanding-house",label:"Freestanding House",description:"Standalone residential home"},{value:"townhouse",label:"Townhouse",description:"Attached or semi-attached unit"},{value:"simplex",label:"Simplex",description:"Single-story attached unit"},{value:"duplex",label:"Duplex",description:"Two-story attached unit"},{value:"penthouse",label:"Penthouse",description:"Top-floor luxury unit"},{value:"studio",label:"Studio",description:"Open plan living unit"},{value:"plot-and-plan",label:"Plot & Plan",description:"Land with approved building plan"}],Dz=[{value:"single-storey",label:"Single Storey",description:"One level"},{value:"double-storey",label:"Double Storey",description:"Two levels"},{value:"triplex",label:"Triplex",description:"Three levels"}],Oz=[{value:"apartment_block",label:"Apartment Block",description:"Standard apartment building",triggersEstateProfile:!1},{value:"flat_development",label:"Flat Development",description:"Multi-unit flat complex",triggersEstateProfile:!1},{value:"walk_up_complex",label:"Walk-up Apartment Complex",description:"Low-rise without elevator",triggersEstateProfile:!1},{value:"high_rise_tower",label:"High-rise Residential Tower",description:"10+ storey building",triggersEstateProfile:!1},{value:"mid_rise_complex",label:"Mid-rise Apartment Complex",description:"4-9 storey building",triggersEstateProfile:!1},{value:"security_estate_general",label:"Security Estate",description:"Secured perimeter with access control",triggersEstateProfile:!0},{value:"golf_estate",label:"Golf Estate",description:"Built around a golf course",triggersEstateProfile:!0},{value:"equestrian_estate",label:"Equestrian Estate",description:"Horse-friendly with stables",triggersEstateProfile:!0},{value:"country_estate",label:"Country Estate",description:"Rural setting with large plots",triggersEstateProfile:!0},{value:"lifestyle_estate",label:"Lifestyle Estate",description:"Premium amenities focus",triggersEstateProfile:!0},{value:"eco_estate",label:"Eco Estate",description:"Environmentally focused",triggersEstateProfile:!0},{value:"game_estate",label:"Game Estate",description:"Wildlife and game reserve",triggersEstateProfile:!0},{value:"nature_estate",label:"Nature Estate",description:"Natural environment preserved",triggersEstateProfile:!0},{value:"coastal_security_estate",label:"Coastal Security Estate",description:"Beachfront or coastal location",triggersEstateProfile:!0},{value:"mountain_estate",label:"Mountain Estate",description:"Mountain or hillside location",triggersEstateProfile:!0},{value:"residential_estate",label:"Residential Estate (General)",description:"Generic security estate",triggersEstateProfile:!0},{value:"freehold_housing_development",label:"Freehold Housing Development",description:"Standalone homes on erven",triggersEstateProfile:!1},{value:"residential_township",label:"Residential Township",description:"Large-scale housing development",triggersEstateProfile:!1},{value:"housing_estate_non_security",label:"Housing Estate (Non-Security)",description:"Open access housing estate",triggersEstateProfile:!1},{value:"suburban_housing_development",label:"Suburban Housing Development",description:"Suburban family homes",triggersEstateProfile:!1},{value:"cluster_housing_freehold",label:"Cluster Housing (Freehold)",description:"Freehold clusters",triggersEstateProfile:!1},{value:"infill_housing_development",label:"Infill Housing Development",description:"Urban densification projects",triggersEstateProfile:!1},{value:"turnkey_housing_development",label:"Turnkey Housing Development",description:"Ready-to-occupy homes",triggersEstateProfile:!1},{value:"mixed_residential_development",label:"Mixed Residential Development",description:"Multiple unit types",triggersEstateProfile:!1},{value:"integrated_residential_development",label:"Integrated Residential Development",description:"Diverse housing integration",triggersEstateProfile:!1},{value:"live_work_precinct",label:"Live-Work Precinct",description:"Residential with workspace",triggersEstateProfile:!1},{value:"residential_lifestyle_precinct",label:"Residential Lifestyle Precinct",description:"Amenity-focused living",triggersEstateProfile:!1},{value:"retirement_village",label:"Retirement Village",description:"Traditional retirement community",triggersEstateProfile:!0},{value:"lifestyle_retirement_estate",label:"Lifestyle Retirement Estate",description:"Active adult community",triggersEstateProfile:!0},{value:"assisted_living_development",label:"Assisted Living Development",description:"Support services included",triggersEstateProfile:!0},{value:"frail_care_facility",label:"Frail Care Facility",description:"Full nursing care",triggersEstateProfile:!0},{value:"ccrc",label:"Continuing Care Retirement Community",description:"Multi-level care campus",triggersEstateProfile:!0},{value:"senior_living_apartments",label:"Senior Living Apartments",description:"Age-restricted apartments",triggersEstateProfile:!0},{value:"pbsa",label:"Purpose-Built Student Accommodation",description:"PBSA standard",triggersEstateProfile:!1},{value:"student_residence",label:"Student Residence",description:"Traditional student dorms",triggersEstateProfile:!1},{value:"student_apartment_complex",label:"Student Apartment Complex",description:"Self-catering units",triggersEstateProfile:!1},{value:"private_student_village",label:"Private Student Village",description:"Campus-style living",triggersEstateProfile:!1},{value:"campus_adjacent_housing",label:"Campus-Adjacent Housing",description:"Near university location",triggersEstateProfile:!1},{value:"townhouse_development",label:"Townhouse Development",description:"Multi-storey attached homes",triggersEstateProfile:!1},{value:"cluster_development",label:"Cluster Development",description:"Grouped sectional title homes",triggersEstateProfile:!1},{value:"gated_townhouse_complex",label:"Gated Townhouse Complex",description:"Secure townhouse estate",triggersEstateProfile:!0},{value:"simplex_complex",label:"Simplex Complex",description:"Single-level attached units",triggersEstateProfile:!1},{value:"duplex_complex",label:"Duplex Complex",description:"Two-unit attached homes",triggersEstateProfile:!1},{value:"non_estate",label:"Non-Estate Development",description:"Standard development",triggersEstateProfile:!1}],Iz={apartment:["apartment_block","flat_development","walk_up_complex","high_rise_tower","mid_rise_complex"],townhouse:["townhouse_development","cluster_development","gated_townhouse_complex","simplex_complex","duplex_complex","security_estate_general","residential_estate"],freehold:["freehold_housing_development","residential_township","housing_estate_non_security","suburban_housing_development","cluster_housing_freehold","infill_housing_development","turnkey_housing_development","security_estate_general","golf_estate","equestrian_estate","country_estate","lifestyle_estate","eco_estate","game_estate","nature_estate","coastal_security_estate","mountain_estate","residential_estate"],mixed:["mixed_residential_development","integrated_residential_development","live_work_precinct","residential_lifestyle_precinct"],retirement:["retirement_village","lifestyle_retirement_estate","assisted_living_development","frail_care_facility","ccrc","senior_living_apartments"],student:["pbsa","student_residence","student_apartment_complex","private_student_village","campus_adjacent_housing"]},getApplicableCommunityTypes=e=>{if(!e)return Oz;const s=Iz[e]||[];return Oz.filter(e=>s.includes(e.value))},$z=[{value:"new",label:"New Development"},{value:"phase",label:"New Phase of Existing"},{value:"extension",label:"Extension / Redevelopment"}],Rz=[{value:"exclusive",label:"Exclusive Mandate"},{value:"joint",label:"Joint Mandate"},{value:"open",label:"Open Mandate"}];function FilterPanel({isOpen:e,onClose:s,onApply:a}){const{propertyType:l,priceMin:c,priceMax:p,bedrooms:m,bathrooms:h,categoryId:f,location:g,agencyId:b,setPropertyType:j,setPriceRange:N,setBedrooms:k,setBathrooms:_,setCategoryId:T,setLocation:E,setAgencyId:A,clearFilters:L,getFilterCount:O,ownershipType:I,structuralType:$,floors:z,setOwnershipType:U,setStructuralType:H,setFloors:q}=wz(),Z=O(),handleReset=()=>{L()};return u.jsx(AnimatePresence,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:s}),u.jsxs(kb.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 right-0 w-full max-w-md bg-white z-50 overflow-y-auto",style:{boxShadow:dz["2xl"]},children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qo,{className:"w-5 h-5 text-gray-700"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Filters"})]}),u.jsx(IconButton,{icon:Il,onClick:s,label:"Close filters",size:"md",variant:"default"})]}),Z>0&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[Z," filter",1!==Z?"s":""," active"]}),u.jsx("button",{onClick:handleReset,className:"text-sm font-medium transition-colors",style:{color:oz.accent.primary},children:"Reset"})]})]}),u.jsxs("div",{className:"px-6 py-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Property Type"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"residential",label:"Residential"},{value:"development",label:"Developments"},{value:"land",label:"Land"}].map(e=>u.jsx(MicroPill,{label:e.label,selected:l===e.value,onClick:()=>j(l===e.value?null:e.value),size:"md",variant:"default"},e.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Ownership Type"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Mz.map(e=>u.jsx(MicroPill,{label:e.label,selected:I===e.value,onClick:()=>U(I===e.value?null:e.value),size:"md",variant:"default"},e.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Structure Type"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Lz.map(e=>u.jsx(MicroPill,{label:e.label,selected:$===e.value,onClick:()=>H($===e.value?null:e.value),size:"md",variant:"default"},e.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Floors"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Dz.map(e=>u.jsx(MicroPill,{label:e.label,selected:z===e.value,onClick:()=>q(z===e.value?null:e.value),size:"md",variant:"default"},e.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Price Range"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Min Price"}),u.jsx("input",{type:"number",value:c||"",onChange:e=>N(e.target.value?Number(e.target.value):null,p),placeholder:"No min",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Max Price"}),u.jsx("input",{type:"number",value:p||"",onChange:e=>N(c,e.target.value?Number(e.target.value):null),placeholder:"No max",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm}})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Bedrooms"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5].map(e=>u.jsx(MicroPill,{label:`${e}+`,selected:m===e,onClick:()=>k(m===e?null:e),size:"md",variant:"default"},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Bathrooms"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4].map(e=>u.jsx(MicroPill,{label:`${e}+`,selected:h===e,onClick:()=>_(h===e?null:e),size:"md",variant:"default"},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Location"}),u.jsx("input",{type:"text",value:g||"",onChange:e=>E(e.target.value||null),placeholder:"Enter location...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Agency"}),u.jsx(AgencySelector,{selectedAgencyId:b,onAgencyChange:A})]})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 space-y-3",children:[u.jsx(kb.button,{onClick:()=>{a?.(),s()},className:"w-full px-6 py-3 text-white rounded-xl font-medium transition-all",style:{background:oz.accent.gradient,boxShadow:dz.accent},whileHover:{scale:1.02,boxShadow:dz.accentHover},whileTap:{scale:.98},transition:{duration:.15},children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),u.jsx("span",{children:"Apply Filters"})]})}),Z>0&&u.jsx(kb.button,{onClick:handleReset,className:"w-full px-6 py-3 bg-white text-gray-700 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all",style:{boxShadow:dz.sm},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:"Reset All Filters"})]})]})]})})}const Fz={closed:0,half:50,full:90};function MobileFilterBottomSheet({isOpen:e,onClose:s,onApply:a}){const l=re.useRef(null),c=re.useRef(null),[p,m]=re.useState("half"),[h,f]=re.useState(!1),g=function useMotionValue(e){const s=useConstant(()=>motionValue(e)),{isStatic:a}=re.useContext(jy);if(a){const[,a]=re.useState(e);re.useEffect(()=>s.on("change",a),[])}return s}(0),{propertyType:b,priceMin:j,priceMax:N,bedrooms:k,bathrooms:_,categoryId:T,location:E,setPropertyType:A,setPriceRange:L,setBedrooms:O,setBathrooms:I,setCategoryId:$,setLocation:z,clearFilters:U,getFilterCount:H}=wz(),q=H(),Z=re.useCallback(()=>{if("undefined"==typeof window)return 0;return window.innerHeight*Fz[p]/100},[p]),Y=re.useCallback((e,a)=>{f(!1);const l=a.velocity.y,c=a.offset.y,u=window.innerHeight;l>500||c>.2*u?"full"===p?m("half"):s():(l<-500||c<.1*-u)&&m("full")},[p,s]);re.useEffect(()=>{if(!e||!l.current)return;const s=l.current,a=s.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),c=a[0],u=a[a.length-1];c?.focus();const handleTabKey=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===c&&(e.preventDefault(),u?.focus()):document.activeElement===u&&(e.preventDefault(),c?.focus()))};return s.addEventListener("keydown",handleTabKey),()=>s.removeEventListener("keydown",handleTabKey)},[e]),re.useEffect(()=>{if(!e)return;const handleEscape=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",handleEscape),()=>document.removeEventListener("keydown",handleEscape)},[e,s]),re.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]);const handleReset=()=>{U()};return u.jsx(AnimatePresence,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:s,"aria-hidden":"true"}),u.jsxs(kb.div,{ref:l,initial:{y:"100%"},animate:{y:"closed"===p?"100%":0,height:Z()},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.2,onDragStart:()=>f(!0),onDragEnd:Y,style:{y:g},className:"fixed bottom-0 left-0 right-0 bg-white z-50 rounded-t-3xl overflow-hidden flex flex-col",role:"dialog","aria-modal":"true","aria-labelledby":"filter-sheet-title",children:[u.jsx("div",{className:"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing",children:u.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full","aria-hidden":"true"})}),u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qo,{className:"w-5 h-5 text-gray-700"}),u.jsx("h2",{id:"filter-sheet-title",className:"text-xl font-bold text-gray-900",children:"Filters"})]}),u.jsx(IconButton,{icon:Il,onClick:s,label:"Close filters",size:"md",variant:"default"})]}),q>0&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[q," filter",1!==q?"s":""," active"]}),u.jsx("button",{onClick:handleReset,className:"text-sm font-medium transition-colors",style:{color:oz.accent.primary},"aria-label":"Reset all filters",children:"Reset"})]}),u.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[u.jsx("button",{onClick:()=>m("half"),className:"w-2 h-2 rounded-full transition-colors "+("half"===p?"bg-indigo-600":"bg-gray-300"),"aria-label":"Snap to half height"}),u.jsx("button",{onClick:()=>m("full"),className:"w-2 h-2 rounded-full transition-colors "+("full"===p?"bg-indigo-600":"bg-gray-300"),"aria-label":"Snap to full height"})]})]}),u.jsxs("div",{ref:c,className:"flex-1 overflow-y-auto px-6 py-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",id:"property-type-label",children:"Property Type"}),u.jsx("div",{className:"flex flex-wrap gap-2",role:"group","aria-labelledby":"property-type-label",children:[{value:"residential",label:"Residential"},{value:"development",label:"Developments"},{value:"land",label:"Land"}].map(e=>u.jsx(MicroPill,{label:e.label,selected:b===e.value,onClick:()=>A(b===e.value?null:e.value),size:"md",variant:"default"},e.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",id:"price-range-label",children:"Price Range"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min-price",className:"block text-xs text-gray-600 mb-1.5",children:"Min Price"}),u.jsx("input",{id:"min-price",type:"number",value:j||"",onChange:e=>L(e.target.value?Number(e.target.value):null,N),placeholder:"No min",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm},"aria-label":"Minimum price"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max-price",className:"block text-xs text-gray-600 mb-1.5",children:"Max Price"}),u.jsx("input",{id:"max-price",type:"number",value:N||"",onChange:e=>L(j,e.target.value?Number(e.target.value):null),placeholder:"No max",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm},"aria-label":"Maximum price"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",id:"bedrooms-label",children:"Bedrooms"}),u.jsx("div",{className:"flex flex-wrap gap-2",role:"group","aria-labelledby":"bedrooms-label",children:[1,2,3,4,5].map(e=>u.jsx(MicroPill,{label:`${e}+`,selected:k===e,onClick:()=>O(k===e?null:e),size:"md",variant:"default"},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",id:"bathrooms-label",children:"Bathrooms"}),u.jsx("div",{className:"flex flex-wrap gap-2",role:"group","aria-labelledby":"bathrooms-label",children:[1,2,3,4].map(e=>u.jsx(MicroPill,{label:`${e}+`,selected:_===e,onClick:()=>I(_===e?null:e),size:"md",variant:"default"},e))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"location-input",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Location"}),u.jsx("input",{id:"location-input",type:"text",value:E||"",onChange:e=>z(e.target.value||null),placeholder:"Enter location...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",style:{boxShadow:dz.sm},"aria-label":"Location"})]})]}),u.jsxs("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 px-6 py-4 space-y-3",children:[u.jsx(kb.button,{onClick:()=>{a?.(),s()},className:"w-full px-6 py-3 text-white rounded-xl font-medium transition-all",style:{background:oz.accent.gradient,boxShadow:dz.accent},whileHover:{scale:1.02,boxShadow:dz.accentHover},whileTap:{scale:.98},transition:{duration:.15},"aria-label":"Apply filters",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),u.jsx("span",{children:"Apply Filters"})]})}),q>0&&u.jsx(kb.button,{onClick:handleReset,className:"w-full px-6 py-3 bg-white text-gray-700 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all",style:{boxShadow:dz.sm},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},"aria-label":"Reset all filters",children:"Reset All Filters"})]})]})]})})}function ResponsiveFilterPanel({isOpen:e,onClose:s,onApply:a}){return useIsMobile()?u.jsx(MobileFilterBottomSheet,{isOpen:e,onClose:s,onApply:a}):u.jsx(FilterPanel,{isOpen:e,onClose:s,onApply:a})}const Bz={default:"bg-white rounded-lg shadow-md hover:shadow-hover",glass:"glass-overlay rounded-lg",elevated:"bg-white rounded-lg shadow-xl hover:shadow-2xl"};function ModernCard({children:e,className:s="",onClick:a,hoverable:l=!0,variant:c="default",as:p="div",...m}){const h=kb[p],f=!!a;return u.jsx(h,{className:cn(Bz[c],"transition-all duration-300 ease-out",f&&"cursor-pointer",s),onClick:a,whileHover:l&&f?{y:-2,scale:1.01,transition:{duration:.2,ease:"easeOut"}}:void 0,whileTap:f?{scale:.98,transition:{duration:.15,ease:"easeOut"}}:void 0,role:f?"button":void 0,tabIndex:f?0:void 0,onKeyDown:f?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a?.())}:void 0,...m,children:e})}const zz=["https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=600&fit=crop"],Vz=["https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&h=400&fit=crop","https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=800&h=400&fit=crop","https://images.unsplash.com/photo-1514565131-fce0801e5785?w=800&h=400&fit=crop","https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=800&h=400&fit=crop","https://images.unsplash.com/photo-1519501025264-65ba15a82390?w=800&h=400&fit=crop"],Uz=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"],Hz=[{id:1001,title:"Luxury Villa in Sandton",price:85e5,priceMin:85e5,location:"Sandton, Johannesburg",city:"Johannesburg",province:"Gauteng",beds:5,baths:4,size:450,imageUrl:zz[0],thumbnailUrl:zz[0],propertyType:"House",isSaved:!1,highlights:["Swimming Pool","Garden","Garage","Security"],viewCount:1234},{id:1002,title:"Modern Apartment in V&A Waterfront",price:42e5,priceMin:42e5,location:"V&A Waterfront, Cape Town",city:"Cape Town",province:"Western Cape",beds:2,baths:2,size:120,imageUrl:zz[1],thumbnailUrl:zz[1],propertyType:"Apartment",isSaved:!0,highlights:["Sea View","Gym","Concierge","Parking"],viewCount:2456},{id:1003,title:"Penthouse with Panoramic Views",price:675e4,priceMin:675e4,location:"Umhlanga, Durban",city:"Durban",province:"KwaZulu-Natal",beds:3,baths:3,size:280,imageUrl:zz[2],thumbnailUrl:zz[2],propertyType:"Penthouse",isSaved:!1,highlights:["Panoramic Views","Rooftop Terrace","Concierge","Gym"],viewCount:3421},{id:1004,title:"Family Home in Waterkloof",price:52e5,priceMin:52e5,location:"Waterkloof, Pretoria",city:"Pretoria",province:"Gauteng",beds:4,baths:3,size:320,imageUrl:zz[3],thumbnailUrl:zz[3],propertyType:"House",isSaved:!1,highlights:["Large Yard","Double Garage","Security","Pool"],viewCount:987},{id:1005,title:"Beachfront Apartment in Camps Bay",price:385e4,priceMin:385e4,location:"Camps Bay, Cape Town",city:"Cape Town",province:"Western Cape",beds:1,baths:1,size:85,imageUrl:zz[4],thumbnailUrl:zz[4],propertyType:"Apartment",isSaved:!0,highlights:["Ocean View","Pool","Gym","Concierge"],viewCount:5632},{id:1006,title:"Contemporary Townhouse",price:295e4,priceMin:295e4,location:"Bryanston, Johannesburg",city:"Johannesburg",province:"Gauteng",beds:3,baths:2,size:180,imageUrl:zz[5],thumbnailUrl:zz[5],propertyType:"Townhouse",isSaved:!1,highlights:["Modern Finishes","Garden","Garage","Security Estate"],viewCount:1876},{id:1007,title:"Elegant Estate in Constantia",price:125e5,priceMin:125e5,location:"Constantia, Cape Town",city:"Cape Town",province:"Western Cape",beds:6,baths:5,size:650,imageUrl:zz[6],thumbnailUrl:zz[6],propertyType:"Estate",isSaved:!1,highlights:["Wine Cellar","Tennis Court","Pool","Staff Quarters"],viewCount:4521},{id:1008,title:"Studio Apartment in Rosebank",price:125e4,priceMin:125e4,location:"Rosebank, Johannesburg",city:"Johannesburg",province:"Gauteng",beds:1,baths:1,size:45,imageUrl:zz[7],thumbnailUrl:zz[7],propertyType:"Studio",isSaved:!1,highlights:["City Views","Gym","Rooftop Pool","Concierge"],viewCount:2134},{id:1009,title:"Golf Estate Home",price:78e5,priceMin:78e5,location:"Steyn City, Johannesburg",city:"Johannesburg",province:"Gauteng",beds:4,baths:4,size:380,imageUrl:zz[8],thumbnailUrl:zz[8],propertyType:"House",isSaved:!0,highlights:["Golf Course Views","Smart Home","Pool","Triple Garage"],viewCount:3245},{id:1010,title:"Seaside Villa in Ballito",price:55e5,priceMin:55e5,location:"Ballito, KwaZulu-Natal",city:"Ballito",province:"KwaZulu-Natal",beds:4,baths:3,size:290,imageUrl:zz[9],thumbnailUrl:zz[9],propertyType:"Villa",isSaved:!1,highlights:["Beach Access","Pool","Garden","Security"],viewCount:2876}],qz=[{id:2001,title:"Luxury Living in Sandton",thumbnailUrl:zz[0],duration:45,views:12500,viewCount:12500,creatorName:"Sarah Properties",creatorAvatar:Uz[0],isSaved:!1,caption:"Take a tour of this stunning 5-bedroom villa with panoramic views",propertyTitle:"Luxury Villa in Sandton",propertyLocation:"Sandton, Johannesburg",propertyPrice:85e5,bedrooms:5,bathrooms:4,area:450,propertyType:"house",highlights:["Swimming Pool","Garden","Garage","Security"]},{id:2002,title:"Cape Town Waterfront Living",thumbnailUrl:zz[1],duration:60,views:8900,viewCount:8900,creatorName:"Cape Estates",creatorAvatar:Uz[1],isSaved:!0,caption:"Experience luxury apartment living at the V&A Waterfront",propertyTitle:"Modern Apartment",propertyLocation:"V&A Waterfront, Cape Town",propertyPrice:42e5,bedrooms:2,bathrooms:2,area:120,propertyType:"apartment",highlights:["Sea View","Gym","Concierge","Parking"]},{id:2003,title:"Penthouse Tour - Umhlanga",thumbnailUrl:zz[2],duration:90,views:15600,viewCount:15600,creatorName:"Durban Homes",creatorAvatar:Uz[2],isSaved:!1,caption:"Exclusive penthouse with 360-degree ocean and city views",propertyTitle:"Penthouse with Views",propertyLocation:"Umhlanga, Durban",propertyPrice:675e4,bedrooms:3,bathrooms:3,area:280,propertyType:"apartment",highlights:["Panoramic Views","Rooftop Terrace","Concierge","Gym"]},{id:2004,title:"Family Home Showcase",thumbnailUrl:zz[3],duration:55,views:6700,viewCount:6700,creatorName:"Pretoria Properties",creatorAvatar:Uz[3],isSaved:!1,caption:"Perfect family home in prestigious Waterkloof",propertyTitle:"Family Home",propertyLocation:"Waterkloof, Pretoria",propertyPrice:52e5,bedrooms:4,bathrooms:3,area:320,propertyType:"house",highlights:["Large Yard","Double Garage","Security","Pool"]},{id:2005,title:"Beachfront Paradise",thumbnailUrl:zz[4],duration:40,views:21e3,viewCount:21e3,creatorName:"Coastal Living",creatorAvatar:Uz[0],isSaved:!0,caption:"Wake up to the sound of waves in this beachfront gem",propertyTitle:"Beachfront Apartment",propertyLocation:"Camps Bay, Cape Town",propertyPrice:385e4,bedrooms:1,bathrooms:1,area:85,propertyType:"apartment",highlights:["Ocean View","Pool","Gym","Concierge"]}],Wz=[{id:3001,name:"Sandton",city:"Johannesburg",imageUrl:Vz[0],heroBannerUrl:Vz[0],propertyCount:245,avgPrice:45e5,avgPropertyPrice:45e5,priceChange:8.5,followerCount:1250,highlights:["Business Hub","Shopping","Restaurants","Nightlife"]},{id:3002,name:"Camps Bay",city:"Cape Town",imageUrl:Vz[1],heroBannerUrl:Vz[1],propertyCount:156,avgPrice:62e5,avgPropertyPrice:62e5,priceChange:12.3,followerCount:2100,highlights:["Beach","Restaurants","Sunset Views","Luxury"]},{id:3003,name:"Umhlanga",city:"Durban",imageUrl:Vz[2],heroBannerUrl:Vz[2],propertyCount:189,avgPrice:38e5,avgPropertyPrice:38e5,priceChange:6.7,followerCount:980,highlights:["Beach","Shopping","Family-Friendly","Golf"]},{id:3004,name:"Waterkloof",city:"Pretoria",imageUrl:Vz[3],heroBannerUrl:Vz[3],propertyCount:98,avgPrice:51e5,avgPropertyPrice:51e5,priceChange:4.2,followerCount:560,highlights:["Embassies","Security","Views","Prestigious"]},{id:3005,name:"Constantia",city:"Cape Town",imageUrl:Vz[4],heroBannerUrl:Vz[4],propertyCount:134,avgPrice:85e5,avgPropertyPrice:85e5,priceChange:9.8,followerCount:1450,highlights:["Wine Estates","Nature","Schools","Exclusive"]}],Zz=[{id:4001,title:"Property Market Update Q4 2024",description:"Gauteng property prices show steady growth with Sandton leading at 8.5% YoY increase",imageUrl:"https://images.unsplash.com/photo-1460472178825-e5240623afd5?w=800&h=400&fit=crop",insightType:"market-trend",data:{trend:"up",percentage:8.5,region:"Gauteng"}},{id:4002,title:"Best Areas for Investment",description:"Top 5 suburbs showing highest rental yields in South Africa",imageUrl:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=400&fit=crop",insightType:"investment",data:{areas:["Rosebank","Sandton","Sea Point","Umhlanga","Menlyn"]}},{id:4003,title:"First-Time Buyer Guide",description:"Everything you need to know about buying your first property in SA",imageUrl:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=400&fit=crop",insightType:"guide",data:{steps:5,readTime:"8 min"}}];function getPlaceholderSections(){return[{id:"for-you",title:"For You",subtitle:"Personalized based on your preferences",type:"for-you",items:Hz.slice(0,5).map(e=>({id:e.id,type:"property",data:e}))},{id:"popular-near-you",title:"Popular Near You",subtitle:"Trending properties in your area",type:"popular-near-you",items:Hz.slice(5,10).map(e=>({id:e.id,type:"property",data:e}))},{id:"trending-videos",title:"Trending Videos",subtitle:"Most watched property tours",type:"trending",items:qz.map(e=>({id:e.id,type:"video",data:e}))},{id:"neighbourhoods",title:"Explore Neighbourhoods",subtitle:"Discover your perfect area",type:"trending",items:Wz.map(e=>({id:e.id,type:"neighbourhood",data:e}))},{id:"insights",title:"Market Insights",subtitle:"Stay informed about the property market",type:"trending",items:Zz.map(e=>({id:e.id,type:"insight",data:e}))}]}const Kz=qz.map(e=>({id:`placeholder-${e.id}`,title:e.title,caption:`${e.bedrooms} Bed | ${e.bathrooms} Bath | ${e.highlights?.slice(0,2).join(" | ")}`,primaryMediaUrl:e.thumbnailUrl,viewCount:e.viewCount||e.views,likeCount:Math.floor(.08*(e.viewCount||e.views)),agentId:1,publishedAt:new Date,type:"listing",propertyTitle:e.propertyTitle,propertyLocation:e.propertyLocation,propertyPrice:e.propertyPrice,bedrooms:e.bedrooms,bathrooms:e.bathrooms,area:e.area,yardSize:e.area?Math.floor(1.5*e.area):void 0,propertyType:e.propertyType,highlights:e.highlights}));function ExploreFeed(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),[l,c]=re.useState(0),[p,m]=re.useState(""),{feedType:h,setFeedType:f,showFilters:g,setShowFilters:b,toggleFilters:j,filterActions:N}=useExploreCommonState({initialViewMode:"shorts",initialFeedType:"recommended"}),{data:k,isLoading:_}=At.explore.getFeed.useQuery({feedType:h,limit:20,offset:0,userId:s?.id}),T=At.explore.recordInteraction.useMutation(),E=k?.shorts&&k.shorts.length>0?k.shorts:Kz,A=p?E.filter(e=>e.title?.toLowerCase().includes(p.toLowerCase())||e.caption?.toLowerCase().includes(p.toLowerCase())||e.propertyLocation?.toLowerCase().includes(p.toLowerCase())):E,handleScroll2=e=>{const{scrollTop:s,clientHeight:a}=e.currentTarget,l=Math.round(s/a);c(l)};return re.useEffect(()=>{document.querySelectorAll("video").forEach((e,s)=>{s===l?e.play().catch(()=>{}):e.pause()})},[l]),_?u.jsx(kb.div,{className:"flex items-center justify-center h-screen",style:{backgroundColor:oz.bg.dark},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(no,{className:"animate-spin h-8 w-8",style:{color:oz.text.inverse}}),u.jsx("p",{style:{color:oz.text.inverse},className:"text-sm",children:"Loading amazing properties..."})]})}):u.jsxs(kb.div,{className:"h-screen relative overflow-hidden",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #312e81 100%)"},initial:"initial",animate:"animate",exit:"exit",variants:getVariants(gz),children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent"}),u.jsxs("div",{className:"hidden lg:flex h-full",children:[u.jsx(kb.aside,{className:"w-80 backdrop-blur-xl border-r overflow-y-auto",style:{backgroundColor:oz.glass.bgDark,borderColor:oz.glass.borderDark},initial:{x:-320,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3,ease:"easeOut"},children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold",style:{color:oz.text.inverse,fontWeight:uz.fontWeight.bold},children:"Filters"}),N.getFilterCount()>0&&u.jsx(kb.button,{onClick:N.clearFilters,className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:oz.glass.bg,color:oz.accent.primary},whileHover:{scale:1.05},whileTap:{scale:.95},children:"Clear All"})]}),u.jsx("div",{className:"mb-6",children:u.jsx(EnhancedSearchBar,{onSearch:e=>m(e),placeholder:"Search properties..."})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"text-sm font-medium mb-3 block",style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:uz.fontWeight.medium},children:"Feed Type"}),u.jsx(ef,{value:h,onValueChange:e=>f(e),children:u.jsxs(tf,{className:"backdrop-blur-xl border rounded-xl shadow-lg w-full flex-col h-auto space-y-2 p-2",style:{backgroundColor:oz.glass.bgDark,borderColor:oz.glass.borderDark},children:[u.jsxs(rf,{value:"recommended",className:"w-full text-white rounded-lg transition-all duration-300 flex items-center justify-center gap-2",style:{background:"recommended"===h?oz.accent.gradient:"transparent"},children:[u.jsx(el,{className:"h-4 w-4"}),"For You"]}),u.jsxs(rf,{value:"area",className:"w-full text-white rounded-lg transition-all duration-300 flex items-center justify-center gap-2",style:{background:"area"===h?oz.accent.gradient:"transparent"},children:[u.jsx(lo,{className:"h-4 w-4"}),"By Area"]}),u.jsxs(rf,{value:"category",className:"w-full text-white rounded-lg transition-all duration-300 flex items-center justify-center gap-2",style:{background:"category"===h?oz.accent.gradient:"transparent"},children:[u.jsx(Li,{className:"h-4 w-4"}),"By Type"]})]})})]}),u.jsxs(kb.button,{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg mb-6",style:{backgroundColor:g?oz.accent.primary:oz.glass.bgDark,color:oz.text.inverse,border:`1px solid ${oz.glass.borderDark}`},variants:fz,whileHover:"hover",whileTap:"tap",children:[u.jsx(Qo,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[g?"Hide":"Show"," Advanced Filters"]}),N.getFilterCount()>0&&u.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs font-bold",style:{backgroundColor:oz.accent.light,color:oz.text.inverse},children:N.getFilterCount()})]}),u.jsxs(ModernCard,{variant:"glass",className:"p-4",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"rgba(255, 255, 255, 0.7)"},children:"Total Properties"}),u.jsx("p",{className:"text-2xl font-bold",style:{color:oz.text.inverse,fontWeight:uz.fontWeight.bold},children:A.length})]})]})}),u.jsxs("div",{className:"flex-1 relative",children:[a&&u.jsxs(kb.button,{onClick:()=>e("/explore/upload"),className:"absolute top-6 right-6 z-50 flex items-center gap-2 px-5 py-2.5 rounded-full text-white border",style:{background:oz.accent.gradient,boxShadow:dz.accent,borderColor:oz.glass.border},variants:fz,whileHover:"hover",whileTap:"tap","aria-label":"Upload content",children:[u.jsx(yl,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",style:{fontWeight:uz.fontWeight.semibold},children:"Upload Property"})]}),u.jsx(AnimatePresence,{mode:"wait",children:u.jsx(kb.div,{className:"h-full w-full overflow-y-scroll snap-y snap-mandatory scrollbar-hide",style:{scrollSnapType:"y mandatory",overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},onScroll:handleScroll2,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeOut"},children:A?.map((e,s)=>u.jsx("div",{className:"snap-start snap-always h-screen w-full",children:u.jsx(VideoCard$1,{video:{id:e.id,title:e.title,description:e.caption||"",videoUrl:e.primaryMediaUrl||"",thumbnailUrl:e.primaryMediaUrl||"",views:e.viewCount||0,likes:e.likeCount||0,userId:e.agentId||e.developerId||0,createdAt:e.publishedAt||new Date,type:e.type||"listing",propertyTitle:e.propertyTitle||e.title,propertyLocation:e.propertyLocation,propertyPrice:e.propertyPrice,caption:e.caption,bedrooms:e.bedrooms,bathrooms:e.bathrooms,area:e.area,yardSize:e.yardSize,propertyType:e.propertyType,highlights:e.highlights||[]},isActive:s===l,onView:()=>{T.mutate({shortId:e.id,interactionType:"view",feedType:h})}})},e.id))},h)})]})]}),u.jsxs("div",{className:"lg:hidden h-full relative",children:[u.jsx(kb.header,{className:"absolute top-0 left-0 right-0 z-50 pb-6",style:{background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.7) 70%, transparent 100%)"},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,ease:"easeOut"},children:u.jsxs("div",{className:"p-4 flex justify-between items-center gap-3",children:[u.jsx(ef,{value:h,onValueChange:e=>f(e),className:"flex-1",children:u.jsxs(tf,{className:"backdrop-blur-xl border rounded-full shadow-lg w-full",style:{backgroundColor:oz.glass.bgDark,borderColor:oz.glass.borderDark},children:[u.jsxs(rf,{value:"recommended",className:"text-white rounded-full transition-all duration-300 flex items-center gap-1.5 text-xs sm:text-sm",style:{background:"recommended"===h?oz.accent.gradient:"transparent"},children:[u.jsx(el,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),u.jsx("span",{className:"hidden xs:inline",children:"For You"})]}),u.jsxs(rf,{value:"area",className:"text-white rounded-full transition-all duration-300 flex items-center gap-1.5 text-xs sm:text-sm",style:{background:"area"===h?oz.accent.gradient:"transparent"},children:[u.jsx(lo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),u.jsx("span",{className:"hidden xs:inline",children:"Area"})]}),u.jsxs(rf,{value:"category",className:"text-white rounded-full transition-all duration-300 flex items-center gap-1.5 text-xs sm:text-sm",style:{background:"category"===h?oz.accent.gradient:"transparent"},children:[u.jsx(Li,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),u.jsx("span",{className:"hidden xs:inline",children:"Type"})]})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(kb.button,{onClick:j,className:"flex items-center justify-center p-2 rounded-full border",style:{backgroundColor:g?oz.accent.primary:oz.glass.bgDark,borderColor:oz.glass.borderDark},variants:fz,whileHover:"hover",whileTap:"tap","aria-label":"Toggle filters",children:[u.jsx(Qo,{className:"w-4 h-4 text-white"}),N.getFilterCount()>0&&u.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs font-bold flex items-center justify-center",style:{backgroundColor:oz.status.error,color:oz.text.inverse},children:N.getFilterCount()})]}),a&&u.jsxs(kb.button,{onClick:()=>e("/explore/upload"),className:"flex items-center gap-2 px-3 py-2 rounded-full text-white border",style:{background:oz.accent.gradient,boxShadow:dz.accent,borderColor:oz.glass.border},variants:fz,whileHover:"hover",whileTap:"tap","aria-label":"Upload content",children:[u.jsx(yl,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Upload"})]})]})]})}),u.jsx(AnimatePresence,{mode:"wait",children:u.jsx(kb.div,{className:"h-full w-full overflow-y-scroll snap-y snap-mandatory scrollbar-hide",style:{scrollSnapType:"y mandatory",overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},onScroll:handleScroll2,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},children:A?.map((e,s)=>u.jsx("div",{className:"snap-start snap-always h-screen w-full",children:u.jsx(VideoCard$1,{video:{id:e.id,title:e.title,description:e.caption||"",videoUrl:e.primaryMediaUrl||"",thumbnailUrl:e.primaryMediaUrl||"",views:e.viewCount||0,likes:e.likeCount||0,userId:e.agentId||e.developerId||0,createdAt:e.publishedAt||new Date,type:e.type||"listing",propertyTitle:e.propertyTitle||e.title,propertyLocation:e.propertyLocation,propertyPrice:e.propertyPrice,caption:e.caption,bedrooms:e.bedrooms,bathrooms:e.bathrooms,area:e.area,yardSize:e.yardSize,propertyType:e.propertyType,highlights:e.highlights||[]},isActive:s===l,onView:()=>{T.mutate({shortId:e.id,interactionType:"view",feedType:h})}})},e.id))},h)})]}),u.jsx(ResponsiveFilterPanel,{isOpen:g,onClose:()=>b(!1),onApply:()=>{b(!1)}})]})}function SaveButton({propertyId:e,initialSaved:s=!1,variant:a="default",size:l="md",showLabel:c=!1,onSaveSuccess:p,onUnsaveSuccess:m}){const{isSaved:h,isAnimating:f,isLoading:g,toggleSave:b}=function useSaveProperty({contentId:e,propertyId:s,initialSaved:a=!1,onSaveSuccess:l,onUnsaveSuccess:c}){const[u,p]=re.useState(a),[m,h]=re.useState(!1),f=At.exploreApi.toggleSaveProperty.useMutation({onSuccess:e=>{p(e.data.saved),h(!0),setTimeout(()=>h(!1),600),"vibrate"in navigator&&navigator.vibrate(50),e.data.saved&&l?l():!e.data.saved&&c&&c()},onError:e=>{console.error("Failed to toggle save:",e)}}),g=re.useCallback(()=>{f.mutate({contentId:e,propertyId:s})},[e,s,f]);return{isSaved:u,isAnimating:m,isLoading:f.isLoading,toggleSave:g}}({propertyId:e,initialSaved:s,onSaveSuccess:p,onUnsaveSuccess:m});return u.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),b()},disabled:g,className:`\n        ${{sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"}[l]}\n        ${{default:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200",overlay:"bg-black/30 hover:bg-black/50 text-white backdrop-blur-sm",card:"bg-white hover:bg-gray-50 text-gray-700 shadow-sm"}[a]}\n        rounded-full\n        flex items-center justify-center\n        transition-all duration-200\n        ${f?"scale-125":"scale-100"}\n        ${g?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n        ${h?"text-blue-600":""}\n      `,"aria-label":h?"Unsave property":"Save property",title:h?"Unsave property":"Save property",children:[u.jsx(Sa,{size:{sm:16,md:20,lg:24}[l],fill:h?"currentColor":"none",className:"transition-all duration-200 "+(f?"animate-bounce":"")}),c&&u.jsx("span",{className:"ml-2 text-sm font-medium",children:h?"Saved":"Save"})]})}const Gz={property:{icon:"",color:"primary",label:"Property",bgColor:"bg-primary",textColor:"text-primary-foreground"},expert_tip:{icon:"",color:"amber",label:"Expert Tip",bgColor:"bg-amber-500",textColor:"text-white"},service:{icon:"",color:"blue",label:"Service",bgColor:"bg-blue-500",textColor:"text-white"},finance:{icon:"",color:"green",label:"Finance",bgColor:"bg-green-500",textColor:"text-white"},design:{icon:"",color:"purple",label:"Design",bgColor:"bg-purple-500",textColor:"text-white"}},Yz={sm:{container:"px-1.5 py-0.5 text-[10px] gap-0.5",icon:"text-xs",rounded:"rounded"},md:{container:"px-2 py-1 text-xs gap-1",icon:"text-sm",rounded:"rounded-md"},lg:{container:"px-2.5 py-1.5 text-sm gap-1.5",icon:"text-base",rounded:"rounded-lg"}},ContentBadge=({type:e,className:s,size:a="md",showLabel:l=!1})=>{const c=Gz[e],p=Yz[a];return c?u.jsxs("div",{className:cn("inline-flex items-center justify-center font-medium","shadow-sm backdrop-blur-sm","transition-all duration-200",p.container,p.rounded,c.bgColor,c.textColor,s),role:"img","aria-label":`${c.label} content`,"data-badge-type":e,children:[u.jsx("span",{className:cn("leading-none",p.icon),"aria-hidden":"true",children:c.icon}),l&&u.jsx("span",{className:"font-semibold leading-none whitespace-nowrap",children:c.label})]}):(console.warn(`Invalid badge type: ${e}`),null)},ContentBadgeOverlay=e=>u.jsx("div",{className:"absolute top-2 left-2 z-10",children:u.jsx(ContentBadge,{...e})});function PropertyCard$1({property:e,onClick:s,onSave:a}){const[l,c]=re.useState(!1),formatPrice2=()=>{const s=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0});return e.priceMax&&e.priceMax>e.price?`${s.format(e.price)} - ${s.format(e.priceMax)}`:s.format(e.price)};return u.jsxs(ModernCard,{onClick:s,className:"group relative overflow-hidden p-0",hoverable:!0,variant:"default",as:"article","aria-label":`Property: ${e.title} at ${e.location}, priced at ${formatPrice2()}`,role:"article",children:[u.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[e.badgeType&&u.jsx(ContentBadgeOverlay,{type:e.badgeType,size:"sm"}),!l&&u.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200"}),u.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 "+(l?"opacity-100":"opacity-0"),onLoad:()=>c(!0),loading:"lazy"}),u.jsx("div",{className:"absolute top-3 right-3 z-10",children:u.jsx(SaveButton,{propertyId:e.id,initialSaved:e.isSaved,variant:"card",size:"md",onSaveSuccess:a})}),u.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-black/70 backdrop-blur-sm rounded-full text-white text-xs font-medium",role:"status","aria-label":`Property type: ${e.propertyType}`,children:e.propertyType})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xl font-bold mb-2",style:{color:oz.text.primary},children:formatPrice2()}),u.jsx("h3",{className:"text-base font-semibold mb-2 line-clamp-2 group-hover:text-indigo-600 transition-colors duration-200",style:{color:oz.text.primary},children:e.title}),u.jsxs("div",{className:"flex items-center text-sm mb-3",style:{color:oz.text.secondary},children:[u.jsx(lo,{className:"w-4 h-4 mr-1 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:e.location})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:oz.text.primary},role:"list","aria-label":"Property features",children:[void 0!==e.beds&&u.jsxs("div",{className:"flex items-center gap-1",role:"listitem",children:[u.jsx(ja,{className:"w-4 h-4","aria-hidden":"true"}),u.jsxs("span",{className:"font-medium",children:[u.jsx("span",{className:"sr-only",children:"Bedrooms: "}),e.beds]})]}),void 0!==e.baths&&u.jsxs("div",{className:"flex items-center gap-1",role:"listitem",children:[u.jsx(ya,{className:"w-4 h-4","aria-hidden":"true"}),u.jsxs("span",{className:"font-medium",children:[u.jsx("span",{className:"sr-only",children:"Bathrooms: "}),e.baths]})]}),e.size&&u.jsxs("div",{className:"flex items-center gap-1",role:"listitem",children:[u.jsx(nl,{className:"w-4 h-4","aria-hidden":"true"}),u.jsxs("span",{className:"font-medium",children:[u.jsx("span",{className:"sr-only",children:"Size: "}),e.size,"m"]})]})]})]})]})}function VideoCard({video:e,onClick:s,onSave:a,enablePreview:l=!1}){const[c,p]=re.useState(e.isSaved||!1),[m,h]=re.useState(!1),[f,g]=re.useState(!1),formatDuration=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,formatViews=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();return u.jsxs(ModernCard,{variant:"default",hoverable:!0,onClick:s,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),className:"group relative overflow-hidden cursor-pointer",initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",variants:hz,as:"article",role:"article","aria-label":`Video: ${e.title} by ${e.creatorName}, ${formatViews(e.views)} views`,children:[u.jsxs("div",{className:"relative aspect-[9/16] overflow-hidden bg-gray-100",children:[e.badgeType&&u.jsx(ContentBadgeOverlay,{type:e.badgeType,size:"sm"}),!m&&u.jsx(kb.div,{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200",animate:{backgroundPosition:["0% 0%","100% 0%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 100%"}}),u.jsx(kb.img,{src:e.thumbnailUrl,alt:e.title,className:cn("w-full h-full object-cover",m?"opacity-100":"opacity-0"),onLoad:()=>h(!0),loading:"lazy",animate:{scale:f?1.05:1},transition:{duration:.5,ease:"easeOut"}}),u.jsx(kb.div,{className:"absolute inset-0 flex items-center justify-center",initial:{backgroundColor:"rgba(0, 0, 0, 0.2)"},animate:{backgroundColor:f?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.2)"},transition:{duration:.3},children:u.jsx(kb.div,{className:"glass-overlay-dark w-16 h-16 rounded-full flex items-center justify-center",variants:fz,whileHover:"hover",whileTap:"tap",children:u.jsx(Ao,{className:"w-8 h-8 text-white ml-1",fill:"currentColor"})})}),u.jsx(kb.div,{className:"absolute bottom-3 right-3 px-2 py-1 glass-overlay-dark rounded text-white text-xs font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},role:"status","aria-label":`Video duration: ${formatDuration(e.duration)}`,children:formatDuration(e.duration)}),u.jsx(kb.button,{onClick:e=>{e.stopPropagation(),p(!c),a()},className:"absolute top-3 right-3 w-10 h-10 glass-overlay rounded-full flex items-center justify-center z-10",variants:fz,whileHover:"hover",whileTap:"tap",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.15},"aria-label":c?"Unsave video":"Save video",children:u.jsx(kb.div,{animate:{scale:c?[1,1.2,1]:1},transition:{duration:.3},children:u.jsx($i,{className:cn("w-5 h-5 transition-all duration-300",c?"fill-red-500 text-red-500":"text-gray-700")})})}),u.jsxs(kb.div,{className:"absolute bottom-3 left-3 flex items-center gap-1 px-2 py-1 glass-overlay-dark rounded text-white text-xs font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},role:"status","aria-label":`${formatViews(e.views)} views`,children:[u.jsx(fi,{className:"w-3 h-3","aria-hidden":"true"}),u.jsx("span",{children:formatViews(e.views)})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsx(kb.h3,{className:cn("text-sm font-semibold text-gray-800 mb-2 line-clamp-2 transition-colors duration-300",f&&"text-indigo-600"),style:{color:oz.text.primary},children:e.title}),u.jsxs("div",{className:"flex items-center gap-2",children:[e.creatorAvatar?u.jsx(kb.img,{src:e.creatorAvatar,alt:e.creatorName,className:"w-6 h-6 rounded-full object-cover",whileHover:{scale:1.1},transition:{duration:.2}}):u.jsx(kb.div,{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",whileHover:{scale:1.1},transition:{duration:.2},children:e.creatorName.charAt(0).toUpperCase()}),u.jsx("span",{className:"text-xs truncate",style:{color:oz.text.secondary},children:e.creatorName})]})]})]})}function NeighbourhoodCard({neighbourhood:e,onClick:s,onFollow:a}){const[l,c]=re.useState(!1),[p,m]=re.useState(!1);return u.jsxs(ModernCard,{onClick:s,className:"group relative overflow-hidden p-0",hoverable:!0,variant:"default",as:"article","aria-label":`Neighbourhood: ${e.name} in ${e.city}`,children:[u.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden bg-gray-100",children:[e.badgeType&&u.jsx(ContentBadgeOverlay,{type:e.badgeType,size:"sm"}),!p&&u.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200"}),u.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 "+(p?"opacity-100":"opacity-0"),onLoad:()=>m(!0),loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),u.jsx(kb.button,{onClick:e=>{e.stopPropagation(),c(!l),a()},className:"absolute top-3 right-3 px-4 py-2 rounded-full text-sm font-medium transition-all "+(l?"bg-white text-gray-900 shadow-md":"glass-overlay text-gray-900 hover:bg-white"),whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.15},"aria-label":l?"Unfollow neighbourhood":"Follow neighbourhood","aria-pressed":l,type:"button",children:l?"Following":"Follow"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0",style:{padding:lz.md},children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-indigo-300 transition-colors duration-200",style:{fontWeight:uz.fontWeight.bold,fontSize:uz.fontSize.xl},children:e.name}),u.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[u.jsx(lo,{className:"w-4 h-4 mr-1 flex-shrink-0"}),u.jsx("span",{children:e.city})]})]})]}),u.jsxs("div",{style:{padding:lz.md},children:[u.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:lz.sm},children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs mb-1",style:{color:oz.text.secondary},children:"Avg. Price"}),u.jsx("div",{className:"text-lg font-bold",style:{color:oz.text.primary,fontWeight:uz.fontWeight.bold},children:(h=e.avgPrice,h>=1e6?`R${(h/1e6).toFixed(1)}M`:h>=1e3?`R${(h/1e3).toFixed(0)}K`:`R${h}`)})]}),void 0!==e.priceChange&&u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium "+(e.priceChange>=0?"text-green-600":"text-red-600"),style:{fontWeight:uz.fontWeight.medium},children:[u.jsx(fl,{className:"w-4 h-4 "+(e.priceChange<0?"rotate-180":"")}),u.jsxs("span",{children:[Math.abs(e.priceChange),"%"]})]})]}),e.highlights&&e.highlights.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",style:{marginBottom:lz.sm},children:e.highlights.slice(0,2).map((e,s)=>u.jsx("span",{className:"px-2 py-1 text-xs rounded-full",style:{backgroundColor:oz.accent.subtle,color:oz.accent.primary,fontSize:uz.fontSize.xs,borderRadius:cz.pill},children:e},s))}),u.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:oz.text.secondary},role:"list","aria-label":"Neighbourhood statistics",children:[u.jsxs("div",{className:"flex items-center gap-1",role:"listitem",children:[u.jsx(Bi,{className:"w-4 h-4","aria-hidden":"true"}),u.jsxs("span",{children:[u.jsx("span",{className:"sr-only",children:"Property count: "}),e.propertyCount," properties"]})]}),void 0!==e.followerCount&&u.jsxs("div",{className:"flex items-center gap-1",role:"listitem",children:[u.jsx(Cl,{className:"w-4 h-4","aria-hidden":"true"}),u.jsxs("span",{children:[u.jsx("span",{className:"sr-only",children:"Follower count: "}),e.followerCount," followers"]})]})]})]})]});var h}function InsightCard({insight:e,onClick:s}){const[a,l]=re.useState(!1),c=(()=>{switch(e.insightType){case"market-trend":return{gradient:"from-emerald-500 to-green-600",bg:"bg-emerald-50",text:"text-emerald-700",iconBg:"bg-emerald-100",badge:"bg-emerald-500/20"};case"price-analysis":return{gradient:"from-blue-500 to-indigo-600",bg:"bg-blue-50",text:"text-blue-700",iconBg:"bg-blue-100",badge:"bg-blue-500/20"};case"investment-tip":return{gradient:"from-purple-500 to-pink-600",bg:"bg-purple-50",text:"text-purple-700",iconBg:"bg-purple-100",badge:"bg-purple-500/20"};case"area-spotlight":return{gradient:"from-orange-500 to-red-600",bg:"bg-orange-50",text:"text-orange-700",iconBg:"bg-orange-100",badge:"bg-orange-500/20"};default:return{gradient:"from-gray-500 to-gray-600",bg:"bg-gray-50",text:"text-gray-700",iconBg:"bg-gray-100",badge:"bg-gray-500/20"}}})();return u.jsxs(ModernCard,{onClick:s,className:"group overflow-hidden",variant:"default",as:"article",role:"article","aria-label":`${e.insightType} insight: ${e.title}`,children:[u.jsxs("div",{className:cn("relative p-4 bg-gradient-to-br text-white",c.gradient),children:[e.badgeType&&u.jsx(ContentBadgeOverlay,{type:e.badgeType,size:"sm"}),u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx(kb.div,{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:(()=>{const s="w-5 h-5";switch(e.insightType){case"market-trend":return u.jsx(fl,{className:s});case"price-analysis":return u.jsx(Da,{className:s});case"investment-tip":return u.jsx(Qi,{className:s});case"area-spotlight":return u.jsx(lo,{className:s});default:return u.jsx(Vi,{className:s})}})()}),u.jsx(kb.span,{className:cn("px-3 py-1 rounded-full text-xs font-medium",c.badge,"backdrop-blur-sm"),initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.1},role:"status","aria-label":"Content type: Insight",children:"Insight"})]}),e.data&&u.jsxs(kb.div,{className:"mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:[u.jsx("div",{className:"text-3xl font-bold mb-1 tracking-tight",children:e.data.value}),void 0!==e.data.change&&u.jsxs(kb.div,{className:"flex items-center gap-1 text-sm",whileHover:{x:2},transition:{duration:.2},children:[e.data.change>=0?u.jsx(fl,{className:"w-4 h-4"}):u.jsx(hl,{className:"w-4 h-4"}),u.jsxs("span",{className:"font-medium",children:[Math.abs(e.data.change),"%"," ",e.data.change>=0?"increase":"decrease"]})]}),e.data.label&&u.jsx("div",{className:"text-xs text-white/80 mt-1",children:e.data.label})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:cn("text-base font-bold mb-2 transition-colors duration-200","text-gray-900 group-hover:text-indigo-600"),children:e.title}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 leading-relaxed",children:e.description})]}),e.imageUrl&&u.jsxs("div",{className:"relative h-32 overflow-hidden bg-gray-100",children:[!a&&u.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200"}),u.jsx(kb.img,{src:e.imageUrl,alt:e.title,className:cn("w-full h-full object-cover",a?"opacity-100":"opacity-0"),onLoad:()=>l(!0),loading:"lazy",whileHover:{scale:1.05},transition:{duration:.5,ease:"easeOut"}})]}),u.jsx("div",{className:"px-4 pb-4",children:u.jsxs(kb.div,{className:cn("text-sm font-medium flex items-center gap-1","text-indigo-600 group-hover:text-indigo-700"),whileHover:{x:2},transition:{duration:.2},children:[u.jsx("span",{children:"Learn more"}),u.jsx(kb.div,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop",ease:"easeInOut"},children:u.jsx(pa,{className:"w-4 h-4"})})]})})]})}function useDiscoveryFeed(e={}){const[s,a]=re.useState([]),[l,c]=re.useState(1),[u,p]=re.useState(!0),[m]=re.useState(e.usePlaceholder??!0),h=re.useRef(null),f=e.filters||{},g=Object.keys(f).length>0&&Object.values(f).some(e=>null!=e&&(!Array.isArray(e)||e.length>0)),b=At.explore.getFeed.useQuery({feedType:"recommended",limit:20,offset:20*(l-1)},{enabled:!g,keepPreviousData:!0}),j=At.properties.search.useQuery({limit:20,offset:20*(l-1),...f},{enabled:g,keepPreviousData:!0}),N=g?j.isLoading:b.isLoading,k=g?j.error:b.error,_=g?j.refetch:b.refetch,T=g?j.data:b.data,E=At.explore.recordInteraction.useMutation();re.useEffect(()=>{if(g){if(j.data?.properties){const e={id:"search-results",title:`Found ${j.data.total} Properties`,type:"for-you",items:j.data.properties.map(e=>({id:Number(e.id),type:"property",data:e}))};if(1===l)a([e]);else{const e={id:`search-page-${l}`,title:"",type:"for-you",items:j.data.properties.map(e=>({id:Number(e.id),type:"property",data:e}))};a(s=>[...s,e])}p(j.data.hasMore)}}else{const e=T;if(Array.isArray(e)&&e.length>0){const s=organizeIntoBlocks(e);a(1===l?s:e=>[...e,...s]),p(20===e.length)}else!N&&m&&0===s.length&&(a(function getPlaceholderContentBlocks(){return[{id:"block-properties",title:"Featured Properties",type:"for-you",items:Hz.slice(0,6).map(e=>({id:e.id,type:"property",data:e}))},{id:"block-videos",title:"Property Tours",type:"trending",items:qz.slice(0,4).map(e=>({id:e.id,type:"video",data:e}))},{id:"block-neighbourhoods",title:"Popular Areas",type:"popular-near-you",items:Wz.map(e=>({id:e.id,type:"neighbourhood",data:e}))},{id:"block-more-properties",title:"More Properties",type:"new-developments",items:Hz.slice(4,10).map(e=>({id:e.id,type:"property",data:e}))}]}()),p(!1))}},[T,l,N,m,g]);const organizeIntoBlocks=e=>{const s=[];for(let a=0;a<e.length;a+=7){const c=e.slice(a,a+7);let u="for-you",p="For You";0===a&&1===l?(u="for-you",p="For You"):7===a&&1===l?(u="popular-near-you",p="Popular Near You"):14===a&&1===l?(u="new-developments",p="New Developments"):(u="trending",p="Trending"),s.push({id:`block-${l}-${a}`,title:p,type:u,items:c.map(e=>({id:e.id,type:e.contentType,data:e}))})}return s},A=re.useCallback(()=>{!N&&u&&c(e=>e+1)},[N,u]),L=re.useCallback(async(e,s)=>{try{await E.mutateAsync({shortId:e,interactionType:"click"===s?"view":s,feedType:"recommended"})}catch(a){console.error("Failed to record engagement:",a)}},[E]),O=re.useCallback(e=>{h.current&&h.current.disconnect(),e&&(h.current=new IntersectionObserver(e=>{e[0].isIntersecting&&u&&!N&&A()},{threshold:.5}),h.current.observe(e))},[u,N,A]);return{contentBlocks:s,isLoading:N,error:k,hasMore:u,loadMore:A,recordEngagement:L,setupObserver:O,refetch:_}}function DiscoveryCardFeed({categoryId:e,filters:s,onItemClick:a}){const{contentBlocks:l,isLoading:c,error:p,hasMore:m,recordEngagement:h,setupObserver:f,refetch:g}=useDiscoveryFeed({filters:s}),b=re.useRef(null);re.useEffect(()=>{b.current&&f(b.current)},[f]);const handleItemClick=e=>{h(e.id,"click"),a?.(e)},handleSave=e=>{h(e.id,"save")},renderCard=e=>{switch(e.type){case"property":return u.jsx(PropertyCard$1,{property:{id:e.data.id,title:e.data.title,price:e.data.priceMin||e.data.price,priceMax:e.data.priceMax,location:e.data.location||`${e.data.city}, ${e.data.province}`,beds:e.data.beds,baths:e.data.baths,size:e.data.size,imageUrl:e.data.thumbnailUrl||e.data.imageUrl,propertyType:e.data.propertyType||"Property",isSaved:e.data.isSaved},onClick:()=>handleItemClick(e),onSave:()=>handleSave(e)},e.id);case"video":return u.jsx(VideoCard,{video:{id:e.data.id,title:e.data.title,thumbnailUrl:e.data.thumbnailUrl,duration:e.data.duration||30,views:e.data.viewCount||0,creatorName:e.data.creatorName||"Unknown",creatorAvatar:e.data.creatorAvatar,isSaved:e.data.isSaved},onClick:()=>handleItemClick(e),onSave:()=>handleSave(e)},e.id);case"neighbourhood":return u.jsx(NeighbourhoodCard,{neighbourhood:{id:e.data.id,name:e.data.name,city:e.data.city,imageUrl:e.data.heroBannerUrl||e.data.imageUrl,propertyCount:e.data.propertyCount||0,avgPrice:e.data.avgPropertyPrice||0,priceChange:e.data.priceChange,followerCount:e.data.followerCount,highlights:e.data.highlights},onClick:()=>handleItemClick(e),onFollow:()=>(e=>{h(e.id,"click")})(e)},e.id);case"insight":return u.jsx(InsightCard,{insight:{id:e.data.id,title:e.data.title,description:e.data.description,imageUrl:e.data.imageUrl,insightType:e.data.insightType||"market-trend",data:e.data.data},onClick:()=>handleItemClick(e)},e.id);default:return null}};return p?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",role:"alert","aria-live":"assertive",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4","aria-hidden":"true",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load content"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center max-w-md",children:"We couldn't load the discovery feed. Please try again."}),u.jsx("button",{onClick:()=>g(),className:"px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors","aria-label":"Retry loading content",children:"Try Again"})]}):c&&0===l.length?u.jsxs("div",{className:"flex items-center justify-center py-16",role:"status","aria-live":"polite","aria-busy":"true",children:[u.jsx(no,{className:"w-8 h-8 text-blue-600 animate-spin","aria-hidden":"true"}),u.jsx("span",{className:"ml-3 text-gray-600",children:"Loading discovery feed..."})]}):0===l.length?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",role:"status","aria-live":"polite",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4","aria-hidden":"true",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No content found"}),u.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:"We couldn't find any properties or content matching your preferences. Try adjusting your filters."})]}):u.jsxs("div",{className:"w-full",role:"feed","aria-label":"Discovery feed","aria-busy":c,children:[u.jsx("div",{className:"space-y-8",children:l.map(e=>u.jsx(ContentBlockSection,{block:e,renderCard:renderCard},e.id))}),m&&u.jsx("div",{ref:b,className:"flex items-center justify-center py-8",role:"status","aria-live":"polite",children:c&&u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"w-6 h-6 text-blue-600 animate-spin","aria-hidden":"true"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading more..."})]})}),!m&&l.length>0&&u.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",role:"status","aria-live":"polite",children:"You've reached the end of the feed"})]})}function ContentBlockSection({block:e,renderCard:s}){const a=re.useRef(null),l=`section-heading-${e.id}`;return u.jsxs("div",{className:"w-full",role:"region","aria-labelledby":l,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 px-4",children:[u.jsx("h2",{id:l,className:"text-xl font-bold text-gray-900",children:e.title}),u.jsxs("button",{className:"flex items-center gap-1 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",onClick:()=>console.log("See all:",e.type),"aria-label":`See all ${e.title}`,children:[u.jsx("span",{children:"See All"}),u.jsx(Fa,{className:"w-4 h-4","aria-hidden":"true"})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("button",{onClick:()=>{a.current&&a.current.scrollBy({left:-300,behavior:"smooth"})},className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white shadow-lg rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-50","aria-label":"Scroll left",children:u.jsx(Fa,{className:"w-5 h-5 rotate-180"})}),u.jsx("button",{onClick:()=>{a.current&&a.current.scrollBy({left:300,behavior:"smooth"})},className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white shadow-lg rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-50","aria-label":"Scroll right",children:u.jsx(Fa,{className:"w-5 h-5"})}),u.jsx("div",{ref:a,className:"flex gap-4 overflow-x-auto scrollbar-hide px-4 pb-2 snap-x snap-mandatory",style:{scrollbarWidth:"none",msOverflowStyle:"none"},role:"list","aria-label":`${e.title} items`,children:e.items.map(e=>u.jsx("div",{className:"flex-shrink-0 w-72 snap-start",role:"listitem",children:s(e)},e.id))})]})]})}const Qz={swipeThreshold:50,velocityThreshold:.3,tapZoneWidth:.3,doubleTapDelay:300,longPressDelay:500};function SwipeEngine({onSwipeUp:e,onSwipeDown:s,onTapLeft:a,onTapRight:l,onTapCenter:c,onDoubleTap:p,onLongPress:m,children:h,className:f=""}){const g=re.useRef(null);return function useSwipeGestures(e,s,a={}){const l={...Qz,...a},c=re.useRef(null),u=re.useRef(0),p=re.useRef(null),m=re.useRef(!1),h=re.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null)},[]),f=re.useCallback(e=>{const a=e.touches[0];a&&(c.current={x:a.clientX,y:a.clientY,time:Date.now()},m.current=!1,h(),p.current=setTimeout(()=>{!m.current&&s.onLongPress&&(s.onLongPress(),c.current=null)},l.longPressDelay))},[s,l.longPressDelay,h]),g=re.useCallback(e=>{if(!c.current)return;const s=e.touches[0];if(!s)return;const a=Math.abs(s.clientX-c.current.x),l=Math.abs(s.clientY-c.current.y);(a>10||l>10)&&(m.current=!0,h())},[h]),b=re.useCallback(a=>{if(h(),!c.current)return;const p=a.changedTouches[0];if(!p)return;const f=p.clientX-c.current.x,g=p.clientY-c.current.y,b=Date.now()-c.current.time,j=Math.sqrt(f*f+g*g)/b,N=e.current;if(N){if(Math.abs(g)>l.swipeThreshold&&Math.abs(g)>1.5*Math.abs(f)&&j>l.velocityThreshold)return g<0&&s.onSwipeUp?s.onSwipeUp():g>0&&s.onSwipeDown&&s.onSwipeDown(),void(c.current=null);if(!m.current&&Math.abs(f)<10&&Math.abs(g)<10){const e=Date.now();if(e-u.current<l.doubleTapDelay&&s.onDoubleTap)return s.onDoubleTap(),u.current=0,void(c.current=null);u.current=e;const a=N.getBoundingClientRect(),m=p.clientX-a.left,h=a.width*l.tapZoneWidth,f=a.width*(1-l.tapZoneWidth);m<h&&s.onTapLeft?s.onTapLeft():m>f&&s.onTapRight?s.onTapRight():s.onTapCenter&&s.onTapCenter()}c.current=null,m.current=!1}},[s,l,e,h]);return re.useEffect(()=>{const s=e.current;if(s)return s.addEventListener("touchstart",f,{passive:!0}),s.addEventListener("touchmove",g,{passive:!0}),s.addEventListener("touchend",b,{passive:!0}),()=>{s.removeEventListener("touchstart",f),s.removeEventListener("touchmove",g),s.removeEventListener("touchend",b),h()}},[e,f,g,b,h]),null}(g,{onSwipeUp:e,onSwipeDown:s,onTapLeft:a,onTapRight:l,onTapCenter:c,onDoubleTap:p,onLongPress:m}),u.jsx("div",{ref:g,className:`touch-none select-none ${f}`,style:{touchAction:"none"},children:h})}function VideoPlayer({video:e,isActive:s,isMuted:a,onComplete:l,onToggleMute:c}){const p=re.useRef(null),m=re.useRef(!1);re.useEffect(()=>{const e=p.current;e&&(s?(e.play().catch(e=>{console.error("Failed to play video:",e)}),m.current=!1):(e.pause(),e.currentTime=0))},[s]),re.useEffect(()=>{p.current&&(p.current.muted=a)},[a]);return re.useEffect(()=>{p.current&&s&&(p.current.preload="auto")},[s]),u.jsxs("div",{className:"relative w-full h-full bg-black",children:[u.jsx("video",{ref:p,src:e.videoUrl,poster:e.thumbnailUrl,className:"w-full h-full object-cover",playsInline:!0,loop:!1,muted:a,onEnded:()=>{m.current||(l(),m.current=!0),p.current&&(p.current.currentTime=0,p.current.play().catch(e=>{console.error("Failed to loop video:",e)}))},preload:s?"auto":"metadata","aria-label":"Property video"}),s&&u.jsx("button",{onClick:c,className:"absolute top-20 right-4 z-30 p-3 bg-black/50 rounded-full hover:bg-black/70 transition-colors","aria-label":a?"Unmute video":"Mute video",children:a?u.jsx(Pl,{className:"w-5 h-5 text-white"}):u.jsx(_l,{className:"w-5 h-5 text-white"})}),s&&a&&u.jsx("div",{className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 z-20 pointer-events-none",children:u.jsx("div",{className:"px-4 py-2 bg-black/70 rounded-full text-white text-sm animate-pulse",children:"Tap to unmute"})})]})}function FollowButton({type:e,targetId:s,initialFollowing:a=!1,variant:l="default",size:c="md",showIcon:p=!0,onFollowSuccess:m,onUnfollowSuccess:h}){const f=function useFollowCreator({creatorId:e,initialFollowing:s=!1,onFollowSuccess:a,onUnfollowSuccess:l}){const[c,u]=re.useState(s),p=At.exploreApi.toggleCreatorFollow.useMutation({onSuccess:e=>{u(e.data.following),e.data.following&&a?a():!e.data.following&&l&&l()}}),m=re.useCallback(()=>{p.mutate({creatorId:e})},[e,p]);return{isFollowing:c,isLoading:p.isLoading,toggleFollow:m}}({creatorId:s,initialFollowing:a,onFollowSuccess:m,onUnfollowSuccess:h}),g=function useFollowNeighbourhood({neighbourhoodId:e,initialFollowing:s=!1,onFollowSuccess:a,onUnfollowSuccess:l}){const[c,u]=re.useState(s),p=At.exploreApi.toggleNeighbourhoodFollow.useMutation({onSuccess:e=>{u(e.data.following),e.data.following&&a?a():!e.data.following&&l&&l()},onError:e=>{console.error("Failed to toggle follow:",e)}}),m=re.useCallback(()=>{p.mutate({neighbourhoodId:e})},[e,p]);return{isFollowing:c,isLoading:p.isLoading,toggleFollow:m}}({neighbourhoodId:s,initialFollowing:a,onFollowSuccess:m,onUnfollowSuccess:h}),{isFollowing:b,isLoading:j,toggleFollow:N}="creator"===e?f:g,k={default:b?"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300":"bg-blue-600 hover:bg-blue-700 text-white",outline:b?"bg-transparent hover:bg-gray-50 text-gray-700 border-2 border-gray-300":"bg-transparent hover:bg-blue-50 text-blue-600 border-2 border-blue-600",ghost:b?"bg-transparent hover:bg-gray-100 text-gray-700":"bg-transparent hover:bg-blue-50 text-blue-600"},_=b?bl:wl;return u.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),N()},disabled:j,className:`\n        ${{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]}\n        ${k[l]}\n        rounded-full\n        font-medium\n        flex items-center gap-2\n        transition-all duration-200\n        ${j?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n      `,"aria-label":b?`Unfollow ${e}`:`Follow ${e}`,children:[p&&u.jsx(_,{size:{sm:14,md:16,lg:18}[c]}),u.jsx("span",{children:b?"Following":"Follow"})]})}function VideoOverlay({video:e,isMuted:s,onSave:a,onShare:l,onViewListing:c,onToggleMute:p}){const m=e.priceMin&&e.priceMax?e.priceMin===e.priceMax?`R${e.priceMin.toLocaleString()}`:`R${e.priceMin.toLocaleString()} - R${e.priceMax.toLocaleString()}`:e.priceMin?`From R${e.priceMin.toLocaleString()}`:null;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-black/80 via-black/40 to-transparent pt-32 pb-6 px-6",children:[u.jsx("h2",{className:"text-white text-2xl font-bold mb-2 line-clamp-2",children:e.title}),m&&u.jsx("div",{className:"text-white text-xl font-semibold mb-3",children:m}),e.description&&u.jsx("p",{className:"text-white/90 text-sm mb-4 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.slice(0,3).map((e,s)=>u.jsxs("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm text-white text-xs rounded-full",children:["#",e]},s))}),u.jsxs("button",{onClick:c,className:"w-full py-4 bg-white text-black font-semibold rounded-xl hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[u.jsx(mi,{className:"w-5 h-5"}),"View Full Listing"]})]}),u.jsxs("div",{className:"absolute right-4 bottom-32 z-20 flex flex-col gap-4",children:[u.jsx("div",{className:"flex flex-col items-center gap-1",children:e.propertyId&&u.jsx(SaveButton,{propertyId:e.propertyId,variant:"overlay",size:"lg",onSaveSuccess:a})}),u.jsxs("button",{onClick:l,className:"flex flex-col items-center gap-1 group","aria-label":"Share property",children:[u.jsx("div",{className:"p-3 bg-black/50 rounded-full group-hover:bg-black/70 transition-colors",children:u.jsx(Wo,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-white text-xs font-medium",children:"Share"})]}),u.jsx("div",{className:"flex flex-col items-center gap-1",children:u.jsx(FollowButton,{type:"creator",targetId:e.creatorId,variant:"ghost",size:"sm",showIcon:!1})}),u.jsxs("button",{onClick:()=>{console.log("Navigate to creator:",e.creatorId)},className:"flex flex-col items-center gap-1 group","aria-label":"View agent profile",children:[u.jsx("div",{className:"p-3 bg-black/50 rounded-full group-hover:bg-black/70 transition-colors",children:u.jsx(Sl,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-white text-xs font-medium",children:"Profile"})]})]}),u.jsx("div",{className:"absolute top-20 left-4 z-20",children:u.jsxs("div",{className:"px-3 py-1.5 bg-black/50 backdrop-blur-sm rounded-full flex items-center gap-2",children:[u.jsx(Bi,{className:"w-4 h-4 text-white"}),u.jsx("span",{className:"text-white text-sm font-medium",children:e.developmentId?"Development":"Property"})]})})]})}function ExploreVideoFeed({categoryId:e}){const{videos:s,currentIndex:a,isLoading:l,error:c,goToNext:p,goToPrevious:m,onVideoComplete:h,onSave:f,onShare:g,onViewListing:b,refetch:j}=function useExploreVideoFeed(e={}){const[s,a]=re.useState([]),[l,c]=re.useState(0),[u,p]=re.useState([]),[m,h]=re.useState(null),[f,g]=re.useState(!0),[b,j]=re.useState(null);re.useRef(0);const N=re.useRef(0),k=At.recommendationEngine.createSession.useMutation(),_=At.recommendationEngine.closeSession.useMutation(),T=At.recommendationEngine.recordEngagement.useMutation(),{data:E,isLoading:A,refetch:L}=At.exploreApi.getVideoFeed.useQuery({sessionHistory:u,categoryId:e.categoryId,limit:e.limit||10,offset:0});re.useEffect(()=>((async()=>{try{const e=await k.mutateAsync({deviceType:"desktop"});h(e.data.sessionId)}catch(pW){console.error("Failed to create session:",pW)}})(),()=>{m&&_.mutate({sessionId:m})}),[]),re.useEffect(()=>{E?.success&&E.data.videos?(a(E.data.videos),g(!1),j(null)):A||E||(j("Failed to load videos"),g(!1))},[E,A]);const O=re.useCallback(()=>{N.current=Date.now()},[]),I=re.useCallback(async(e,s,a=!1)=>{const l=N.current?Math.floor((Date.now()-N.current)/1e3):0;try{await T.mutateAsync({contentId:e,engagementType:s,watchTime:l,completed:a,sessionId:m||void 0})}catch(pW){console.error("Failed to record engagement:",pW)}},[m,T]),$=re.useCallback(()=>{if(l<s.length-1){const e=s[l];e&&I(e.id,"skip",!1),c(e=>e+1),p(s=>[...s,e.id]),O(),l>=s.length-3&&L()}},[l,s,I,L,O]),z=re.useCallback(()=>{l>0&&(c(e=>e-1),O())},[l,O]),U=re.useCallback(()=>{const e=s[l];e&&I(e.id,"complete",!0)},[l,s,I]),H=re.useCallback(async()=>{const e=s[l];e&&I(e.id,"save",!1)},[l,s,I]),q=re.useCallback(async()=>{const e=s[l];e&&I(e.id,"share",!1)},[l,s,I]),Z=re.useCallback(()=>{const e=s[l];e&&I(e.id,"click",!1)},[l,s,I]);return re.useEffect(()=>{O()},[l,O]),{videos:s,currentVideo:s[l]||null,currentIndex:l,isLoading:f,error:b,goToNext:$,goToPrevious:z,onVideoComplete:U,onSave:H,onShare:q,onViewListing:Z,refetch:L}}({categoryId:e,limit:10}),[N,k]=re.useState(!0);return l&&0===s.length?u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(no,{className:"w-12 h-12 text-white animate-spin"}),u.jsx("p",{className:"text-white text-lg",children:"Loading videos..."})]})}):c&&0===s.length?u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 px-6 text-center",children:[u.jsx("div",{className:"text-red-500 text-6xl",children:""}),u.jsx("p",{className:"text-white text-lg",children:c}),u.jsx("button",{onClick:()=>j(),className:"px-6 py-3 bg-white text-black rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Try Again"})]})}):0===s.length?u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 px-6 text-center",children:[u.jsx("div",{className:"text-gray-400 text-6xl",children:""}),u.jsx("p",{className:"text-white text-lg",children:"No videos found"}),u.jsx("p",{className:"text-gray-400",children:"Check back later for new content"})]})}):u.jsxs("div",{className:"fixed inset-0 bg-black overflow-hidden",role:"region","aria-label":"Explore video feed",children:[u.jsx(SwipeEngine,{onSwipeUp:p,onSwipeDown:m,onDoubleTap:f,onTapCenter:()=>k(!N),className:"relative w-full h-full",children:s.map((e,s)=>u.jsxs("div",{className:"absolute inset-0 transition-opacity duration-300 "+(s===a?"opacity-100 z-10":"opacity-0 z-0"),"aria-hidden":s!==a,children:[u.jsx(VideoPlayer,{video:e,isActive:s===a,isMuted:N,onComplete:h,onToggleMute:()=>k(!N)}),u.jsx(VideoOverlay,{video:e,isMuted:N,onSave:f,onShare:g,onViewListing:b,onToggleMute:()=>k(!N)})]},e.id))}),u.jsx("div",{className:"absolute top-4 left-0 right-0 flex gap-1 px-4 z-20",children:s.slice(Math.max(0,a-2),a+3).map((e,s)=>{const l=Math.max(0,a-2)+s;return u.jsx("div",{className:"h-0.5 flex-1 rounded-full transition-all "+(l===a?"bg-white":"bg-gray-500"),"aria-label":`Video ${l+1}`},l)})}),l&&s.length>0&&u.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20",children:u.jsx(no,{className:"w-6 h-6 text-white animate-spin"})})]})}function LifestyleCategorySelector({selectedCategoryId:e,onCategoryChange:s,variant:a="light",className:l=""}){const{data:c,isLoading:p}=useQuery({queryKey:["exploreCategories"],queryFn:async()=>[{id:1,name:"Secure Estates",icon:"",description:"Gated communities with 24/7 security"},{id:2,name:"Luxury",icon:"",description:"High-end properties with premium finishes"},{id:3,name:"Family Living",icon:"",description:"Family-friendly homes near schools"},{id:4,name:"Student Living",icon:"",description:"Accommodation near universities"},{id:5,name:"Urban Living",icon:"",description:"City center apartments and lofts"},{id:6,name:"Pet-Friendly",icon:"",description:"Properties that welcome pets"},{id:7,name:"Retirement",icon:"",description:"Peaceful retirement communities"},{id:8,name:"Investment",icon:"",description:"High-yield investment properties"},{id:9,name:"Eco-Friendly",icon:"",description:"Sustainable and green homes"},{id:10,name:"Beach Living",icon:"",description:"Coastal properties with ocean views"}],staleTime:36e5});re.useEffect(()=>{void 0!==e?sessionStorage.setItem("explore_selected_category",e.toString()):sessionStorage.removeItem("explore_selected_category")},[e]),re.useEffect(()=>{const a=sessionStorage.getItem("explore_selected_category");a&&!e&&s(parseInt(a,10))},[]);const handleClearCategory=e=>{e.stopPropagation(),s(void 0)};if(p)return u.jsx("div",{className:`flex gap-2 overflow-x-auto scrollbar-hide ${l}`,children:[...Array(5)].map((e,s)=>u.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded-full animate-pulse"},s))});const m="dark"===a;return u.jsxs("div",{className:`flex items-center gap-2 overflow-x-auto scrollbar-hide ${l}`,children:[u.jsxs("button",{onClick:()=>s(void 0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all "+(void 0===e?m?"bg-white text-black shadow-md":"bg-blue-600 text-white shadow-md":m?"bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),"aria-label":"Show all categories","aria-pressed":void 0===e,children:[u.jsx("span",{children:""}),u.jsx("span",{children:"All"})]}),c?.map(a=>u.jsxs("button",{onClick:()=>{return l=a.id,void s(e===l?void 0:l);var l},className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all "+(e===a.id?m?"bg-white text-black shadow-md":"bg-blue-600 text-white shadow-md":m?"bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),"aria-label":`Filter by ${a.name}`,"aria-pressed":e===a.id,title:a.description||void 0,children:[u.jsx("span",{children:a.icon}),u.jsx("span",{children:a.name}),e===a.id&&u.jsx(Il,{className:"w-4 h-4 ml-1",onClick:handleClearCategory,"aria-label":"Clear filter"})]},a.id))]})}function PersonalizedContentBlock({title:e,subtitle:s,items:a,onItemClick:l,onSeeAll:c,isLoading:p=!1}){return p?u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-4 px-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"}),s&&u.jsx("div",{className:"h-4 w-48 bg-gray-100 rounded animate-pulse mt-1"})]})}),u.jsx("div",{className:"flex gap-4 overflow-x-auto px-4 pb-4 scrollbar-hide",children:[1,2,3,4].map(e=>u.jsx("div",{className:"flex-shrink-0 w-72 h-96 bg-gray-200 rounded-xl animate-pulse"},e))})]}):0===a.length?null:u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 px-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e}),s&&u.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:s})]}),c&&u.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors","aria-label":`See all ${e}`,children:["See All",u.jsx(Fa,{className:"w-4 h-4"})]})]}),u.jsx("div",{className:"flex gap-4 overflow-x-auto px-4 pb-4 scrollbar-hide snap-x snap-mandatory",children:a.map(e=>u.jsxs("div",{className:"flex-shrink-0 w-72 snap-start",onClick:()=>l(e),children:["property"===e.type&&u.jsx(PropertyCard$1,{property:e.data,onClick:()=>l(e),variant:"compact"}),"video"===e.type&&u.jsx(VideoCard,{video:e.data,onClick:()=>l(e),variant:"compact"}),"neighbourhood"===e.type&&u.jsx(NeighbourhoodCard,{neighbourhood:e.data,onClick:()=>l(e),variant:"compact"})]},e.id))})]})}function TrendingVideoCard({video:e,onClick:s,index:a=0}){const[l,c]=re.useState(!1),[p,m]=re.useState(!1),formatDuration=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,formatViews=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();return u.jsxs(kb.article,{className:"flex-shrink-0 cursor-pointer",style:{width:160},onClick:s,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*a,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},role:"listitem","aria-label":`${e.title} by ${e.creatorName}, ${formatViews(e.views)} views`,children:[u.jsxs(kb.div,{className:"relative overflow-hidden rounded-xl",style:{aspectRatio:"9/16",boxShadow:p?dz.md:dz.sm},animate:{boxShadow:p?dz.md:dz.sm},transition:{duration:.2},children:[!l&&u.jsx(kb.div,{className:"absolute inset-0",style:{backgroundColor:oz.bg.tertiary},animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),u.jsx(kb.img,{src:e.thumbnailUrl,alt:e.title,className:cn("w-full h-full object-cover",l?"opacity-100":"opacity-0"),onLoad:()=>c(!0),loading:"lazy",animate:{scale:p?1.05:1},transition:{duration:.4,ease:"easeOut"}}),u.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.1) 40%, transparent 60%)"}}),u.jsx(kb.div,{className:"absolute inset-0 flex items-center justify-center",initial:{opacity:.8},animate:{opacity:p?1:.8},transition:{duration:.2},children:u.jsx(kb.div,{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.3)"},animate:{scale:p?1.1:1},transition:{duration:.2},children:u.jsx(Ao,{className:"w-5 h-5 text-white ml-0.5",fill:"currentColor","aria-hidden":"true"})})}),u.jsx(kb.div,{className:"absolute bottom-2 right-2 px-1.5 py-0.5 rounded text-white text-xs font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",fontSize:"11px"},initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.1},"aria-label":`Duration: ${formatDuration(e.duration)}`,children:formatDuration(e.duration)}),u.jsxs(kb.div,{className:"absolute bottom-2 left-2 flex items-center gap-1 px-1.5 py-0.5 rounded text-white text-xs font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",fontSize:"11px"},initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.1},"aria-label":`${formatViews(e.views)} views`,children:[u.jsx(fi,{className:"w-3 h-3","aria-hidden":"true"}),u.jsx("span",{children:formatViews(e.views)})]})]}),u.jsxs("div",{className:"mt-2 px-1",children:[u.jsx("h3",{className:"text-xs font-medium line-clamp-2 leading-tight",style:{color:oz.text.primary},children:e.title}),u.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.creatorAvatar?u.jsx("img",{src:e.creatorAvatar,alt:"",className:"w-4 h-4 rounded-full object-cover","aria-hidden":"true"}):u.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center text-white text-[8px] font-bold",style:{background:oz.accent.gradient},"aria-hidden":"true",children:e.creatorName.charAt(0).toUpperCase()}),u.jsx("span",{className:"text-[11px] truncate",style:{color:oz.text.secondary},children:e.creatorName})]})]})]})}const Xz=[{id:1,title:"Luxury Penthouse Tour in Sandton",thumbnailUrl:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=711&fit=crop",duration:45,views:12500,saves:340,creatorName:"Luxury Estates SA",creatorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"},{id:2,title:"Modern Family Home in Bryanston",thumbnailUrl:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400&h=711&fit=crop",duration:38,views:8900,saves:210,creatorName:"Home Finders",creatorAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"},{id:3,title:"Secure Estate Living in Fourways",thumbnailUrl:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=711&fit=crop",duration:52,views:15200,saves:420,creatorName:"Estate Living SA",creatorAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"},{id:4,title:"Waterfront Apartment in V&A",thumbnailUrl:"https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400&h=711&fit=crop",duration:41,views:9800,saves:280,creatorName:"Cape Properties",creatorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},{id:5,title:"New Development Launch: The Apex",thumbnailUrl:"https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=400&h=711&fit=crop",duration:58,views:22e3,saves:650,creatorName:"Apex Developers",creatorAvatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100&h=100&fit=crop"},{id:6,title:"Student Accommodation Tour",thumbnailUrl:"https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=400&h=711&fit=crop",duration:35,views:6500,saves:180,creatorName:"Student Living SA",creatorAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"},{id:7,title:"Golf Estate Dream Home",thumbnailUrl:"https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=400&h=711&fit=crop",duration:48,views:11200,saves:390,creatorName:"Golf Estates",creatorAvatar:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=100&h=100&fit=crop"},{id:8,title:"Pet-Friendly Garden Cottage",thumbnailUrl:"https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=400&h=711&fit=crop",duration:32,views:7800,saves:220,creatorName:"Pet Homes SA",creatorAvatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop"}];function TrendingVideosSection({categoryId:e,onVideoClick:s,onSeeAll:a}){const l=re.useRef(null),{videos:c,isLoading:p,isEmpty:m}=function useTrendingVideos(e={}){const{categoryId:s,limit:a=12}=e,l=At.explore.getFeed.useQuery({feedType:"trending",limit:a,offset:0}),c=re.useMemo(()=>{const e=l.data;if(Array.isArray(e)&&e.length>0){let l=e.filter(e=>"video"===e.contentType);return s&&(l=l.filter(e=>e.categoryId===s)),l.slice(0,a).map(e=>({id:e.id,title:e.title||"Property Video",thumbnailUrl:e.thumbnailUrl||e.imageUrl||"",videoUrl:e.videoUrl,duration:e.duration||30,views:e.views||0,saves:e.saves||0,creatorName:e.creatorName||"Agent",creatorAvatar:e.creatorAvatar,categoryId:e.categoryId,propertyId:e.propertyId,createdAt:e.createdAt}))}let c=[...Xz];return s&&(c=c.slice(0,Math.max(3,Math.floor(c.length/2)))),c.slice(0,a)},[l.data,s,a]),u=!l.isLoading&&0===c.length;return{videos:c,isLoading:l.isLoading,error:l.error,refetch:l.refetch,isEmpty:u}}({categoryId:e,limit:12});return m&&!p?u.jsx(kb.section,{className:"py-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},role:"region","aria-label":"Trending videos",children:u.jsx(EmptyCategoryState,{onViewAll:a})}):u.jsxs(kb.section,{className:"py-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-label":"Trending videos",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kb.div,{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:oz.accent.gradient},whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Ao,{className:"w-4 h-4 text-white ml-0.5",fill:"currentColor"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",style:{color:oz.text.primary},children:"Trending Now"}),u.jsx("p",{className:"text-xs",style:{color:oz.text.secondary},children:"Popular videos this week"})]})]}),u.jsxs(kb.button,{onClick:a,className:"flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium transition-colors",style:{color:oz.accent.primary,backgroundColor:`${oz.accent.primary}10`},whileHover:{backgroundColor:`${oz.accent.primary}20`,scale:1.02},whileTap:{scale:.98},"aria-label":"See all trending videos",children:[u.jsx("span",{children:"See All"}),u.jsx(Fa,{className:"w-4 h-4"})]})]}),u.jsx("div",{className:"relative -mx-4 sm:-mx-6 lg:-mx-8",children:u.jsx(AnimatePresence,{mode:"wait",children:p?u.jsx(kb.div,{className:"flex gap-3 px-4 sm:px-6 lg:px-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"list","aria-label":"Loading trending videos",children:Array.from({length:6}).map((e,s)=>u.jsx(SkeletonCard,{index:s},s))},"loading"):u.jsx(kb.div,{ref:l,className:"flex gap-3 px-4 sm:px-6 lg:px-8 overflow-x-auto scrollbar-hide pb-2",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"},variants:xz,initial:"initial",animate:"animate",role:"list","aria-label":"Trending videos",children:c.map((e,a)=>u.jsx(kb.div,{variants:vz,style:{scrollSnapAlign:"start"},children:u.jsx(TrendingVideoCard,{video:e,onClick:()=>s(e),index:a})},e.id))},"content")})})]})}function SkeletonCard({index:e}){return u.jsxs(kb.div,{className:"flex-shrink-0",style:{width:160},initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*e},children:[u.jsx("div",{className:"rounded-xl overflow-hidden",style:{aspectRatio:"9/16",backgroundColor:oz.bg.tertiary},children:u.jsx(kb.div,{className:"w-full h-full",animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:oz.bg.tertiary}})}),u.jsxs("div",{className:"mt-2 px-1 space-y-2",children:[u.jsx("div",{className:"h-3 rounded",style:{backgroundColor:oz.bg.tertiary,width:"90%"}}),u.jsx("div",{className:"h-3 rounded",style:{backgroundColor:oz.bg.tertiary,width:"60%"}})]})]})}function EmptyCategoryState({onViewAll:e}){return u.jsxs(kb.div,{className:"flex flex-col items-center justify-center py-8 px-4 text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsx(kb.div,{className:"w-12 h-12 rounded-full flex items-center justify-center mb-3",style:{backgroundColor:oz.bg.tertiary},initial:{scale:.8},animate:{scale:1},transition:{delay:.1},children:u.jsx(kl,{className:"w-6 h-6",style:{color:oz.text.tertiary}})}),u.jsx("p",{className:"text-sm mb-2",style:{color:oz.text.secondary},children:"No trending videos in this category"}),u.jsx(kb.button,{onClick:e,className:"text-sm font-medium",style:{color:oz.accent.primary},whileHover:{scale:1.02},whileTap:{scale:.98},children:"View all videos "})]})}function WelcomeOverlay({isOpen:e,suggestedTopics:s,onTopicSelect:a,onDismiss:l}){const[c,p]=re.useState(null),handleSkip=()=>{l()};return u.jsx(AnimatePresence,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:handleSkip}),u.jsx(kb.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs(ea,{className:"relative w-full max-w-2xl bg-white dark:bg-gray-900 p-8 shadow-2xl",children:[u.jsx("button",{onClick:handleSkip,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Close welcome overlay",children:u.jsx(Il,{className:"w-5 h-5 text-gray-500"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(kb.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome to Explore"}),u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Discover properties, ideas, and insightsall in one place"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"What are you interested in?"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a topic to personalize your feed"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map((e,s)=>u.jsxs(kb.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.1*s},onClick:()=>{return s=e.slug,void p(s);var s},className:`\n                          relative p-6 rounded-xl border-2 transition-all\n                          ${c===e.slug?"border-primary bg-primary/5 shadow-lg scale-105":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:shadow-md"}\n                        `,children:[u.jsx("div",{className:"text-4xl mb-3",children:e.icon}),u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description}),c===e.slug&&u.jsx(kb.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 right-3 w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},e.id))})]}),u.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[u.jsx(Button$1,{variant:"outline",onClick:handleSkip,className:"px-6",children:"Skip for now"}),u.jsx(Button$1,{onClick:()=>{c&&a(c),l()},disabled:!c,className:"px-6",children:c?"Continue":"Select a topic"})]}),u.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-500",children:"You can change topics anytime from the navigation bar"})]})]})})]})})}const Jz={topic_navigation:{title:"Explore Topics",message:"Tap any Topic above to change your view",icon:""},partner_content:{title:"Partner Content",message:"This is educational content from a verified partner",icon:""}};function OnboardingTooltip({tooltipId:e,isVisible:s,onDismiss:a,position:l="bottom",targetRef:c}){const[p,m]=re.useState({top:0,left:0}),h=Jz[e];return re.useEffect(()=>{if(c?.current&&s){const e=c.current.getBoundingClientRect();let s=0,a=0;switch(l){case"top":s=e.top-10,a=e.left+e.width/2;break;case"bottom":s=e.bottom+10,a=e.left+e.width/2;break;case"left":s=e.top+e.height/2,a=e.left-10;break;case"right":s=e.top+e.height/2,a=e.right+10}m({top:s,left:a})}},[c,s,l]),u.jsx(AnimatePresence,{children:s&&u.jsx(kb.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{type:"spring",duration:.4},className:"fixed z-50",style:{top:c?p.top:"auto",left:c?p.left:"auto",transform:c?"translate(-50%, 0)":"none"},children:u.jsxs(ea,{className:"relative bg-gradient-to-br from-primary to-primary/90 text-white shadow-2xl max-w-xs p-4",children:["bottom"===l&&u.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-primary rotate-45"}),"top"===l&&u.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-primary rotate-45"}),u.jsxs("div",{className:"relative flex items-start gap-3",children:[u.jsx(kb.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-2xl",children:h.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold mb-1",children:h.title}),u.jsx("p",{className:"text-sm text-white/90",children:h.message})]}),u.jsx("button",{onClick:a,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss tooltip",children:u.jsx(Il,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"mt-3 flex justify-end",children:u.jsx(Button$1,{size:"sm",variant:"secondary",onClick:a,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:"Got it"})})]})})})}const eV={topic_navigation:{type:"scroll_count",threshold:5},partner_content:{type:"first_encounter"}};function useOnboardingTooltip(e){const s=useQueryClient(),[a,l]=re.useState(!1),[c,u]=re.useState(0),{data:p}=useQuery({queryKey:["/api/onboarding/state"],staleTime:3e5}),m=useMutation({mutationFn:async e=>{const s=await fetch("/api/onboarding/tooltip/show",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tooltipId:e})});if(!s.ok)throw new Error("Failed to mark tooltip as shown");return s.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/onboarding/state"]})}}),h=p?.tooltipsShown?.includes(e)??!1;re.useEffect(()=>{if(h)return;const s=eV[e];"scroll_count"===s.type&&s.threshold&&c>=s.threshold&&(l(!0),m.mutate(e))},[c,h,e]);return{isVisible:a,hasBeenShown:h,showTooltip:()=>{h||(l(!0),m.mutate(e))},dismissTooltip:()=>{l(!1)},incrementScrollCount:()=>{u(e=>e+1)}}}function ExploreHome(){const{viewMode:e,setViewMode:s,selectedCategoryId:a,setSelectedCategoryId:l,showFilters:c,setShowFilters:p,filters:m}=useExploreCommonState({initialViewMode:"home"}),h=function useWelcomeOverlay(){const e=useQueryClient(),[s,a]=re.useState(!1),{data:l,isLoading:c}=useQuery({queryKey:["/api/onboarding/state"],staleTime:3e5}),{data:u=[]}=useQuery({queryKey:["/api/topics"],staleTime:18e5}),p=useMutation({mutationFn:async()=>{const e=await fetch("/api/onboarding/welcome/show",{method:"POST",credentials:"include"});if(!e.ok)throw new Error("Failed to mark overlay as shown");return e.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/onboarding/state"]})}}),m=useMutation({mutationFn:async()=>{const e=await fetch("/api/onboarding/welcome/dismiss",{method:"POST",credentials:"include"});if(!e.ok)throw new Error("Failed to dismiss overlay");return e.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/onboarding/state"]})}});return re.useEffect(()=>{!c&&l&&l.isFirstSession&&!l.welcomeOverlayShown&&(a(!0),p.mutate())},[l,c]),{isOpen:s,suggestedTopics:u.filter(e=>l?.suggestedTopics?.includes(e.slug)),onTopicSelect:e=>{a(!1),m.mutate()},onDismiss:()=>{a(!1),m.mutate()},isLoading:c}}(),f=function useTopicNavigationTooltip(){return useOnboardingTooltip("topic_navigation")}(),g=function usePartnerContentTooltip(){const e=useOnboardingTooltip("partner_content");return{...e,onPartnerContentEncounter:()=>{e.showTooltip()}}}(),b=re.useRef(null),j=re.useRef(null),N=wz(e=>e.getFilterCount),[k,_]=re.useState(),{sections:T,isLoading:E}=function usePersonalizedContent(e={}){const[s,a]=re.useState([]),[l,c]=re.useState(e.usePlaceholder??!0),u=At.explore.getFeed.useQuery({feedType:"recommended",limit:10,offset:0}),p=u.data,m=u.isLoading,h=At.explore.getFeed.useQuery({feedType:"area",location:e.location?`${e.location.lat},${e.location.lng}`:"",limit:10,offset:0},{enabled:!!e.location}),f=h.data,g=h.isLoading,b=At.explore.getFeed.useQuery({feedType:"recommended",limit:10,offset:0}),j=b.data,N=b.isLoading,k=At.explore.getFeed.useQuery({feedType:"recommended",limit:10,offset:0}),_=k.data,T=k.isLoading,E=m||g||N||T;return re.useEffect(()=>{const e=[];if(p&&Array.isArray(p)&&p.length>0||f&&Array.isArray(f)&&f.length>0||j&&Array.isArray(j)&&j.length>0||_&&Array.isArray(_)&&_.length>0||!l||E){if(p&&Array.isArray(p)&&p.length>0&&e.push({id:"for-you",title:"For You",subtitle:"Personalized based on your preferences",type:"for-you",items:p.map(e=>({id:e.id,type:"property",data:e}))}),f&&Array.isArray(f)&&f.length>0&&e.push({id:"popular-near-you",title:"Popular Near You",subtitle:"Trending properties in your area",type:"popular-near-you",items:f.map(e=>({id:e.id,type:"property",data:e}))}),j&&Array.isArray(j)&&j.length>0){const s=j.filter(e=>e.developmentId);s.length>0&&e.push({id:"new-developments",title:"New Developments",subtitle:"Latest property developments",type:"new-developments",items:s.map(e=>({id:e.id,type:"property",data:e}))})}if(_&&Array.isArray(_)&&_.length>0){const s=[..._].sort((e,s)=>(s.viewCount||0)-(e.viewCount||0));e.push({id:"trending",title:"Trending",subtitle:"Most popular properties right now",type:"trending",items:s.map(e=>({id:e.id,type:"property",data:e}))})}0===e.length&&l?a(getPlaceholderSections()):a(e)}else a(getPlaceholderSections())},[p,f,j,_,l,E]),{sections:s,isLoading:E}}({location:k});re.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{_({lat:e.coords.latitude,lng:e.coords.longitude})},e=>{console.log("Location access denied:",e)})},[]);const handleItemClick=e=>{console.log("Item clicked:",e),e.partnerId&&g.onPartnerContentEncounter(),"property"===e.type||("video"===e.type?s("videos"):e.type)};return u.jsxs(kb.div,{className:"min-h-screen",style:{backgroundColor:oz.bg.secondary},initial:"initial",animate:"animate",exit:"exit",variants:getVariants(gz),children:[u.jsx(kb.header,{className:"sticky top-0 z-40 backdrop-blur-md",style:{backgroundColor:oz.glass.bg,borderBottom:`1px solid ${oz.bg.tertiary}`,boxShadow:dz.sm},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,ease:"easeOut"},role:"banner","aria-label":"Explore navigation",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(kb.h1,{className:"text-3xl font-bold",style:{color:oz.text.primary,fontWeight:uz.fontWeight.bold},initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1,duration:.3},children:"Explore"}),u.jsxs(kb.div,{className:"flex items-center gap-1 p-1 rounded-full",style:{backgroundColor:oz.bg.tertiary},initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1,duration:.3},role:"tablist","aria-label":"View mode selection",children:[u.jsxs(kb.button,{onClick:()=>s("home"),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:"home"===e?oz.bg.primary:"transparent",color:"home"===e?oz.text.primary:oz.text.secondary,boxShadow:"home"===e?dz.sm:"none",fontWeight:uz.fontWeight.medium},variants:fz,whileHover:"hover",whileTap:"tap",role:"tab","aria-selected":"home"===e,"aria-controls":"explore-content","aria-label":"Home view",children:[u.jsx(lo,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),u.jsxs(kb.button,{onClick:()=>s("cards"),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:"cards"===e?oz.bg.primary:"transparent",color:"cards"===e?oz.text.primary:oz.text.secondary,boxShadow:"cards"===e?dz.sm:"none",fontWeight:uz.fontWeight.medium},variants:fz,whileHover:"hover",whileTap:"tap",role:"tab","aria-selected":"cards"===e,"aria-controls":"explore-content","aria-label":"Cards view",children:[u.jsx(Li,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{className:"hidden sm:inline",children:"Cards"})]}),u.jsxs(kb.button,{onClick:()=>s("videos"),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:"videos"===e?oz.bg.primary:"transparent",color:"videos"===e?oz.text.primary:oz.text.secondary,boxShadow:"videos"===e?dz.sm:"none",fontWeight:uz.fontWeight.medium},variants:fz,whileHover:"hover",whileTap:"tap",role:"tab","aria-selected":"videos"===e,"aria-controls":"explore-content","aria-label":"Videos view",children:[u.jsx(Ao,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{className:"hidden sm:inline",children:"Videos"})]})]})]}),u.jsx(kb.div,{ref:b,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:u.jsx(LifestyleCategorySelector,{selectedCategoryId:a??void 0,onCategoryChange:e=>{l(e??null),f.incrementScrollCount()},variant:"light",className:"pb-2"})})]})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",id:"explore-content",role:"main","aria-label":"Explore content",children:u.jsx(AnimatePresence,{mode:"wait",children:"home"===e?u.jsxs(kb.div,{className:"py-6 space-y-8",initial:"initial",animate:"animate",exit:"exit",variants:getVariants(gz),children:[u.jsx(TrendingVideosSection,{categoryId:a??void 0,onVideoClick:e=>{console.log("Trending video clicked:",e),f.incrementScrollCount(),s("videos")},onSeeAll:()=>{f.incrementScrollCount(),s("videos")}}),E?u.jsxs(kb.div,{variants:xz,initial:"initial",animate:"animate",children:[u.jsx(kb.div,{variants:vz,children:u.jsx(PersonalizedContentBlock,{title:"Loading...",items:[],onItemClick:handleItemClick,isLoading:!0})}),u.jsx(kb.div,{variants:vz,children:u.jsx(PersonalizedContentBlock,{title:"Loading...",items:[],onItemClick:handleItemClick,isLoading:!0})})]}):u.jsx(kb.div,{variants:xz,initial:"initial",animate:"animate",children:T.map(e=>u.jsx(kb.div,{ref:"partner"===e.type?j:void 0,variants:vz,style:{marginBottom:lz.xl},children:u.jsx(PersonalizedContentBlock,{title:e.title,subtitle:e.subtitle,items:e.items,onItemClick:handleItemClick,onSeeAll:()=>{return a=e.type,console.log("See all:",a),void s("cards");var a}})},e.id))}),!E&&0===T.length&&u.jsxs(kb.div,{className:"text-center py-16 px-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[u.jsx(kb.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:u.jsx(lo,{className:"w-20 h-20 mx-auto mb-6",style:{color:oz.text.tertiary}})}),u.jsx(kb.h3,{className:"text-2xl font-semibold mb-3",style:{color:oz.text.primary,fontWeight:uz.fontWeight.semibold},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:"Start Exploring"}),u.jsx(kb.p,{className:"text-lg mb-8 max-w-md mx-auto",style:{color:oz.text.secondary},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"Discover properties tailored to your preferences"}),u.jsx(kb.button,{onClick:()=>s("cards"),className:"px-8 py-3 rounded-xl text-white font-medium",style:{background:oz.accent.gradient,boxShadow:dz.accent,fontWeight:uz.fontWeight.medium},variants:fz,whileHover:"hover",whileTap:"tap",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:"Browse All Properties"})]})]},"home-view"):"cards"===e?u.jsx(kb.div,{className:"py-6",initial:"initial",animate:"animate",exit:"exit",variants:getVariants(gz),children:u.jsx(DiscoveryCardFeed,{categoryId:a??void 0,filters:m,onItemClick:handleItemClick})},"cards-view"):u.jsx(kb.div,{initial:"initial",animate:"animate",exit:"exit",variants:getVariants(gz),children:u.jsx(ExploreVideoFeed,{categoryId:a??void 0})},"videos-view")})}),u.jsxs(kb.button,{className:"fixed bottom-6 right-6 w-16 h-16 text-white rounded-full flex items-center justify-center z-30",style:{background:oz.accent.gradient,boxShadow:dz.accentHover},onClick:()=>p(!0),"aria-label":"Open filters",variants:fz,whileHover:"hover",whileTap:"tap",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring",stiffness:300,damping:20},children:[u.jsx(Qo,{className:"w-6 h-6"}),u.jsx(AnimatePresence,{children:N()>0&&u.jsx(kb.span,{className:"absolute -top-1 -right-1 w-7 h-7 text-white text-xs font-bold rounded-full flex items-center justify-center",style:{backgroundColor:oz.status.error,boxShadow:dz.md,fontWeight:uz.fontWeight.bold},initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:25},children:N()})})]}),u.jsx(ResponsiveFilterPanel,{isOpen:c,onClose:()=>p(!1),onApply:()=>{p(!1)}}),u.jsx(WelcomeOverlay,{isOpen:h.isOpen,suggestedTopics:h.suggestedTopics,onTopicSelect:e=>{console.log("Topic selected from welcome:",e),h.onTopicSelect(e)},onDismiss:h.onDismiss}),u.jsx(OnboardingTooltip,{tooltipId:"topic_navigation",isVisible:f.isVisible,onDismiss:f.dismissTooltip,position:"bottom",targetRef:b}),u.jsx(OnboardingTooltip,{tooltipId:"partner_content",isVisible:g.isVisible,onDismiss:g.dismissTooltip,position:"top",targetRef:j})]})}function useToast(){return{toast:({title:e,description:s,variant:a="default"})=>{"destructive"===a?Gr.error(e,{description:s}):Gr.success(e,{description:s})}}}function PropertyOverlay({property:e,isExpanded:s,onToggleExpand:a,onContactAgent:l,onBookViewing:c,onWhatsApp:p}){return u.jsxs(u.Fragment,{children:[s&&u.jsx("div",{className:"absolute inset-0 bg-black/60 z-30",onClick:a,"aria-label":"Close overlay"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-40 bg-white rounded-t-3xl transition-all duration-300 ease-out "+(s?"h-[70vh]":"h-auto"),children:[u.jsx("div",{className:"flex justify-center pt-3 pb-2 cursor-pointer",onClick:a,role:"button","aria-label":s?"Collapse details":"Expand details",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},children:u.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),!s&&u.jsxs("div",{className:"px-6 pb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),e.caption&&u.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:e.caption}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("button",{onClick:l,className:"flex flex-col items-center justify-center gap-2 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[u.jsx(go,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-medium",children:"Contact"})]}),u.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center gap-2 py-3 px-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors",children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-medium",children:"Book"})]}),u.jsxs("button",{onClick:p,className:"flex flex-col items-center justify-center gap-2 py-3 px-4 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors",children:[u.jsx(xo,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-medium",children:"WhatsApp"})]})]})]}),s&&u.jsxs("div",{className:"px-6 pb-6 h-full overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.title}),e.property?.price&&u.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-3",children:["R",e.property.price.toLocaleString()]}),e.caption&&u.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:e.caption})]}),u.jsxs("div",{className:"space-y-6 mb-6",children:[e.property?.location&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Location"}),u.jsxs("p",{className:"text-gray-900 text-lg",children:[e.property.location.suburb&&`${e.property.location.suburb}, `,e.property.location.city,e.property.location.province&&`, ${e.property.location.province}`]})]}),e.property?.specs&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Specifications"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[void 0!==e.property.specs.bedrooms&&u.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.property.specs.bedrooms}),u.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]}),void 0!==e.property.specs.bathrooms&&u.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.property.specs.bathrooms}),u.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]}),void 0!==e.property.specs.parking&&u.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.property.specs.parking}),u.jsx("div",{className:"text-sm text-gray-600",children:"Parking"})]})]})]}),e.highlightTags&&e.highlightTags.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Highlights"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.highlightTags.map(e=>u.jsxs("span",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium",children:[e.icon&&u.jsx("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})]}),e.agent&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Listed By"}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.agent.logo?u.jsx("img",{src:e.agent.logo,alt:e.agent.name,className:"w-16 h-16 rounded-full object-cover bg-white"}):u.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-2xl",children:e.agent.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.agent.name}),u.jsx("div",{className:"text-sm text-gray-600",children:"Property Agent"}),e.agent.phone&&u.jsx("div",{className:"text-sm text-gray-500 mt-1",children:e.agent.phone})]})]})]})]}),u.jsx("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("button",{onClick:l,className:"flex flex-col items-center justify-center gap-2 py-4 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-lg",children:[u.jsx(go,{className:"w-6 h-6"}),u.jsx("span",{className:"text-sm font-semibold",children:"Contact Agent"})]}),u.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center gap-2 py-4 px-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow-lg",children:[u.jsx(Ea,{className:"w-6 h-6"}),u.jsx("span",{className:"text-sm font-semibold",children:"Book Viewing"})]}),u.jsxs("button",{onClick:p,className:"flex flex-col items-center justify-center gap-2 py-4 px-4 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors shadow-lg",children:[u.jsx(xo,{className:"w-6 h-6"}),u.jsx("span",{className:"text-sm font-semibold",children:"WhatsApp"})]})]})})]})]})]})}function PropertyCard({property:e,isActive:s,currentMediaIndex:a=0,onSave:l,onShare:c,onMore:p,onContactAgent:m,onBookViewing:h,onWhatsApp:f}){const[g,b]=re.useState(!1),[j,N]=re.useState(!1),k=e.media?.[a]||e.media?.[0];return u.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[k?"video"===k.type?u.jsx("video",{src:k.url,poster:k.thumbnailUrl,className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0,autoPlay:s},k.id):u.jsx("img",{src:k.url,alt:e.title,className:"w-full h-full object-cover transition-opacity duration-300"},k.id):u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"text-gray-500 text-6xl",children:""})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/80"})]}),u.jsxs("div",{className:"absolute top-4 right-4 z-20 flex flex-col gap-3",children:[u.jsx("button",{onClick:()=>{b(!g),l?.()},className:"p-3 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-black/70 transition-all","aria-label":g?"Remove from favorites":"Save to favorites",children:u.jsx($i,{className:"w-6 h-6 "+(g?"fill-red-500 text-red-500":"")})}),u.jsx("button",{onClick:()=>{c?.()},className:"p-3 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-black/70 transition-all","aria-label":"Share property",children:u.jsx(Wo,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>{p?.()},className:"p-3 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-black/70 transition-all","aria-label":"More options",children:u.jsx(ui,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-6 pb-8",children:[e.highlightTags&&e.highlightTags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.highlightTags.slice(0,4).map(e=>u.jsxs("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium",style:e.color?{backgroundColor:`${e.color}40`}:void 0,children:[e.icon&&u.jsx("span",{className:"mr-1",children:e.icon}),e.label]},e.id))}),e.property?.price&&u.jsx("div",{className:"text-white text-4xl font-bold mb-2",children:(_=e.property.price,_>=1e6?`R${(_/1e6).toFixed(2)}M`:`R${_.toLocaleString()}`)}),e.property?.location&&u.jsxs("div",{className:"flex items-center gap-2 text-white/90 text-lg mb-3",children:[u.jsx(lo,{className:"w-5 h-5"}),u.jsxs("span",{children:[e.property.location.suburb&&`${e.property.location.suburb}, `,e.property.location.city]})]}),e.property?.specs&&u.jsxs("div",{className:"flex items-center gap-6 text-white/80",children:[void 0!==e.property.specs.bedrooms&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ja,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg",children:e.property.specs.bedrooms})]}),void 0!==e.property.specs.bathrooms&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ya,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg",children:e.property.specs.bathrooms})]}),void 0!==e.property.specs.parking&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ma,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg",children:e.property.specs.parking})]})]}),e.agent&&u.jsxs("div",{className:"flex items-center gap-3 mt-4 pt-4 border-t border-white/20",children:[e.agent.logo?u.jsx("img",{src:e.agent.logo,alt:e.agent.name,className:"w-10 h-10 rounded-full object-cover bg-white"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white font-semibold",children:e.agent.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white text-sm font-medium",children:e.agent.name}),u.jsx("div",{className:"text-white/60 text-xs",children:"Property Agent"})]})]})]}),e.media&&e.media.length>1&&u.jsx("div",{className:"absolute top-4 left-4 z-20",children:u.jsxs("div",{className:"px-3 py-1 bg-black/50 backdrop-blur-sm rounded-full text-white text-sm font-medium",children:[a+1," / ",e.media.length]})}),e.media&&e.media.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[30%] z-10 pointer-events-none"}),u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-[30%] z-10 pointer-events-none"})]}),u.jsx(PropertyOverlay,{property:e,isExpanded:j,onToggleExpand:()=>N(!j),onContactAgent:()=>{m?.(),N(!1)},onBookViewing:()=>{h?.(),N(!1)},onWhatsApp:()=>{f?.(),N(!1)}})]});var _}function ShortsContainer({feedType:e,feedId:s,category:a}){const{cards:l,currentIndex:c,currentCard:p,isLoading:m,error:h,goToNext:f,goToPrevious:g,refresh:b}=function useShortsFeed({feedType:e,feedId:s,category:a,limit:l=20}){const[c,u]=re.useState({cards:[],currentIndex:0,isLoading:!0,hasMore:!0,error:null}),{toast:p}=useToast(),m=re.useRef(!1),f=re.useRef(0),g=re.useRef(!0),b=re.useCallback(async(e=!1)=>{if(!m.current){m.current=!0,u(e=>({...e,isLoading:!0,error:null}));try{const s=e?0:f.current;let a;a=g.current?Array.from({length:Math.min(l,5)},(e,a)=>({id:s+a+1,listingId:s+a+1,agentId:1,title:`Beautiful Property ${s+a+1}`,caption:"Stunning property in prime location",primaryMediaId:1,mediaIds:[1],highlights:["ready-to-move","pet-friendly"],performanceScore:85,boostPriority:0,viewCount:1250,uniqueViewCount:980,saveCount:45,shareCount:12,skipCount:23,averageWatchTime:8,viewThroughRate:78.4,saveRate:4.6,shareRate:1.2,skipRate:2.3,isPublished:!0,isFeatured:!1,createdAt:new Date,updatedAt:new Date,property:{price:25e5+5e5*a,location:{city:["Cape Town","Johannesburg","Durban","Pretoria","Port Elizabeth"][a%5],suburb:["Sandton","Camps Bay","Umhlanga","Waterkloof","Summerstrand"][a%5],province:["Western Cape","Gauteng","KwaZulu-Natal","Gauteng","Eastern Cape"][a%5]},specs:{bedrooms:3+a%3,bathrooms:2+a%2,parking:2}},media:[{id:1,type:"image",url:`https://images.unsplash.com/photo-${1560184697+a}?w=800&h=1200&fit=crop`,thumbnailUrl:`https://images.unsplash.com/photo-${1560184697+a}?w=400&h=600&fit=crop`,orientation:"vertical",width:800,height:1200}],highlightTags:[{id:1,tagKey:"ready-to-move",label:"Ready to Move",category:"status",displayOrder:1,isActive:!0,createdAt:new Date},{id:2,tagKey:"pet-friendly",label:"Pet Friendly",category:"feature",displayOrder:2,isActive:!0,createdAt:new Date}],agent:{id:1,name:"John Smith Properties",phone:"+27 82 123 4567",whatsapp:"+27821234567"}})):[];const c=a.length===l;u(s=>({...s,cards:e?a:[...s.cards,...a],isLoading:!1,hasMore:c,currentIndex:e?0:s.currentIndex})),f.current=e?a.length:f.current+a.length}catch(h){console.error("Failed to fetch feed:",h),p({title:"Error loading properties",description:"Failed to load properties. Please try again.",variant:"destructive"}),u(e=>({...e,isLoading:!1,error:"Failed to load properties. Please try again."}))}finally{m.current=!1}}},[e,s,a,l,p]);re.useEffect(()=>{b(!0)},[b]);const j=re.useCallback(()=>{u(e=>{const s=e.currentIndex+1;return s>=e.cards.length-3&&e.hasMore&&!m.current&&b(!1),{...e,currentIndex:Math.min(s,e.cards.length-1)}})},[b]),N=re.useCallback(()=>{u(e=>({...e,currentIndex:Math.max(e.currentIndex-1,0)}))},[]),k=re.useCallback(e=>{u(s=>({...s,currentIndex:Math.max(0,Math.min(e,s.cards.length-1))}))},[]),_=re.useCallback(()=>{f.current=0,b(!0)},[b]),T=c.cards[c.currentIndex]||null,E={previous:c.cards[c.currentIndex-1]||null,next:c.cards[c.currentIndex+1]||null};return{...c,currentCard:T,adjacentCards:E,goToNext:j,goToPrevious:N,goToIndex:k,refresh:_,isFirstCard:0===c.currentIndex,isLastCard:c.currentIndex===c.cards.length-1}}({feedType:e,feedId:s,category:a}),j=re.useRef(null),[N,k]=re.useState(0);return re.useEffect(()=>{k(0)},[c]),re.useEffect(()=>{const handleKeyDown=e=>{"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),f()):"ArrowDown"!==e.key&&"ArrowLeft"!==e.key||(e.preventDefault(),g())};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)},[f,g]),m&&0===l.length?u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center bg-black",children:u.jsxs(kb.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex flex-col items-center gap-6 p-8 rounded-2xl",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`,boxShadow:dz.glass},children:[u.jsx(no,{className:"w-16 h-16 text-white animate-spin",strokeWidth:2}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-white text-xl font-semibold mb-1",children:"Loading Shorts"}),u.jsx("p",{className:"text-gray-300 text-sm",children:"Preparing your personalized feed..."})]})]})}):h&&0===l.length?u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center bg-black p-6",children:u.jsxs(kb.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex flex-col items-center gap-6 p-8 rounded-2xl max-w-md text-center",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`,boxShadow:dz.glass},children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center",children:u.jsx(Oo,{className:"w-10 h-10 text-red-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Oops! Something went wrong"}),u.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:h})]}),u.jsxs(kb.button,{onClick:b,variants:fz,whileHover:"hover",whileTap:"tap",className:"px-8 py-4 rounded-xl text-white font-semibold text-lg flex items-center gap-3 shadow-xl",style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(79, 70, 229, 0.9) 100%)",backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},children:[u.jsx(Oo,{className:"w-6 h-6"}),"Try Again"]})]})}):0===l.length?u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center bg-black p-6",children:u.jsxs(kb.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex flex-col items-center gap-6 p-8 rounded-2xl max-w-md text-center",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`,boxShadow:dz.glass},children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700/30 flex items-center justify-center",children:u.jsx(Bi,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"No Properties Found"}),u.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:"We couldn't find any properties matching your criteria. Try adjusting your filters or check back later."})]})]})}):u.jsxs("div",{ref:j,className:"fixed inset-0 bg-black overflow-hidden",role:"region","aria-label":"Property shorts feed",children:[u.jsx(SwipeEngine,{onSwipeUp:f,onSwipeDown:g,onTapLeft:()=>{p?.media&&p.media.length>1&&k(e=>e>0?e-1:p.media.length-1)},onTapRight:()=>{p?.media&&p.media.length>1&&k(e=>e<p.media.length-1?e+1:0)},onDoubleTap:()=>{console.log("Double tap save:",p?.id)},onLongPress:()=>{console.log("Long press:",p?.id)},className:"relative w-full h-full",children:u.jsx(AnimatePresence,{mode:"wait",children:l.map((e,s)=>u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:s===c?1:0,scale:s===c?1:.95},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"absolute inset-0 "+(s===c?"z-10":"z-0 pointer-events-none"),"aria-hidden":s!==c,children:u.jsx(PropertyCard,{property:e,isActive:s===c,currentMediaIndex:s===c?N:0,onSave:()=>console.log("Save property:",e.id),onShare:()=>console.log("Share property:",e.id),onMore:()=>console.log("More options:",e.id),onContactAgent:()=>console.log("Contact agent for property:",e.id),onBookViewing:()=>console.log("Book viewing for property:",e.id),onWhatsApp:()=>console.log("WhatsApp agent for property:",e.id)})},e.id))})}),u.jsx(kb.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 z-20 px-4 py-2 rounded-full",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:u.jsx("div",{className:"flex items-center gap-2",children:l.slice(Math.max(0,c-2),c+3).map((e,s)=>{const a=Math.max(0,c-2)+s;return u.jsx(kb.div,{animate:{width:a===c?32:4,backgroundColor:a===c?"rgba(255, 255, 255, 1)":"rgba(156, 163, 175, 0.5)"},transition:{duration:.3,ease:"easeOut"},className:"h-1 rounded-full","aria-label":`Property ${a+1} of ${l.length}`,role:"progressbar","aria-valuenow":a+1,"aria-valuemin":1,"aria-valuemax":l.length},a)})})}),u.jsx(AnimatePresence,{children:m&&l.length>0&&u.jsx(kb.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 p-3 rounded-full",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:u.jsx(no,{className:"w-6 h-6 text-white animate-spin",strokeWidth:2.5})})})]})}function ExploreShorts(){const[,e]=useLocation(),[s]=re.useState("recommended"),{isAuthenticated:a}=useAuth();return u.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-black",children:[u.jsx(kb.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"absolute top-0 left-0 right-0 z-50 pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.6) 0%, transparent 100%)"},children:u.jsxs("div",{className:"flex items-center justify-between p-4 pointer-events-auto",children:[u.jsx(kb.button,{onClick:()=>e("/"),variants:fz,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full text-white shadow-xl",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},"aria-label":"Go back",children:u.jsx(ua,{className:"w-6 h-6"})}),a&&u.jsxs(kb.button,{onClick:()=>e("/explore/upload"),variants:fz,whileHover:"hover",whileTap:"tap",className:"flex items-center gap-2 px-5 py-3 rounded-full text-white font-semibold shadow-xl",style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(79, 70, 229, 0.9) 100%)",backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.border}`},"aria-label":"Upload content",children:[u.jsx(yl,{className:"w-5 h-5"}),u.jsx("span",{children:"Upload"})]})]})}),u.jsx(ShortsContainer,{feedType:s}),u.jsx(AnimatePresence,{children:u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,delay:1},className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none",children:u.jsx(kb.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:2,ease:"easeInOut"},className:"flex flex-col items-center gap-2 px-6 py-3 rounded-full text-white text-sm font-medium",style:{background:oz.glass.bgDark,backdropFilter:oz.glass.backdrop,border:`1px solid ${oz.glass.borderDark}`},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Swipe up for next"}),u.jsx("span",{children:""})]})})})})]})}function ExploreUpload(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),{toast:l}=useToast(),[c,p]=re.useState(""),[m,h]=re.useState(""),[f,g]=re.useState([]),[b,j]=re.useState([""]),[N,k]=re.useState(!1),[_,T]=re.useState(null),[E,A]=re.useState(!1),[L,O]=re.useState("/agent/dashboard"),[I,$]=re.useState(!0),z=At.video.getPresignedUrl.useMutation(),U=At.explore.uploadShort.useMutation(),H="agent"===s?.role;if(!a)return e("/login"),null;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white py-12",children:[u.jsxs("div",{className:"container max-w-4xl",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx(Button$1,{variant:"ghost",onClick:()=>e("/explore"),className:"mb-4",children:" Back to Explore"}),u.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Upload to Explore"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Share your property content with thousands of potential buyers"})]}),u.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim())if(0!==f.length){k(!0);try{const e=[];for(let s=0;s<f.length;s++){const a=f[s];l({title:`Uploading ${a.type} ${s+1}/${f.length}`,description:"Please wait..."});const c=await z.mutateAsync({fileName:a.file.name,fileType:a.file.type});if(!c?.uploadUrl||!c?.videoUrl)throw new Error(`Failed to get upload URL for ${a.file.name}`);await new Promise((e,s)=>{const l=new XMLHttpRequest;l.addEventListener("load",()=>{200===l.status||204===l.status?e():s(new Error(`Upload failed with status ${l.status}`))}),l.addEventListener("error",()=>{s(new Error("Network error during upload"))}),l.open("PUT",c.uploadUrl),l.setRequestHeader("Content-Type",a.file.type),l.send(a.file)}),e.push(c.videoUrl)}await U.mutateAsync({title:c.trim(),caption:m.trim()||void 0,mediaUrls:e,highlights:b.filter(e=>e.trim()).length>0?b.filter(e=>e.trim()):void 0,listingId:_||void 0,attributeToAgency:I});p(""),h(""),g([]),j([""]),O("agent"===s?.role?"/agent/dashboard":"property_developer"===s?.role?"/developer/dashboard":"agency_admin"===s?.role?"/agency/dashboard":"/dashboard"),A(!0)}catch(a){console.error("Upload error:",a),l({title:"Upload failed",description:a instanceof Error?a.message:"There was an error uploading your content. Please try again.",variant:"destructive"})}finally{k(!1)}}else l({title:"Media required",description:"Please upload at least one image or video",variant:"destructive"});else l({title:"Title required",description:"Please enter a title for your content",variant:"destructive"})},children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(yl,{className:"h-5 w-5"}),"Upload Media"]}),u.jsx(na,{children:"Add photos or videos of your property (max 10 files)"})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"mb-4",children:u.jsxs("label",{htmlFor:"media-upload",className:"cursor-pointer",children:[u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 hover:bg-blue-50/50 transition-all",children:[u.jsx(yl,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Click to upload or drag and drop"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Images (JPG, PNG) or Videos (MP4, MOV) up to 50MB"})]}),u.jsx("input",{id:"media-upload",type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{Array.from(e.target.files||[]).forEach(e=>{const s=e.type.startsWith("image/"),a=e.type.startsWith("video/");if(!s&&!a)return void l({title:"Invalid file type",description:"Please upload only images or videos",variant:"destructive"});const c=new FileReader;c.onload=a=>{const l={id:Math.random().toString(36).substr(2,9),url:a.target?.result,type:s?"image":"video",file:e};g(e=>[...e,l])},c.readAsDataURL(e)})},className:"hidden",disabled:f.length>=10})]})}),f.length>0&&u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map((e,s)=>u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border-2 border-gray-200",children:"image"===e.type?u.jsx("img",{src:e.url,alt:`Upload ${s+1}`,className:"w-full h-full object-cover"}):u.jsx("video",{src:e.url,className:"w-full h-full object-cover",muted:!0})}),u.jsx("button",{type:"button",onClick:()=>{return s=e.id,void g(e=>e.filter(e=>e.id!==s));var s},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Il,{className:"h-4 w-4"})}),0===s&&u.jsx("div",{className:"absolute bottom-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded",children:"Primary"})]},e.id))})]})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Content Details"}),u.jsx(na,{children:"Add a compelling title and description"})]}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"title",children:"Title *"}),u.jsx(Input,{id:"title",value:c,onChange:e=>p(e.target.value),placeholder:"e.g., Stunning 3BR Apartment in Sandton",maxLength:255,required:!0})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"caption",children:"Caption"}),u.jsx(Textarea,{id:"caption",value:m,onChange:e=>h(e.target.value),placeholder:"Add a description to engage viewers...",rows:4,maxLength:500}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m.length,"/500 characters"]})]})]})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(el,{className:"h-5 w-5"}),"Highlights"]}),u.jsx(na,{children:"Add up to 4 key features (optional)"})]}),u.jsxs(sa,{className:"space-y-3",children:[b.map((e,s)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{value:e,onChange:e=>((e,s)=>{const a=[...b];a[e]=s,j(a)})(s,e.target.value),placeholder:`Highlight ${s+1}`,maxLength:50}),b.length>1&&u.jsx(Button$1,{type:"button",variant:"ghost",size:"icon",onClick:()=>(e=>{j(b.filter((s,a)=>a!==e))})(s),children:u.jsx(Il,{className:"h-4 w-4"})})]},s)),b.length<4&&u.jsxs(Button$1,{type:"button",variant:"outline",size:"sm",onClick:()=>{b.length<4&&j([...b,""])},className:"w-full",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Highlight"]})]})]}),H&&u.jsxs(ea,{className:"border-blue-200 bg-blue-50/50",children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2 text-blue-900",children:[u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Agency Attribution"]}),u.jsx(na,{className:"text-blue-700",children:"Your content will be attributed to your agency"})]}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg border border-blue-200",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:s?.username?.charAt(0).toUpperCase()||"A"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-gray-900",children:"Your Agency"}),u.jsx("p",{className:"text-sm text-gray-600",children:"This content will help build your agency's brand presence"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[u.jsx("input",{type:"checkbox",id:"attributeToAgency",checked:I,onChange:e=>$(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"attributeToAgency",className:"text-sm text-gray-700 cursor-pointer",children:"Attribute this content to my agency"})]}),!I&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Note:"})," Content will be attributed to you individually, not your agency."]})})]})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>e("/explore"),className:"flex-1",children:"Cancel"}),u.jsx(Button$1,{type:"submit",disabled:N||0===f.length||!c.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:N?"Uploading...":"Publish to Explore"})]})]})})]}),u.jsx(Dialog,{open:E,onOpenChange:A,children:u.jsxs(DialogContent,{className:"sm:max-w-md",children:[u.jsxs(DialogHeader,{children:[u.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-green-100 to-emerald-100",children:u.jsx(Ua,{className:"h-10 w-10 text-green-600"})}),u.jsx(DialogTitle,{className:"text-center text-2xl",children:"Upload Successful!"}),u.jsx(DialogDescription,{className:"text-center text-base",children:"Your content has been published to Explore and is now live for everyone to see."})]}),u.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[u.jsxs(Button$1,{onClick:()=>{A(!1),window.open("/explore","_blank")},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[u.jsx(fi,{className:"mr-2 h-4 w-4"}),"View on Explore"]}),u.jsxs(Button$1,{variant:"outline",onClick:()=>{A(!1),e(L)},className:"w-full",children:[u.jsx(ua,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),u.jsx(Button$1,{variant:"ghost",onClick:()=>{A(!1)},className:"w-full",children:"Upload Another"})]})]})})]})}function PartnerProfile(){return u.jsxs("div",{className:"container mx-auto p-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Partner Profile"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Coming soon..."})]})}const tV="agency_onboarding_draft";function useOnboardingDraft(){return{saveDraft:re.useCallback(function debounce(e,s){let a=null;return(...l)=>{a&&clearTimeout(a),a=setTimeout(()=>e(...l),s)}}((e,s)=>{const a={data:e,step:s,savedAt:(new Date).toISOString(),expiresAt:new Date(Date.now()+2592e5).toISOString()};try{localStorage.setItem(tV,JSON.stringify(a))}catch(l){console.error("Failed to save onboarding draft:",l)}},1e3),[]),loadDraft:re.useCallback(()=>{try{const e=localStorage.getItem(tV);if(!e)return null;const s=JSON.parse(e);return new Date(s.expiresAt)<new Date?(localStorage.removeItem(tV),null):s}catch(e){return console.error("Failed to load onboarding draft:",e),null}},[]),clearDraft:re.useCallback(()=>{try{localStorage.removeItem(tV)}catch(e){console.error("Failed to clear onboarding draft:",e)}},[])}}const rV={app:window.location.origin,success:e=>`${window.location.origin}/agency/dashboard?welcome=true${e?`&session_id=${e}`:""}`,cancel:e=>`${window.location.origin}/agency/onboarding${e?`?step=${e}`:""}`,inviteAccept:e=>`${window.location.origin}/invite/accept?token=${e}`},nV=(parseInt("72"),parseInt("50"),AN.object({name:AN.string().min(2,"Agency name must be at least 2 characters"),description:AN.string().min(10,"Description must be at least 10 characters"),email:AN.string().email("Invalid email address"),phone:AN.string().optional(),website:AN.string().url().optional().or(AN.literal("")),address:AN.string().min(5,"Address must be at least 5 characters"),city:AN.string().min(2,"City is required"),province:AN.string().min(2,"Province is required")})),sV=AN.object({logoUrl:AN.string().optional(),primaryColor:AN.string().regex(/^#[0-9A-F]{6}$/i,"Invalid color format"),secondaryColor:AN.string().regex(/^#[0-9A-F]{6}$/i,"Invalid color format"),tagline:AN.string().max(100,"Tagline must be less than 100 characters").optional(),companyName:AN.string().min(2,"Company name is required")});AN.object({inviteAgents:AN.boolean().default(!1),agentEmails:AN.array(AN.string().email()).optional()});const aV=AN.object({selectedPlanId:AN.number(),agreeToTerms:AN.boolean().refine(e=>e,"You must agree to the terms")}),iV=[{id:1,title:"Basic Info",description:"Tell us about your agency"},{id:2,title:"Branding",description:"Customize your look"},{id:3,title:"Team Setup",description:"Invite your team members"},{id:4,title:"Plan Selection",description:"Choose your subscription"},{id:5,title:"Payment",description:"Complete your setup"}],AgencyOnboarding=()=>{useLocation();const[e,s]=re.useState(1),[a,l]=re.useState([]),[c,p]=re.useState(!1),[m,h]=re.useState(null),[f,g]=re.useState(null),[b,j]=re.useState(null),[N,k]=re.useState(null),[_,T]=re.useState(null),{saveDraft:E,loadDraft:A,clearDraft:L}=useOnboardingDraft(),{data:O,isLoading:I}=At.billing.plans.useQuery(),$=At.agency.createOnboarding.useMutation(),z=At.billing.createCheckoutSession.useMutation();re.useEffect(()=>{const e=A();e&&(h(e),p(!0))},[A]),re.useEffect(()=>{E({basicInfo:f,branding:b,teamSetup:N,planSelection:_},e)},[f,b,N,_,e,E]);const nextStep=()=>{e<iV.length&&(l(s=>[...s,e]),s(e+1))},prevStep=()=>{e>1&&s(e-1)},handleComplete=async()=>{if(f&&b&&_)try{const e=await $.mutateAsync({basicInfo:f,branding:b,teamEmails:N?.agentEmails||[],planId:_.selectedPlanId}),s=await z.mutateAsync({planId:_.selectedPlanId,successUrl:`${window.location.origin}/agency/onboarding/success?agency_id=${e.agencyId}`,cancelUrl:rV.cancel(4)});if(L(),!s.url)throw new Error("No checkout URL received");window.location.href=s.url}catch(e){console.error("Agency setup error:",e),Gr.error("Setup Failed",{description:e instanceof Error?e.message:"There was an error setting up your agency. Please try again."})}else Gr.error("Missing Information",{description:"Please complete all required steps before continuing."})};return u.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to SA Property Portal"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Let's get your real estate agency set up and running"})]}),u.jsxs(ea,{className:"shadow-lg",children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Agency Onboarding"}),u.jsx(na,{children:"Complete these steps to activate your agency's premium features"})]}),u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:iV.map(s=>u.jsxs("div",{className:"flex flex-col items-center flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold mb-2 "+(e===s.id?"bg-primary text-primary-foreground":a.includes(s.id)?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:a.includes(s.id)?u.jsx(Ua,{className:"w-5 h-5"}):s.id}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-medium",children:s.title}),u.jsx("div",{className:"text-xs text-gray-500",children:s.description})]})]},s.id))}),u.jsx(Progress,{value:e/iV.length*100,className:"w-full"})]}),(()=>{switch(e){case 1:return u.jsx(BasicInfoStep,{onNext:e=>{g(e),nextStep()}});case 2:return u.jsx(BrandingStep,{onNext:e=>{j(e),nextStep()},onPrev:prevStep});case 3:return u.jsx(TeamSetupStep,{onNext:e=>{k(e),nextStep()},onPrev:prevStep});case 4:return u.jsx(PlanSelectionStep,{plans:O||[],onNext:e=>{T(e),nextStep()},onPrev:prevStep});case 5:return u.jsx(PaymentStep,{onComplete:handleComplete,onPrev:prevStep});default:return null}})()]})]})]}),u.jsx(Dialog,{open:c,onOpenChange:p,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Resume Your Application?"}),u.jsxs(DialogDescription,{children:["You have an unfinished onboarding from"," ",m?.savedAt?new Date(m.savedAt).toLocaleDateString():"earlier",". Would you like to continue where you left off?"]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>{L(),p(!1)},children:"Start Fresh"}),u.jsx(Button$1,{onClick:()=>{m?.data&&(g(m.data.basicInfo),j(m.data.branding),k(m.data.teamSetup),T(m.data.planSelection),s(m.step)),p(!1)},children:"Resume"})]})]})})]})},BasicInfoStep=({onNext:e})=>{const{register:s,handleSubmit:a,formState:{errors:l}}=useForm({resolver:t(nV)});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ka,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})]}),u.jsxs("form",{onSubmit:a(e),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"name",children:"Agency Name *"}),u.jsx(Input,{id:"name",...s("name"),placeholder:"Enter agency name"}),l.name&&u.jsx("p",{className:"text-sm text-red-600",children:l.name.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"email",children:"Email Address *"}),u.jsx(Input,{id:"email",type:"email",...s("email"),placeholder:"Enter email address"}),l.email&&u.jsx("p",{className:"text-sm text-red-600",children:l.email.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"phone",children:"Phone Number"}),u.jsx(Input,{id:"phone",...s("phone"),placeholder:"Enter phone number"}),l.phone&&u.jsx("p",{className:"text-sm text-red-600",children:l.phone.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"website",children:"Website"}),u.jsx(Input,{id:"website",...s("website"),placeholder:"Enter website URL"}),l.website&&u.jsx("p",{className:"text-sm text-red-600",children:l.website.message})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx(Label$1,{htmlFor:"address",children:"Physical Address *"}),u.jsx(Input,{id:"address",...s("address"),placeholder:"Enter full address"}),l.address&&u.jsx("p",{className:"text-sm text-red-600",children:l.address.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"city",children:"City *"}),u.jsx(Input,{id:"city",...s("city"),placeholder:"Enter city"}),l.city&&u.jsx("p",{className:"text-sm text-red-600",children:l.city.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"province",children:"Province *"}),u.jsx(Input,{id:"province",...s("province"),placeholder:"Enter province"}),l.province&&u.jsx("p",{className:"text-sm text-red-600",children:l.province.message})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"description",children:"Description *"}),u.jsx(Textarea,{id:"description",...s("description"),placeholder:"Enter agency description",rows:4}),l.description&&u.jsx("p",{className:"text-sm text-red-600",children:l.description.message})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Button$1,{type:"submit",children:"Continue to Branding"})})]})]})},BrandingStep=({onNext:e,onPrev:s})=>{const{register:a,handleSubmit:l,formState:{errors:c}}=useForm({resolver:t(sV),defaultValues:{primaryColor:"#3b82f6",secondaryColor:"#64748b"}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Co,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Agency Branding"})]}),u.jsx(Alert,{children:u.jsx(AlertDescription,{children:"Customize your agency's appearance. These settings can be changed later in your agency settings."})}),u.jsxs("form",{onSubmit:l(e),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"companyName",children:"Display Name *"}),u.jsx(Input,{id:"companyName",...a("companyName"),placeholder:"Agency Display Name"}),c.companyName&&u.jsx("p",{className:"text-sm text-red-600",children:c.companyName.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"tagline",children:"Tagline"}),u.jsx(Input,{id:"tagline",...a("tagline"),placeholder:"Your agency's tagline"}),c.tagline&&u.jsx("p",{className:"text-sm text-red-600",children:c.tagline.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"primaryColor",children:"Primary Color *"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Input,{id:"primaryColor",...a("primaryColor"),placeholder:"#3b82f6"}),u.jsx("input",{type:"color",...a("primaryColor"),className:"w-12 h-10 rounded border"})]}),c.primaryColor&&u.jsx("p",{className:"text-sm text-red-600",children:c.primaryColor.message})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"secondaryColor",children:"Secondary Color *"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Input,{id:"secondaryColor",...a("secondaryColor"),placeholder:"#64748b"}),u.jsx("input",{type:"color",...a("secondaryColor"),className:"w-12 h-10 rounded border"})]}),c.secondaryColor&&u.jsx("p",{className:"text-sm text-red-600",children:c.secondaryColor.message})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"logoUrl",children:"Logo URL"}),u.jsx(Input,{id:"logoUrl",...a("logoUrl"),placeholder:"https://example.com/logo.png"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload your logo to an image hosting service and paste the URL here"}),c.logoUrl&&u.jsx("p",{className:"text-sm text-red-600",children:c.logoUrl.message})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(Button$1,{type:"button",variant:"outline",onClick:s,children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsx(Button$1,{type:"submit",children:"Continue to Team Setup"})]})]})]})},TeamSetupStep=({onNext:e,onPrev:s})=>{const{register:a,handleSubmit:l,watch:c,setValue:p,formState:{errors:m}}=useForm({defaultValues:{inviteAgents:!1,agentEmails:[]}}),h=c("inviteAgents"),[f,g]=re.useState([]),[b,j]=re.useState(""),N=re.useRef(null),addEmail=()=>{const e=b.trim();if(e&&!f.includes(e)){if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){const s=[...f,e];g(s),p("agentEmails",s),j(""),N.current?.focus()}else Gr.error("Invalid email address")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Cl,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Team Setup"})]}),u.jsx(Alert,{children:u.jsx(AlertDescription,{children:"Invite your team members to join your agency. They'll receive an email invitation to create their accounts."})}),u.jsxs("form",{onSubmit:l(e),className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:"inviteAgents",checked:h,onCheckedChange:e=>p("inviteAgents",e)}),u.jsx(Label$1,{htmlFor:"inviteAgents",children:"I want to invite team members now"})]}),h&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Agent Email Addresses"}),u.jsxs("div",{className:"flex space-x-2 mt-2",children:[u.jsx(Input,{ref:N,type:"email",placeholder:"agent@example.com",value:b,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),addEmail())}}),u.jsx(Button$1,{type:"button",onClick:addEmail,disabled:!b.trim(),children:"Add"})]})]}),f.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Invited Agents"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(e=>u.jsxs(Badge,{variant:"secondary",className:"flex items-center space-x-1",children:[u.jsx("span",{children:e}),u.jsx("button",{type:"button",onClick:()=>(e=>{const s=f.filter(s=>s!==e);g(s),p("agentEmails",s)})(e),className:"ml-1 text-xs hover:text-red-600",children:""})]},e))})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(Button$1,{type:"button",variant:"outline",onClick:s,children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsx(Button$1,{type:"submit",children:"Continue to Plan Selection"})]})]})]})},PlanSelectionStep=({plans:e,onNext:s,onPrev:a})=>{const{register:l,handleSubmit:c,setValue:p,watch:m,formState:{errors:h}}=useForm({resolver:t(aV)}),f=m("selectedPlanId"),g=m("agreeToTerms");return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(si,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Choose Your Plan"})]}),u.jsx(Alert,{children:u.jsx(AlertDescription,{children:"Select the plan that best fits your agency's needs. You can change your plan anytime."})}),u.jsxs("form",{onSubmit:c(s),className:"space-y-6",children:[u.jsx(RadioGroup,{value:f?.toString(),onValueChange:e=>p("selectedPlanId",parseInt(e)),className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(e=>{return u.jsxs("div",{className:"relative",children:[u.jsx(RadioGroupItem,{value:e.id.toString(),id:`plan-${e.id}`,className:"sr-only"}),u.jsxs(Label$1,{htmlFor:`plan-${e.id}`,className:`block p-4 border-2 rounded-lg cursor-pointer transition-all ${f===e.id?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"} ${e.isPopular?"ring-2 ring-primary/20":""}`,children:[e.isPopular&&u.jsx(Badge,{className:"absolute -top-2 left-4 bg-primary",children:"Most Popular"}),u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"text-lg font-semibold",children:e.displayName}),u.jsx("div",{className:"text-2xl font-bold text-primary my-2",children:(s=e.price,a=e.interval,`R ${(s/100).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}/${a}`)}),e.description&&u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),e.features&&u.jsx("ul",{className:"text-sm text-left space-y-1",children:JSON.parse(e.features).map((e,s)=>u.jsxs("li",{className:"flex items-center",children:[u.jsx(Ua,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),e]},s))})]})]})]},e.id);var s,a})}),h.selectedPlanId&&u.jsx("p",{className:"text-sm text-red-600",children:h.selectedPlanId.message}),u.jsx(Separator,{}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(Checkbox,{id:"agreeToTerms",checked:g,onCheckedChange:e=>p("agreeToTerms",e)}),u.jsxs(Label$1,{htmlFor:"agreeToTerms",className:"text-sm leading-relaxed",children:["I agree to the"," ",u.jsx("a",{href:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms of Service"})," ","and"," ",u.jsx("a",{href:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"}),"*"]})]}),h.agreeToTerms&&u.jsx("p",{className:"text-sm text-red-600",children:h.agreeToTerms.message})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(Button$1,{type:"button",variant:"outline",onClick:a,children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsx(Button$1,{type:"submit",disabled:!f||!g,children:"Continue to Payment"})]})]})]})},PaymentStep=({onComplete:e,onPrev:s})=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(si,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Complete Setup"})]}),u.jsx(Alert,{children:u.jsx(AlertDescription,{children:"You're almost done! Click \"Complete Setup\" to proceed to secure payment and activate your agency's premium features."})}),u.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[u.jsx("h4",{className:"font-semibold mb-4",children:"What happens next?"}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Ua,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Secure Payment:"})," You'll be redirected to Stripe's secure checkout page"]})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Ua,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Instant Activation:"})," Your premium features will be activated immediately after payment"]})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Ua,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Team Invitations:"})," Your invited team members will receive setup emails"]})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Ua,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Full Access:"})," Complete access to all agency management features"]})]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(Button$1,{type:"button",variant:"outline",onClick:s,children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs(Button$1,{onClick:e,size:"lg",children:["Complete Setup & Pay Now",u.jsx(Fa,{className:"w-4 h-4 ml-2"})]})]})]});function OnboardingSuccess(){const[,e]=useLocation(),s=new URLSearchParams(window.location.search),a=s.get("agency_id");s.get("session_id");const[l,c]=re.useState(!1),[p,m]=re.useState(!1),{data:h,refetch:f,isLoading:g}=At.agency.getById.useQuery({id:Number(a)},{enabled:!!a,refetchInterval:e=>"active"!==e?.subscriptionStatus&&2e3}),b=At.dev?.triggerWebhookManual.useMutation(),j="active"===h?.subscriptionStatus;return re.useEffect(()=>{},[a,l,j,b,f]),u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ha,{className:"w-10 h-10 text-green-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),u.jsx("p",{className:"text-gray-600",children:"Your payment has been processed by Stripe."})]}),j?u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Ha,{className:"w-5 h-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-green-900 mb-1",children:"Agency Activated! "}),u.jsx("p",{className:"text-sm text-green-700",children:"Team invitations have been sent"}),!1]})]})}):u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(no,{className:"w-5 h-5 animate-spin text-blue-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Activating your agency..."}),u.jsx("p",{className:"text-sm text-blue-700",children:"Processing payment webhook"}),!1]})]})}),!1,u.jsx(Button$1,{onClick:()=>e("/agency/dashboard?welcome=true"),disabled:!j,className:"w-full",size:"lg",children:j?u.jsxs(u.Fragment,{children:["Continue to Dashboard",u.jsx("span",{className:"ml-2",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"w-4 h-4 mr-2 animate-spin"}),"Waiting for activation..."]})}),!1,u.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"If activation takes longer than 30 seconds, please contact support."})]})})}function AgencySubscriptionPage(){const[,e]=useLocation(),[s,a]=re.useState("overview"),[l,c]=re.useState(!1),[p,m]=re.useState(null),[h,f]=re.useState(""),[g,b]=re.useState(""),[j,N]=re.useState((new Date).toISOString().split("T")[0]),[k,_]=re.useState(""),[T,E]=re.useState(!1),{data:A,isLoading:L}=At.subscription.getCurrentSubscription.useQuery(),{data:O,isLoading:I}=At.subscription.getAvailablePlans.useQuery(),{data:$,isLoading:z}=At.subscription.getMyInvoices.useQuery({page:1,limit:10}),{data:U}=At.subscription.getBankingDetails.useQuery(),H=At.subscription.submitPaymentProof.useMutation({onSuccess:()=>{Gr.success("Payment proof submitted successfully"),f(""),b(""),_(""),E(!1)},onError:e=>{Gr.error(`Failed to submit proof: ${e.message}`),E(!1)}}),q=At.subscription.upgradeSubscription.useMutation({onSuccess:()=>{Gr.success("Subscription upgraded successfully"),c(!1),window.location.reload()},onError:e=>{Gr.error(`Upgrade failed: ${e.message}`)}});return u.jsxs("div",{className:"min-h-screen bg-[#F4F7FA]",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/agency/dashboard"),children:u.jsx(ua,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Subscription & Billing"}),u.jsx("p",{className:"text-slate-500",children:"Manage your plan and view billing history"})]})]}),u.jsxs(ef,{defaultValue:"overview",value:s,onValueChange:a,className:"space-y-6",children:[u.jsxs(tf,{className:"bg-white p-1 rounded-xl border border-slate-200",children:[u.jsx(rf,{value:"overview",children:"Overview"}),u.jsx(rf,{value:"plans",children:"Available Plans"}),u.jsx(rf,{value:"billing",children:"Billing & Payments"})]}),u.jsx(nf,{value:"overview",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(ea,{className:"md:col-span-2",children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Current Plan"}),u.jsx(na,{children:"Your active subscription details"})]}),u.jsx(sa,{children:L?u.jsx("div",{className:"py-8 text-center text-slate-500",children:"Loading subscription..."}):A?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:A.plan?.displayName}),u.jsxs("p",{className:"text-slate-500",children:[formatCurrency(A.plan?.price)," /"," ",A.plan?.interval]})]}),(e=>{switch(e){case"active":return u.jsx(Badge,{className:"bg-green-500/10 text-green-600 hover:bg-green-500/20 border-green-200",children:"Active"});case"trialing":return u.jsx(Badge,{className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20 border-blue-200",children:"Trial"});case"past_due":return u.jsx(Badge,{className:"bg-orange-500/10 text-orange-600 hover:bg-orange-500/20 border-orange-200",children:"Past Due"});case"canceled":return u.jsx(Badge,{className:"bg-red-500/10 text-red-600 hover:bg-red-500/20 border-red-200",children:"Canceled"});default:return u.jsx(Badge,{variant:"outline",children:e})}})(A.status)]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-t border-b border-slate-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Start Date"}),u.jsx("p",{className:"font-medium",children:A.currentPeriodStart?new Date(A.currentPeriodStart).toLocaleDateString():"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Renewal Date"}),u.jsx("p",{className:"font-medium",children:A.currentPeriodEnd?new Date(A.currentPeriodEnd).toLocaleDateString():"-"})]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3",children:[u.jsx(Ko,{className:"w-5 h-5 text-blue-600 shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Pro Features Active"}),u.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["You have access to all features included in the"," ",A.plan?.displayName," plan."]})]})]})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-slate-500 mb-4",children:"No active subscription found."}),u.jsx(Button$1,{onClick:()=>a("plans"),children:"View Plans"})]})})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Usage"}),u.jsx(na,{children:"Current billing cycle"})]}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{className:"text-slate-600",children:"Active Listings"}),u.jsx("span",{className:"font-medium",children:"12 / 50"})]}),u.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-600 w-[24%]"})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{className:"text-slate-600",children:"Agents"}),u.jsx("span",{className:"font-medium",children:"3 / 5"})]}),u.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-emerald-600 w-[60%]"})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{className:"text-slate-600",children:"Storage"}),u.jsx("span",{className:"font-medium",children:"1.2GB / 5GB"})]}),u.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-purple-600 w-[24%]"})})]})]})]})]})}),u.jsx(nf,{value:"plans",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:I?u.jsx("div",{className:"col-span-3 text-center py-12 text-slate-500",children:"Loading plans..."}):O?.map(e=>u.jsxs(ea,{className:"relative overflow-hidden transition-all hover:shadow-lg "+(A?.planId===e.id?"border-blue-500 ring-1 ring-blue-500":""),children:[e.isPopular&&u.jsx("div",{className:"absolute top-0 right-0 bg-blue-600 text-white text-xs px-3 py-1 rounded-bl-xl font-medium",children:"Most Popular"}),u.jsxs(ta,{children:[u.jsx(ra,{children:e.displayName}),u.jsx(na,{children:e.description})]}),u.jsxs(sa,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:formatCurrency(e.price)}),u.jsxs("span",{className:"text-slate-500",children:["/",e.interval]})]}),u.jsx("div",{className:"space-y-3 mb-8",children:e.features.map((e,s)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[u.jsx(Ua,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),u.jsx("span",{children:e})]},s))}),u.jsx(Button$1,{className:"w-full",variant:A?.planId===e.id?"outline":"default",disabled:A?.planId===e.id,onClick:()=>(e=>{m(e),c(!0)})(e),children:A?.planId===e.id?"Current Plan":"Select Plan"})]})]},e.id))})}),u.jsx(nf,{value:"billing",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ea,{className:"lg:col-span-2",children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Invoice History"}),u.jsx(na,{children:"View and download past invoices"})]}),u.jsx(sa,{children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Date"}),u.jsx(TableHead,{children:"Amount"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Invoice"})]})}),u.jsx(TableBody,{children:z?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:4,className:"text-center py-8 text-slate-500",children:"Loading invoices..."})}):0===$?.invoices.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:4,className:"text-center py-8 text-slate-500",children:"No invoices found."})}):$?.invoices.map(e=>u.jsxs(TableRow,{children:[u.jsx(TableCell,{children:new Date(e.createdAt).toLocaleDateString()}),u.jsx(TableCell,{children:formatCurrency(e.amount)}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"paid"===e.status?"default":"secondary",className:"capitalize",children:e.status})}),u.jsx(TableCell,{className:"text-right",children:u.jsxs(Button$1,{variant:"ghost",size:"sm",children:[u.jsx(li,{className:"w-4 h-4 mr-2"}),"PDF"]})})]},e.id))})]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Banking Details"}),u.jsx(na,{children:"Use these details for EFT payments"})]}),u.jsxs(sa,{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-500",children:"Bank"}),u.jsx("span",{className:"font-medium",children:U?.bankName})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-500",children:"Account Name"}),u.jsx("span",{className:"font-medium",children:U?.accountName})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-500",children:"Account Number"}),u.jsx("span",{className:"font-medium",children:U?.accountNumber})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-500",children:"Branch Code"}),u.jsx("span",{className:"font-medium",children:U?.branchCode})]}),u.jsxs("div",{className:"flex justify-between py-2",children:[u.jsx("span",{className:"text-slate-500",children:"Reference"}),u.jsxs("span",{className:"font-medium bg-yellow-100 px-2 py-0.5 rounded text-yellow-800",children:[U?.referencePrefix,A?.agencyId||"..."]})]})]})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Submit Payment Proof"}),u.jsx(na,{children:"Upload proof for manual EFT payments"})]}),u.jsx(sa,{children:u.jsxs("form",{onSubmit:e=>{e.preventDefault(),E(!0),H.mutate({amount:Math.round(100*parseFloat(h)),paymentMethod:"eft",referenceNumber:g,paymentDate:j,notes:k,proofOfPaymentUrl:"https://example.com/mock-proof.pdf"})},className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"amount",children:"Amount Paid (R)"}),u.jsx(Input,{id:"amount",type:"number",placeholder:"0.00",step:"0.01",value:h,onChange:e=>f(e.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"reference",children:"Reference Used"}),u.jsx(Input,{id:"reference",placeholder:"e.g. SUB-123",value:g,onChange:e=>b(e.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"date",children:"Payment Date"}),u.jsx(Input,{id:"date",type:"date",value:j,onChange:e=>N(e.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"file",children:"Proof of Payment (PDF/Image)"}),u.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-lg p-6 text-center hover:bg-slate-50 transition-colors cursor-pointer",children:[u.jsx(yl,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Click to upload or drag and drop"})]})]}),u.jsx(Button$1,{type:"submit",className:"w-full",disabled:T,children:T?"Submitting...":"Submit Proof"})]})})]})]})]})})]}),u.jsx(Dialog,{open:l,onOpenChange:c,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Confirm Plan Change"}),u.jsxs(DialogDescription,{children:["Are you sure you want to switch to the ",u.jsx("strong",{children:p?.displayName})," ","plan?"]})]}),u.jsx("div",{className:"py-4",children:u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3 text-sm text-blue-700",children:[u.jsx(Va,{className:"w-5 h-5 shrink-0"}),u.jsx("p",{children:"Your new billing cycle will start immediately. A pro-rated invoice will be generated for the remainder of the current period."})]})}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{p&&q.mutate({newPlanId:p.id})},children:"Confirm & Upgrade"})]})]})})]})]})}const oV=AN.object({email:AN.string().email("Invalid email address")});function ForgotPassword(){const[,e]=useLocation(),[s,a]=re.useState(!1),[l,c]=re.useState(!1),p=useForm({resolver:t(oV),defaultValues:{email:""}});return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[u.jsx(Bi,{className:"h-10 w-10 text-primary"}),u.jsx("h1",{className:"text-3xl font-bold",children:dc})]}),u.jsx("p",{className:"text-muted-foreground",children:"Reset your password"})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Forgot Password"}),u.jsx(na,{children:l?"Please check your email for a link to reset your password. If you don't see it, check your spam folder.":"Enter your email address and we will send you a link to reset your password."})]}),u.jsxs(sa,{children:[l?u.jsx(Button$1,{onClick:()=>e("/login"),className:"w-full",children:"Back to Login"}):u.jsx(Form,{...p,children:u.jsxs("form",{onSubmit:p.handleSubmit(async e=>{a(!0);try{await apiFetch("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),Gr.success("If an account with that email exists, a reset link has been sent."),c(!0)}catch(s){console.error("[ForgotPassword] Error caught:",s),s instanceof ApiError?Gr.error(s.body?.error||`Failed to send reset link (${s.status})`):Gr.error(s instanceof Error?s.message:"An unexpected error occurred.")}finally{a(!1)}}),className:"space-y-4",children:[u.jsx(FormField,{control:p.control,name:"email",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Email"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"email",placeholder:"you@example.com",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(Button$1,{type:"submit",className:"w-full",disabled:s,children:s?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx(Button$1,{variant:"ghost",onClick:()=>e("/login"),className:"text-sm",children:"Remembered your password? Login"})})]})]})]})})}const lV=AN.object({newPassword:AN.string().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/,"Password must contain at least one special character"),confirmPassword:AN.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ResetPassword(){const[,e]=useLocation(),s=useSearch(),a=new URLSearchParams(s).get("token"),[l,c]=re.useState(!1),[p,m]=re.useState(!1),h=useForm({resolver:t(lV),defaultValues:{newPassword:"",confirmPassword:""}});return a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[u.jsx(Bi,{className:"h-10 w-10 text-primary"}),u.jsx("h1",{className:"text-3xl font-bold",children:dc})]}),u.jsx("p",{className:"text-muted-foreground",children:"Create a new password"})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Reset Password"}),u.jsx(na,{children:p?"Your password has been changed. You can now log in with your new password.":"Enter your new password below."})]}),u.jsx(sa,{children:p?u.jsx(Button$1,{onClick:()=>e("/login"),className:"w-full",children:"Go to Login"}):u.jsx(Form,{...h,children:u.jsxs("form",{onSubmit:h.handleSubmit(async e=>{if(a){c(!0);try{await apiFetch("/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,newPassword:e.newPassword})}),Gr.success("Your password has been reset successfully!"),m(!0)}catch(s){console.error("[ResetPassword] Error caught:",s),s instanceof ApiError?Gr.error(s.body?.error||`Password reset failed (${s.status})`):Gr.error(s instanceof Error?s.message:"An unexpected error occurred.")}finally{c(!1)}}else Gr.error("Invalid or missing reset token.")}),className:"space-y-4",children:[u.jsx(FormField,{control:h.control,name:"newPassword",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"New Password"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"password",placeholder:"",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:h.control,name:"confirmPassword",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Confirm New Password"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"password",placeholder:"",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(Button$1,{type:"submit",className:"w-full",disabled:l,children:l?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Invalid Token"}),u.jsx(na,{children:"The password reset link is invalid or has expired. Please request a new one."})]}),u.jsx(sa,{children:u.jsx(Button$1,{onClick:()=>e("/forgot-password"),className:"w-full",children:"Request New Link"})})]})})}const RequireRole=({role:e,children:s})=>{const{isAuthenticated:a,user:l,loading:c}=useAuth(),[,p]=useLocation();return re.useEffect(()=>{c||a&&l?.role===e||"/login"!==window.location.pathname&&p("/login")},[a,l,c,e,p]),c?u.jsx("div",{className:"flex h-screen items-center justify-center",children:u.jsx("span",{className:"text-slate-600",children:"Checking access"})}):a&&l?.role===e?u.jsx(u.Fragment,{children:s}):null},TopNavigationBar=()=>{const[e,s]=re.useState(!1),[,a]=useLocation(),{user:l,logout:c}=useAuth(),handleLogout=async()=>{try{await c(),a("/login")}catch(e){console.error("Logout failed:",e)}};return u.jsx("nav",{className:"sticky top-0 z-50 bg-white/60 backdrop-blur-xl border-b border-white/40 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ko,{className:"h-8 w-8 text-blue-600"}),u.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800",children:"Super Admin"})]}),u.jsx("span",{className:"text-lg font-medium text-slate-600 hidden md:block",children:"HomeFind.za Portal"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(wa,{className:"h-6 w-6 text-slate-600 cursor-pointer hover:text-blue-600 transition-colors"}),u.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-red-500 border-2 border-white"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>{s(!e)},className:"flex items-center space-x-2 cursor-pointer focus:outline-none",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center shadow-md",children:u.jsx("span",{className:"font-semibold",children:l?.name?.charAt(0)?.toUpperCase()||"A"})}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("p",{className:"text-sm font-medium text-slate-800",children:l?.name||"Admin User"}),u.jsx("p",{className:"text-xs text-blue-600",children:"Super Administrator"})]}),u.jsx($a,{className:"h-4 w-4 text-slate-400 hidden md:block"})]}),e&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/80 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-white/40 py-1 text-slate-900 z-50",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-slate-100",children:[u.jsx("p",{className:"text-sm font-medium",children:l?.name||"Admin User"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Super Administrator"})]}),u.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm hover:bg-blue-50 text-slate-700 transition-colors",children:[u.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Profile"]}),u.jsxs("button",{onClick:handleLogout,className:"flex items-center w-full px-4 py-2 text-sm hover:bg-red-50 text-red-600 transition-colors",children:[u.jsx(io,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),u.jsx("button",{onClick:handleLogout,className:"btn-secondary bg-slate-100 hover:bg-slate-200 text-slate-700 md:hidden",children:u.jsx(io,{className:"h-4 w-4"})})]})]})})},SidebarNavigation=()=>{const[e,s]=useLocation(),[a,l]=re.useState("core");re.useEffect(()=>{e.startsWith("/admin/overview")||"/admin"===e||e.startsWith("/admin/properties")||e.startsWith("/admin/development")||e.startsWith("/admin/approvals")?l("core"):e.startsWith("/admin/ecosystem")||e.startsWith("/admin/agencies")||e.startsWith("/admin/agents")||e.startsWith("/admin/agents")||e.startsWith("/admin/developers")||e.startsWith("/admin/publisher")?l("ecosystem"):e.startsWith("/admin/revenue")||e.startsWith("/admin/subscriptions")||e.startsWith("/admin/marketing")||e.startsWith("/admin/monetization")||e.startsWith("/admin/partners")?l("revenue"):e.startsWith("/admin/analytics")?l("insights"):(e.startsWith("/admin/users")||e.startsWith("/admin/settings"))&&l("system")},[e]);const c=[{id:"core",title:"CORE OPERATIONS",icon:Zi,items:[{name:"Dashboard",path:"/admin/overview",icon:Ki},{name:"Listings",path:"/admin/properties",icon:Bi},{name:"Developments",path:"/admin/development-approvals",icon:ka},{name:"Approvals",path:"/admin/approvals",icon:Ua}]},{id:"ecosystem",title:"ECOSYSTEM",icon:Ai,items:[{name:"Overview",path:"/admin/ecosystem",icon:Ki},{name:"Agencies",path:"/admin/agencies",icon:ka},{name:"Agents",path:"/admin/agents",icon:Cl},{name:"Developers",path:"/admin/developers",icon:Ja},{name:"Publisher / Emulator",path:"/admin/publisher",icon:ka},{name:"End Users",path:"/admin/users",icon:Sl}]},{id:"revenue",title:"REVENUE & GROWTH",icon:fl,items:[{name:"Revenue Center",path:"/admin/revenue",icon:ii},{name:"Subscriptions",path:"/admin/subscriptions",icon:si},{name:"Featured Placements",path:"/admin/marketing",icon:sl},{name:"Location Monetization",path:"/admin/monetization",icon:ii},{name:"Partner Network",path:"/admin/partners",icon:Oi}]},{id:"insights",title:"INSIGHTS",icon:la,items:[{name:"Platform Analytics",path:"/admin/analytics",icon:Da},{name:"Financial Tracking",path:"/admin/revenue",icon:wi}]},{id:"system",title:"SYSTEM",icon:qo,items:[{name:"User & Role Management",path:"/admin/users",icon:Cl},{name:"Content Manager",path:"/admin/content",icon:wi},{name:"Communications",path:"/admin/communications",icon:xo},{name:"Settings & Integrations",path:"/admin/settings",icon:qo},{name:"System & Security",path:"/admin/system",icon:Ko}]}];return u.jsx("div",{className:"flex flex-col h-full bg-white/60 backdrop-blur-xl border-r border-white/40 w-full pt-4",children:u.jsx(Accordion,{type:"single",collapsible:!0,value:a,onValueChange:l,className:"px-4 space-y-2",children:c.map(a=>u.jsxs(AccordionItem,{value:a.id,className:"border-none",children:[u.jsx(AccordionTrigger,{className:"hover:no-underline py-2 px-3 rounded-lg hover:bg-primary/5 text-primary/70 font-medium data-[state=open]:bg-primary/10 data-[state=open]:text-primary mb-1",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(a.icon,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:a.title})]})}),u.jsx(AccordionContent,{className:"pt-1 pb-2",children:u.jsx("div",{className:"flex flex-col gap-1 ml-4 border-l border-primary/20 pl-4 mt-1",children:a.items.map(a=>{const l=e===a.path;return u.jsx("button",{onClick:()=>s(a.path),className:cn("text-sm text-left py-2 px-3 rounded-md transition-colors",l?"bg-primary text-primary-foreground font-medium shadow-sm":"text-primary/60 hover:text-primary hover:bg-primary/5"),children:a.name},a.name)})})})]},a.id))})})};function SuperAdminDashboard({children:e}){const{user:s,isAuthenticated:a,loading:l}=useAuth(),[c,p]=re.useState(!1),[m,h]=re.useState(!1),[,f]=useLocation();re.useEffect(()=>{l||a&&"super_admin"===s?.role||f("/login")},[a,s,l,f]),re.useEffect(()=>{const checkIfMobile=()=>{h(window.innerWidth<768),window.innerWidth>=768&&p(!0)};return checkIfMobile(),window.addEventListener("resize",checkIfMobile),()=>{window.removeEventListener("resize",checkIfMobile)}},[]);return l?u.jsx("div",{className:"flex h-screen items-center justify-center bg-[#F4F7FA]",children:u.jsx("span",{className:"text-slate-400",children:"Checking access"})}):a&&"super_admin"===s?.role?u.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-[#F4F7FA] to-[#EEF2F6]",children:[u.jsx(TopNavigationBar,{}),u.jsxs("div",{className:"flex flex-1",children:[u.jsx("div",{className:`${m?"absolute z-40":"relative"} ${c?"block":"hidden"} md:block transition-all duration-300 ease-in-out`,style:{width:"280px"},children:u.jsx(SidebarNavigation,{})}),u.jsxs("main",{className:"flex-1 overflow-auto transition-all duration-300 ease-in-out "+(m?"pt-16":""),children:[m&&u.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 flex items-center justify-between px-4 bg-background border-b z-30",children:[u.jsx("button",{onClick:()=>{p(!c)},className:"p-2 rounded-md bg-background text-foreground hover:bg-muted",children:u.jsx(fo,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold",children:"Admin Dashboard"}),u.jsx(Badge,{variant:"destructive",children:"Super Admin"})]}),u.jsx("div",{className:"w-8"})," "]}),u.jsx("div",{className:"p-4 md:p-6",children:u.jsx("div",{children:e||u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Welcome to the Super Admin Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Select an option from the sidebar to get started."})]})})})]})]})]}):null}const OverviewPage=()=>{const[,e]=useLocation(),{data:s,isLoading:a}=At.admin.getAnalytics.useQuery(),{data:l,isLoading:c}=At.admin.getAdminActionItems.useQuery(void 0,{refetchInterval:3e4}),{data:p}=At.admin.getPropertiesStats.useQuery(),formatNumber=e=>new Intl.NumberFormat("en-ZA").format(e),m=[{label:"Revenue (30d)",value:a?"...":(h=s?.monthlyRevenue||0,new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(h)),trend:"+12%",color:"text-blue-600"},{label:"Active Users",value:a?"...":formatNumber(s?.totalUsers||0),trend:`+${s?.userGrowth||0}`,color:"text-emerald-600"},{label:"Active Listings",value:a?"...":formatNumber(s?.activeProperties||0),trend:`+${s?.propertyGrowth||0}`,color:"text-purple-600"}];var h;const f=(l?.pendingAgentApprovals||0)+(l?.pendingListingApprovals||0)+(l?.pendingDevelopmentApprovals||0),g=f>0;return u.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto py-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"Daily decision support center."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map((e,s)=>u.jsxs(ea,{className:"py-6 px-6 flex items-center justify-between border-slate-200 shadow-sm bg-white",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:e.label}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mt-2",children:e.value})]}),u.jsx(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-600 hover:bg-slate-100",children:e.trend})]},s))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs(ea,{className:"lg:col-span-2 border-l-4 border-l-amber-500 shadow-sm relative overflow-hidden bg-white",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:g?"p-2 bg-amber-50 rounded-lg text-amber-600":"p-2 bg-emerald-50 rounded-lg text-emerald-600",children:g?u.jsx(gl,{className:"h-6 w-6"}):u.jsx(Ua,{className:"h-6 w-6"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-xl font-semibold text-slate-900",children:g?"Action Required":"All Clear"}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:g?`You have ${f} items requiring attention.`:"No pending approvals or reviews."})]})]})}),u.jsx(sa,{className:"space-y-3 pt-2",children:c?u.jsx("div",{className:"text-sm text-slate-500",children:"Loading action items..."}):g?u.jsxs(u.Fragment,{children:[(l?.pendingAgentApprovals||0)>0&&u.jsxs("div",{onClick:()=>e("/admin/approvals"),className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100 hover:bg-slate-100 cursor-pointer transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),u.jsxs("span",{className:"font-medium text-slate-700",children:[l?.pendingAgentApprovals," Agent approvals pending"]})]}),u.jsx(pa,{className:"h-4 w-4 text-slate-400 group-hover:text-amber-600 transition-colors"})]}),(l?.pendingListingApprovals||0)>0&&u.jsxs("div",{onClick:()=>e("/admin/approvals"),className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100 hover:bg-slate-100 cursor-pointer transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),u.jsxs("span",{className:"font-medium text-slate-700",children:[l?.pendingListingApprovals," Listings awaiting review"]})]}),u.jsx(pa,{className:"h-4 w-4 text-slate-400 group-hover:text-amber-600 transition-colors"})]}),(l?.pendingDevelopmentApprovals||0)>0&&u.jsxs("div",{onClick:()=>e("/admin/approvals"),className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100 hover:bg-slate-100 cursor-pointer transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),u.jsxs("span",{className:"font-medium text-slate-700",children:[l?.pendingDevelopmentApprovals," Developments pending review"]})]}),u.jsx(pa,{className:"h-4 w-4 text-slate-400 group-hover:text-amber-600 transition-colors"})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[u.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"Great job! You've cleared the queue."}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>e("/admin/properties"),children:"Manage Existing Listings"})]})})]}),u.jsx("div",{className:"lg:col-span-1 space-y-6",children:u.jsxs(ea,{className:"h-full bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"text-lg font-semibold flex items-center gap-2 text-slate-900",children:[u.jsx(fl,{className:"h-5 w-5 text-slate-400"}),"Growth Snapshot"]})}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"New Users"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Last 30 days"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"font-bold text-slate-900",children:["+",s?.userGrowth||0]})})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"New Listings"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Last 30 days"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"font-bold text-slate-900",children:["+",s?.propertyGrowth||0]})})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(el,{className:"h-4 w-4 text-amber-500"}),u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Avg Quality"})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[p?.qualityMetrics?.featuredCount||0," Featured Listings"]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"font-bold text-slate-900 text-lg",children:Math.round(p?.qualityMetrics?.averageScore||0)})})]}),u.jsx("div",{className:"pt-4 border-t border-slate-100",children:u.jsxs(Button$1,{variant:"ghost",className:"w-full text-xs text-slate-500 hover:text-slate-900 justify-start px-0",onClick:()=>e("/admin/analytics"),children:["View Full Analytics ",u.jsx(pa,{className:"h-3 w-3 ml-1"})]})})]})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Monetization"}),u.jsx(ea,{className:"p-0 overflow-hidden bg-white border-slate-200 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-slate-100",children:[u.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(si,{className:"h-5 w-5 text-slate-400"}),u.jsx("span",{className:"text-slate-700 font-medium",children:"Active Subscriptions"})]}),u.jsx("span",{className:"font-bold text-slate-900",children:s?.paidSubscriptions||0})]}),u.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ii,{className:"h-5 w-5 text-slate-400"}),u.jsx("span",{className:"text-slate-700 font-medium",children:"Revenue (MoM)"})]}),u.jsx("span",{className:"font-bold text-emerald-600",children:"+12%"})]}),u.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50 transition-colors cursor-pointer group",onClick:()=>e("/admin/revenue"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(la,{className:"h-5 w-5 text-slate-400"}),u.jsx("span",{className:"text-slate-700 font-medium group-hover:text-blue-600 transition-colors",children:"Revenue Center"})]}),u.jsx(pa,{className:"h-4 w-4 text-slate-400 group-hover:text-blue-600 transition-colors"})]})]})})]})]})},AgenciesPage=()=>{const[,e]=useLocation(),[s,a]=re.useState(""),[l,c]=re.useState(1),[p,m]=re.useState(null),[h,f]=re.useState(!1),{data:g,isLoading:b}=At.admin.listAgencies.useQuery({page:l,limit:20,search:s||void 0}),getStatusVariant=e=>{switch(e){case"active":return"default";case"pending":return"secondary";default:return"destructive"}};return u.jsxs("div",{className:"space-y-6 container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Agency Management"}),u.jsx("p",{className:"text-slate-500",children:"Manage real estate agencies and their listings"})]}),u.jsxs(Button$1,{className:"bg-primary hover:bg-primary/90 text-white shadow-sm",onClick:()=>e("/admin/agencies/new"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Agency"]})]}),u.jsx(GlassCard,{className:"border-white/40 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:u.jsx(sa,{className:"pt-6",children:u.jsxs("div",{className:"max-w-md relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search by name or city...",value:s,onChange:e=>a(e.target.value),className:"pl-10 bg-white/50 focus:bg-white border-slate-200"})]})})}),u.jsx(GlassCard,{className:"border-white/40 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:u.jsx(sa,{className:"pt-6 p-0 overflow-hidden",children:b?u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading agencies..."}):g?.agencies?.length?u.jsxs(u.Fragment,{children:[u.jsxs(Table,{children:[u.jsx(TableHeader,{className:"bg-slate-50/50",children:u.jsxs(TableRow,{className:"border-slate-100 hover:bg-transparent",children:[u.jsx(TableHead,{className:"text-slate-500 font-semibold",children:"Agency Name"}),u.jsx(TableHead,{className:"text-slate-500 font-semibold",children:"Location"}),u.jsx(TableHead,{className:"text-slate-500 font-semibold",children:"Status"}),u.jsx(TableHead,{className:"text-slate-500 font-semibold",children:"Plan"}),u.jsx(TableHead,{className:"text-slate-500 font-semibold",children:"Created At"}),u.jsx(TableHead,{className:"text-right text-slate-500 font-semibold pr-6",children:"Actions"})]})}),u.jsx(TableBody,{children:g.agencies.map(e=>u.jsxs(TableRow,{className:"border-slate-100 hover:bg-slate-50/50 transition-colors",children:[u.jsx(TableCell,{className:"font-medium text-slate-700",children:e.name}),u.jsx(TableCell,{className:"text-slate-600",children:e.city||"N/A"}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:getStatusVariant(e.status||"active"),className:"capitalize",children:e.status||"Active"})}),u.jsx(TableCell,{className:"text-slate-600 capitalize",children:e.subscriptionPlan||"Free"}),u.jsx(TableCell,{className:"text-slate-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx(TableCell,{className:"text-right pr-6",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white hover:bg-slate-100",onClick:()=>(e=>{m(e),f(!0)})(e),children:u.jsx(fi,{className:"h-4 w-4 text-slate-500"})}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white hover:bg-slate-100",children:u.jsx(rl,{className:"h-4 w-4 text-slate-500"})}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white hover:bg-red-50 border-red-100",children:u.jsx(ul,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-2 p-4 border-t border-slate-100",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===l,className:"bg-white hover:bg-slate-50",children:"Previous"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",l," of ",g.pagination.totalPages||1]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>c(e=>e+1),disabled:l>=(g.pagination.totalPages||1),className:"bg-white hover:bg-slate-50",children:"Next"})]})]}):u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No agencies found."})})}),u.jsx(Dialog,{open:h,onOpenChange:f,children:u.jsxs(DialogContent,{className:"max-w-md bg-white/95 backdrop-blur-xl border-white/20",children:[u.jsx(DialogHeader,{children:u.jsx(DialogTitle,{className:"text-xl font-bold text-slate-800",children:p?.name})}),p&&u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 space-y-1",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),u.jsxs("p",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[u.jsx(lo,{className:"h-3.5 w-3.5 text-primary"}),p.city||"N/A"]})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 space-y-1",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),u.jsxs("p",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[u.jsx(Eo,{className:"h-3.5 w-3.5 text-primary"}),p.phone||"N/A"]})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 space-y-1",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),u.jsx(Badge,{variant:getStatusVariant(p.status||"active"),children:p.status||"Active"})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 space-y-1",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Plan"}),u.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:p.subscriptionPlan||"Free"})]})]}),u.jsxs("div",{className:"pt-2",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:"Details"}),u.jsx("div",{className:"p-4 rounded-xl bg-slate-50 text-sm text-slate-600",children:u.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[u.jsx("span",{className:"text-slate-400",children:"Email:"}),u.jsx("span",{children:p.email||"N/A"}),u.jsx("span",{className:"text-slate-400",children:"Website:"}),u.jsx("span",{children:p.website||"N/A"}),u.jsx("span",{className:"text-slate-400",children:"Branding:"}),u.jsx("span",{className:"truncate",children:p.brandingColors?"Custom colors set":"Default"})]})})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx(Button$1,{variant:"outline",onClick:()=>f(!1),className:"bg-white",children:"Close"})})]})]})})]})},UsersPage=()=>{const[e,s]=re.useState("all"),[a,l]=re.useState(1),[c,p]=re.useState(""),[m,h]=re.useState(null),[f,g]=re.useState(!1),{data:b,isLoading:j}=At.admin.listUsers.useQuery({page:a,limit:20,search:c||void 0,role:"all"!==e?e:void 0}),getUserRoleVariant=e=>{switch(e){case"super_admin":return"destructive";case"agency_admin":return"default";case"agent":return"secondary";default:return"outline"}};return u.jsxs("div",{className:"space-y-6 container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Users Module"}),u.jsx("p",{className:"text-slate-500",children:"Manage all platform users"})]}),u.jsxs(Button$1,{className:"bg-primary hover:bg-primary/90 text-white shadow-sm",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),u.jsx(GlassCard,{className:"border-white/40 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:u.jsxs(sa,{className:"pt-6",children:[u.jsx(ef,{value:e,onValueChange:s,children:u.jsxs(tf,{className:"bg-slate-100 p-1",children:[u.jsx(rf,{value:"all",children:"All Users"}),u.jsx(rf,{value:"visitor",children:"Visitors"}),u.jsx(rf,{value:"agent",children:"Agents"}),u.jsx(rf,{value:"agency_admin",children:"Agency Admins"}),u.jsx(rf,{value:"super_admin",children:"Admins"})]})}),u.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-60",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search by name or email...",value:c,onChange:e=>p(e.target.value),className:"pl-10 bg-white/50 focus:bg-white border-slate-200"})]}),u.jsxs(Button$1,{variant:"outline",className:"bg-white hover:bg-slate-50",children:[u.jsx(li,{className:"h-4 w-4 mr-2"}),"Export"]})]}),u.jsxs("div",{className:"mt-6",children:[j?u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading users..."}):b?.users?.length?u.jsxs(Table,{children:[u.jsx(TableHeader,{className:"bg-slate-50/50",children:u.jsxs(TableRow,{className:"border-slate-100 hover:bg-transparent",children:[u.jsx(TableHead,{className:"font-semibold text-slate-500",children:"Name"}),u.jsx(TableHead,{className:"font-semibold text-slate-500",children:"Email"}),u.jsx(TableHead,{className:"font-semibold text-slate-500",children:"Role"}),u.jsx(TableHead,{className:"font-semibold text-slate-500",children:"Registration"}),u.jsx(TableHead,{className:"font-semibold text-slate-500",children:"Last Active"}),u.jsx(TableHead,{className:"text-right font-semibold text-slate-500 pr-6",children:"Actions"})]})}),u.jsx(TableBody,{children:b.users.map(e=>u.jsxs(TableRow,{className:"border-slate-100 hover:bg-slate-50/50 transition-colors",children:[u.jsxs(TableCell,{className:"font-medium text-slate-700",children:[e.firstName," ",e.lastName]}),u.jsx(TableCell,{className:"text-slate-600",children:e.email}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:getUserRoleVariant(e.role),className:"capitalize",children:e.role})}),u.jsx(TableCell,{className:"text-slate-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx(TableCell,{className:"text-slate-600",children:e.lastActive?new Date(e.lastActive).toLocaleDateString():"Never"}),u.jsx(TableCell,{className:"text-right pr-6",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white hover:bg-slate-100",onClick:()=>(e=>{h(e),g(!0)})(e),children:u.jsx(fi,{className:"h-4 w-4 text-slate-500"})}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white hover:bg-slate-100",children:u.jsx(xo,{className:"h-4 w-4 text-slate-500"})})]})})]},e.id))})]}):u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No users found."}),u.jsxs("div",{className:"flex items-center justify-end space-x-2 p-4 border-t border-slate-100 mt-4",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===a,className:"bg-white hover:bg-slate-50",children:"Previous"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",a," of ",b?.pagination?.totalPages||1]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>l(e=>e+1),disabled:a>=(b?.pagination?.totalPages||1),className:"bg-white hover:bg-slate-50",children:"Next"})]})]})]})}),u.jsx(Dialog,{open:f,onOpenChange:g,children:u.jsxs(DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-white/95 backdrop-blur-xl border-white/20",children:[u.jsx(DialogHeader,{children:u.jsxs(DialogTitle,{className:"text-xl font-bold text-slate-800",children:["User Profile: ",m?.firstName," ",m?.lastName]})}),m&&u.jsxs("div",{className:"space-y-6 pt-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Basic Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50",children:[u.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Email"}),u.jsx("p",{className:"font-semibold text-slate-800",children:m.email})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50",children:[u.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Role"}),u.jsx(Badge,{variant:getUserRoleVariant(m.role),className:"capitalize",children:m.role})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50",children:[u.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Registered"}),u.jsx("p",{className:"font-semibold text-slate-800",children:new Date(m.createdAt).toLocaleDateString()})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50",children:[u.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Last Active"}),u.jsx("p",{className:"font-semibold text-slate-800",children:m.lastActive?new Date(m.lastActive).toLocaleDateString():"N/A"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-slate-100",children:[u.jsx(Button$1,{size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:"Send Message"}),u.jsx(Button$1,{variant:"outline",size:"sm",className:"bg-white",children:"Reset Password"}),u.jsx(Button$1,{variant:"destructive",size:"sm",children:"Suspend User"})]}),u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx(Button$1,{variant:"outline",onClick:()=>g(!1),className:"bg-white",children:"Close"})})]})]})})]})};function DevelopersPage(){const[e,s]=re.useState("pending"),[a,l]=re.useState(null),[c,p]=re.useState(!1),[m,h]=re.useState(""),f=At.useContext(),{data:g,isLoading:b}=At.developer.adminListPendingDevelopers.useQuery(),{data:j,isLoading:N}=At.developer.adminListAllDevelopers.useQuery(),k=At.developer.adminApproveDeveloper.useMutation({onSuccess:()=>{Gr.success("Developer approved successfully"),f.developer.adminListPendingDevelopers.invalidate(),f.developer.adminListAllDevelopers.invalidate(),l(null)},onError:e=>{Gr.error(e.message||"Failed to approve developer")}}),_=At.developer.adminRejectDeveloper.useMutation({onSuccess:()=>{Gr.success("Developer rejected"),f.developer.adminListPendingDevelopers.invalidate(),f.developer.adminListAllDevelopers.invalidate(),p(!1),l(null),h("")},onError:e=>{Gr.error(e.message||"Failed to reject developer")}}),T=At.developer.adminSetTrusted.useMutation({onSuccess:e=>{Gr.success(e.message),f.developer.adminListPendingDevelopers.invalidate(),f.developer.adminListAllDevelopers.invalidate()},onError:e=>{Gr.error(e.message||"Failed to update trust status")}}),DeveloperCard=({developer:e,showActions:s=!1})=>u.jsx(ea,{className:"mb-4 hover:shadow-md transition-shadow",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.logo?u.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full rounded-full object-cover"}):u.jsx(ka,{className:"w-6 h-6 text-slate-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:e.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-1",children:[u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.category.replace("_"," ")}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(lo,{className:"w-3 h-3"})," ",e.city,", ",e.province]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Ea,{className:"w-3 h-3"})," Registered"," ",new Date(e.createdAt).toLocaleDateString()]})]}),u.jsx("p",{className:"text-sm text-slate-600 mt-3 line-clamp-2",children:e.description||"No description provided."}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Email:"})," ",e.email]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Phone:"})," ",e.phone||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Website:"})," ",e.website||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Projects:"})," ",e.totalProjects]})]})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx(Badge,{className:"approved"===e.status?"bg-green-500":"rejected"===e.status?"bg-red-500":"bg-yellow-500",children:e.status.toUpperCase()}),s&&"pending"===e.status&&u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Button$1,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{l(e),p(!0)},children:"Reject"}),u.jsx(Button$1,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{return s=e.id,void(confirm("Are you sure you want to approve this developer?")&&k.mutate({id:s}));var s},disabled:k.isLoading,children:k.isLoading?u.jsx(no,{className:"w-4 h-4 animate-spin"}):"Approve"})]}),u.jsx("div",{className:"flex items-center gap-2 mt-3",children:u.jsx(TooltipProvider,{children:u.jsxs(Tooltip$1,{children:[u.jsx(TooltipTrigger,{asChild:!0,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Label$1,{htmlFor:`trust-${e.id}`,className:"text-xs text-slate-500 font-medium whitespace-nowrap",children:"Trusted Developer"}),u.jsx(Switch,{id:`trust-${e.id}`,checked:!!e.isTrusted,onCheckedChange:s=>T.mutate({id:e.id,isTrusted:s}),disabled:T.isLoading,className:"scale-75 origin-right"})]})}),u.jsx(TooltipContent,{children:u.jsx("p",{className:"w-[200px] text-xs",children:"Bypasses manual review and publishes immediately"})})]})})})]})]})})});return u.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Developers"}),u.jsx("p",{className:"text-slate-500",children:"Manage property developer registrations and approvals"})]})}),u.jsxs(ef,{defaultValue:"pending",value:e,onValueChange:s,className:"w-full",children:[u.jsxs(tf,{className:"mb-6",children:[u.jsxs(rf,{value:"pending",className:"relative",children:["Pending Approval",g&&g.length>0&&u.jsx(Badge,{className:"ml-2 bg-yellow-500 hover:bg-yellow-600 h-5 px-1.5 text-[10px]",children:g.length})]}),u.jsx(rf,{value:"all",children:"All Developers"})]}),u.jsx(nf,{value:"pending",className:"space-y-4",children:b?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}):0===g?.length?u.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg border border-dashed border-slate-200",children:[u.jsx(Ha,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),u.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No pending applications"}),u.jsx("p",{className:"text-slate-500",children:"All developer registrations have been processed."})]}):g?.map(e=>u.jsx(DeveloperCard,{developer:e,showActions:!0},e.id))}),u.jsxs(nf,{value:"all",className:"space-y-4",children:[u.jsx("div",{className:"flex gap-4 mb-4",children:u.jsxs("div",{className:"relative flex-1 max-w-sm",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),u.jsx(Input,{placeholder:"Search developers...",className:"pl-9"})]})}),N?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}):0===j?.length?u.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg border border-dashed border-slate-200",children:[u.jsx(ka,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),u.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No developers found"})]}):j?.map(e=>u.jsx(DeveloperCard,{developer:e,showActions:!1},e.id))]})]}),u.jsx(Dialog,{open:c,onOpenChange:p,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Reject Application"}),u.jsxs(DialogDescription,{children:["Please provide a reason for rejecting ",a?.name,"'s application. This will be sent to the developer."]})]}),u.jsxs("div",{className:"py-4",children:[u.jsx(Label$1,{htmlFor:"reason",className:"mb-2 block",children:"Rejection Reason"}),u.jsx(Textarea,{id:"reason",value:m,onChange:e=>h(e.target.value),placeholder:"e.g. Incomplete documentation, invalid company details...",className:"min-h-[100px]"})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),u.jsxs(Button$1,{variant:"destructive",onClick:()=>{a&&(m.trim()?_.mutate({id:a.id,reason:m}):Gr.error("Please provide a reason for rejection"))},disabled:_.isLoading||!m.trim(),children:[_.isLoading?u.jsx(no,{className:"w-4 h-4 animate-spin mr-2"}):null,"Reject Application"]})]})]})})]})}function PropertiesPage(){const[,e]=useLocation(),{user:s,isAuthenticated:a}=useAuth(),[l,c]=re.useState(""),[p,m]=re.useState("all"),[h,f]=re.useState(1),[g,b]=re.useState(!1),[j,N]=re.useState(null),{data:k,isLoading:_}=At.admin.listProperties.useQuery({page:h,limit:20,search:l||void 0,status:"all"!==p?p:void 0}),T=At.listing.delete.useMutation({onSuccess:()=>{Gr.success("Property deleted successfully"),b(!1),N(null),window.location.reload()},onError:e=>{Gr.error(e.message||"Failed to delete property")}});if(!a||"super_admin"!==s?.role)return e("/login"),null;const getStatusBadgeVariant=e=>{switch(e){case"available":case"published":return"default";case"pending":case"pending_review":return"secondary";case"sold":case"rented":default:return"outline";case"archived":case"rejected":return"destructive"}};return u.jsx("div",{className:"min-h-screen bg-transparent",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fi,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Property Management"}),u.jsx("p",{className:"text-slate-500",children:"Complete system-level view of all listings"})]})]})}),u.jsx(ea,{className:"mb-6 border-slate-200 shadow-sm bg-white",children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[u.jsxs("div",{className:"relative w-full md:w-96",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),u.jsx(Input,{placeholder:"Search by title, city...",value:l,onChange:e=>c(e.target.value),className:"pl-10 bg-white/50 border-slate-200 focus:bg-white transition-all"})]}),u.jsxs(Select$1,{value:p,onValueChange:m,children:[u.jsx(SelectTrigger,{className:"bg-white/50 border-slate-200 focus:bg-white transition-all",children:u.jsx(SelectValue,{placeholder:"Filter by status..."})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Statuses"}),u.jsx(SelectItem,{value:"available",children:"Available"}),u.jsx(SelectItem,{value:"pending",children:"Pending"}),u.jsx(SelectItem,{value:"sold",children:"Sold"}),u.jsx(SelectItem,{value:"rented",children:"Rented"}),u.jsx(SelectItem,{value:"archived",children:"Archived"})]})]}),u.jsxs(Button$1,{variant:"outline",className:"flex items-center gap-2 bg-white/50 hover:bg-white",children:[u.jsx(Si,{className:"h-4 w-4"}),"Advanced Filters"]})]})})}),u.jsxs(ea,{className:"border-slate-200 shadow-sm bg-white overflow-hidden",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"All Properties"})}),u.jsx(sa,{children:_?u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Loading properties..."}):k?.properties?.length?u.jsxs(u.Fragment,{children:[u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{className:"hover:bg-transparent border-slate-200",children:[u.jsx(TableHead,{className:"text-slate-500",children:"Title & Quality"}),u.jsx(TableHead,{className:"text-slate-500",children:"Type"}),u.jsx(TableHead,{className:"text-slate-500",children:"Location"}),u.jsx(TableHead,{className:"text-slate-500",children:"Price"}),u.jsx(TableHead,{className:"text-slate-500",children:"Status"}),u.jsx(TableHead,{className:"text-slate-500",children:"Submitted By"}),u.jsx(TableHead,{className:"text-slate-500",children:"Created"}),u.jsx(TableHead,{className:"text-right text-slate-500",children:"Actions"})]})}),u.jsx(TableBody,{children:k?.properties?.map(s=>{return u.jsxs(TableRow,{className:"hover:bg-white/40 border-slate-100 transition-colors",children:[u.jsxs(TableCell,{className:"font-medium text-slate-700",children:[s.title||"Untitled",s.qualityScore>0&&u.jsx("div",{className:"flex items-center gap-1 mt-1",children:u.jsxs(Badge,{variant:"outline",className:"h-5 text-[10px] px-1 border-0 "+(s.qualityScore>=90?"bg-purple-100 text-purple-700":s.qualityScore>=75?"bg-blue-100 text-blue-700":s.qualityScore>=50?"bg-slate-100 text-slate-700":"bg-red-50 text-red-600"),children:["Quality: ",s.qualityScore]})})]}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",children:s.propertyType||"N/A"})}),u.jsx(TableCell,{className:"text-slate-600",children:s.city||"Unknown"}),u.jsx(TableCell,{className:"text-slate-600",children:(a=s.price,a&&null!==a?new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(a):"N/A")}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:getStatusBadgeVariant(s.status||"unknown"),children:s.status||"Unknown"})}),u.jsxs(TableCell,{className:"text-slate-600",children:["User #",s.userId||"N/A"]}),u.jsx(TableCell,{className:"text-slate-600",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"N/A"}),u.jsx(TableCell,{className:"text-right",children:u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsxs(Button$1,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm hover:shadow-md transition-all",onClick:a=>{a.stopPropagation(),e(`/admin/review/${s.id}`)},children:[u.jsx(fi,{className:"h-3 w-3 mr-2"}),"Review"]}),u.jsx(Button$1,{size:"sm",variant:"destructive",onClick:e=>{e.stopPropagation(),(e=>{console.log("Opening delete dialog for:",e.title),N(e),b(!0)})(s)},children:u.jsx(ul,{className:"h-3 w-3"})})]})})]},s.id);var a})})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===h,className:"bg-white/50 hover:bg-white",children:"Previous"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",h," of ",k?.pagination?.totalPages||1]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>f(e=>e+1),disabled:h>=(k?.pagination?.totalPages||1),className:"bg-white/50 hover:bg-white",children:"Next"})]})]}):u.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No properties found."})})]}),u.jsx(Dialog,{open:g,onOpenChange:e=>{console.log("Dialog onOpenChange:",e),b(e)},children:u.jsxs(DialogContent,{onEscapeKeyDown:e=>e.preventDefault(),onPointerDownOutside:e=>e.preventDefault(),children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Delete Property Listing"}),u.jsxs(DialogDescription,{children:['Are you sure you want to delete "',j?.title,'"? This action cannot be undone.']})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{j&&(console.log("Confirming delete for:",j.id),T.mutate({id:j.id}))},disabled:T.isPending,variant:"destructive",children:T.isPending?"Deleting...":"Delete"})]})]})})]})})}function AdminPropertyReview(){const[,e]=useRoute("/admin/review/:id"),[,s]=useLocation(),a=e?.id?parseInt(e.id):0,[l,c]=re.useState(!1),[p,m]=re.useState(!1),[h,f]=re.useState(""),{data:g,refetch:b}=At.properties.getById.useQuery({id:a},{enabled:a>0}),j=At.listing.approve.useMutation({onSuccess:()=>{Gr.success("Property approved successfully"),m(!1),b(),setTimeout(()=>s("/admin/listing-approvals"),1500)},onError:e=>{Gr.error(e.message||"Failed to approve property")}}),N=At.listing.reject.useMutation({onSuccess:()=>{Gr.success("Property rejected and feedback sent"),c(!1),b(),setTimeout(()=>s("/admin/listing-approvals"),1500)},onError:e=>{Gr.error(e.message||"Failed to reject property")}});return a?u.jsxs("div",{className:"relative min-h-screen pb-24",children:[u.jsxs("div",{className:"bg-slate-900 text-white px-4 py-3 sticky top-0 z-50 shadow-md flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-slate-300 hover:text-white hover:bg-slate-800",onClick:()=>s("/admin/listing-approvals"),children:[u.jsx(ua,{className:"h-4 w-4 mr-2"}),"Back to Queue"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-lg",children:"Admin Review Mode"}),u.jsx("span",{className:"bg-orange-500 text-xs px-2 py-0.5 rounded-full font-medium",children:"PREVIEW"})]})]}),u.jsx("div",{className:"text-sm text-slate-400",children:"Viewing as Super Admin"})]}),u.jsx("div",{className:"pointer-events-none opacity-100",children:u.jsx("div",{className:"pointer-events-auto",children:u.jsx(PropertyDetail,{propertyId:a})})}),u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 shadow-lg z-50 flex items-center justify-between px-8",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"text-sm text-slate-500",children:["Current Status:",u.jsx("span",{className:"ml-2 font-bold uppercase "+("published"===g?.property?.status||"approved"===g?.property?.status?"text-green-600":"rejected"===g?.property?.status?"text-red-600":"text-orange-500"),children:g?.property?.status||"Loading..."})]})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Dialog,{open:l,onOpenChange:c,children:[u.jsx(DialogTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"destructive",size:"lg",className:"gap-2",children:[u.jsx(Ka,{className:"h-5 w-5"}),"Reject Listing"]})}),u.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Reject Listing"}),u.jsx(DialogDescription,{children:"Please provide feedback to the agent explaining why this listing is being rejected. This will be sent to them directly."})]}),u.jsxs("div",{className:"py-4",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rejection Reason / Feedback"}),u.jsx(Textarea,{placeholder:"e.g., Photos are blurry, Description contains prohibited content...",className:"min-h-[120px]",value:h,onChange:e=>f(e.target.value)})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsx(Button$1,{variant:"destructive",onClick:()=>{h.trim()?N.mutate({listingId:a,reason:h}):Gr.error("Please provide a reason for rejection")},disabled:N.isPending,children:N.isPending?"Rejecting...":"Confirm Rejection"})]})]})]}),u.jsxs(Dialog,{open:p,onOpenChange:m,children:[u.jsx(DialogTrigger,{asChild:!0,children:u.jsxs(Button$1,{className:"bg-green-600 hover:bg-green-700 text-white gap-2",size:"lg",children:[u.jsx(Ua,{className:"h-5 w-5"}),"Approve Listing"]})}),u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Approve Listing"}),u.jsx(DialogDescription,{children:"Are you sure you want to approve this listing? It will be published immediately."})]}),u.jsxs("div",{className:"py-4",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Internal Notes (Optional)"}),u.jsx(Textarea,{placeholder:"Any internal notes about this approval...",value:h,onChange:e=>f(e.target.value)})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),u.jsx(Button$1,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{j.mutate({listingId:a,notes:h})},disabled:j.isPending,children:j.isPending?"Approving...":"Confirm Approval"})]})]})]})]})]})]}):u.jsx("div",{children:"Invalid Property ID"})}const StatCard$2=({icon:e,value:s,label:a,trend:l,color:c="bg-muted",change:p})=>u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] hover:shadow-[0_12px_40px_rgba(8,_112,_184,_0.1)] transition-all py-6",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx("div",{className:`p-2 rounded-full ${c}`,children:e}),l&&u.jsx("div",{className:"flex items-center",children:"up"===l?u.jsx(fl,{className:"h-4 w-4 text-emerald-500"}):u.jsx(hl,{className:"h-4 w-4 text-rose-500"})})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-2xl font-bold text-slate-800",children:s}),u.jsx("p",{className:"text-xs text-slate-500",children:a}),p&&u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:p})]})]}),cV=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444"],RevenueCenterPage=()=>{useLocation();const[e,s]=re.useState("overview"),[a,l]=re.useState("90"),[c,p]=re.useState(1),[m,h]=re.useState("all"),[f,g]=re.useState("30_days"),getDateRange=()=>{const e=new Date,s=new Date;return s.setDate(s.getDate()-parseInt(a)),{startDate:s.toISOString(),endDate:e.toISOString()}},{data:b,isLoading:j}=At.admin.getRevenueAnalytics.useQuery(getDateRange()),{data:N,isLoading:k}=At.admin.getRevenueByPeriod.useQuery({period:"monthly",months:6}),{data:_,isLoading:T}=At.admin.getCommissionBreakdown.useQuery({page:c,limit:10,status:"all"===m?void 0:m}),{data:E,isLoading:A}=At.admin.getRevenueByCategory.useQuery(getDateRange(),{enabled:"analytics"===e}),{data:L,isLoading:O}=At.admin.getLTVAnalytics.useQuery(void 0,{enabled:"analytics"===e}),{data:I,isLoading:$}=At.admin.getRevenueForecast.useQuery({period:f},{enabled:"forecasts"===e}),formatCurrency2=e=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(e),getStatusBadge=e=>{switch(e){case"paid":return u.jsx(Badge,{className:"bg-green-100 text-green-700",children:"Paid"});case"approved":return u.jsx(Badge,{className:"bg-blue-100 text-blue-700",children:"Approved"});case"pending":return u.jsx(Badge,{className:"bg-yellow-100 text-yellow-700",children:"Pending"});case"cancelled":return u.jsx(Badge,{className:"bg-red-100 text-red-700",children:"Cancelled"});default:return u.jsx(Badge,{children:e})}},z=E?[...E.subscriptions.map(e=>({name:`Sub: ${e.category}`,value:e.revenue})),{name:"Advertising",value:E.advertising.revenue}].filter(e=>e.value>0):[];return u.jsx("div",{className:"min-h-screen bg-transparent",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Revenue Center"}),u.jsx("p",{className:"text-slate-500",children:"Track revenue, commissions, and financial performance"})]}),u.jsxs(Select$1,{value:a,onValueChange:l,children:[u.jsx(SelectTrigger,{className:"w-[180px] bg-white/50",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"30",children:"Last 30 Days"}),u.jsx(SelectItem,{value:"60",children:"Last 60 Days"}),u.jsx(SelectItem,{value:"90",children:"Last 90 Days"}),u.jsx(SelectItem,{value:"180",children:"Last 6 Months"}),u.jsx(SelectItem,{value:"365",children:"Last Year"})]})]})]}),u.jsxs(ef,{defaultValue:"overview",value:e,onValueChange:s,className:"w-full",children:[u.jsxs(tf,{className:"bg-white/50 backdrop-blur-sm border border-white/40 p-1 rounded-xl mb-6",children:[u.jsxs(rf,{value:"overview",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[u.jsx(la,{className:"w-4 h-4 mr-2"}),"Overview"]}),u.jsxs(rf,{value:"analytics",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[u.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Analytics & LTV"]}),u.jsxs(rf,{value:"forecasts",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[u.jsx(ol,{className:"w-4 h-4 mr-2"}),"Forecasts"]}),u.jsxs(rf,{value:"reports",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[u.jsx(wi,{className:"w-4 h-4 mr-2"}),"Reports"]})]}),u.jsxs(nf,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(StatCard$2,{icon:u.jsx(ii,{className:"h-6 w-6 text-blue-600"}),value:j?"...":formatCurrency2(b?.totalRevenue||0),label:"Total Revenue",change:`Last ${a} days`,color:"bg-blue-100",trend:"up"}),u.jsx(StatCard$2,{icon:u.jsx(Ua,{className:"h-6 w-6 text-green-600"}),value:j?"...":formatCurrency2(b?.commissionRevenue||0),label:"Commission Revenue",change:`${b?.totalCommissions||0} commissions`,color:"bg-green-100",trend:"up"}),u.jsx(StatCard$2,{icon:u.jsx(si,{className:"h-6 w-6 text-purple-600"}),value:j?"...":formatCurrency2(b?.subscriptionRevenue||0),label:"Subscription Revenue",change:`${b?.activeSubscriptions||0} active subscriptions`,color:"bg-purple-100",trend:"up"}),u.jsx(StatCard$2,{icon:u.jsx(Qa,{className:"h-6 w-6 text-amber-600"}),value:j?"...":formatCurrency2(b?.pendingRevenue||0),label:"Pending Revenue",change:`${b?.totalInvoices||0} invoices`,color:"bg-amber-100"})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] py-6",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"Revenue Trends"})}),u.jsx(sa,{children:k?u.jsx("div",{className:"h-[300px] flex items-center justify-center text-slate-500",children:"Loading chart data..."}):u.jsx(GA,{width:"100%",height:300,children:u.jsxs(GR,{data:N||[],children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"totalRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:.3}),u.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:.05})]})}),u.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.5}),u.jsx(CR,{dataKey:"period",stroke:"#94a3b8",style:{fontSize:"12px"}}),u.jsx(_R,{stroke:"#94a3b8",style:{fontSize:"12px"}}),u.jsx(WA,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"none",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}}),u.jsx(_A,{}),u.jsx(bR,{type:"monotone",dataKey:"totalRevenue",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},fill:"url(#totalRevenue)",name:"Total Revenue",isAnimationActive:!1}),u.jsx(bR,{type:"monotone",dataKey:"commissionRevenue",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:3},name:"Commissions",isAnimationActive:!1}),u.jsx(bR,{type:"monotone",dataKey:"subscriptionRevenue",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:3},name:"Subscriptions",isAnimationActive:!1})]})})})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] py-6",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between",children:[u.jsx(ra,{className:"text-slate-800",children:"Commission Breakdown"}),u.jsxs(Select$1,{value:m,onValueChange:h,children:[u.jsx(SelectTrigger,{className:"w-[150px] bg-white/50",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Status"}),u.jsx(SelectItem,{value:"paid",children:"Paid"}),u.jsx(SelectItem,{value:"approved",children:"Approved"}),u.jsx(SelectItem,{value:"pending",children:"Pending"}),u.jsx(SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),u.jsx(sa,{children:T?u.jsx("div",{className:"py-12 text-center text-slate-500",children:"Loading commissions..."}):_?.commissions?.length?u.jsxs(u.Fragment,{children:[u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{className:"hover:bg-transparent border-slate-200",children:[u.jsx(TableHead,{className:"text-slate-500",children:"Agent"}),u.jsx(TableHead,{className:"text-slate-500",children:"Property"}),u.jsx(TableHead,{className:"text-slate-500",children:"Type"}),u.jsx(TableHead,{className:"text-slate-500",children:"Amount"}),u.jsx(TableHead,{className:"text-slate-500",children:"Status"}),u.jsx(TableHead,{className:"text-slate-500",children:"Date"})]})}),u.jsx(TableBody,{children:_.commissions.map(e=>u.jsxs(TableRow,{className:"hover:bg-white/40 border-slate-100 transition-colors",children:[u.jsx(TableCell,{className:"font-medium text-slate-700",children:e.agent?.displayName||`${e.agent?.firstName} ${e.agent?.lastName}`||"N/A"}),u.jsx(TableCell,{className:"text-slate-600",children:e.property?.title||"N/A"}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.transactionType})}),u.jsx(TableCell,{className:"font-semibold text-slate-800",children:formatCurrency2(e.amount)}),u.jsx(TableCell,{children:getStatusBadge(e.status)}),u.jsx(TableCell,{className:"text-slate-600",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]}),_.pagination.totalPages>1&&u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("p",{className:"text-sm text-slate-500",children:["Showing ",10*(c-1)+1," to"," ",Math.min(10*c,_.pagination.total)," of"," ",_.pagination.total," commissions"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>p(e=>Math.max(1,e-1)),disabled:1===c,className:"bg-white/50",children:"Previous"}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>p(e=>Math.min(_.pagination.totalPages,e+1)),disabled:c===_.pagination.totalPages,className:"bg-white/50",children:"Next"})]})]})]}):u.jsx("div",{className:"py-12 text-center text-slate-500",children:"No commissions found."})})]})]}),u.jsx(nf,{value:"analytics",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(GlassCard,{className:"col-span-1 md:col-span-3 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Customer Lifetime Value (LTV)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-xl bg-blue-50 border border-blue-100",children:[u.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"ARPU (Monthly)"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:O?"...":formatCurrency2(L?.arpu||0)}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Avg. Revenue Per User"})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-rose-50 border border-rose-100",children:[u.jsx("p",{className:"text-sm text-rose-600 font-medium",children:"Churn Rate"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:O?"...":`${(L?.churnRate||0).toFixed(1)}%`}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Monthly cancellations"})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 border border-emerald-100",children:[u.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"Estimated LTV"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:O?"...":formatCurrency2(L?.ltv||0)}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lifetime Value"})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100",children:[u.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Active Subscribers"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:O?"...":L?.activeSubscribers||0}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total paying agencies"})]})]})]}),u.jsxs(GlassCard,{className:"col-span-1 md:col-span-2 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Revenue Distribution"}),u.jsx("div",{className:"h-[300px] w-full",children:A?u.jsx("div",{className:"h-full flex items-center justify-center text-slate-500",children:"Loading..."}):u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(QR,{children:[u.jsx(a$,{data:z,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",isAnimationActive:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:z.map((e,s)=>u.jsx(YA,{fill:cV[s%cV.length]},`cell-${s}`))}),u.jsx(WA,{formatter:e=>formatCurrency2(e)}),u.jsx(_A,{})]})})})]}),u.jsxs(GlassCard,{className:"col-span-1 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Top Revenue Sources"}),u.jsxs("div",{className:"space-y-4",children:[E?.subscriptions.map((e,s)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:cV[s%cV.length]}}),u.jsxs("span",{className:"text-sm font-medium text-slate-700 capitalize",children:[e.category," Subs"]})]}),u.jsx("span",{className:"text-sm font-bold text-slate-900",children:formatCurrency2(e.revenue)})]},s)),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),u.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Advertising"})]}),u.jsx("span",{className:"text-sm font-bold text-slate-900",children:formatCurrency2(E?.advertising.revenue||0)})]})]})]})]})}),u.jsx(nf,{value:"forecasts",className:"space-y-6",children:u.jsxs(GlassCard,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Revenue Forecast (AI Powered)"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Projected revenue based on historical trends and recurring subscriptions."})]}),u.jsxs(Select$1,{value:f,onValueChange:e=>g(e),children:[u.jsx(SelectTrigger,{className:"w-[150px] bg-white/50",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"30_days",children:"Next 30 Days"}),u.jsx(SelectItem,{value:"90_days",children:"Next 90 Days"}),u.jsx(SelectItem,{value:"quarter",children:"Next Quarter"}),u.jsx(SelectItem,{value:"year",children:"Next Year"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:[u.jsxs("div",{className:"col-span-1 space-y-6",children:[u.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-200",children:[u.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Projected Revenue"}),u.jsx("h2",{className:"text-4xl font-bold mb-2",children:$?"...":formatCurrency2(I?.predictedAmount||0)}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100 bg-white/10 w-fit px-2 py-1 rounded-lg",children:[u.jsx(ol,{className:"w-4 h-4"}),u.jsxs("span",{children:[(100*(I?.confidenceScore||0)).toFixed(0),"% Confidence"]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg border border-slate-100",children:[u.jsx("span",{className:"text-sm text-slate-600",children:"Methodology"}),u.jsx(Badge,{variant:"outline",className:"capitalize",children:I?.methodology?.replace("_"," ")||"Linear"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg border border-slate-100",children:[u.jsx("span",{className:"text-sm text-slate-600",children:"Last Updated"}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:I?.createdAt?new Date(I.createdAt).toLocaleDateString():"Just now"})]})]})]}),u.jsx("div",{className:"col-span-2 h-[300px]",children:u.jsxs("div",{className:"h-full w-full bg-slate-50 rounded-xl border border-slate-200 flex flex-col items-center justify-center text-slate-400",children:[u.jsx(Oa,{className:"w-12 h-12 mb-2 opacity-20"}),u.jsx("p",{children:"Forecast visualization requires more historical data points."})]})})]})]})}),u.jsx(nf,{value:"reports",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs(GlassCard,{className:"p-6 hover:shadow-lg transition-all cursor-pointer group",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(wi,{className:"w-6 h-6"})}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Monthly Revenue Report"}),u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Detailed breakdown of all revenue sources, commissions, and subscriptions for the current month."}),u.jsx(Button$1,{variant:"outline",className:"w-full",children:"Download PDF"})]}),u.jsxs(GlassCard,{className:"p-6 hover:shadow-lg transition-all cursor-pointer group",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(Cl,{className:"w-6 h-6"})}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Subscriber Churn Analysis"}),u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Report on cancelled subscriptions, churn reasons, and retention metrics."}),u.jsx(Button$1,{variant:"outline",className:"w-full",children:"Download CSV"})]}),u.jsxs(GlassCard,{className:"p-6 hover:shadow-lg transition-all cursor-pointer group",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(la,{className:"w-6 h-6"})}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Agent Performance Report"}),u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Commission earnings, transaction volume, and top performing agents."}),u.jsx(Button$1,{variant:"outline",className:"w-full",children:"Download CSV"})]})]})})]})]})})};function LocationMonetizationPage(){const[e,s]=re.useState(!1),{data:a,isLoading:l,refetch:c}=At.monetization.getAllRules.useQuery();return u.jsxs("div",{className:"container py-8 space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Location Monetization Hub"}),u.jsx("p",{className:"text-slate-500",children:"Manage hero ads, featured developers, and recommended agents."})]}),u.jsxs(Dialog,{open:e,onOpenChange:s,children:[u.jsx(DialogTrigger,{asChild:!0,children:u.jsxs(Button$1,{children:[u.jsx(Mo,{className:"mr-2 h-4 w-4"})," Add Targeting Rule"]})}),u.jsxs(DialogContent,{className:"max-w-xl",children:[u.jsx(DialogHeader,{children:u.jsx(DialogTitle,{children:"Create New Targeting Rule"})}),u.jsx(CreateRuleForm,{onSuccess:()=>{s(!1),c()}})]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Active Campaigns"})}),u.jsx(sa,{children:l?u.jsx("div",{className:"flex justify-center p-8",children:u.jsx(no,{className:"h-8 w-8 animate-spin text-slate-400"})}):a&&a.length>0?u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Type"}),u.jsx(TableHead,{children:"Location"}),u.jsx(TableHead,{children:"Target ID"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{children:"Ranking"}),u.jsx(TableHead,{children:"Created"})]})}),u.jsx(TableBody,{children:a.map(e=>u.jsxs(TableRow,{children:[u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.targetType.replace("_"," ")})}),u.jsx(TableCell,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"h-4 w-4 text-slate-400"}),u.jsxs("span",{children:[e.locationType," #",e.locationId]})]})}),u.jsx(TableCell,{children:e.targetId}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"active"===e.status?"default":"secondary",children:e.status})}),u.jsx(TableCell,{children:e.ranking}),u.jsx(TableCell,{className:"text-sm text-slate-500",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]}):u.jsx("div",{className:"text-center py-12 text-slate-500",children:"No targeting rules found. Create one to get started."})})]})]})}function CreateRuleForm({onSuccess:e}){const[s,a]=re.useState({targetType:"hero_ad",targetId:"0",locationType:"city",locationId:"",ranking:"50",status:"active",imageUrl:"",ctaText:"Learn More",ctaUrl:"",customTitle:""}),l=At.monetization.createTargetingRule.useMutation({onSuccess:()=>{Gr.success("Targeting rule created successfully"),e()},onError:e=>{Gr.error("Failed to create rule: "+e.message)}});return u.jsxs("form",{onSubmit:e=>{e.preventDefault(),l.mutate({targetType:s.targetType,targetId:parseInt(s.targetId),locationType:s.locationType,locationId:parseInt(s.locationId),ranking:parseInt(s.ranking),status:s.status,metadata:{imageUrl:s.imageUrl,ctaText:s.ctaText,ctaUrl:s.ctaUrl,customTitle:s.customTitle}})},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Target Type"}),u.jsxs(Select$1,{value:s.targetType,onValueChange:e=>a({...s,targetType:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"hero_ad",children:"Hero Billboard Ad"}),u.jsx(SelectItem,{value:"featured_developer",children:"Featured Developer"}),u.jsx(SelectItem,{value:"recommended_agent",children:"Recommended Agent"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Target ID (Reference)"}),u.jsx(Input,{type:"number",value:s.targetId,onChange:e=>a({...s,targetId:e.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Location Type"}),u.jsxs(Select$1,{value:s.locationType,onValueChange:e=>a({...s,locationType:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"province",children:"Province"}),u.jsx(SelectItem,{value:"city",children:"City"}),u.jsx(SelectItem,{value:"suburb",children:"Suburb"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Location ID"}),u.jsx(Input,{type:"number",placeholder:"e.g. 1",value:s.locationId,onChange:e=>a({...s,locationId:e.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Image URL (For Hero Ad)"}),u.jsx(Input,{placeholder:"https://...",value:s.imageUrl,onChange:e=>a({...s,imageUrl:e.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Button Text"}),u.jsx(Input,{placeholder:"Learn More",value:s.ctaText,onChange:e=>a({...s,ctaText:e.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Link URL"}),u.jsx(Input,{placeholder:"https://...",value:s.ctaUrl,onChange:e=>a({...s,ctaUrl:e.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Custom Title (Optional)"}),u.jsx(Input,{placeholder:"Override location name...",value:s.customTitle,onChange:e=>a({...s,customTitle:e.target.value})})]}),u.jsxs(Button$1,{type:"submit",className:"w-full",disabled:l.isLoading,children:[l.isLoading&&u.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Rule"]})]})}function SubscriptionManagementPage(){const[e,s]=re.useState("subscriptions"),[a,l]=re.useState(""),[c,p]=re.useState("all"),[m,h]=re.useState(1),{data:f,isLoading:g,refetch:b}=At.subscription.getAllSubscriptions.useQuery({page:m,limit:10,status:"all"===c?void 0:c},{enabled:"subscriptions"===e}),{data:j,isLoading:N}=At.subscription.getAvailablePlans.useQuery(void 0,{enabled:"plans"===e}),{data:k,isLoading:_,refetch:T}=At.subscription.getPaymentProofs.useQuery({page:m,limit:10,status:"pending"},{enabled:"verification"===e}),E=At.subscription.verifyPayment.useMutation({onSuccess:()=>{Gr.success("Payment verified successfully"),T()},onError:e=>{Gr.error(`Verification failed: ${e.message}`)}}),handleVerifyPayment=(e,s)=>{E.mutate({paymentProofId:e,status:s})},getStatusBadge=e=>{switch(e){case"active":case"verified":return u.jsx(Badge,{className:"bg-green-500/10 text-green-600 hover:bg-green-500/20 border-green-200",children:"Active"});case"trialing":return u.jsx(Badge,{className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20 border-blue-200",children:"Trial"});case"past_due":return u.jsx(Badge,{className:"bg-orange-500/10 text-orange-600 hover:bg-orange-500/20 border-orange-200",children:"Past Due"});case"canceled":case"rejected":return u.jsx(Badge,{className:"bg-red-500/10 text-red-600 hover:bg-red-500/20 border-red-200",children:"Canceled"});case"pending":return u.jsx(Badge,{className:"bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20 border-yellow-200",children:"Pending"});default:return u.jsx(Badge,{variant:"outline",children:e})}};return u.jsxs("div",{className:"space-y-6 p-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Subscription Management"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"Manage plans, subscriptions, and payment verifications."})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(Button$1,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-600/20",children:[u.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Create Plan"]})})]}),u.jsxs(ef,{defaultValue:"subscriptions",value:e,onValueChange:s,className:"w-full",children:[u.jsxs(tf,{className:"bg-white/50 backdrop-blur-sm border border-white/40 p-1 rounded-xl mb-6",children:[u.jsx(rf,{value:"subscriptions",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"Subscriptions"}),u.jsx(rf,{value:"plans",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"Plans"}),u.jsxs(rf,{value:"verification",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:["Payment Verification",k?.pagination?.total?u.jsx("span",{className:"ml-2 bg-red-100 text-red-600 text-xs px-1.5 py-0.5 rounded-full font-medium",children:k.pagination.total}):null]})]}),u.jsx(nf,{value:"subscriptions",className:"space-y-6",children:u.jsxs(GlassCard,{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6 justify-between",children:[u.jsxs("div",{className:"relative w-full md:w-96",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx(Input,{placeholder:"Search subscriptions...",className:"pl-10 bg-white/50 border-slate-200",value:a,onChange:e=>l(e.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Select$1,{value:c,onValueChange:p,children:[u.jsx(SelectTrigger,{className:"w-[180px] bg-white/50 border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Si,{className:"w-4 h-4 text-slate-500"}),u.jsx(SelectValue,{placeholder:"Filter by status"})]})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Statuses"}),u.jsx(SelectItem,{value:"active",children:"Active"}),u.jsx(SelectItem,{value:"trialing",children:"Trialing"}),u.jsx(SelectItem,{value:"past_due",children:"Past Due"}),u.jsx(SelectItem,{value:"canceled",children:"Canceled"})]})]}),u.jsxs(Button$1,{variant:"outline",className:"bg-white/50 border-slate-200",children:[u.jsx(li,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),u.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden bg-white/50",children:u.jsxs(Table,{children:[u.jsx(TableHeader,{className:"bg-slate-50/50",children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Agency"}),u.jsx(TableHead,{children:"Plan"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{children:"Billing Cycle"}),u.jsx(TableHead,{children:"Next Billing"}),u.jsx(TableHead,{children:"Amount"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:g?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-8 text-slate-500",children:"Loading subscriptions..."})}):0===f?.subscriptions.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-8 text-slate-500",children:"No subscriptions found matching your filters."})}):f?.subscriptions.map(e=>u.jsxs(TableRow,{className:"hover:bg-slate-50/50 transition-colors",children:[u.jsx(TableCell,{className:"font-medium",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{children:e.agency?.name||"Unknown Agency"}),u.jsx("span",{className:"text-xs text-slate-500",children:e.agency?.email})]})}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"bg-slate-100 font-normal",children:e.plan?.displayName||"Unknown Plan"})}),u.jsx(TableCell,{children:getStatusBadge(e.status)}),u.jsx(TableCell,{className:"capitalize",children:e.plan?.interval||"Monthly"}),u.jsx(TableCell,{children:e.currentPeriodEnd?new Date(e.currentPeriodEnd).toLocaleDateString():"-"}),u.jsx(TableCell,{children:e.plan?.price?formatCurrency(Number(e.plan.price)/100):"-"}),u.jsx(TableCell,{className:"text-right",children:u.jsx(Button$1,{variant:"ghost",size:"sm",children:u.jsx(pi,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),u.jsx(nf,{value:"plans",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[N?u.jsx("div",{className:"col-span-3 text-center py-12 text-slate-500",children:"Loading plans..."}):j?.map(e=>u.jsxs(GlassCard,{className:"p-6 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[e.isPopular&&u.jsx("div",{className:"absolute top-0 right-0 bg-blue-600 text-white text-xs px-3 py-1 rounded-bl-xl font-medium",children:"Most Popular"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:e.displayName}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:e.description})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:formatCurrency(e.price)}),u.jsxs("span",{className:"text-slate-500",children:["/",e.interval]})]}),u.jsxs("div",{className:"space-y-3 mb-8",children:[e.features.slice(0,5).map((e,s)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[u.jsx(Ua,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),u.jsx("span",{children:e})]},s)),e.features.length>5&&u.jsxs("div",{className:"text-xs text-slate-400 pl-6",children:["+ ",e.features.length-5," more features"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Button$1,{variant:"outline",className:"w-full border-slate-200",children:"Edit"}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:u.jsx(Ka,{className:"w-4 h-4"})})]})]},e.id)),u.jsxs("button",{className:"flex flex-col items-center justify-center p-6 rounded-[2rem] border-2 border-dashed border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all group h-full min-h-[300px]",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(Mo,{className:"w-6 h-6"})}),u.jsx("h3",{className:"font-semibold text-slate-900",children:"Create New Plan"}),u.jsx("p",{className:"text-slate-500 text-sm text-center mt-1",children:"Add a new subscription tier"})]})]})}),u.jsx(nf,{value:"verification",className:"space-y-6",children:u.jsxs(GlassCard,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Pending Verifications"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Review and approve manual EFT payments."})]}),u.jsx(Button$1,{variant:"outline",onClick:()=>T(),children:"Refresh"})]}),u.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden bg-white/50",children:u.jsxs(Table,{children:[u.jsx(TableHeader,{className:"bg-slate-50/50",children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Date"}),u.jsx(TableHead,{children:"Agency / User"}),u.jsx(TableHead,{children:"Amount"}),u.jsx(TableHead,{children:"Reference"}),u.jsx(TableHead,{children:"Proof"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:_?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-8 text-slate-500",children:"Loading payment proofs..."})}):0===k?.proofs.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx(Ua,{className:"w-12 h-12 text-green-500 mb-3 opacity-20"}),u.jsx("p",{className:"text-slate-900 font-medium",children:"All caught up!"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"No pending payments to verify."})]})})}):k?.proofs.map(e=>u.jsxs(TableRow,{className:"hover:bg-slate-50/50 transition-colors",children:[u.jsx(TableCell,{children:new Date(e.paymentDate).toLocaleDateString()}),u.jsx(TableCell,{children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:e.agencyName||"Unknown Agency"}),u.jsx("span",{className:"text-xs text-slate-500",children:e.submittedBy})]})}),u.jsx(TableCell,{className:"font-medium",children:formatCurrency(e.amount/100)}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"font-mono text-xs",children:e.referenceNumber})}),u.jsx(TableCell,{children:e.proofOfPaymentUrl?u.jsxs("a",{href:e.proofOfPaymentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline text-sm",children:[u.jsx(wi,{className:"w-3 h-3 mr-1"}),"View Proof"]}):u.jsx("span",{className:"text-slate-400 text-sm",children:"No file"})}),u.jsx(TableCell,{children:getStatusBadge(e.status)}),u.jsx(TableCell,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(Button$1,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50 border-green-200",onClick:()=>handleVerifyPayment(e.id,"verified"),children:[u.jsx(Ua,{className:"w-4 h-4 mr-1"}),"Approve"]}),u.jsx(Button$1,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50 border-red-200",onClick:()=>handleVerifyPayment(e.id,"rejected"),children:u.jsx(Ka,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})})]})]})}function PlanEditor(){const[,e]=useLocation(),[s,a]=re.useState(!1),[l,c]=re.useState(null),[p,m]=re.useState(!1),[h,f]=re.useState({name:"",displayName:"",description:"",price:0,currency:"ZAR",interval:"month",revenueCategory:"owner",features:[],limits:{},isActive:!0,isPopular:!1,sortOrder:0}),[g,b]=re.useState(""),[j,N]=re.useState(!0),{data:k,isLoading:_,refetch:T}=At.subscription.getPlans.useQuery({includeInactive:p}),E=At.subscription.createPlan.useMutation({onSuccess:()=>{Gr.success("Plan created successfully"),a(!1),T()},onError:e=>Gr.error(e.message)}),A=At.subscription.updatePlan.useMutation({onSuccess:e=>{Gr.success(e.message||"Plan updated successfully"),a(!1),T()},onError:e=>Gr.error(e.message)}),L=At.subscription.togglePlanStatus.useMutation({onSuccess:()=>{Gr.success("Plan status updated"),T()}}),addFeature=()=>{g.trim()&&(f({...h,features:[...h.features,g.trim()]}),b(""))};return u.jsxs("div",{className:"space-y-6 p-6 pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/admin/dashboard"),children:u.jsx(ua,{className:"h-4 w-4"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Plan Editor"}),u.jsx("p",{className:"text-slate-500",children:"Manage subscription plans and pricing versions"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[u.jsx(Switch,{checked:p,onCheckedChange:m,id:"show-inactive"}),u.jsx(Label$1,{htmlFor:"show-inactive",children:"Show Archived"})]}),u.jsxs(Button$1,{onClick:()=>{c(null),f({name:"",displayName:"",description:"",price:0,currency:"ZAR",interval:"month",revenueCategory:"owner",features:[],limits:{},isActive:!0,isPopular:!1,sortOrder:0}),a(!0)},children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Create Plan"]})]})]}),u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{className:"bg-slate-50",children:[u.jsx(TableHead,{children:"Display Name"}),u.jsx(TableHead,{children:"Slug"}),u.jsx(TableHead,{children:"Price"}),u.jsx(TableHead,{children:"Interval"}),u.jsx(TableHead,{children:"Revenue Category"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:_?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-8 text-slate-500",children:"Loading plans..."})}):0===k?.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:7,className:"text-center py-8 text-slate-500",children:"No plans found. Create one to get started."})}):k?.map(e=>u.jsxs(TableRow,{className:"hover:bg-slate-50",children:[u.jsxs(TableCell,{className:"font-medium",children:[e.displayName,1===e.isPopular&&u.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs",children:"Popular"})]}),u.jsx(TableCell,{className:"text-slate-500 font-mono text-xs",children:e.name}),u.jsx(TableCell,{children:new Intl.NumberFormat("en-ZA",{style:"currency",currency:e.currency}).format(e.price)}),u.jsx(TableCell,{className:"capitalize",children:e.interval}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.limits?.revenueCategory||"owner"})}),u.jsx(TableCell,{children:1===e.isActive?u.jsx(Badge,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200",children:"Active"}):u.jsx(Badge,{variant:"secondary",children:"Archived"})}),u.jsx(TableCell,{className:"text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>(e=>{c(e),f({name:e.name,displayName:e.displayName,description:e.description||"",price:e.price,currency:e.currency,interval:e.interval,revenueCategory:e.limits?.revenueCategory||"owner",features:e.features||[],limits:e.limits||{},isActive:1===e.isActive,isPopular:1===e.isPopular,sortOrder:e.sortOrder}),N(!0),a(!0)})(e),children:u.jsx(rl,{className:"h-4 w-4"})}),u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>L.mutate({planId:e.id,isActive:1!==e.isActive}),children:1===e.isActive?u.jsx(ca,{className:"h-4 w-4 text-slate-400"}):u.jsx(Ua,{className:"h-4 w-4 text-emerald-500"})})]})})]},e.id))})]})}),u.jsx(Dialog,{open:s,onOpenChange:a,children:u.jsxs(DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:l?"Edit Plan":"Create New Plan"}),u.jsx(DialogDescription,{children:l?"Modify plan details. Significant changes will create a new version.":"Define a new subscription plan for your users."})]}),u.jsxs("div",{className:"grid gap-6 py-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Display Name"}),u.jsx(Input,{value:h.displayName,onChange:e=>f({...h,displayName:e.target.value}),placeholder:"e.g. Pro Agency"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Internal Slug"}),u.jsx(Input,{value:h.name,onChange:e=>f({...h,name:e.target.value}),placeholder:"e.g. pro-agency-v1",disabled:!!l})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Price"}),u.jsx(Input,{type:"number",value:h.price,onChange:e=>f({...h,price:Number(e.target.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Currency"}),u.jsxs(Select$1,{value:h.currency,onValueChange:e=>f({...h,currency:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"ZAR",children:"ZAR (R)"}),u.jsx(SelectItem,{value:"USD",children:"USD ($)"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Interval"}),u.jsxs(Select$1,{value:h.interval,onValueChange:e=>f({...h,interval:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"month",children:"Monthly"}),u.jsx(SelectItem,{value:"year",children:"Yearly"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Revenue Category"}),u.jsxs(Select$1,{value:h.revenueCategory,onValueChange:e=>f({...h,revenueCategory:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"agency",children:"Agency Subscription"}),u.jsx(SelectItem,{value:"owner",children:"Private Owner Listing"}),u.jsx(SelectItem,{value:"developer",children:"Developer Package"}),u.jsx(SelectItem,{value:"marketplace",children:"Marketplace Fee"})]})]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Determines how this revenue is classified in the Revenue Center."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Description"}),u.jsx(Textarea,{value:h.description,onChange:e=>f({...h,description:e.target.value}),placeholder:"Plan description visible to users..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Features"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{value:g,onChange:e=>b(e.target.value),placeholder:"Add a feature...",onKeyDown:e=>"Enter"===e.key&&addFeature()}),u.jsx(Button$1,{type:"button",onClick:addFeature,variant:"secondary",children:"Add"})]}),u.jsx("div",{className:"space-y-2 mt-2",children:h.features.map((e,s)=>u.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded text-sm",children:[u.jsx("span",{children:e}),u.jsx(Button$1,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-slate-400 hover:text-red-500",onClick:()=>(e=>{const s=[...h.features];s.splice(e,1),f({...h,features:s})})(s),children:u.jsx(ul,{className:"h-3 w-3"})})]},s))})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Switch,{checked:h.isPopular,onCheckedChange:e=>f({...h,isPopular:e}),id:"is-popular"}),u.jsx(Label$1,{htmlFor:"is-popular",children:"Mark as Popular"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Label$1,{children:"Sort Order"}),u.jsx(Input,{type:"number",className:"w-20",value:h.sortOrder,onChange:e=>f({...h,sortOrder:Number(e.target.value)})})]})]}),l&&u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gl,{className:"h-5 w-5 text-amber-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-amber-900",children:"Versioning Control"}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"By default, saving changes will create a new version of this plan and archive the old one. This preserves history for existing subscribers."})]})]}),u.jsxs("div",{className:"flex items-center gap-2 pl-8",children:[u.jsx(Switch,{checked:j,onCheckedChange:N,id:"create-version"}),u.jsx(Label$1,{htmlFor:"create-version",className:"text-amber-900 font-medium",children:"Create new version (Recommended)"})]}),!j&&u.jsx("p",{className:"text-xs text-red-600 pl-8",children:"Warning: In-place updates are only allowed for cosmetic changes or if no active subscriptions exist."})]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{const e={...h.limits,revenueCategory:h.revenueCategory};l?A.mutate({planId:l.id,changes:{displayName:h.displayName,description:h.description,price:Number(h.price),currency:h.currency,interval:h.interval,features:h.features,limits:e,isActive:h.isActive,isPopular:h.isPopular,sortOrder:Number(h.sortOrder)},createNewVersion:j}):E.mutate({name:h.name,displayName:h.displayName,description:h.description,price:Number(h.price),currency:h.currency,interval:h.interval,features:h.features,limits:e,isPopular:h.isPopular,sortOrder:Number(h.sortOrder)})},disabled:E.isLoading||A.isLoading,children:E.isLoading||A.isLoading?"Saving...":"Save Plan"})]})]})})]})}const StatCard$1=({icon:e,value:s,label:a,color:l="bg-muted"})=>u.jsxs(ea,{className:"border-slate-200 shadow-sm hover:shadow-md transition-all py-6 bg-white",children:[u.jsx(ta,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:u.jsx("div",{className:`p-2 rounded-full ${l}`,children:e})}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-2xl font-bold text-slate-800",children:s}),u.jsx("p",{className:"text-xs text-slate-500",children:a})]})]}),dV=["#3b82f6","#10b981","#8b5cf6","#f59e0b"],AnalyticsPage=()=>{const[,e]=useLocation(),{data:s,isLoading:a}=At.admin.getGeneralAnalytics.useQuery(),l=s?[{name:"Agents",value:s.counts.agents},{name:"Agencies",value:s.counts.agencies},{name:"End Users",value:s.counts.users-s.counts.agents-s.counts.agencies}]:[],c=s?[{name:"Active",value:s.counts.activeListings},{name:"Inactive",value:s.counts.listings-s.counts.activeListings}]:[],{data:p}=At.admin.getPropertiesStats.useQuery(),m=p?[{name:"Featured",value:p.qualityMetrics?.featuredCount||0,color:"#8b5cf6"},{name:"Optimized",value:p.qualityMetrics?.optimizedCount||0,color:"#3b82f6"},{name:"Standard",value:Math.max(0,(s?.counts?.listings||0)-(p.qualityMetrics?.featuredCount||0)-(p.qualityMetrics?.optimizedCount||0)),color:"#94a3b8"}]:[];return a?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900"})}):u.jsxs("div",{className:"space-y-6 pb-20 max-w-7xl mx-auto py-8",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/admin/dashboard"),children:u.jsx(ua,{className:"h-4 w-4"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Platform Analytics"}),u.jsx("p",{className:"text-slate-500",children:"System-wide performance and usage metrics"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(StatCard$1,{icon:u.jsx(Cl,{className:"h-6 w-6 text-blue-600"}),value:s?.counts.users||0,label:"Total Users",color:"bg-blue-100"}),u.jsx(StatCard$1,{icon:u.jsx(ka,{className:"h-6 w-6 text-purple-600"}),value:s?.counts.agencies||0,label:"Registered Agencies",color:"bg-purple-100"}),u.jsx(StatCard$1,{icon:u.jsx(Bi,{className:"h-6 w-6 text-emerald-600"}),value:s?.counts.listings||0,label:"Total Listings",color:"bg-emerald-100"}),u.jsx(StatCard$1,{icon:u.jsx(la,{className:"h-6 w-6 text-amber-600"}),value:s?.counts.activeListings||0,label:"Active Listings",color:"bg-amber-100"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{className:"bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"User Distribution"})}),u.jsx(sa,{className:"h-[300px]",children:u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(QR,{children:[u.jsx(a$,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",isAnimationActive:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:l.map((e,s)=>u.jsx(YA,{fill:dV[s%dV.length]},`cell-${s}`))}),u.jsx(WA,{}),u.jsx(_A,{})]})})})]}),u.jsxs(ea,{className:"bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"Listing Status"})}),u.jsx(sa,{className:"h-[300px]",children:u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(YR,{data:c,layout:"vertical",children:[u.jsx(CartesianGrid,{strokeDasharray:"3 3",horizontal:!1}),u.jsx(CR,{type:"number"}),u.jsx(_R,{dataKey:"name",type:"category",width:100}),u.jsx(WA,{}),u.jsx(M$,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],isAnimationActive:!1,children:c.map((e,s)=>u.jsx(YA,{fill:0===s?"#10b981":"#94a3b8"},`cell-${s}`))})]})})})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.jsxs(ea,{className:"bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsx(ra,{className:"text-slate-800",children:"Quality Tier Distribution"})}),u.jsx(sa,{className:"h-[300px]",children:u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(QR,{children:[u.jsx(a$,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",isAnimationActive:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:m.map((e,s)=>u.jsx(YA,{fill:e.color},`cell-${s}`))}),u.jsx(WA,{}),u.jsx(_A,{})]})})})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{className:"bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2 text-slate-800",children:[u.jsx(wl,{className:"h-5 w-5 text-blue-500"}),"New Users"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:s?.recentActivity.users.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-600 font-medium",children:e.firstName?.[0]||"U"}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[e.firstName," ",e.lastName]}),u.jsx("p",{className:"text-xs text-slate-500",children:e.email})]})]}),u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.role})]},e.id))})})]}),u.jsxs(ea,{className:"bg-white border-slate-200 shadow-sm",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2 text-slate-800",children:[u.jsx(wi,{className:"h-5 w-5 text-emerald-500"}),"Recent Listings"]})}),u.jsx(sa,{children:u.jsx("div",{className:"space-y-4",children:s?.recentActivity.listings.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center",children:u.jsx(Bi,{className:"h-4 w-4 text-slate-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate max-w-[200px]",children:e.title}),u.jsx("p",{className:"text-xs text-slate-500 capitalize",children:e.propertyType})]})]}),u.jsx(Badge,{variant:"active"===e.status?"default":"secondary",className:"capitalize",children:e.status})]},e.id))})})]})]})]})},uV=6048e5,pV=43200,mV=Symbol.for("constructDateFrom");function constructFrom(e,s){return"function"==typeof e?e(s):e&&"object"==typeof e&&mV in e?e[mV](s):e instanceof Date?new e.constructor(s):new Date(s)}function toDate(e,s){return constructFrom(s||e,e)}function addDays(e,s,a){const l=toDate(e,a?.in);return isNaN(s)?constructFrom(e,NaN):s?(l.setDate(l.getDate()+s),l):l}function addMonths(e,s,a){const l=toDate(e,a?.in);if(isNaN(s))return constructFrom(e,NaN);if(!s)return l;const c=l.getDate(),u=constructFrom(e,l.getTime());u.setMonth(l.getMonth()+s+1,0);return c>=u.getDate()?u:(l.setFullYear(u.getFullYear(),u.getMonth(),c),l)}let hV={};function getDefaultOptions(){return hV}function startOfWeek(e,s){const a=getDefaultOptions(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=toDate(e,s?.in),u=c.getDay(),p=(u<l?7:0)+u-l;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function startOfISOWeek(e,s){return startOfWeek(e,{...s,weekStartsOn:1})}function getISOWeekYear(e,s){const a=toDate(e,s?.in),l=a.getFullYear(),c=constructFrom(a,0);c.setFullYear(l+1,0,4),c.setHours(0,0,0,0);const u=startOfISOWeek(c),p=constructFrom(a,0);p.setFullYear(l,0,4),p.setHours(0,0,0,0);const m=startOfISOWeek(p);return a.getTime()>=u.getTime()?l+1:a.getTime()>=m.getTime()?l:l-1}function getTimezoneOffsetInMilliseconds(e){const s=toDate(e),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+e-+a}function normalizeDates(e,...s){const a=constructFrom.bind(null,e||s.find(e=>"object"==typeof e));return s.map(a)}function startOfDay(e,s){const a=toDate(e,s?.in);return a.setHours(0,0,0,0),a}function differenceInCalendarDays(e,s,a){const[l,c]=normalizeDates(a?.in,e,s),u=startOfDay(l),p=startOfDay(c),m=+u-getTimezoneOffsetInMilliseconds(u),h=+p-getTimezoneOffsetInMilliseconds(p);return Math.round((m-h)/864e5)}function compareAsc(e,s){const a=+toDate(e)-+toDate(s);return a<0?-1:a>0?1:a}function isDate(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function differenceInCalendarMonths(e,s,a){const[l,c]=normalizeDates(a?.in,e,s);return 12*(l.getFullYear()-c.getFullYear())+(l.getMonth()-c.getMonth())}function endOfMonth(e,s){const a=toDate(e,s?.in),l=a.getMonth();return a.setFullYear(a.getFullYear(),l+1,0),a.setHours(23,59,59,999),a}function isLastDayOfMonth(e,s){const a=toDate(e,s?.in);return+function endOfDay(e,s){const a=toDate(e,s?.in);return a.setHours(23,59,59,999),a}(a,s)===+endOfMonth(a,s)}function differenceInSeconds(e,s,a){const l=function differenceInMilliseconds(e,s){return+toDate(e)-+toDate(s)}(e,s)/1e3;return function getRoundingMethod(e){return s=>{const a=(e?Math[e]:Math.trunc)(s);return 0===a?0:a}}(a?.roundingMethod)(l)}function normalizeInterval(e,s){const[a,l]=normalizeDates(e,s.start,s.end);return{start:a,end:l}}function startOfYear(e,s){const a=toDate(e,s?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function endOfWeek(e,s){const a=getDefaultOptions(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=toDate(e,s?.in),u=c.getDay(),p=6+(u<l?-7:0)-(u-l);return c.setDate(c.getDate()+p),c.setHours(23,59,59,999),c}const fV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function buildFormatLongFn(e){return(s={})=>{const a=s.width?String(s.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const gV={date:buildFormatLongFn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:buildFormatLongFn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function buildLocalizeFn(e){return(s,a)=>{let l;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,c=a?.width?String(a.width):s;l=e.formattingValues[c]||e.formattingValues[s]}else{const s=e.defaultWidth,c=a?.width?String(a.width):e.defaultWidth;l=e.values[c]||e.values[s]}return l[e.argumentCallback?e.argumentCallback(s):s]}}const vV={ordinalNumber:(e,s)=>{const a=Number(e),l=a%100;if(l>20||l<10)switch(l%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:buildLocalizeFn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:buildLocalizeFn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:buildLocalizeFn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:buildLocalizeFn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function buildMatchFn(e){return(s,a={})=>{const l=a.width,c=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],u=s.match(c);if(!u)return null;const p=u[0],m=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(m)?function findIndex(e,s){for(let a=0;a<e.length;a++)if(s(e[a]))return a;return}(m,e=>e.test(p)):function findKey(e,s){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&s(e[a]))return a;return}(m,e=>e.test(p));let f;f=e.valueCallback?e.valueCallback(h):h,f=a.valueCallback?a.valueCallback(f):f;return{value:f,rest:s.slice(p.length)}}}const yV={ordinalNumber:function buildMatchPatternFn(e){return(s,a={})=>{const l=s.match(e.matchPattern);if(!l)return null;const c=l[0],u=s.match(e.parsePattern);if(!u)return null;let p=e.valueCallback?e.valueCallback(u[0]):u[0];p=a.valueCallback?a.valueCallback(p):p;return{value:p,rest:s.slice(c.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:buildMatchFn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:buildMatchFn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},bV={code:"en-US",formatDistance:(e,s,a)=>{let l;const c=fV[e];return l="string"==typeof c?c:1===s?c.one:c.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+l:l+" ago":l},formatLong:gV,formatRelative:(e,s,a,l)=>xV[e],localize:vV,match:yV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getISOWeek(e,s){const a=toDate(e,s?.in),l=+startOfISOWeek(a)-+function startOfISOWeekYear(e,s){const a=getISOWeekYear(e,s),l=constructFrom(e,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),startOfISOWeek(l)}(a);return Math.round(l/uV)+1}function getWeekYear(e,s){const a=toDate(e,s?.in),l=a.getFullYear(),c=getDefaultOptions(),u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,p=constructFrom(s?.in||e,0);p.setFullYear(l+1,0,u),p.setHours(0,0,0,0);const m=startOfWeek(p,s),h=constructFrom(s?.in||e,0);h.setFullYear(l,0,u),h.setHours(0,0,0,0);const f=startOfWeek(h,s);return+a>=+m?l+1:+a>=+f?l:l-1}function getWeek(e,s){const a=toDate(e,s?.in),l=+startOfWeek(a,s)-+function startOfWeekYear(e,s){const a=getDefaultOptions(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=getWeekYear(e,s),u=constructFrom(s?.in||e,0);return u.setFullYear(c,0,l),u.setHours(0,0,0,0),startOfWeek(u,s)}(a,s);return Math.round(l/uV)+1}function addLeadingZeros(e,s){return(e<0?"-":"")+Math.abs(e).toString().padStart(s,"0")}const jV={y(e,s){const a=e.getFullYear(),l=a>0?a:1-a;return addLeadingZeros("yy"===s?l%100:l,s.length)},M(e,s){const a=e.getMonth();return"M"===s?String(a+1):addLeadingZeros(a+1,2)},d:(e,s)=>addLeadingZeros(e.getDate(),s.length),a(e,s){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,s)=>addLeadingZeros(e.getHours()%12||12,s.length),H:(e,s)=>addLeadingZeros(e.getHours(),s.length),m:(e,s)=>addLeadingZeros(e.getMinutes(),s.length),s:(e,s)=>addLeadingZeros(e.getSeconds(),s.length),S(e,s){const a=s.length,l=e.getMilliseconds();return addLeadingZeros(Math.trunc(l*Math.pow(10,a-3)),s.length)}},wV="midnight",NV="noon",SV="morning",CV="afternoon",kV="evening",_V="night",PV={G:function(e,s,a){const l=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(l,{width:"abbreviated"});case"GGGGG":return a.era(l,{width:"narrow"});default:return a.era(l,{width:"wide"})}},y:function(e,s,a){if("yo"===s){const s=e.getFullYear(),l=s>0?s:1-s;return a.ordinalNumber(l,{unit:"year"})}return jV.y(e,s)},Y:function(e,s,a,l){const c=getWeekYear(e,l),u=c>0?c:1-c;if("YY"===s){return addLeadingZeros(u%100,2)}return"Yo"===s?a.ordinalNumber(u,{unit:"year"}):addLeadingZeros(u,s.length)},R:function(e,s){return addLeadingZeros(getISOWeekYear(e),s.length)},u:function(e,s){return addLeadingZeros(e.getFullYear(),s.length)},Q:function(e,s,a){const l=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(l);case"QQ":return addLeadingZeros(l,2);case"Qo":return a.ordinalNumber(l,{unit:"quarter"});case"QQQ":return a.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(l,{width:"narrow",context:"formatting"});default:return a.quarter(l,{width:"wide",context:"formatting"})}},q:function(e,s,a){const l=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(l);case"qq":return addLeadingZeros(l,2);case"qo":return a.ordinalNumber(l,{unit:"quarter"});case"qqq":return a.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(l,{width:"narrow",context:"standalone"});default:return a.quarter(l,{width:"wide",context:"standalone"})}},M:function(e,s,a){const l=e.getMonth();switch(s){case"M":case"MM":return jV.M(e,s);case"Mo":return a.ordinalNumber(l+1,{unit:"month"});case"MMM":return a.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(l,{width:"narrow",context:"formatting"});default:return a.month(l,{width:"wide",context:"formatting"})}},L:function(e,s,a){const l=e.getMonth();switch(s){case"L":return String(l+1);case"LL":return addLeadingZeros(l+1,2);case"Lo":return a.ordinalNumber(l+1,{unit:"month"});case"LLL":return a.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(l,{width:"narrow",context:"standalone"});default:return a.month(l,{width:"wide",context:"standalone"})}},w:function(e,s,a,l){const c=getWeek(e,l);return"wo"===s?a.ordinalNumber(c,{unit:"week"}):addLeadingZeros(c,s.length)},I:function(e,s,a){const l=getISOWeek(e);return"Io"===s?a.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,s.length)},d:function(e,s,a){return"do"===s?a.ordinalNumber(e.getDate(),{unit:"date"}):jV.d(e,s)},D:function(e,s,a){const l=function getDayOfYear(e,s){const a=toDate(e,s?.in);return differenceInCalendarDays(a,startOfYear(a))+1}(e);return"Do"===s?a.ordinalNumber(l,{unit:"dayOfYear"}):addLeadingZeros(l,s.length)},E:function(e,s,a){const l=e.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(l,{width:"short",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})}},e:function(e,s,a,l){const c=e.getDay(),u=(c-l.weekStartsOn+8)%7||7;switch(s){case"e":return String(u);case"ee":return addLeadingZeros(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(c,{width:"short",context:"formatting"});default:return a.day(c,{width:"wide",context:"formatting"})}},c:function(e,s,a,l){const c=e.getDay(),u=(c-l.weekStartsOn+8)%7||7;switch(s){case"c":return String(u);case"cc":return addLeadingZeros(u,s.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(c,{width:"narrow",context:"standalone"});case"cccccc":return a.day(c,{width:"short",context:"standalone"});default:return a.day(c,{width:"wide",context:"standalone"})}},i:function(e,s,a){const l=e.getDay(),c=0===l?7:l;switch(s){case"i":return String(c);case"ii":return addLeadingZeros(c,s.length);case"io":return a.ordinalNumber(c,{unit:"day"});case"iii":return a.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(l,{width:"short",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})}},a:function(e,s,a){const l=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,s,a){const l=e.getHours();let c;switch(c=12===l?NV:0===l?wV:l/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(c,{width:"narrow",context:"formatting"});default:return a.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,s,a){const l=e.getHours();let c;switch(c=l>=17?kV:l>=12?CV:l>=4?SV:_V,s){case"B":case"BB":case"BBB":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(c,{width:"narrow",context:"formatting"});default:return a.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,s,a){if("ho"===s){let s=e.getHours()%12;return 0===s&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return jV.h(e,s)},H:function(e,s,a){return"Ho"===s?a.ordinalNumber(e.getHours(),{unit:"hour"}):jV.H(e,s)},K:function(e,s,a){const l=e.getHours()%12;return"Ko"===s?a.ordinalNumber(l,{unit:"hour"}):addLeadingZeros(l,s.length)},k:function(e,s,a){let l=e.getHours();return 0===l&&(l=24),"ko"===s?a.ordinalNumber(l,{unit:"hour"}):addLeadingZeros(l,s.length)},m:function(e,s,a){return"mo"===s?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):jV.m(e,s)},s:function(e,s,a){return"so"===s?a.ordinalNumber(e.getSeconds(),{unit:"second"}):jV.s(e,s)},S:function(e,s){return jV.S(e,s)},X:function(e,s,a){const l=e.getTimezoneOffset();if(0===l)return"Z";switch(s){case"X":return formatTimezoneWithOptionalMinutes(l);case"XXXX":case"XX":return formatTimezone(l);default:return formatTimezone(l,":")}},x:function(e,s,a){const l=e.getTimezoneOffset();switch(s){case"x":return formatTimezoneWithOptionalMinutes(l);case"xxxx":case"xx":return formatTimezone(l);default:return formatTimezone(l,":")}},O:function(e,s,a){const l=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(l,":");default:return"GMT"+formatTimezone(l,":")}},z:function(e,s,a){const l=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(l,":");default:return"GMT"+formatTimezone(l,":")}},t:function(e,s,a){return addLeadingZeros(Math.trunc(+e/1e3),s.length)},T:function(e,s,a){return addLeadingZeros(+e,s.length)}};function formatTimezoneShort(e,s=""){const a=e>0?"-":"+",l=Math.abs(e),c=Math.trunc(l/60),u=l%60;return 0===u?a+String(c):a+String(c)+s+addLeadingZeros(u,2)}function formatTimezoneWithOptionalMinutes(e,s){if(e%60==0){return(e>0?"-":"+")+addLeadingZeros(Math.abs(e)/60,2)}return formatTimezone(e,s)}function formatTimezone(e,s=""){const a=e>0?"-":"+",l=Math.abs(e);return a+addLeadingZeros(Math.trunc(l/60),2)+s+addLeadingZeros(l%60,2)}const dateLongFormatter=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});default:return s.date({width:"full"})}},timeLongFormatter=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});default:return s.time({width:"full"})}},TV={p:timeLongFormatter,P:(e,s)=>{const a=e.match(/(P+)(p+)?/)||[],l=a[1],c=a[2];if(!c)return dateLongFormatter(e,s);let u;switch(l){case"P":u=s.dateTime({width:"short"});break;case"PP":u=s.dateTime({width:"medium"});break;case"PPP":u=s.dateTime({width:"long"});break;default:u=s.dateTime({width:"full"})}return u.replace("{{date}}",dateLongFormatter(l,s)).replace("{{time}}",timeLongFormatter(c,s))}},EV=/^D+$/,AV=/^Y+$/,MV=["D","DD","YY","YYYY"];const LV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OV=/^'([^]*?)'?$/,IV=/''/g,$V=/[a-zA-Z]/;function format(e,s,a){const l=getDefaultOptions(),c=a?.locale??l.locale??bV,u=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0,m=toDate(e,a?.in);if(!function isValid(e){return!(!isDate(e)&&"number"!=typeof e||isNaN(+toDate(e)))}(m))throw new RangeError("Invalid time value");let h=s.match(DV).map(e=>{const s=e[0];if("p"===s||"P"===s){return(0,TV[s])(e,c.formatLong)}return e}).join("").match(LV).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const s=e[0];if("'"===s)return{isToken:!1,value:cleanEscapedString(e)};if(PV[s])return{isToken:!0,value:e};if(s.match($V))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return{isToken:!1,value:e}});c.localize.preprocessor&&(h=c.localize.preprocessor(m,h));const f={firstWeekContainsDate:u,weekStartsOn:p,locale:c};return h.map(l=>{if(!l.isToken)return l.value;const u=l.value;(!a?.useAdditionalWeekYearTokens&&function isProtectedWeekYearToken(e){return AV.test(e)}(u)||!a?.useAdditionalDayOfYearTokens&&function isProtectedDayOfYearToken(e){return EV.test(e)}(u))&&function warnOrThrowProtectedError(e,s,a){const l=function message(e,s,a){const l="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${l} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,s,a);if(console.warn(l),MV.includes(e))throw new RangeError(l)}(u,s,String(e));return(0,PV[u[0]])(m,u,c.localize,f)}).join("")}function cleanEscapedString(e){const s=e.match(OV);return s?s[1].replace(IV,"'"):e}function formatDistance(e,s,a){const l=getDefaultOptions(),c=a?.locale??l.locale??bV,u=compareAsc(e,s);if(isNaN(u))throw new RangeError("Invalid time value");const p=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:u}),[m,h]=normalizeDates(a?.in,...u>0?[s,e]:[e,s]),f=differenceInSeconds(h,m),g=(getTimezoneOffsetInMilliseconds(h)-getTimezoneOffsetInMilliseconds(m))/1e3,b=Math.round((f-g)/60);let j;if(b<2)return a?.includeSeconds?f<5?c.formatDistance("lessThanXSeconds",5,p):f<10?c.formatDistance("lessThanXSeconds",10,p):f<20?c.formatDistance("lessThanXSeconds",20,p):f<40?c.formatDistance("halfAMinute",0,p):f<60?c.formatDistance("lessThanXMinutes",1,p):c.formatDistance("xMinutes",1,p):0===b?c.formatDistance("lessThanXMinutes",1,p):c.formatDistance("xMinutes",b,p);if(b<45)return c.formatDistance("xMinutes",b,p);if(b<90)return c.formatDistance("aboutXHours",1,p);if(b<1440){const e=Math.round(b/60);return c.formatDistance("aboutXHours",e,p)}if(b<2520)return c.formatDistance("xDays",1,p);if(b<pV){const e=Math.round(b/1440);return c.formatDistance("xDays",e,p)}if(b<86400)return j=Math.round(b/pV),c.formatDistance("aboutXMonths",j,p);if(j=function differenceInMonths(e,s,a){const[l,c,u]=normalizeDates(a?.in,e,e,s),p=compareAsc(c,u),m=Math.abs(differenceInCalendarMonths(c,u));if(m<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-p*m);let h=compareAsc(c,u)===-p;isLastDayOfMonth(l)&&1===m&&1===compareAsc(l,u)&&(h=!1);const f=p*(m-+h);return 0===f?0:f}(h,m),j<12){const e=Math.round(b/pV);return c.formatDistance("xMonths",e,p)}{const e=j%12,s=Math.trunc(j/12);return e<3?c.formatDistance("aboutXYears",s,p):e<9?c.formatDistance("overXYears",s,p):c.formatDistance("almostXYears",s+1,p)}}function formatDistanceToNow(e,s){return formatDistance(e,function constructNow(e){return constructFrom(e,Date.now())}(e),s)}function setMonth(e,s,a){const l=toDate(e,a?.in),c=l.getFullYear(),u=l.getDate(),p=constructFrom(e,0);p.setFullYear(c,s,15),p.setHours(0,0,0,0);const m=function getDaysInMonth(e,s){const a=toDate(e,s?.in),l=a.getFullYear(),c=a.getMonth(),u=constructFrom(a,0);return u.setFullYear(l,c+1,0),u.setHours(0,0,0,0),u.getDate()}(p);return l.setMonth(s,Math.min(u,m)),l}const MarketingCampaignsPage=()=>{const{user:e}=useAuth(),[,s]=useLocation(),[a,l]=re.useState("all"),c="admin"===e?.role||"super_admin"===e?.role,p=c?void 0:"agency_admin"===e?.role?"agency":"agent",m=c?void 0:e?.agencyId||e?.id||0,{data:h,isLoading:f}=At.marketing.listCampaigns.useQuery({ownerType:p,ownerId:m,status:"all"!==a?a:void 0}),getStatusBadge=e=>{switch(e){case"active":return u.jsx(Badge,{className:"bg-emerald-500",children:"Active"});case"paused":return u.jsx(Badge,{variant:"secondary",className:"bg-amber-500 text-white",children:"Paused"});case"completed":return u.jsx(Badge,{variant:"secondary",className:"bg-slate-500 text-white",children:"Completed"});case"scheduled":return u.jsx(Badge,{variant:"outline",className:"border-blue-500 text-blue-500",children:"Scheduled"});default:return u.jsx(Badge,{variant:"outline",children:"Draft"})}};return u.jsxs("div",{className:"space-y-6 p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Marketing Campaigns"}),u.jsx("p",{className:"text-slate-500",children:"Manage your internal promotions and boosts"})]}),u.jsxs(Button$1,{onClick:()=>s("/admin/marketing/create"),className:"bg-blue-600 hover:bg-blue-700",children:[u.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:u.jsx(ho,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Active Campaigns"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:h?.filter(e=>"active"===e.status).length||0})]})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-emerald-100 text-emerald-600",children:u.jsx(fl,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Total Impressions"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"--"})]})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:u.jsx(Cl,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Leads Generated"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"--"})]})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-amber-100 text-amber-600",children:u.jsx(ii,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Total Spend"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"--"})]})]})})]}),u.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"relative flex-1 max-w-sm",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx(Input,{placeholder:"Search campaigns...",className:"pl-9"})]}),u.jsxs(Select$1,{value:a,onValueChange:l,children:[u.jsxs(SelectTrigger,{className:"w-[180px]",children:[u.jsx(Si,{className:"w-4 h-4 mr-2 text-slate-400"}),u.jsx(SelectValue,{placeholder:"Filter by status"})]}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Statuses"}),u.jsx(SelectItem,{value:"active",children:"Active"}),u.jsx(SelectItem,{value:"paused",children:"Paused"}),u.jsx(SelectItem,{value:"draft",children:"Draft"}),u.jsx(SelectItem,{value:"completed",children:"Completed"})]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"All Campaigns"})}),u.jsx(sa,{children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Campaign Name"}),c&&u.jsx(TableHead,{children:"Owner"}),u.jsx(TableHead,{children:"Type"}),u.jsx(TableHead,{children:"Target"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{children:"Created"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:f?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:6,className:"text-center py-8 text-slate-500",children:"Loading campaigns..."})}):0===h?.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:6,className:"text-center py-8 text-slate-500",children:"No campaigns found. Create your first one!"})}):h?.map(e=>u.jsxs(TableRow,{className:"cursor-pointer hover:bg-slate-50",onClick:()=>s(`/admin/marketing/${e.id}`),children:[u.jsx(TableCell,{className:"font-medium",children:e.name}),c&&u.jsx(TableCell,{children:e.ownerType}),u.jsx(TableCell,{children:e.type}),u.jsx(TableCell,{children:e.targetType}),u.jsx(TableCell,{children:getStatusBadge(e.status)}),u.jsx(TableCell,{children:format(new Date(e.createdAt),"MMM dd, yyyy")}),u.jsx(TableCell,{className:"text-right",children:u.jsx(Button$1,{variant:"ghost",size:"sm",children:"View"})})]},e.id))})]})})]})]})},RV=[{id:"listing_boost",name:"Boost Listing",description:"Promote a specific property to get more leads.",icon:Bi},{id:"lead_generation",name:"Lead Generation",description:"Capture leads for your agency or agent profile.",icon:Cl},{id:"brand_awareness",name:"Brand Awareness",description:"Increase visibility for your brand across the platform.",icon:ho},{id:"development_launch",name:"Development Launch",description:"Promote a new property development project.",icon:Io},{id:"agent_promotion",name:"Agent Promotion",description:"Highlight a specific agent to attract sellers.",icon:Sl}],Step1Details=({data:e,updateData:s,onNext:a,isLoading:l})=>{const handleChange=(e,a)=>{s({[e]:a})},c=e.campaignName&&e.campaignType;return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Campaign Details"}),u.jsx("p",{className:"text-slate-500",children:"Start by giving your campaign a name and selecting a goal."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"name",children:"Campaign Name"}),u.jsx(Input,{id:"name",placeholder:"e.g. Summer Sale Promotion",value:e.campaignName||"",onChange:e=>handleChange("campaignName",e.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Campaign Goal"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:RV.map(s=>u.jsx("div",{className:"cursor-pointer border rounded-xl p-4 transition-all hover:border-blue-500 hover:bg-blue-50 "+(e.campaignType===s.id?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200"),onClick:()=>handleChange("campaignType",s.id),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg "+(e.campaignType===s.id?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"),children:u.jsx(s.icon,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",children:s.name}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s.description})]})]})},s.id))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"description",children:"Description (Optional)"}),u.jsx(Textarea,{id:"description",placeholder:"Internal notes about this campaign...",value:e.description||"",onChange:e=>handleChange("description",e.target.value)})]})]}),u.jsx("div",{className:"flex justify-end pt-6",children:u.jsx(Button$1,{onClick:a,disabled:!c||l,className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:l?"Creating...":"Next Step"})})]})},Step2Target=({data:e,updateData:s,onNext:a,onBack:l,campaignId:c})=>{const[p,m]=re.useState(""),[h,f]=re.useState(e.targetType||"listing"),g=At.marketing.updateCampaign.useMutation();return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"What are you promoting?"}),u.jsx("p",{className:"text-slate-500",children:"Select the type of content you want to boost."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(RadioGroup,{value:h,onValueChange:e=>{f(e),s({targetType:e})},children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all hover:border-blue-500 "+("listing"===h?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"listing",id:"listing",className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Bi,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-slate-900",children:"Property Listing"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Promote a specific property for sale or rent"})]})]})}),u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all hover:border-blue-500 "+("development"===h?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"development",id:"development",className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-slate-900",children:"Development Project"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Promote an entire development"})]})]})}),u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all hover:border-blue-500 "+("agent_profile"===h?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"agent_profile",id:"agent_profile",className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Sl,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-slate-900",children:"Agent Profile"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Highlight a specific agent"})]})]})}),u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all hover:border-blue-500 "+("agency_page"===h?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"agency_page",id:"agency_page",className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(_a,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-slate-900",children:"Agency Page"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Promote your agency brand"})]})]})})]})}),h&&u.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[u.jsxs(Label$1,{children:["Search for ",h.replace("_"," ")]}),u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx(Input,{placeholder:`Search ${h.replace("_"," ")}...`,value:p,onChange:e=>m(e.target.value),className:"pl-9"})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Note: Full search integration coming soon. For now, you can proceed to configure your campaign."})]})]}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx(Button$1,{variant:"outline",onClick:l,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{try{await g.mutateAsync({campaignId:c,data:{}}),a()}catch(e){console.error("Failed to update campaign target")}},className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:"Next Step"})]})]})},FV=["First Time Buyer","Investor","Family","Retiree","Young Professional","Luxury Buyer"],BV=["Apartment","House","Villa","Townhouse","Land","Commercial","Farm"],Step3Targeting=({data:e,updateData:s,onNext:a,onBack:l,campaignId:c})=>{const[p,m]=re.useState({locations:e.locations||[],buyerProfiles:e.buyerProfiles||[],minPrice:e.minPrice||"",maxPrice:e.maxPrice||"",propertyTypes:e.propertyTypes||[]}),h=At.marketing.updateTargeting.useMutation(),handleLocationAdd=e=>{e&&!p.locations.includes(e)&&m({...p,locations:[...p.locations,e]})};return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Target Your Audience"}),u.jsx("p",{className:"text-slate-500",children:"Define who should see your campaign"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"w-4 h-4 text-blue-600"}),"Location Targeting"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{placeholder:"Enter city or province...",onKeyDown:e=>{"Enter"===e.key&&(handleLocationAdd(e.target.value),e.target.value="")}}),u.jsx(Button$1,{type:"button",variant:"outline",onClick:e=>{const s=e.currentTarget.previousSibling;handleLocationAdd(s.value),s.value=""},children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:p.locations.map(e=>u.jsxs("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-2",children:[e,u.jsx("button",{onClick:()=>(e=>{m({...p,locations:p.locations.filter(s=>s!==e)})})(e),className:"hover:text-blue-900",children:""})]},e))}),u.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to target all locations"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(Cl,{className:"w-4 h-4 text-blue-600"}),"Buyer Profiles"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:FV.map(e=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:e,checked:p.buyerProfiles.includes(e),onCheckedChange:()=>(e=>{const s=p.buyerProfiles.includes(e)?p.buyerProfiles.filter(s=>s!==e):[...p.buyerProfiles,e];m({...p,buyerProfiles:s})})(e)}),u.jsx("label",{htmlFor:e,className:"text-sm cursor-pointer",children:e})]},e))})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"w-4 h-4 text-blue-600"}),"Price Range"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsx(Input,{type:"number",placeholder:"Min Price",value:p.minPrice,onChange:e=>m({...p,minPrice:e.target.value})})}),u.jsx("div",{children:u.jsx(Input,{type:"number",placeholder:"Max Price",value:p.maxPrice,onChange:e=>m({...p,maxPrice:e.target.value})})})]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty for no price restrictions"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"w-4 h-4 text-blue-600"}),"Property Types"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:BV.map(e=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:e,checked:p.propertyTypes.includes(e),onCheckedChange:()=>(e=>{const s=p.propertyTypes.includes(e)?p.propertyTypes.filter(s=>s!==e):[...p.propertyTypes,e];m({...p,propertyTypes:s})})(e)}),u.jsx("label",{htmlFor:e,className:"text-sm cursor-pointer",children:e})]},e))})]})]}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx(Button$1,{variant:"outline",onClick:l,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{try{await h.mutateAsync({campaignId:c,targeting:{locationTargeting:p.locations,buyerProfile:p.buyerProfiles,priceRange:{min:p.minPrice?parseFloat(p.minPrice):null,max:p.maxPrice?parseFloat(p.maxPrice):null},propertyType:p.propertyTypes}}),s(p),a()}catch(e){console.error("Failed to update targeting")}},disabled:h.isPending,className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:h.isPending?"Saving...":"Next Step"})]})]})};const zV={},VV={};function tzOffset(e,s){try{const a=(zV[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(s).split("GMT")[1];return a in VV?VV[a]:calcOffset(a,a.split(":"))}catch{if(e in VV)return VV[e];const s=e?.match(UV);return s?calcOffset(e,s.slice(1)):NaN}}const UV=/([+-]\d\d):?(\d\d)?/;function calcOffset(e,s){const a=+(s[0]||0),l=+(s[1]||0),c=+(s[2]||0)/60;return VV[e]=60*a+l>0?60*a+l+c:60*a-l-c}class TZDateMini extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(tzOffset(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),adjustToSystemTZ(this),syncToInternal(this)):this.setTime(Date.now())}static tz(e,...s){return s.length?new TZDateMini(...s,e):new TZDateMini(Date.now(),e)}withTimeZone(e){return new TZDateMini(+this,e)}getTimezoneOffset(){const e=-tzOffset(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),syncToInternal(this),+this}[Symbol.for("constructDateFrom")](e){return new TZDateMini(+new Date(e),this.timeZone)}}const HV=/^(get|set)(?!UTC)/;function syncToInternal(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(60*-tzOffset(e.timeZone,e)))}function adjustToSystemTZ(e){const s=tzOffset(e.timeZone,e),a=s>0?Math.floor(s):Math.ceil(s),l=new Date(+e);l.setUTCHours(l.getUTCHours()-1);const c=-new Date(+e).getTimezoneOffset(),u=c- -new Date(+l).getTimezoneOffset(),p=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();u&&p&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+u);const m=c-a;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const h=new Date(+e);h.setUTCSeconds(0);const f=c>0?h.getSeconds():(h.getSeconds()-60)%60,g=Math.round(-60*tzOffset(e.timeZone,e))%60;(g||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+f));const b=tzOffset(e.timeZone,e),j=b>0?Math.floor(b):Math.ceil(b),N=-new Date(+e).getTimezoneOffset()-j-m;if(j!==a&&N){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+N);const s=tzOffset(e.timeZone,e),a=j-(s>0?Math.floor(s):Math.ceil(s));a&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!HV.test(e))return;const s=e.replace(HV,"$1UTC");TZDateMini.prototype[s]&&(e.startsWith("get")?TZDateMini.prototype[e]=function(){return this.internal[s]()}:(TZDateMini.prototype[e]=function(){return Date.prototype[s].apply(this.internal,arguments),function syncFromInternal(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),adjustToSystemTZ(e)}(this),+this},TZDateMini.prototype[s]=function(){return Date.prototype[s].apply(this,arguments),syncToInternal(this),+this}))});class TZDate extends TZDateMini{static tz(e,...s){return s.length?new TZDate(...s,e):new TZDate(Date.now(),e)}toISOString(){const[e,s,a]=this.tzComponents(),l=`${e}${s}:${a}`;return this.internal.toISOString().slice(0,-1)+l}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,s,a,l]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${a} ${s} ${l}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[s,a,l]=this.tzComponents();return`${e} GMT${s}${a}${l} (${function tzName(e,s,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:a}).format(s).split(/\s/g).slice(2).join(" ")}(this.timeZone,this)})`}toLocaleString(e,s){return Date.prototype.toLocaleString.call(this,e,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(e,s){return Date.prototype.toLocaleDateString.call(this,e,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(e,s){return Date.prototype.toLocaleTimeString.call(this,e,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new TZDate(+this,e)}[Symbol.for("constructDateFrom")](e){return new TZDate(+new Date(e),this.timeZone)}}function startOfBroadcastWeek(e,s){const a=s.startOfMonth(e),l=a.getDay();return 1===l?a:0===l?s.addDays(a,-6):s.addDays(a,-1*(l-1))}class DateLib{constructor(e,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?TZDate.tz(this.options.timeZone):new this.Date,this.newDate=(e,s,a)=>this.overrides?.newDate?this.overrides.newDate(e,s,a):this.options.timeZone?new TZDate(e,s,a,this.options.timeZone):new Date(e,s,a),this.addDays=(e,s)=>this.overrides?.addDays?this.overrides.addDays(e,s):addDays(e,s),this.addMonths=(e,s)=>this.overrides?.addMonths?this.overrides.addMonths(e,s):addMonths(e,s),this.addWeeks=(e,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(e,s):function addWeeks(e,s,a){return addDays(e,7*s,a)}(e,s),this.addYears=(e,s)=>this.overrides?.addYears?this.overrides.addYears(e,s):function addYears(e,s,a){return addMonths(e,12*s,a)}(e,s),this.differenceInCalendarDays=(e,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(e,s):differenceInCalendarDays(e,s),this.differenceInCalendarMonths=(e,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(e,s):differenceInCalendarMonths(e,s),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(e):function eachMonthOfInterval(e,s){const{start:a,end:l}=normalizeInterval(s?.in,e);let c=+a>+l;const u=c?+a:+l,p=c?l:a;p.setHours(0,0,0,0),p.setDate(1);const m=[];for(;+p<=u;)m.push(constructFrom(a,p)),p.setMonth(p.getMonth()+1);return c?m.reverse():m}(e),this.eachYearOfInterval=e=>{const s=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(e):function eachYearOfInterval(e,s){const{start:a,end:l}=normalizeInterval(s?.in,e);let c=+a>+l;const u=c?+a:+l,p=c?l:a;p.setHours(0,0,0,0),p.setMonth(0,1);const m=[];for(;+p<=u;)m.push(constructFrom(a,p)),p.setFullYear(p.getFullYear()+1);return c?m.reverse():m}(e),a=new Set(s.map(e=>this.getYear(e)));if(a.size===s.length)return s;const l=[];return a.forEach(e=>{l.push(new Date(e,0,1))}),l},this.endOfBroadcastWeek=e=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(e):function endOfBroadcastWeek(e,s){const a=startOfBroadcastWeek(e,s),l=function getBroadcastWeeksInMonth(e,s){const a=s.startOfMonth(e),l=a.getDay()>0?a.getDay():7,c=s.addDays(e,1-l),u=s.addDays(c,34);return s.getMonth(e)===s.getMonth(u)?5:4}(e,s);return s.addDays(a,7*l-1)}(e,this),this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(e):function endOfISOWeek(e,s){return endOfWeek(e,{...s,weekStartsOn:1})}(e),this.endOfMonth=e=>this.overrides?.endOfMonth?this.overrides.endOfMonth(e):endOfMonth(e),this.endOfWeek=(e,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(e,s):endOfWeek(e,this.options),this.endOfYear=e=>this.overrides?.endOfYear?this.overrides.endOfYear(e):function endOfYear(e,s){const a=toDate(e,s?.in),l=a.getFullYear();return a.setFullYear(l+1,0,0),a.setHours(23,59,59,999),a}(e),this.format=(e,s,a)=>{const l=this.overrides?.format?this.overrides.format(e,s,this.options):format(e,s,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(l):l},this.getISOWeek=e=>this.overrides?.getISOWeek?this.overrides.getISOWeek(e):getISOWeek(e),this.getMonth=(e,s)=>this.overrides?.getMonth?this.overrides.getMonth(e,this.options):function getMonth(e,s){return toDate(e,s?.in).getMonth()}(e,this.options),this.getYear=(e,s)=>this.overrides?.getYear?this.overrides.getYear(e,this.options):function getYear(e,s){return toDate(e,s?.in).getFullYear()}(e,this.options),this.getWeek=(e,s)=>this.overrides?.getWeek?this.overrides.getWeek(e,this.options):getWeek(e,this.options),this.isAfter=(e,s)=>this.overrides?.isAfter?this.overrides.isAfter(e,s):function isAfter(e,s){return+toDate(e)>+toDate(s)}(e,s),this.isBefore=(e,s)=>this.overrides?.isBefore?this.overrides.isBefore(e,s):function isBefore(e,s){return+toDate(e)<+toDate(s)}(e,s),this.isDate=e=>this.overrides?.isDate?this.overrides.isDate(e):isDate(e),this.isSameDay=(e,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(e,s):function isSameDay(e,s,a){const[l,c]=normalizeDates(a?.in,e,s);return+startOfDay(l)===+startOfDay(c)}(e,s),this.isSameMonth=(e,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(e,s):function isSameMonth(e,s,a){const[l,c]=normalizeDates(a?.in,e,s);return l.getFullYear()===c.getFullYear()&&l.getMonth()===c.getMonth()}(e,s),this.isSameYear=(e,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(e,s):function isSameYear(e,s,a){const[l,c]=normalizeDates(a?.in,e,s);return l.getFullYear()===c.getFullYear()}(e,s),this.max=e=>this.overrides?.max?this.overrides.max(e):function max$1(e,s){let a,l=s?.in;return e.forEach(e=>{l||"object"!=typeof e||(l=constructFrom.bind(null,e));const s=toDate(e,l);(!a||a<s||isNaN(+s))&&(a=s)}),constructFrom(l,a||NaN)}(e),this.min=e=>this.overrides?.min?this.overrides.min(e):function min$1(e,s){let a,l=s?.in;return e.forEach(e=>{l||"object"!=typeof e||(l=constructFrom.bind(null,e));const s=toDate(e,l);(!a||a>s||isNaN(+s))&&(a=s)}),constructFrom(l,a||NaN)}(e),this.setMonth=(e,s)=>this.overrides?.setMonth?this.overrides.setMonth(e,s):setMonth(e,s),this.setYear=(e,s)=>this.overrides?.setYear?this.overrides.setYear(e,s):function setYear(e,s,a){const l=toDate(e,a?.in);return isNaN(+l)?constructFrom(e,NaN):(l.setFullYear(s),l)}(e,s),this.startOfBroadcastWeek=(e,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(e,this):startOfBroadcastWeek(e,this),this.startOfDay=e=>this.overrides?.startOfDay?this.overrides.startOfDay(e):startOfDay(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(e):startOfISOWeek(e),this.startOfMonth=e=>this.overrides?.startOfMonth?this.overrides.startOfMonth(e):function startOfMonth(e,s){const a=toDate(e,s?.in);return a.setDate(1),a.setHours(0,0,0,0),a}(e),this.startOfWeek=(e,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(e,this.options):startOfWeek(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?this.overrides.startOfYear(e):startOfYear(e),this.options={locale:bV,...e},this.overrides=s}getDigitMap(){const{numerals:e="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:e}),a={};for(let l=0;l<10;l++)a[l.toString()]=s.format(l);return a}replaceDigits(e){const s=this.getDigitMap();return e.replace(/\d/g,e=>s[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&DateLib.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:s,timeZone:a,numerals:l}=this.options,c=s?.code;if(c&&DateLib.yearFirstLocales.has(c))try{const s=new Intl.DateTimeFormat(c,{month:"long",year:"numeric",timeZone:a,numberingSystem:l});return s.format(e)}catch{}const u="year-first"===this.getMonthYearOrder()?"y LLLL":"LLLL y";return this.format(e,u)}}DateLib.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const qV=new DateLib;class CalendarDay{constructor(e,s,a=qV){this.date=e,this.displayMonth=s,this.outside=Boolean(s&&!a.isSameMonth(e,s)),this.dateLib=a}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class CalendarMonth{constructor(e,s){this.date=e,this.weeks=s}}class CalendarWeek{constructor(e,s){this.days=s,this.weekNumber=e}}var WV,ZV,KV,GV,YV,QV,XV,JV;(ZV=WV||(WV={})).Root="root",ZV.Chevron="chevron",ZV.Day="day",ZV.DayButton="day_button",ZV.CaptionLabel="caption_label",ZV.Dropdowns="dropdowns",ZV.Dropdown="dropdown",ZV.DropdownRoot="dropdown_root",ZV.Footer="footer",ZV.MonthGrid="month_grid",ZV.MonthCaption="month_caption",ZV.MonthsDropdown="months_dropdown",ZV.Month="month",ZV.Months="months",ZV.Nav="nav",ZV.NextMonthButton="button_next",ZV.PreviousMonthButton="button_previous",ZV.Week="week",ZV.Weeks="weeks",ZV.Weekday="weekday",ZV.Weekdays="weekdays",ZV.WeekNumber="week_number",ZV.WeekNumberHeader="week_number_header",ZV.YearsDropdown="years_dropdown",(GV=KV||(KV={})).disabled="disabled",GV.hidden="hidden",GV.outside="outside",GV.focused="focused",GV.today="today",(QV=YV||(YV={})).range_end="range_end",QV.range_middle="range_middle",QV.range_start="range_start",QV.selected="selected",(JV=XV||(XV={})).weeks_before_enter="weeks_before_enter",JV.weeks_before_exit="weeks_before_exit",JV.weeks_after_enter="weeks_after_enter",JV.weeks_after_exit="weeks_after_exit",JV.caption_after_enter="caption_after_enter",JV.caption_after_exit="caption_after_exit",JV.caption_before_enter="caption_before_enter",JV.caption_before_exit="caption_before_exit";const eU=re.createContext(void 0);function useDayPicker(){const e=re.useContext(eU);if(void 0===e)throw new Error("useDayPicker() must be used within a custom component.");return e}const tU=Object.freeze(Object.defineProperty({__proto__:null,Button:function Button(e){return ae.createElement("button",{...e})},CaptionLabel:function CaptionLabel(e){return ae.createElement("span",{...e})},Chevron:function Chevron(e){const{size:s=24,orientation:a="left",className:l}=e;return ae.createElement("svg",{className:l,width:s,height:s,viewBox:"0 0 24 24"},"up"===a&&ae.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===a&&ae.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===a&&ae.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===a&&ae.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))},Day:function Day(e){const{day:s,modifiers:a,...l}=e;return ae.createElement("td",{...l})},DayButton:function DayButton(e){const{day:s,modifiers:a,...l}=e,c=ae.useRef(null);return ae.useEffect(()=>{a.focused&&c.current?.focus()},[a.focused]),ae.createElement("button",{ref:c,...l})},Dropdown:function Dropdown(e){const{options:s,className:a,components:l,classNames:c,...u}=e,p=[c[WV.Dropdown],a].join(" "),m=s?.find(({value:e})=>e===u.value);return ae.createElement("span",{"data-disabled":u.disabled,className:c[WV.DropdownRoot]},ae.createElement(l.Select,{className:p,...u},s?.map(({value:e,label:s,disabled:a})=>ae.createElement(l.Option,{key:e,value:e,disabled:a},s))),ae.createElement("span",{className:c[WV.CaptionLabel],"aria-hidden":!0},m?.label,ae.createElement(l.Chevron,{orientation:"down",size:18,className:c[WV.Chevron]})))},DropdownNav:function DropdownNav(e){return ae.createElement("div",{...e})},Footer:function Footer(e){return ae.createElement("div",{...e})},Month:function Month(e){const{calendarMonth:s,displayIndex:a,...l}=e;return ae.createElement("div",{...l},e.children)},MonthCaption:function MonthCaption(e){const{calendarMonth:s,displayIndex:a,...l}=e;return ae.createElement("div",{...l})},MonthGrid:function MonthGrid(e){return ae.createElement("table",{...e})},Months:function Months(e){return ae.createElement("div",{...e})},MonthsDropdown:function MonthsDropdown(e){const{components:s}=useDayPicker();return ae.createElement(s.Dropdown,{...e})},Nav:function Nav(e){const{onPreviousClick:s,onNextClick:a,previousMonth:l,nextMonth:c,...u}=e,{components:p,classNames:m,labels:{labelPrevious:h,labelNext:f}}=useDayPicker(),g=re.useCallback(e=>{c&&a?.(e)},[c,a]),b=re.useCallback(e=>{l&&s?.(e)},[l,s]);return ae.createElement("nav",{...u},ae.createElement(p.PreviousMonthButton,{type:"button",className:m[WV.PreviousMonthButton],tabIndex:l?void 0:-1,"aria-disabled":!l||void 0,"aria-label":h(l),onClick:b},ae.createElement(p.Chevron,{disabled:!l||void 0,className:m[WV.Chevron],orientation:"left"})),ae.createElement(p.NextMonthButton,{type:"button",className:m[WV.NextMonthButton],tabIndex:c?void 0:-1,"aria-disabled":!c||void 0,"aria-label":f(c),onClick:g},ae.createElement(p.Chevron,{disabled:!c||void 0,orientation:"right",className:m[WV.Chevron]})))},NextMonthButton:function NextMonthButton(e){const{components:s}=useDayPicker();return ae.createElement(s.Button,{...e})},Option:function Option(e){return ae.createElement("option",{...e})},PreviousMonthButton:function PreviousMonthButton(e){const{components:s}=useDayPicker();return ae.createElement(s.Button,{...e})},Root:function Root$1(e){const{rootRef:s,...a}=e;return ae.createElement("div",{...a,ref:s})},Select:function Select(e){return ae.createElement("select",{...e})},Week:function Week(e){const{week:s,...a}=e;return ae.createElement("tr",{...a})},WeekNumber:function WeekNumber(e){const{week:s,...a}=e;return ae.createElement("th",{...a})},WeekNumberHeader:function WeekNumberHeader(e){return ae.createElement("th",{...e})},Weekday:function Weekday(e){return ae.createElement("th",{...e})},Weekdays:function Weekdays(e){return ae.createElement("thead",{"aria-hidden":!0},ae.createElement("tr",{...e}))},Weeks:function Weeks(e){return ae.createElement("tbody",{...e})},YearsDropdown:function YearsDropdown(e){const{components:s}=useDayPicker();return ae.createElement(s.Dropdown,{...e})}},Symbol.toStringTag,{value:"Module"}));function rangeIncludesDate(e,s,a=!1,l=qV){let{from:c,to:u}=e;const{differenceInCalendarDays:p,isSameDay:m}=l;if(c&&u){p(u,c)<0&&([c,u]=[u,c]);return p(s,c)>=(a?1:0)&&p(u,s)>=(a?1:0)}return!a&&u?m(u,s):!(a||!c)&&m(c,s)}function isDateInterval(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}function isDateRange(e){return Boolean(e&&"object"==typeof e&&"from"in e)}function isDateAfterType(e){return Boolean(e&&"object"==typeof e&&"after"in e)}function isDateBeforeType(e){return Boolean(e&&"object"==typeof e&&"before"in e)}function isDayOfWeekType(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}function isDatesArray(e,s){return Array.isArray(e)&&e.every(s.isDate)}function dateMatchModifiers(e,s,a=qV){const l=Array.isArray(s)?s:[s],{isSameDay:c,differenceInCalendarDays:u,isAfter:p}=a;return l.some(s=>{if("boolean"==typeof s)return s;if(a.isDate(s))return c(e,s);if(isDatesArray(s,a))return s.includes(e);if(isDateRange(s))return rangeIncludesDate(s,e,!1,a);if(isDayOfWeekType(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(e.getDay()):s.dayOfWeek===e.getDay();if(isDateInterval(s)){const a=u(s.before,e)>0,l=u(s.after,e)<0;return p(s.before,s.after)?l&&a:a||l}return isDateAfterType(s)?u(e,s.after)>0:isDateBeforeType(s)?u(s.before,e)>0:"function"==typeof s&&s(e)})}function getDefaultClassNames(){const e={};for(const s in WV)e[WV[s]]=`rdp-${WV[s]}`;for(const s in KV)e[KV[s]]=`rdp-${KV[s]}`;for(const s in YV)e[YV[s]]=`rdp-${YV[s]}`;for(const s in XV)e[XV[s]]=`rdp-${XV[s]}`;return e}function formatCaption(e,s,a){return(a??new DateLib(s)).formatMonthYear(e)}const rU=formatCaption;function formatYearDropdown(e,s=qV){return s.format(e,"yyyy")}const nU=formatYearDropdown,sU=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:formatCaption,formatDay:function formatDay(e,s,a){return(a??new DateLib(s)).format(e,"d")},formatMonthCaption:rU,formatMonthDropdown:function formatMonthDropdown(e,s=qV){return s.format(e,"LLLL")},formatWeekNumber:function formatWeekNumber(e,s=qV){return e<10?s.formatNumber(`0${e.toLocaleString()}`):s.formatNumber(`${e.toLocaleString()}`)},formatWeekNumberHeader:function formatWeekNumberHeader(){return""},formatWeekdayName:function formatWeekdayName(e,s,a){return(a??new DateLib(s)).format(e,"cccccc")},formatYearCaption:nU,formatYearDropdown:formatYearDropdown},Symbol.toStringTag,{value:"Module"}));function getMonthOptions(e,s,a,l,c){const{startOfMonth:u,startOfYear:p,endOfYear:m,eachMonthOfInterval:h,getMonth:f}=c;return h({start:p(e),end:m(e)}).map(e=>{const p=l.formatMonthDropdown(e,c);return{value:f(e),label:p,disabled:s&&e<u(s)||a&&e>u(a)||!1}})}function getYearOptions(e,s,a,l,c=!1){if(!e)return;if(!s)return;const{startOfYear:u,endOfYear:p,eachYearOfInterval:m,getYear:h}=l,f=m({start:u(e),end:p(s)});return c&&f.reverse(),f.map(e=>{const s=a.formatYearDropdown(e,l);return{value:h(e),label:s,disabled:!1}})}function labelDayButton(e,s,a,l){let c=(l??new DateLib(a)).format(e,"PPPP");return s.today&&(c=`Today, ${c}`),s.selected&&(c=`${c}, selected`),c}const aU=labelDayButton;function labelGrid(e,s,a){return(a??new DateLib(s)).formatMonthYear(e)}const iU=labelGrid;const oU=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:iU,labelDay:aU,labelDayButton:labelDayButton,labelGrid:labelGrid,labelGridcell:function labelGridcell(e,s,a,l){let c=(l??new DateLib(a)).format(e,"PPPP");return s?.today&&(c=`Today, ${c}`),c},labelMonthDropdown:function labelMonthDropdown(e){return"Choose the Month"},labelNav:function labelNav(){return""},labelNext:function labelNext(e){return"Go to the Next Month"},labelPrevious:function labelPrevious(e){return"Go to the Previous Month"},labelWeekNumber:function labelWeekNumber(e,s){return`Week ${e}`},labelWeekNumberHeader:function labelWeekNumberHeader(e){return"Week Number"},labelWeekday:function labelWeekday(e,s,a){return(a??new DateLib(s)).format(e,"cccc")},labelYearDropdown:function labelYearDropdown(e){return"Choose the Year"}},Symbol.toStringTag,{value:"Module"})),asHtmlElement=e=>e instanceof HTMLElement?e:null,queryMonthEls=e=>[...e.querySelectorAll("[data-animated-month]")??[]],queryCaptionEl=e=>asHtmlElement(e.querySelector("[data-animated-caption]")),queryWeeksEl=e=>asHtmlElement(e.querySelector("[data-animated-weeks]"));function useAnimation(e,s,{classNames:a,months:l,focused:c,dateLib:u}){const p=re.useRef(null),m=re.useRef(l),h=re.useRef(!1);re.useLayoutEffect(()=>{const f=m.current;if(m.current=l,!(s&&e.current&&e.current instanceof HTMLElement&&0!==l.length&&0!==f.length&&l.length===f.length))return;const g=u.isSameMonth(l[0].date,f[0].date),b=u.isAfter(l[0].date,f[0].date),j=b?a[XV.caption_after_enter]:a[XV.caption_before_enter],N=b?a[XV.weeks_after_enter]:a[XV.weeks_before_enter],k=p.current,_=e.current.cloneNode(!0);if(_ instanceof HTMLElement){queryMonthEls(_).forEach(e=>{if(!(e instanceof HTMLElement))return;const s=asHtmlElement(e.querySelector("[data-animated-month]"));s&&e.contains(s)&&e.removeChild(s);const a=queryCaptionEl(e);a&&a.classList.remove(j);const l=queryWeeksEl(e);l&&l.classList.remove(N)}),p.current=_}else p.current=null;if(h.current||g||c)return;const T=k instanceof HTMLElement?queryMonthEls(k):[],E=queryMonthEls(e.current);if(E?.every(e=>e instanceof HTMLElement)&&T&&T.every(e=>e instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const s=(A=e.current,asHtmlElement(A.querySelector("[data-animated-nav]")));s&&(s.style.zIndex="1"),E.forEach((l,c)=>{const u=T[c];if(!u)return;l.style.position="relative",l.style.overflow="hidden";const p=queryCaptionEl(l);p&&p.classList.add(j);const m=queryWeeksEl(l);m&&m.classList.add(N);const cleanUp=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),s&&(s.style.zIndex=""),p&&p.classList.remove(j),m&&m.classList.remove(N),l.style.position="",l.style.overflow="",l.contains(u)&&l.removeChild(u)};u.style.pointerEvents="none",u.style.position="absolute",u.style.overflow="hidden",u.setAttribute("aria-hidden","true");const f=(e=>asHtmlElement(e.querySelector("[data-animated-weekdays]")))(u);f&&(f.style.opacity="0");const g=queryCaptionEl(u);g&&(g.classList.add(b?a[XV.caption_before_exit]:a[XV.caption_after_exit]),g.addEventListener("animationend",cleanUp));const k=queryWeeksEl(u);k&&k.classList.add(b?a[XV.weeks_before_exit]:a[XV.weeks_after_exit]),l.insertBefore(u,l.firstChild)})}var A})}function getInitialMonth(e,s,a,l){const{month:c,defaultMonth:u,today:p=l.today(),numberOfMonths:m=1}=e;let h=c||u||p;const{differenceInCalendarMonths:f,addMonths:g,startOfMonth:b}=l;if(a&&f(a,h)<m-1){h=g(a,-1*(m-1))}return s&&f(h,s)<0&&(h=s),b(h)}function useControlledValue(e,s){const[a,l]=re.useState(e);return[void 0===s?a:s,l]}function useCalendar(e,s){const[a,l]=function getNavMonths(e,s){let{startMonth:a,endMonth:l}=e;const{startOfYear:c,startOfDay:u,startOfMonth:p,endOfMonth:m,addYears:h,endOfYear:f,newDate:g,today:b}=s,{fromYear:j,toYear:N,fromMonth:k,toMonth:_}=e;!a&&k&&(a=k),!a&&j&&(a=s.newDate(j,0,1)),!l&&_&&(l=_),!l&&N&&(l=g(N,11,31));const T="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return a?a=p(a):j?a=g(j,0,1):!a&&T&&(a=c(h(e.today??b(),-100))),l?l=m(l):N?l=g(N,11,31):!l&&T&&(l=f(e.today??b())),[a?u(a):a,l?u(l):l]}(e,s),{startOfMonth:c,endOfMonth:u}=s,p=getInitialMonth(e,a,l,s),[m,h]=useControlledValue(p,e.month?p:void 0);re.useEffect(()=>{const c=getInitialMonth(e,a,l,s);h(c)},[e.timeZone]);const f=function getDisplayMonths(e,s,a,l){const{numberOfMonths:c=1}=a,u=[];for(let p=0;p<c;p++){const a=l.addMonths(e,p);if(s&&a>s)break;u.push(a)}return u}(m,l,e,s),g=function getDates(e,s,a,l){const c=e[0],u=e[e.length-1],{ISOWeek:p,fixedWeeks:m,broadcastCalendar:h}=a??{},{addDays:f,differenceInCalendarDays:g,differenceInCalendarMonths:b,endOfBroadcastWeek:j,endOfISOWeek:N,endOfMonth:k,endOfWeek:_,isAfter:T,startOfBroadcastWeek:E,startOfISOWeek:A,startOfWeek:L}=l,O=h?E(c,l):p?A(c):L(c),I=g(h?j(u):p?N(k(u)):_(k(u)),O),$=b(u,c)+1,z=[];for(let H=0;H<=I;H++){const e=f(O,H);if(s&&T(e,s))break;z.push(e)}const U=(h?35:42)*$;if(m&&z.length<U){const e=U-z.length;for(let s=0;s<e;s++){const e=f(z[z.length-1],1);z.push(e)}}return z}(f,e.endMonth?u(e.endMonth):void 0,e,s),b=function getMonths(e,s,a,l){const{addDays:c,endOfBroadcastWeek:u,endOfISOWeek:p,endOfMonth:m,endOfWeek:h,getISOWeek:f,getWeek:g,startOfBroadcastWeek:b,startOfISOWeek:j,startOfWeek:N}=l,k=e.reduce((e,k)=>{const _=a.broadcastCalendar?b(k,l):a.ISOWeek?j(k):N(k),T=a.broadcastCalendar?u(k):a.ISOWeek?p(m(k)):h(m(k)),E=s.filter(e=>e>=_&&e<=T),A=a.broadcastCalendar?35:42;if(a.fixedWeeks&&E.length<A){const e=s.filter(e=>{const s=A-E.length;return e>T&&e<=c(T,s)});E.push(...e)}const L=E.reduce((e,s)=>{const c=a.ISOWeek?f(s):g(s),u=e.find(e=>e.weekNumber===c),p=new CalendarDay(s,k,l);return u?u.days.push(p):e.push(new CalendarWeek(c,[p])),e},[]),O=new CalendarMonth(k,L);return e.push(O),e},[]);return a.reverseMonths?k.reverse():k}(f,g,e,s),j=function getWeeks(e){return e.reduce((e,s)=>e.concat(s.weeks.slice()),[].slice())}(b),N=function getDays(e){const s=[];return e.reduce((e,a)=>{const l=a.weeks.reduce((e,s)=>e.concat(s.days.slice()),s.slice());return e.concat(l.slice())},s.slice())}(b),k=function getPreviousMonth(e,s,a,l){if(a.disableNavigation)return;const{pagedNavigation:c,numberOfMonths:u}=a,{startOfMonth:p,addMonths:m,differenceInCalendarMonths:h}=l,f=c?u??1:1,g=p(e);return s&&h(g,s)<=0?void 0:m(g,-f)}(m,a,e,s),_=function getNextMonth(e,s,a,l){if(a.disableNavigation)return;const{pagedNavigation:c,numberOfMonths:u=1}=a,{startOfMonth:p,addMonths:m,differenceInCalendarMonths:h}=l,f=c?u:1,g=p(e);return s&&h(s,e)<u?void 0:m(g,f)}(m,l,e,s),{disableNavigation:T,onMonthChange:E}=e,goToMonth=e=>{if(T)return;let s=c(e);a&&s<c(a)&&(s=c(a)),l&&s>c(l)&&(s=c(l)),h(s),E?.(s)};return{months:b,weeks:j,days:N,navStart:a,navEnd:l,previousMonth:k,nextMonth:_,goToMonth:goToMonth,goToDay:e=>{(e=>j.some(s=>s.days.some(s=>s.isEqualTo(e))))(e)||goToMonth(e.date)}}}var lU,cU;function isFocusableDay(e){return!e[KV.disabled]&&!e[KV.hidden]&&!e[KV.outside]}function getNextFocus(e,s,a,l,c,u,p,m=0){if(m>365)return;const h=function getFocusableDate(e,s,a,l,c,u,p){const{ISOWeek:m,broadcastCalendar:h}=u,{addDays:f,addMonths:g,addWeeks:b,addYears:j,endOfBroadcastWeek:N,endOfISOWeek:k,endOfWeek:_,max:T,min:E,startOfBroadcastWeek:A,startOfISOWeek:L,startOfWeek:O}=p;let I={day:f,week:b,month:g,year:j,startOfWeek:e=>h?A(e,p):m?L(e):O(e),endOfWeek:e=>h?N(e):m?k(e):_(e)}[e](a,"after"===s?1:-1);return"before"===s&&l?I=T([l,I]):"after"===s&&c&&(I=E([c,I])),I}(e,s,a.date,l,c,u,p),f=Boolean(u.disabled&&dateMatchModifiers(h,u.disabled,p)),g=Boolean(u.hidden&&dateMatchModifiers(h,u.hidden,p)),b=new CalendarDay(h,h,p);return f||g?getNextFocus(e,s,b,l,c,u,p,m+1):b}function useFocus(e,s,a,l,c){const{autoFocus:u}=e,[p,m]=re.useState(),h=function calculateFocusTarget(e,s,a,l){let c,u=-1;for(const p of e){const e=s(p);isFocusableDay(e)&&(e[KV.focused]&&u<lU.FocusedModifier?(c=p,u=lU.FocusedModifier):l?.isEqualTo(p)&&u<lU.LastFocused?(c=p,u=lU.LastFocused):a(p.date)&&u<lU.Selected?(c=p,u=lU.Selected):e[KV.today]&&u<lU.Today&&(c=p,u=lU.Today))}return c||(c=e.find(e=>isFocusableDay(s(e)))),c}(s.days,a,l||(()=>!1),p),[f,g]=re.useState(u?h:void 0);return{isFocusTarget:e=>Boolean(h?.isEqualTo(e)),setFocused:g,focused:f,blur:()=>{m(f),g(void 0)},moveFocus:(a,l)=>{if(!f)return;const u=getNextFocus(a,l,f,s.navStart,s.navEnd,e,c);if(u){if(e.disableNavigation){if(!s.days.some(e=>e.isEqualTo(u)))return}s.goToDay(u),g(u)}}}}function rangeOverlaps(e,s,a=qV){return rangeIncludesDate(e,s.from,!1,a)||rangeIncludesDate(e,s.to,!1,a)||rangeIncludesDate(s,e.from,!1,a)||rangeIncludesDate(s,e.to,!1,a)}function rangeContainsModifiers(e,s,a=qV){const l=Array.isArray(s)?s:[s];if(l.filter(e=>"function"!=typeof e).some(s=>{if("boolean"==typeof s)return s;if(a.isDate(s))return rangeIncludesDate(e,s,!1,a);if(isDatesArray(s,a))return s.some(s=>rangeIncludesDate(e,s,!1,a));if(isDateRange(s))return!(!s.from||!s.to)&&rangeOverlaps(e,{from:s.from,to:s.to},a);if(isDayOfWeekType(s))return function rangeContainsDayOfWeek(e,s,a=qV){const l=Array.isArray(s)?s:[s];let c=e.from;const u=a.differenceInCalendarDays(e.to,e.from),p=Math.min(u,6);for(let m=0;m<=p;m++){if(l.includes(c.getDay()))return!0;c=a.addDays(c,1)}return!1}(e,s.dayOfWeek,a);if(isDateInterval(s)){return a.isAfter(s.before,s.after)?rangeOverlaps(e,{from:a.addDays(s.after,1),to:a.addDays(s.before,-1)},a):dateMatchModifiers(e.from,s,a)||dateMatchModifiers(e.to,s,a)}return!(!isDateAfterType(s)&&!isDateBeforeType(s))&&(dateMatchModifiers(e.from,s,a)||dateMatchModifiers(e.to,s,a))}))return!0;const c=l.filter(e=>"function"==typeof e);if(c.length){let s=e.from;const l=a.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=l;e++){if(c.some(e=>e(s)))return!0;s=a.addDays(s,1)}}return!1}function useRange(e,s){const{disabled:a,excludeDisabled:l,selected:c,required:u,onSelect:p}=e,[m,h]=useControlledValue(c,p?c:void 0),f=p?c:m;return{selected:f,select:(c,m,g)=>{const{min:b,max:j}=e,N=c?function addToRange(e,s,a=0,l=0,c=!1,u=qV){const{from:p,to:m}=s||{},{isSameDay:h,isAfter:f,isBefore:g}=u;let b;if(p||m){if(p&&!m)b=h(p,e)?0===a?{from:p,to:e}:c?{from:p,to:void 0}:void 0:g(e,p)?{from:e,to:p}:{from:p,to:e};else if(p&&m)if(h(p,e)&&h(m,e))b=c?{from:p,to:m}:void 0;else if(h(p,e))b={from:p,to:a>0?void 0:e};else if(h(m,e))b={from:e,to:a>0?void 0:e};else if(g(e,p))b={from:e,to:m};else if(f(e,p))b={from:p,to:e};else{if(!f(e,m))throw new Error("Invalid range");b={from:p,to:e}}}else b={from:e,to:a>0?void 0:e};if(b?.from&&b?.to){const s=u.differenceInCalendarDays(b.to,b.from);(l>0&&s>l||a>1&&s<a)&&(b={from:e,to:void 0})}return b}(c,f,b,j,u,s):void 0;return l&&a&&N?.from&&N.to&&rangeContainsModifiers({from:N.from,to:N.to},a,s)&&(N.from=c,N.to=void 0),p||h(N),p?.(N,c,m,g),N},isSelected:e=>f&&rangeIncludesDate(f,e,!1,s)}}function useSelection(e,s){const a=function useSingle(e,s){const{selected:a,required:l,onSelect:c}=e,[u,p]=useControlledValue(a,c?a:void 0),m=c?a:u,{isSameDay:h}=s;return{selected:m,select:(e,s,a)=>{let u=e;return!l&&m&&m&&h(e,m)&&(u=void 0),c||p(u),c?.(u,e,s,a),u},isSelected:e=>!!m&&h(m,e)}}(e,s),l=function useMulti(e,s){const{selected:a,required:l,onSelect:c}=e,[u,p]=useControlledValue(a,c?a:void 0),m=c?a:u,{isSameDay:h}=s,isSelected=e=>m?.some(s=>h(s,e))??!1,{min:f,max:g}=e;return{selected:m,select:(e,s,a)=>{let u=[...m??[]];if(isSelected(e)){if(m?.length===f)return;if(l&&1===m?.length)return;u=m?.filter(s=>!h(s,e))}else u=m?.length===g?[e]:[...u,e];return c||p(u),c?.(u,e,s,a),u},isSelected:isSelected}}(e,s),c=useRange(e,s);switch(e.mode){case"single":return a;case"multiple":return l;case"range":return c;default:return}}function DayPicker(e){let s=e;s.timeZone&&(s={...e},s.today&&(s.today=new TZDate(s.today,s.timeZone)),s.month&&(s.month=new TZDate(s.month,s.timeZone)),s.defaultMonth&&(s.defaultMonth=new TZDate(s.defaultMonth,s.timeZone)),s.startMonth&&(s.startMonth=new TZDate(s.startMonth,s.timeZone)),s.endMonth&&(s.endMonth=new TZDate(s.endMonth,s.timeZone)),"single"===s.mode&&s.selected?s.selected=new TZDate(s.selected,s.timeZone):"multiple"===s.mode&&s.selected?s.selected=s.selected?.map(e=>new TZDate(e,s.timeZone)):"range"===s.mode&&s.selected&&(s.selected={from:s.selected.from?new TZDate(s.selected.from,s.timeZone):void 0,to:s.selected.to?new TZDate(s.selected.to,s.timeZone):void 0}));const{components:a,formatters:l,labels:c,dateLib:u,locale:p,classNames:m}=re.useMemo(()=>{const e={...bV,...s.locale};return{dateLib:new DateLib({locale:e,weekStartsOn:s.broadcastCalendar?1:s.weekStartsOn,firstWeekContainsDate:s.firstWeekContainsDate,useAdditionalWeekYearTokens:s.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:s.useAdditionalDayOfYearTokens,timeZone:s.timeZone,numerals:s.numerals},s.dateLib),components:(l=s.components,{...tU,...l}),formatters:(a=s.formatters,a?.formatMonthCaption&&!a.formatCaption&&(a.formatCaption=a.formatMonthCaption),a?.formatYearCaption&&!a.formatYearDropdown&&(a.formatYearDropdown=a.formatYearCaption),{...sU,...a}),labels:{...oU,...s.labels},locale:e,classNames:{...getDefaultClassNames(),...s.classNames}};var a,l},[s.locale,s.broadcastCalendar,s.weekStartsOn,s.firstWeekContainsDate,s.useAdditionalWeekYearTokens,s.useAdditionalDayOfYearTokens,s.timeZone,s.numerals,s.dateLib,s.components,s.formatters,s.labels,s.classNames]),{captionLayout:h,mode:f,navLayout:g,numberOfMonths:b=1,onDayBlur:j,onDayClick:N,onDayFocus:k,onDayKeyDown:_,onDayMouseEnter:T,onDayMouseLeave:E,onNextClick:A,onPrevClick:L,showWeekNumber:O,styles:I}=s,{formatCaption:$,formatDay:z,formatMonthDropdown:U,formatWeekNumber:H,formatWeekNumberHeader:q,formatWeekdayName:Z,formatYearDropdown:Y}=l,X=useCalendar(s,u),{days:J,months:le,navStart:ce,navEnd:de,previousMonth:ue,nextMonth:me,goToMonth:he}=X,fe=function createGetModifiers(e,s,a,l,c){const{disabled:u,hidden:p,modifiers:m,showOutsideDays:h,broadcastCalendar:f,today:g}=s,{isSameDay:b,isSameMonth:j,startOfMonth:N,isBefore:k,endOfMonth:_,isAfter:T}=c,E=a&&N(a),A=l&&_(l),L={[KV.focused]:[],[KV.outside]:[],[KV.disabled]:[],[KV.hidden]:[],[KV.today]:[]},O={};for(const I of e){const{date:e,displayMonth:s}=I,a=Boolean(s&&!j(e,s)),l=Boolean(E&&k(e,E)),N=Boolean(A&&T(e,A)),_=Boolean(u&&dateMatchModifiers(e,u,c)),$=Boolean(p&&dateMatchModifiers(e,p,c))||l||N||!f&&!h&&a||f&&!1===h&&a,z=b(e,g??c.today());a&&L.outside.push(I),_&&L.disabled.push(I),$&&L.hidden.push(I),z&&L.today.push(I),m&&Object.keys(m).forEach(s=>{const a=m?.[s];a&&dateMatchModifiers(e,a,c)&&(O[s]?O[s].push(I):O[s]=[I])})}return e=>{const s={[KV.focused]:!1,[KV.disabled]:!1,[KV.hidden]:!1,[KV.outside]:!1,[KV.today]:!1},a={};for(const l in L){const a=L[l];s[l]=a.some(s=>s===e)}for(const l in O)a[l]=O[l].some(s=>s===e);return{...s,...a}}}(J,s,ce,de,u),{isSelected:ge,select:xe,selected:ye}=useSelection(s,u)??{},{blur:be,focused:je,isFocusTarget:Ne,moveFocus:Se,setFocused:Ce}=useFocus(s,X,fe,ge??(()=>!1),u),{labelDayButton:_e,labelGridcell:Pe,labelGrid:Te,labelMonthDropdown:Ee,labelNav:Ae,labelPrevious:Le,labelNext:Oe,labelWeekday:Ie,labelWeekNumber:$e,labelWeekNumberHeader:Fe,labelYearDropdown:Be}=c,ze=re.useMemo(()=>function getWeekdays(e,s,a){const l=e.today(),c=s?e.startOfISOWeek(l):e.startOfWeek(l),u=[];for(let p=0;p<7;p++){const s=e.addDays(c,p);u.push(s)}return u}(u,s.ISOWeek),[u,s.ISOWeek]),Ve=void 0!==f||void 0!==N,Ue=re.useCallback(()=>{ue&&(he(ue),L?.(ue))},[ue,he,L]),He=re.useCallback(()=>{me&&(he(me),A?.(me))},[he,me,A]),qe=re.useCallback((e,s)=>a=>{a.preventDefault(),a.stopPropagation(),Ce(e),xe?.(e.date,s,a),N?.(e.date,s,a)},[xe,N,Ce]),We=re.useCallback((e,s)=>a=>{Ce(e),k?.(e.date,s,a)},[k,Ce]),Ze=re.useCallback((e,s)=>a=>{be(),j?.(e.date,s,a)},[be,j]),Ke=re.useCallback((e,a)=>l=>{const c={ArrowLeft:[l.shiftKey?"month":"day","rtl"===s.dir?"after":"before"],ArrowRight:[l.shiftKey?"month":"day","rtl"===s.dir?"before":"after"],ArrowDown:[l.shiftKey?"year":"week","after"],ArrowUp:[l.shiftKey?"year":"week","before"],PageUp:[l.shiftKey?"year":"month","before"],PageDown:[l.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(c[l.key]){l.preventDefault(),l.stopPropagation();const[e,s]=c[l.key];Se(e,s)}_?.(e.date,a,l)},[Se,_,s.dir]),Ge=re.useCallback((e,s)=>a=>{T?.(e.date,s,a)},[T]),Ye=re.useCallback((e,s)=>a=>{E?.(e.date,s,a)},[E]),Qe=re.useCallback(e=>s=>{const a=Number(s.target.value),l=u.setMonth(u.startOfMonth(e),a);he(l)},[u,he]),Xe=re.useCallback(e=>s=>{const a=Number(s.target.value),l=u.setYear(u.startOfMonth(e),a);he(l)},[u,he]),{className:Je,style:et}=re.useMemo(()=>({className:[m[WV.Root],s.className].filter(Boolean).join(" "),style:{...I?.[WV.Root],...s.style}}),[m,s.className,s.style,I]),tt=function getDataAttributes(e){const s={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([e,a])=>{e.startsWith("data-")&&(s[e]=a)}),s}(s),rt=re.useRef(null);useAnimation(rt,Boolean(s.animate),{classNames:m,months:le,focused:je,dateLib:u});const nt={dayPickerProps:s,selected:ye,select:xe,isSelected:ge,months:le,nextMonth:me,previousMonth:ue,goToMonth:he,getModifiers:fe,components:a,classNames:m,styles:I,labels:c,formatters:l};return ae.createElement(eU.Provider,{value:nt},ae.createElement(a.Root,{rootRef:s.animate?rt:void 0,className:Je,style:et,dir:s.dir,id:s.id,lang:s.lang,nonce:s.nonce,title:s.title,role:s.role,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"],...tt},ae.createElement(a.Months,{className:m[WV.Months],style:I?.[WV.Months]},!s.hideNavigation&&!g&&ae.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[WV.Nav],style:I?.[WV.Nav],"aria-label":Ae(),onPreviousClick:Ue,onNextClick:He,previousMonth:ue,nextMonth:me}),le.map((e,c)=>ae.createElement(a.Month,{"data-animated-month":s.animate?"true":void 0,className:m[WV.Month],style:I?.[WV.Month],key:c,displayIndex:c,calendarMonth:e},"around"===g&&!s.hideNavigation&&0===c&&ae.createElement(a.PreviousMonthButton,{type:"button",className:m[WV.PreviousMonthButton],tabIndex:ue?void 0:-1,"aria-disabled":!ue||void 0,"aria-label":Le(ue),onClick:Ue,"data-animated-button":s.animate?"true":void 0},ae.createElement(a.Chevron,{disabled:!ue||void 0,className:m[WV.Chevron],orientation:"rtl"===s.dir?"right":"left"})),ae.createElement(a.MonthCaption,{"data-animated-caption":s.animate?"true":void 0,className:m[WV.MonthCaption],style:I?.[WV.MonthCaption],calendarMonth:e,displayIndex:c},h?.startsWith("dropdown")?ae.createElement(a.DropdownNav,{className:m[WV.Dropdowns],style:I?.[WV.Dropdowns]},(()=>{const c="dropdown"===h||"dropdown-months"===h?ae.createElement(a.MonthsDropdown,{key:"month",className:m[WV.MonthsDropdown],"aria-label":Ee(),classNames:m,components:a,disabled:Boolean(s.disableNavigation),onChange:Qe(e.date),options:getMonthOptions(e.date,ce,de,l,u),style:I?.[WV.Dropdown],value:u.getMonth(e.date)}):ae.createElement("span",{key:"month"},U(e.date,u)),p="dropdown"===h||"dropdown-years"===h?ae.createElement(a.YearsDropdown,{key:"year",className:m[WV.YearsDropdown],"aria-label":Be(u.options),classNames:m,components:a,disabled:Boolean(s.disableNavigation),onChange:Xe(e.date),options:getYearOptions(ce,de,l,u,Boolean(s.reverseYears)),style:I?.[WV.Dropdown],value:u.getYear(e.date)}):ae.createElement("span",{key:"year"},Y(e.date,u));return"year-first"===u.getMonthYearOrder()?[p,c]:[c,p]})(),ae.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},$(e.date,u.options,u))):ae.createElement(a.CaptionLabel,{className:m[WV.CaptionLabel],role:"status","aria-live":"polite"},$(e.date,u.options,u))),"around"===g&&!s.hideNavigation&&c===b-1&&ae.createElement(a.NextMonthButton,{type:"button",className:m[WV.NextMonthButton],tabIndex:me?void 0:-1,"aria-disabled":!me||void 0,"aria-label":Oe(me),onClick:He,"data-animated-button":s.animate?"true":void 0},ae.createElement(a.Chevron,{disabled:!me||void 0,className:m[WV.Chevron],orientation:"rtl"===s.dir?"left":"right"})),c===b-1&&"after"===g&&!s.hideNavigation&&ae.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[WV.Nav],style:I?.[WV.Nav],"aria-label":Ae(),onPreviousClick:Ue,onNextClick:He,previousMonth:ue,nextMonth:me}),ae.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===f||"range"===f,"aria-label":Te(e.date,u.options,u)||void 0,className:m[WV.MonthGrid],style:I?.[WV.MonthGrid]},!s.hideWeekdays&&ae.createElement(a.Weekdays,{"data-animated-weekdays":s.animate?"true":void 0,className:m[WV.Weekdays],style:I?.[WV.Weekdays]},O&&ae.createElement(a.WeekNumberHeader,{"aria-label":Fe(u.options),className:m[WV.WeekNumberHeader],style:I?.[WV.WeekNumberHeader],scope:"col"},q()),ze.map(e=>ae.createElement(a.Weekday,{"aria-label":Ie(e,u.options,u),className:m[WV.Weekday],key:String(e),style:I?.[WV.Weekday],scope:"col"},Z(e,u.options,u)))),ae.createElement(a.Weeks,{"data-animated-weeks":s.animate?"true":void 0,className:m[WV.Weeks],style:I?.[WV.Weeks]},e.weeks.map(e=>ae.createElement(a.Week,{className:m[WV.Week],key:e.weekNumber,style:I?.[WV.Week],week:e},O&&ae.createElement(a.WeekNumber,{week:e,style:I?.[WV.WeekNumber],"aria-label":$e(e.weekNumber,{locale:p}),className:m[WV.WeekNumber],scope:"row",role:"rowheader"},H(e.weekNumber,u)),e.days.map(e=>{const{date:l}=e,c=fe(e);if(c[KV.focused]=!c.hidden&&Boolean(je?.isEqualTo(e)),c[YV.selected]=ge?.(l)||c.selected,isDateRange(ye)){const{from:e,to:s}=ye;c[YV.range_start]=Boolean(e&&s&&u.isSameDay(l,e)),c[YV.range_end]=Boolean(e&&s&&u.isSameDay(l,s)),c[YV.range_middle]=rangeIncludesDate(ye,l,!0,u)}const p=function getStyleForModifiers(e,s={},a={}){let l={...s?.[WV.Day]};return Object.entries(e).filter(([,e])=>!0===e).forEach(([e])=>{l={...l,...a?.[e]}}),l}(c,I,s.modifiersStyles),h=function getClassNamesForModifiers(e,s,a={}){return Object.entries(e).filter(([,e])=>!0===e).reduce((e,[l])=>(a[l]?e.push(a[l]):s[KV[l]]?e.push(s[KV[l]]):s[YV[l]]&&e.push(s[YV[l]]),e),[s[WV.Day]])}(c,m,s.modifiersClassNames),f=Ve||c.hidden?void 0:Pe(l,c,u.options,u);return ae.createElement(a.Day,{key:`${u.format(l,"yyyy-MM-dd")}_${u.format(e.displayMonth,"yyyy-MM")}`,day:e,modifiers:c,className:h.join(" "),style:p,role:"gridcell","aria-selected":c.selected||void 0,"aria-label":f,"data-day":u.format(l,"yyyy-MM-dd"),"data-month":e.outside?u.format(l,"yyyy-MM"):void 0,"data-selected":c.selected||void 0,"data-disabled":c.disabled||void 0,"data-hidden":c.hidden||void 0,"data-outside":e.outside||void 0,"data-focused":c.focused||void 0,"data-today":c.today||void 0},!c.hidden&&Ve?ae.createElement(a.DayButton,{className:m[WV.DayButton],style:I?.[WV.DayButton],type:"button",day:e,modifiers:c,disabled:c.disabled||void 0,tabIndex:Ne(e)?0:-1,"aria-label":_e(l,c,u.options,u),onClick:qe(e,c),onBlur:Ze(e,c),onFocus:We(e,c),onKeyDown:Ke(e,c),onMouseEnter:Ge(e,c),onMouseLeave:Ye(e,c)},z(l,u.options,u)):!c.hidden&&z(e.date,u.options,u))})))))))),s.footer&&ae.createElement(a.Footer,{className:m[WV.Footer],style:I?.[WV.Footer],role:"status","aria-live":"polite"},s.footer)))}function Calendar({className:e,classNames:s,showOutsideDays:a=!0,captionLayout:l="label",buttonVariant:c="ghost",formatters:p,components:m,...h}){const f=getDefaultClassNames();return u.jsx(DayPicker,{showOutsideDays:a,className:cn("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:l,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...p},classNames:{root:cn("w-fit",f.root),months:cn("flex gap-4 flex-col md:flex-row relative",f.months),month:cn("flex flex-col w-full gap-4",f.month),nav:cn("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:cn(Js({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:cn(Js({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:cn("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:cn("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:cn("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:cn("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:cn("select-none font-medium","label"===l?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:cn("flex",f.weekdays),weekday:cn("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:cn("flex w-full mt-2",f.week),week_number_header:cn("select-none w-(--cell-size)",f.week_number_header),week_number:cn("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:cn("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",f.day),range_start:cn("rounded-l-md bg-accent",f.range_start),range_middle:cn("rounded-none",f.range_middle),range_end:cn("rounded-r-md bg-accent",f.range_end),today:cn("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:cn("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:cn("text-muted-foreground opacity-50",f.disabled),hidden:cn("invisible",f.hidden),...s},components:{Root:({className:e,rootRef:s,...a})=>u.jsx("div",{"data-slot":"calendar",ref:s,className:cn(e),...a}),Chevron:({className:e,orientation:s,...a})=>"left"===s?u.jsx(Ra,{className:cn("size-4",e),...a}):"right"===s?u.jsx(Fa,{className:cn("size-4",e),...a}):u.jsx($a,{className:cn("size-4",e),...a}),DayButton:CalendarDayButton,WeekNumber:({children:e,...s})=>u.jsx("td",{...s,children:u.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:e})}),...m},...h})}function CalendarDayButton({className:e,day:s,modifiers:a,...l}){const c=getDefaultClassNames(),p=re.useRef(null);return re.useEffect(()=>{a.focused&&p.current?.focus()},[a.focused]),u.jsx(Button$1,{ref:p,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:cn("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",c.day,e),...l})}(cU=lU||(lU={}))[cU.Today=0]="Today",cU[cU.Selected=1]="Selected",cU[cU.LastFocused=2]="LastFocused",cU[cU.FocusedModifier=3]="FocusedModifier";const Step4Budget=({data:e,updateData:s,onNext:a,onBack:l,campaignId:c})=>{const[p,m]=re.useState({budgetType:e.budgetType||"daily",budgetAmount:e.budgetAmount||"",billingMethod:e.billingMethod||"ppc",startDate:e.startDate||new Date,endDate:e.endDate||null,frequency:e.frequency||"continuous"}),h=At.marketing.updateBudget.useMutation(),f=At.marketing.updateSchedule.useMutation();return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Budget & Schedule"}),u.jsx("p",{className:"text-slate-500",children:"Set your spending limits and campaign duration"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"w-4 h-4 text-blue-600"}),"Budget Type"]}),u.jsx(RadioGroup,{value:p.budgetType,onValueChange:e=>m({...p,budgetType:e}),children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all "+("daily"===p.budgetType?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200 hover:border-blue-500"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"daily",id:"daily",className:"mt-1"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",children:"Daily Budget"}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Spend up to this amount per day"})]})]})}),u.jsx("label",{className:"cursor-pointer border rounded-xl p-4 transition-all "+("lifetime"===p.budgetType?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200 hover:border-blue-500"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(RadioGroupItem,{value:"lifetime",id:"lifetime",className:"mt-1"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",children:"Lifetime Budget"}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Total budget for entire campaign"})]})]})})]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Label$1,{children:"Budget Amount (ZAR)"}),u.jsx(Input,{type:"number",placeholder:"e.g. 5000",value:p.budgetAmount,onChange:e=>m({...p,budgetAmount:e.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx($l,{className:"w-4 h-4 text-blue-600"}),"Billing Method"]}),u.jsxs(Select$1,{value:p.billingMethod,onValueChange:e=>m({...p,billingMethod:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"ppc",children:"Pay Per Click (PPC)"}),u.jsx(SelectItem,{value:"ppv",children:"Pay Per View (PPV)"}),u.jsx(SelectItem,{value:"per_lead",children:"Pay Per Lead"}),u.jsx(SelectItem,{value:"per_boost",children:"Pay Per Boost"}),u.jsx(SelectItem,{value:"flat_fee",children:"Flat Fee"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:[u.jsx(Qa,{className:"w-4 h-4 text-blue-600"}),"Campaign Schedule"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-sm text-slate-600",children:"Start Date"}),u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[u.jsx(Ea,{className:"mr-2 h-4 w-4"}),p.startDate?format(p.startDate,"PPP"):"Pick a date"]})}),u.jsx(PopoverContent,{className:"w-auto p-0",children:u.jsx(Calendar,{mode:"single",selected:p.startDate,onSelect:e=>m({...p,startDate:e||new Date}),initialFocus:!0})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-sm text-slate-600",children:"End Date (Optional)"}),u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[u.jsx(Ea,{className:"mr-2 h-4 w-4"}),p.endDate?format(p.endDate,"PPP"):"No end date"]})}),u.jsx(PopoverContent,{className:"w-auto p-0",children:u.jsx(Calendar,{mode:"single",selected:p.endDate,onSelect:e=>m({...p,endDate:e}),initialFocus:!0})})]})]})]})]})]}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx(Button$1,{variant:"outline",onClick:l,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{try{await h.mutateAsync({campaignId:c,budget:{budgetType:p.budgetType,budgetAmount:p.budgetAmount,billingMethod:p.billingMethod}}),await f.mutateAsync({campaignId:c,schedule:{startDate:p.startDate,endDate:p.endDate,frequency:p.frequency,autoPacing:!0}}),s(p),a()}catch(e){console.error("Failed to update budget/schedule")}},disabled:!p.budgetAmount||h.isPending,className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:h.isPending?"Saving...":"Next Step"})]})]})},dU=[{id:"feed",name:"Feed Boost",description:"Boost your listing in the main property feed.",icon:Gi,color:"text-blue-600",bgColor:"bg-blue-100"},{id:"search",name:"Search Priority",description:"Appear at the top of relevant search results.",icon:Vo,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"carousel",name:"Featured Carousel",description:'Showcase in the "Featured Properties" carousel on the homepage.',icon:sl,color:"text-amber-600",bgColor:"bg-amber-100"},{id:"newsletter",name:"Email Newsletter",description:"Include in our weekly property digest email.",icon:oo,color:"text-emerald-600",bgColor:"bg-emerald-100"},{id:"push",name:"Push Notifications",description:"Send alerts to users with matching saved searches.",icon:wa,color:"text-rose-600",bgColor:"bg-rose-100"},{id:"retargeting",name:"In-Platform Retargeting",description:"Show to users who viewed similar properties.",icon:Oo,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"showcase",name:"Developer Showcase",description:"Premium placement on the Developer Showcase page.",icon:ho,color:"text-cyan-600",bgColor:"bg-cyan-100"}],Step5Channels=({data:e,updateData:s,onNext:a,onBack:l,campaignId:c})=>{const[p,m]=re.useState(e.channels||dU.map(e=>({type:e.id,enabled:!1}))),h=At.marketing.updateChannels.useMutation(),f=p.filter(e=>e.enabled).length;return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Select Channels"}),u.jsx("p",{className:"text-slate-500",children:"Choose where your campaign will appear across the platform"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:dU.map(e=>{const s=p.find(s=>s.type===e.id)?.enabled;return u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border transition-all "+(s?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200 hover:border-blue-300"),children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${e.bgColor} ${e.color}`,children:u.jsx(e.icon,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-900",children:e.name}),u.jsx("p",{className:"text-sm text-slate-500",children:e.description})]})]}),u.jsx(Switch,{checked:s,onCheckedChange:()=>{return s=e.id,void m(e=>e.map(e=>e.type===s?{...e,enabled:!e.enabled}:e));var s}})]},e.id)})}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx(Button$1,{variant:"outline",onClick:l,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{try{const e=p.map(e=>({type:e.type,enabled:e.enabled}));await h.mutateAsync({campaignId:c,channels:e}),s({channels:e}),a()}catch(e){console.error("Failed to update channels")}},disabled:0===f||h.isPending,className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:h.isPending?"Saving...":"Next Step"})]})]})},Step6Creative=({data:e,updateData:s,onNext:a,onBack:l,campaignId:c})=>{const[p,m]=re.useState({headline:e.headline||"",description:e.description||"",ctaType:e.ctaType||"learn_more",ctaUrl:e.ctaUrl||"",images:e.images||[]}),h=At.marketing.updateCreative.useMutation();return u.jsxs("div",{className:"space-y-8 max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Creative Assets"}),u.jsx("p",{className:"text-slate-500",children:"Design how your ad will look to users"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-xl border border-slate-200",children:[u.jsx("h3",{className:"font-semibold text-slate-900",children:"Ad Copy"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Headline"}),u.jsx(Input,{placeholder:"e.g. Luxury Apartment in Cape Town",value:p.headline,onChange:e=>m({...p,headline:e.target.value}),maxLength:50}),u.jsxs("p",{className:"text-xs text-slate-500 text-right",children:[p.headline.length,"/50"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Description"}),u.jsx(Textarea,{placeholder:"Highlight key features and selling points...",value:p.description,onChange:e=>m({...p,description:e.target.value}),maxLength:150,rows:3}),u.jsxs("p",{className:"text-xs text-slate-500 text-right",children:[p.description.length,"/150"]})]})]}),u.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-slate-900",children:"Media"}),u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>{const e=`https://source.unsplash.com/random/800x600?property&sig=${Math.random()}`;m(s=>({...s,images:[...s.images,e]}))},children:[u.jsx(yl,{className:"w-4 h-4 mr-2"}),"Upload Image"]})]}),0===p.images.length?u.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-lg p-8 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx(zi,{className:"w-6 h-6 text-slate-400"})}),u.jsx("p",{className:"text-sm text-slate-500",children:"No images uploaded yet"}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Recommended size: 1200x628px"})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:p.images.map((e,s)=>u.jsxs("div",{className:"relative group aspect-video bg-slate-100 rounded-lg overflow-hidden",children:[u.jsx("img",{src:e,alt:`Creative ${s+1}`,className:"w-full h-full object-cover"}),u.jsx("button",{onClick:()=>(e=>{m(s=>({...s,images:s.images.filter((s,a)=>a!==e)}))})(s),className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70",children:u.jsx(Il,{className:"w-4 h-4"})})]},s))})]}),u.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-xl border border-slate-200",children:[u.jsx("h3",{className:"font-semibold text-slate-900",children:"Call to Action"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Button Text"}),u.jsxs(Select$1,{value:p.ctaType,onValueChange:e=>m({...p,ctaType:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"learn_more",children:"Learn More"}),u.jsx(SelectItem,{value:"contact_us",children:"Contact Us"}),u.jsx(SelectItem,{value:"view_listing",children:"View Listing"}),u.jsx(SelectItem,{value:"book_viewing",children:"Book Viewing"}),u.jsx(SelectItem,{value:"sign_up",children:"Sign Up"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Destination URL (Optional)"}),u.jsx(Input,{placeholder:"https://...",value:p.ctaUrl,onChange:e=>m({...p,ctaUrl:e.target.value})})]})]})]})]}),u.jsxs("div",{className:"flex justify-between pt-6",children:[u.jsx(Button$1,{variant:"outline",onClick:l,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{try{await h.mutateAsync({campaignId:c,creative:{headline:p.headline,description:p.description,ctaType:p.ctaType,ctaUrl:p.ctaUrl,images:p.images,videos:[]}}),s(p),a()}catch(e){console.error("Failed to update creative")}},disabled:!p.headline||h.isPending,className:"bg-blue-600 hover:bg-blue-700 min-w-[120px]",children:h.isPending?"Saving...":"Next Step"})]})]})},Step8Billing=({data:e,campaignId:s,onBack:a})=>{const[,l]=useLocation(),[c,p]=re.useState("saved_card"),[m,h]=re.useState(!1),f=At.marketing.launchCampaign.useMutation(),g=parseFloat(e.budgetAmount||"0"),b=30*g;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Order Summary"})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-600",children:"Campaign Type"}),u.jsx("span",{className:"font-medium capitalize",children:e.campaignType?.replace("_"," ")})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-600",children:"Budget Type"}),u.jsx("span",{className:"font-medium capitalize",children:e.budgetType})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-600",children:"Daily Budget"}),u.jsxs("span",{className:"font-medium",children:["R ",g.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsx("span",{className:"text-slate-600",children:"Duration"}),u.jsxs("span",{className:"font-medium",children:[30," Days"]})]}),u.jsxs("div",{className:"flex justify-between py-4 text-lg font-bold",children:[u.jsx("span",{children:"Estimated Total"}),u.jsxs("span",{children:["R ",b.toFixed(2)]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex gap-3 text-sm text-blue-700",children:[u.jsx(Va,{className:"w-5 h-5 shrink-0"}),u.jsxs("p",{children:["You will be billed"," ","prepaid"===e.billingMethod?"immediately":"at the end of each billing cycle"," ","based on actual performance."]})]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Payment Method"})}),u.jsxs(sa,{children:[u.jsxs(RadioGroup,{value:c,onValueChange:p,className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-4 border p-4 rounded-lg cursor-pointer transition-colors "+("saved_card"===c?"border-blue-600 bg-blue-50":"hover:bg-slate-50"),children:[u.jsx(RadioGroupItem,{value:"saved_card",id:"saved_card"}),u.jsxs(Label$1,{htmlFor:"saved_card",className:"flex-1 cursor-pointer flex items-center gap-3",children:[u.jsx("div",{className:"bg-slate-100 p-2 rounded-full",children:u.jsx(si,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Visa ending in 4242"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Expires 12/25"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 border p-4 rounded-lg cursor-pointer transition-colors "+("wallet"===c?"border-blue-600 bg-blue-50":"hover:bg-slate-50"),children:[u.jsx(RadioGroupItem,{value:"wallet",id:"wallet"}),u.jsxs(Label$1,{htmlFor:"wallet",className:"flex-1 cursor-pointer flex items-center gap-3",children:[u.jsx("div",{className:"bg-slate-100 p-2 rounded-full",children:u.jsx(Tl,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Account Credits"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Balance: R 0.00"})]})]})]})]}),u.jsx(Button$1,{variant:"outline",className:"w-full mt-4",children:"Add New Payment Method"})]})]})]}),u.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[u.jsx(Button$1,{variant:"outline",onClick:a,disabled:m,children:"Back"}),u.jsx(Button$1,{onClick:async()=>{h(!0);try{await f.mutateAsync({campaignId:s,paymentMethodId:"mock_pm_123"}),Gr.success("Campaign launched successfully!"),l("/admin/marketing")}catch(e){console.error("Launch failed:",e),Gr.error("Failed to launch campaign. Please try again.")}finally{h(!1)}},disabled:m,className:"bg-green-600 hover:bg-green-700 text-white min-w-[150px]",children:m?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"w-4 h-4 mr-2 animate-spin"}),"Launching..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Launch Campaign"]})})]})]})},uU=[{id:1,name:"Details"},{id:2,name:"Target"},{id:3,name:"Audience"},{id:4,name:"Budget"},{id:5,name:"Channels"},{id:6,name:"Creative"},{id:7,name:"Review"},{id:8,name:"Billing"}],CreateCampaignWizard=()=>{const[,e]=useLocation(),{user:s}=useAuth(),[a,l]=re.useState(1),[c,p]=re.useState(null),[m,h]=re.useState({}),f=At.marketing.createCampaign.useMutation(),handleNext=async()=>{if(1!==a||c)l(e=>Math.min(e+1,uU.length));else try{const e=await f.mutateAsync({campaignName:m.campaignName,campaignType:m.campaignType,description:m.description,ownerType:"agency_admin"===s?.role?"agency":"agent",ownerId:s?.agencyId||s?.id||0,targetType:"listing",targetId:0});p(e.campaignId),l(e=>e+1)}catch(e){Gr.error("Failed to create campaign draft")}},handleBack=()=>{1===a?e("/admin/marketing"):l(e=>Math.max(e-1,1))},updateFormData=e=>{h(s=>({...s,...e}))};return u.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:handleBack,children:u.jsx(ua,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Create Campaign"}),u.jsxs("p",{className:"text-slate-500",children:["Step ",a," of ",uU.length,": ",uU[a-1].name]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(Button$1,{variant:"outline",onClick:()=>e("/admin/marketing"),children:"Cancel"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-100 -translate-y-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-blue-600 -translate-y-1/2 transition-all duration-300",style:{width:(a-1)/(uU.length-1)*100+"%"}}),u.jsx("div",{className:"relative flex justify-between",children:uU.map(e=>u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors "+(e.id<a?"bg-blue-600 text-white":e.id===a?"bg-white border-2 border-blue-600 text-blue-600":"bg-white border border-slate-200 text-slate-400"),children:e.id<a?u.jsx(Ia,{className:"w-4 h-4"}):e.id}),u.jsx("span",{className:"text-xs font-medium "+(e.id===a?"text-blue-600":"text-slate-500"),children:e.name})]},e.id))})]}),u.jsx(ea,{className:"min-h-[400px]",children:u.jsxs(sa,{className:"p-6",children:[1===a&&u.jsx(Step1Details,{data:m,updateData:updateFormData,onNext:handleNext,isLoading:f.isPending}),2===a&&c&&u.jsx(Step2Target,{data:m,updateData:updateFormData,onNext:handleNext,onBack:handleBack,campaignId:c}),3===a&&c&&u.jsx(Step3Targeting,{data:m,updateData:updateFormData,onNext:handleNext,onBack:handleBack,campaignId:c}),4===a&&c&&u.jsx(Step4Budget,{data:m,updateData:updateFormData,onNext:handleNext,onBack:handleBack,campaignId:c}),5===a&&c&&u.jsx(Step5Channels,{data:m,updateData:updateFormData,onNext:handleNext,onBack:handleBack,campaignId:c}),6===a&&c&&u.jsx(Step6Creative,{data:m,updateData:updateFormData,onNext:handleNext,onBack:handleBack,campaignId:c}),7===a&&c&&u.jsx(Step7Review,{data:m,campaignId:c,onBack:handleBack,onNext:handleNext}),8===a&&c&&u.jsx(Step8Billing,{data:m,campaignId:c,onBack:handleBack})]})})]})};function AgentApprovals(){const[e,s]=re.useState("pending"),[a,l]=re.useState(!1),[c,p]=re.useState(null),[m,h]=re.useState(""),{data:f,isLoading:g,refetch:b}=At.admin.getPendingAgents.useQuery({status:e},{enabled:!0}),j=At.admin.approveAgent.useMutation({onSuccess:()=>{Gr.success("Agent approved successfully!"),b()},onError:e=>{Gr.error("Failed to approve agent: "+e.message)}}),N=At.admin.rejectAgent.useMutation({onSuccess:()=>{Gr.success("Agent rejected"),l(!1),h(""),p(null),b()},onError:e=>{Gr.error("Failed to reject agent: "+e.message)}}),getStatusBadge=e=>{const s={pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Qa},approved:{color:"bg-green-100 text-green-800 border-green-300",icon:Ua},rejected:{color:"bg-red-100 text-red-800 border-red-300",icon:Ka},suspended:{color:"bg-gray-100 text-gray-800 border-gray-300",icon:Ka}},a=s[e]||s.pending,l=a.icon;return u.jsxs(Badge,{className:`${a.color} border`,children:[u.jsx(l,{className:"h-3 w-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})};return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Agent Approvals"}),u.jsx("p",{className:"text-slate-600 mt-1",children:"Review and manage agent registration applications"})]}),u.jsxs(ef,{value:e,onValueChange:e=>s(e),children:[u.jsxs(tf,{className:"grid w-full max-w-md grid-cols-4",children:[u.jsx(rf,{value:"pending",children:"Pending"}),u.jsx(rf,{value:"approved",children:"Approved"}),u.jsx(rf,{value:"rejected",children:"Rejected"}),u.jsx(rf,{value:"suspended",children:"Suspended"})]}),u.jsx(nf,{value:e,className:"mt-6",children:g?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(no,{className:"h-8 w-8 animate-spin text-blue-600"})}):f&&f.length>0?u.jsx("div",{className:"grid gap-4",children:f.map(e=>u.jsxs(ea,{className:"hover:shadow-md transition-shadow",children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold text-lg",children:e.displayName?.charAt(0)||"A"}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-xl",children:e.displayName}),u.jsx(na,{children:e.email})]})]}),getStatusBadge(e.status)]})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Eo,{className:"h-4 w-4 text-slate-500"}),u.jsx("span",{className:"text-slate-700",children:e.phone||e.phoneNumber||"No phone"})]}),e.licenseNumber&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(fa,{className:"h-4 w-4 text-slate-500"}),u.jsxs("span",{className:"text-slate-700",children:["License: ",e.licenseNumber]})]})]}),e.bio&&u.jsxs("div",{className:"flex gap-2 text-sm",children:[u.jsx(wi,{className:"h-4 w-4 text-slate-500 mt-0.5"}),u.jsx("p",{className:"text-slate-700",children:e.bio})]}),e.specializations&&u.jsx("div",{className:"flex flex-wrap gap-2",children:e.specializations.split(",").map((e,s)=>u.jsx(Badge,{variant:"outline",className:"text-xs",children:e.trim()},s))}),e.rejectionReason&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})}),u.jsxs("div",{className:"text-xs text-slate-500",children:["Applied: ",new Date(e.createdAt).toLocaleDateString(),e.approvedAt&&`  Approved: ${new Date(e.approvedAt).toLocaleDateString()}`]}),"pending"===e.status&&u.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[u.jsxs(Button$1,{onClick:()=>{return s=e.id,void j.mutate({agentId:s});var s},disabled:j.isLoading,className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Approve"]}),u.jsxs(Button$1,{onClick:()=>{return s=e.id,p(s),void l(!0);var s},disabled:N.isLoading,variant:"destructive",className:"flex-1",children:[u.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]},e.id))}):u.jsx(ea,{children:u.jsxs(sa,{className:"flex flex-col items-center justify-center py-12",children:[u.jsx(Sl,{className:"h-12 w-12 text-slate-300 mb-3"}),u.jsxs("p",{className:"text-slate-500 text-center",children:["No ",e," agents found"]})]})})})]}),u.jsx(Dialog,{open:a,onOpenChange:l,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Reject Agent Application"}),u.jsx(DialogDescription,{children:"Please provide a reason for rejecting this agent application. This will be visible to the applicant."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"reason",children:"Rejection Reason"}),u.jsx(Textarea,{id:"reason",placeholder:"e.g., Incomplete information, Invalid license number...",value:m,onChange:e=>h(e.target.value),rows:4})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),u.jsx(Button$1,{variant:"destructive",onClick:()=>{c&&N.mutate({agentId:c,reason:m||"No reason provided"})},disabled:N.isLoading,children:N.isLoading?u.jsxs(u.Fragment,{children:[u.jsx(no,{className:"h-4 w-4 mr-2 animate-spin"}),"Rejecting..."]}):"Reject Application"})]})]})})]})}const CampaignDetailsPage=()=>{const e=useParams(),[,s]=useLocation(),a=e.id;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>s("/admin/marketing"),children:u.jsx(ua,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Campaign Details"}),u.jsxs("p",{className:"text-slate-500",children:["Campaign ID: ",a]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Campaign Insights"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-center py-12 text-slate-500",children:u.jsx("p",{children:"Detailed analytics and insights coming soon."})})})]})]})},CampaignInsights=()=>{const[,e]=useLocation(),[s,a]=useRoute("/admin/marketing/campaign/:id"),l=a?.id?parseInt(a.id):0,[c,p]=re.useState("30d"),{data:m,isLoading:h}=At.marketing.getCampaignAnalytics.useQuery({campaignId:l,dateRange:c},{enabled:!!l});if(h)return u.jsx("div",{className:"p-8 flex justify-center",children:"Loading analytics..."});if(!m)return u.jsx("div",{className:"p-8",children:"Campaign not found"});const{summary:f,dailyData:g,channelPerformance:b,campaign:j}=m;return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>e("/admin/marketing"),children:u.jsx(ua,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:j.campaignName}),u.jsx(Badge,{variant:"active"===j.status?"default":"secondary",className:"capitalize",children:j.status})]}),u.jsxs("p",{className:"text-slate-500 capitalize",children:[j.campaignType?.replace("_"," ")," Campaign"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Select$1,{value:c,onValueChange:e=>p(e),children:[u.jsx(SelectTrigger,{className:"w-[180px]",children:u.jsx(SelectValue,{placeholder:"Select range"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"7d",children:"Last 7 Days"}),u.jsx(SelectItem,{value:"30d",children:"Last 30 Days"}),u.jsx(SelectItem,{value:"90d",children:"Last 90 Days"})]})]}),u.jsx(Button$1,{variant:"outline",children:"Export Report"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Spend"}),u.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:["R ",f.spend]}),u.jsxs("p",{className:"text-xs text-emerald-600 flex items-center mt-1",children:[u.jsx(fl,{className:"w-3 h-3 mr-1"})," +12% vs last period"]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:u.jsx(ii,{className:"w-6 h-6 text-blue-600"})})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Impressions"}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:f.impressions.toLocaleString()}),u.jsxs("p",{className:"text-xs text-emerald-600 flex items-center mt-1",children:[u.jsx(fl,{className:"w-3 h-3 mr-1"})," +5% vs last period"]})]}),u.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:u.jsx(fi,{className:"w-6 h-6 text-purple-600"})})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-slate-500",children:["Clicks (CTR ",f.ctr,"%)"]}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:f.clicks.toLocaleString()}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["CPC: R ",f.cpc]})]}),u.jsx("div",{className:"p-3 bg-amber-50 rounded-full",children:u.jsx(No,{className:"w-6 h-6 text-amber-600"})})]})}),u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Leads Generated"}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:f.leads}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["CPL: R ",f.cpl]})]}),u.jsx("div",{className:"p-3 bg-emerald-50 rounded-full",children:u.jsx(Cl,{className:"w-6 h-6 text-emerald-600"})})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs(ea,{className:"lg:col-span-2",children:[u.jsx(ta,{children:u.jsx(ra,{children:"Performance Over Time"})}),u.jsx(sa,{children:u.jsx("div",{className:"h-[300px] w-full",children:u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(XR,{data:g,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorImpressions",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.1}),u.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.1}),u.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),u.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1}),u.jsx(CR,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})}),u.jsx(_R,{yAxisId:"left"}),u.jsx(_R,{yAxisId:"right",orientation:"right"}),u.jsx(WA,{}),u.jsx(SR,{yAxisId:"left",type:"monotone",dataKey:"impressions",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorImpressions)",name:"Impressions"}),u.jsx(SR,{yAxisId:"right",type:"monotone",dataKey:"clicks",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorClicks)",name:"Clicks"})]})})})})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Channel Performance"})}),u.jsxs(sa,{children:[u.jsx("div",{className:"h-[300px] w-full",children:u.jsx(GA,{width:"100%",height:"100%",children:u.jsxs(YR,{data:b,layout:"vertical",children:[u.jsx(CartesianGrid,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),u.jsx(CR,{type:"number",hide:!0}),u.jsx(_R,{dataKey:"name",type:"category",width:60}),u.jsx(WA,{}),u.jsx(M$,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],name:"Impressions"})]})})}),u.jsx("div",{className:"mt-4 space-y-3",children:b.map((e,s)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600",children:e.name}),u.jsxs("span",{className:"font-medium",children:[(e.value/f.impressions*100).toFixed(0),"%"]})]},s))})]})]})]})]})};function DevelopmentOversight(){useLocation();const{user:e,isAuthenticated:s}=useAuth(),[a,l]=re.useState(""),[c,p]=re.useState(null),[m,h]=re.useState(""),[f,g]=re.useState(!1),[b,j]=re.useState(null),{data:N,isLoading:k,refetch:_}=At.admin.adminListPendingDevelopments.useQuery(),{data:T}=At.admin.getDevelopmentAnalytics.useQuery(),E=At.admin.adminApproveDevelopment.useMutation({onSuccess:()=>{Gr.success("Development approved and published successfully"),_(),closeDialog()},onError:e=>{Gr.error(e.message||"Failed to approve development")}}),A=At.admin.adminRejectDevelopment.useMutation({onSuccess:()=>{Gr.success("Development rejected successfully"),_(),closeDialog()},onError:e=>{Gr.error(e.message||"Failed to reject development")}}),L=At.admin.adminRequestChanges.useMutation({onSuccess:()=>{Gr.success("Feedback sent to developer"),_(),closeDialog()},onError:e=>{Gr.error(e.message||"Failed to send feedback")}}),O=N?.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.developerName.toLowerCase().includes(a.toLowerCase()))||[],closeDialog=()=>{g(!1),p(null),j(null),h("")},confirmAction=e=>{if(c&&b)if("approve"===b)E.mutate({developmentId:c.id,complianceChecks:e});else if("request_changes"===b){if(!m.trim())return void Gr.error("Please provide feedback for the developer");L.mutate({developmentId:c.id,feedback:m})}else if("reject"===b){if(!m.trim())return void Gr.error("Please provide a reason for rejection");A.mutate({developmentId:c.id,reason:m})}};return s&&"super_admin"===e?.role?u.jsx("div",{className:"min-h-screen bg-transparent",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Development Management"}),u.jsx("p",{className:"text-muted-foreground",children:"Review and moderate development applications"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsxs(GlassCard,{className:"border-white/40 shadow-sm",children:[u.jsx(ta,{className:"pb-2",children:u.jsx(ra,{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Pending Review"})}),u.jsx(sa,{children:u.jsx("div",{className:"text-3xl font-bold text-orange-600",children:N?.length||0})})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-sm",children:[u.jsx(ta,{className:"pb-2",children:u.jsx(ra,{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Fast-Track Ratio"})}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:T?`${(100*T.autoApprovalRate).toFixed(0)}%`:"-"}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:T?`${T.autoApprovedCount} auto-approved`:"Calculating..."})]})]}),u.jsxs(GlassCard,{className:"border-white/40 shadow-sm",children:[u.jsx(ta,{className:"pb-2",children:u.jsx(ra,{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Avg Manual Review"})}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:T?(e=>{if(!e)return"-";const s=Math.round(e/3600);return s<1?"< 1h":`${s}h`})(T.avgManualApprovalSeconds):"-"}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Target: < 24h"})]})]})]}),u.jsx(GlassCard,{className:"mb-6 border-white/40 shadow-sm p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search developments or developers...",value:a,onChange:e=>l(e.target.value),className:"pl-10 bg-white/50 border-slate-200 focus:bg-white transition-all max-w-md"})]})}),u.jsx(GlassCard,{className:"border-white/40 shadow-sm overflow-hidden",children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{className:"bg-slate-50/50",children:[u.jsx(TableHead,{children:"Development"}),u.jsx(TableHead,{children:"Developer"}),u.jsx(TableHead,{children:"Submission Date"}),u.jsx(TableHead,{children:"Type"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:k?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:6,className:"h-24 text-center",children:"Loading pending developments..."})}):0===O.length?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No pending approvals found."})}):O.map(e=>u.jsxs(TableRow,{className:"hover:bg-slate-50 transition-colors",children:[u.jsxs(TableCell,{children:[u.jsx("div",{className:"font-medium text-slate-900",children:e.name}),u.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-0.5",children:[u.jsx(lo,{className:"w-3 h-3"}),e.city,", ",e.province]})]}),u.jsx(TableCell,{children:e.developerName}),u.jsx(TableCell,{children:new Date(e.submittedAt).toLocaleDateString()}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.developmentType})}),u.jsx(TableCell,{children:u.jsx(Badge,{className:"bg-orange-100 text-orange-700 hover:bg-orange-100 border-orange-200",children:"Pending Review"})}),u.jsx(TableCell,{className:"text-right",children:u.jsx(Button$1,{size:"sm",onClick:()=>(p(e),g(!0),j(null),void h("")),className:"bg-blue-600 hover:bg-blue-700",children:"Review Application"})})]},e.id))})]})}),u.jsx(Dialog,{open:f,onOpenChange:e=>!e&&closeDialog(),children:u.jsxs(DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Review Development Application"}),u.jsx(DialogDescription,{})]}),c&&u.jsx(DevelopmentReviewContent,{development:c,reviewAction:b,setReviewAction:j,confirmAction:confirmAction,isMutating:E.isPending||A.isPending||L.isPending,actionReason:m,setActionReason:h})]})})]})}):u.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied"})}function DevelopmentReviewContent({development:e,reviewAction:s,setReviewAction:a,confirmAction:l,isMutating:c,actionReason:p,setActionReason:m}){const[h,f]=re.useState({images:!1,data:!1,pricing:!1,location:!1}),[g,b]=re.useState(!1),{data:j,isLoading:N}=At.admin.getDevelopmentAuditLogs.useQuery({developmentId:e.id},{enabled:g}),{images:k,amenities:_,coverImage:T}=re.useMemo(()=>{const parseJson=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(s){return[]}return Array.isArray(e)?e:[]},s=parseJson(e.images);return{images:s,amenities:parseJson(e.amenities),coverImage:s.length>0?s[0]:null}},[e]);return u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[u.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded-md overflow-hidden flex-shrink-0",children:T?u.jsx("img",{src:T,alt:"Cover",className:"w-full h-full object-cover"}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:"No Img"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:e.name}),u.jsx("div",{className:"text-sm text-slate-600 mb-2",children:e.address}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(Badge,{variant:"outline",children:[e.totalUnits," Units"]}),u.jsx(Badge,{variant:"outline",children:e.developmentType}),u.jsxs(Badge,{variant:"outline",children:["Submitted: ",new Date(e.submittedAt).toLocaleDateString()]})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2 text-sm text-slate-700 uppercase tracking-wide",children:"Description"}),u.jsx("div",{className:"p-3 bg-white border border-slate-200 rounded-md text-sm text-slate-600 max-h-40 overflow-y-auto",children:e.description||"No description provided."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2 text-sm text-slate-700 uppercase tracking-wide",children:"Amenities"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.map((e,s)=>u.jsx(Badge,{variant:"secondary",className:"font-normal",children:e},s)),(!_||0===_.length)&&u.jsx("span",{className:"text-sm text-slate-500 italic",children:"No amenities listed."})]})]}),"approve"===s&&u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[u.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 text-sm flex items-center gap-2",children:[u.jsx(Ua,{className:"w-4 h-4"})," Compliance Verification"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{id:"images",label:"Images are high quality & safe"},{id:"data",label:"Development data is complete"},{id:"pricing",label:"Pricing appears realistic"},{id:"location",label:"Location/Address verified"}].map(e=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`check-${e.id}`,checked:h[e.id],onCheckedChange:s=>f(a=>({...a,[e.id]:!!s}))}),u.jsx(Label$1,{htmlFor:`check-${e.id}`,className:"text-sm cursor-pointer text-slate-700 font-normal",children:e.label})]},e.id))})]}),u.jsx("div",{className:"pt-4 border-t border-slate-100",children:s?"approve"===s?u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[u.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Confirm Approval"}),u.jsx("p",{className:"text-sm text-green-700 mb-4",children:"This will immediately publish the development to the public portal and notify the developer."}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(Button$1,{variant:"ghost",onClick:()=>a(null),disabled:c,children:"Cancel"}),u.jsx(Button$1,{className:"bg-green-600 hover:bg-green-700",onClick:()=>l(h),disabled:c,children:c?"Publishing...":"Confirm Approval"})]})]}):"request_changes"===s?u.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[u.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Request Changes (Feedback)"}),u.jsx("p",{className:"text-sm text-amber-700 mb-4",children:"The developer will be notified to make updates. Status will revert to 'Changes Requested'."}),u.jsx(Textarea,{value:p,onChange:e=>m(e.target.value),placeholder:"E.g. Please clarify the amenities list...",className:"mb-4 bg-white"}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(Button$1,{variant:"ghost",onClick:()=>a(null),disabled:c,children:"Cancel"}),u.jsx(Button$1,{className:"bg-amber-500 hover:bg-amber-600 text-white",onClick:()=>l(),disabled:c,children:c?"Sending...":"Send Feedback"})]})]}):u.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[u.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Reject Application"}),u.jsx("p",{className:"text-sm text-red-700 mb-4",children:"This will mark the application as Rejected. Use for policy violations."}),u.jsx(Textarea,{value:p,onChange:e=>m(e.target.value),placeholder:"E.g. This listing violates our content policy...",className:"mb-4 bg-white"}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(Button$1,{variant:"ghost",onClick:()=>a(null),disabled:c,children:"Cancel"}),u.jsx(Button$1,{variant:"destructive",onClick:()=>l(),disabled:c,children:c?"Rejecting...":"Reject Application"})]})]}):u.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[u.jsxs(Button$1,{variant:"link",className:"text-slate-500",onClick:()=>window.open(`/development/${e.id}`,"_blank"),children:[u.jsx(fi,{className:"w-4 h-4 mr-2"})," View Full Preview"]}),u.jsxs(Button$1,{variant:"ghost",className:"text-slate-500",onClick:()=>b(!g),children:[u.jsx(Ri,{className:"w-4 h-4 mr-2"})," ",g?"Hide History":"View History"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",onClick:()=>a("request_changes"),className:"gap-2 text-amber-600 hover:text-amber-700 hover:bg-amber-50 border-amber-200",children:[u.jsx(xo,{className:"w-4 h-4"})," Request Changes"]}),u.jsxs(Button$1,{variant:"destructive",onClick:()=>a("reject"),className:"gap-2",children:[u.jsx(va,{className:"w-4 h-4"})," Reject"]}),u.jsxs(Button$1,{className:"bg-green-600 hover:bg-green-700 gap-2",onClick:()=>a("approve"),children:[u.jsx(Ia,{className:"w-4 h-4"})," Approve"]})]})]})}),g&&u.jsxs("div",{className:"pt-4 border-t border-slate-100 animate-in fade-in slide-in-from-top-2",children:[u.jsxs("h4",{className:"font-semibold text-sm text-slate-700 uppercase tracking-wide mb-3 flex items-center gap-2",children:[u.jsx(Qa,{className:"w-4 h-4"})," Application History"]}),u.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-60 overflow-y-auto space-y-4",children:N?u.jsx("div",{className:"text-center text-sm text-slate-500 py-4",children:"Loading history..."}):j&&j.length>0?j.map(e=>u.jsxs("div",{className:"flex gap-3 text-sm",children:[u.jsx("div",{className:"flex-shrink-0 w-24 text-slate-400 text-xs text-right pt-0.5",children:new Date(e.createdAt).toLocaleString()}),u.jsx("div",{className:"w-px bg-slate-200"}),u.jsxs("div",{className:"flex-1 pb-2",children:[u.jsxs("div",{className:"font-medium text-slate-900",children:[e.user?.name||"Unknown User",u.jsxs("span",{className:"text-slate-500 font-normal",children:[" ","- ",e.action.replace("UPDATE_DEVELOPMENT","Update")]})]}),e.metadata&&u.jsx("div",{className:"text-slate-600 mt-1 bg-white p-2 rounded border border-slate-200 inline-block max-w-full",children:(()=>{try{const s="string"==typeof e.metadata?JSON.parse(e.metadata):e.metadata;return"request_changes"===s.action?u.jsxs("span",{className:"text-amber-700",children:['Changes Requested: "',s.feedback,'"']}):"reject"===s.action?u.jsxs("span",{className:"text-red-700",children:['Rejected: "',s.reason,'"']}):"approve"===s.action?u.jsx("span",{className:"text-green-700",children:"Approved"}):JSON.stringify(s)}catch(s){return String(e.metadata)}})()})]})]},e.id)):u.jsx("div",{className:"text-center text-sm text-slate-500 py-4 italic",children:"No history found."})})]})]})}const UnifiedApprovalsPage=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ua,{className:"h-8 w-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Approvals Center"}),u.jsx("p",{className:"text-slate-500",children:"Manage all pending approvals from a single location."})]})]}),u.jsxs(ef,{defaultValue:"agents",className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-3 max-w-2xl",children:[u.jsx(rf,{value:"agents",children:"Agent Approvals"}),u.jsx(rf,{value:"listings",children:"Listing Approvals"}),u.jsx(rf,{value:"developments",children:"Development Approvals"})]}),u.jsx(nf,{value:"agents",className:"mt-6",children:u.jsx(AgentApprovals,{})}),u.jsx(nf,{value:"listings",className:"mt-6",children:u.jsx(ListingOversight,{})}),u.jsx(nf,{value:"developments",className:"mt-6",children:u.jsx(DevelopmentOversight,{})})]})]}),EcosystemOverviewPage=()=>{const{data:e,isLoading:s}=At.admin.getEcosystemStats.useQuery(),StatCard2=({title:e,icon:s,total:a,active:l,growth:c,color:p})=>u.jsxs(GlassCard,{className:"h-full",children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsxs(ra,{className:"text-lg font-medium text-slate-700 flex items-center gap-2",children:[u.jsx("div",{className:`p-2 rounded-lg ${p}`,children:u.jsx(s,{className:"h-5 w-5"})}),e]}),void 0!==c&&u.jsxs(Badge,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200",children:[u.jsx(fl,{className:"h-3 w-3 mr-1"}),"+",c," new"]})]}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-3xl font-bold text-slate-800",children:a??"-"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Total Registered"})]}),void 0!==l&&u.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Active / Verified"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-bold text-slate-700",children:l}),u.jsxs("span",{className:"text-xs text-slate-400",children:["(",a&&a>0?Math.round(l/a*100):0,"%)"]})]})]})]})})]});return s?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Skeleton,{className:"h-10 w-48 mb-2"}),u.jsx(Skeleton,{className:"h-4 w-96"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>u.jsx(Skeleton,{className:"h-48 w-full rounded-xl"},e))})]}):u.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[u.jsx(la,{className:"h-8 w-8 text-indigo-600"}),"Ecosystem Health"]}),u.jsx("p",{className:"text-slate-500 mt-2",children:"High-level overview of platform participants and growth metrics."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(StatCard2,{title:"Agencies",icon:ka,total:e?.agencies.total,active:e?.agencies.active,growth:e?.agencies.growth,color:"bg-blue-100 text-blue-600"}),u.jsx(StatCard2,{title:"Agents",icon:Cl,total:e?.agents.total,active:e?.agents.active,growth:e?.agents.growth,color:"bg-purple-100 text-purple-600"}),u.jsx(StatCard2,{title:"Developers",icon:Ja,total:e?.developers.total,active:e?.developers.active,growth:e?.developers.growth,color:"bg-amber-100 text-amber-600"}),u.jsx(StatCard2,{title:"End Users",icon:Sl,total:e?.users.total,active:e?.users.active,growth:e?.users.growth,color:"bg-emerald-100 text-emerald-600"})]}),u.jsx(GlassCard,{className:"p-8 text-center border-dashed border-2 bg-slate-50/50",children:u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[u.jsx("div",{className:"p-3 bg-slate-100 rounded-full",children:u.jsx(fl,{className:"h-6 w-6 text-slate-400"})}),u.jsx("h3",{className:"text-lg font-medium text-slate-700",children:"Detailed Analytics Coming Soon"}),u.jsx("p",{className:"text-slate-500 max-w-md",children:"Deep dive charts for user retention, agency churn, and geographic distribution will be available in the next update."})]})})]})},PartnerNetworkPage=()=>{const[e,s]=re.useState(""),[a,l]=re.useState("all"),[c,p]=re.useState(!1),[m,h]=re.useState(!1),[f,g]=re.useState(null),[b,j]=re.useState({name:"",category:"other",description:"",contactPerson:"",email:"",phone:"",website:"",status:"active",isVerified:!1}),N=At.useContext(),{data:k,isLoading:_}=At.partners.list.useQuery({search:e,category:"all"!==a?a:void 0}),T=At.partners.create.useMutation({onSuccess:()=>{Gr.success("Partner added successfully"),p(!1),resetForm(),N.partners.list.invalidate()},onError:e=>Gr.error(e.message)}),E=At.partners.update.useMutation({onSuccess:()=>{Gr.success("Partner updated successfully"),h(!1),g(null),resetForm(),N.partners.list.invalidate()},onError:e=>Gr.error(e.message)}),A=At.partners.delete.useMutation({onSuccess:()=>{Gr.success("Partner deleted successfully"),N.partners.list.invalidate()},onError:e=>Gr.error(e.message)}),resetForm=()=>{j({name:"",category:"other",description:"",contactPerson:"",email:"",phone:"",website:"",status:"active",isVerified:!1})},handleSubmit=(e,s)=>{e.preventDefault();const a={...b,category:b.category,status:b.status};s&&f?E.mutate({id:f.id,data:a}):T.mutate(a)},L=[{value:"mortgage_broker",label:"Mortgage Broker"},{value:"lawyer",label:"Lawyer / Conveyancer"},{value:"photographer",label:"Photographer"},{value:"inspector",label:"Home Inspector"},{value:"mover",label:"Moving Company"},{value:"other",label:"Other"}];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[u.jsx(Oi,{className:"h-8 w-8 text-primary"}),"Partner Network"]}),u.jsx("p",{className:"text-slate-500",children:"Manage service providers and strategic partners."})]}),u.jsxs(Button$1,{onClick:()=>p(!0),className:"bg-primary hover:bg-primary/90",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Partner"]})]}),u.jsxs(GlassCard,{className:"p-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx(Input,{placeholder:"Search partners...",value:e,onChange:e=>s(e.target.value),className:"pl-9"})]}),u.jsxs(Select$1,{value:a,onValueChange:l,children:[u.jsx(SelectTrigger,{className:"w-[200px]",children:u.jsx(SelectValue,{placeholder:"Filter Category"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Categories"}),L.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))]})]})]}),_?u.jsx("div",{className:"py-12 text-center text-slate-500",children:"Loading partners..."}):0===k?.partners.length?u.jsx("div",{className:"py-12 text-center text-slate-500",children:"No partners found."}):u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Partner Name"}),u.jsx(TableHead,{children:"Category"}),u.jsx(TableHead,{children:"Contact Info"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Actions"})]})}),u.jsx(TableBody,{children:k?.partners.map(e=>u.jsxs(TableRow,{children:[u.jsx(TableCell,{className:"font-medium",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{children:e.name}),e.isVerified?u.jsx(Badge,{variant:"secondary",className:"w-fit text-[10px] mt-1 bg-blue-100 text-blue-700 hover:bg-blue-100",children:"Verified"}):null]})}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"outline",className:"capitalize",children:e.category.replace("_"," ")})}),u.jsx(TableCell,{children:u.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-600",children:[e.email&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(oo,{className:"h-3 w-3"})," ",e.email]}),e.phone&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Eo,{className:"h-3 w-3"})," ",e.phone]}),e.website&&u.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:underline",children:[u.jsx(Ai,{className:"h-3 w-3"})," Website ",u.jsx(mi,{className:"h-2 w-2"})]})]})}),u.jsx(TableCell,{children:u.jsx(Badge,{className:"active"===e.status?"bg-green-100 text-green-700 hover:bg-green-100":"pending"===e.status?"bg-yellow-100 text-yellow-700 hover:bg-yellow-100":"bg-slate-100 text-slate-700 hover:bg-slate-100",children:e.status})}),u.jsx(TableCell,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>(e=>{g(e),j({name:e.name,category:e.category,description:e.description||"",contactPerson:e.contactPerson||"",email:e.email||"",phone:e.phone||"",website:e.website||"",status:e.status,isVerified:Boolean(e.isVerified)}),h(!0)})(e),children:u.jsx(To,{className:"h-4 w-4 text-slate-500"})}),u.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{return s=e.id,void(confirm("Are you sure you want to delete this partner?")&&A.mutate({id:s}));var s},children:u.jsx(ul,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]})]}),u.jsx(Dialog,{open:c,onOpenChange:p,children:u.jsxs(DialogContent,{className:"max-w-md",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Add New Partner"}),u.jsx(DialogDescription,{children:"Add a strategic partner to the network."})]}),u.jsxs("form",{onSubmit:e=>handleSubmit(e,!1),className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Partner Name"}),u.jsx(Input,{required:!0,value:b.name,onChange:e=>j({...b,name:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Category"}),u.jsxs(Select$1,{value:b.category,onValueChange:e=>j({...b,category:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsx(SelectContent,{children:L.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Email"}),u.jsx(Input,{type:"email",value:b.email,onChange:e=>j({...b,email:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Phone"}),u.jsx(Input,{value:b.phone,onChange:e=>j({...b,phone:e.target.value})})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Website"}),u.jsx(Input,{type:"url",value:b.website,onChange:e=>j({...b,website:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Description"}),u.jsx(Textarea,{value:b.description,onChange:e=>j({...b,description:e.target.value})})]}),u.jsx(DialogFooter,{children:u.jsx(Button$1,{type:"submit",disabled:T.isLoading,children:T.isLoading?"Creating...":"Create Partner"})})]})]})}),u.jsx(Dialog,{open:m,onOpenChange:h,children:u.jsxs(DialogContent,{className:"max-w-md",children:[u.jsx(DialogHeader,{children:u.jsx(DialogTitle,{children:"Edit Partner"})}),u.jsxs("form",{onSubmit:e=>handleSubmit(e,!0),className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Partner Name"}),u.jsx(Input,{required:!0,value:b.name,onChange:e=>j({...b,name:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Category"}),u.jsxs(Select$1,{value:b.category,onValueChange:e=>j({...b,category:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsx(SelectContent,{children:L.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Email"}),u.jsx(Input,{type:"email",value:b.email,onChange:e=>j({...b,email:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Phone"}),u.jsx(Input,{value:b.phone,onChange:e=>j({...b,phone:e.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{children:"Status"}),u.jsxs(Select$1,{value:b.status,onValueChange:e=>j({...b,status:e}),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"active",children:"Active"}),u.jsx(SelectItem,{value:"inactive",children:"Inactive"}),u.jsx(SelectItem,{value:"pending",children:"Pending"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[u.jsx("input",{type:"checkbox",id:"verified",className:"rounded border-gray-300",checked:b.isVerified,onChange:e=>j({...b,isVerified:e.target.checked})}),u.jsx(Label$1,{htmlFor:"verified",children:"Verified Partner"})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Website"}),u.jsx(Input,{type:"url",value:b.website,onChange:e=>j({...b,website:e.target.value})})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Description"}),u.jsx(Textarea,{value:b.description,onChange:e=>j({...b,description:e.target.value})})]}),u.jsx(DialogFooter,{children:u.jsx(Button$1,{type:"submit",disabled:E.isLoading,children:E.isLoading?"Saving...":"Save Changes"})})]})]})})]})},pU=create()(persist((e,s)=>({context:null,setOperatingAs:s=>{console.log("[PublisherContext] Operating as:",s.brandProfileName),e({context:s})},clearContext:()=>{console.log("[PublisherContext] Context cleared"),e({context:null})},isOperatingAsBrand:()=>null!==s().context}),{name:"publisher-context",version:1})),mU=re.createContext(void 0),DeveloperContextProvider=({children:e})=>{const[s,a]=re.useState(null),[l,c]=re.useState(null),{setOperatingAs:p,clearContext:m}=pU(),{data:h,isLoading:f}=At.superAdminPublisher.getBrandContext.useQuery({brandProfileId:s},{enabled:!!s,staleTime:3e5});re.useEffect(()=>{if(h){const e=h;c(e),p({mode:"seeding",brandProfileId:e.id,brandProfileName:e.brandName,brandProfileType:e.identityType||"developer",logoUrl:e.logoUrl})}else s||(c(null),m())},[h,s,p,m]);const g={selectedBrandId:s,selectedBrand:l,setSelectedBrandId:a,isContextSet:!!s,isLoading:f};return u.jsx(mU.Provider,{value:g,children:e})},useDeveloperContext=()=>{const e=re.useContext(mU);if(void 0===e)throw new Error("useDeveloperContext must be used within a DeveloperContextProvider");return e};var hU=.999,fU=/[\\\/_+.#"@\[\(\{&]/,gU=/[\\\/_+.#"@\[\(\{&]/g,xU=/[\s-]/,vU=/[\s-]/g;function G(e,s,a,l,c,u,p){if(u===s.length)return c===e.length?1:.99;var m=`${c},${u}`;if(void 0!==p[m])return p[m];for(var h,f,g,b,j=l.charAt(u),N=a.indexOf(j,c),k=0;N>=0;)(h=G(e,s,a,l,N+1,u+1,p))>k&&(N===c?h*=1:fU.test(e.charAt(N-1))?(h*=.8,(g=e.slice(c,N-1).match(gU))&&c>0&&(h*=Math.pow(hU,g.length))):xU.test(e.charAt(N-1))?(h*=.9,(b=e.slice(c,N-1).match(vU))&&c>0&&(h*=Math.pow(hU,b.length))):(h*=.17,c>0&&(h*=Math.pow(hU,N-c))),e.charAt(N)!==s.charAt(u)&&(h*=.9999)),(h<.1&&a.charAt(N-1)===l.charAt(u+1)||l.charAt(u+1)===l.charAt(u)&&a.charAt(N-1)!==l.charAt(u))&&(.1*(f=G(e,s,a,l,N+1,u+2,p))>h&&(h=.1*f)),h>k&&(k=h),N=a.indexOf(j,N+1);return p[m]=k,k}function D(e){return e.toLowerCase().replace(vU," ")}function W(e,s,a){return G(e=a&&a.length>0?""+(e+" "+a.join(" ")):e,s,D(e),D(s),0,0,{})}var yU='[cmdk-group=""]',bU='[cmdk-group-items=""]',jU='[cmdk-item=""]',wU=`${jU}:not([aria-disabled="true"])`,NU="cmdk-item-select",SU="data-value",Re=(e,s,a)=>W(e,s,a),CU=re.createContext(void 0),K=()=>re.useContext(CU),kU=re.createContext(void 0),ee=()=>re.useContext(kU),_U=re.createContext(void 0),PU=re.forwardRef((e,s)=>{let a=L$1(()=>{var s,a;return{search:"",value:null!=(a=null!=(s=e.value)?s:e.defaultValue)?a:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=L$1(()=>new Set),c=L$1(()=>new Map),u=L$1(()=>new Map),p=L$1(()=>new Set),m=pe(e),{label:h,children:f,value:g,onValueChange:b,filter:j,shouldFilter:N,loop:k,disablePointerSelection:_=!1,vimBindings:T=!0,...E}=e,A=useId(),L=useId(),O=useId(),I=re.useRef(null),$=ke();RU(()=>{if(void 0!==g){let e=g.trim();a.current.value=e,z.emit()}},[g]),RU(()=>{$(6,ne)},[]);let z=re.useMemo(()=>({subscribe:e=>(p.current.add(e),()=>p.current.delete(e)),snapshot:()=>a.current,setState:(e,s,l)=>{var c,u,p,h;if(!Object.is(a.current[e],s)){if(a.current[e]=s,"search"===e)J2(),z2(),$(1,W2);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(O);e?e.focus():null==(c=document.getElementById(A))||c.focus()}if($(7,()=>{var e;a.current.selectedItemId=null==(e=M2())?void 0:e.id,z.emit()}),l||$(5,ne),void 0!==(null==(u=m.current)?void 0:u.value)){let e=null!=s?s:"";return void(null==(h=(p=m.current).onValueChange)||h.call(p,e))}}z.emit()}},emit:()=>{p.current.forEach(e=>e())}}),[]),U=re.useMemo(()=>({value:(e,s,l)=>{var c;s!==(null==(c=u.current.get(e))?void 0:c.value)&&(u.current.set(e,{value:s,keywords:l}),a.current.filtered.items.set(e,te(s,l)),$(2,()=>{z2(),z.emit()}))},item:(e,s)=>(l.current.add(e),s&&(c.current.has(s)?c.current.get(s).add(e):c.current.set(s,new Set([e]))),$(3,()=>{J2(),z2(),a.current.value||W2(),z.emit()}),()=>{u.current.delete(e),l.current.delete(e),a.current.filtered.items.delete(e);let s=M2();$(4,()=>{J2(),(null==s?void 0:s.getAttribute("id"))===e&&W2(),z.emit()})}),group:e=>(c.current.has(e)||c.current.set(e,new Set),()=>{u.current.delete(e),c.current.delete(e)}),filter:()=>m.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:A,inputId:O,labelId:L,listInnerRef:I}),[]);function te(e,s){var l,c;let u=null!=(c=null==(l=m.current)?void 0:l.filter)?c:Re;return e?u(e,a.current.search,s):0}function z2(){if(!a.current.search||!1===m.current.shouldFilter)return;let e=a.current.filtered.items,s=[];a.current.filtered.groups.forEach(a=>{let l=c.current.get(a),u=0;l.forEach(s=>{let a=e.get(s);u=Math.max(a,u)}),s.push([a,u])});let l=I.current;V().sort((s,a)=>{var l,c;let u=s.getAttribute("id"),p=a.getAttribute("id");return(null!=(l=e.get(p))?l:0)-(null!=(c=e.get(u))?c:0)}).forEach(e=>{let s=e.closest(bU);s?s.appendChild(e.parentElement===s?e:e.closest(`${bU} > *`)):l.appendChild(e.parentElement===l?e:e.closest(`${bU} > *`))}),s.sort((e,s)=>s[1]-e[1]).forEach(e=>{var s;let a=null==(s=I.current)?void 0:s.querySelector(`${yU}[${SU}="${encodeURIComponent(e[0])}"]`);null==a||a.parentElement.appendChild(a)})}function W2(){let e=V().find(e=>"true"!==e.getAttribute("aria-disabled")),s=null==e?void 0:e.getAttribute(SU);z.setState("value",s||void 0)}function J2(){var e,s,p,h;if(!a.current.search||!1===m.current.shouldFilter)return void(a.current.filtered.count=l.current.size);a.current.filtered.groups=new Set;let f=0;for(let c of l.current){let l=te(null!=(s=null==(e=u.current.get(c))?void 0:e.value)?s:"",null!=(h=null==(p=u.current.get(c))?void 0:p.keywords)?h:[]);a.current.filtered.items.set(c,l),l>0&&f++}for(let[l,u]of c.current)for(let e of u)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(l);break}a.current.filtered.count=f}function ne(){var e,s,a;let l=M2();l&&((null==(e=l.parentElement)?void 0:e.firstChild)===l&&(null==(a=null==(s=l.closest(yU))?void 0:s.querySelector('[cmdk-group-heading=""]'))||a.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function M2(){var e;return null==(e=I.current)?void 0:e.querySelector(`${jU}[aria-selected="true"]`)}function V(){var e;return Array.from((null==(e=I.current)?void 0:e.querySelectorAll(wU))||[])}function X2(e){let s=V()[e];s&&z.setState("value",s.getAttribute(SU))}function Q(e){var s;let a=M2(),l=V(),c=l.findIndex(e=>e===a),u=l[c+e];null!=(s=m.current)&&s.loop&&(u=c+e<0?l[l.length-1]:c+e===l.length?l[0]:l[c+e]),u&&z.setState("value",u.getAttribute(SU))}function re2(e){let s,a=M2(),l=null==a?void 0:a.closest(yU);for(;l&&!s;)l=e>0?we(l,yU):De(l,yU),s=null==l?void 0:l.querySelector(wU);s?z.setState("value",s.getAttribute(SU)):Q(e)}let oe=()=>X2(V().length-1),ie=e=>{e.preventDefault(),e.metaKey?oe():e.altKey?re2(1):Q(1)},se=e=>{e.preventDefault(),e.metaKey?X2(0):e.altKey?re2(-1):Q(-1)};return re.createElement(tn.div,{ref:s,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:e=>{var s;null==(s=E.onKeyDown)||s.call(E,e);let a=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!a)switch(e.key){case"n":case"j":T&&e.ctrlKey&&ie(e);break;case"ArrowDown":ie(e);break;case"p":case"k":T&&e.ctrlKey&&se(e);break;case"ArrowUp":se(e);break;case"Home":e.preventDefault(),X2(0);break;case"End":e.preventDefault(),oe();break;case"Enter":{e.preventDefault();let s=M2();if(s){let e=new Event(NU);s.dispatchEvent(e)}}}}},re.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:FU},h),B(e,e=>re.createElement(kU.Provider,{value:z},re.createElement(CU.Provider,{value:U},e))))}),TU=re.forwardRef((e,s)=>{var a,l;let c=useId(),u=re.useRef(null),p=re.useContext(_U),m=K(),h=pe(e),f=null!=(l=null==(a=h.current)?void 0:a.forceMount)?l:null==p?void 0:p.forceMount;RU(()=>{if(!f)return m.item(c,null==p?void 0:p.id)},[f]);let g=ve(c,u,[e.value,e.children,u],e.keywords),b=ee(),j=P(e=>e.value&&e.value===g.current),N=P(e=>!(!f&&!1!==m.filter())||(!e.search||e.filtered.items.get(c)>0));function C(){var e,s;S(),null==(s=(e=h.current).onSelect)||s.call(e,g.current)}function S(){b.setState("value",g.current,!0)}if(re.useEffect(()=>{let s=u.current;if(s&&!e.disabled)return s.addEventListener(NU,C),()=>s.removeEventListener(NU,C)},[N,e.onSelect,e.disabled]),!N)return null;let{disabled:k,value:_,onSelect:T,forceMount:E,keywords:A,...L}=e;return re.createElement(tn.div,{ref:composeRefs$1(u,s),...L,id:c,"cmdk-item":"",role:"option","aria-disabled":!!k,"aria-selected":!!j,"data-disabled":!!k,"data-selected":!!j,onPointerMove:k||m.getDisablePointerSelection()?void 0:S,onClick:k?void 0:C},e.children)}),EU=re.forwardRef((e,s)=>{let{heading:a,children:l,forceMount:c,...u}=e,p=useId(),m=re.useRef(null),h=re.useRef(null),f=useId(),g=K(),b=P(e=>!(!c&&!1!==g.filter())||(!e.search||e.filtered.groups.has(p)));RU(()=>g.group(p),[]),ve(p,m,[e.value,e.heading,h]);let j=re.useMemo(()=>({id:p,forceMount:c}),[c]);return re.createElement(tn.div,{ref:composeRefs$1(m,s),...u,"cmdk-group":"",role:"presentation",hidden:!b||void 0},a&&re.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},a),B(e,e=>re.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?f:void 0},re.createElement(_U.Provider,{value:j},e))))}),AU=re.forwardRef((e,s)=>{let{alwaysRender:a,...l}=e,c=re.useRef(null),u=P(e=>!e.search);return a||u?re.createElement(tn.div,{ref:composeRefs$1(c,s),...l,"cmdk-separator":"",role:"separator"}):null}),MU=re.forwardRef((e,s)=>{let{onValueChange:a,...l}=e,c=null!=e.value,u=ee(),p=P(e=>e.search),m=P(e=>e.selectedItemId),h=K();return re.useEffect(()=>{null!=e.value&&u.setState("search",e.value)},[e.value]),re.createElement(tn.input,{ref:s,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":m,id:h.inputId,type:"text",value:c?e.value:p,onChange:e=>{c||u.setState("search",e.target.value),null==a||a(e.target.value)}})}),LU=re.forwardRef((e,s)=>{let{children:a,label:l="Suggestions",...c}=e,u=re.useRef(null),p=re.useRef(null),m=P(e=>e.selectedItemId),h=K();return re.useEffect(()=>{if(p.current&&u.current){let e,s=p.current,a=u.current,l=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=s.offsetHeight;a.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return l.observe(s),()=>{cancelAnimationFrame(e),l.unobserve(s)}}},[]),re.createElement(tn.div,{ref:composeRefs$1(u,s),...c,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":l,id:h.listId},B(e,e=>re.createElement("div",{ref:composeRefs$1(p,h.listInnerRef),"cmdk-list-sizer":""},e)))}),DU=re.forwardRef((e,s)=>{let{open:a,onOpenChange:l,overlayClassName:c,contentClassName:u,container:p,...m}=e;return re.createElement(sm,{open:a,onOpenChange:l},re.createElement(im,{container:p},re.createElement(om,{"cmdk-overlay":"",className:c}),re.createElement(lm,{"aria-label":e.label,"cmdk-dialog":"",className:u},re.createElement(PU,{ref:s,...m}))))}),OU=re.forwardRef((e,s)=>P(e=>0===e.filtered.count)?re.createElement(tn.div,{ref:s,...e,"cmdk-empty":"",role:"presentation"}):null),IU=re.forwardRef((e,s)=>{let{progress:a,children:l,label:c="Loading...",...u}=e;return re.createElement(tn.div,{ref:s,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":c},B(e,e=>re.createElement("div",{"aria-hidden":!0},e)))}),$U=Object.assign(PU,{List:LU,Item:TU,Input:MU,Group:EU,Separator:AU,Dialog:DU,Empty:OU,Loading:IU});function we(e,s){let a=e.nextElementSibling;for(;a;){if(a.matches(s))return a;a=a.nextElementSibling}}function De(e,s){let a=e.previousElementSibling;for(;a;){if(a.matches(s))return a;a=a.previousElementSibling}}function pe(e){let s=re.useRef(e);return RU(()=>{s.current=e}),s}var RU="undefined"==typeof window?re.useEffect:re.useLayoutEffect;function L$1(e){let s=re.useRef();return void 0===s.current&&(s.current=e()),s}function P(e){let s=ee(),n2=()=>e(s.snapshot());return re.useSyncExternalStore(s.subscribe,n2,n2)}function ve(e,s,a,l=[]){let c=re.useRef(),u=K();return RU(()=>{var p;let m=(()=>{var e;for(let s of a){if("string"==typeof s)return s.trim();if("object"==typeof s&&"current"in s)return s.current?null==(e=s.current.textContent)?void 0:e.trim():c.current}})(),h=l.map(e=>e.trim());u.value(e,m,h),null==(p=s.current)||p.setAttribute(SU,m),c.current=m}),c}var ke=()=>{let[e,s]=re.useState(),a=L$1(()=>new Map);return RU(()=>{a.current.forEach(e=>e()),a.current=new Map},[e]),(e,l)=>{a.current.set(e,l),s({})}};function B({asChild:e,children:s},a){return e&&re.isValidElement(s)?re.cloneElement(function Me(e){let s=e.type;return"function"==typeof s?s(e.props):"render"in s?s.render(e.props):e}(s),{ref:s.ref},a(s.props.children)):a(s)}var FU={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Command({className:e,...s}){return u.jsx($U,{"data-slot":"command",className:cn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...s})}function CommandInput({className:e,...s}){return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(Vo,{className:"size-4 shrink-0 opacity-50"}),u.jsx($U.Input,{"data-slot":"command-input",className:cn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...s})]})}function CommandList({className:e,...s}){return u.jsx($U.List,{"data-slot":"command-list",className:cn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...s})}function CommandEmpty({...e}){return u.jsx($U.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function CommandGroup({className:e,...s}){return u.jsx($U.Group,{"data-slot":"command-group",className:cn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...s})}function CommandItem({className:e,...s}){return u.jsx($U.Item,{"data-slot":"command-item",className:cn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}const BU=["image/svg+xml","image/png","image/jpeg","image/gif"],zU=re.forwardRef(({value:e,onChange:s,onUploadProgress:a,error:l,uploading:c=!1,uploadProgress:p=0,maxSizeMB:m=2,acceptedTypes:h=BU,className:f},g)=>{const[b,j]=re.useState(!1),[N,k]=re.useState(e||null),[_,T]=re.useState(null),E=re.useRef(null),A=l||_;re.useEffect(()=>{k(e||null)},[e]);const handleFile=e=>{T(null);const a=(e=>h.includes(e.type)?e.size/1048576>m?`File size exceeds ${m}MB limit`:null:`Invalid file type. Accepted types: ${h.map(e=>e.split("/")[1].toUpperCase()).join(", ")}`)(e);if(a)return void T(a);const l=new FileReader;l.onloadend=()=>{k(l.result)},l.readAsDataURL(e),s?.(e)};return u.jsxs("div",{ref:g,className:cn("space-y-2",f),children:[u.jsxs("div",{onClick:()=>{E.current?.click()},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),j(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),j(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),j(!1);const s=e.dataTransfer.files;s&&s.length>0&&handleFile(s[0])},className:cn("relative flex flex-col items-center justify-center","min-h-[200px] p-6 rounded-xl","border-2 border-dashed","transition-all duration-300 ease-in-out","cursor-pointer",!b&&!A&&["border-gray-300 bg-gray-50","hover:border-blue-400 hover:bg-blue-50/50"],b&&["border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50","scale-[1.02]"],A&&["border-red-300 bg-red-50/50","hover:border-red-400"],c&&"pointer-events-none opacity-75"),role:"button",tabIndex:0,"aria-label":"Upload logo",children:[u.jsx("input",{ref:E,type:"file",accept:h.join(","),onChange:e=>{const s=e.target.files;s&&s.length>0&&handleFile(s[0])},className:"hidden","aria-label":"File input"}),N?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:cn("w-32 h-32 rounded-full overflow-hidden","border-4 border-white shadow-lg","bg-gradient-to-br from-blue-100 to-indigo-100"),children:u.jsx("img",{src:N,alt:"Logo preview",className:"w-full h-full object-contain p-2"})}),!c&&u.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),k(null),T(null),s?.(null),E.current&&(E.current.value="")},className:cn("absolute -top-2 -right-2","flex items-center justify-center","w-8 h-8 rounded-full","bg-red-500 text-white","hover:bg-red-600","transition-colors duration-200","shadow-md hover:shadow-lg","focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"),"aria-label":"Remove logo",children:u.jsx(Il,{className:"w-4 h-4"})})]}):u.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[u.jsx("div",{className:cn("flex items-center justify-center","w-16 h-16 rounded-full","bg-gradient-to-br from-blue-500 to-indigo-600","transition-transform duration-300",b&&"scale-110"),children:c?u.jsx(zi,{className:"w-8 h-8 text-white animate-pulse"}):u.jsx(yl,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:b?"Drop your logo here":"Upload company logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Drag & drop or click to browse"}),u.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[h.map(e=>e.split("/")[1].toUpperCase()).join(", "),"  Max"," ",m,"MB"]})]})]}),c&&p>0&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-gray-200 rounded-b-xl overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300",style:{width:`${p}%`},role:"progressbar","aria-valuenow":p,"aria-valuemin":0,"aria-valuemax":100})})]}),A&&u.jsxs("div",{className:cn("flex items-start gap-2 p-3 rounded-lg","bg-red-50 border border-red-200","text-sm text-red-700","animate-in fade-in slide-in-from-top-2"),role:"alert",children:[u.jsx("span",{className:"font-medium",children:"Error:"}),u.jsx("span",{children:A})]})]})});zU.displayName="LogoUploadZone";const VU=cN({brandName:Gw().min(2,"Brand name must be at least 2 characters"),brandTier:jN(["national","regional","boutique"]),identityType:jN(["developer","marketing_agency","hybrid"]).default("developer"),logoUrl:Gw().url("Must be a valid URL").optional().or(bN("")),description:Gw().optional(),category:Gw().optional(),establishedYear:Gw().optional(),website:Gw().url("Invalid URL").optional().or(bN("")),email:Gw().email("Invalid email").optional().or(bN("")),phone:Gw().optional(),address:Gw().optional(),city:Gw().optional(),province:Gw().optional(),operatingProvinces:lN(Gw()).default([]),completedProjects:Gw().optional(),currentProjects:Gw().optional(),upcomingProjects:Gw().optional(),specializations:lN(Gw()).default([])}),UU=["Residential","Commercial","Mixed-Use","Luxury","Affordable Housing","Sustainable","Renovation","Industrial"];function CreateBrandProfileDialog({open:e,setOpen:s,onSuccess:a}){const{setSelectedBrandId:l}=useDeveloperContext(),c=At.useUtils(),[p,m]=re.useState("identity"),[h,f]=re.useState(!1),[g,b]=re.useState(0),j=useForm({resolver:t(VU),defaultValues:{brandName:"",brandTier:"regional",identityType:"developer",logoUrl:"",description:"",category:"",establishedYear:"",website:"",email:"",phone:"",address:"",city:"",province:"",operatingProvinces:[],completedProjects:"0",currentProjects:"0",upcomingProjects:"0",specializations:[]}});ae.useEffect(()=>{try{const e=localStorage.getItem("brandProfileDraft");if(e){const s=JSON.parse(e);s&&"object"==typeof s&&(j.reset({...j.getValues(),...s}),Gr.info("Restored saved draft"))}}catch(e){console.error("Failed to load draft",e)}},[]),ae.useEffect(()=>{const e=j.watch(e=>{localStorage.setItem("brandProfileDraft",JSON.stringify(e))});return()=>e.unsubscribe()},[j.watch]);const N=At.superAdminPublisher.createBrandProfile.useMutation({onSuccess:e=>{Gr.success("Developer brand profile created successfully"),c.superAdminPublisher.listBrandProfiles.invalidate(),localStorage.removeItem("brandProfileDraft"),l(e.id),j.reset(),s(!1),m("identity"),a&&a(e.id)},onError:e=>{Gr.error(e.message||"Failed to create brand profile")}}),k=At.upload.presign.useMutation(),handleLogoUpload=async e=>{try{f(!0),b(10);const{url:s,publicUrl:a}=await k.mutateAsync({filename:e.name,contentType:e.type});b(40);if(!(await fetch(s,{method:"PUT",body:e,headers:{"Content-Type":e.type}})).ok)throw new Error("Failed to upload image to storage");b(100),j.setValue("logoUrl",a,{shouldValidate:!0}),Gr.success("Logo uploaded successfully")}catch(s){console.error("Logo upload error:",s),Gr.error("Failed to upload logo. Please try again.")}finally{f(!1),b(0)}};return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),"Create Developer Brand"]}),u.jsx(DialogDescription,{children:"Create a new platform-owned developer profile for publishing."})]}),u.jsx(Form,{...j,children:u.jsxs("form",{onSubmit:j.handleSubmit(e=>{N.mutate({brandName:e.brandName,brandTier:e.brandTier,identityType:e.identityType,logoUrl:e.logoUrl||void 0,description:e.description||void 0,category:e.category||void 0,establishedYear:e.establishedYear?parseInt(e.establishedYear):void 0,website:e.website||void 0,email:e.email||void 0,phone:e.phone||void 0,address:e.address||void 0,city:e.city||void 0,province:e.province||void 0,completedProjects:parseInt(e.completedProjects||"0"),currentProjects:parseInt(e.currentProjects||"0"),upcomingProjects:parseInt(e.upcomingProjects||"0"),specializations:e.specializations,operatingProvinces:e.operatingProvinces?.length>0?e.operatingProvinces:e.province?[e.province]:[]})}),className:"space-y-6",children:[u.jsxs(ef,{value:p,onValueChange:m,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-3",children:[u.jsxs(rf,{value:"identity",className:"flex items-center gap-2",children:[u.jsx(ka,{className:"w-4 h-4"})," Identity"]}),u.jsxs(rf,{value:"contact",className:"flex items-center gap-2",children:[u.jsx(Eo,{className:"w-4 h-4"})," Contact"]}),u.jsxs(rf,{value:"portfolio",className:"flex items-center gap-2",children:[u.jsx(Ca,{className:"w-4 h-4"})," Portfolio"]})]}),u.jsxs(nf,{value:"identity",className:"space-y-4 pt-4",children:[u.jsx(FormField,{control:j.control,name:"identityType",render:({field:e})=>u.jsxs(FormItem,{className:"space-y-3 p-4 border border-blue-100 rounded-lg bg-blue-50/30",children:[u.jsx(FormLabel,{className:"text-base font-semibold text-blue-900",children:"Publishing As"}),u.jsx(FormControl,{children:u.jsxs(RadioGroup,{onValueChange:e.onChange,defaultValue:e.value,className:"grid grid-cols-2 gap-4",children:[u.jsxs(FormItem,{className:"flex items-center space-x-3 space-y-0 rounded-md border border-blue-200 bg-white p-3 hover:bg-blue-50 cursor-pointer transition-colors shadow-sm [&:has([data-state=checked])]:border-blue-500 [&:has([data-state=checked])]:bg-blue-50",children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"developer"})}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(FormLabel,{className:"font-semibold text-blue-900 cursor-pointer",children:"Property Developer"}),u.jsx(FormDescription,{className:"text-xs text-slate-500",children:"Creating and listing my own developments"})]})]}),u.jsxs(FormItem,{className:"flex items-center space-x-3 space-y-0 rounded-md border border-blue-200 bg-white p-3 hover:bg-blue-50 cursor-pointer transition-colors shadow-sm [&:has([data-state=checked])]:border-blue-500 [&:has([data-state=checked])]:bg-blue-50",children:[u.jsx(FormControl,{children:u.jsx(RadioGroupItem,{value:"marketing_agency"})}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(FormLabel,{className:"font-semibold text-blue-900 cursor-pointer",children:"Marketing Agency"}),u.jsx(FormDescription,{className:"text-xs text-slate-500",children:"Listing on behalf of other developers"})]})]})]})}),u.jsx(FormMessage,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"brandName",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Brand Name *"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"e.g. Waterfall Estate",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"brandTier",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Tier"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select tier"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"national",children:"National (High)"}),u.jsx(SelectItem,{value:"regional",children:"Regional (Medium)"}),u.jsx(SelectItem,{value:"boutique",children:"Boutique (Specialized)"})]})]}),u.jsx(FormMessage,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"category",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Primary Category"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select category"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"residential",children:"Residential"}),u.jsx(SelectItem,{value:"commercial",children:"Commercial"}),u.jsx(SelectItem,{value:"mixed_use",children:"Mixed-Use"}),u.jsx(SelectItem,{value:"industrial",children:"Industrial"})]})]}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"establishedYear",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Established Year"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"number",placeholder:"YYYY",...e})}),u.jsx(FormMessage,{})]})})]}),u.jsx(FormField,{control:j.control,name:"website",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Website"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"https://...",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"description",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Description"}),u.jsx(FormControl,{children:u.jsx(Textarea,{placeholder:"Brief description of the developer...",className:"resize-none",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"logoUrl",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Logo"}),u.jsx(FormControl,{children:u.jsx(zU,{value:e.value,onChange:handleLogoUpload,uploading:h,uploadProgress:g,error:j.formState.errors.logoUrl?.message})}),u.jsx(FormMessage,{})]})})]}),u.jsxs(nf,{value:"contact",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"email",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Public Email"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"email",placeholder:"contact@brand.com",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"phone",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Phone"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"+27...",...e})}),u.jsx(FormMessage,{})]})})]}),u.jsx(FormField,{control:j.control,name:"address",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Address"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"Street Address",...e})}),u.jsx(FormMessage,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"city",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"City"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"Cape Town",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"province",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Province"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select province"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"Western Cape",children:"Western Cape"}),u.jsx(SelectItem,{value:"Gauteng",children:"Gauteng"}),u.jsx(SelectItem,{value:"KwaZulu-Natal",children:"KwaZulu-Natal"}),u.jsx(SelectItem,{value:"Eastern Cape",children:"Eastern Cape"})]})]}),u.jsx(FormMessage,{})]})})]})]}),u.jsxs(nf,{value:"portfolio",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(FormField,{control:j.control,name:"completedProjects",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Completed"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"number",min:"0",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"currentProjects",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Current"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"number",min:"0",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"upcomingProjects",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Upcoming"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"number",min:"0",...e})}),u.jsx(FormMessage,{})]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(FormLabel,{children:"Specializations"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:UU.map(e=>u.jsx(FormField,{control:j.control,name:"specializations",render:({field:s})=>u.jsxs("div",{className:"flex flex-row items-center space-x-2 space-y-0",children:[u.jsx(Checkbox,{checked:s.value?.includes(e),onCheckedChange:a=>a?s.onChange([...s.value,e]):s.onChange(s.value?.filter(s=>s!==e))}),u.jsx("label",{className:"text-sm font-normal cursor-pointer",children:e})]})},e))})]})]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),u.jsx(Button$1,{type:"submit",disabled:N.isPending,children:N.isPending?"Creating...":"Create Brand Profile"})]})]})})]})})}const DeveloperContextSelector=()=>{const{selectedBrand:e,setSelectedBrandId:s,isLoading:a}=useDeveloperContext(),[l,c]=re.useState(!1),[p,m]=re.useState(!1),[h,f]=re.useState(""),{data:g,isLoading:b}=At.superAdminPublisher.listBrandProfiles.useQuery({search:h,limit:20},{keepPreviousData:!0});return u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:"text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Operating As Developer"}),u.jsxs(Popover,{open:l,onOpenChange:c,children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full sm:w-[350px] justify-between h-14 px-3 border-2 border-blue-200 bg-white hover:bg-blue-50 hover:border-blue-300 text-blue-900",children:[e?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Avatar,{className:"h-8 w-8 rounded-md border border-blue-100 bg-white",children:[u.jsx(AvatarImage,{src:e.logoUrl||"",alt:e.brandName,className:"object-cover"}),u.jsx(AvatarFallback,{className:"rounded-md bg-blue-100 text-blue-700",children:e.brandName.substring(0,2).toUpperCase()})]}),u.jsxs("div",{className:"flex flex-col items-start truncate text-left",children:[u.jsx("span",{className:"font-bold text-sm truncate w-[200px] text-blue-900",children:e.brandName}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-blue-600 capitalize font-medium",children:e.brandTier}),void 0!==e.totalLeadsReceived&&u.jsxs(Badge,{variant:"secondary",className:"h-4 px-1 text-[10px] bg-blue-100 text-blue-700 hover:bg-blue-200",children:[e.totalLeadsReceived," leads"]})]})]})]}):u.jsxs("div",{className:"flex items-center gap-3 text-blue-500",children:[u.jsx("div",{className:"h-8 w-8 rounded-md border border-dashed border-blue-200 flex items-center justify-center bg-blue-50",children:u.jsx(ka,{className:"h-4 w-4 text-blue-400"})}),u.jsx("span",{className:"text-sm font-medium",children:"Select a developer brand..."})]}),u.jsx(za,{className:"ml-2 h-4 w-4 shrink-0 opacity-50 text-blue-400"})]})}),u.jsx(PopoverContent,{className:"w-[350px] p-0 border-blue-100 shadow-md",align:"start",children:u.jsxs(Command,{shouldFilter:!1,className:"border-blue-100",children:[u.jsxs("div",{className:"flex items-center border-b border-blue-50 px-3","cmdk-input-wrapper":"",children:[u.jsx(Vo,{className:"mr-2 h-4 w-4 shrink-0 opacity-50 text-blue-400"}),u.jsx("input",{className:"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-blue-300 text-blue-900 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Search developer brands...",value:h,onChange:e=>f(e.target.value)})]}),u.jsx(CommandEmpty,{className:"py-6 text-center text-sm text-blue-400",children:"No brand found."}),u.jsxs(CommandList,{children:[u.jsxs("div",{className:"p-1 border-b border-blue-50",children:[u.jsxs(CommandItem,{onSelect:()=>m(!0),className:"flex items-center gap-2 cursor-pointer py-3 justify-center text-blue-600 hover:bg-blue-50 hover:text-blue-800 font-medium transition-colors",children:[u.jsx(ka,{className:"h-4 w-4"}),u.jsx("span",{children:"Create New Brand Profile"})]}),u.jsx(CreateBrandProfileDialog,{open:p,setOpen:m,onSuccess:()=>{c(!1)}})]}),u.jsx(CommandGroup,{heading:"Available Brands",className:"text-blue-400",children:g?.map(a=>u.jsxs(CommandItem,{value:a.brandName,onSelect:()=>{s(a.id),c(!1)},className:"group flex items-center gap-2 cursor-pointer py-2 aria-selected:bg-blue-600 aria-selected:text-white",children:[u.jsxs(Avatar,{className:"h-6 w-6 rounded-sm border border-blue-100 bg-white",children:[u.jsx(AvatarImage,{src:a.logoUrl,alt:a.brandName}),u.jsx(AvatarFallback,{className:"text-[10px] bg-blue-50 text-blue-600",children:a.brandName.substring(0,2)})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx("span",{className:"truncate font-semibold text-blue-900 group-aria-selected:text-white",children:a.brandName}),u.jsxs("span",{className:"text-xs text-blue-500 capitalize truncate group-aria-selected:text-blue-100",children:[a.brandTier,"  ",a.slug]})]}),u.jsx(Ia,{className:cn("mr-2 h-4 w-4 text-blue-600 group-aria-selected:text-white",e?.id===a.id?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]})},HU=["Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Free State","Limpopo","Mpumalanga","North West","Northern Cape"],getTierColor=e=>{switch(e){case"national":return"bg-purple-100 text-purple-700 border-purple-200";case"regional":return"bg-blue-100 text-blue-700 border-blue-200";case"boutique":return"bg-emerald-100 text-emerald-700 border-emerald-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},getIdentityIcon=e=>{switch(e){case"developer":return"";case"marketing_agency":return"";case"hybrid":return"";default:return""}},BrandProfileCard=({brand:e})=>{const{setSelectedBrandId:s}=useDeveloperContext();useLocation();return u.jsx(ea,{className:"group hover:shadow-lg transition-all duration-200 border-muted hover:border-primary/20 overflow-hidden",children:u.jsxs(sa,{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[e.logoUrl?u.jsx("img",{src:e.logoUrl,alt:e.brandName,className:"w-12 h-12 rounded-lg object-cover border",onError:e=>{e.target.style.display="none"}}):u.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-xl",children:getIdentityIcon(e.identityType)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold text-sm line-clamp-1 group-hover:text-primary transition-colors",children:e.brandName}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[u.jsx(lo,{className:"w-3 h-3"}),e.headOfficeLocation||"Location TBA"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx(Badge,{variant:"outline",className:`${getTierColor(e.brandTier)} text-[10px]`,children:e.brandTier||"Regional"}),e.isSubscriber?u.jsx(Badge,{className:"bg-green-100 text-green-700 border-green-200 text-[10px]",children:"Subscriber"}):u.jsx(Badge,{variant:"secondary",className:"text-[10px]",children:"Platform"})]}),u.jsx("div",{className:"flex gap-2 pt-1",children:u.jsxs(Button$1,{size:"sm",className:"flex-1 h-7 text-xs gap-1",onClick:()=>{s(e.id),window.scrollTo({top:document.body.scrollHeight/2,behavior:"smooth"})},children:[u.jsx(Cl,{className:"w-3 h-3"})," Operate As"]})})]})})},ProvinceDevDashboard=()=>{const[e,s]=re.useState("Gauteng"),{data:a,isLoading:l}=At.superAdminPublisher.listBrandProfiles.useQuery({}),c=ae.useMemo(()=>{if(!a)return{};const e={};return HU.forEach(s=>e[s]=[]),a.forEach(s=>{const a=s.operatingProvinces||[];if(0===a.length){const a=s.headOfficeLocation||"",l=HU.find(e=>a.toLowerCase().includes(e.toLowerCase()));l&&e[l].push(s)}else a.forEach(a=>{const l=HU.find(e=>e.toLowerCase()===a.toLowerCase());l&&e[l].push(s)})}),Object.keys(e).forEach(s=>{e[s].sort((e,s)=>e.brandName.localeCompare(s.brandName))}),e},[a]),p=ae.useMemo(()=>{const e={};return HU.forEach(s=>e[s]=c[s]?.length||0),e},[c]),m=a?.length||0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-primary"}),"Developer Brands by Province"]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[m," brand profiles across South Africa"]})]})}),l?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):u.jsxs(ef,{value:e,onValueChange:s,className:"w-full",children:[u.jsx(tf,{className:"flex flex-wrap h-auto gap-1 bg-muted/30 p-1.5 rounded-lg",children:HU.map(e=>u.jsxs(rf,{value:e,className:"text-xs px-3 py-1.5 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.replace("KwaZulu-Natal","KZN").replace("Western Cape","W. Cape").replace("Eastern Cape","E. Cape").replace("Northern Cape","N. Cape").replace("North West","N. West"),u.jsxs("span",{className:"ml-1.5 text-[10px] opacity-60",children:["(",p[e],")"]})]},e))}),HU.map(e=>u.jsx(nf,{value:e,className:"mt-4",children:c[e]?.length>0?u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:c[e].map(e=>u.jsx(BrandProfileCard,{brand:e},e.id))}):u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(ka,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),u.jsxs("p",{children:["No brand profiles in ",e]}),u.jsx("p",{className:"text-xs mt-1",children:"Add operating provinces to brand profiles to see them here"})]})},e))]})]})},qU=cN({brandProfileId:Yw(),brandName:Gw().min(2,"Brand name must be at least 2 characters"),brandTier:jN(["national","regional","boutique"]),logoUrl:Gw().url("Must be a valid URL").optional().or(bN("")),description:Gw().optional(),category:Gw().optional(),establishedYear:Gw().optional(),website:Gw().url("Invalid URL").optional().or(bN("")),email:Gw().email("Invalid email").optional().or(bN("")),phone:Gw().optional(),address:Gw().optional(),city:Gw().optional(),province:Gw().optional(),specializations:lN(Gw()).default([])}),WU=["Residential","Commercial","Mixed-Use","Luxury","Affordable Housing","Sustainable","Renovation","Industrial"];function EditBrandProfileDialog({open:e,setOpen:s,brandData:a,onSuccess:l}){const c=At.useUtils(),[p,m]=re.useState("identity"),[h,f]=re.useState(!1),[g,b]=re.useState(0),j=useForm({resolver:t(qU),defaultValues:{brandProfileId:a?.id,brandName:a?.brandName||"",brandTier:a?.brandTier||"regional",logoUrl:a?.logoUrl||"",description:a?.about||"",category:a?.propertyFocus?.[0]||"",establishedYear:a?.foundedYear?.toString()||"",website:a?.websiteUrl||"",email:a?.publicContactEmail||"",phone:"",address:"",city:"",province:"",specializations:a?.propertyFocus||[]}});re.useEffect(()=>{if(a){let e="",s="",l="";if(a.headOfficeLocation){const c=a.headOfficeLocation.split(",").map(e=>e.trim());c.length>=2?(s=c[c.length-1],e=c[c.length-2],c.length>2&&(l=c.slice(0,c.length-2).join(", "))):l=a.headOfficeLocation}j.reset({brandProfileId:a.id,brandName:a.brandName||"",brandTier:a.brandTier||"regional",logoUrl:a.logoUrl||"",description:a.about||"",category:a.propertyFocus?.[0]||"",establishedYear:a.foundedYear?.toString()||"",website:a.websiteUrl||"",email:a.publicContactEmail||"",phone:"",address:l,city:e,province:s,specializations:a.propertyFocus||[]})}},[a,j]);const N=At.superAdminPublisher.updateBrandProfile.useMutation({onSuccess:()=>{Gr.success("Brand profile updated successfully"),c.superAdminPublisher.getBrandContext.invalidate(),c.superAdminPublisher.listBrandProfiles.invalidate(),s(!1),l&&l()},onError:e=>{Gr.error(e.message||"Failed to update profile")}}),k=At.upload.presign.useMutation(),handleLogoUpload=async e=>{try{f(!0),b(10);const{url:s,publicUrl:a}=await k.mutateAsync({filename:e.name,contentType:e.type});b(40);if(!(await fetch(s,{method:"PUT",body:e,headers:{"Content-Type":e.type}})).ok)throw new Error("Failed to upload image to storage");b(100),j.setValue("logoUrl",a,{shouldValidate:!0}),Gr.success("Logo uploaded successfully")}catch(s){console.error("Logo upload error:",s),Gr.error("Failed to upload logo. Please try again.")}finally{f(!1),b(0)}};return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),"Edit Brand Profile"]}),u.jsx(DialogDescription,{children:"Update details for platform-owned developer profile."})]}),u.jsx(Form,{...j,children:u.jsxs("form",{onSubmit:j.handleSubmit(e=>{N.mutate({brandProfileId:e.brandProfileId,brandName:e.brandName,brandTier:e.brandTier,logoUrl:e.logoUrl||void 0,description:e.description||void 0,category:e.category||void 0,establishedYear:e.establishedYear?parseInt(e.establishedYear):void 0,website:e.website||void 0,email:e.email||void 0,phone:e.phone||void 0,address:e.address||void 0,city:e.city||void 0,province:e.province||void 0,specializations:e.specializations})}),className:"space-y-6",children:[u.jsxs(ef,{value:p,onValueChange:m,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-3",children:[u.jsxs(rf,{value:"identity",className:"flex items-center gap-2",children:[u.jsx(ka,{className:"w-4 h-4"})," Identity"]}),u.jsxs(rf,{value:"contact",className:"flex items-center gap-2",children:[u.jsx(Eo,{className:"w-4 h-4"})," Contact"]}),u.jsxs(rf,{value:"portfolio",className:"flex items-center gap-2",children:[u.jsx(Ca,{className:"w-4 h-4"})," Portfolio"]})]}),u.jsxs(nf,{value:"identity",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"brandName",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Brand Name *"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"e.g. Waterfall Estate",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"brandTier",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Tier"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select tier"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"national",children:"National (High)"}),u.jsx(SelectItem,{value:"regional",children:"Regional (Medium)"}),u.jsx(SelectItem,{value:"boutique",children:"Boutique (Specialized)"})]})]}),u.jsx(FormMessage,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"category",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Primary Category"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select category"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"residential",children:"Residential"}),u.jsx(SelectItem,{value:"commercial",children:"Commercial"}),u.jsx(SelectItem,{value:"mixed_use",children:"Mixed-Use"}),u.jsx(SelectItem,{value:"industrial",children:"Industrial"})]})]}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"establishedYear",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Established Year"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"number",placeholder:"YYYY",...e})}),u.jsx(FormMessage,{})]})})]}),u.jsx(FormField,{control:j.control,name:"website",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Website"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"https://...",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"description",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Description"}),u.jsx(FormControl,{children:u.jsx(Textarea,{placeholder:"Brief description of the developer...",className:"resize-none",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"logoUrl",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Logo"}),u.jsx(FormControl,{children:u.jsx(zU,{value:e.value,onChange:handleLogoUpload,uploading:h,uploadProgress:g,error:j.formState.errors.logoUrl?.message})}),u.jsx(FormMessage,{})]})})]}),u.jsxs(nf,{value:"contact",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"email",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Public Email"}),u.jsx(FormControl,{children:u.jsx(Input,{type:"email",placeholder:"contact@brand.com",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"phone",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Phone"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"+27...",...e})}),u.jsx(FormMessage,{})]})})]}),u.jsx(FormField,{control:j.control,name:"address",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Address"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"Street Address",...e})}),u.jsx(FormMessage,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(FormField,{control:j.control,name:"city",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"City"}),u.jsx(FormControl,{children:u.jsx(Input,{placeholder:"Cape Town",...e})}),u.jsx(FormMessage,{})]})}),u.jsx(FormField,{control:j.control,name:"province",render:({field:e})=>u.jsxs(FormItem,{children:[u.jsx(FormLabel,{children:"Province"}),u.jsxs(Select$1,{onValueChange:e.onChange,defaultValue:e.value,children:[u.jsx(FormControl,{children:u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select province"})})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"Western Cape",children:"Western Cape"}),u.jsx(SelectItem,{value:"Gauteng",children:"Gauteng"}),u.jsx(SelectItem,{value:"KwaZulu-Natal",children:"KwaZulu-Natal"}),u.jsx(SelectItem,{value:"Eastern Cape",children:"Eastern Cape"})]})]}),u.jsx(FormMessage,{})]})})]})]}),u.jsx(nf,{value:"portfolio",className:"space-y-4 pt-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx(FormLabel,{children:"Specializations"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:WU.map(e=>u.jsx(FormField,{control:j.control,name:"specializations",render:({field:s})=>u.jsxs("div",{className:"flex flex-row items-center space-x-2 space-y-0",children:[u.jsx(Checkbox,{checked:s.value?.includes(e),onCheckedChange:a=>a?s.onChange([...s.value,e]):s.onChange(s.value?.filter(s=>s!==e))}),u.jsx("label",{className:"text-sm font-normal cursor-pointer",children:e})]})},e))})]})})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),u.jsx(Button$1,{type:"submit",disabled:N.isPending,children:N.isPending?"Updating...":"Save Changes"})]})]})})]})})}var ZU="ScrollArea",[KU]=createContextScope(ZU),[GU,YU]=KU(ZU),QU=re.forwardRef((e,s)=>{const{__scopeScrollArea:a,type:l="hover",dir:c,scrollHideDelay:p=600,...m}=e,[h,f]=re.useState(null),[g,b]=re.useState(null),[j,N]=re.useState(null),[k,_]=re.useState(null),[T,E]=re.useState(null),[A,L]=re.useState(0),[O,I]=re.useState(0),[$,z]=re.useState(!1),[U,H]=re.useState(!1),q=useComposedRefs$1(s,e=>f(e)),Z=useDirection(c);return u.jsx(GU,{scope:a,type:l,dir:Z,scrollHideDelay:p,scrollArea:h,viewport:g,onViewportChange:b,content:j,onContentChange:N,scrollbarX:k,onScrollbarXChange:_,scrollbarXEnabled:$,onScrollbarXEnabledChange:z,scrollbarY:T,onScrollbarYChange:E,scrollbarYEnabled:U,onScrollbarYEnabledChange:H,onCornerWidthChange:L,onCornerHeightChange:I,children:u.jsx(tn.div,{dir:Z,...m,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":O+"px",...e.style}})})});QU.displayName=ZU;var XU="ScrollAreaViewport",JU=re.forwardRef((e,s)=>{const{__scopeScrollArea:a,children:l,nonce:c,...p}=e,m=YU(XU,a),h=useComposedRefs$1(s,re.useRef(null),m.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),u.jsx(tn.div,{"data-radix-scroll-area-viewport":"",...p,ref:h,style:{overflowX:m.scrollbarXEnabled?"scroll":"hidden",overflowY:m.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:m.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});JU.displayName=XU;var eH="ScrollAreaScrollbar",tH=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=YU(eH,e.__scopeScrollArea),{onScrollbarXEnabledChange:p,onScrollbarYEnabledChange:m}=c,h="horizontal"===e.orientation;return re.useEffect(()=>(h?p(!0):m(!0),()=>{h?p(!1):m(!1)}),[h,p,m]),"hover"===c.type?u.jsx(rH,{...l,ref:s,forceMount:a}):"scroll"===c.type?u.jsx(nH,{...l,ref:s,forceMount:a}):"auto"===c.type?u.jsx(sH,{...l,ref:s,forceMount:a}):"always"===c.type?u.jsx(aH,{...l,ref:s}):null});tH.displayName=eH;var rH=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=YU(eH,e.__scopeScrollArea),[p,m]=re.useState(!1);return re.useEffect(()=>{const e=c.scrollArea;let s=0;if(e){const handlePointerEnter=()=>{window.clearTimeout(s),m(!0)},handlePointerLeave=()=>{s=window.setTimeout(()=>m(!1),c.scrollHideDelay)};return e.addEventListener("pointerenter",handlePointerEnter),e.addEventListener("pointerleave",handlePointerLeave),()=>{window.clearTimeout(s),e.removeEventListener("pointerenter",handlePointerEnter),e.removeEventListener("pointerleave",handlePointerLeave)}}},[c.scrollArea,c.scrollHideDelay]),u.jsx(Presence,{present:a||p,children:u.jsx(sH,{"data-state":p?"visible":"hidden",...l,ref:s})})}),nH=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=YU(eH,e.__scopeScrollArea),p="horizontal"===e.orientation,m=useDebounceCallback(()=>f("SCROLL_END"),100),[h,f]=function useStateMachine(e,s){return re.useReducer((e,a)=>s[e][a]??e,e)}("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return re.useEffect(()=>{if("idle"===h){const e=window.setTimeout(()=>f("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(e)}},[h,c.scrollHideDelay,f]),re.useEffect(()=>{const e=c.viewport,s=p?"scrollLeft":"scrollTop";if(e){let a=e[s];const handleScroll2=()=>{const l=e[s];a!==l&&(f("SCROLL"),m()),a=l};return e.addEventListener("scroll",handleScroll2),()=>e.removeEventListener("scroll",handleScroll2)}},[c.viewport,p,f,m]),u.jsx(Presence,{present:a||"hidden"!==h,children:u.jsx(aH,{"data-state":"hidden"===h?"hidden":"visible",...l,ref:s,onPointerEnter:composeEventHandlers(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:composeEventHandlers(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),sH=re.forwardRef((e,s)=>{const a=YU(eH,e.__scopeScrollArea),{forceMount:l,...c}=e,[p,m]=re.useState(!1),h="horizontal"===e.orientation,f=useDebounceCallback(()=>{if(a.viewport){const e=a.viewport.offsetWidth<a.viewport.scrollWidth,s=a.viewport.offsetHeight<a.viewport.scrollHeight;m(h?e:s)}},10);return useResizeObserver(a.viewport,f),useResizeObserver(a.content,f),u.jsx(Presence,{present:l||p,children:u.jsx(aH,{"data-state":p?"visible":"hidden",...c,ref:s})})}),aH=re.forwardRef((e,s)=>{const{orientation:a="vertical",...l}=e,c=YU(eH,e.__scopeScrollArea),p=re.useRef(null),m=re.useRef(0),[h,f]=re.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=getThumbRatio(h.viewport,h.content),b={...l,sizes:h,onSizesChange:f,hasThumb:Boolean(g>0&&g<1),onThumbChange:e=>p.current=e,onThumbPointerUp:()=>m.current=0,onThumbPointerDown:e=>m.current=e};function getScrollPosition2(e,s){return function getScrollPositionFromPointer(e,s,a,l="ltr"){const c=getThumbSize(a),u=c/2,p=s||u,m=c-p,h=a.scrollbar.paddingStart+p,f=a.scrollbar.size-a.scrollbar.paddingEnd-m,g=a.content-a.viewport,b="ltr"===l?[0,g]:[-1*g,0];return linearScale([h,f],b)(e)}(e,m.current,h,s)}return"horizontal"===a?u.jsx(iH,{...b,ref:s,onThumbPositionChange:()=>{if(c.viewport&&p.current){const e=getThumbOffsetFromScroll(c.viewport.scrollLeft,h,c.dir);p.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{c.viewport&&(c.viewport.scrollLeft=e)},onDragScroll:e=>{c.viewport&&(c.viewport.scrollLeft=getScrollPosition2(e,c.dir))}}):"vertical"===a?u.jsx(oH,{...b,ref:s,onThumbPositionChange:()=>{if(c.viewport&&p.current){const e=getThumbOffsetFromScroll(c.viewport.scrollTop,h);p.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{c.viewport&&(c.viewport.scrollTop=e)},onDragScroll:e=>{c.viewport&&(c.viewport.scrollTop=getScrollPosition2(e))}}):null}),iH=re.forwardRef((e,s)=>{const{sizes:a,onSizesChange:l,...c}=e,p=YU(eH,e.__scopeScrollArea),[m,h]=re.useState(),f=re.useRef(null),g=useComposedRefs$1(s,f,p.onScrollbarXChange);return re.useEffect(()=>{f.current&&h(getComputedStyle(f.current))},[f]),u.jsx(dH,{"data-orientation":"horizontal",...c,ref:g,sizes:a,style:{bottom:0,left:"rtl"===p.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===p.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(a)+"px",...e.style},onThumbPointerDown:s=>e.onThumbPointerDown(s.x),onDragScroll:s=>e.onDragScroll(s.x),onWheelScroll:(s,a)=>{if(p.viewport){const l=p.viewport.scrollLeft+s.deltaX;e.onWheelScroll(l),isScrollingWithinScrollbarBounds(l,a)&&s.preventDefault()}},onResize:()=>{f.current&&p.viewport&&m&&l({content:p.viewport.scrollWidth,viewport:p.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:toInt(m.paddingLeft),paddingEnd:toInt(m.paddingRight)}})}})}),oH=re.forwardRef((e,s)=>{const{sizes:a,onSizesChange:l,...c}=e,p=YU(eH,e.__scopeScrollArea),[m,h]=re.useState(),f=re.useRef(null),g=useComposedRefs$1(s,f,p.onScrollbarYChange);return re.useEffect(()=>{f.current&&h(getComputedStyle(f.current))},[f]),u.jsx(dH,{"data-orientation":"vertical",...c,ref:g,sizes:a,style:{top:0,right:"ltr"===p.dir?0:void 0,left:"rtl"===p.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(a)+"px",...e.style},onThumbPointerDown:s=>e.onThumbPointerDown(s.y),onDragScroll:s=>e.onDragScroll(s.y),onWheelScroll:(s,a)=>{if(p.viewport){const l=p.viewport.scrollTop+s.deltaY;e.onWheelScroll(l),isScrollingWithinScrollbarBounds(l,a)&&s.preventDefault()}},onResize:()=>{f.current&&p.viewport&&m&&l({content:p.viewport.scrollHeight,viewport:p.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:toInt(m.paddingTop),paddingEnd:toInt(m.paddingBottom)}})}})}),[lH,cH]=KU(eH),dH=re.forwardRef((e,s)=>{const{__scopeScrollArea:a,sizes:l,hasThumb:c,onThumbChange:p,onThumbPointerUp:m,onThumbPointerDown:h,onThumbPositionChange:f,onDragScroll:g,onWheelScroll:b,onResize:j,...N}=e,k=YU(eH,a),[_,T]=re.useState(null),E=useComposedRefs$1(s,e=>T(e)),A=re.useRef(null),L=re.useRef(""),O=k.viewport,I=l.content-l.viewport,$=useCallbackRef$1(b),z=useCallbackRef$1(f),U=useDebounceCallback(j,10);function handleDragScroll(e){if(A.current){const s=e.clientX-A.current.left,a=e.clientY-A.current.top;g({x:s,y:a})}}return re.useEffect(()=>{const handleWheel=e=>{const s=e.target,a=_?.contains(s);a&&$(e,I)};return document.addEventListener("wheel",handleWheel,{passive:!1}),()=>document.removeEventListener("wheel",handleWheel,{passive:!1})},[O,_,I,$]),re.useEffect(z,[l,z]),useResizeObserver(_,U),useResizeObserver(k.content,U),u.jsx(lH,{scope:a,scrollbar:_,hasThumb:c,onThumbChange:useCallbackRef$1(p),onThumbPointerUp:useCallbackRef$1(m),onThumbPositionChange:z,onThumbPointerDown:useCallbackRef$1(h),children:u.jsx(tn.div,{...N,ref:E,style:{position:"absolute",...N.style},onPointerDown:composeEventHandlers(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),A.current=_.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),handleDragScroll(e)}}),onPointerMove:composeEventHandlers(e.onPointerMove,handleDragScroll),onPointerUp:composeEventHandlers(e.onPointerUp,e=>{const s=e.target;s.hasPointerCapture(e.pointerId)&&s.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=L.current,k.viewport&&(k.viewport.style.scrollBehavior=""),A.current=null})})})}),uH="ScrollAreaThumb",pH=re.forwardRef((e,s)=>{const{forceMount:a,...l}=e,c=cH(uH,e.__scopeScrollArea);return u.jsx(Presence,{present:a||c.hasThumb,children:u.jsx(mH,{ref:s,...l})})}),mH=re.forwardRef((e,s)=>{const{__scopeScrollArea:a,style:l,...c}=e,p=YU(uH,a),m=cH(uH,a),{onThumbPositionChange:h}=m,f=useComposedRefs$1(s,e=>m.onThumbChange(e)),g=re.useRef(void 0),b=useDebounceCallback(()=>{g.current&&(g.current(),g.current=void 0)},100);return re.useEffect(()=>{const e=p.viewport;if(e){const handleScroll2=()=>{if(b(),!g.current){const s=addUnlinkedScrollListener(e,h);g.current=s,h()}};return h(),e.addEventListener("scroll",handleScroll2),()=>e.removeEventListener("scroll",handleScroll2)}},[p.viewport,b,h]),u.jsx(tn.div,{"data-state":m.hasThumb?"visible":"hidden",...c,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,e=>{const s=e.target.getBoundingClientRect(),a=e.clientX-s.left,l=e.clientY-s.top;m.onThumbPointerDown({x:a,y:l})}),onPointerUp:composeEventHandlers(e.onPointerUp,m.onThumbPointerUp)})});pH.displayName=uH;var hH="ScrollAreaCorner",fH=re.forwardRef((e,s)=>{const a=YU(hH,e.__scopeScrollArea),l=Boolean(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&l?u.jsx(gH,{...e,ref:s}):null});fH.displayName=hH;var gH=re.forwardRef((e,s)=>{const{__scopeScrollArea:a,...l}=e,c=YU(hH,a),[p,m]=re.useState(0),[h,f]=re.useState(0),g=Boolean(p&&h);return useResizeObserver(c.scrollbarX,()=>{const e=c.scrollbarX?.offsetHeight||0;c.onCornerHeightChange(e),f(e)}),useResizeObserver(c.scrollbarY,()=>{const e=c.scrollbarY?.offsetWidth||0;c.onCornerWidthChange(e),m(e)}),g?u.jsx(tn.div,{...l,ref:s,style:{width:p,height:h,position:"absolute",right:"ltr"===c.dir?0:void 0,left:"rtl"===c.dir?0:void 0,bottom:0,...e.style}}):null});function toInt(e){return e?parseInt(e,10):0}function getThumbRatio(e,s){const a=e/s;return isNaN(a)?0:a}function getThumbSize(e){const s=getThumbRatio(e.viewport,e.content),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-a)*s;return Math.max(l,18)}function getThumbOffsetFromScroll(e,s,a="ltr"){const l=getThumbSize(s),c=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,u=s.scrollbar.size-c,p=s.content-s.viewport,m=u-l,h=clamp$1(e,"ltr"===a?[0,p]:[-1*p,0]);return linearScale([0,p],[0,m])(h)}function linearScale(e,s){return a=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const l=(s[1]-s[0])/(e[1]-e[0]);return s[0]+l*(a-e[0])}}function isScrollingWithinScrollbarBounds(e,s){return e>0&&e<s}var addUnlinkedScrollListener=(e,s=()=>{})=>{let a={left:e.scrollLeft,top:e.scrollTop},l=0;return function loop(){const c={left:e.scrollLeft,top:e.scrollTop},u=a.left!==c.left,p=a.top!==c.top;(u||p)&&s(),a=c,l=window.requestAnimationFrame(loop)}(),()=>window.cancelAnimationFrame(l)};function useDebounceCallback(e,s){const a=useCallbackRef$1(e),l=re.useRef(0);return re.useEffect(()=>()=>window.clearTimeout(l.current),[]),re.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(a,s)},[a,s])}function useResizeObserver(e,s){const a=useCallbackRef$1(s);pn(()=>{let s=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(a)});return l.observe(e),()=>{window.cancelAnimationFrame(s),l.unobserve(e)}}},[e,a])}var xH=QU,vH=JU,yH=fH;function ScrollArea({className:e,children:s,...a}){return u.jsxs(xH,{"data-slot":"scroll-area",className:cn("relative",e),...a,children:[u.jsx(vH,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),u.jsx(ScrollBar,{}),u.jsx(yH,{})]})}function ScrollBar({className:e,orientation:s="vertical",...a}){return u.jsx(tH,{"data-slot":"scroll-area-scrollbar",orientation:s,className:cn("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",e),...a,children:u.jsx(pH,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function LinkSubscriberDialog({open:e,setOpen:s,brandProfile:a,onSuccess:l}){const[c,p]=re.useState(""),[m,h]=re.useState(null),{data:f,isLoading:g}=At.developer.searchDevelopers.useQuery({query:c},{enabled:c.length>=2,keepPreviousData:!0}),b=At.brandProfile.adminConvertToSubscriber.useMutation({onSuccess:()=>{Gr.success("Brand profile linked to subscriber successfully"),s(!1),l?.()},onError:e=>{Gr.error(e.message||"Failed to link brand profile")}});return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-md",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Link to Subscriber Account"}),u.jsxs(DialogDescription,{children:["Connect ",u.jsx("strong",{children:a.brandName})," to a registered developer account. This will transfer ownership and enable the dashboard for this brand."]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Search Subscriber"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),u.jsx(Input,{placeholder:"Search by name...",value:c,onChange:e=>p(e.target.value),className:"pl-9"})]}),g&&u.jsx("p",{className:"text-xs text-slate-500 animate-pulse",children:"Searching..."})]}),u.jsx(ScrollArea,{className:"h-[200px] border rounded-md p-2 bg-slate-50",children:f&&f.length>0?u.jsx("div",{className:"space-y-2",children:f.map(e=>u.jsxs("div",{onClick:()=>h(e),className:"flex items-center justify-between p-3 rounded-md cursor-pointer transition-colors "+(m?.id===e.id?"bg-blue-50 border border-blue-200":"bg-white border border-slate-100 hover:border-blue-200"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-8 w-8 rounded bg-slate-100 flex items-center justify-center shrink-0",children:u.jsx(ka,{className:"h-4 w-4 text-slate-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:e.name}),u.jsx("p",{className:"text-xs text-slate-500",children:e.email})]})]}),m?.id===e.id&&u.jsx(Ha,{className:"h-5 w-5 text-blue-600"})]},e.id))}):c.length>=2?u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:u.jsx("p",{children:"No developers found"})}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-sm",children:[u.jsx(Vo,{className:"h-8 w-8 mb-2 opacity-20"}),u.jsx("p",{children:"Type to search..."})]})}),m&&u.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md flex items-start gap-2",children:[u.jsx(gl,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),u.jsxs("div",{className:"text-xs text-yellow-800",children:[u.jsx("strong",{children:"Confirmation:"})," Developments under ",u.jsx("em",{children:a.brandName})," ","will be re-assigned to ",u.jsx("strong",{children:m.name}),". The brand profile will be marked as 'Subscriber Owned'."]})]})]}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),u.jsxs(Button$1,{onClick:()=>{m&&confirm(`Are you sure you want to link "${a.brandName}" to subscriber "${m.name}"? This updates ownership of associated developments.`)&&b.mutate({brandProfileId:a.id,developerAccountId:m.id})},disabled:!m||b.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[b.isPending&&u.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirm Link"]})]})]})})}const PublisherDevelopments=()=>{const[,e]=useLocation(),[s,a]=re.useState(""),{selectedBrandId:l,selectedBrand:c}=useDeveloperContext(),{data:p,isLoading:m,refetch:h}=At.superAdminPublisher.getDevelopments.useQuery({brandProfileId:l},{enabled:!!l}),f=At.developer.deleteDevelopment.useMutation({onSuccess:()=>{Gr.success("Development deleted successfully"),h()},onError:e=>{Gr.error(e.message||"Failed to delete development")}}),g=(p||[]).filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.city&&e.city.toLowerCase().includes(s.toLowerCase())),handleCreateDevelopment=()=>{e(`/developer/create-development?brandProfileId=${l}`),Gr.info(`Creating development for ${c?.brandName}`)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-muted-foreground"}),"Properties & Developments"]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Manage developments for ",c?.brandName]})]}),u.jsxs(Button$1,{onClick:handleCreateDevelopment,children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Development"]})]}),u.jsx(ea,{children:u.jsx(sa,{className:"p-4",children:u.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search developments...",className:"pl-10",value:s,onChange:e=>a(e.target.value)})]})})})}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:m?u.jsx("div",{className:"text-center py-20 text-muted-foreground",children:"Loading developments..."}):g.length>0?g.map(s=>{const a=(e=>{let s=[];if(!e)return[];if(Array.isArray(e))s=e;else if("string"==typeof e)try{const a=JSON.parse(e);Array.isArray(a)?s=a:"string"==typeof a&&(s=[a])}catch(a){e.startsWith("http")&&(s=[e])}return s.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&e.url?e.url:null).filter(e=>"string"==typeof e&&e.length>0)})(s.images);return u.jsx(EntityStatusCard,{type:"development",data:{...s,status:s.isPublished?"published":"approved"===s.approvalStatus?"approved":"pending"===s.approvalStatus?"pending":"rejected"===s.approvalStatus?"rejected":"draft",images:a,priceFrom:s.priceFrom},readiness:calculateDevelopmentReadiness({name:s.name,description:s.description,address:s.address||s.city,latitude:s.latitude,longitude:s.longitude,images:a,priceFrom:s.priceFrom}),onEdit:s=>e(`/developer/create-development?id=${s}&brandProfileId=${l}`),onDelete:e=>{return a=e,l=s.name,void(window.confirm(`Are you sure you want to delete "${l}"? This action cannot be undone.`)&&f.mutate({id:a}));var a,l},onView:s=>e(`/development/${s}`)},s.id)}):u.jsxs("div",{className:"text-center py-12 bg-muted/10 rounded-lg border border-dashed border-muted-foreground/20 text-muted-foreground",children:[u.jsxs("p",{children:["No developments found for ",c?.brandName,"."]}),u.jsx(Button$1,{variant:"link",onClick:handleCreateDevelopment,children:"Create the first one"})]})})]})},PublisherLeads=()=>{const{selectedBrandId:e}=useDeveloperContext(),[s,a]=re.useState(""),{data:l,isLoading:c}=At.superAdminPublisher.getBrandLeads.useQuery({brandProfileId:e,limit:100},{enabled:!!e}),p=l?.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Leads Dashboard"}),u.jsx(Badge,{variant:"outline",className:"text-xs",children:"Read Only View"})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ra,{className:"text-md font-medium",children:"Inquiries & Leads"}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(Vo,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search leads...",className:"pl-8 h-8 text-sm",value:s,onChange:e=>a(e.target.value)})]})]})}),u.jsx(sa,{children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Date"}),u.jsx(TableHead,{children:"Prospect"}),u.jsx(TableHead,{children:"Interest"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{className:"text-right",children:"Source"})]})}),u.jsx(TableBody,{children:c?u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Loading leads..."})}):p.length>0?p.map(e=>u.jsxs(TableRow,{children:[u.jsx(TableCell,{className:"text-xs whitespace-nowrap text-muted-foreground",children:format(new Date(e.createdAt),"MMM d, yyyy HH:mm")}),u.jsx(TableCell,{children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-medium text-sm flex items-center gap-1.5",children:[u.jsx(Sl,{className:"w-3 h-3 text-muted-foreground"}),e.name]}),u.jsxs("div",{className:"text-xs text-muted-foreground flex gap-3 mt-0.5",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(oo,{className:"w-3 h-3"})," ",e.email]}),e.phone&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Eo,{className:"w-3 h-3"})," ",e.phone]})]})]})}),u.jsx(TableCell,{children:u.jsx("div",{className:"text-sm",children:e.developmentId?u.jsx(Badge,{variant:"secondary",className:"font-normal",children:"Development Inquiry"}):u.jsx(Badge,{variant:"outline",className:"font-normal",children:"Property Inquiry"})})}),u.jsx(TableCell,{children:u.jsx(Badge,{className:"captured"===e.brandLeadStatus?"bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200":"claimed"===e.brandLeadStatus?"bg-green-100 text-green-700 hover:bg-green-200 border-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200",children:e.brandLeadStatus})}),u.jsx(TableCell,{className:"text-right text-xs text-muted-foreground",children:e.leadSource||"Direct"})]},e.id)):u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No leads found for this brand yet."})})})]})})]})]})},MetricCard$1=({title:e,value:s,icon:a,subtext:l})=>u.jsxs(ea,{children:[u.jsxs(ta,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(ra,{className:"text-sm font-medium",children:e}),u.jsx("div",{className:"text-muted-foreground",children:a})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"text-2xl font-bold",children:s}),l&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l})]})]}),PublisherMetrics=()=>{const{selectedBrandId:e}=useDeveloperContext(),{data:s,isLoading:a}=At.superAdminPublisher.getBrandMetrics.useQuery({brandProfileId:e},{enabled:!!e});return a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-pulse",children:[1,2,3].map(e=>u.jsx("div",{className:"h-32 bg-muted rounded-lg"},e))}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Brand Performance"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(MetricCard$1,{title:"Total Leads",value:s?.totalLeads||0,icon:u.jsx(Cl,{className:"h-4 w-4"}),subtext:"All time inquiries"}),u.jsx(MetricCard$1,{title:"Developments",value:s?.developmentCount||0,icon:u.jsx(ka,{className:"h-4 w-4"}),subtext:"Active projects"}),u.jsx(MetricCard$1,{title:"Properties",value:s?.propertyCount||0,icon:u.jsx(Bi,{className:"h-4 w-4"}),subtext:"Total units listed"})]}),u.jsx("div",{className:"bg-muted/10 p-6 rounded-lg border border-dashed border-muted-foreground/20 text-center",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"More granular analytics (views, clicks, conversion rates) coming soon."})})]})},PublisherContent=()=>{const{isContextSet:e,selectedBrand:s,setSelectedBrandId:a}=useDeveloperContext(),[l,c]=re.useState("developments"),[p,m]=re.useState(!1),[h,f]=re.useState(!1),g=At.useUtils(),b=At.superAdminPublisher.deleteBrandProfile.useMutation({onSuccess:e=>{Gr.success("soft"===e.mode?"Brand profile archived (soft delete)":"Brand profile permanently deleted"),g.superAdminPublisher.listBrandProfiles.invalidate(),a(null)},onError:e=>Gr.error(e.message||"Failed to delete profile")});return e?u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s&&u.jsxs(u.Fragment,{children:[u.jsx(EditBrandProfileDialog,{open:p,setOpen:m,brandData:s}),u.jsx(LinkSubscriberDialog,{open:h,setOpen:f,brandProfile:s,onSuccess:()=>g.superAdminPublisher.listBrandProfiles.invalidate()})]}),u.jsxs(ef,{value:l,onValueChange:c,className:"w-full",children:[u.jsxs("div",{className:"flex items-center justify-between border-b pb-4 mb-6",children:[u.jsxs(tf,{className:"bg-muted/50 p-1 h-12",children:[u.jsxs(rf,{value:"developments",className:"h-10 px-4 gap-2 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[u.jsx(ka,{className:"w-4 h-4"}),"Developments"]}),u.jsxs(rf,{value:"leads",className:"h-10 px-4 gap-2 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[u.jsx(Cl,{className:"w-4 h-4"}),"Leads"]}),u.jsxs(rf,{value:"metrics",className:"h-10 px-4 gap-2 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[u.jsx(Da,{className:"w-4 h-4"}),"Metrics"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-xs text-muted-foreground font-mono bg-muted/30 px-3 py-1.5 rounded mr-2",children:["Context: ",s?.slug," (ID: ",s?.id,")"]}),s&&!s.isSubscriber&&u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"h-8 gap-2 text-blue-600 border-blue-200 hover:bg-blue-50",children:[u.jsx(Cl,{className:"w-3.5 h-3.5"})," Link Subscriber"]}),u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>m(!0),className:"h-8 gap-2",children:[u.jsx(rl,{className:"w-3.5 h-3.5"})," Edit"]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>{s&&confirm(`Are you sure you want to delete "${s.brandName}"? This action cannot be undone.`)&&b.mutate({brandProfileId:s.id})},disabled:b.isPending,className:"h-8 gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 hover:border-red-200",children:u.jsx(ul,{className:"w-3.5 h-3.5"})})]})]}),u.jsx(nf,{value:"developments",className:"mt-0",children:u.jsx(PublisherDevelopments,{})}),u.jsx(nf,{value:"leads",className:"mt-0",children:u.jsx(PublisherLeads,{})}),u.jsx(nf,{value:"metrics",className:"mt-0",children:u.jsx(PublisherMetrics,{})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"p-6 bg-muted/30 rounded-full border-2 border-dashed border-muted-foreground/20",children:u.jsx(ka,{className:"w-16 h-16 text-muted-foreground/50"})}),u.jsxs("div",{className:"max-w-md space-y-2",children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Select a Developer Brand"}),u.jsx("p",{className:"text-muted-foreground",children:"To start emulating workflows, publishing properties, or viewing leads, please select a developer brand profile from the selector above."})]}),u.jsx("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-lg max-w-lg text-sm text-orange-800",children:u.jsxs("div",{className:"flex items-start gap-3 text-left",children:[u.jsx(so,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-orange-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold mb-1",children:"Super Admin Mode Active"}),u.jsx("p",{children:"Actions performed here generate platform-owned data (`ownerType='platform'`). This data is isolated from real subscribers until explicitly transferred/claimed."})]})]})})]})},SuperAdminPublisher=()=>u.jsx(DeveloperContextProvider,{children:u.jsxs("div",{className:"container mx-auto py-8 max-w-7xl",children:[u.jsx("div",{className:"flex flex-col gap-6 mb-8",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-2 flex items-center gap-3",children:["Developer Publisher",u.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded font-normal uppercase tracking-wide border border-primary/20",children:"Super Admin"})]}),u.jsx("p",{className:"text-muted-foreground max-w-3xl",children:"Browse and edit all developments by province, or select a brand profile to emulate developer workflows."})]})}),u.jsx(ProvinceDevDashboard,{}),u.jsx(Separator,{className:"my-8"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Brand Profile Mode"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a brand profile to create new developments, manage leads, and view metrics."})]}),u.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:u.jsx("div",{className:"lg:col-span-1",children:u.jsx(DeveloperContextSelector,{})})})]}),u.jsx("div",{className:"mt-8",children:u.jsx(PublisherContent,{})})]})});function UserDashboard(){const[,e]=useLocation(),{isAuthenticated:s,user:a,loading:l}=useAuth(),{comparedProperties:c,removeFromComparison:p,clearComparison:m}=useComparison(),{data:h,isLoading:f}=At.favorites.list.useQuery(),{data:g,isLoading:b}=At.savedSearch.getAll.useQuery(),{data:j}=At.properties.search.useQuery({status:"available",limit:100}),N=j?.filter(e=>c.includes(e.id))||[],k=At.savedSearch.delete.useMutation({onSuccess:()=>{window.location.reload()}});return l?u.jsx("div",{className:"min-h-screen bg-[#F4F7FA] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-400",children:"Loading..."})]})}):s?"visitor"!==a?.role?(e("/dashboard"),null):u.jsxs("div",{className:"min-h-screen bg-[#F4F7FA]",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx(Sl,{className:"h-8 w-8 text-emerald-600"}),u.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"My Dashboard"}),u.jsx(Badge,{className:"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 border-emerald-200",children:"User"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] hover:shadow-[0_12px_40px_rgba(8,_112,_184,_0.1)] transition-all cursor-pointer",onClick:()=>document.getElementById("comparison-tab")?.click(),children:u.jsxs(ta,{className:"pb-3",children:[u.jsxs(na,{className:"text-slate-500 flex items-center gap-2",children:[u.jsx(Ei,{className:"h-4 w-4"}),"Saved for Comparison"]}),u.jsx(ra,{className:"text-3xl text-slate-800",children:c.length})]})}),u.jsx(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] hover:shadow-[0_12px_40px_rgba(8,_112,_184,_0.1)] transition-all cursor-pointer",onClick:()=>document.getElementById("favorites-tab")?.click(),children:u.jsxs(ta,{className:"pb-3",children:[u.jsxs(na,{className:"text-slate-500 flex items-center gap-2",children:[u.jsx($i,{className:"h-4 w-4"}),"Favorites"]}),u.jsx(ra,{className:"text-3xl text-slate-800",children:h?.length||0})]})}),u.jsx(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] hover:shadow-[0_12px_40px_rgba(8,_112,_184,_0.1)] transition-all cursor-pointer",onClick:()=>document.getElementById("searches-tab")?.click(),children:u.jsxs(ta,{className:"pb-3",children:[u.jsxs(na,{className:"text-slate-500 flex items-center gap-2",children:[u.jsx(Vo,{className:"h-4 w-4"}),"Saved Searches"]}),u.jsx(ra,{className:"text-3xl text-slate-800",children:g?.length||0})]})}),u.jsx(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] hover:shadow-[0_12px_40px_rgba(8,_112,_184,_0.1)] transition-all",children:u.jsxs(ta,{className:"pb-3",children:[u.jsxs(na,{className:"text-slate-500 flex items-center gap-2",children:[u.jsx(Ea,{className:"h-4 w-4"}),"Appointments"]}),u.jsx(ra,{className:"text-3xl text-slate-800",children:"0"})]})})]}),u.jsxs(ef,{defaultValue:"overview",className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-6",children:[u.jsx(rf,{value:"overview",children:"Overview"}),u.jsx(rf,{value:"comparison",id:"comparison-tab",children:"Comparison"}),u.jsx(rf,{value:"favorites",id:"favorites-tab",children:"Favorites"}),u.jsx(rf,{value:"searches",id:"searches-tab",children:"Searches"}),u.jsx(rf,{value:"appointments",children:"Appointments"}),u.jsx(rf,{value:"notifications",children:"Notifications"})]}),u.jsx(nf,{value:"overview",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Ei,{className:"h-5 w-5"}),"Saved for Comparison"]}),u.jsx(na,{children:"Properties you're comparing"})]}),u.jsx(sa,{children:0===c.length?u.jsx("p",{className:"text-muted-foreground",children:"No properties saved for comparison."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-2 mb-4",children:N.slice(0,3).map(e=>{const s=normalizePropertyForUI(e);return s?u.jsx("div",{className:"flex items-center justify-between border-b pb-2",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:s.title}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["R ",s.price.toLocaleString()]})]})},e.id):null})}),u.jsxs(Button$1,{className:"w-full",onClick:()=>e("/compare"),children:["Compare Now (",c.length,")"]})]})})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx($i,{className:"h-5 w-5"}),"Favorite Properties"]}),u.jsx(na,{children:"Your saved properties"})]}),u.jsx(sa,{children:f?u.jsx("p",{className:"text-muted-foreground",children:"Loading favorites..."}):0===(h?.length??0)?u.jsx("p",{className:"text-muted-foreground",children:"No favorites yet."}):u.jsx("ul",{className:"space-y-3",children:h.slice(0,5).map(s=>u.jsxs("li",{className:"flex items-center justify-between border-b pb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:s.title}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.city,", ",s.province]})]}),u.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>e(`/property/${s.id}`),children:"View"})]},s.id))})})]})]})}),u.jsxs(nf,{value:"comparison",className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Saved for Comparison"}),c.length>0&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",onClick:m,children:[u.jsx(Il,{className:"h-4 w-4 mr-2"}),"Clear All"]}),u.jsxs(Button$1,{onClick:()=>e("/compare"),disabled:c.length<2,children:[u.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Compare Now (",c.length,")"]})]})]}),0===c.length?u.jsx(ea,{children:u.jsxs(sa,{className:"py-8 text-center",children:[u.jsx(Ei,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground mb-2",children:"You haven't saved any properties for comparison yet."}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Click the + button on property cards to add them to your comparison list."}),u.jsx(Button$1,{onClick:()=>e("/properties"),children:"Browse Properties"})]})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(s=>{const a=normalizePropertyForUI(s);return a?u.jsx(ea,{className:"hover:shadow-lg transition-shadow",children:u.jsxs(sa,{className:"p-0",children:[u.jsxs("div",{className:"relative h-48",children:[u.jsx("img",{src:a.images[0]||"/placeholder-property.jpg",alt:a.title,className:"w-full h-full object-cover rounded-t-lg"}),u.jsx(Button$1,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-white/90 hover:bg-white rounded-full",onClick:()=>p(s.id),children:u.jsx(Il,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-lg line-clamp-1 mb-2",children:a.title}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-2",children:[u.jsx(lo,{className:"h-3 w-3"}),a.city]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 mb-3",children:[a.bedrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ja,{className:"h-3 w-3"}),a.bedrooms]}),a.bathrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ya,{className:"h-3 w-3"}),a.bathrooms]}),a.area&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(nl,{className:"h-3 w-3"}),a.area,"m"]})]}),u.jsxs("div",{className:"text-lg font-bold text-primary mb-3",children:["R ",a.price.toLocaleString()]}),u.jsx(Button$1,{variant:"outline",className:"w-full",size:"sm",onClick:()=>e(`/property/${s.id}`),children:"View Details"})]})]})},s.id):null})})]}),u.jsxs(nf,{value:"favorites",className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h2",{className:"text-2xl font-bold",children:"My Favorite Properties"})}),f?u.jsx("p",{className:"text-muted-foreground",children:"Loading favorites..."}):0===(h?.length??0)?u.jsx(ea,{children:u.jsxs(sa,{className:"py-8 text-center",children:[u.jsx($i,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"You haven't favorited any properties yet."}),u.jsx(Button$1,{className:"mt-4",onClick:()=>e("/properties"),children:"Browse Properties"})]})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(s=>u.jsx(ea,{className:"hover:shadow-lg transition-shadow",children:u.jsxs(sa,{className:"p-4",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:s.title})}),u.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[s.city,", ",s.province]}),u.jsxs("div",{className:"text-lg font-bold text-primary mb-3",children:["R ",s.price?.toLocaleString()]}),u.jsx(Button$1,{variant:"outline",className:"w-full",size:"sm",onClick:()=>e(`/property/${s.id}`),children:"View Details"})]})},s.id))})]}),u.jsxs(nf,{value:"searches",className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Saved Searches"}),u.jsxs(Button$1,{onClick:()=>e("/properties"),children:[u.jsx(Vo,{className:"h-4 w-4 mr-2"}),"New Search"]})]}),b?u.jsx("p",{className:"text-muted-foreground",children:"Loading searches..."}):0===(g?.length??0)?u.jsx(ea,{children:u.jsxs(sa,{className:"py-8 text-center",children:[u.jsx(Vo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"You haven't saved any searches yet."}),u.jsx(Button$1,{className:"mt-4",onClick:()=>e("/properties"),children:"Search Properties"})]})}):u.jsx("div",{className:"grid gap-4",children:g.map(s=>u.jsx(ea,{className:"hover:shadow-md transition-shadow",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.name}),u.jsxs(Badge,{variant:"outline",className:"text-xs",children:[u.jsx(wa,{className:"h-3 w-3 mr-1"}),s.notificationFrequency]})]}),u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:()=>k.mutate({id:s.id}),children:u.jsx(ul,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.criteria&&Object.entries(s.criteria).map(([e,s])=>!s||Array.isArray(s)&&0===s.length?null:u.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[e,": ",Array.isArray(s)?s.join(", "):String(s)]},e))}),u.jsxs(Button$1,{variant:"outline",className:"w-full",onClick:()=>{const a=new URLSearchParams(s.criteria);e(`/properties?${a.toString()}`)},children:[u.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Run Search Again"]})]})},s.id))})]}),u.jsxs(nf,{value:"appointments",className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Appointments"})}),u.jsx(ea,{children:u.jsxs(sa,{className:"py-8 text-center",children:[u.jsx(Ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"You have no upcoming appointments."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2 mb-4",children:"Schedule viewings with agents from property detail pages."}),u.jsx(Button$1,{onClick:()=>e("/properties"),children:"Browse Properties"})]})})]}),u.jsxs(nf,{value:"notifications",className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h2",{className:"text-2xl font-bold",children:"Notifications"})}),u.jsx(ea,{children:u.jsxs(sa,{className:"py-8 text-center",children:[u.jsx(wa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No notifications at this time."})]})})]})]})]})]}):(e("/login"),null)}function LovableIntegrationHub(){const[e,s]=re.useState([{id:"1763383595600l1enj",name:"Accordion",type:"ui-element",description:"Accordion component for collapsible sections",tags:["ui","accordion","collapsible"],code:'import * as React from "react";\nimport * as AccordionPrimitive from "@radix-ui/react-accordion";\nimport { ChevronDown } from "lucide-react";\n\nimport { cn } from "@/lib/utils";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn("border-b", className)}\n    {...props}\n  />\n));\nAccordionItem.displayName = "AccordionItem";\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className="flex">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n));\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"\n    {...props}\n  >\n    <div className={cn("pb-4 pt-0", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n));\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };',status:"pending",createdAt:"2025-11-17T12:46:35.600Z"},{id:"1763383595600sbwcg",name:"AlertDialog",type:"ui-element",description:"AlertDialog component for displaying important messages",tags:["ui","dialog","alert"],code:'import * as React from "react";\nimport * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog";\n\nimport { cn } from "@/lib/utils";\nimport { buttonVariants } from "@/components/ui/button";\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      "flex flex-col space-y-2 text-center sm:text-left",\n      className\n    )}\n    {...props}\n  />\n);\nAlertDialogHeader.displayName = "AlertDialogHeader";\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",\n      className\n    )}\n    {...props}\n  />\n);\nAlertDialogFooter.displayName = "AlertDialogFooter";\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn("text-lg font-semibold", className)}\n    {...props}\n  />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn("text-sm text-muted-foreground", className)}\n    {...props}\n  />\n));\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: "outline" }),\n      "mt-2 sm:mt-0",\n      className\n    )}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n---',status:"pending",createdAt:"2025-11-17T12:46:35.600Z"}]),[a,l]=re.useState({name:"",type:"component",code:"",description:"",tags:""}),[c,p]=re.useState("components"),updateComponentStatus=(a,l)=>{s(e.map(e=>e.id===a?{...e,status:l}:e))},getStatusColor2=e=>{switch(e){case"pending":default:return"bg-gray-500";case"in-progress":return"bg-blue-500";case"review":return"bg-yellow-500";case"integrated":return"bg-green-500"}},getTypeIcon=e=>{switch(e){case"page":return u.jsx(vi,{className:"h-4 w-4"});case"component":return u.jsx(ri,{className:"h-4 w-4"});case"ui-element":return u.jsx(Co,{className:"h-4 w-4"});case"design-token":return u.jsx(bi,{className:"h-4 w-4"});case"asset":return u.jsx(zi,{className:"h-4 w-4"});default:return u.jsx(Ja,{className:"h-4 w-4"})}},getTypeLabel=e=>{switch(e){case"page":return"Page";case"component":default:return"Component";case"ui-element":return"UI Element";case"design-token":return"Design Token";case"asset":return"Asset"}};return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Lovable Integration Hub"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and integrate UI components from Lovable into your codebase"})]}),u.jsxs(Badge,{variant:"secondary",className:"text-sm",children:[u.jsx(yl,{className:"h-3 w-3 mr-1"}),e.length," Components"]})]}),u.jsxs(ef,{value:c,onValueChange:p,className:"w-full",children:[u.jsxs(tf,{className:"grid w-full grid-cols-4",children:[u.jsx(rf,{value:"components",children:"Components"}),u.jsx(rf,{value:"add",children:"Add New"}),u.jsx(rf,{value:"assets",children:"Assets"}),u.jsx(rf,{value:"instructions",children:"Instructions"})]}),u.jsx(nf,{value:"components",className:"space-y-6",children:0===e.length?u.jsx(ea,{children:u.jsxs(sa,{className:"py-12 text-center",children:[u.jsx(ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No components added yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first component from Lovable to get started"}),u.jsxs(Button$1,{onClick:()=>p("add"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Component"]})]})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(a=>u.jsxs(ea,{className:"hover:shadow-md transition-shadow",children:[u.jsxs(ta,{className:"pb-3",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[getTypeIcon(a.type),u.jsx(ra,{className:"text-lg",children:a.name})]}),u.jsx(Badge,{className:`${getStatusColor2(a.status)} text-white`,children:a.status})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.description||"No description provided"})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded-full",children:getTypeLabel(a.type)}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["Added ",a.createdAt.toLocaleDateString()]})]})}),a.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:a.tags.map((e,s)=>u.jsx(Badge,{variant:"secondary",className:"text-xs",children:e},s))}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>{return e=a.code,void navigator.clipboard.writeText(e);var e},children:[u.jsx(ni,{className:"h-3 w-3 mr-1"}),"Copy Code"]}),u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>updateComponentStatus(a.id,"in-progress"),children:[u.jsx(Ua,{className:"h-3 w-3 mr-1"}),"Start Integration"]}),u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>updateComponentStatus(a.id,"integrated"),children:[u.jsx(fi,{className:"h-3 w-3 mr-1"}),"Mark Integrated"]}),u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>{return l=a.id,void s(e.filter(e=>e.id!==l));var l},children:[u.jsx(ul,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]})]},a.id))})}),u.jsx(nf,{value:"add",className:"space-y-6",children:u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Mo,{className:"h-5 w-5"}),"Add Lovable Component"]}),u.jsx("p",{className:"text-muted-foreground",children:"Paste the code from your Lovable component to add it to the integration queue"})]}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"component-name",children:"Component Name"}),u.jsx(Input,{id:"component-name",placeholder:"e.g., PropertyCard, DashboardPage",value:a.name,onChange:e=>l({...a,name:e.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"component-type",children:"Component Type"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(Button$1,{variant:"page"===a.type?"default":"outline",onClick:()=>l({...a,type:"page"}),className:"flex items-center gap-2",children:[u.jsx(vi,{className:"h-4 w-4"}),"Page"]}),u.jsxs(Button$1,{variant:"component"===a.type?"default":"outline",onClick:()=>l({...a,type:"component"}),className:"flex items-center gap-2",children:[u.jsx(ri,{className:"h-4 w-4"}),"Component"]}),u.jsxs(Button$1,{variant:"ui-element"===a.type?"default":"outline",onClick:()=>l({...a,type:"ui-element"}),className:"flex items-center gap-2",children:[u.jsx(Co,{className:"h-4 w-4"}),"UI Element"]}),u.jsxs(Button$1,{variant:"design-token"===a.type?"default":"outline",onClick:()=>l({...a,type:"design-token"}),className:"flex items-center gap-2",children:[u.jsx(bi,{className:"h-4 w-4"}),"Design Token"]}),u.jsxs(Button$1,{variant:"asset"===a.type?"default":"outline",onClick:()=>l({...a,type:"asset"}),className:"flex items-center gap-2",children:[u.jsx(zi,{className:"h-4 w-4"}),"Asset"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"component-description",children:"Description"}),u.jsx(Input,{id:"component-description",placeholder:"Brief description of what this component does",value:a.description,onChange:e=>l({...a,description:e.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"component-tags",children:"Tags (comma separated)"}),u.jsx(Input,{id:"component-tags",placeholder:"e.g., dashboard, analytics, property",value:a.tags,onChange:e=>l({...a,tags:e.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"component-code",children:"Component Code"}),u.jsx(Textarea,{id:"component-code",placeholder:"Paste the React/TypeScript code from your Lovable component here...",value:a.code,onChange:e=>l({...a,code:e.target.value}),rows:15,className:"font-mono text-sm"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>{l({name:"",type:"component",code:"",description:"",tags:""})},children:"Clear"}),u.jsxs(Button$1,{onClick:()=>{if(!a.name||!a.code)return;const c={id:Date.now().toString(),name:a.name,type:a.type,code:a.code,description:a.description,status:"pending",createdAt:new Date,tags:a.tags.split(",").map(e=>e.trim()).filter(e=>e)};s([...e,c]),l({name:"",type:"component",code:"",description:"",tags:""})},disabled:!a.name||!a.code,children:[u.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Add to Queue"]})]})]})]})}),u.jsx(nf,{value:"assets",className:"space-y-6",children:u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(zi,{className:"h-5 w-5"}),"Asset Management"]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage design assets, images, and other resources from Lovable"})]}),u.jsx(sa,{children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Zi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Asset Management Coming Soon"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"This feature will allow you to manage design assets from Lovable"}),u.jsxs(Button$1,{variant:"outline",onClick:()=>p("add"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Asset"]})]})})]})}),u.jsx(nf,{value:"instructions",className:"space-y-6",children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-5 w-5"}),"Integration Instructions"]})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"font-semibold",children:"How to Add Components from Lovable"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[u.jsx("li",{children:"Open your component in Lovable"}),u.jsx("li",{children:"Copy the entire component code (Ctrl+C / Cmd+C)"}),u.jsx("li",{children:'Switch to the "Add New" tab in this hub'}),u.jsx("li",{children:"Paste the code into the text area"}),u.jsx("li",{children:"Fill in the component name and description"}),u.jsx("li",{children:'Click "Add to Queue"'})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"font-semibold",children:"Integration Process"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Pending"})," - Component added but not yet worked on"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"In Progress"})," - Currently integrating the component"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Review"})," - Integration complete, pending review"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Integrated"})," - Component successfully added to codebase"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"font-semibold",children:"Best Practices"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[u.jsx("li",{children:"Review component dependencies before integration"}),u.jsx("li",{children:"Ensure consistent styling with existing components"}),u.jsx("li",{children:"Test components in isolation before full integration"}),u.jsx("li",{children:"Update component status as you progress through integration"}),u.jsx("li",{children:"Remove components from this hub once fully integrated"}),u.jsx("li",{children:"Use tags to categorize components for easier searching"})]})]}),u.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2",children:[u.jsx(Va,{className:"h-4 w-4"}),"Important Note"]}),u.jsx("p",{className:"text-sm",children:"This hub is for staging components only. Actual integration requires adapting the Lovable code to match your existing codebase structure, dependencies, and styling system."})]})]})]})})]})]})})}const bH={currentStep:1,completedSteps:[],title:"",description:"",media:[],badges:[],errors:[],isValid:!1,status:"draft"},jH=create()(persist((e,s)=>({...bH,goToStep:a=>{a<=Math.max(...s().completedSteps,s().currentStep)+1&&e({currentStep:a})},nextStep:()=>{const a=s().currentStep;e({currentStep:a+1})},prevStep:()=>{const a=s().currentStep;a>1&&e({currentStep:a-1})},markStepComplete:a=>{const l=s().completedSteps;l.includes(a)||e({completedSteps:[...l,a]})},setAction:s=>{e({action:s}),e({pricing:void 0})},setBadges:s=>{e({badges:s})},setPropertyType:s=>{e({propertyType:s}),e({propertyDetails:void 0})},setTitle:a=>{e({title:a}),s().removeError("title")},setDescription:a=>{e({description:a}),s().removeError("description")},setBasicInfo:s=>{e({basicInfo:s})},setAdditionalInfo:s=>{e({additionalInfo:s})},setPricing:s=>{e({pricing:s})},setPropertyDetails:s=>{e({propertyDetails:s})},updatePropertyDetail:(a,l)=>{const c=s().propertyDetails||{};e({propertyDetails:{...c,[a]:l}})},setLocation:a=>{e({location:a}),s().removeError("location")},addMedia:a=>{const l=s().media;e({media:[...l,{...a,displayOrder:l.length}]})},removeMedia:a=>{const l=s().media.filter((e,s)=>s!==a).map((e,s)=>({...e,displayOrder:s}));e({media:l})},updateMedia:(a,l)=>{const c=s().media.map((e,s)=>s===a?{...e,...l}:e);e({media:c})},reorderMedia:(a,l)=>{const c=[...s().media],[u]=c.splice(a,1);c.splice(l,0,u);const p=c.map((e,s)=>({...e,displayOrder:s}));e({media:p})},setMedia:s=>{e({media:s})},setMainMedia:a=>{const l=s().media;if(l.find(e=>e.id===a)){const s=l.map(e=>({...e,isPrimary:e.id===a}));e({media:s,mainMediaId:a})}},setDisplayMediaType:s=>{e({displayMediaType:s})},addError:a=>{const l=s().errors.filter(e=>e.field!==a.field);e({errors:[...l,a],isValid:!1})},removeError:a=>{const l=s().errors.filter(e=>e.field!==a);e({errors:l,isValid:0===l.length})},clearErrors:()=>{e({errors:[],isValid:!0})},validate:()=>{const a=s(),l=[];return a.currentStep>=1&&(a.action||l.push({field:"action",message:"Please select an action"})),a.currentStep>=2&&(a.propertyType||l.push({field:"propertyType",message:"Please select a property type"})),a.currentStep,a.currentStep,a.currentStep>=5&&((!a.title||a.title.length<10)&&l.push({field:"title",message:"Title must be at least 10 characters"}),(!a.description||a.description.length<50)&&l.push({field:"description",message:"Description must be at least 50 characters"})),a.currentStep>=6&&(a.pricing||l.push({field:"pricing",message:"Please provide pricing information"})),a.currentStep>=7&&(a.location||l.push({field:"location",message:"Please provide location information"})),a.currentStep>=8&&(0===a.media.length&&l.push({field:"media",message:"Please upload at least one image or video"}),a.mainMediaId||l.push({field:"mainMedia",message:"Please select a main media item"})),e({errors:l,isValid:0===l.length}),0===l.length},saveDraft:async()=>{e({status:"submitting"});try{console.log("Saving draft...",s()),e({status:"draft"})}catch(a){console.error("Error saving draft:",a),e({status:"draft"})}},submitForReview:async()=>{s().validate()&&(e({status:"submitting"}),e({status:"submitted"}))},reset:()=>{e({...bH,action:void 0,propertyType:void 0,pricing:void 0,propertyDetails:void 0,location:void 0,basicInfo:void 0,additionalInfo:void 0,mainMediaId:void 0}),localStorage.removeItem("listing-wizard-storage")},loadListing:async e=>{try{console.log("Loading listing:",e)}catch(s){console.error("Error loading listing:",s)}}}),{name:"listing-wizard-storage",partialize:e=>({action:e.action,propertyType:e.propertyType,title:e.title,description:e.description,pricing:e.pricing,propertyDetails:e.propertyDetails,location:e.location,media:e.media,badges:e.badges,basicInfo:e.basicInfo,additionalInfo:e.additionalInfo,currentStep:e.currentStep,completedSteps:e.completedSteps,displayMediaType:e.displayMediaType,mainMediaId:e.mainMediaId})}));function useAutoSave(e,s){const{debounceMs:a=2e3,storageKey:l,onSave:c,onError:u,enabled:p=!0,shouldSkipSave:m}=s,[h,f]=re.useState(null),[g,b]=re.useState(!1),[j,N]=re.useState(null),k=re.useRef(e),_=re.useRef(null),T=re.useRef(!0),E=re.useRef(0),A=re.useRef(null);re.useEffect(()=>{k.current=e},[e]);const L=re.useCallback(()=>{_.current&&(clearTimeout(_.current),_.current=null)},[]),O=re.useCallback(async()=>{if(!p)return;const e=k.current;if(m?.(e))return;const s=++E.current;if(A.current)try{await A.current}catch{}b(!0),N(null);const a=(async()=>{try{if(c)await c(e);else{if(!l)throw new Error("Either storageKey or onSave must be provided");localStorage.setItem(l,JSON.stringify(e))}s===E.current&&f(new Date)}catch(pW){const a=pW instanceof Error?pW:new Error("Unknown save error");throw s===E.current&&N(a),u?.(a),a}finally{s===E.current&&b(!1)}})();A.current=a;try{await a}finally{A.current===a&&(A.current=null)}},[p,c,l,u,m]),I=re.useCallback(async()=>{L(),await O()},[L,O]),$=re.useCallback(()=>{f(null),N(null)},[]);return re.useEffect(()=>{if(T.current)T.current=!1;else if(p&&!m?.(e))return L(),_.current=setTimeout(()=>{O()},a),()=>L()},[e,a,p,O,L,m]),{lastSaved:h,isSaving:g,error:j,saveNow:I,clearSaveStatus:$}}const SaveStatusIndicator=({lastSaved:e,isSaving:s,error:a,className:l,variant:c="full",hideAfterMs:p=3e3,alwaysShow:m=!1})=>{const[h,f]=re.useState(!1);re.useEffect(()=>{if(e&&!s&&!a){f(!0);const e=setTimeout(()=>{f(!1)},p);return()=>clearTimeout(e)}},[e,s,a,p]);const g=a?"error":s?"saving":h&&e?"saved":"idle";if("idle"===g&&!m)return null;const b={idle:{icon:Xa,text:"Not saved",color:"text-gray-400",bgColor:"bg-gray-50"},saving:{icon:no,text:"Saving...",color:"text-blue-600",bgColor:"bg-blue-50"},saved:{icon:Ia,text:"Saved",color:"text-green-600",bgColor:"bg-green-50"},error:{icon:Va,text:"Save failed",color:"text-red-600",bgColor:"bg-red-50"}}[g],j=b.icon;return"compact"===c?u.jsx(AnimatePresence,{children:u.jsxs(kb.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:cn("flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium",b.color,b.bgColor,l),children:[u.jsx(j,{className:cn("w-3 h-3","saving"===g&&"animate-spin")}),u.jsx("span",{className:"hidden sm:inline",children:b.text})]},g)}):u.jsx(AnimatePresence,{mode:"wait",children:u.jsxs(kb.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:cn("flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium",b.color,b.bgColor,l),children:[u.jsx(j,{className:cn("w-4 h-4","saving"===g&&"animate-spin")}),u.jsx("span",{children:b.text}),a&&u.jsxs("span",{className:"text-xs text-red-500 ml-1",children:["(",a.message,")"]})]},g)})},DraftManager=({open:e,onOpenChange:s,onResume:a,onStartFresh:l,draftData:c,wizardType:p="listing"})=>{const{currentStep:m,totalSteps:h,action:f,propertyType:g,developmentName:b,address:j,lastModified:N}=c,k=Math.round(m/h*100),_=N?formatDistanceToNow(N,{addSuffix:!0}):"recently",capitalize=e=>e?e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," "):"";return u.jsx(Dialog,{open:e,onOpenChange:s,children:u.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[u.jsxs(DialogHeader,{children:[u.jsxs(DialogTitle,{className:"flex items-center gap-2 text-xl",children:[u.jsx(wi,{className:"w-6 h-6 text-blue-600"}),"Resume Draft ",capitalize(p),"?"]}),u.jsxs(DialogDescription,{className:"text-base pt-2",children:["You have an unfinished ",p," saved ",_,". Would you like to continue where you left off or start a new ",p,"?"]})]}),u.jsxs("div",{className:"py-4 space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx(wi,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-slate-800 mb-1",children:"Draft Progress"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Step ",m," of ",h,"  ",k,"% complete"]})]})]}),u.jsx("div",{className:"w-full bg-white/50 rounded-full h-2 overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full transition-all duration-300",style:{width:`${k}%`}})})]}),u.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 space-y-2",children:[u.jsx("p",{className:"font-medium text-slate-800 text-sm mb-2",children:"Draft Details"}),"listing"===p&&u.jsxs(u.Fragment,{children:[f&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(Bi,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"font-medium",children:"Action:"}),u.jsx("span",{children:capitalize(f)})]}),g&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(Bi,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"font-medium",children:"Type:"}),u.jsx("span",{children:capitalize(g)})]})]}),"development"===p&&u.jsxs(u.Fragment,{children:[b&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(Bi,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"font-medium",children:"Name:"}),u.jsx("span",{className:"truncate",children:b})]}),j&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(lo,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"font-medium",children:"Location:"}),u.jsx("span",{className:"truncate",children:j})]})]}),N&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(Qa,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"font-medium",children:"Last saved:"}),u.jsx("span",{children:_})]})]})]}),u.jsxs(DialogFooter,{className:"gap-2 sm:gap-0",children:[u.jsxs(Button$1,{variant:"outline",onClick:l,className:"gap-2 hover:bg-red-50 hover:text-red-600 hover:border-red-200",children:[u.jsx(ul,{className:"w-4 h-4"}),"Start New"]}),u.jsxs(Button$1,{onClick:a,className:"gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[u.jsx(wi,{className:"w-4 h-4"}),"Resume Draft"]})]})]})})},ProgressIndicator=({steps:e,onStepClick:s,className:a,compact:l=!1})=>u.jsx(TooltipProvider,{children:u.jsx("div",{className:cn("w-full",a),children:u.jsx("div",{className:"flex items-center justify-between",children:e.map((a,c)=>u.jsxs(ae.Fragment,{children:[u.jsxs(Tooltip$1,{children:[u.jsx(TooltipTrigger,{asChild:!0,children:u.jsxs(kb.button,{onClick:()=>(e=>{e.isAccessible&&s&&s(e.number)})(a),disabled:!a.isAccessible,whileHover:a.isAccessible?{scale:1.1}:{},whileTap:a.isAccessible?{scale:.95}:{},className:cn("flex flex-col items-center transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded-lg p-1",a.isAccessible?"cursor-pointer":"cursor-not-allowed opacity-50"),children:[u.jsxs(kb.div,{initial:!1,animate:{scale:a.isCurrent?1:.9},className:cn("flex items-center justify-center font-semibold text-sm rounded-full transition-all relative",l?"w-8 h-8":"w-10 h-10",a.hasError&&"ring-2 ring-red-500",a.isComplete&&!a.hasError&&"bg-green-500 text-white shadow-md",a.isComplete&&a.hasError&&"bg-red-500 text-white shadow-md",a.isCurrent&&!a.isComplete&&!a.hasError&&"bg-blue-600 text-white ring-4 ring-blue-100 shadow-lg",a.isCurrent&&!a.isComplete&&a.hasError&&"bg-red-600 text-white ring-4 ring-red-100 shadow-lg",!a.isComplete&&!a.isCurrent&&!a.hasError&&"bg-gray-200 text-gray-500",!a.isComplete&&!a.isCurrent&&a.hasError&&"bg-red-100 text-red-600 border-2 border-red-500"),children:[a.isComplete?u.jsx(kb.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:u.jsx(Ia,{className:cn("stroke-[3]",l?"w-4 h-4":"w-5 h-5")})}):a.number,a.hasError&&a.errorCount&&a.errorCount>0&&u.jsx(kb.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-md",children:a.errorCount})]}),u.jsx("span",{className:cn("text-center max-w-[80px] transition-all mt-2",l?"text-[10px]":"text-xs",a.isCurrent&&"font-semibold text-gray-900",!a.isCurrent&&"text-gray-500"),children:a.title})]})}),u.jsxs(TooltipContent,{children:[a.hasError&&a.errorCount&&u.jsxs("p",{className:"text-sm text-red-600 font-semibold mb-1",children:[a.errorCount," validation error",a.errorCount>1?"s":""]}),!a.isAccessible&&!a.isComplete&&u.jsx("p",{className:"text-sm",children:"Complete previous steps first"}),a.isAccessible&&!a.isCurrent&&!a.hasError&&u.jsxs("p",{className:"text-sm",children:["Click to go to ",a.title]}),a.isAccessible&&!a.isCurrent&&a.hasError&&u.jsxs("p",{className:"text-sm",children:["Click to fix errors in ",a.title]}),a.isCurrent&&!a.hasError&&u.jsxs("p",{className:"text-sm",children:["Current step: ",a.title]}),a.isCurrent&&a.hasError&&u.jsxs("p",{className:"text-sm",children:["Current step: ",a.title," (has errors)"]}),a.isComplete&&!a.hasError&&u.jsxs("p",{className:"text-sm",children:[" ",a.title," completed"]})]})]}),c<e.length-1&&u.jsx("div",{className:"flex-1 mx-2 relative",children:u.jsx("div",{className:cn("h-0.5 w-full transition-all duration-300",a.isComplete?"bg-green-500":"bg-gray-200")})})]},a.number))})})}),ErrorAlert=({type:e,title:s,message:a,retryable:l=!1,onRetry:c,onDismiss:p,show:m=!0,className:h,autoDismiss:f})=>{ae.useEffect(()=>{if(m&&f&&p){const e=setTimeout(()=>{p()},f);return()=>clearTimeout(e)}},[m,f,p]);return u.jsx(AnimatePresence,{children:m&&u.jsx(kb.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:h,children:u.jsx(Alert,{variant:"validation"===e?"default":"destructive",className:"relative",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:(()=>{switch(e){case"network":return u.jsx(Ll,{className:"w-5 h-5"});case"server":return u.jsx(Ho,{className:"w-5 h-5"});case"validation":return u.jsx(gl,{className:"w-5 h-5"});default:return u.jsx(Va,{className:"w-5 h-5"})}})()}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(AlertTitle,{className:"mb-1",children:s||(()=>{switch(e){case"network":return"Connection Error";case"server":return"Server Error";case"validation":return"Validation Error";case"upload":return"Upload Failed";case"session":return"Session Expired";default:return"Error"}})()}),u.jsx(AlertDescription,{className:"text-sm",children:a})]}),u.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[l&&c&&u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:c,className:"gap-2 bg-white hover:bg-gray-50",children:[u.jsx(Oo,{className:"w-4 h-4"}),"Retry"]}),p&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:p,className:"h-8 w-8 p-0 hover:bg-white/50",children:u.jsx(Il,{className:"w-4 h-4"})})]})]})})})})},wH={action:1,propertyType:2,title:3,description:3,bedrooms:4,bathrooms:4,parkingSpaces:4,floorSize:4,erfSize:4,features:4,askingPrice:5,monthlyRent:5,deposit:5,transferCostEstimate:5,startingBid:5,reservePrice:5,leaseTerms:5,availableFrom:5,utilitiesIncluded:5,auctionDateTime:5,negotiable:5,address:6,city:6,suburb:6,province:6,postalCode:6,latitude:6,longitude:6,media:7,mediaIds:7,mainMediaId:7},NH={developmentName:0,address:0,city:0,suburb:0,province:0,postalCode:0,latitude:0,longitude:0,unitTypes:1,description:2,amenities:2,highlights:2,completionDate:2,media:3,developerName:4,contactDetails:4};function ValidationErrorList({fieldErrors:e,generalErrors:s,onFieldClick:a,onDismiss:l,className:c=""}){if(!(e.length>0||s.length>0))return null;const p=e.length+s.length;return u.jsx(ea,{className:`border-red-200 bg-red-50 ${c}`,children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Va,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-red-900",children:["Validation Error",p>1?"s":""]}),u.jsxs("p",{className:"text-sm text-red-700 mt-0.5",children:["Please fix the following issue",p>1?"s":""," before submitting:"]})]})]}),l&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:l,className:"text-red-600 hover:text-red-700 hover:bg-red-100 -mt-1 -mr-2",children:"Dismiss"})]}),e.length>0&&u.jsx("div",{className:"space-y-2 mb-3",children:e.map((e,s)=>{return u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg bg-white border border-red-200 "+(a&&void 0!==e.step?"cursor-pointer hover:border-red-300 hover:shadow-sm transition-all":""),onClick:()=>{a&&void 0!==e.step&&a(e.field,e.step)},children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-red-900 text-sm",children:(l=e.field,{action:"Action",propertyType:"Property Type",title:"Title",description:"Description",bedrooms:"Bedrooms",bathrooms:"Bathrooms",parkingSpaces:"Parking Spaces",floorSize:"Floor Size",erfSize:"Erf Size",features:"Features",askingPrice:"Asking Price",monthlyRent:"Monthly Rent",deposit:"Deposit",transferCostEstimate:"Transfer Cost Estimate",startingBid:"Starting Bid",reservePrice:"Reserve Price",leaseTerms:"Lease Terms",availableFrom:"Available From",utilitiesIncluded:"Utilities Included",auctionDateTime:"Auction Date & Time",negotiable:"Negotiable",address:"Address",city:"City",suburb:"Suburb",province:"Province",postalCode:"Postal Code",latitude:"Latitude",longitude:"Longitude",media:"Media",mediaIds:"Media",mainMediaId:"Primary Media",developmentName:"Development Name",unitTypes:"Unit Types",amenities:"Amenities",highlights:"Highlights",completionDate:"Completion Date",developerName:"Developer Name",contactDetails:"Contact Details"}[l]||l.replace(/([A-Z])/g," $1").trim())}),u.jsx("div",{className:"text-sm text-red-700 mt-0.5",children:e.message}),void 0!==e.step&&u.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Step ",e.step]})]}),a&&void 0!==e.step&&u.jsx(Fa,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-1"})]},`${e.field}-${s}`);var l})}),s.length>0&&u.jsx("div",{className:"space-y-2",children:s.map((e,s)=>u.jsx("div",{className:"p-3 rounded-lg bg-white border border-red-200",children:u.jsx("div",{className:"text-sm text-red-700",children:e})},`general-${s}`))})]})})}function parseError(e,s){if(e instanceof TypeError&&e.message.includes("fetch"))return{type:"network",message:"Network connection failed. Please check your internet connection.",originalError:e,isRecoverable:!0,context:s};if("object"==typeof e&&null!==e&&"status"in e){const a=e.status;if(401===a)return{type:"session",message:"Your session has expired. Please log in again.",originalError:e,isRecoverable:!1,statusCode:a,context:s};if(400===a||422===a)return{type:"validation",message:"Please check your input and try again.",originalError:e,isRecoverable:!0,statusCode:a,context:s};if(a>=500)return{type:"server",message:"Server error occurred. Please try again later.",originalError:e,isRecoverable:!0,statusCode:a,context:s}}return"upload"===s?.type?{type:"upload",message:s.message||"File upload failed.",originalError:e,isRecoverable:!0,context:s}:e instanceof Error?{type:"unknown",message:e.message||"An unexpected error occurred.",originalError:e,isRecoverable:!1,context:s}:{type:"unknown",message:"An unexpected error occurred.",originalError:e,isRecoverable:!1,context:s}}function wasSessionExpired(){try{return"true"===localStorage.getItem("auth_session_expired")}catch(e){return!1}}function clearSessionExpiryFlags(){try{localStorage.removeItem("auth_return_url"),localStorage.removeItem("auth_session_expired"),localStorage.removeItem("auth_session_expired_at")}catch(e){console.error("Failed to clear session expiry flags:",e)}}class ValidationEngine{constructor(){this.rules=new Map}addRule(e){const s=this.rules.get(e.field)||[];this.rules.set(e.field,[...s,e])}addRules(e){e.forEach(e=>this.addRule(e))}async validate(e,s,a){const l=this.rules.get(e);if(!l||0===l.length)return{isValid:!0};for(const c of l){if(c.condition&&!c.condition(a))continue;const e=await c.validator(s,a);if(!e.isValid)return{isValid:!1,error:e.error||c.message}}return{isValid:!0}}async validateFields(e,s){const a={};for(const[l,c]of Object.entries(e))a[l]=await this.validate(l,c,s);return a}async validateStep(e,s,a){const l={...a,currentStep:e},c=[];for(const[u,p]of Object.entries(s)){const e=await this.validate(u,p,l);e.isValid||c.push({...e,error:`${u}: ${e.error}`})}return c}async isValid(e,s){const a=await this.validateFields(e,s);return Object.values(a).every(e=>e.isValid)}clearRules(){this.rules.clear()}removeFieldRules(e){this.rules.delete(e)}}const required=(e="This field is required")=>s=>{const a=null==s||""===s||Array.isArray(s)&&0===s.length;return{isValid:!a,error:a?e:void 0}},minLength=(e,s)=>a=>{const l=(a?.toString().length||0)>=e;return{isValid:l,error:l?void 0:s||`Must be at least ${e} characters`}},maxLength=(e,s)=>a=>{const l=(a?.toString().length||0)<=e;return{isValid:l,error:l?void 0:s||`Must be at most ${e} characters`}},numeric=(e="Must be a number")=>s=>{if(null==s||""===s)return{isValid:!0};const a=!isNaN(Number(s));return{isValid:a,error:a?void 0:e}},min=(e,s)=>a=>{if(null==a||""===a)return{isValid:!0};const l=Number(a),c=!isNaN(l)&&l>=e;return{isValid:c,error:c?void 0:s||`Must be at least ${e}`}},max=(e,s)=>a=>{if(null==a||""===a)return{isValid:!0};const l=Number(a),c=!isNaN(l)&&l<=e;return{isValid:c,error:c?void 0:s||`Must be at most ${e}`}},compose2=(...e)=>async(s,a)=>{for(const l of e){const e=await l(s,a);if(!e.isValid)return e}return{isValid:!0}},getFieldError=async(e,s,a)=>{const l=(()=>{const e=new ValidationEngine;return e.addRule({field:"action",validator:required("Please select an action (Sell, Rent, or Auction)"),message:"Action is required",trigger:"submit"}),e.addRule({field:"propertyType",validator:required("Please select a property type"),message:"Property type is required",trigger:"submit"}),e.addRule({field:"title",validator:compose2(required("Property title is required"),minLength(10,"Title must be at least 10 characters"),maxLength(255,"Title must not exceed 255 characters")),message:"Invalid title",trigger:"blur"}),e.addRule({field:"description",validator:compose2(required("Property description is required"),minLength(50,"Description must be at least 50 characters"),maxLength(5e3,"Description must not exceed 5000 characters")),message:"Invalid description",trigger:"blur"}),e.addRule({field:"askingPrice",validator:compose2(required("Asking price is required"),numeric("Price must be a number"),min(1,"Price must be greater than 0")),message:"Invalid asking price",trigger:"blur",condition:e=>"sell"===e?.action}),e.addRule({field:"monthlyRent",validator:compose2(required("Monthly rent is required"),numeric("Rent must be a number"),min(1,"Rent must be greater than 0")),message:"Invalid monthly rent",trigger:"blur",condition:e=>"rent"===e?.action}),e.addRule({field:"deposit",validator:compose2(numeric("Deposit must be a number"),min(0,"Deposit cannot be negative")),message:"Invalid deposit",trigger:"blur",condition:e=>"rent"===e?.action}),e.addRule({field:"startingBid",validator:compose2(required("Starting bid is required"),numeric("Starting bid must be a number"),min(1,"Starting bid must be greater than 0")),message:"Invalid starting bid",trigger:"blur",condition:e=>"auction"===e?.action}),e.addRule({field:"reservePrice",validator:compose2(numeric("Reserve price must be a number"),min(0,"Reserve price cannot be negative")),message:"Invalid reserve price",trigger:"blur",condition:e=>"auction"===e?.action}),e.addRule({field:"address",validator:compose2(required("Address is required"),minLength(5,"Address must be at least 5 characters")),message:"Invalid address",trigger:"blur"}),e.addRule({field:"city",validator:required("City is required"),message:"City is required",trigger:"blur"}),e.addRule({field:"province",validator:required("Province is required"),message:"Province is required",trigger:"blur"}),e.addRule({field:"latitude",validator:compose2(required("Location coordinates are required"),numeric("Latitude must be a number")),message:"Invalid latitude",trigger:"submit"}),e.addRule({field:"longitude",validator:compose2(required("Location coordinates are required"),numeric("Longitude must be a number")),message:"Invalid longitude",trigger:"submit"}),e.addRule({field:"media",validator:e=>{const s=(Array.isArray(e)?e:[]).length>0;return{isValid:s,error:s?void 0:"At least one image or video is required"}},message:"Media is required",trigger:"submit"}),e.addRule({field:"mainMediaId",validator:(e,s)=>{const a=null!=e,l=(Array.isArray(s?.media)?s.media:[]).length>0;return{isValid:!l||a,error:l&&!a?"Please select a primary image":void 0}},message:"Primary media is required",trigger:"submit"}),e.addRule({field:"bedrooms",validator:compose2(required("Number of bedrooms is required"),numeric("Bedrooms must be a number"),min(0,"Bedrooms cannot be negative"),max(50,"Bedrooms seems too high")),message:"Invalid bedrooms",trigger:"blur",condition:e=>["apartment","house"].includes(e?.propertyType||"")}),e.addRule({field:"bathrooms",validator:compose2(required("Number of bathrooms is required"),numeric("Bathrooms must be a number"),min(0,"Bathrooms cannot be negative"),max(20,"Bathrooms seems too high")),message:"Invalid bathrooms",trigger:"blur",condition:e=>["apartment","house"].includes(e?.propertyType||"")}),e.addRule({field:"unitSizeM2",validator:compose2(required("Unit size is required"),numeric("Size must be a number"),min(1,"Size must be greater than 0")),message:"Invalid unit size",trigger:"blur",condition:e=>"apartment"===e?.propertyType}),e.addRule({field:"houseAreaM2",validator:compose2(required("House size is required"),numeric("Size must be a number"),min(1,"Size must be greater than 0")),message:"Invalid house size",trigger:"blur",condition:e=>"house"===e?.propertyType}),e.addRule({field:"erfSizeM2",validator:compose2(required("Yard size is required"),numeric("Size must be a number"),min(1,"Size must be greater than 0")),message:"Invalid yard size",trigger:"blur",condition:e=>"house"===e?.propertyType}),e})();return(await l.validate(e,s,a)).error},useFieldValidation=({field:e,value:s,context:a,trigger:l="blur",debounceMs:c=300})=>{const[u,p]=re.useState(void 0),[m,h]=re.useState(!1),[f,g]=re.useState(!1),b=re.useCallback(async()=>{h(!0);try{const l=await getFieldError(e,s,a);return p(l),!l}catch(pW){return console.error("Validation error:",pW),!1}finally{h(!1)}},[e,s,a]),j=re.useCallback(()=>{p(void 0)},[]),N=re.useCallback(()=>{g(!0),"blur"===l&&b()},[l,b]),k=re.useCallback(()=>{if("change"===l&&f){const e=setTimeout(()=>{b()},c);return()=>clearTimeout(e)}},[l,f,b,c]);return re.useEffect(()=>{if("change"===l&&f){const e=setTimeout(()=>{b()},c);return()=>clearTimeout(e)}},[s,l,f,b,c]),re.useEffect(()=>{u&&s&&b()},[s]),{error:u,isValid:!u,isValidating:m,validate:b,clearError:j,onBlur:N,onChange:k}},SH={sm:"text-xs",md:"text-sm",lg:"text-base"},CH={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},InlineError=({error:e,show:s,className:a,icon:l,size:c="md"})=>u.jsx(AnimatePresence,{mode:"wait",children:s&&e&&u.jsxs(kb.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:4},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.2,ease:"easeInOut"},className:cn("text-red-600 flex items-start gap-1.5 overflow-hidden",SH[c],a),role:"alert","aria-live":"polite",children:[u.jsx("span",{className:cn("flex-shrink-0 mt-0.5",CH[c]),children:l||u.jsx(Va,{className:CH[c]})}),u.jsx("span",{className:"flex-1",children:e})]})}),kH=[{value:"sell",label:"Sell",icon:u.jsx(Bi,{className:"w-8 h-8"}),description:"List your property for sale",color:"blue"},{value:"rent",label:"Rent",icon:u.jsx(Hi,{className:"w-8 h-8"}),description:"Offer your property for rental",color:"green"},{value:"auction",label:"Auction",icon:u.jsx(Pi,{className:"w-8 h-8"}),description:"Sell via auction process",color:"purple"}],ActionStep=()=>{const{action:e,setAction:s}=jH(),a=useFieldValidation({field:"action",value:e,context:{currentStep:1},trigger:"submit"});return u.jsxs("div",{className:"py-8",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:kH.map(l=>{const c=e===l.value;return u.jsxs(ea,{onClick:()=>{return e=l.value,s(e),void a.clearError();var e},className:"relative cursor-pointer transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 "+(c?"border-2 shadow-xl bg-gradient-to-br "+("blue"===l.color?"from-blue-50 to-blue-100 border-blue-400":"green"===l.color?"from-green-50 to-green-100 border-green-400":"from-purple-50 to-purple-100 border-purple-400"):"border-2 border-gray-200 hover:border-gray-300 bg-white"),children:[c&&u.jsx("div",{className:"absolute top-4 right-4 rounded-full p-1 shadow-lg "+("blue"===l.color?"bg-blue-500":"green"===l.color?"bg-green-500":"bg-purple-500"),children:u.jsx(Ia,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"p-8 flex flex-col items-center text-center space-y-4",children:[u.jsx("div",{className:"p-4 rounded-full transition-all shadow-md "+(c?"blue"===l.color?"bg-blue-100 text-blue-600":"green"===l.color?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"),children:l.icon}),u.jsx("h3",{className:"text-2xl font-bold transition-colors "+(c?"blue"===l.color?"text-blue-600":"green"===l.color?"text-green-600":"text-purple-600":"text-gray-900"),children:l.label}),u.jsx("p",{className:"text-gray-600 text-sm",children:l.description})]})]},l.value)})}),a.error&&u.jsx("div",{className:"mt-6",children:u.jsx(InlineError,{error:a.error,show:!!a.error})}),u.jsxs("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" What happens next?"}),u.jsx("p",{className:"text-blue-800 text-sm",children:"After selecting your action, you'll choose the property type and provide relevant details. The form will automatically adapt to show the fields you need based on your selection."})]})]})},_H={apartment:{label:"Apartment",icon:"Building2",description:"Flats, units, and sectional title properties",requiredFields:["bedrooms","bathrooms","unitSizeM2","propertySettings"]},house:{label:"House",icon:"Home",description:"Freestanding homes with land",requiredFields:["bedrooms","bathrooms","erfSizeM2","houseAreaM2"]},farm:{label:"Farm",icon:"Wheat",description:"Agricultural properties and farms",requiredFields:["landSizeHa","farmSuitability"]},land:{label:"Land/Plot",icon:"Map",description:"Vacant land and development plots",requiredFields:["landSizeM2OrHa","zoning"]},commercial:{label:"Commercial",icon:"Store",description:"Office, retail, industrial properties",requiredFields:["subtype","floorAreaM2"]},shared_living:{label:"Shared Living",icon:"Users",description:"Student accommodation, co-living spaces",requiredFields:["roomsAvailable","bathroomTypePerRoom"]}},PH={ready_to_move:{label:"Ready to Move",description:"Property is ready for immediate occupancy"},under_construction:{label:"Under Construction",description:"Property is currently under construction"},off_plan:{label:"Off-Plan",description:"Property is being sold from architectural plans"},move_in_ready:{label:"Move-in Ready",description:"Property is fully finished and ready for occupancy"},fixer_upper:{label:"Fixer-Upper",description:"Property needs renovation or repair work"},renovated:{label:"Renovated",description:"Recently updated with modern finishes",icon:"sparkles",color:"purple"},water_rights:{label:"Water Rights",description:"Registered water rights included",icon:"droplets",color:"blue"},going_concern:{label:"Going Concern",description:"Sold as an operational business",icon:"briefcase",color:"green"},game_fenced:{label:"Game Fenced",description:"Fully fenced for game farming",icon:"fence",color:"orange"},irrigation:{label:"Irrigation",description:"Established irrigation infrastructure",icon:"sprout",color:"cyan"},organic_certified:{label:"Organic Certified",description:"Certified organic production",icon:"leaf",color:"green"},export_quality:{label:"Export Quality",description:"Produces export-grade commodities",icon:"globe",color:"indigo"}},TH={Building2:ka,Home:Bi,Wheat:Ml,Map:uo,Store:al,Users:Cl},PropertyTypeStep=()=>{const e=jH(),s=e.action,a=e.propertyType,l=e.setPropertyType,c=useFieldValidation({field:"propertyType",value:a,context:{action:s,currentStep:2},trigger:"submit"}),p=(()=>{const e=Object.keys(_H);return s&&"rent"!==s?e.filter(e=>"shared_living"!==e):e})();return u.jsxs("div",{className:"py-6",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(e=>{const s=_H[e],p=a===e;return u.jsxs(ea,{onClick:()=>(l(e),void c.clearError()),className:"relative cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 "+(p?"border-2 border-blue-500 shadow-lg bg-gradient-to-br from-blue-50 to-white":"border-2 border-gray-200 hover:border-gray-300 bg-white"),children:[p&&u.jsx("div",{className:"absolute top-3 right-3 bg-blue-500 rounded-full p-1",children:u.jsx(Ia,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"p-4 flex items-center gap-4",children:[u.jsx("div",{className:"flex-shrink-0 p-3 rounded-xl transition-all "+(p?"bg-blue-100":"bg-gray-100"),children:(()=>{const e=TH[s.icon];return e?u.jsx(e,{className:"w-8 h-8 "+(p?"text-blue-600":"text-gray-600")}):null})()}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-bold transition-colors "+(p?"text-blue-600":"text-gray-900"),children:s.label}),u.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:s.description})]})]})]},e)})}),c.error&&u.jsx("div",{className:"mt-6",children:u.jsx(InlineError,{error:c.error,show:!!c.error})}),a&&u.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-green-900 flex items-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),"Selected: ",_H[a].label]}),u.jsx("p",{className:"text-green-800 text-sm mt-1",children:_H[a].description})]})]})};function useDebounce(e,s=300){const[a,l]=re.useState(e);return re.useEffect(()=>{const a=setTimeout(()=>{l(e)},s);return()=>{clearTimeout(a)}},[e,s]),a}const BasicInformationStep=()=>{const e=jH(),s=e.action,a=e.propertyType,l=e.badges||[];l[0];const c=e.title||"",p=e.description||"",m=e.basicInfo||{};e.pricing;const h=e.propertyDetails||{},[f,g]=re.useState(""),[b,j]=re.useState(!1),N=useDebounce(f,300),[k,_]=re.useState(""),[T,E]=re.useState(!1),A=useDebounce(k,300),{data:L,isLoading:O}=At.developer.searchDevelopers.useQuery({query:N},{enabled:N.length>=2}),{data:I,isLoading:$}=At.developer.searchDevelopments.useQuery({query:A,developerId:m.selectedDeveloperId},{enabled:A.length>=2||!!m.selectedDeveloperId}),z={action:s,propertyType:a,currentStep:3},U=useFieldValidation({field:"title",value:c,context:z,trigger:"blur"}),H=useFieldValidation({field:"description",value:p,context:z,trigger:"blur"}),updateBasicInfo=(s,a)=>{e.setBasicInfo?.({...m,[s]:a})||e.updatePropertyDetail?.(s,a)};return u.jsxs("div",{className:"py-6 space-y-6",children:[u.jsxs(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Vi,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Property Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"title",className:"text-slate-700",children:"Property Title *"}),u.jsx(Input,{id:"title",value:c,onChange:s=>{return a=s.target.value,e.setTitle(a),void U.clearError();var a},onBlur:U.onBlur,placeholder:"Enter property title (minimum 10 characters)",className:"mt-1",maxLength:255,"aria-invalid":!!U.error,"aria-describedby":U.error?"title-error":void 0}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsx(InlineError,{error:U.error,show:!!U.error,size:"sm"}),u.jsxs("p",{className:"text-xs text-slate-500",children:[c.length,"/255 characters"]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"description",className:"text-slate-700",children:"Property Description *"}),u.jsx(Textarea,{id:"description",value:p,onChange:s=>{return a=s.target.value,e.setDescription(a),void H.clearError();var a},onBlur:H.onBlur,placeholder:"Describe your property in detail (minimum 50 characters)",className:"mt-1 min-h-[120px]",maxLength:5e3,"aria-invalid":!!H.error,"aria-describedby":H.error?"description-error":void 0}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsx(InlineError,{error:H.error,show:!!H.error,size:"sm"}),u.jsxs("p",{className:"text-xs text-slate-500",children:[p.length,"/5000 characters"]})]})]})]})]}),u.jsxs(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Bi,{className:"w-5 h-5 text-indigo-600"}),u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"farm"===a?"Farm Type":"land"===a?"Land Type":"Property Category"})]}),"farm"===a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{value:"crop_farm",label:"Crop Farm",description:"Agricultural crop production"},{value:"aquaculture",label:"Aquaculture",description:"Fish and aquatic farming"},{value:"livestock_farm",label:"Livestock Farm",description:"Animal husbandry and ranching"},{value:"mixed_farm",label:"Mixed Farm",description:"Combined crop and livestock"},{value:"game_farm",label:"Game Farm",description:"Wildlife and game breeding"},{value:"smallholding",label:"Smallholding / Lifestyle Farm",description:"Small-scale or lifestyle farming"}].map(e=>u.jsx(ea,{onClick:()=>updateBasicInfo("propertyCategory",e.value),className:"cursor-pointer transition-all p-4 "+(m.propertyCategory===e.value?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg "+(m.propertyCategory===e.value?"bg-blue-100":"bg-gray-100"),children:u.jsx(Bi,{className:"w-6 h-6 "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-900"),children:e.label}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.description})]})]})},e.value))}):"land"===a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{value:"residential_land",label:"Residential Land",description:"Zoned for residential development"},{value:"estate_plot",label:"Estate Plot",description:"Land within a residential estate"},{value:"industrial_land",label:"Industrial Land",description:"Zoned for industrial/commercial use"}].map(e=>u.jsx(ea,{onClick:()=>updateBasicInfo("propertyCategory",e.value),className:"cursor-pointer transition-all p-4 "+(m.propertyCategory===e.value?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg "+(m.propertyCategory===e.value?"bg-blue-100":"bg-gray-100"),children:u.jsx(Bi,{className:"w-6 h-6 "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-900"),children:e.label}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.description})]})]})},e.value))}):"commercial"===a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{value:"retail",label:"Retail",description:"Shops, malls, and showrooms",icon:al},{value:"office",label:"Office",description:"Office space and business parks",icon:ka},{value:"industrial",label:"Industrial",description:"Factories and manufacturing",icon:xi},{value:"warehouse",label:"Warehouse",description:"Storage and distribution",icon:El},{value:"mixed",label:"Mixed Use",description:"Combined commercial/residential",icon:Zi}].map(s=>u.jsx(ea,{onClick:()=>{updateBasicInfo("propertyCategory",s.value),e.updatePropertyDetail("subtype",s.value)},className:"cursor-pointer transition-all p-4 "+(m.propertyCategory===s.value?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg "+(m.propertyCategory===s.value?"bg-blue-100":"bg-gray-100"),children:u.jsx(s.icon,{className:"w-6 h-6 "+(m.propertyCategory===s.value?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+(m.propertyCategory===s.value?"text-blue-600":"text-gray-900"),children:s.label}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.description})]})]})},s.value))}):"shared_living"===a?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{value:"room_rental",label:"Room Rental",description:"Single room in shared accommodation",icon:oi},{value:"cottage",label:"Cottage/Granny Flat",description:"Separate unit on property",icon:Bi},{value:"student_accommodation",label:"Student Accommodation",description:"Purpose-built student housing",icon:Mi},{value:"co_living",label:"Co-Living Space",description:"Modern shared living arrangement",icon:Cl}].map(e=>u.jsx(ea,{onClick:()=>updateBasicInfo("propertyCategory",e.value),className:"cursor-pointer transition-all p-4 "+(m.propertyCategory===e.value?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg "+(m.propertyCategory===e.value?"bg-blue-100":"bg-gray-100"),children:u.jsx(e.icon,{className:"w-6 h-6 "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+(m.propertyCategory===e.value?"text-blue-600":"text-gray-900"),children:e.label}),u.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]})},e.value))}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(ea,{onClick:()=>updateBasicInfo("propertyCategory","existing"),className:"cursor-pointer transition-all p-4 "+("existing"===m.propertyCategory?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg "+("existing"===m.propertyCategory?"bg-blue-100":"bg-gray-100"),children:u.jsx(Bi,{className:"w-6 h-6 "+("existing"===m.propertyCategory?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+("existing"===m.propertyCategory?"text-blue-600":"text-gray-900"),children:"Existing Property"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Previously owned or occupied"})]})]})}),u.jsx(ea,{onClick:()=>updateBasicInfo("propertyCategory","new_development"),className:"cursor-pointer transition-all p-4 "+("new_development"===m.propertyCategory?"border-2 border-blue-500 bg-blue-50":"border-2 border-gray-200 hover:border-gray-300"),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg "+("new_development"===m.propertyCategory?"bg-blue-100":"bg-gray-100"),children:u.jsx(Bi,{className:"w-6 h-6 "+("new_development"===m.propertyCategory?"text-blue-600":"text-gray-600")})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold "+("new_development"===m.propertyCategory?"text-blue-600":"text-gray-900"),children:"New Development"}),u.jsx("p",{className:"text-sm text-gray-600",children:"New construction or development"})]})]})})]})]}),"shared_living"!==a&&u.jsxs(ea,{className:"p-6 bg-white/50 backdrop-blur-sm border-slate-200/60 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(Bi,{className:"w-5 h-5 text-blue-600"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Property Details"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["apartment"===a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"bedrooms",className:"text-slate-700",children:"Bedrooms *"}),u.jsx(Input,{id:"bedrooms",type:"number",value:h.bedrooms||"",onChange:s=>e.updatePropertyDetail("bedrooms",Number(s.target.value)),placeholder:"Enter number of bedrooms",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"bathrooms",className:"text-slate-700",children:"Bathrooms *"}),u.jsx(Input,{id:"bathrooms",type:"number",value:h.bathrooms||"",onChange:s=>e.updatePropertyDetail("bathrooms",Number(s.target.value)),placeholder:"Enter number of bathrooms",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"unitSizeM2",className:"text-slate-700",children:"Unit Size (m) *"}),u.jsx(Input,{id:"unitSizeM2",type:"number",value:h.unitSizeM2||"",onChange:s=>e.updatePropertyDetail("unitSizeM2",Number(s.target.value)),placeholder:"Enter unit size in m",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"floorNumber",className:"text-slate-700",children:"Floor Number *"}),u.jsx(Input,{id:"floorNumber",type:"number",value:h.floorNumber||"",onChange:s=>e.updatePropertyDetail("floorNumber",Number(s.target.value)),placeholder:"Enter floor number",className:"mt-1"})]})]}),"house"===a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"bedrooms",className:"text-slate-700",children:"Bedrooms *"}),u.jsx(Input,{id:"bedrooms",type:"number",value:h.bedrooms||"",onChange:s=>e.updatePropertyDetail("bedrooms",Number(s.target.value)),placeholder:"e.g., 4",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"bathrooms",className:"text-slate-700",children:"Bathrooms *"}),u.jsx(Input,{id:"bathrooms",type:"number",value:h.bathrooms||"",onChange:s=>e.updatePropertyDetail("bathrooms",Number(s.target.value)),placeholder:"e.g., 2.5",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"houseAreaM2",className:"text-slate-700",children:"House Size (m) *"}),u.jsx(Input,{id:"houseAreaM2",type:"number",value:h.houseAreaM2||"",onChange:s=>e.updatePropertyDetail("houseAreaM2",Number(s.target.value)),placeholder:"e.g., 250",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"erfSizeM2",className:"text-slate-700",children:"Yard Size (m) *"}),u.jsx(Input,{id:"erfSizeM2",type:"number",value:h.erfSizeM2||"",onChange:s=>e.updatePropertyDetail("erfSizeM2",Number(s.target.value)),placeholder:"e.g., 500",className:"mt-1"})]})]}),"farm"===a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"landSizeHa",className:"text-slate-700",children:"Total Land Size *"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Input,{id:"landSizeHa",type:"number",value:h.landSizeHa||"",onChange:s=>e.updatePropertyDetail("landSizeHa",Number(s.target.value)),placeholder:"e.g., 50",className:"w-48"}),u.jsxs(Select$1,{value:m.landSizeUnit||"hectares",onValueChange:e=>updateBasicInfo("landSizeUnit",e),children:[u.jsx(SelectTrigger,{className:"w-32",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"m2",children:"m"}),u.jsx(SelectItem,{value:"acres",children:"Acres"}),u.jsx(SelectItem,{value:"hectares",children:"Hectares"})]})]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"zoningAgricultural",className:"text-slate-700",children:"Zoning Category *"}),u.jsx(Input,{id:"zoningAgricultural",value:h.zoningAgricultural||"",onChange:s=>e.updatePropertyDetail("zoningAgricultural",s.target.value),placeholder:"e.g., Agricultural",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"waterSource",className:"text-slate-700",children:"Water Source *"}),u.jsxs(Select$1,{value:h.waterSource||"",onValueChange:s=>e.updatePropertyDetail("waterSource",s),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select water source"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"borehole",children:"Borehole"}),u.jsx(SelectItem,{value:"river",children:"River"}),u.jsx(SelectItem,{value:"municipal",children:"Municipal"}),u.jsx(SelectItem,{value:"none",children:"None"})]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"electricitySupply",className:"text-slate-700",children:"Electricity Supply *"}),u.jsxs(Select$1,{value:h.electricitySupply||"",onValueChange:s=>e.updatePropertyDetail("electricitySupply",s),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select electricity supply"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"eskom",children:"Eskom"}),u.jsx(SelectItem,{value:"solar",children:"Solar"}),u.jsx(SelectItem,{value:"generator",children:"Generator"}),u.jsx(SelectItem,{value:"none",children:"None"})]})]})]})]}),"land"===a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"landSizeM2OrHa",className:"text-slate-700",children:"Plot Size *"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Input,{id:"landSizeM2OrHa",type:"number",value:h.landSizeM2OrHa||"",onChange:s=>e.updatePropertyDetail("landSizeM2OrHa",Number(s.target.value)),placeholder:"e.g., 1000",className:"w-48"}),u.jsxs(Select$1,{value:m.landSizeUnit||"m2",onValueChange:e=>updateBasicInfo("landSizeUnit",e),children:[u.jsx(SelectTrigger,{className:"w-32",children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"m2",children:"m"}),u.jsx(SelectItem,{value:"acres",children:"Acres"}),u.jsx(SelectItem,{value:"hectares",children:"Hectares"})]})]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"zoning",className:"text-slate-700",children:"Zoning Type *"}),u.jsxs(Select$1,{value:h.zoning||"",onValueChange:s=>e.updatePropertyDetail("zoning",s),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select zoning"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"residential",children:"Residential"}),u.jsx(SelectItem,{value:"commercial",children:"Commercial"}),u.jsx(SelectItem,{value:"industrial",children:"Industrial"}),u.jsx(SelectItem,{value:"agricultural",children:"Agricultural"}),u.jsx(SelectItem,{value:"mixed",children:"Mixed Use"})]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"servicedStatus",className:"text-slate-700",children:"Serviced Status *"}),u.jsxs(Select$1,{value:h.servicedStatus||"",onValueChange:s=>e.updatePropertyDetail("servicedStatus",s),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select status"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"serviced",children:"Serviced"}),u.jsx(SelectItem,{value:"partially_serviced",children:"Partially Serviced"}),u.jsx(SelectItem,{value:"unserviced",children:"Unserviced"})]})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"roadAccess",className:"text-slate-700",children:"Road Access *"}),u.jsxs(Select$1,{value:h.roadAccess||"",onValueChange:s=>e.updatePropertyDetail("roadAccess",s),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select road access"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"tar",children:"Tar Road"}),u.jsx(SelectItem,{value:"gravel",children:"Gravel Road"}),u.jsx(SelectItem,{value:"none",children:"No Road Access"})]})]})]})]}),"commercial"===a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"floorAreaM2",className:"text-slate-700",children:"Property Size (m) *"}),u.jsx(Input,{id:"floorAreaM2",type:"number",value:h.floorAreaM2||"",onChange:s=>e.updatePropertyDetail("floorAreaM2",Number(s.target.value)),placeholder:"e.g., 500",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"parkingBays",className:"text-slate-700",children:"Parking Availability *"}),u.jsx(Input,{id:"parkingBays",type:"number",value:h.parkingBays||"",onChange:s=>e.updatePropertyDetail("parkingBays",Number(s.target.value)),placeholder:"e.g., 10",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"floorLevel",className:"text-slate-700",children:"Floor Level / Unit Number *"}),u.jsx(Input,{id:"floorLevel",value:h.floorLevel||"",onChange:s=>e.updatePropertyDetail("floorLevel",s.target.value),placeholder:"e.g., Ground Floor or Unit 5",className:"mt-1"})]})]})]})]}),"sell"===s&&("house"===a||"apartment"===a)&&u.jsxs(ea,{className:"p-6 bg-white/50 backdrop-blur-sm border-slate-200/60 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(Bi,{className:"w-5 h-5 text-purple-600"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Additional Information"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["resale"===m.propertyCategory&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"possessionStatus",className:"text-slate-700",children:"Possession Status *"}),u.jsxs(Select$1,{value:m.possessionStatus||"",onValueChange:e=>updateBasicInfo("possessionStatus",e),children:[u.jsx(SelectTrigger,{className:"mt-1",children:u.jsx(SelectValue,{placeholder:"Select status"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"vacant",children:"Vacant"}),u.jsx(SelectItem,{value:"owner_occupied",children:"Owner Occupied"}),u.jsx(SelectItem,{value:"tenant_occupied",children:"Tenant Occupied"})]})]})]}),"tenant_occupied"===m.possessionStatus&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"currentRentalIncome",className:"text-slate-700",children:"Current Rental Income (R/month)"}),u.jsx(Input,{id:"currentRentalIncome",type:"number",value:m.currentRentalIncome||"",onChange:e=>updateBasicInfo("currentRentalIncome",Number(e.target.value)),placeholder:"e.g., 12000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"leaseExpiryDate",className:"text-slate-700",children:"Lease Expiry Date"}),u.jsx(Input,{id:"leaseExpiryDate",type:"date",value:m.leaseExpiryDate||"",onChange:e=>updateBasicInfo("leaseExpiryDate",e.target.value),className:"mt-1"})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"occupancyDate",className:"text-slate-700",children:"Available From"}),u.jsx(Input,{id:"occupancyDate",type:"date",value:m.occupancyDate||"",onChange:e=>updateBasicInfo("occupancyDate",e.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"propertyAge",className:"text-slate-700",children:"Property Age (years)"}),u.jsx(Input,{id:"propertyAge",type:"number",value:m.propertyAge||"",onChange:e=>updateBasicInfo("propertyAge",Number(e.target.value)),placeholder:"e.g., 10",className:"mt-1"})]})]}),"new_development"===m.propertyCategory&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"developerName",className:"text-slate-700",children:"Developer Name *"}),u.jsxs(Popover,{open:b,onOpenChange:j,children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs("div",{className:"relative",children:[u.jsx(Input,{id:"developerName",value:m.developerName||"",onChange:e=>{updateBasicInfo("developerName",e.target.value),g(e.target.value),j(!0),m.selectedDeveloperId&&(updateBasicInfo("selectedDeveloperId",void 0),updateBasicInfo("developmentName",""),updateBasicInfo("selectedDevelopmentId",void 0),_(""))},onFocus:()=>j(!0),placeholder:"Search for developer...",className:"mt-1"}),O&&u.jsx(no,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-400"})]})}),u.jsx(PopoverContent,{className:"w-[400px] p-0",align:"start",onOpenAutoFocus:e=>e.preventDefault(),children:u.jsx(Command,{shouldFilter:!1,children:u.jsx(CommandList,{children:L&&L.length>0?u.jsx(CommandGroup,{heading:"Registered Developers",children:L.map(s=>u.jsx(CommandItem,{value:s.name,onSelect:()=>{console.log("Selected developer:",s.name),e.setBasicInfo({...m,developerName:s.name,selectedDeveloperId:s.id,developmentName:"",selectedDevelopmentId:void 0}),g(s.name),_(""),j(!1),setTimeout(()=>E(!0),100)},className:"cursor-pointer",children:u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx(ka,{className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:s.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[s.city,", ",s.province]})]}),u.jsx(Badge,{variant:"secondary",className:"text-xs",children:s.status})]})},s.id))}):N.length>=2&&!O?u.jsx(CommandEmpty,{children:"No developers found. You can still enter a custom name."}):u.jsx(CommandEmpty,{children:"Type at least 2 characters to search..."})})})})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Search for registered developers or enter a custom name"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"developmentName",className:"text-slate-700",children:"Development Name *"}),u.jsxs(Popover,{open:T,onOpenChange:E,children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs("div",{className:"relative",children:[u.jsx(Input,{id:"developmentName",value:m.developmentName||"",onChange:e=>{updateBasicInfo("developmentName",e.target.value),_(e.target.value),E(!0)},onFocus:()=>E(!0),placeholder:"Search for development...",className:"mt-1"}),$&&u.jsx(no,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-400"})]})}),u.jsx(PopoverContent,{className:"w-[400px] p-0",align:"start",onOpenAutoFocus:e=>e.preventDefault(),children:u.jsx(Command,{shouldFilter:!1,children:u.jsx(CommandList,{children:I&&I.length>0?u.jsx(CommandGroup,{heading:m.selectedDeveloperId?"Developer's Developments":"Published Developments",children:I.map(s=>u.jsx(CommandItem,{value:s.name,onSelect:()=>{console.log("Selected development:",s.name),e.setBasicInfo({...m,developmentName:s.name,selectedDevelopmentId:s.id}),_(s.name),E(!1)},className:"cursor-pointer",children:u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx(Bi,{className:"w-4 h-4 text-green-600"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:s.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[s.city,", ",s.province,"  ",s.developmentType]})]}),u.jsx(Badge,{variant:"secondary",className:"text-xs",children:s.status})]})},s.id))}):(A.length>=2||m.selectedDeveloperId)&&!$?u.jsx(CommandEmpty,{children:m.selectedDeveloperId?"No developments found for this developer. You can still enter a custom name.":"No developments found. You can still enter a custom name."}):m.selectedDeveloperId?u.jsx(CommandEmpty,{children:"Loading developments for selected developer..."}):u.jsx(CommandEmpty,{children:"Type at least 2 characters to search..."})})})})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:m.selectedDeveloperId?"Filtered by selected developer":"Search for developments or enter a custom name"})]})]})]})]}),m.propertyCategory&&"farm"!==a&&u.jsxs(ea,{className:"bg-white/70 backdrop-blur-sm rounded-[1.5rem] border-white/40 shadow-[0_8px_30px_rgba(8,_112,_184,_0.06)] p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(fa,{className:"w-5 h-5 text-purple-600"}),u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Listing Badge"})]}),u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select one badge to highlight a special feature of your property (optional)."}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{let s=[];return"farm"===a?s=["water_rights","going_concern","game_fenced","irrigation","organic_certified","export_quality"]:"existing"===m.propertyCategory?s=["ready_to_move","move_in_ready","fixer_upper","renovated"]:"new_development"===m.propertyCategory&&(s=["under_construction","off_plan"]),s.map(s=>{const a=PH[s],c=l.includes(s);return u.jsxs(ea,{onClick:()=>{c?e.setBadges([]):e.setBadges([s])},className:"cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 "+(c?"border-2 border-blue-500 shadow-lg bg-gradient-to-br from-blue-50 to-white":"border-2 border-gray-200 hover:border-gray-300 bg-white"),children:[c&&u.jsx("div",{className:"absolute top-3 right-3 bg-blue-500 rounded-full p-1",children:u.jsx(Ia,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"p-4 flex flex-col items-center text-center space-y-3",children:[u.jsx(Badge,{variant:"secondary",className:"text-sm font-medium "+(c?"bg-blue-100 text-blue-700":""),children:a.label}),u.jsx("h3",{className:"text-lg font-bold transition-colors "+(c?"text-blue-600":"text-gray-900"),children:a.label}),u.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},s)})})()}),l.length>0&&u.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("h4",{className:"font-semibold text-green-900 flex items-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),"Selected Badge: ",PH[l[0]].label]}),u.jsx("p",{className:"text-green-800 text-sm mt-1",children:PH[l[0]].description})]})]})]})};function AdditionalInformationStep(){const e=jH();e.propertyType;const s=e.additionalInfo||{},[a,l]=ae.useState({}),updateAdditionalInfo=(a,l)=>{e.setAdditionalInfo({...s,[a]:l})},toggleArrayItem=(e,a)=>{const l=s[e]||[],c=l.includes(a)?l.filter(e=>e!==a):[...l,a];updateAdditionalInfo(e,c)},addTag=e=>{const c=a[e]?.trim();if(!c)return;const u=s[e]||[];u.includes(c)||updateAdditionalInfo(e,[...u,c]),l(s=>({...s,[e]:""}))},renderSelect=(e,a,l,c,p)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:e,className:"text-slate-700 font-medium flex items-center gap-2",children:[p&&ae.createElement(p,{className:"w-4 h-4 text-emerald-600"}),a]}),u.jsxs(Select$1,{value:s[e]||"",onValueChange:s=>updateAdditionalInfo(e,s),children:[u.jsx(SelectTrigger,{id:e,className:"bg-white border-slate-200 focus:ring-emerald-500 rounded-xl",children:u.jsx(SelectValue,{placeholder:c})}),u.jsx(SelectContent,{children:l.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),renderHybridInput=(e,c,p,m,h)=>{const f=s[e]||[],g=h.map(e=>e.value),b=f.filter(e=>!g.includes(e));return u.jsxs("div",{className:"space-y-4 col-span-full",children:[u.jsxs(Label$1,{htmlFor:e,className:"text-slate-700 font-medium text-base flex items-center gap-2",children:[m&&ae.createElement(m,{className:"w-4 h-4 text-emerald-600"}),c]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{id:e,value:a[e]||"",onChange:s=>((e,s)=>{l(a=>({...a,[e]:s}))})(e,s.target.value),onKeyDown:s=>((e,s)=>{"Enter"===s.key&&(s.preventDefault(),addTag(e))})(e,s),placeholder:p,className:"bg-white border-slate-200 focus:ring-emerald-500 rounded-xl"}),u.jsxs(Button$1,{type:"button",onClick:()=>addTag(e),className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl px-4",children:[u.jsx(Mo,{className:"w-4 h-4 mr-1"})," Add"]})]}),b.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((a,l)=>u.jsxs("div",{className:"flex items-center gap-1 bg-emerald-100 text-emerald-800 border border-emerald-200 px-3 py-1.5 rounded-full text-sm font-medium animate-in fade-in zoom-in duration-200",children:[a,u.jsx("button",{type:"button",onClick:()=>((e,a)=>{const l=(s[e]||[]).filter(e=>e!==a);updateAdditionalInfo(e,l)})(e,a),className:"ml-1 p-0.5 hover:bg-emerald-200 rounded-full transition-colors",children:u.jsx(Il,{className:"w-3 h-3"})})]},`custom-${a}-${l}`))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Common Features"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h.map(s=>{const a=f.includes(s.value),l=s.icon;return u.jsxs("div",{onClick:()=>toggleArrayItem(e,s.value),className:cn("cursor-pointer rounded-xl border p-3 transition-all duration-200 flex items-center gap-3 group relative overflow-hidden",a?"bg-emerald-50 border-emerald-500 text-emerald-700 shadow-sm":"bg-white border-slate-200 hover:border-emerald-300 hover:bg-slate-50 text-slate-600"),children:[a&&u.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[16px] border-r-[16px] border-t-emerald-500 border-r-transparent rotate-90"}),l&&u.jsx("div",{className:cn("p-2 rounded-lg transition-colors",a?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500 group-hover:text-emerald-500"),children:u.jsx(l,{className:"w-4 h-4"})}),u.jsx("span",{className:"font-medium text-sm",children:s.label})]},s.value)})})]})]})};return u.jsxs("div",{className:"py-6 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Property Details"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Add specific features and details to make your listing stand out."})]}),u.jsx(ea,{className:"p-6 bg-white/60 backdrop-blur-xl border-slate-200/60 shadow-sm rounded-2xl space-y-6",children:renderHybridInput("propertyHighlights","Property Highlights","Add custom highlight...",mo,[{value:"High Ceilings",label:"High Ceilings",icon:mo},{value:"Modern Finishes",label:"Modern Finishes",icon:Ia},{value:"Open Plan",label:"Open Plan",icon:mo},{value:"Natural Light",label:"Natural Light",icon:ml},{value:"Newly Renovated",label:"Newly Renovated",icon:Ia},{value:"Pet Friendly",label:"Pet Friendly",icon:ml},{value:"Secure",label:"Secure",icon:Ko},{value:"Scenic View",label:"Scenic View",icon:jo}])}),u.jsx(ea,{className:"p-6 bg-white/60 backdrop-blur-xl border-slate-200/60 shadow-sm rounded-2xl space-y-6",children:renderHybridInput("additionalRooms","Additional Rooms & Specs","Add custom room...",Jo,[{value:"Study / Office",label:"Study / Office",icon:Jo},{value:"Staff Quarters",label:"Staff Quarters",icon:Bi},{value:"Scullery",label:"Scullery",icon:ci},{value:"Laundry Room",label:"Laundry Room",icon:ci},{value:"Pantry",label:"Pantry",icon:El},{value:"Storage Room",label:"Storage Room",icon:El},{value:"Gym",label:"Gym",icon:mo},{value:"Entertainment Area",label:"Entertainment Area",icon:Jo}])}),u.jsxs(ea,{className:"p-6 bg-white/60 backdrop-blur-xl border-slate-200/60 shadow-sm rounded-2xl space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4 mb-4",children:[u.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:u.jsx(ka,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Setting & Utilities"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[renderSelect("propertySetting","Property Setting",[{value:"gated_community",label:"Gated Community"},{value:"standalone",label:"Standalone"},{value:"complex",label:"Complex"},{value:"estate_living",label:"Estate Living"}],"Select setting",ka),"estate_living"===s.propertySetting&&renderSelect("estateType","Estate Type",[{value:"security_estate",label:"Security Estate"},{value:"golf_estate",label:"Golf Estate"},{value:"equestrian_estate",label:"Equestrian Estate"},{value:"country_estate",label:"Country Estate"},{value:"nature_estate",label:"Nature Estate"},{value:"eco_estate",label:"Eco Estate"}],"Select estate type",ml),renderSelect("powerBackup","Power Backup",[{value:"none",label:"None"},{value:"generator",label:"Generator"},{value:"inverter",label:"Inverter"},{value:"solar",label:"Solar"},{value:"ups",label:"UPS"}],"Select backup",$l),renderSelect("electricitySupply","Electricity Supply",[{value:"prepaid",label:"Prepaid"},{value:"municipality",label:"Municipality"},{value:"eskom",label:"Eskom"},{value:"off_grid",label:"Off-grid"}],"Select supply",Qi),renderSelect("waterSupply","Water Supply",[{value:"prepaid",label:"Prepaid"},{value:"municipality",label:"Municipality"},{value:"borehole",label:"Borehole"}],"Select water",ci),renderSelect("waterHeating","Water Heating",[{value:"electric_geyser",label:"Electric Geyser"},{value:"solar_geyser",label:"Solar Geyser"},{value:"hybrid",label:"Hybrid"}],"Select heating",Ci),renderSelect("internetAccess","Internet Access",[{value:"fibre",label:"Fibre"},{value:"adsl",label:"ADSL"},{value:"satellite",label:"Satellite"},{value:"none",label:"None"}],"Select internet",Dl)]})]}),u.jsxs(ea,{className:"p-6 bg-white/60 backdrop-blur-xl border-slate-200/60 shadow-sm rounded-2xl space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4 mb-4",children:[u.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-600",children:u.jsx(Bi,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Interior & Exterior Features"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[renderSelect("ownershipType","Ownership Type",[{value:"freehold",label:"Freehold"},{value:"sectional_title",label:"Sectional Title"},{value:"leasehold",label:"Leasehold"},{value:"fractional",label:"Fractional Ownership"},{value:"share_block",label:"Share Block"}],"Select ownership",Bi),renderSelect("flooring","Flooring",[{value:"tiled",label:"Tiled"},{value:"laminated",label:"Laminated"},{value:"carpets",label:"Carpets"},{value:"wood",label:"Solid Wood"},{value:"concrete",label:"Polished Concrete"},{value:"vinyl",label:"Vinyl"}],"Select flooring",Zi),renderSelect("parkingType","Parking Type",[{value:"garage",label:"Garage"},{value:"covered_carport",label:"Covered Carport"},{value:"open_parking",label:"Open Parking"},{value:"street",label:"Street Parking"},{value:"none",label:"None"}],"Select parking",Ma),renderSelect("petFriendly","Pet Friendly",[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"cats_only",label:"Cats Only"},{value:"dogs_only",label:"Dogs Only"},{value:"with_permission",label:"With Permission"}],"Select policy",Ha)]})]}),u.jsx(ea,{className:"p-6 bg-white/60 backdrop-blur-xl border-slate-200/60 shadow-sm rounded-2xl space-y-6",children:((e,a,l)=>{const c=s[e]||[];return u.jsxs("div",{className:"space-y-3 col-span-full",children:[u.jsxs(Label$1,{className:"text-slate-700 font-medium text-base flex items-center gap-2",children:[a,u.jsx("span",{className:"text-xs font-normal text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:"Select all that apply"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:l.map(s=>{const a=c.includes(s.value),l=s.icon;return u.jsxs("div",{onClick:()=>toggleArrayItem(e,s.value),className:cn("cursor-pointer rounded-xl border p-3 transition-all duration-200 flex items-center gap-3 group relative overflow-hidden",a?"bg-emerald-50 border-emerald-500 text-emerald-700 shadow-sm":"bg-white border-slate-200 hover:border-emerald-300 hover:bg-slate-50 text-slate-600"),children:[a&&u.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[16px] border-r-[16px] border-t-emerald-500 border-r-transparent rotate-90"}),l&&u.jsx("div",{className:cn("p-2 rounded-lg transition-colors",a?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500 group-hover:text-emerald-500"),children:u.jsx(l,{className:"w-4 h-4"})}),u.jsx("span",{className:"font-medium text-sm",children:s.label})]},s.value)})})]})})("securityFeatures","Security Features",[{value:"alarm",label:"Alarm System",icon:Ko},{value:"electric_fence",label:"Electric Fence",icon:$l},{value:"beams",label:"Outdoor Beams",icon:Ia},{value:"cctv",label:"CCTV Cameras",icon:Ia},{value:"24hr_guard",label:"24hr Guard",icon:Ko},{value:"access_control",label:"Access Control",icon:Ia},{value:"intercom",label:"Intercom",icon:Ia},{value:"security_gates",label:"Security Gates",icon:Ko}])})]})}const PricingStep=()=>{const{action:e,pricing:s,setPricing:a}=jH();return e?u.jsxs("div",{className:"py-4",children:["sell"===e&&u.jsx(SellPricingForm,{pricing:s,setPricing:a}),"rent"===e&&u.jsx(RentPricingForm,{pricing:s,setPricing:a}),"auction"===e&&u.jsx(AuctionPricingForm,{pricing:s,setPricing:a})]}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Please select an action type first (Sell/Rent/Auction)"})},SellPricingForm=({pricing:e={},setPricing:s})=>{const[a,l]=ae.useState(!1),[c,p]=ae.useState(null),handleChange=(a,l)=>{s({...e,[a]:l})};return ae.useEffect(()=>{e.askingPrice&&e.transferCostEstimate},[e.askingPrice]),ae.useEffect(()=>{if(e.askingPrice){const s=calculateMonthlyRepayment(e.askingPrice,11.75,20);p(s)}},[e.askingPrice]),u.jsxs(ea,{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sale Pricing"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs(Label$1,{htmlFor:"askingPrice",children:["Asking Price (R) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{id:"askingPrice",type:"number",value:e.askingPrice||"",onChange:e=>handleChange("askingPrice",parseFloat(e.target.value)),placeholder:"e.g., 2500000",min:"0",step:"1000"}),e.askingPrice&&u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["R ",e.askingPrice.toLocaleString("en-ZA")]})]}),c&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-green-900",children:"Estimated Bond Repayment"}),u.jsxs(Button$1,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!a),children:[a?"Hide":"View"," Calculator"]})]}),u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R ",Math.round(c).toLocaleString("en-ZA")," /month"]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Based on 0% deposit over 20 years at 11.75% p.a."})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:"negotiable",checked:e.negotiable||!1,onCheckedChange:e=>handleChange("negotiable",e)}),u.jsx(Label$1,{htmlFor:"negotiable",className:"font-normal",children:"Price is negotiable"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(ti,{className:"w-5 h-5 text-amber-600"}),"Monthly Costs"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"ratesAndTaxes",children:"Rates & Taxes (R/month)"}),u.jsx(Input,{id:"ratesAndTaxes",type:"number",value:e.ratesAndTaxes||"",onChange:e=>handleChange("ratesAndTaxes",parseFloat(e.target.value)),placeholder:"e.g., 2500",min:"0"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"levies",children:"Levies (R/month)"}),u.jsx(Input,{id:"levies",type:"number",value:e.levies||"",onChange:e=>handleChange("levies",parseFloat(e.target.value)),placeholder:"e.g., 1500",min:"0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If in complex, estate, or sectional title"})]})]})]}),a&&e.askingPrice&&u.jsx(BondCalculator,{propertyPrice:e.askingPrice,showTransferCosts:!0}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Pricing Tips"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Research comparable properties in your area"}),u.jsx("li",{children:" Consider recent market trends and demand"}),u.jsx("li",{children:" Factor in unique features and condition"}),u.jsx("li",{children:" Consult with a real estate agent for valuation"})]})]})]})},RentPricingForm=({pricing:e={},setPricing:s})=>{const[a,l]=ae.useState(e.availableFrom?new Date(e.availableFrom):void 0),handleChange=(a,l)=>{s({...e,[a]:l})};return u.jsxs(ea,{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rental Pricing"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs(Label$1,{htmlFor:"monthlyRent",children:["Monthly Rent (R) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{id:"monthlyRent",type:"number",value:e.monthlyRent||"",onChange:e=>handleChange("monthlyRent",parseFloat(e.target.value)),placeholder:"e.g., 12000",min:"0",step:"100"}),e.monthlyRent&&u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["R ",e.monthlyRent.toLocaleString("en-ZA")," per month"]})]}),u.jsxs("div",{children:[u.jsxs(Label$1,{htmlFor:"deposit",children:["Deposit (R) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{id:"deposit",type:"number",value:e.deposit||"",onChange:e=>handleChange("deposit",parseFloat(e.target.value)),placeholder:"Usually 1-2 months rent",min:"0"}),e.monthlyRent&&!e.deposit&&u.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"mt-1",onClick:()=>handleChange("deposit",e.monthlyRent),children:"Use 1 month rent"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"leaseTerms",children:"Lease Terms"}),u.jsx(Input,{id:"leaseTerms",value:e.leaseTerms||"",onChange:e=>handleChange("leaseTerms",e.target.value),placeholder:"e.g., 12 months minimum"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{children:"Available From"}),u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[u.jsx(Ea,{className:"mr-2 h-4 w-4"}),a?format(a,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(PopoverContent,{className:"w-auto p-0",children:u.jsx(Calendar,{mode:"single",selected:a,onSelect:e=>{l(e),handleChange("availableFrom",e)},initialFocus:!0})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:"utilitiesIncluded",checked:e.utilitiesIncluded||!1,onCheckedChange:e=>handleChange("utilitiesIncluded",e)}),u.jsx(Label$1,{htmlFor:"utilitiesIncluded",className:"font-normal",children:"Utilities included in rent (water, electricity, etc.)"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(ti,{className:"w-5 h-5 text-amber-600"}),"Monthly Costs"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"rent-ratesAndTaxes",children:"Rates & Taxes (R/month)"}),u.jsx(Input,{id:"rent-ratesAndTaxes",type:"number",value:e.ratesAndTaxes||"",onChange:e=>handleChange("ratesAndTaxes",parseFloat(e.target.value)),placeholder:"e.g., 2500",min:"0"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"rent-levies",children:"Levies (R/month)"}),u.jsx(Input,{id:"rent-levies",type:"number",value:e.levies||"",onChange:e=>handleChange("levies",parseFloat(e.target.value)),placeholder:"e.g., 1500",min:"0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If in complex, estate, or sectional title"})]})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Rental Tips"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Competitive pricing attracts quality tenants faster"}),u.jsx("li",{children:" Standard deposit is 1-2 months rent"}),u.jsx("li",{children:" Clearly state what utilities are included"}),u.jsx("li",{children:" Consider offering flexible lease terms"})]})]})]})},AuctionPricingForm=({pricing:e={},setPricing:s})=>{const[a,l]=ae.useState(e.auctionDateTime?new Date(e.auctionDateTime):void 0),handleChange=(a,l)=>{s({...e,[a]:l})};return u.jsxs(ea,{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Auction Details"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs(Label$1,{htmlFor:"startingBid",children:["Starting Bid (R) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{id:"startingBid",type:"number",value:e.startingBid||"",onChange:e=>handleChange("startingBid",parseFloat(e.target.value)),placeholder:"e.g., 1500000",min:"0",step:"1000"}),e.startingBid&&u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["R ",e.startingBid.toLocaleString("en-ZA")]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"reservePrice",children:"Reserve Price (R)"}),u.jsx(Input,{id:"reservePrice",type:"number",value:e.reservePrice||"",onChange:e=>handleChange("reservePrice",parseFloat(e.target.value)),placeholder:"Minimum acceptable price",min:"0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: The minimum price you'll accept (not shown to bidders)"})]}),u.jsxs("div",{children:[u.jsxs(Label$1,{children:["Auction Date & Time ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Popover,{children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"outline",className:"flex-1 justify-start text-left font-normal",children:[u.jsx(Ea,{className:"mr-2 h-4 w-4"}),a?format(a,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(PopoverContent,{className:"w-auto p-0",children:u.jsx(Calendar,{mode:"single",selected:a,onSelect:e=>{l(e),handleChange("auctionDateTime",e)},initialFocus:!0})})]}),u.jsx(Input,{type:"time",className:"w-32",onChange:e=>{if(a){const[s,c]=e.target.value.split(":"),u=new Date(a);u.setHours(parseInt(s),parseInt(c)),l(u),handleChange("auctionDateTime",u)}}})]})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"auctionTerms",children:"Auction Terms Document (Optional)"}),u.jsx(Input,{id:"auctionTerms",type:"file",accept:".pdf",onChange:e=>{const s=e.target.files?.[0];s&&console.log("Upload auction terms:",s)}}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload PDF with auction terms and conditions"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(ti,{className:"w-5 h-5 text-amber-600"}),"Monthly Costs"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"auction-ratesAndTaxes",children:"Rates & Taxes (R/month)"}),u.jsx(Input,{id:"auction-ratesAndTaxes",type:"number",value:e.ratesAndTaxes||"",onChange:e=>handleChange("ratesAndTaxes",parseFloat(e.target.value)),placeholder:"e.g., 2500",min:"0"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"auction-levies",children:"Levies (R/month)"}),u.jsx(Input,{id:"auction-levies",type:"number",value:e.levies||"",onChange:e=>handleChange("levies",parseFloat(e.target.value)),placeholder:"e.g., 1500",min:"0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If in complex, estate, or sectional title"})]})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Auction Tips"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Set a realistic starting bid to attract bidders"}),u.jsx("li",{children:" Reserve price protects you from low offers"}),u.jsx("li",{children:" Schedule auction at convenient times"}),u.jsx("li",{children:" Provide clear terms and conditions"}),u.jsx("li",{children:" Market extensively before auction date"})]})]}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:" Important:"})," Once the auction is live, you cannot change the starting bid or reserve price. Make sure all details are correct before publishing."]})})]})},EH=["places"],AH={width:"100%",height:"400px"},MH={lat:-26.2041,lng:28.0473};function LocationMapPicker({initialLat:e,initialLng:s,onLocationSelect:a,onGeocodingError:l}){const{isLoaded:c,loadError:p}=useJsApiLoader({googleMapsApiKey:"AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4",libraries:EH}),[m,h]=re.useState(e&&s?{lat:e,lng:s}:null),[f,g]=re.useState(!1),b=re.useRef(null),j=re.useRef(null),N=re.useCallback((e,s,a)=>{const l=e.address_components||[],getComponent=e=>{const s=l.find(s=>s.types.includes(e));return s?.long_name},c=getComponent("street_number"),u=getComponent("route"),p=getComponent("sublocality")||getComponent("sublocality_level_1"),m=getComponent("locality")||getComponent("administrative_area_level_2"),h=getComponent("administrative_area_level_1"),f=getComponent("postal_code");return{latitude:s,longitude:a,address:[c,u].filter(Boolean).join(" ")||void 0,suburb:p||void 0,city:m||void 0,province:h||void 0,postalCode:f||void 0,formattedAddress:e.formatted_address}},[]),k=re.useCallback(async(e,s)=>{g(!0);try{const c=new google.maps.Geocoder,u=await c.geocode({location:{lat:e,lng:s}});if(u.results[0]){const l=N(u.results[0],e,s);a(l)}else l?.("No address found for this location")}catch(c){console.error("Geocoding error:",c),l?.("Failed to retrieve address. Please enter manually.")}finally{g(!1)}},[a,l,N]),_=re.useCallback(async e=>{if(!e.latLng)return;const s=e.latLng.lat(),a=e.latLng.lng();h({lat:s,lng:a}),await k(s,a)},[k]),T=re.useCallback(async e=>{if(!e.latLng)return;const s=e.latLng.lat(),a=e.latLng.lng();h({lat:s,lng:a}),await k(s,a)},[k]),E=re.useCallback(()=>{if(!j.current)return;const e=j.current.getPlace();if(e.geometry?.location){const s=e.geometry.location.lat(),l=e.geometry.location.lng();h({lat:s,lng:l}),b.current?.panTo({lat:s,lng:l}),b.current?.setZoom(15);const c=N(e,s,l);a(c)}},[a,N]);return p?u.jsx(Alert,{variant:"destructive",children:u.jsx(AlertDescription,{children:"Failed to load Google Maps. Please check your API key configuration."})}):c?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs(GoogleMap,{mapContainerStyle:AH,center:m||MH,zoom:m?15:6,onClick:_,onLoad:e=>{b.current=e},options:{streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!0,restriction:{latLngBounds:{north:-22,south:-35,west:16,east:33},strictBounds:!1}},children:[m&&u.jsx(fg,{position:m,draggable:!0,onDragEnd:T}),u.jsx(Autocomplete,{onLoad:e=>{j.current=e},onPlaceChanged:E,options:{componentRestrictions:{country:"za"}},children:u.jsx("input",{type:"text",placeholder:"Search for a location...",className:"absolute bottom-4 left-4 w-80 px-4 py-2 rounded-lg shadow-lg border border-gray-300 bg-white/90 backdrop-blur-sm text-slate-900 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white"})})]}),f&&u.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center rounded-lg",children:u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex items-center gap-2",children:[u.jsx(no,{className:"w-5 h-5 animate-spin text-blue-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Retrieving address..."})]})})]}),u.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600 bg-blue-50 p-3 rounded-lg",children:[u.jsx(Vi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),u.jsx("p",{children:"Click on the map or search for a location to drop a pin at your show house. The address fields will be automatically populated. You can drag the pin to adjust the location."})]})]}):u.jsx("div",{className:"flex items-center justify-center h-[400px] bg-slate-100 rounded-lg",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-blue-600"})})}const LocationStep=()=>{const{location:e,setLocation:s}=jH(),[a,l]=re.useState(!1),[c,p]=re.useState(null),m=re.useCallback(l=>{a||(s({address:l.address||l.formattedAddress||"",latitude:l.latitude,longitude:l.longitude,city:l.city||e?.city||"",suburb:l.suburb||e?.suburb||"",province:l.province||e?.province||"",postalCode:l.postalCode||e?.postalCode||""}),p(null),Gr.success("Address populated from map location"))},[a,s,e]),h=re.useCallback(e=>{p(e)},[]),f=re.useCallback(()=>{l(!0),Gr.info("Manual mode enabled. Move the pin to update address again.")},[]),handleAddressChange=(a,l)=>{if(f(),e){const c={...e,[a]:l};s(c)}else{s({address:"",latitude:0,longitude:0,city:"",province:"",[a]:l})}};return u.jsxs(ea,{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Property Location"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(LocationMapPicker,{initialLat:e?.latitude||-26.2041,initialLng:e?.longitude||28.0473,onLocationSelect:m,onGeocodingError:h}),c&&u.jsxs(Alert,{variant:"destructive",children:[u.jsx(gl,{className:"h-4 w-4"}),u.jsx(AlertDescription,{children:c})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600 bg-blue-50 p-3 rounded-lg",children:[u.jsx(Vi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),u.jsx("p",{children:"Address fields are auto-populated when you select a location. You can edit them manually if needed."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsxs(Label$1,{htmlFor:"address",children:["Street Address"," ",!a&&u.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-filled from map)"})]}),u.jsx(Input,{id:"address",placeholder:"Enter street address or use map",value:e?.address||"",onChange:e=>handleAddressChange("address",e.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"suburb",children:"Suburb"}),u.jsx(Input,{id:"suburb",placeholder:"e.g., Sandton",value:e?.suburb||"",onChange:e=>handleAddressChange("suburb",e.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"city",children:"City *"}),u.jsx(Input,{id:"city",placeholder:"e.g., Johannesburg",value:e?.city||"",onChange:e=>handleAddressChange("city",e.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"province",children:"Province *"}),u.jsx(Input,{id:"province",placeholder:"e.g., Gauteng",value:e?.province||"",onChange:e=>handleAddressChange("province",e.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Label$1,{htmlFor:"postalCode",children:"Postal Code"}),u.jsx(Input,{id:"postalCode",placeholder:"e.g., 2196",value:e?.postalCode||"",onChange:e=>handleAddressChange("postalCode",e.target.value),className:"mt-1"})]})]})]})]})},MediaUploadZone=({onUpload:e,maxFiles:s=30,maxSizeMB:a=5,maxVideoSizeMB:l=50,acceptedTypes:c=["image/*","video/*"],existingMediaCount:p=0,disabled:m=!1,className:h})=>{const[f,g]=re.useState(!1),[b,j]=re.useState([]),N=re.useRef(null),validateFiles=e=>{const u=[],m=[];return p+e.length>s?(m.push({file:"Multiple files",reason:`Maximum ${s} files allowed. You can upload ${s-p} more.`}),{valid:u,errors:m}):(e.forEach(e=>{if((e=>c.some(s=>{if(s.endsWith("/*")){const a=s.split("/")[0];return e.type.startsWith(a+"/")}return e.type===s}))(e)){if(!(e=>e.size/1048576<=(e.type.startsWith("video/")?l:a))(e)){const s=e.type.startsWith("video/")?l:a;return void m.push({file:e.name,reason:`File too large. Maximum size is ${s}MB.`})}u.push(e)}else m.push({file:e.name,reason:"Invalid file type. Only images and videos are allowed."})}),{valid:u,errors:m})},k=re.useCallback(s=>{if(!s||0===s.length)return;const a=Array.from(s),{valid:l,errors:c}=validateFiles(a);j(c),c.length>0&&Gr.error(c[0].reason),l.length>0&&(e(l),setTimeout(()=>j([]),3e3)),N.current&&(N.current.value="")},[e,p,s,a,l]),_=re.useCallback(e=>{e.preventDefault(),e.stopPropagation(),m||g(!0)},[m]),T=re.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget===e.target&&g(!1)},[]),E=re.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),A=re.useCallback(e=>{if(e.preventDefault(),e.stopPropagation(),g(!1),m)return;const s=e.dataTransfer.files;k(s)},[m,k]);return u.jsxs("div",{className:cn("space-y-4",h),children:[u.jsxs(kb.div,{onDragEnter:_,onDragLeave:T,onDragOver:E,onDrop:A,onClick:()=>{!m&&N.current&&N.current.click()},whileHover:m?{}:{scale:1.01},whileTap:m?{}:{scale:.99},className:cn("relative border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer","hover:border-blue-400 hover:bg-blue-50/50",f&&"border-blue-500 bg-blue-50 scale-[1.02]",!f&&"border-gray-300 bg-white",m&&"opacity-50 cursor-not-allowed hover:border-gray-300 hover:bg-white",h),children:[u.jsx(kb.div,{animate:f?{scale:1.1,rotate:5}:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20},children:u.jsx(yl,{className:cn("w-12 h-12 mx-auto mb-4 transition-colors",f?"text-blue-600":"text-gray-400")})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:cn("text-lg font-medium transition-colors",f?"text-blue-600":"text-gray-700"),children:f?"Drop files here":"Drag & drop files here"}),u.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),u.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Max ",s," files  ",a,"MB per image  ",l,"MB per video"]}),u.jsxs("p",{className:"text-xs text-gray-400",children:[p>0&&`${p} file${p>1?"s":""} uploaded  `,s-p," remaining"]})]}),u.jsx("input",{ref:N,type:"file",multiple:!0,accept:c.join(","),onChange:e=>{k(e.target.files)},className:"hidden",disabled:m})]}),u.jsx(AnimatePresence,{children:b.length>0&&u.jsx(kb.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:b.map((e,s)=>u.jsxs(kb.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.1*s},className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-sm",children:[u.jsx(Va,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-red-800",children:e.file}),u.jsx("p",{className:"text-red-600",children:e.reason})]})]},s))})})]})},SortableMediaItem=({item:e,onRemove:s,onSetPrimary:a,onPreview:l})=>{const{attributes:c,listeners:p,setNodeRef:m,transform:h,transition:f,isDragging:g}=useSortable({id:e.id}),b={transform:RF.Transform.toString(h),transition:f};return u.jsxs("div",{ref:m,style:b,className:cn("relative group aspect-square rounded-lg overflow-hidden bg-gray-100 border-2",g?"opacity-50 border-blue-500 z-50":"border-transparent hover:border-gray-200",e.isPrimary&&"ring-2 ring-blue-500 ring-offset-2"),children:["image"===e.type||"floorplan"===e.type?u.jsx("img",{src:e.url,alt:e.fileName||"Media",className:"w-full h-full object-cover",draggable:!1}):"video"===e.type?u.jsx("video",{src:e.url,className:"w-full h-full object-cover",muted:!0}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:u.jsx(wi,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{className:cn("absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent","opacity-0 group-hover:opacity-100 transition-opacity"),children:[u.jsx("div",{...c,...p,className:"absolute top-2 left-2 p-1.5 bg-white/90 rounded-md cursor-grab active:cursor-grabbing hover:bg-white",children:u.jsx(Di,{className:"w-4 h-4 text-gray-700"})}),u.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[l&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>l(e.id),className:"h-8 w-8 p-0 bg-white/90 hover:bg-white",children:u.jsx(fi,{className:"w-4 h-4 text-gray-700"})}),u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-8 w-8 p-0 bg-white/90 hover:bg-red-100",children:u.jsx(Il,{className:"w-4 h-4 text-gray-700"})})]}),u.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white/90 rounded-md text-xs font-medium text-gray-700",children:[(()=>{switch(e.type){case"video":return u.jsx(kl,{className:"w-5 h-5"});case"floorplan":case"pdf":return u.jsx(wi,{className:"w-5 h-5"});default:return u.jsx(zi,{className:"w-5 h-5"})}})(),u.jsx("span",{className:"capitalize",children:e.type})]}),a&&u.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:cn("h-8 px-2 text-xs font-medium",e.isPrimary?"bg-blue-600 text-white hover:bg-blue-700":"bg-white/90 text-gray-700 hover:bg-white"),children:[u.jsx(sl,{className:cn("w-3 h-3 mr-1",e.isPrimary&&"fill-current")}),e.isPrimary?"Primary":"Set Primary"]})]})]}),e.isPrimary&&u.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white rounded-md text-xs font-semibold flex items-center gap-1 shadow-lg group-hover:opacity-0 transition-opacity",children:[u.jsx(sl,{className:"w-3 h-3 fill-current"}),"Primary"]})]})},SortableMediaGrid=({media:e,onReorder:s,onRemove:a,onSetPrimary:l,onPreview:c,className:p})=>{const m=useSensors(useSensor(PointerSensor),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));return 0===e.length?u.jsxs("div",{className:cn("text-center py-12 text-gray-500",p),children:[u.jsx(zi,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),u.jsx("p",{children:"No media uploaded yet"})]}):u.jsx(EB,{sensors:m,collisionDetection:closestCenter,onDragEnd:a=>{const{active:l,over:c}=a;if(c&&l.id!==c.id){const a=e.findIndex(e=>e.id===l.id),u=e.findIndex(e=>e.id===c.id),p=arrayMove(e,a,u).map((e,s)=>({...e,displayOrder:s}));s(p)}},children:u.jsx(SortableContext,{items:e.map(e=>e.id),strategy:rectSortingStrategy,children:u.jsx("div",{className:cn("grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",p),children:e.map(e=>u.jsx(SortableMediaItem,{item:e,onRemove:a,onSetPrimary:l,onPreview:c},e.id))})})})},formatBytes=e=>{if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(1)} ${["B","KB","MB","GB"][s]}`},formatTime=e=>{if(e<60)return`${Math.round(e)}s`;return`${Math.floor(e/60)}m ${Math.round(e%60)}s`},UploadProgressItem=({upload:e,onCancel:s,onRetry:a,onRemove:l})=>{const[c,p]=re.useState(null);re.useEffect(()=>{if("completed"===e.status&&l){const s=setTimeout(()=>{l(e.id)},3e3);return p(s),()=>clearTimeout(s)}},[e.status,e.id,l]);return u.jsx(kb.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:cn("p-4 rounded-lg border transition-colors","uploading"===e.status&&"bg-blue-50 border-blue-200","completed"===e.status&&"bg-green-50 border-green-200","error"===e.status&&"bg-red-50 border-red-200","cancelled"===e.status&&"bg-gray-50 border-gray-200"),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:(()=>{const s=e.file?.type||"",a=e.fileName||e.file?.name||"";return s.startsWith("video/")||a.endsWith(".mp4")||a.endsWith(".mov")?u.jsx(Ni,{className:"w-5 h-5 text-blue-600"}):u.jsx(yi,{className:"w-5 h-5 text-blue-600"})})()}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName||e.file?.name||"Unknown file"}),(()=>{switch(e.status){case"uploading":return u.jsx(no,{className:"w-4 h-4 text-blue-600 animate-spin"});case"completed":return u.jsx(Ha,{className:"w-4 h-4 text-green-600"});case"error":return u.jsx(Va,{className:"w-4 h-4 text-red-600"});case"cancelled":return u.jsx(Il,{className:"w-4 h-4 text-gray-600"})}})()]}),e.file?.size&&u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:formatBytes(e.file.size)}),"uploading"===e.status&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:u.jsx(kb.div,{initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.3},className:"h-full bg-blue-600 rounded-full"})}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[u.jsxs("span",{children:[e.progress,"%"]}),e.uploadSpeed&&u.jsxs("span",{children:[formatBytes(e.uploadSpeed),"/s"]}),e.timeRemaining&&u.jsxs("span",{children:[formatTime(e.timeRemaining)," remaining"]})]})]}),"error"===e.status&&e.error&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:e.error}),"completed"===e.status&&u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Upload completed"}),"cancelled"===e.status&&u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Upload cancelled"})]}),u.jsxs("div",{className:"flex-shrink-0 flex gap-1",children:["uploading"===e.status&&s&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>s(e.id),className:"h-8 w-8 p-0 hover:bg-red-100",children:u.jsx(Il,{className:"w-4 h-4 text-gray-600"})}),"error"===e.status&&a&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:"h-8 px-2 text-xs hover:bg-blue-100",children:"Retry"}),("completed"===e.status||"error"===e.status||"cancelled"===e.status)&&l&&u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{c&&clearTimeout(c),l(e.id)},className:"h-8 w-8 p-0 hover:bg-gray-200",children:u.jsx(Il,{className:"w-4 h-4 text-gray-600"})})]})]})})},UploadProgressList=({uploads:e,onCancel:s,onRetry:a,onRemove:l,className:c})=>{if(0===e.length)return null;const p=e.length,m=e.filter(e=>"completed"===e.status).length,h=e.filter(e=>"error"===e.status).length,f=e.filter(e=>"uploading"===e.status).length;return u.jsxs("div",{className:cn("space-y-4",c),children:[f>0&&u.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(no,{className:"w-4 h-4 text-blue-600 animate-spin"}),u.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Uploading ",f," ",1===f?"file":"files","..."]})]}),u.jsxs("span",{className:"text-xs text-blue-700",children:[m,"/",p," completed"]})]}),u.jsx(AnimatePresence,{mode:"popLayout",children:e.map(e=>u.jsx(UploadProgressItem,{upload:e,onCancel:s,onRetry:a,onRemove:l},e.id))}),0===f&&p>0&&u.jsx(kb.div,{initial:{opacity:0},animate:{opacity:1},className:cn("p-3 rounded-lg border text-sm",h>0?"bg-yellow-50 border-yellow-200 text-yellow-900":"bg-green-50 border-green-200 text-green-900"),children:h>0?u.jsxs("span",{children:[m," ",1===m?"file":"files"," uploaded successfully,"," ",h," failed"]}):u.jsxs("span",{children:["All ",m," ",1===m?"file":"files"," uploaded successfully"]})})]})},MediaUploadStep=()=>{const e=jH(),[s,a]=re.useState([]),l=At.listing.uploadMedia.useMutation(),c=re.useCallback(async s=>{if(!s||0===s.length)return;const c=s.map((e,s)=>({id:`upload-${Date.now()}-${s}`,fileName:e.name,progress:0,status:"uploading"}));a(e=>[...e,...c]);for(let p=0;p<s.length;p++){const m=s[p],h=c[p].id,f=Date.now();try{const s=m.type.startsWith("image/")?"image":"video";a(e=>e.map(e=>e.id===h?{...e,progress:10}:e));const c=await l.mutateAsync({type:s,filename:m.name,contentType:m.type});a(e=>e.map(e=>e.id===h?{...e,progress:20}:e));const u=new XMLHttpRequest;await new Promise((e,s)=>{u.upload.addEventListener("progress",e=>{if(e.lengthComputable){const s=20+e.loaded/e.total*70,l=(Date.now()-f)/1e3,c=e.loaded/l,u=(e.total-e.loaded)/c;a(e=>e.map(e=>e.id===h?{...e,progress:Math.round(s),speed:c,timeRemaining:u}:e))}}),u.addEventListener("load",()=>{u.status>=200&&u.status<300?e():s(new Error(`Upload failed with status ${u.status}`))}),u.addEventListener("error",()=>s(new Error("Network error"))),u.addEventListener("abort",()=>s(new Error("Upload cancelled"))),u.open("PUT",c.uploadUrl),u.setRequestHeader("Content-Type",m.type),u.send(m)}),a(e=>e.map(e=>e.id===h?{...e,progress:95}:e));const p={id:c.mediaId,url:c.publicUrl,type:s,fileName:m.name,fileSize:m.size,displayOrder:e.media.length,isPrimary:0===e.media.length,processingStatus:"completed"};e.addMedia(p),1===e.media.length&&e.setMainMedia(c.mediaId),a(e=>e.map(e=>e.id===h?{...e,progress:100,status:"completed"}:e))}catch(u){console.error("Upload error:",u),a(e=>e.map(e=>e.id===h?{...e,status:"error",error:u.message||"Upload failed"}:e))}}},[e,l]),p=e.media.map((e,s)=>({id:e.id?.toString()||`media-${s}`,url:e.url,type:e.type,fileName:e.fileName,isPrimary:e.isPrimary,displayOrder:e.displayOrder})),m=re.useCallback(s=>{const a=s.map((s,a)=>({...e.media.find(e=>e.id?.toString()===s.id),displayOrder:a})).filter(Boolean);e.setMedia(a)},[e]),h=re.useCallback(s=>{const a=e.media.findIndex(e=>e.id?.toString()===s);-1!==a&&e.removeMedia(a)},[e]),f=re.useCallback(s=>{e.setMainMedia(s)},[e]),g=re.useCallback(e=>{a(s=>s.filter(s=>s.id!==e))},[]),b=re.useCallback(e=>{a(s=>s.filter(s=>s.id!==e))},[]),j=re.useCallback(e=>{a(s=>s.filter(s=>s.id!==e))},[]);return u.jsx(ea,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Media"}),u.jsx("p",{className:"text-gray-600",children:"Add photos and videos to showcase your property. High-quality images help attract more potential buyers."})]}),u.jsx(MediaUploadZone,{onUpload:c,maxFiles:30,maxSizeMB:5,maxVideoSizeMB:50,acceptedTypes:["image/*","video/*"],existingMediaCount:e.media.length,disabled:s.some(e=>"uploading"===e.status)}),s.length>0&&u.jsx(UploadProgressList,{uploads:s,onCancel:g,onRetry:b,onRemove:j}),e.media.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"font-medium",children:["Uploaded Media (",e.media.length,")"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Drag to reorder  Click star to set primary"})]}),u.jsx(SortableMediaGrid,{media:p,onReorder:m,onRemove:h,onSetPrimary:f})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Qi,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Upload Tips"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Use high-quality photos with good lighting"}),u.jsx("li",{children:" Include wide shots and detailed close-ups"}),u.jsx("li",{children:" Show all rooms and key features"}),u.jsx("li",{children:" Keep videos under 60 seconds"}),u.jsx("li",{children:" First uploaded image becomes the primary image"})]})]})]})})]})})};function QualityScoreCard({qualityScore:e,qualityBreakdown:s,tips:a=[],className:l}){const[c,p]=re.useState(!1),{label:m,color:h}=getQualityTier(e),f={green:{text:"text-green-600",bg:"bg-green-100",border:"border-green-200"},blue:{text:"text-blue-600",bg:"bg-blue-100",border:"border-blue-200"},yellow:{text:"text-yellow-600",bg:"bg-yellow-100",border:"border-yellow-200"},red:{text:"text-orange-600",bg:"bg-orange-100",border:"border-orange-200"}},g=f[h]||f.red,b=[...a];return 0===b.length&&s&&(s.imageCount<10&&b.push(`Add ${10-s.imageCount} more photos.`),s.descriptionLength<500&&b.push("Expand description to 500+ characters."),s.hasVideo||s.hasVirtualTour||b.push("Add a video or virtual tour."),s.featureCount<5&&b.push("Add more key features.")),u.jsxs(ea,{className:`overflow-hidden ${l}`,children:[u.jsx(ta,{className:"pb-3 bg-slate-50 border-b",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{children:u.jsxs(ra,{className:"text-sm font-medium uppercase tracking-wider text-slate-500 flex items-center gap-2",children:[u.jsx(_i,{className:"w-4 h-4"})," Listing Quality"]})}),u.jsx(Badge,{variant:"outline",className:`${g.bg} ${g.text} border ${g.border}`,children:m})]})}),u.jsxs(sa,{className:"pt-6",children:[u.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[u.jsx("span",{className:"text-4xl font-bold font-heading",children:e}),u.jsx("span",{className:"text-sm text-slate-400 mb-1",children:"/ 100"})]}),u.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full mb-4 overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${g.text.replace("text","bg")}`,style:{width:`${e}%`}})}),b.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"w-full justify-between text-slate-600 hover:text-slate-900 px-0 hover:bg-transparent",onClick:()=>p(!c),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qi,{className:"w-4 h-4 text-amber-500"}),u.jsxs("span",{className:"font-medium text-sm",children:["Optimization Tips (",b.length,")"]})]}),c?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx($a,{className:"w-4 h-4"})]}),c&&u.jsx("ul",{className:"mt-3 space-y-2 animate-in slide-in-from-top-2",children:b.map((e,s)=>u.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mt-1.5 shrink-0"}),e]},s))})]})]})]})}const PreviewStep=()=>{const e=jH(),{user:s}=useAuth(),a=e.media.find(e=>e.isPrimary)||e.media[0],l=e.media.filter(e=>"image"===e.type).length,c=e.media.filter(e=>"video"===e.type).length,p=[...e.additionalInfo?.propertyHighlights||[],...e.additionalInfo?.additionalRooms||[],...e.additionalInfo?.securityFeatures||[]],getPropertyArea=()=>e.propertyDetails?"apartment"===e.propertyType?Number(e.propertyDetails.unitSizeM2)||0:"house"===e.propertyType?Number(e.propertyDetails.houseAreaM2)||0:"land"===e.propertyType?Number(e.propertyDetails.landSizeM2OrHa)||0:"farm"===e.propertyType?Number(e.propertyDetails.landSizeHa)||0:"commercial"===e.propertyType&&Number(e.propertyDetails.floorAreaM2)||0:0,getPrice=()=>e.pricing?"sell"===e.action?Number(e.pricing.askingPrice)||0:"rent"===e.action?Number(e.pricing.monthlyRent)||0:Number(e.pricing.startingBid)||0:0,m=function calculateListingQualityScore(e){const s=e.images||e.media?.filter(e=>"image"===e.type||"image"===e.mediaType)||[],a=e.videos||e.media?.filter(e=>"video"===e.type||"video"===e.mediaType)||[],l=(e.description||"").length,c=e.features||e.propertyHighlights||e.amenities||[],u=Array.isArray(c)?c.length:0,p=!!(e.floorSize||e.propertySize||e.erfSize||e.propertyDetails&&(e.propertyDetails.unitSizeM2||e.propertyDetails.erfSizeM2)),m=e.price>0||e.askingPrice>0||e.monthlyRent>0,h=!(!e.latitude||!e.longitude),f=!0===e.isVerifiedAgent||"verified"===e.agent?.verificationStatus,g=!0===e.isExclusive||"exclusive"===e.mandateType,b=!!e.virtualTourUrl||a.some(e=>e.isVirtualTour),j=a.length>0,N=s.length;let k=0;const _=[];N>=5&&(k+=15),N>=10&&(k+=10),N<5?_.push(`Add ${5-N} more photos to reach the minimum recommended standard.`):N<10&&_.push(`Add ${10-N} more photos to improve your gallery score.`),N>=5&&(k+=10),j||b?k+=5:_.push("Add a video or virtual tour to engage more buyers."),l>=300&&(k+=10),l>=500&&(k+=10),l<300?_.push("Expand your description to at least 300 characters."):l<500&&_.push("Add more detail to your description (500+ characters recommended)."),u>=5?k+=5:_.push("List at least 5 key features or amenities."),p?k+=5:_.push("Add property floor size or erf size."),m?k+=10:_.push("Ensure price is clearly listed."),h?k+=5:_.push("Pinpoint exact location on the map."),f&&(k+=5),g&&(k+=5);const T=[];return f&&T.push("Verified Agent"),g&&T.push("Exclusive Mandate"),k=Math.min(100,k),{score:k,breakdown:{imageCount:N,hasVideo:j,descriptionLength:l,featureCount:u,hasVirtualTour:b,trustSignals:T,priceClarity:m,locationAccuracy:h,floorSizePresent:p},tips:_}}({...e,images:e.media.filter(e=>"image"===e.type),videos:e.media.filter(e=>"video"===e.type),features:p,price:getPrice(),askingPrice:getPrice(),monthlyRent:getPrice(),latitude:e.location?.latitude,longitude:e.location?.longitude,floorSize:getPropertyArea()});return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Preview Your Listing"}),u.jsx("p",{className:"text-slate-600",children:"This is how your property will appear in search results"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(PropertyCardList,{id:"preview",title:e.title||"Untitled Property",price:getPrice(),location:`${e.location?.address||""}, ${e.location?.city||""}`,image:a?.url||"/assets/placeholder.jpg",description:e.description,bedrooms:Number(e.propertyDetails?.bedrooms)||0,bathrooms:Number(e.propertyDetails?.bathrooms)||0,area:getPropertyArea(),yardSize:(()=>{if(e.propertyDetails)return"house"===e.propertyType&&Number(e.propertyDetails.erfSizeM2)||void 0})(),propertyType:e.propertyType?e.propertyType.charAt(0).toUpperCase()+e.propertyType.slice(1):"Property",listingType:e.action,agent:{name:s?.name||"Current User",image:s?.avatar||void 0},badges:e.badges?.map(e=>e.label),imageCount:l,videoCount:c,highlights:p})}),u.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 max-w-4xl mx-auto mt-8",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Listing Summary"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Location"}),u.jsxs("p",{className:"text-slate-600",children:[e.location?.address,u.jsx("br",{}),e.location?.city,", ",e.location?.province,u.jsx("br",{}),e.location?.postalCode]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Features"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map((e,s)=>u.jsx(Badge,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:e},s)),0===p.length&&u.jsx("span",{className:"text-slate-500 italic",children:"No amenities selected"})]})]})]})]}),u.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:u.jsx(QualityScoreCard,{qualityScore:m.score,qualityBreakdown:m.breakdown,tips:m.tips})})]})},ListingWizard=()=>{const e=jH(),[s,a]=useLocation(),{user:l}=useAuth(),[c,p]=re.useState(!1),[m,h]=re.useState(null),[f,g]=re.useState(!1),[b,j]=re.useState(0),[N,k]=re.useState(!1),[_,T]=re.useState(!1),[E,A]=re.useState(null),[L,O]=re.useState(0),[I,$]=re.useState(null),{lastSaved:z,isSaving:U,error:H}=useAutoSave({action:e.action,propertyType:e.propertyType,title:e.title,description:e.description,pricing:e.pricing,propertyDetails:e.propertyDetails,location:e.location,media:e.media,badges:e.badges,basicInfo:e.basicInfo,additionalInfo:e.additionalInfo,currentStep:e.currentStep,completedSteps:e.completedSteps,mainMediaId:e.mainMediaId},{onSave:async()=>{await new Promise(e=>setTimeout(e,500))},debounceMs:2e3,enabled:!c&&e.currentStep>1,onError:e=>{console.error("Auto-save error:",e),Gr.error("Failed to auto-save draft")}}),q=At.listing.create.useMutation(),Z=At.listing.submitForReview.useMutation(),Y=At.listing.update.useMutation(),X=new URLSearchParams(window.location.search),J=X.get("id"),ae="true"===X.get("edit"),{data:le,isLoading:ce}=At.listing.getById.useQuery({id:Number(J)},{enabled:!!J&&ae});re.useEffect(()=>{if(le&&ae){console.log("Populating wizard with existing listing:",le),e.reset(),e.setAction(le.action),e.setPropertyType(le.propertyType),e.setTitle(le.title),e.setDescription(le.description);const s={};le.askingPrice&&(s.askingPrice=Number(le.askingPrice)),le.monthlyRent&&(s.monthlyRent=Number(le.monthlyRent)),le.deposit&&(s.deposit=Number(le.deposit)),le.transferCostEstimate&&(s.transferCostEstimate=Number(le.transferCostEstimate)),le.startingBid&&(s.startingBid=Number(le.startingBid)),le.reservePrice&&(s.reservePrice=Number(le.reservePrice)),le.leaseTerms&&(s.leaseTerms=le.leaseTerms),le.availableFrom&&(s.availableFrom=new Date(le.availableFrom)),le.utilitiesIncluded&&(s.utilitiesIncluded=Boolean(le.utilitiesIncluded)),le.auctionDateTime&&(s.auctionDateTime=new Date(le.auctionDateTime)),le.auctionTermsDocumentUrl&&(s.auctionTermsDocumentUrl=le.auctionTermsDocumentUrl),le.negotiable&&(s.negotiable=Boolean(le.negotiable)),e.setPricing(s),le.propertyDetails&&(e.setPropertyDetails(le.propertyDetails),le.propertyDetails.features&&e.setAdditionalInfo({propertyHighlights:le.propertyDetails.features||[]})),e.setLocation({address:le.address,latitude:Number(le.latitude),longitude:Number(le.longitude),city:le.city,suburb:le.suburb||"",province:le.province,postalCode:le.postalCode||"",placeId:le.placeId||""}),le.media&&le.media.length>0&&le.media.forEach(s=>{e.addMedia({id:s.id,file:null,preview:s.originalUrl,type:s.mediaType,progress:100,displayOrder:s.displayOrder,isPrimary:Boolean(s.isPrimary),description:""}),s.isPrimary&&e.setMainMedia(s.id)}),e.goToStep(1),g(!1)}},[le,ae]),re.useEffect(()=>{wasSessionExpired()&&(console.log("Session was expired, draft should be restored automatically"),clearSessionExpiryFlags(),Gr.success("Welcome back! Your draft has been restored.",{description:"You can continue where you left off."}))},[]);const[de,ue]=re.useState(!1);re.useEffect(()=>{if(ae)return void ue(!0);if("submitted"===e.status)return console.log("Wizard was previously submitted, resetting for new listing..."),e.reset(),void ue(!0);(e.currentStep>1||e.action||e.propertyType)&&g(!0),ue(!0)},[ae]);re.useEffect(()=>{"submitted"===e.status&&q.data},[e.status,q.data,a]);const handleSubmit=async()=>{if(e.validate()){p(!0),h(null),A(null),$(null);try{const a={action:e.action,propertyType:e.propertyType,title:e.title,description:e.description,pricing:{...e.pricing,..."transferCostEstimate"in e.pricing?null===e.pricing.transferCostEstimate||void 0===e.pricing.transferCostEstimate||isNaN(Number(e.pricing.transferCostEstimate))?{}:{transferCostEstimate:Number(e.pricing.transferCostEstimate)}:{}},propertyDetails:{...e.propertyDetails||{},...e.additionalInfo||{}},location:e.location,mediaIds:e.media.map(e=>e.id?.toString()||""),mainMediaId:e.mainMediaId?.toString()||(e.media.length>0?e.media[0].id?.toString():void 0)};let c;console.log("Submitting listing data:",a),ae&&J?(await Y.mutateAsync({id:Number(J),...a}),c={id:Number(J)},console.log("Listing updated:",c)):(c=await q.mutateAsync(a),console.log("Listing created:",c));try{await Z.mutateAsync({listingId:c.id}),console.log("Listing submitted for review"),Gr.success("Listing submitted for review successfully!"),e.reset(),window.history.length>1?window.history.back():window.location.href="agent"===l?.role?"/agent/dashboard":"property_developer"===l?.role?"/developer/dashboard":"/"}catch(s){console.error("Error submitting for review:",s);const e=parseError(s,{type:"server",context:{operation:"submitForReview"}});A(e),Gr.error("Listing created but failed to submit for review.")}}catch(a){console.error("Error submitting listing:",a);const e=parseError(a,{type:"network",context:{operation:"createListing"}});if(function getRecoveryStrategy(e){switch(e.type){case"network":return{type:"network",message:"Connection lost. Your draft has been saved. Please check your internet connection and try again.",retryable:!0,maxRetries:3,retryDelay:2e3};case"validation":return{type:"validation",message:e.message||"Please fix the highlighted errors before continuing.",retryable:!1};case"server":return{type:"server",message:"Server error occurred. Please try again in a moment.",retryable:!0,maxRetries:2,retryDelay:5e3};case"upload":return{type:"upload",message:e.message||"File upload failed. Please try again.",retryable:!0,maxRetries:2,retryDelay:1e3};case"session":return{type:"session",message:"Your session has expired. Please log in again to continue.",retryable:!1};default:return{type:"unknown",message:e.message||"An unexpected error occurred.",retryable:!1}}}(e),"validation"===e.type){const e=function parseServerValidationErrors(e,s="listing"){const a=[],l=[],c=new Set,u="listing"===s?wH:NH;if(e?.data?.zodError?.fieldErrors){const s=e.data.zodError.fieldErrors;Object.entries(s).forEach(([e,s])=>{(Array.isArray(s)?s:[s]).forEach(s=>{const l=u[e];a.push({field:e,message:"string"==typeof s?s:String(s),step:l}),void 0!==l&&c.add(l)})})}else if(e?.data?.validationErrors){const s=e.data.validationErrors;Array.isArray(s)?s.forEach(e=>{if(e.field){const s=u[e.field];a.push({field:e.field,message:e.message||"Validation error",step:s}),void 0!==s&&c.add(s)}else l.push(e.message||"Validation error")}):"object"==typeof s&&Object.entries(s).forEach(([e,s])=>{const l=u[e];a.push({field:e,message:"string"==typeof s?s:String(s),step:l}),void 0!==l&&c.add(l)})}else e?.errors&&Array.isArray(e.errors)?e.errors.forEach(e=>{if(e.path&&e.path.length>0){const s=e.path[0],l=u[s];a.push({field:s,message:e.message||"Validation error",step:l}),void 0!==l&&c.add(l)}else l.push(e.message||"Validation error")}):e?.fieldErrors&&"object"==typeof e.fieldErrors?Object.entries(e.fieldErrors).forEach(([e,s])=>{const l=u[e];a.push({field:e,message:"string"==typeof s?s:String(s),step:l}),void 0!==l&&c.add(l)}):e?.message&&l.push(e.message);return{fieldErrors:a,generalErrors:l,affectedSteps:Array.from(c).sort((e,s)=>e-s)}}(a,"listing");$(e),Gr.error("Please fix validation errors",{description:`${e.fieldErrors.length+e.generalErrors.length} error(s) found`})}else A(e),h(e.message),"network"===e.type?Gr.error("Connection lost. Your draft has been saved.",{description:"You can retry when your connection is restored."}):"session"===e.type?function handleSessionExpiry(e={}){const{onSessionExpired:s,onDraftSaved:l,redirectUrl:c="/login",returnUrl:u=window.location.pathname+window.location.search}=e;try{localStorage.setItem("auth_return_url",u),localStorage.setItem("auth_session_expired","true"),localStorage.setItem("auth_session_expired_at",(new Date).toISOString())}catch(a){console.error("Failed to save return URL:",a)}s?.(),l?.(),setTimeout(()=>{window.location.href=`${c}?expired=true&return=${encodeURIComponent(u)}`},500)}({onSessionExpired:()=>{Gr.error("Your session has expired. Please log in again.",{description:"Your draft has been saved and will be restored after login."})},onDraftSaved:()=>{console.log("Draft saved before session expiry redirect")}}):Gr.error(e.message)}finally{p(!1)}}};e.currentStep;const me=["Action","Type","Basic Info","Additional Info","Pricing","Location","Media","Preview"],he=re.useMemo(()=>{const s=((e,s,a)=>e.map((e,l)=>{const c=l+1,u=a.includes(c)||c<s,p=c===s;return{number:c,title:e,isComplete:u,isCurrent:p,isAccessible:u||p||c===s+1,hasError:!1,errorCount:0}}))(me,e.currentStep,e.completedSteps);if(I&&I.affectedSteps.length>0){const e=new Map;return I.fieldErrors.forEach(s=>{void 0!==s.step&&e.set(s.step,(e.get(s.step)||0)+1)}),((e,s)=>e.map(e=>({...e,hasError:s.has(e.number),errorCount:s.get(e.number)||0})))(s,e)}return s},[me,e.currentStep,e.completedSteps,I]),fe=re.useMemo(()=>{const s={address:e.location?.address,latitude:e.location?.latitude,longitude:e.location?.longitude,askingPrice:e.pricing?.askingPrice,monthlyRent:e.pricing?.monthlyRent,media:e.media,description:e.description,propertyType:e.propertyType,propertyDetails:e.propertyDetails};return calculateListingReadiness(s)},[e.location,e.pricing,e.media,e.description,e.propertyType,e.propertyDetails]);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 py-8",children:[u.jsx(DraftManager,{open:f,onOpenChange:g,onResume:()=>{g(!1)},onStartFresh:()=>{g(!1),e.reset(),j(e=>e+1)},wizardType:"listing",draftData:{currentStep:e.currentStep,totalSteps:8,action:e.action,propertyType:e.propertyType,address:e.location?.address,lastModified:z||void 0}}),u.jsx("div",{className:"container mx-auto px-4 max-w-5xl",children:de?f?u.jsx("div",{className:"flex items-center justify-center min-h-[60vh]"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"text-center flex-1",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"Create New Listing"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Follow the steps to create your property listing"})]}),e.currentStep>1&&u.jsxs("div",{className:"absolute top-8 right-8 flex items-center gap-4",children:[u.jsx("div",{className:"bg-white/80 backdrop-blur-md p-1.5 rounded-full shadow-sm",children:u.jsx(ReadinessIndicator,{score:fe.score,missing:fe.missing,size:"md"})}),u.jsx(SaveStatusIndicator,{lastSaved:z,isSaving:U,error:H,variant:"compact"})]})]})}),u.jsx("div",{className:"mb-8",children:u.jsx(ProgressIndicator,{steps:he,onStepClick:s=>e.goToStep(s)})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 mb-8",children:(()=>{switch(e.currentStep){case 1:default:return u.jsx(ActionStep,{});case 2:return u.jsx(PropertyTypeStep,{});case 3:return u.jsx(BasicInformationStep,{});case 4:return u.jsx(AdditionalInformationStep,{});case 5:return u.jsx(PricingStep,{});case 6:return u.jsx(LocationStep,{});case 7:return u.jsx(MediaUploadStep,{});case 8:return u.jsx(PreviewStep,{})}})()},b),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",onClick:e.prevStep,disabled:1===e.currentStep||c,children:[u.jsx(ua,{className:"h-4 w-4 mr-2"}),"Previous"]}),u.jsx(Button$1,{variant:"outline",onClick:async()=>{k(!0),T(!1);try{await new Promise(e=>setTimeout(e,500)),T(!0),setTimeout(()=>T(!1),2e3)}catch(e){console.error("Error saving draft:",e)}finally{k(!1)}},disabled:N||c,className:"gap-2 "+(_?"border-green-500 text-green-600":""),children:_?u.jsxs(u.Fragment,{children:[u.jsx(Ia,{className:"h-4 w-4"}),"Saved"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fo,{className:"h-4 w-4"}),N?"Saving...":"Save Draft"]})})]}),e.currentStep<8?u.jsxs(Button$1,{onClick:e.nextStep,disabled:c,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:["Next",u.jsx(pa,{className:"h-4 w-4 ml-2"})]}):u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[fe.score<90&&u.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"Readiness Score must be 90% to submit"}),u.jsxs(Button$1,{onClick:handleSubmit,disabled:c||fe.score<90,className:c||fe.score<90?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg",children:[c?"Submitting...":"Submit Listing",u.jsx(Bi,{className:"h-4 w-4 ml-2"})]})]})]}),I&&(I.fieldErrors.length>0||I.generalErrors.length>0)&&u.jsx("div",{className:"mt-4",children:u.jsx(ValidationErrorList,{fieldErrors:I.fieldErrors,generalErrors:I.generalErrors,onFieldClick:(s,a)=>{void 0!==a&&(e.goToStep(a),$(null))},onDismiss:()=>{$(null)}})}),E&&!I&&u.jsx("div",{className:"mt-4",children:u.jsx(ErrorAlert,{type:E.type,message:E.message,retryable:E.isRecoverable,onRetry:async()=>{O(e=>e+1),await handleSubmit()},onDismiss:()=>{A(null),h(null)},show:!0})}),m&&!E&&!I&&u.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-red-800",children:m})})]}):u.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})]})},LH={title:"2 Bedroom Apartment in Riverlea View",description:"A modern 2-bedroom apartment located in a secure lifestyle estate featuring landscaped gardens, children's play areas, and close proximity to major transport routes and shopping centers.",price:695e3,location:{address:"Riverlea View, Johannesburg South, Gauteng"},media:{photos:["/images/sample/property-1.jpg","/images/sample/property-1b.jpg","/images/sample/property-1c.jpg"]},specs:{bedrooms:2,bathrooms:1,parking:1,floorSize:58,unitType:"Apartment"},amenities:{indoor:["Open-plan kitchen","Built-in cupboards"],outdoor:["Kids play area","Landscaped gardens"],security:["24/7 Security","Biometric access","Electric fencing"]},agent:{name:"Samantha Nkosi",phone:"+27 82 123 4567",email:"samantha@newhomes.co.za",photo:"/images/sample/agent-samantha.jpg"},mortgage:{repaymentEstimate:6200,interestRate:11.75,loanTermYears:30},areaInsights:{schoolsNearby:4,shoppingCentersNearby:3,transportScore:8,safetyScore:7},similarListings:[{id:"prop-002",title:"2 Bedroom Unit in Kibler Park",price:715e3,photos:["/images/sample/property-2.jpg"]},{id:"prop-003",title:"3 Bedroom Apartment in Naturena",price:795e3,photos:["/images/sample/property-3.jpg"]}]};function ListingTemplate(){const e=LH;return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-primary text-primary-foreground py-4",children:u.jsxs("div",{className:"container flex justify-between items-center",children:[u.jsx("h1",{className:"text-xl font-bold",children:"Property Listing Template"}),u.jsx(rc,{href:"/listings/create",children:u.jsx(Button$1,{variant:"secondary",className:"font-semibold",children:"Create Your Listing"})})]})}),u.jsx("div",{className:"container py-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx("div",{className:"rounded-lg overflow-hidden",children:e.media.photos.length>0?u.jsx("img",{src:e.media.photos[0],alt:e.title,className:"w-full h-[500px] object-cover"}):u.jsx("div",{className:"w-full h-[500px] bg-muted flex items-center justify-center",children:u.jsx("span",{className:"text-muted-foreground",children:"No Image Available"})})}),e.media.photos.length>1&&u.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.media.photos.slice(0,4).map((e,s)=>u.jsx("img",{src:e,alt:`Property ${s+1}`,className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity"},s))}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx(ra,{className:"text-3xl mb-2",children:e.title}),u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[u.jsx(lo,{className:"h-5 w-5"}),u.jsx("span",{children:e.location.address})]})]}),u.jsx(Badge,{variant:"secondary",children:"Featured"})]})}),u.jsxs(sa,{children:[u.jsxs("div",{className:"flex items-center gap-6 py-4 border-y",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ja,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"font-semibold",children:e.specs.bedrooms}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Bedrooms"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ya,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"font-semibold",children:e.specs.bathrooms}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Bathrooms"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ma,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"font-semibold",children:e.specs.parking}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Parking"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mo,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"font-semibold",children:e.specs.floorSize}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"m"})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Description"}),u.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Features & Amenities"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[u.jsx(Zo,{className:"h-4 w-4"}),"Security"]}),u.jsx("ul",{className:"space-y-1",children:e.amenities.security.map((e,s)=>u.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e]},s))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[u.jsx(pl,{className:"h-4 w-4"}),"Outdoor"]}),u.jsx("ul",{className:"space-y-1",children:e.amenities.outdoor.map((e,s)=>u.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e]},s))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[u.jsx(ga,{className:"h-4 w-4"}),"Family Friendly"]}),u.jsxs("ul",{className:"space-y-1",children:[e.amenities.indoor.map((e,s)=>u.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e]},s)),u.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),"Kids play area"]})]})]})]})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Property Type:"}),u.jsx("span",{className:"ml-2 font-semibold",children:e.specs.unitType})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Pet Friendly:"}),u.jsx("span",{className:"ml-2 font-semibold",children:"Yes"})]})]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Area Insights"})}),u.jsx(sa,{children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[u.jsx(Yo,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),u.jsx("div",{className:"font-semibold",children:e.areaInsights.shoppingCentersNearby}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Shopping Centers"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[u.jsx(Pa,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),u.jsxs("div",{className:"font-semibold",children:[e.areaInsights.transportScore,"/10"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Transport Score"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[u.jsx(ga,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),u.jsx("div",{className:"font-semibold",children:e.areaInsights.schoolsNearby}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Schools Nearby"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[u.jsx(Zo,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),u.jsxs("div",{className:"font-semibold",children:[e.areaInsights.safetyScore,"/10"]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Safety Score"})]})]})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Similar Listings"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.similarListings.map(e=>u.jsxs(ea,{className:"overflow-hidden",children:[u.jsx("img",{src:e.photos[0],alt:e.title,className:"w-full h-48 object-cover"}),u.jsxs(sa,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold mb-1",children:e.title}),u.jsx("div",{className:"text-primary font-bold",children:formatCurrency(e.price)})]})]},e.id))})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsx(ea,{className:"sticky top-20",children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:formatCurrency(e.price)}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.specs.unitType," for Sale"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Button$1,{className:"w-full",size:"lg",children:"Contact Agent"}),u.jsxs(Button$1,{variant:"outline",className:"w-full",size:"lg",children:[u.jsx($i,{className:"h-5 w-5 mr-2"}),"Save Property"]}),u.jsxs(Button$1,{variant:"outline",className:"w-full",size:"lg",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard")},children:[u.jsx(Wo,{className:"h-5 w-5 mr-2"}),"Share Property"]}),u.jsx(rc,{href:"/listings/create",children:u.jsx(Button$1,{variant:"secondary",className:"w-full",size:"lg",children:"Create Similar Listing"})})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Contact Agent"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("img",{src:e.agent.photo,alt:e.agent.name,className:"w-12 h-12 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:e.agent.name}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Property Specialist"})]})]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),u.jsx("span",{children:e.agent.phone})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Email:"}),u.jsx("span",{children:e.agent.email})]})]})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Mortgage Estimate"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Monthly Repayment:"}),u.jsxs("span",{className:"font-semibold",children:[formatCurrency(e.mortgage.repaymentEstimate),"/month"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Interest Rate:"}),u.jsxs("span",{children:[e.mortgage.interestRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Loan Term:"}),u.jsxs("span",{children:[e.mortgage.loanTermYears," years"]})]})]})]}),u.jsx("div",{className:"mt-6 pt-6 border-t text-sm text-muted-foreground",children:u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ea,{className:"h-4 w-4"}),u.jsx("span",{children:"Listed today"})]})})]})})})]})})]})}const DH={id:"residential_sale",title:"Residential Sale",steps:[{id:"configuration",title:"Configuration",componentKey:"ConfigurationStep",required:!0,description:"Set up pricing, unit mix, and basic configuration for your residential development.",validate:e=>({valid:!0})},{id:"identity_market",title:"Identity & Market",componentKey:"IdentityMarketStep",required:!0,description:"Define the brand identity and market positioning of your development.",validate:e=>{const s=[];(!e.name||e.name.trim().length<2)&&s.push({field:"name",message:"Development name is required"}),e.status||s.push({field:"status",message:"Development status is required"});const a=["for_sale","sale","auction"].includes(e.transactionType||"");return a&&(e.ownershipTypes&&0!==e.ownershipTypes.length||s.push({field:"ownershipTypes",message:"At least one ownership type is required"})),e.transactionType&&!a&&e.transactionType,{valid:0===s.length,errors:s}}},{id:"location",title:"Location",componentKey:"LocationStep",required:!0,description:"Pinpoint the exact location and address details.",validate:e=>{const s=[],a=e.location||{};return a.latitude&&a.longitude||s.push({field:"location",message:"Map location pin is required"}),{valid:0===s.length,errors:s}}},{id:"governance_finances",title:"Governance & Finances",componentKey:"GovernanceStep",required:!1,description:"Configure levies, rates, and HOA details.",validate:e=>{const s=[];return e.hasGoverningBody&&(e.governanceType||s.push({field:"governanceType",message:"Select a governing body type"})),{valid:0===s.length,errors:s}}},{id:"amenities_features",title:"Amenities & Features",componentKey:"AmenitiesStep",required:!1,description:"Highlight the lifestyle amenities and key features.",validate:e=>({valid:!0})},{id:"marketing_summary",title:"Marketing Summary",componentKey:"MarketingStep",required:!0,description:"Create the marketing copy and key selling points.",validate:e=>{const s=[],a=e;(!a.description||a.description.length<50)&&s.push({field:"description",message:"Description must be at least 50 characters"});return(a.keySellingPoints||a.highlights||[]).length<3&&s.push({field:"highlights",message:"At least 3 key selling points are required"}),{valid:0===s.length,errors:s}}},{id:"development_media",title:"Media",componentKey:"MediaStep",required:!0,description:"Upload high-quality images, documents, and videos.",validate:e=>{const s=[];return 0===((e.media||{}).photos||[]).length&&s.push({field:"media",message:"At least one photo (Hero Image) is required"}),{valid:0===s.length,errors:s}}},{id:"unit_types",title:"Unit Types",componentKey:"UnitTypesStep",required:!0,description:"Define the different unit configurations available.",validate:e=>{const s=[],a=e.unitTypes||[];if(0===a.length)s.push({field:"unitTypes",message:"At least one unit type is required"});else{["for_sale","sale","auction"].includes(e.transactionType||"")&&a.forEach((e,a)=>{const l=e.id||a,c=e.name||`Unit #${a+1}`;e.name||s.push({field:`unitTypes.${l}.name`,message:`${c} is missing a name`}),e.bedrooms||0===e.bedrooms||s.push({field:`unitTypes.${l}.bedrooms`,message:`${c} is missing bedrooms`}),e.bathrooms||0===e.bathrooms||s.push({field:`unitTypes.${l}.bathrooms`,message:`${c} is missing bathrooms`}),(!e.priceFrom||e.priceFrom<=0)&&s.push({field:`unitTypes.${l}.priceFrom`,message:`${c} is missing a base price`})})}return{valid:0===s.length,errors:s}}},{id:"review_publish",title:"Review & Publish",componentKey:"ReviewStep",required:!0,description:"Review all details before publishing your listing.",validate:e=>({valid:!0})}]},OH={residential_sale:DH};function getWorkflow(e){return"residential"===e.developmentType&&"for_sale"===e.transactionType?DH:null}function getVisibleSteps(e,s){return e.steps.filter(e=>!e.shouldShow||e.shouldShow(s))}const IH={residentialType:null,communityTypes:[]},$H={landType:null,infrastructure:[]},RH={commercialType:null,features:[]},normalizeTransactionType=e=>{if(e)return"sale"===e?"for_sale":"rent"===e?"for_rent":e},FH={currentPhase:1,currentStep:1,listingIdentity:{identityType:"developer",marketingRole:"exclusive"},developmentType:"residential",transactionType:null,residentialConfig:{residentialType:null,communityTypes:[]},landConfig:{landType:null,infrastructure:[]},commercialConfig:{commercialType:null,features:[]},unitTypeDraft:null,selectedAmenities:[],developmentData:{nature:void 0,name:"",description:"",subtitle:"",status:void 0,completionDate:null,launchDate:null,transactionType:void 0,ownershipType:void 0,ownershipTypes:[],structuralType:void 0,floors:void 0,propertyTypes:[],customClassification:"",totalUnits:void 0,totalDevelopmentArea:void 0,monthlyLevyFrom:void 0,monthlyLevyTo:void 0,ratesFrom:void 0,ratesTo:void 0,transferCostsIncluded:!1,reservePriceIncluded:!1,reservePriceAmount:void 0,location:{latitude:"",longitude:"",address:"",city:"",province:""},media:{photos:[],videos:[],documents:[]},amenities:[],highlights:[]},classification:{type:"residential",subType:"",ownership:""},overview:{status:"planning",highlights:[],description:"",amenities:[],features:[]},unitTypes:[],unitGroups:[],finalisation:{salesTeamIds:[],isPublished:!1},documents:[],infrastructure:[],phaseDetails:{},workflowId:null,currentStepId:null,completedSteps:[],stepData:{},stepErrors:{},media:[]};function normalizeDevelopmentData(e,s){return{...e,...s,name:s.name??e.name??"",description:s.description??e.description??"",highlights:s.highlights??e.highlights??[],amenities:s.amenities??e.amenities??[],propertyTypes:s.propertyTypes??e.propertyTypes??[],location:{...e.location||FH.developmentData.location,...s.location||{}},media:{photos:s.media?.photos??e.media?.photos??[],videos:s.media?.videos??e.media?.videos??[],documents:s.media?.documents??e.media?.documents??[],heroImage:s.media?.heroImage??e.media?.heroImage}}}const createActions=(e,s)=>{const buildWizardData=e=>{const s=e.stepData?.identity_market||{},a=e.stepData?.configuration||{},l=e.stepData?.location||{},c=e.stepData?.governance_finances||{},u=e.stepData?.amenities_features||{},p=e.stepData?.marketing_summary||{},m=e.stepData?.development_media||{};e.transactionType??s.transactionType??e.developmentData.transactionType;const h={...e.developmentData.media,...m,heroImage:m.heroImage??e.developmentData.media?.heroImage??(m.photos?.find(e=>"hero"===e.category||"featured"===e.category||e.isPrimary)||m.photos?.[0])};return{...e.developmentData,developmentType:e.developmentType,listingIdentity:e.listingIdentity,name:s.name??e.developmentData.name,status:s.status??e.developmentData.status,marketingRole:s.marketingRole??e.developmentData.marketingRole,ownershipTypes:s.ownershipTypes??e.developmentData.ownershipTypes,nature:s.nature??e.developmentData.nature,location:{...e.developmentData.location,...l},...a,...c,...u,...p,description:p.description??e.developmentData.description,highlights:p.highlights??p.keySellingPoints??p.sellingPoints??e.developmentData.highlights,subtitle:p.tagline??e.developmentData.subtitle,media:h,heroImage:h.heroImage?.url??("string"==typeof h.heroImage?h.heroImage:void 0)??h.photos?.[0]?.url,unitTypes:e.stepData?.unit_types?.unitTypes??e.unitTypes??[],transactionType:e.developmentData.transactionType}};return{getWizardData:()=>{const e=s();return buildWizardData(e)},setListingIdentity:s=>e(e=>({listingIdentity:{...e.listingIdentity,...s}})),setPhase:a=>{e({currentPhase:a});const{workflowId:l}=s();if("residential_sale"===l){const s={3:"configuration",4:"identity_market",5:"location",6:"governance_finances",7:"amenities_features",8:"marketing_summary",9:"development_media",10:"unit_types",11:"review_publish"}[a];s&&e({currentStepId:s})}},setCurrentStep:s=>e({currentStep:s}),setIdentity:s=>e(e=>{const a=normalizeDevelopmentData(e.developmentData,s);return{developmentData:a,overview:{...e.overview,description:a.description||e.overview.description||"",highlights:a.highlights||e.overview.highlights||[]}}}),setClassification:s=>e(e=>{const a=e.classification||FH.classification,l={...a,...s};return s.type&&s.type!==a.type&&(l.subType="","land"===s.type)?{classification:l,unitTypes:[]}:{classification:l}}),setOverview:s=>e(e=>({overview:{...e.overview||FH.overview,...s}})),setFinalisation:s=>e(e=>({finalisation:{...e.finalisation||FH.finalisation,...s}})),setDevelopmentType:s=>e(e=>{const a={developmentType:s};"residential"===s?(a.landConfig=$H,a.commercialConfig=RH):"land"===s?(a.residentialConfig=IH,a.commercialConfig=RH):"commercial"===s&&(a.residentialConfig=IH,a.landConfig=$H);const l=e.developmentData.transactionType;if(l&&s){("commercial"===s?["for_sale","for_rent","auction"]:["for_sale","for_rent"]).includes(l)||(a.developmentData={...e.developmentData,transactionType:"for_sale"})}return a}),setResidentialConfig:s=>e(e=>({residentialConfig:{...e.residentialConfig,...s}})),setLandConfig:s=>e(e=>({landConfig:{...e.landConfig,...s}})),setCommercialConfig:s=>e(e=>({commercialConfig:{...e.commercialConfig,...s}})),setSelectedAmenities:s=>e({selectedAmenities:s}),toggleAmenity:s=>e(e=>({selectedAmenities:e.selectedAmenities.includes(s)?e.selectedAmenities.filter(e=>e!==s):[...e.selectedAmenities,s]})),addUnitType:s=>e(e=>{const a={...s,id:`unit-${Date.now()}`,specs:[],displayOrder:e.unitTypes.length,isActive:!0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},l=[...e.unitTypes,a];return{unitTypes:l,stepData:{...e.stepData,unit_types:{...e.stepData?.unit_types,unitTypes:l}}}}),updateUnitType:(s,a)=>e(e=>{const l=e.unitTypes.map(e=>e.id===s?{...e,...a}:e);return{unitTypes:l,stepData:{...e.stepData,unit_types:{...e.stepData?.unit_types,unitTypes:l}}}}),removeUnitType:s=>e(e=>{const a=e.unitTypes.filter(e=>e.id!==s);return{unitTypes:a,stepData:{...e.stepData,unit_types:{...e.stepData?.unit_types,unitTypes:a}}}}),setUnitTypeDraft:s=>e({unitTypeDraft:s}),addGroup:s=>e(e=>({unitGroups:[...e.unitGroups,{...s,id:`group-${Date.now()}`}]})),validatePhase:e=>{const a=s(),l=[];switch(e){case 1:"marketing_agency"!==a.listingIdentity.identityType||a.listingIdentity.developerBrandProfileId||l.push("Select the Developer Brand you are representing");break;case 4:a.developmentData?.name||l.push("Development name is required"),a.developmentData?.status||l.push("Please select a development status"),a.developmentData?.transactionType||l.push("Please select a transaction type"),a.developmentData?.ownershipType||l.push("Please select an ownership type"),"launching-soon"!==a.developmentData?.status||a.developmentData?.launchDate||l.push('Launch date is required for "Launching Soon" status');break;case 5:a.developmentData?.location?.address||l.push("Location is required"),a.developmentData?.location?.city||l.push("City is required");break;case 8:(a.developmentData?.highlights?.length||0)<3&&l.push("Add at least 3 key selling points"),(a.developmentData?.description?.length||0)<50&&l.push("Description must be at least 50 characters");const e=a.developmentData?.status;"launching-soon"!==e&&"selling"!==e||a.developmentData?.completionDate||l.push("Expected completion date is required for this status");break;case 9:const s=a.developmentData?.media;s?.heroImage||l.push("Hero image is required"),(s?.documents||[]).length<1&&l.push("Add at least 1 brochure or document");break;case 10:"land"!==a.classification?.type&&0===(a.unitTypes?.length||0)&&l.push("Add at least one unit type")}return{isValid:0===l.length,errors:l}},validateForPublish:()=>{const e=s(),a=buildWizardData(e),l=[];a.name||l.push("Development Name is required"),a.location?.address||l.push("Location Address is required");const c=a.media?.photos?.length??0;(a.heroImage||a.media?.heroImage?.url||("string"==typeof a.media?.heroImage?a.media?.heroImage:void 0)?1:0)+c===0&&l.push("At least 1 image is required"),e.classification?.type||l.push("Classification Type is required");(a.highlights?.length??0)<3&&l.push("Add at least 3 highlights");if((a.description?.length??0)<50&&l.push("Description must be at least 50 characters"),"land"!==e.classification?.type){const e=a.unitTypes??[];if(0===e.length)l.push("Add at least one unit type");else{e.every(e=>(e.priceFrom||0)>0)||l.push("All unit types must have a base price")}}return{isValid:0===l.length,errors:l}},initializeWorkflow:(s,a)=>e(e=>{const l={developmentType:s,transactionType:normalizeTransactionType(a),developmentData:{...e.developmentData,transactionType:normalizeTransactionType(a)},currentPhase:1,currentStep:1,completedSteps:[],stepErrors:{}},c=buildWizardData({...e,...l}),u=getWorkflow(c);if(u){const e=getVisibleSteps(u,c);return{...l,workflowId:u.id,currentStepId:e[0]?.id||null,stepErrors:{}}}return l}),reset:()=>e(e=>({currentPhase:1,workflowId:null,currentStepId:null,completedSteps:[],stepErrors:{},developmentType:null,transactionType:null,developmentData:{...e.developmentData,transactionType:void 0}})),setWorkflow:s=>e(e=>{if(!s)return{workflowId:null,currentStepId:null};const a=OH[s];if(!a)return{workflowId:null,currentStepId:null};const l=getVisibleSteps(a,buildWizardData(e));return{workflowId:s,currentStepId:l[0]?.id||null,stepErrors:{}}}),setWorkflowStep:s=>e({currentStepId:s}),goWorkflowNext:()=>e(e=>{if(!e.workflowId||!e.currentStepId)return{};const s=OH[e.workflowId];if(!s)return{};const a=buildWizardData(e),l=getVisibleSteps(s,a),c=l.findIndex(s=>s.id===e.currentStepId);if(console.group("goWorkflowNext Debug"),console.log("Current Step ID:",e.currentStepId),console.log("Visible Steps:",l.map(e=>e.id)),console.log("Current Index:",c),-1===c)return console.warn("Current step not found in visible steps. Auto-correcting to:",l[0]?.id),console.groupEnd(),{currentStepId:l[0]?.id||null};const u=l[c];let p={...e.stepErrors};if(u?.validate){const s=u.validate(a);console.log("Validation Result:",s),!s.valid&&s.errors?(p[e.currentStepId]=s.errors,console.log("Validation errors found, but proceeding (non-blocking). Errors:",s.errors)):delete p[e.currentStepId]}if(c>=l.length-1)return console.log("[Wizard] At final step; no next step"),console.groupEnd(),{stepErrors:p};const m=l[c+1].id;return console.log("Proceeding to next step:",m),console.groupEnd(),{currentStepId:m,stepErrors:p,completedSteps:Array.from(new Set([...e.completedSteps,e.currentStepId]))}}),goWorkflowBack:()=>e(e=>{if(!e.workflowId||!e.currentStepId)return{};const s=OH[e.workflowId];if(!s)return{};const a=getVisibleSteps(s,buildWizardData(e)),l=a.findIndex(s=>s.id===e.currentStepId);return-1===l?{currentStepId:a[0]?.id||null}:l>0?{currentStepId:a[l-1].id}:{}}),saveWorkflowStepData:(s,a)=>e(e=>{const l={...e.stepData,[s]:{...e.stepData?.[s]??{},...a}},c=normalizeDevelopmentData(e.developmentData,a),u="unit_types"===s&&Array.isArray(a.unitTypes)?a.unitTypes:e.unitTypes;return{stepData:l,developmentData:c,developmentType:"string"==typeof a.developmentType?a.developmentType:e.developmentType,unitTypes:u}}),setWorkflowSelector:(e,a)=>s().initializeWorkflow(e,a),saveDraft:async e=>{const a=s().getDraftData();e&&await e(a)},publish:async()=>{await new Promise(e=>setTimeout(e,1e3)),e(e=>({finalisation:{...e.finalisation,isPublished:!0}}))},hydrateDevelopment:s=>e(e=>{console.log("[hydrateDevelopment] Starting hydration with data:",s);const a=void 0!==s.draftData,l=a?s.draftData:s;if(!l)return console.error("[hydrateDevelopment] No data provided"),e;const parse2=(e,s)=>{if(!e)return s;if("string"==typeof e)try{return JSON.parse(e)}catch{return s}return e},c={name:l.name??l.developmentData?.name??"",subtitle:l.subtitle??l.tagline??l.developmentData?.subtitle??"",description:l.description??l.developmentData?.description??"",status:l.status??l.developmentData?.status??e.developmentData.status,nature:l.nature??l.developmentData?.nature??e.developmentData.nature,launchDate:l.launchDate?new Date(l.launchDate):l.developmentData?.launchDate?new Date(l.developmentData.launchDate):e.developmentData.launchDate,completionDate:l.completionDate?new Date(l.completionDate):l.developmentData?.completionDate?new Date(l.developmentData.completionDate):e.developmentData.completionDate,transactionType:normalizeTransactionType(l.transactionType??l.developmentData?.transactionType)??e.developmentData.transactionType,ownershipType:l.ownershipType??l.developmentData?.ownershipType??e.developmentData.ownershipType,ownershipTypes:l.ownershipTypes??l.developmentData?.ownershipTypes??e.developmentData.ownershipTypes??[],structuralType:l.structuralType??l.developmentData?.structuralType??e.developmentData.structuralType,floors:l.floors??l.developmentData?.floors??e.developmentData.floors,propertyTypes:"string"==typeof l.propertyTypes?parse2(l.propertyTypes,[]):l.propertyTypes??l.developmentData?.propertyTypes??e.developmentData.propertyTypes,location:{address:l.address??l.location?.address??l.developmentData?.location?.address??"",suburb:l.suburb??l.location?.suburb??l.developmentData?.location?.suburb??"",city:l.city??l.location?.city??l.developmentData?.location?.city??"",province:l.province??l.location?.province??l.developmentData?.location?.province??"",postalCode:l.postalCode??l.location?.postalCode??l.developmentData?.location?.postalCode??"",latitude:String(l.latitude??l.location?.latitude??l.developmentData?.location?.latitude??""),longitude:String(l.longitude??l.location?.longitude??l.developmentData?.location?.longitude??"")},media:l.developmentData?.media?l.developmentData.media:(e=>{const s=parse2(e.media,{photos:[],videos:[],documents:[]});if((!s.photos||0===s.photos.length)&&e.images){const a=parse2(e.images,[]);Array.isArray(a)&&a.length>0&&(console.log("[hydrateDevelopment] Hydrating photos from legacy images source"),s.photos=a.map(e=>"string"==typeof e?{id:`img-${Math.random()}`,url:e,category:"general",type:"image"}:e))}if(!s.heroImage&&s.photos?.length>0){const e=s.photos.find(e=>"featured"===e.category||e.isPrimary)||s.photos[0];e&&(console.log("[hydrateDevelopment] Restored missing heroImage from photos:",e.id),s.heroImage={...e,category:"featured",isPrimary:!0})}return{heroImage:s.heroImage,photos:s.photos||[],videos:s.videos||[],documents:s.documents||s.brochures||[]}})(l),highlights:l.highlights?parse2(l.highlights,[]):l.developmentData?.highlights??e.developmentData.highlights??[],amenities:l.amenities?parse2(l.amenities,[]):l.developmentData?.amenities??e.developmentData.amenities??[]},u=normalizeDevelopmentData(e.developmentData,c),p=parse2(l.residentialConfig,{unitMix:{studios:0,oneBed:0,twoBed:0,threeBed:0,fourPlusBed:0},priceRange:{min:null,max:null},sizeRange:{min:null,max:null},parkingOptions:[],levy:{from:null,to:null},rates:{from:null,to:null},residentialType:null,communityTypes:[]}),m=parse2(l.landConfig,{totalStands:null,availableStands:null,erfSizeFrom:null,erfSizeTo:null,priceFrom:null,priceTo:null,serviced:null,zoningType:null,buildingRestrictions:null,landType:null,infrastructure:[]}),h=parse2(l.commercialConfig,{totalSpace:null,availableSpace:null,spaceUnits:"sqm",rentalRate:null,tenantType:[],parkingRatio:null,commercialType:null,features:[]}),f=parse2(l.amenities,{standard:[],additional:[]}),g=Array.isArray(f)?f:f.standard||[];let b=[];Array.isArray(l.unitTypes)?(console.log(`[hydrateDevelopment] Hydrating ${l.unitTypes.length} unit types`),b=l.unitTypes.map((e,s)=>(e.id||(console.warn(`[hydrateDevelopment] Unit ${s} missing ID, generating...`),e.id=`unit-${Date.now()}-${s}`),{id:e.id,label:e.label||e.name||"Unnamed Unit",name:e.name||e.label||"Unnamed Unit",configDescription:e.configDescription||e.description||"",floors:e.floors||void 0,bedrooms:Number(e.bedrooms??0),bathrooms:Number(e.bathrooms??0),sizeFrom:Number(e.sizeFrom??e.floorSizeFrom??0),sizeTo:Number(e.sizeTo??e.floorSizeTo??0),yardSize:e.yardSize?Number(e.yardSize):void 0,ownershipType:e.ownershipType||void 0,structuralType:e.structuralType||void 0,parkingType:e.parkingType??"none",parkingBays:Number(e.parkingBays??e.parkingSpaces??0),priceFrom:Number(e.priceFrom??0),priceTo:Number(e.priceTo??e.priceFrom??0),depositRequired:e.depositRequired?Number(e.depositRequired):void 0,availableUnits:Number(e.availableUnits??0),totalUnits:Number(e.totalUnits??0),completionDate:e.completionDate||void 0,amenities:parse2(e.amenities,{standard:[],additional:[]}),specifications:parse2(e.specifications,{builtInFeatures:{},finishes:{},electrical:{}}),baseMedia:parse2(e.baseMedia,{gallery:[],floorPlans:[],renders:[]}),extras:parse2(e.extras,[]),specs:parse2(e.specs,[]),baseFeatures:parse2(e.baseFeatures,{}),baseFinishes:parse2(e.baseFinishes,{}),specOverrides:parse2(e.specOverrides,{}),virtualTourLink:e.virtualTourLink||"",transferCostsIncluded:!!e.transferCostsIncluded,internalNotes:e.internalNotes||"",isActive:!1!==e.isActive,displayOrder:e.displayOrder??s}))):console.warn("[hydrateDevelopment] No unitTypes array found");const j={status:l.status||"planning",description:l.description||"",highlights:l.highlights?parse2(l.highlights,[]):[],amenities:l.amenities?parse2(l.amenities,[]):[],features:parse2(l.features||l.keyFeatures,[])},N={type:"mixed_use"===l.developmentType?"mixed":l.developmentType||"residential",subType:l.customClassification||"",ownership:l.ownershipType||""};return console.log("[hydrateDevelopment] Hydration Complete. State updated."),{...e,currentPhase:a?l.currentPhase||e.currentPhase||1:e.currentPhase,developmentData:u,residentialConfig:p,landConfig:m,commercialConfig:h,selectedAmenities:g,unitTypes:b,overview:j,classification:N,developmentType:"mixed_use"===l.developmentType?"mixed":l.developmentType||"residential",editingId:a?void 0:l.id,developerId:l.developerId}}),setDevelopmentData:s=>e(e=>({developmentData:normalizeDevelopmentData(e.developmentData,s)})),setLocation:s=>e(e=>({developmentData:{...e.developmentData,location:{...e.developmentData?.location||{},...s}}})),addAmenity:s=>e(e=>({developmentData:{...e.developmentData,amenities:[...e.developmentData.amenities,s]}})),removeAmenity:s=>e(e=>({developmentData:{...e.developmentData,amenities:e.developmentData.amenities.filter(e=>e!==s)}})),addHighlight:s=>e(e=>{const a=[...e.developmentData.highlights||[],s];return{developmentData:{...e.developmentData,highlights:a},overview:{...e.overview,highlights:a,description:e.developmentData.description}}}),removeHighlight:s=>e(e=>{const a=e.developmentData.highlights.filter((e,a)=>a!==s);return{developmentData:{...e.developmentData,highlights:a},overview:{...e.overview,highlights:a}}}),addMedia:s=>e(e=>{if(!e.developmentData?.media)return e;const a={...s,id:`media-${Date.now()}-${Math.random()}`,displayOrder:0,isPrimary:"featured"===s.category||s.isPrimary},l={...e.developmentData.media};return!a.isPrimary&&(l.heroImage||"image"!==a.type&&"featured"!==a.category)||(l.heroImage={...a,isPrimary:!0,category:"featured"}),"video"===a.type||"videos"===a.category?l.videos=[...l.videos||[],a]:"pdf"===a.type||"document"===a.category?l.documents=[...l.documents||[],a]:l.heroImage?.id!==a.id&&(l.photos=[...l.photos||[],a]),{developmentData:{...e.developmentData,media:l}}}),removeMedia:s=>e(e=>{const a=e.developmentData?.media;if(!a)return e;const l=a.heroImage?.id===s;return{developmentData:{...e.developmentData,media:{heroImage:l?void 0:a.heroImage,photos:a.photos?.filter(e=>e.id!==s)||[],videos:a.videos?.filter(e=>e.id!==s)||[],documents:a.documents?.filter(e=>e.id!==s)||[]}}}}),setPrimaryImage:s=>e(e=>{const a=e.developmentData?.media;if(!a)return e;if(a.heroImage?.id===s)return e;const l=a.photos?.findIndex(e=>e.id===s);if(void 0===l||-1===l)return e;const c={...a.photos[l],isPrimary:!0,category:"featured"},u=a.heroImage,p=[...a.photos||[]];return p.splice(l,1),u&&p.unshift({...u,isPrimary:!1,category:"general"}),{developmentData:{...e.developmentData,media:{...a,heroImage:c,photos:p}}}}),reorderMedia:s=>e(e=>{const a=e.developmentData?.media;if(!a)return e;const l=(a.photos||[]).map(e=>{const a=s.find(s=>s.id===e.id);return a?{...e,displayOrder:a.displayOrder}:e}),c=(a.videos||[]).map(e=>{const a=s.find(s=>s.id===e.id);return a?{...e,displayOrder:a.displayOrder}:e});return{developmentData:{...e.developmentData,media:{...a,photos:l.sort((e,s)=>e.displayOrder-s.displayOrder),videos:c.sort((e,s)=>e.displayOrder-s.displayOrder)}}}}),deleteUnitType:s=>e(e=>({unitTypes:e.unitTypes.filter(e=>e.id!==s)})),duplicateUnitType:e=>{},updateMedia:(s,a)=>e(e=>{const l=e.developmentData?.media;if(!l)return e;const updateItem=e=>e.id===s?{...e,...a}:e;let c=l.heroImage;return c&&c.id===s&&(c={...c,...a}),{developmentData:{...e.developmentData,media:{heroImage:c,photos:(l.photos||[]).map(updateItem),videos:(l.videos||[]).map(updateItem),documents:(l.documents||[]).map(updateItem)}}}}),getMediaList:()=>{const e=s();if(!e?.developmentData?.media)return[];const a=e.developmentData.media,l=[];return a.heroImage&&l.push({...a.heroImage,category:"featured"}),a.photos?.forEach(e=>l.push({...e,category:e.category||"general"})),a.videos?.forEach(e=>l.push({...e,category:e.category||"videos"})),a.documents?.forEach(e=>l.push({...e,category:e.category||"document"})),l},getDraftData:()=>{const e=s();return{developmentData:{...e.developmentData,transactionType:normalizeTransactionType(e.developmentData.transactionType)},classification:e.classification,name:e.developmentData.name,status:e.developmentData.status,marketingRole:e.developmentData.marketingRole,ownershipTypes:e.developmentData.ownershipTypes,unitTypeDraft:e.unitTypeDraft,overview:e.overview,unitTypes:e.unitTypes,finalisation:e.finalisation,listingIdentity:e.listingIdentity,developmentType:e.developmentType,residentialConfig:e.residentialConfig,landConfig:e.landConfig,commercialConfig:e.commercialConfig,selectedAmenities:e.selectedAmenities,unitGroups:e.unitGroups,_version:"3.0",_savedAt:Date.now()}},getUnitTypes:()=>{const e=s();return e.stepData?.unit_types?.unitTypes??e.unitTypes??[]},validateStep:e=>({isValid:!0,errors:[]}),canProceed:()=>!0,nextStep:()=>{},previousStep:()=>{}}},BH=create()(persist((e,s)=>({...FH,...createActions(e,s)}),{name:"development-wizard-storage-v2",partialize:e=>({currentPhase:e.currentPhase,currentStep:e.currentStep,listingIdentity:e.listingIdentity,developmentType:e.developmentType,residentialConfig:e.residentialConfig,landConfig:e.landConfig,commercialConfig:e.commercialConfig,developmentData:{...e.developmentData,media:{heroImage:e.developmentData.media?.heroImage?{...e.developmentData.media.heroImage,file:void 0}:void 0,photos:(e.developmentData.media?.photos||[]).map(e=>({...e,file:void 0})),videos:(e.developmentData.media?.videos||[]).map(e=>({...e,file:void 0})),documents:(e.developmentData.media?.documents||[]).map(e=>({...e,file:void 0}))}},classification:e.classification,overview:e.overview,unitTypes:e.stepData?.unit_types?.unitTypes??e.unitTypes??[],unitGroups:e.unitGroups,finalisation:e.finalisation,selectedAmenities:e.selectedAmenities,documents:e.documents,workflowId:e.workflowId,currentStepId:e.currentStepId,completedSteps:e.completedSteps,stepData:e.stepData})})),zH={residential:ka,mixed_use:Zi,land:pl,commercial:Ca},VH=[{value:"for_sale",label:"For Sale",icon:il,description:"Sell units directly to buyers"},{value:"for_rent",label:"To Let / Rent",icon:Hi,description:"Lease units to tenants",enabled:!1},{value:"auction",label:"Auction",icon:Pi,description:"Sell via bidding process",enabled:!1}];function DevelopmentTypePhase(){const{developmentType:e,developmentData:s,workflowId:a,setWorkflowSelector:l,setPhase:c,resetWizard:p}=BH(),[m,h]=re.useState(s?.transactionType),[f,g]=re.useState(!1),[b,j]=re.useState(null);ae.useEffect(()=>{s?.transactionType&&h(s.transactionType)},[s?.transactionType]);return u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Development Type"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Pz.map(s=>{const l=zH[s.value],c=e===s.value,p=!s.enabled;return u.jsxs("div",{onClick:()=>!p&&(s=>{if(a&&s!==e)return void Gr.warning("To change development type, please reset the wizard.",{action:{label:"Reset",onClick:()=>g(!0)}});const{setDevelopmentType:l}=BH.getState(),c=Pz.find(e=>e.value===s);c?.enabled?l(s):Gr.info(`${c?.label} is coming soon!`)})(s.value),className:cn("relative flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all",c?"border-blue-600 bg-blue-50/50":p?"border-slate-100 bg-slate-50 opacity-60 cursor-not-allowed":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:[u.jsx("div",{className:cn("p-3 rounded-lg mr-4 transition-colors",c?"bg-blue-600 text-white":"bg-slate-100 text-slate-500"),children:u.jsx(l,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:cn("font-medium",c?"text-blue-900":"text-slate-900"),children:s.label}),p&&u.jsx(Badge,{variant:"secondary",className:"text-[10px]",children:"Coming Soon"})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-1",children:s.description})]}),c&&u.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-blue-600 rounded-full shadow-sm ring-2 ring-white"})]},s.value)})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Transaction Goal"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:VH.map(e=>{const l=e.icon,c=m===e.value,p=!1===e.enabled;return u.jsxs("div",{onClick:()=>(e=>{if(a)return void(e!==s?.transactionType&&(j(e),g(!0)));const l=VH.find(s=>s.value===e);!1!==l?.enabled?h(e):Gr.info(`${l.label} workflow is coming soon!`)})(e.value),className:cn("flex flex-col items-center text-center p-4 rounded-xl border-2 cursor-pointer transition-all",c?"border-purple-600 bg-purple-50/50":p?"border-slate-100 bg-slate-50 opacity-60 cursor-not-allowed":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:[u.jsx("div",{className:cn("p-3 rounded-full mb-3",c?"bg-purple-600 text-white":"bg-slate-100 text-slate-500"),children:u.jsx(l,{className:"w-5 h-5"})}),u.jsx("h4",{className:cn("font-medium text-sm",c?"text-purple-900":"text-slate-900"),children:e.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-400 mt-1 block",children:"(Coming Soon)"})]},e.value)})})]})]}),u.jsx("div",{className:"flex justify-end pt-6 max-w-lg mx-auto",children:u.jsxs(Button$1,{onClick:()=>{if(!e)return void Gr.error("Please select a development type");if(!m)return void Gr.error("Please select a transaction type");getWorkflow({developmentType:e,transactionType:m})?l(e,m):Gr.error("This workflow configuration is not yet available.")},disabled:!e||!m,size:"lg",className:"px-10 h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-md hover:shadow-lg transition-all duration-300",children:[a?"Resume Wizard":"Start Wizard",u.jsx(pa,{className:"w-5 h-5 ml-2"})]})}),u.jsx(AlertDialog,{open:f,onOpenChange:g,children:u.jsxs(AlertDialogContent,{children:[u.jsxs(AlertDialogHeader,{children:[u.jsx(AlertDialogTitle,{children:"Change Configuration?"}),u.jsx(AlertDialogDescription,{children:"Changing the transaction type requires resetting the wizard logic. Your current progress in this specific workflow will be lost."})]}),u.jsxs(AlertDialogFooter,{children:[u.jsx(AlertDialogCancel,{onClick:()=>{j(null),g(!1)},children:"Cancel"}),u.jsx(AlertDialogAction,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>{p(),j(null),g(!1)},children:"Reset Wizard"})]})]})})]})}const UH={apartment:ka,townhouse:La,freehold:Bi,retirement:Cl,student:Mi,mixed:Al};const HH=[{value:"hoa",label:"Homeowners Association (HOA)"},{value:"body_corporate",label:"Body Corporate"},{value:"property_management",label:"Property Management Company"},{value:"other",label:"Other"}];const qH=[{key:"security",label:"Security & Access",description:"Safety and access control features"},{key:"lifestyle",label:"Lifestyle & Recreation",description:"Fitness, sports, and leisure facilities"},{key:"sustainability",label:"Sustainability",description:"Eco-friendly and energy-efficient features"},{key:"convenience",label:"Services & Convenience",description:"Daily comforts and utilities"},{key:"family",label:"Family & Kids",description:"Child-friendly amenities"}],WH=[{key:"24_hour_security",label:"24-Hour Security",category:"security"},{key:"access_control",label:"Access Control",category:"security"},{key:"guard_house",label:"Guard House",category:"security"},{key:"perimeter_fencing",label:"Perimeter Fencing",category:"security"},{key:"electric_fencing",label:"Electric Fencing",category:"security"},{key:"cctv_surveillance",label:"CCTV Surveillance",category:"security"},{key:"controlled_gate_access",label:"Controlled Gate Access",category:"security"},{key:"biometric_access",label:"Biometric Access",category:"security"},{key:"boom_gates",label:"Boom Gates",category:"security"},{key:"security_patrols",label:"On-Site Security Patrols",category:"security"},{key:"visitor_access",label:"Visitor Access Management",category:"security"},{key:"intercom_system",label:"Intercom Access System",category:"security"},{key:"license_plate_recognition",label:"License Plate Recognition",category:"security"},{key:"facial_recognition",label:"Facial Recognition Access",category:"security"},{key:"boundary_walls",label:"Secure Boundary Walls",category:"security"},{key:"panic_button",label:"Panic Button System",category:"security"},{key:"motion_lighting",label:"Motion Sensor Lighting",category:"security"},{key:"security_escort",label:"Security Escort Service",category:"security"},{key:"parcel_lockers",label:"Secure Parcel Delivery Lockers",category:"security"},{key:"swimming_pool",label:"Swimming Pool",category:"lifestyle"},{key:"gym",label:"Gym / Fitness Centre",category:"lifestyle"},{key:"clubhouse",label:"Clubhouse",category:"lifestyle"},{key:"tennis_courts",label:"Tennis Courts",category:"lifestyle"},{key:"squash_courts",label:"Squash Courts",category:"lifestyle"},{key:"padel_courts",label:"Padel Courts",category:"lifestyle"},{key:"basketball_court",label:"Basketball Court",category:"lifestyle"},{key:"jogging_trails",label:"Jogging / Walking Trails",category:"lifestyle"},{key:"outdoor_entertainment",label:"Outdoor Entertainment Area",category:"lifestyle"},{key:"braai_facilities",label:"Braai / BBQ Facilities",category:"lifestyle"},{key:"community_hall",label:"Community Hall",category:"lifestyle"},{key:"sauna_steam",label:"Sauna / Steam Room",category:"lifestyle"},{key:"spa_facilities",label:"Spa Facilities",category:"lifestyle"},{key:"yoga_studio",label:"Yoga Studio",category:"lifestyle"},{key:"pet_park",label:"Pet Park / Dog Run",category:"lifestyle"},{key:"picnic_areas",label:"Picnic Areas",category:"lifestyle"},{key:"outdoor_gym",label:"Outdoor Gym",category:"lifestyle"},{key:"bocce_court",label:"Bocce / Ptanque Court",category:"lifestyle"},{key:"golf_course",label:"Golf Course",category:"lifestyle"},{key:"equestrian_facilities",label:"Equestrian Facilities",category:"lifestyle"},{key:"private_beach_access",label:"Private Beach Access",category:"lifestyle"},{key:"solar_power",label:"Solar Power / Solar-Ready",category:"sustainability"},{key:"rainwater_harvesting",label:"Rainwater Harvesting",category:"sustainability"},{key:"grey_water_system",label:"Grey Water System",category:"sustainability"},{key:"energy_efficient_lighting",label:"Energy-Efficient Lighting",category:"sustainability"},{key:"recycling_facilities",label:"Recycling Facilities",category:"sustainability"},{key:"ev_charging",label:"EV Charging Stations",category:"sustainability"},{key:"water_wise_gardens",label:"Water-Wise Gardens",category:"sustainability"},{key:"green_building",label:"Green Building Certification",category:"sustainability"},{key:"composting",label:"Composting Facilities",category:"sustainability"},{key:"sustainable_materials",label:"Sustainable Building Materials",category:"sustainability"},{key:"fibre_ready",label:"Fibre-Ready / High-Speed Internet",category:"convenience"},{key:"backup_water",label:"Backup Water Supply",category:"convenience"},{key:"backup_power",label:"Backup Generator / Power",category:"convenience"},{key:"maintenance_team",label:"On-Site Maintenance Team",category:"convenience"},{key:"property_management",label:"Property Management Office",category:"convenience"},{key:"concierge",label:"Concierge Service",category:"convenience"},{key:"shuttle_service",label:"Shuttle Service",category:"convenience"},{key:"parcel_collection",label:"Parcel Collection Point",category:"convenience"},{key:"car_wash",label:"Car Wash Bay",category:"convenience"},{key:"visitor_parking",label:"Visitor Parking",category:"convenience"},{key:"covered_parking",label:"Covered Parking",category:"convenience"},{key:"undercover_parking",label:"Undercover Parking",category:"convenience"},{key:"guest_suites",label:"Guest Suites / Accommodation",category:"convenience"},{key:"business_centre",label:"Business Centre / Co-Working",category:"convenience"},{key:"meeting_rooms",label:"Meeting Rooms",category:"convenience"},{key:"storage_units",label:"Storage Units Available",category:"convenience"},{key:"childrens_play_area",label:"Children's Play Area",category:"family"},{key:"splash_pool",label:"Kids' Splash Pool",category:"family"},{key:"jungle_gym",label:"Jungle Gym",category:"family"},{key:"trampoline_park",label:"Trampoline Park",category:"family"},{key:"kids_clubhouse",label:"Kids' Clubhouse",category:"family"},{key:"teen_rec_room",label:"Teen Recreation Room",category:"family"},{key:"childcare",label:"Childcare Facilities",category:"family"},{key:"nursery_school",label:"Nursery School / Crche",category:"family"},{key:"playground_equipment",label:"Playground Equipment",category:"family"},{key:"family_entertainment",label:"Family Entertainment Area",category:"family"},{key:"pedestrian_pathways",label:"Safe Pedestrian Pathways",category:"family"},{key:"bicycle_routes",label:"Bicycle-Friendly Routes",category:"family"}],ZH=["24_hour_security","access_control","fibre_ready","parking","swimming_pool","pet_friendly_area"],getAmenitiesByCategory=e=>WH.filter(s=>s.category===e),KH={security:Ko,lifestyle:di,sustainability:Yi,convenience:qo,family:ga};function VideoUrlInput({onAdd:e}){const[s,a]=re.useState(""),handleAdd=()=>{var l;s.trim()?/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)[\w-]+/.test(l=s)||/^(https?:\/\/)?(www\.)?vimeo\.com\/\d+/.test(l)?(e(s.trim()),a("")):Gr.error("Please enter a valid YouTube or Vimeo URL"):Gr.error("Please enter a video URL")};return u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx(Input,{placeholder:"https://www.youtube.com/watch?v=...",value:s,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),handleAdd())},className:"pl-9"})]}),u.jsxs(Button$1,{onClick:handleAdd,type:"button",variant:"secondary",className:"shrink-0",children:[u.jsx(Mo,{className:"w-4 h-4 mr-1"}),"Add"]})]})}const GH=[{value:"none",label:"No Parking"},{value:"open",label:"Open Bay"},{value:"covered",label:"Covered Bay"},{value:"carport",label:"Carport"},{value:"garage",label:"Garage"}],YH=[{value:"side-by-side",label:"Side-by-Side"},{value:"tandem",label:"Tandem"}],QH={kitchen:["Built-in Oven","Gas Hob","Extractor Fan","Granite Tops","Island","Pantry","Scullery","Dishwasher Ready"],bathroom:["En-suite","Full Bathroom","Guest Toilet","Double Vanity","Shower","Bathtub","Heated Rails"],flooring:["Porcelain Tiles","Laminate","Vinyl","Carpets","Engineered Wood","Screed"],storage:["Built-in Cupboards","Walk-in Closet","Linen Cupboard","Storeroom"],climate:["AC Ready","Ceiling Fans","Underfloor Heating","Fireplace"],outdoor:["Balcony","Patio","Private Garden","Built-in Braai","Rooftop Terrace"],security:["Security Gate","Burglar Bars","Intercom","Alarm System"],other:["Fibre Ready","Prepaid Electricity","Solar Geyser","Inverter Ready","Pet Friendly"]};var XH={};!function main(e,s,a,l){var c=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u="function"==typeof Path2D&&"function"==typeof DOMMatrix;function noop3(){}function promise(a){var l=s.exports.Promise,c=void 0!==l?l:e.Promise;return"function"==typeof c?new c(a):(a(noop3,noop3),null)}var p,m,h,f,g,b,j=function(e,s){return{transform:function(a){if(e)return a;if(s.has(a))return s.get(a);var l=new OffscreenCanvas(a.width,a.height);return l.getContext("2d").drawImage(a,0,0),s.set(a,l),l},clear:function(){s.clear()}}}(function(){if(!e.OffscreenCanvas)return!1;try{var s=new OffscreenCanvas(1,1),a=s.getContext("2d");a.fillRect(0,0,1,1);var l=s.transferToImageBitmap();a.createPattern(l,"no-repeat")}catch(c){return!1}return!0}(),new Map),N=(h=Math.floor(1e3/60),f={},g=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(p=function(e){var s=Math.random();return f[s]=requestAnimationFrame(function onFrame(a){g===a||g+h-1<a?(g=a,delete f[s],e()):f[s]=requestAnimationFrame(onFrame)}),s},m=function(e){f[e]&&cancelAnimationFrame(f[e])}):(p=function(e){return setTimeout(e,h)},m=function(e){return clearTimeout(e)}),{frame:p,cancel:m}),k=function(){var e,s,l={};return function(){if(e)return e;if(!a&&c){var u=["var CONFETTI, SIZE = {}, module = {};","("+main.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([u])))}catch(p){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(" Could not load worker",p),null}!function decorate(e){function execute(s,a){e.postMessage({options:s||{},callback:a})}e.init=function initWorker(s){var a=s.transferControlToOffscreen();e.postMessage({canvas:a},[a])},e.fire=function fireWorker(a,c,u){if(s)return execute(a,null),s;var p=Math.random().toString(36).slice(2);return s=promise(function(c){function workerDone(a){a.data.callback===p&&(delete l[p],e.removeEventListener("message",workerDone),s=null,j.clear(),u(),c())}e.addEventListener("message",workerDone),execute(a,p),l[p]=workerDone.bind(null,{data:{callback:p}})})},e.reset=function resetWorker(){for(var s in e.postMessage({reset:!0}),l)l[s](),delete l[s]}}(e)}return e}}(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function prop(e,s,a){return function convert(e,s){return s?s(e):e}(e&&function isOk(e){return!(null==e)}(e[s])?e[s]:_[s],a)}function onlyPositiveInt(e){return e<0?0:Math.floor(e)}function randomInt(e,s){return Math.floor(Math.random()*(s-e))+e}function toDecimal(e){return parseInt(e,16)}function colorsToRgb(e){return e.map(hexToRgb)}function hexToRgb(e){var s=String(e).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:toDecimal(s.substring(0,2)),g:toDecimal(s.substring(2,4)),b:toDecimal(s.substring(4,6))}}function setCanvasWindowSize(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function setCanvasRectSize(e){var s=e.getBoundingClientRect();e.width=s.width,e.height=s.height}function randomPhysics(e){var s=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-s+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function updateFetti(e,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.velocity*=s.decay,s.flat?(s.wobble=0,s.wobbleX=s.x+10*s.scalar,s.wobbleY=s.y+10*s.scalar,s.tiltSin=0,s.tiltCos=0,s.random=1):(s.wobble+=s.wobbleSpeed,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble),s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2);var a=s.tick++/s.totalTicks,l=s.x+s.random*s.tiltCos,c=s.y+s.random*s.tiltSin,p=s.wobbleX+s.random*s.tiltCos,m=s.wobbleY+s.random*s.tiltSin;if(e.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-a)+")",e.beginPath(),u&&"path"===s.shape.type&&"string"==typeof s.shape.path&&Array.isArray(s.shape.matrix))e.fill(function transformPath2D(e,s,a,l,c,u,p){var m=new Path2D(e),h=new Path2D;h.addPath(m,new DOMMatrix(s));var f=new Path2D;return f.addPath(h,new DOMMatrix([Math.cos(p)*c,Math.sin(p)*c,-Math.sin(p)*u,Math.cos(p)*u,a,l])),f}(s.shape.path,s.shape.matrix,s.x,s.y,.1*Math.abs(p-l),.1*Math.abs(m-c),Math.PI/10*s.wobble));else if("bitmap"===s.shape.type){var h=Math.PI/10*s.wobble,f=.1*Math.abs(p-l),g=.1*Math.abs(m-c),b=s.shape.bitmap.width*s.scalar,N=s.shape.bitmap.height*s.scalar,k=new DOMMatrix([Math.cos(h)*f,Math.sin(h)*f,-Math.sin(h)*g,Math.cos(h)*g,s.x,s.y]);k.multiplySelf(new DOMMatrix(s.shape.matrix));var _=e.createPattern(j.transform(s.shape.bitmap),"no-repeat");_.setTransform(k),e.globalAlpha=1-a,e.fillStyle=_,e.fillRect(s.x-b/2,s.y-N/2,b,N),e.globalAlpha=1}else if("circle"===s.shape)e.ellipse?e.ellipse(s.x,s.y,Math.abs(p-l)*s.ovalScalar,Math.abs(m-c)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):function ellipse(e,s,a,l,c,u,p,m,h){e.save(),e.translate(s,a),e.rotate(u),e.scale(l,c),e.arc(0,0,1,p,m,h),e.restore()}(e,s.x,s.y,Math.abs(p-l)*s.ovalScalar,Math.abs(m-c)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if("star"===s.shape)for(var T=Math.PI/2*3,E=4*s.scalar,A=8*s.scalar,L=s.x,O=s.y,I=5,$=Math.PI/I;I--;)L=s.x+Math.cos(T)*A,O=s.y+Math.sin(T)*A,e.lineTo(L,O),T+=$,L=s.x+Math.cos(T)*E,O=s.y+Math.sin(T)*E,e.lineTo(L,O),T+=$;else e.moveTo(Math.floor(s.x),Math.floor(s.y)),e.lineTo(Math.floor(s.wobbleX),Math.floor(c)),e.lineTo(Math.floor(p),Math.floor(m)),e.lineTo(Math.floor(l),Math.floor(s.wobbleY));return e.closePath(),e.fill(),s.tick<s.totalTicks}function confettiCannon(s,u){var p,m=!s,h=!!prop(u||{},"resize"),f=!1,g=prop(u,"disableForReducedMotion",Boolean),b=c&&!!prop(u||{},"useWorker")?k():null,_=m?setCanvasWindowSize:setCanvasRectSize,T=!(!s||!b)&&!!s.__confetti_initialized,E="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function fireLocal(e,c,u){for(var m=prop(e,"particleCount",onlyPositiveInt),h=prop(e,"angle",Number),f=prop(e,"spread",Number),g=prop(e,"startVelocity",Number),b=prop(e,"decay",Number),k=prop(e,"gravity",Number),T=prop(e,"drift",Number),E=prop(e,"colors",colorsToRgb),A=prop(e,"ticks",Number),L=prop(e,"shapes"),O=prop(e,"scalar"),I=!!prop(e,"flat"),$=function getOrigin(e){var s=prop(e,"origin",Object);return s.x=prop(s,"x",Number),s.y=prop(s,"y",Number),s}(e),z=m,U=[],H=s.width*$.x,q=s.height*$.y;z--;)U.push(randomPhysics({x:H,y:q,angle:h,spread:f,startVelocity:g,color:E[z%E.length],shape:L[randomInt(0,L.length)],ticks:A,decay:b,gravity:k,drift:T,scalar:O,flat:I}));return p?p.addFettis(U):(p=function animate(e,s,c,u,p){var m,h,f=s.slice(),g=e.getContext("2d"),b=promise(function(s){function onDone(){m=h=null,g.clearRect(0,0,u.width,u.height),j.clear(),p(),s()}m=N.frame(function update(){!a||u.width===l.width&&u.height===l.height||(u.width=e.width=l.width,u.height=e.height=l.height),u.width||u.height||(c(e),u.width=e.width,u.height=e.height),g.clearRect(0,0,u.width,u.height),(f=f.filter(function(e){return updateFetti(g,e)})).length?m=N.frame(update):onDone()}),h=onDone});return{addFettis:function(e){return f=f.concat(e),b},canvas:e,promise:b,reset:function(){m&&N.cancel(m),h&&h()}}}(s,U,_,c,u),p.promise)}function fire(a){var l=g||prop(a,"disableForReducedMotion",Boolean),c=prop(a,"zIndex",Number);if(l&&E)return promise(function(e){e()});m&&p?s=p.canvas:m&&!s&&(s=function getCanvas(e){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=e,s}(c),document.body.appendChild(s)),h&&!T&&_(s);var u={width:s.width,height:s.height};function onResize(){if(b){var e={getBoundingClientRect:function(){if(!m)return s.getBoundingClientRect()}};return _(e),void b.postMessage({resize:{width:e.width,height:e.height}})}u.width=u.height=null}function done(){p=null,h&&(f=!1,e.removeEventListener("resize",onResize)),m&&s&&(document.body.contains(s)&&document.body.removeChild(s),s=null,T=!1)}return b&&!T&&b.init(s),T=!0,b&&(s.__confetti_initialized=!0),h&&!f&&(f=!0,e.addEventListener("resize",onResize,!1)),b?b.fire(a,u,done):fireLocal(a,u,done)}return fire.reset=function(){b&&b.reset(),p&&p.reset()},fire}function getDefaultFire(){return b||(b=confettiCannon(null,{useWorker:!0,resize:!0})),b}s.exports=function(){return getDefaultFire().apply(this,arguments)},s.exports.reset=function(){getDefaultFire().reset()},s.exports.create=confettiCannon,s.exports.shapeFromPath=function shapeFromPath(e){if(!u)throw new Error("path confetti are not supported in this browser");var s,a;"string"==typeof e?s=e:(s=e.path,a=e.matrix);var l=new Path2D(s),c=document.createElement("canvas").getContext("2d");if(!a){for(var p,m,h=1e3,f=h,g=h,b=0,j=0,N=0;N<h;N+=2)for(var k=0;k<h;k+=2)c.isPointInPath(l,N,k,"nonzero")&&(f=Math.min(f,N),g=Math.min(g,k),b=Math.max(b,N),j=Math.max(j,k));p=b-f,m=j-g;var _=Math.min(10/p,10/m);a=[_,0,0,_,-Math.round(p/2+f)*_,-Math.round(m/2+g)*_]}return{type:"path",path:s,matrix:a}},s.exports.shapeFromText=function shapeFromText(e){var s,a=1,l="#000000",c='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?s=e:(s=e.text,a="scalar"in e?e.scalar:a,c="fontFamily"in e?e.fontFamily:c,l="color"in e?e.color:l);var u=10*a,p=u+"px "+c,m=new OffscreenCanvas(u,u),h=m.getContext("2d");h.font=p;var f=h.measureText(s),g=Math.ceil(f.actualBoundingBoxRight+f.actualBoundingBoxLeft),b=Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent),j=f.actualBoundingBoxLeft+2,N=f.actualBoundingBoxAscent+2;g+=4,b+=4,(h=(m=new OffscreenCanvas(g,b)).getContext("2d")).font=p,h.fillStyle=l,h.fillText(s,j,N);var k=1/a;return{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[k,0,0,k,-g*k/2,-b*k/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),XH,!1);const JH=XH.exports;function WizardHeader({title:e,description:s,progressPercent:a,showExit:l=!0,onExit:c,saveStatus:p="saved",lastSavedAt:m,className:h}){return u.jsx("div",{className:cn("w-full bg-white/80 backdrop-blur-md border-b border-slate-200 z-10 sticky top-0",h),children:u.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-900 to-slate-900 bg-clip-text text-transparent leading-tight",children:e}),s&&u.jsx("p",{className:"text-sm text-slate-500 max-w-2xl text-balance",children:s})]}),u.jsxs("div",{className:"flex items-center gap-4 pl-4",children:[u.jsxs("div",{className:"hidden md:flex items-center",children:["saving"===p&&u.jsxs("span",{className:"flex items-center text-xs text-slate-400 font-medium",children:[u.jsx(Ro,{className:"w-3 h-3 mr-1.5 animate-spin"}),"Saving..."]}),"saved"===p&&u.jsxs("span",{className:"flex items-center text-xs text-slate-400 font-medium",title:m?`Saved at ${m.toLocaleTimeString()}`:"Saved",children:[u.jsx(Ha,{className:"w-3 h-3 mr-1.5 text-emerald-500"}),"Saved"]}),"error"===p&&u.jsx(Badge,{variant:"destructive",className:"text-[10px] h-5",children:"Save Failed"})]}),u.jsx("div",{className:"h-6 w-px bg-slate-200 hidden md:block"}),u.jsx("div",{className:"flex flex-col items-end",children:u.jsxs("span",{className:"text-2xl font-bold text-slate-900 leading-none font-mono tracking-tight",children:[Math.round(a),"%"]})}),l&&c&&u.jsx(Button$1,{variant:"ghost",size:"icon",onClick:c,className:"ml-2 text-slate-400 hover:text-red-700 hover:bg-red-50 rounded-full h-9 w-9 transition-colors",title:"Exit Wizard",children:u.jsx(Il,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-1 w-full bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-500 ease-out rounded-full",style:{width:`${Math.max(a,5)}%`}})})]})})}XH.exports.create;const tq={ConfigurationStep:function ResidentialConfigPhase(){const{residentialConfig:e,setResidentialConfig:s}=BH();return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center md:text-left",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-2",children:"Residential Configuration"}),u.jsx("p",{className:"text-slate-600",children:"Define the type and structure of your residential development."})]}),u.jsxs(ea,{className:"border-slate-200/60 shadow-sm",children:[u.jsxs(ta,{className:"pb-4",children:[u.jsx(ra,{className:"text-xl text-slate-900",children:"Development Type"}),u.jsx(na,{children:"What kind of residential development is this?"})]}),u.jsx(sa,{children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Tz.map(a=>{const l=UH[a.value],c=e.residentialType===a.value,p=a.disabled;return u.jsx(ea,{className:cn("relative overflow-hidden group transition-all duration-300",p?"cursor-not-allowed border-slate-200 bg-slate-50/50 opacity-60":"cursor-pointer hover:scale-[1.02] border-slate-200 hover:border-blue-300 hover:shadow-sm",c&&"border-blue-500 bg-gradient-to-br from-blue-50 to-purple-50 ring-2 ring-blue-500 shadow-md"),onClick:()=>{return!p&&(e=a.value,void s({residentialType:e,communityTypes:[]}));var e},children:u.jsxs(sa,{className:"p-5 flex items-start gap-4",children:[u.jsx("div",{className:cn("p-3 rounded-xl transition-all duration-300 shrink-0",c?"bg-gradient-to-br from-blue-500 to-purple-500 text-white":p?"bg-slate-100 text-slate-400":"bg-slate-100 text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600"),children:l&&u.jsx(l,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:cn("font-semibold text-sm truncate",c?"text-blue-900":p?"text-slate-400":"text-slate-900"),children:a.label}),p&&u.jsx(Badge,{variant:"outline",className:"text-[10px] h-5 px-1 bg-slate-100 text-slate-500",children:"Soon"})]}),u.jsx("p",{className:cn("text-xs mt-1 line-clamp-2",p?"text-slate-400":"text-slate-500"),children:a.description})]}),c&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("div",{className:"p-1 bg-white rounded-full shadow",children:u.jsx(Ia,{className:"w-3 h-3 text-blue-600"})})})]})},a.value)})})})]}),e.residentialType&&u.jsxs(ea,{className:"border-slate-200/60 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs(ta,{className:"pb-4",children:[u.jsxs(ra,{className:"text-xl text-slate-900 flex items-center gap-2",children:[u.jsx(La,{className:"w-5 h-5 text-purple-600"}),"Property Sub-Type",u.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs",children:"Required"})]}),u.jsxs(na,{children:["What specific type of"," ",Tz.find(s=>s.value===e.residentialType)?.label.toLowerCase()||"development"," ","is this?"]})]}),u.jsxs(sa,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:getApplicableCommunityTypes(e.residentialType||null).map(a=>{const l=e.communityTypes?.includes(a.value);return u.jsxs("label",{className:cn("flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",l?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-purple-300 hover:bg-purple-50/30"),children:[u.jsx(Checkbox,{checked:l,onCheckedChange:()=>(a=>{const l=e.communityTypes||[];if("non_estate"===a)return void s({communityTypes:["non_estate"]});const c=l.filter(e=>"non_estate"!==e);c.includes(a)?s({communityTypes:c.filter(e=>e!==a)}):s({communityTypes:[...c,a]})})(a.value),className:"data-[state=checked]:bg-purple-600 data-[state=checked]:border-purple-600"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("span",{className:cn("font-medium text-sm",l?"text-purple-900":"text-slate-700"),children:a.label}),u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:a.description}),a.triggersEstateProfile&&u.jsx("p",{className:"text-xs text-purple-600 mt-0.5 font-medium",children:"+ Estate Profile"})]})]},a.value)})}),e.communityTypes?.some(e=>Oz.find(s=>s.value===e)?.triggersEstateProfile)&&u.jsxs("div",{className:"mt-4 flex items-start gap-2 p-3 bg-purple-50 rounded-lg text-sm text-purple-700",children:[u.jsx(Vi,{className:"w-4 h-4 shrink-0 mt-0.5"}),u.jsx("span",{children:"You'll configure estate-level details (HOA, levies, estate amenities) in a dedicated step."})]})]})]})]})},IdentityMarketStep:function IdentityPhase(){const{developmentData:e,setIdentity:s,saveWorkflowStepData:a,stepErrors:l,currentStepId:c}=BH(),handleFieldChange=(e,l)=>{s({[e]:l}),a("identity_market",{[e]:l})},p=c&&l[c]||[],getError=e=>{const s=p.find(s=>s.field===e);return s?s.message:null},m=["launching-soon","selling"].includes(e.status);return u.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs(ea,{className:"border-slate-200/60 shadow-sm "+(getError("name")?"border-red-200 ring-1 ring-red-200":""),children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(ka,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Identity & Market"}),u.jsx(na,{children:"Establish the brand identity and market position."})]})]})}),u.jsxs(sa,{className:"space-y-5",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"name",className:"flex items-center gap-2",children:["Development Name ",u.jsx("span",{className:"text-red-500",children:"*"}),getError("name")&&u.jsxs("span",{className:"text-xs text-red-500 font-normal ml-auto flex items-center gap-1",children:[u.jsx(Va,{className:"w-3 h-3"})," ",getError("name")]})]}),u.jsx(Input,{id:"name",placeholder:"e.g. Sunset Heights",value:e.name,onChange:e=>handleFieldChange("name",e.target.value),className:"h-11 "+(getError("name")?"border-red-300 focus-visible:ring-red-200":"")})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"subtitle",children:"Subtitle / Tagline"}),u.jsx(Input,{id:"subtitle",placeholder:"e.g. Luxury Coastal Living",value:e.subtitle||"",onChange:e=>handleFieldChange("subtitle",e.target.value),className:"h-11"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"nature",children:"Nature of Development"}),u.jsxs(Select$1,{value:e.nature||void 0,onValueChange:e=>handleFieldChange("nature",e),children:[u.jsx(SelectTrigger,{className:"h-11",children:u.jsx(SelectValue,{placeholder:"Select nature of development"})}),u.jsx(SelectContent,{children:$z.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"marketingRole",children:"Marketing Mandate"}),u.jsxs(Select$1,{value:e.marketingRole||void 0,onValueChange:e=>handleFieldChange("marketingRole",e),children:[u.jsx(SelectTrigger,{className:"h-11",children:u.jsx(SelectValue,{placeholder:"Select marketing role"})}),u.jsx(SelectContent,{children:Rz.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),u.jsxs(ea,{className:"border-slate-200/60 shadow-sm "+(getError("status")?"border-red-200 ring-1 ring-red-200":""),children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:u.jsx(Ea,{className:"w-5 h-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Timeline & Status"}),u.jsx(na,{children:"Current construction status and dates."})]})]})}),u.jsx(sa,{className:"space-y-5",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"status",className:"flex items-center gap-2",children:["Development Status ",u.jsx("span",{className:"text-red-500",children:"*"}),getError("status")&&u.jsxs("span",{className:"text-xs text-red-500 font-normal ml-auto flex items-center gap-1",children:[u.jsx(Va,{className:"w-3 h-3"})," Required"]})]}),u.jsxs(Select$1,{value:e.status||void 0,onValueChange:e=>handleFieldChange("status",e),children:[u.jsx(SelectTrigger,{className:"h-11 "+(getError("status")?"border-red-300":""),children:u.jsx(SelectValue,{placeholder:"Select development status"})}),u.jsx(SelectContent,{children:Ez.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]}),u.jsx("p",{className:"text-xs text-slate-500",children:e.status?Ez.find(s=>s.value===e.status)?.description:"Choose the current sales status of your development"})]}),m&&u.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[u.jsx(Label$1,{htmlFor:"completionDate",children:"Expected Completion"}),u.jsx(Input,{id:"completionDate",type:"date",value:e.completionDate?new Date(e.completionDate).toISOString().split("T")[0]:"",onChange:e=>handleFieldChange("completionDate",e.target.value?new Date(e.target.value):null),className:"h-11"})]}),!m&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"launchDate",children:["Launch Date","launching-soon"===e.status&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{id:"launchDate",type:"date",value:e.launchDate?new Date(e.launchDate).toISOString().split("T")[0]:"",onChange:e=>handleFieldChange("launchDate",e.target.value?new Date(e.target.value):null),className:"h-11"})]})]})})]}),u.jsxs(ea,{className:"border-slate-200/60 shadow-sm "+(getError("ownershipTypes")?"border-red-200 ring-1 ring-red-200":""),children:[u.jsx(ta,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(il,{className:"w-5 h-5 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Market Configuration"}),u.jsx(na,{children:"How this development is being sold."})]})]})}),u.jsx(sa,{className:"space-y-5",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{children:["Transaction Type"," ",u.jsx("span",{className:"text-slate-400 text-xs font-normal ml-2",children:"(Read Only)"})]}),u.jsxs("div",{className:"h-11 px-3 flex items-center bg-slate-100 border border-slate-200 rounded-md text-slate-500 text-sm cursor-not-allowed",children:[u.jsx(ao,{className:"w-3 h-3 mr-2 text-slate-400"}),Az.find(s=>s.value===e.transactionType)?.label||e.transactionType]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"flex items-center gap-2",children:["Ownership Type(s) ",u.jsx("span",{className:"text-red-500",children:"*"}),getError("ownershipTypes")&&u.jsxs("span",{className:"text-xs text-red-500 font-normal ml-auto flex items-center gap-1",children:[u.jsx(Va,{className:"w-3 h-3"})," Required"]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-2 p-3 bg-slate-50/50 rounded-lg border "+(getError("ownershipTypes")?"border-red-200 bg-red-50/30":"border-slate-100"),children:Mz.map(s=>{const a=(e.ownershipTypes||[]).includes(s.value);return u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`ownership-${s.value}`,checked:a,onCheckedChange:()=>(s=>{const a=e.ownershipTypes||[];let l;l=a.includes(s)?a.filter(e=>e!==s):[...a,s],handleFieldChange("ownershipTypes",l)})(s.value)}),u.jsx("label",{htmlFor:`ownership-${s.value}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer text-slate-700",children:s.label})]},s.value)})})]})]})})]})]})},LocationStep:function LocationPhase(){const{developmentData:e,setIdentity:s,saveWorkflowStepData:a}=BH(),l=re.useCallback(l=>{s({location:{...e.location,...l}}),a("location",l)},[e.location,s,a]);return u.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:u.jsx(lo,{className:"w-6 h-6 text-indigo-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Location & Address"}),u.jsx("p",{className:"text-slate-600",children:"Where is the development located?"})]})]}),u.jsx(ea,{className:"border-slate-200/60 shadow-sm",children:u.jsxs(sa,{className:"pt-6 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-base font-medium text-slate-900",children:"Pin Drop Location"}),u.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Drag the pin to the exact entrance of the development."}),u.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200 shadow-sm h-[400px]",children:u.jsx(LocationMapPicker,{initialLat:e.location.latitude?parseFloat(e.location.latitude):void 0,initialLng:e.location.longitude?parseFloat(e.location.longitude):void 0,onLocationSelect:s=>{const a={address:s.address||e.location.address,city:s.city||e.location.city,province:s.province||e.location.province,suburb:s.suburb||e.location.suburb,postalCode:s.postalCode||e.location.postalCode,latitude:s.latitude.toString(),longitude:s.longitude.toString()};l(a),Gr.success("Location updated from map")},onGeocodingError:e=>Gr.error(e)})}),u.jsx("input",{type:"text","data-field":"location.latitude",value:e.location.latitude||"",readOnly:!0,className:"sr-only"}),u.jsx("input",{type:"text","data-field":"location.longitude",value:e.location.longitude||"",readOnly:!0,className:"sr-only"})]}),u.jsxs("div",{className:"grid gap-6 pt-4 border-t border-slate-100",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{htmlFor:"address",children:["Street Address ",u.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),u.jsx(Input,{id:"address","data-field":"location.address",placeholder:"e.g. 123 Main Road",value:e.location.address,onChange:e=>l({address:e.target.value}),className:"h-11"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"city",children:"City / Town"}),u.jsx(Input,{id:"city","data-field":"location.city",placeholder:"e.g. Cape Town",value:e.location.city,onChange:e=>l({city:e.target.value}),className:"h-11"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"suburb",children:"Suburb"}),u.jsx(Input,{id:"suburb","data-field":"location.suburb",placeholder:"e.g. Sea Point",value:e.location.suburb||"",onChange:e=>l({suburb:e.target.value}),className:"h-11"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"province",children:"Province"}),u.jsxs(Select$1,{value:e.location.province,onValueChange:e=>l({province:e}),children:[u.jsx(SelectTrigger,{className:"h-11","data-field":"location.province",children:u.jsx(SelectValue,{placeholder:"Select Province"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"Western Cape",children:"Western Cape"}),u.jsx(SelectItem,{value:"Gauteng",children:"Gauteng"}),u.jsx(SelectItem,{value:"KwaZulu-Natal",children:"KwaZulu-Natal"}),u.jsx(SelectItem,{value:"Eastern Cape",children:"Eastern Cape"}),u.jsx(SelectItem,{value:"Free State",children:"Free State"}),u.jsx(SelectItem,{value:"Limpopo",children:"Limpopo"}),u.jsx(SelectItem,{value:"Mpumalanga",children:"Mpumalanga"}),u.jsx(SelectItem,{value:"North West",children:"North West"}),u.jsx(SelectItem,{value:"Northern Cape",children:"Northern Cape"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{htmlFor:"postalCode",children:"Postal Code"}),u.jsx(Input,{id:"postalCode","data-field":"location.postalCode",placeholder:"e.g. 8005",value:e.location.postalCode||"",onChange:e=>l({postalCode:e.target.value}),className:"h-11"})]})]})]})]})})]})},GovernanceStep:function EstateProfilePhase(){const{developmentData:e,stepData:s,saveWorkflowStepData:a}=BH(),l=s?.governance_finances||{},[c,p]=re.useState({hasGoverningBody:l.hasGoverningBody??!1,governanceType:l.governanceType||"",levyRange:l.levyRange||{min:0,max:0},architecturalGuidelines:l.architecturalGuidelines??!1,guidelinesSummary:l.guidelinesSummary||"",rightsAndTaxes:l.rightsAndTaxes||{min:0,max:0}});re.useEffect(()=>{const e=s?.governance_finances||{};p(s=>({...s,hasGoverningBody:e.hasGoverningBody??s.hasGoverningBody,governanceType:e.governanceType||s.governanceType,levyRange:e.levyRange||s.levyRange,architecturalGuidelines:e.architecturalGuidelines??s.architecturalGuidelines,guidelinesSummary:e.guidelinesSummary||s.guidelinesSummary,rightsAndTaxes:e.rightsAndTaxes||s.rightsAndTaxes}))},[s?.governance_finances]);const m=re.useCallback(e=>{p(s=>({...s,...e})),"hasGoverningBody"in e&&!1===e.hasGoverningBody?a("governance_finances",{...e,governanceType:void 0,levyRange:void 0,architecturalGuidelines:void 0,guidelinesSummary:void 0}):a("governance_finances",e)},[a]),handleRatesChange=(e,s)=>{const a=parseInt(e.target.value)||0;m({rightsAndTaxes:{...c.rightsAndTaxes,[s]:a}})},formatCurrency2=e=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[u.jsx("div",{className:"text-center md:text-left",children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:u.jsx(Bo,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Governance & Finances"}),u.jsx("p",{className:"text-slate-600",children:"Configure the management structure and financial obligations."})]})]})}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-100 rounded-xl",children:[u.jsx(Vi,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),u.jsx("div",{className:"text-sm text-blue-700",children:"This information clarifies the ongoing costs and rules for potential buyers, increasing transparency and trust."})]}),u.jsxs(ea,{className:"border-slate-200/60 shadow-sm",children:[u.jsxs(ta,{className:"pb-4",children:[u.jsx(ra,{className:"text-xl text-slate-900",children:"Governing Body"}),u.jsx(na,{children:"Is there an entity specific to this development?"})]}),u.jsxs(sa,{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[u.jsxs("div",{children:[u.jsx(Label$1,{className:"text-base font-medium text-slate-900",children:"Managed Estate / Body Corporate"}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Is this development part of a managed estate, complex, or body corporate?"})]}),u.jsx(Switch,{checked:c.hasGoverningBody,onCheckedChange:e=>m({hasGoverningBody:e})})]}),c.hasGoverningBody&&u.jsxs("div",{className:"space-y-6 pt-2 border-t border-slate-100 animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"text-base text-slate-900",children:["Type of Governing Body ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:HH.map(e=>u.jsxs("div",{onClick:()=>(e=>{m({governanceType:e})})(e.value),className:cn("cursor-pointer p-3 rounded-lg border flex items-center gap-3 transition-all",c.governanceType===e.value?"border-blue-500 bg-blue-50 text-blue-900":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:[u.jsx("div",{className:cn("w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center shrink-0",c.governanceType===e.value&&"border-blue-600 bg-blue-600"),children:c.governanceType===e.value&&u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),u.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.value))})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Estimated Monthly Levies"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Range for units in this development"})]}),u.jsx("div",{className:"px-2",children:u.jsx(Slider,{value:[c.levyRange.min,c.levyRange.max],onValueChange:e=>{m({levyRange:{min:e[0],max:e[1]}})},min:0,max:2e4,step:100,className:"w-full"})}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-slate-600",children:["From:"," ",u.jsx("strong",{className:"text-slate-900",children:formatCurrency2(c.levyRange.min)})]}),u.jsxs("span",{className:"text-slate-600",children:["To:"," ",u.jsx("strong",{className:"text-slate-900",children:formatCurrency2(c.levyRange.max)})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[u.jsxs("div",{children:[u.jsx(Label$1,{className:"text-sm font-medium text-slate-900",children:"Architectural Guidelines"}),u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Are there strict design rules owners must follow?"})]}),u.jsx(Switch,{checked:c.architecturalGuidelines,onCheckedChange:e=>m({architecturalGuidelines:e})})]})]})]})]}),u.jsxs(ea,{className:"border-slate-200/60 shadow-sm",children:[u.jsxs(ta,{className:"pb-4",children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Rates & Taxes (Municipal)"}),u.jsx(na,{children:"Estimated municipal rates owners can expect to pay."})]}),u.jsx(sa,{children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs text-slate-500",children:"Min Estimate"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"R"}),u.jsx(Input,{type:"number",className:"pl-7",placeholder:"0",value:c.rightsAndTaxes?.min||"",onChange:e=>handleRatesChange(e,"min")})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-xs text-slate-500",children:"Max Estimate"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"R"}),u.jsx(Input,{type:"number",className:"pl-7",placeholder:"0",value:c.rightsAndTaxes?.max||"",onChange:e=>handleRatesChange(e,"max")})]})]})]})})]})]})},AmenitiesStep:function AmenitiesPhase(){const{stepData:e,saveWorkflowStepData:s}=BH(),[a,l]=re.useState("security"),[c,p]=re.useState(""),m=e?.amenities_features||{},h=m.amenities||[],f=h.filter(e=>!WH.some(s=>s.key===e)),g=re.useCallback(e=>{s("amenities_features",{...m,amenities:e})},[m,s]),toggleAmenity=e=>{let s;s=h.includes(e)?h.filter(s=>s!==e):[...h,e],g(s)},b=ZH.every(e=>h.includes(e)),handleAddCustomAmenity=()=>{const e=c.trim();if(!e)return;const s=WH.some(s=>s.label.toLowerCase()===e.toLowerCase()),a=h.some(s=>s.toLowerCase()===e.toLowerCase());if(s){const s=WH.find(s=>s.label.toLowerCase()===e.toLowerCase());return s&&!h.includes(s.key)?(toggleAmenity(s.key),Gr.success(`Added standard amenity: ${s.label}`),void p("")):void Gr.error("This amenity is already selected")}a?Gr.error("You already added this amenity"):(g([...h,e]),p(""),Gr.success(`Added "${e}"`))},j=h.length;return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-teal-50 rounded-lg",children:u.jsx(di,{className:"w-6 h-6 text-teal-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Amenities & Features"}),u.jsx("p",{className:"text-slate-600",children:"What lifestyle features does the development offer?"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 flex items-center justify-between p-4 bg-blue-50/50 rounded-xl border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-blue-600",children:u.jsx(Ia,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-slate-900",children:[j," Selected"]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Select as many as apply"})]})]}),u.jsx(Badge,{variant:j>=3?"default":"secondary",className:j>=3?"bg-green-600 hover:bg-green-700":"",children:j>=3?"Target Met":"Suggested: 3+"})]}),!b&&u.jsxs("div",{className:"flex-1 flex items-center justify-between p-4 bg-amber-50/50 rounded-xl border border-amber-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-amber-600",children:u.jsx(el,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",children:"Quick Start"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Add popular amenities"})]})]}),u.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>{const e=[...h];let s=0;ZH.forEach(a=>{e.includes(a)||(e.push(a),s++)}),s>0?(g(e),Gr.success(`Added ${s} common amenities`)):Gr.info("All common amenities already selected")},className:"bg-white border-amber-200 text-amber-700 hover:bg-amber-50",children:"Apply All"})]})]}),u.jsxs(ef,{value:a,onValueChange:e=>l(e),className:"w-full",children:[u.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0",children:u.jsx(tf,{className:"bg-slate-100 p-1 rounded-xl h-auto inline-flex w-max md:w-full justify-start md:justify-between gap-1",children:qH.map(e=>{const s=KH[e.key],a=(e=>{const s=getAmenitiesByCategory(e);return h.filter(e=>s.some(s=>s.key===e)).length})(e.key);return u.jsxs(rf,{value:e.key,className:"flex items-center gap-2 px-3 py-2 data-[state=active]:bg-white data-[state=active]:text-blue-700 data-[state=active]:shadow-sm transition-all",children:[u.jsx(s,{className:"w-4 h-4"}),u.jsx("span",{children:e.label}),a>0&&u.jsx(Badge,{variant:"secondary",className:"h-5 min-w-[1.25rem] px-1 bg-blue-100 text-blue-700 ml-1",children:a})]},e.key)})})}),qH.map(e=>{const s=KH[e.key];return u.jsx(nf,{value:e.key,className:"mt-6 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs(ea,{children:[u.jsx(ta,{className:"border-b border-slate-100 bg-slate-50/50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(s,{className:"w-5 h-5 text-slate-500"}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-base",children:e.label}),u.jsx(na,{children:e.description})]})]})}),u.jsx(sa,{className:"pt-6",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:getAmenitiesByCategory(e.key).map(e=>{const s=h.includes(e.key);return u.jsxs("div",{onClick:()=>toggleAmenity(e.key),className:cn("flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all hover:bg-slate-50",s?"border-blue-600 bg-blue-50/50":"border-slate-100"),children:[u.jsx(Checkbox,{checked:s,className:"mt-0.5"}),u.jsx("span",{className:cn("text-sm font-medium",s?"text-blue-900":"text-slate-700"),children:e.label})]},e.key)})})})]})},e.key)})]}),u.jsx(ea,{className:"border-dashed border-slate-300 shadow-none bg-slate-50/50",children:u.jsxs(sa,{className:"pt-6",children:[u.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[u.jsx(Mo,{className:"w-4 h-4"})," Custom Amenities & Features"]}),u.jsxs("div",{className:"flex gap-2 max-w-lg mb-4",children:[u.jsx(Input,{placeholder:"e.g. Helipad, Private Vineyard",value:c,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&handleAddCustomAmenity()}),u.jsx(Button$1,{onClick:handleAddCustomAmenity,disabled:!c.trim(),children:"Add"})]}),f.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(e=>u.jsxs(Badge,{variant:"outline",className:"pl-2 pr-1 py-1 bg-white border-slate-200 flex items-center gap-2",children:[e,u.jsx("button",{onClick:()=>(e=>{g(h.filter(s=>s!==e))})(e),className:"hover:bg-slate-100 rounded-full p-0.5",children:u.jsx(Il,{className:"w-3 h-3 text-slate-400 hover:text-red-500"})})]},e))})]})})]})},MarketingStep:function OverviewPhase(){const{developmentData:e,saveWorkflowStepData:s,stepData:a}=BH(),[l,c]=re.useState(""),p=a?.marketing_summary||{},m=p.tagline??e.subtitle??"",h=p.description??e.description??"",f=p.keySellingPoints??e.highlights??[],handleUpdate=e=>{const l=a?.marketing_summary||{},c={...e};void 0!==e.subtitle&&(c.tagline=e.subtitle,delete c.subtitle),void 0!==e.highlights&&(c.keySellingPoints=e.highlights,delete c.highlights),s("marketing_summary",{...l,...c})},handleAddHighlight=()=>{if(!l.trim())return;if(f.some(e=>e.toLowerCase()===l.trim().toLowerCase()))return void Gr.error("Highlight already exists");const e=[...f,l.trim()];handleUpdate({highlights:e}),c("")};return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[u.jsxs("div",{className:"text-center md:text-left",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-2",children:"Marketing Summary"}),u.jsx("p",{className:"text-slate-600",children:"Create compelling content to attract buyers. This will be the first thing they see."})]}),u.jsxs("div",{className:"grid gap-8",children:[u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(ho,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Listing Content"}),u.jsx(na,{children:"Define how your development appears in search results."})]})]})}),u.jsxs(sa,{className:"space-y-6 pt-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"text-slate-900 font-medium",children:["Tagline ",u.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),u.jsx(Input,{placeholder:"e.g. Where coastal luxury meets modern living",value:m,onChange:e=>handleUpdate({subtitle:e.target.value}),maxLength:100,className:"h-11 border-slate-200 focus:border-blue-500"}),u.jsxs("p",{className:"text-xs text-slate-500 text-right",children:[m.length," / 100"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Label$1,{className:"text-slate-900 font-medium",children:["Development Description ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Textarea,{placeholder:"Describe the lifestyle, location benefits, and unique selling points...",className:"min-h-[200px] border-slate-200 focus:border-blue-500 resize-y",value:h,onChange:e=>handleUpdate({description:e.target.value})}),u.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded-md border border-slate-100",children:[u.jsx("div",{className:"flex items-center gap-2",children:h.length<50?u.jsx("span",{className:"text-xs text-amber-600 flex items-center gap-1",children:" Too short (min 50)"}):h.length<150?u.jsx("span",{className:"text-xs text-blue-600 flex items-center gap-1",children:" Good start (aim for 150+)"}):u.jsx("span",{className:"text-xs text-green-600 flex items-center gap-1",children:" Great length"})}),u.jsxs("p",{className:cn("text-xs font-medium",h.length>=50?"text-slate-600":"text-amber-600"),children:[h.length," / 5000 chars"]})]})]})]})]}),u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:u.jsx(el,{className:"w-5 h-5 text-amber-600"})}),u.jsxs("div",{children:[u.jsx(ra,{className:"text-lg text-slate-900",children:"Key Selling Points"}),u.jsx(na,{children:"Add 3-8 bullet points summarizing why buyers should choose this estate."})]})]})}),u.jsxs(sa,{className:"space-y-6 pt-6",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Input,{placeholder:"e.g. No Transfer Duty",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),handleAddHighlight())},className:"h-11 border-slate-200 focus:border-blue-500",maxLength:100}),u.jsx(Button$1,{onClick:handleAddHighlight,type:"button",size:"icon",className:"h-11 w-11 bg-slate-900 hover:bg-slate-800 shrink-0",children:u.jsx(Mo,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 p-4 min-h-[100px]",children:0===f.length?u.jsxs("div",{className:"text-center text-slate-500 py-4",children:[u.jsx("p",{className:"text-sm font-medium",children:"No highlights added yet."}),u.jsx("p",{className:"text-xs mt-1",children:'Add points like "Pet Friendly", "Backup Power", or "Prime Location".'})]}):u.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((e,s)=>u.jsxs(Badge,{variant:"secondary",className:"pl-3 pr-1 py-1.5 bg-white border border-slate-200 shadow-sm text-slate-700 text-sm font-normal flex items-center gap-2",children:[u.jsx(Ha,{className:"w-3.5 h-3.5 text-green-500"}),e,u.jsx("button",{onClick:()=>(e=>{const s=[...f];s.splice(e,1),handleUpdate({highlights:s})})(s),className:"p-1 hover:bg-red-50 hover:text-red-500 rounded-md transition-colors",children:u.jsx(Il,{className:"w-3.5 h-3.5"})})]},s))})}),u.jsxs("p",{className:"text-xs text-slate-500",children:[f.length," of 8 points added (Min 3)"]})]})]})]})]})},MediaStep:function MediaPhase(){const{developmentData:e,saveWorkflowStepData:s,stepData:a}=BH(),[l,c]=re.useState("gallery"),p=a?.development_media||{},m=p.photos??e.media?.photos??[],h=p.videos??e.media?.videos??[],f=p.documents??e.media?.documents??e.media?.brochures??[],g=m.find(e=>"hero"===e.category)||m[0];m.filter(e=>"featured"===e.category).length;const b=m.length,j=!!g,N=b>=3,k=f.length>=1,_=[j?40:0,6*Math.min(b,5),k?30:0].reduce((e,s)=>e+s,0),T=At.upload.presign.useMutation(),persistMedia=(e,a,l)=>{s("development_media",{photos:e??m,videos:a??h,documents:l??f})},handleRemoveMedia=e=>{m.some(s=>s.id===e)?persistMedia(m.filter(s=>s.id!==e),void 0,void 0):h.some(s=>s.id===e)?persistMedia(void 0,h.filter(s=>s.id!==e),void 0):f.some(s=>s.id===e)&&persistMedia(void 0,void 0,f.filter(s=>s.id!==e))},UploadSection=({category:e,title:s,description:a,icon:l,isHero:c=!1,acceptedTypes:p="image/*"})=>{let b=[];c?(b=m.filter(e=>"hero"===e.category||"featured"===e.category),b=g?[g]:[]):b="videos"===e?h:"document"===e?f:m.filter(s=>s.category===e);const[j,N]=re.useState(!1),processFiles=async s=>{const a=s.map(async s=>{const a=Gr.loading(`Uploading ${s.name}...`),l=URL.createObjectURL(s);try{let u="image";s.type.startsWith("video")&&(u="video"),"application/pdf"===s.type&&(u="pdf");const{url:p,publicUrl:m}=await T.mutateAsync({filename:s.name,contentType:s.type});return await fetch(p,{method:"PUT",body:s,headers:{"Content-Type":s.type}}),URL.revokeObjectURL(l),Gr.dismiss(a),Gr.success(`Uploaded ${s.name}`),{id:`media-${Date.now()}-${Math.random()}`,url:m,type:u,category:c?"hero":e,isPrimary:c,displayOrder:0,fileName:s.name,uploadedAt:new Date}}catch(u){return console.error("Upload failed:",u),Gr.error(`Failed to upload ${s.name}`,{id:a}),null}}),l=(await Promise.all(a)).filter(e=>null!==e);if(0===l.length)return;const dedupe=(e,s)=>{const a=new Set(e.map(e=>e.url));return[...e,...s.filter(e=>!a.has(e.url))]},u=l.filter(e=>"image"===e.type),p=l.filter(e=>"video"===e.type),g=l.filter(e=>"pdf"===e.type||"document"===e.type);persistMedia(u.length>0?dedupe(m,u):void 0,p.length>0?dedupe(h,p):void 0,g.length>0?dedupe(f,g):void 0)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:u.jsx(l,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-base text-slate-900",children:s}),u.jsx("p",{className:"text-sm text-slate-500",children:a})]})]}),(0===b.length||!c)&&u.jsxs("div",{className:cn("border-2 border-dashed rounded-xl p-6 flex flex-col items-center justify-center text-center transition-all cursor-pointer group min-h-[160px]",j?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-50"),onDragOver:e=>{e.preventDefault(),N(!0)},onDragLeave:e=>{e.preventDefault(),N(!1)},onDrop:async e=>{e.preventDefault(),N(!1),e.dataTransfer.files.length&&await processFiles(Array.from(e.dataTransfer.files))},onClick:e=>{const s=e.currentTarget.querySelector("input");s?.click()},children:[u.jsx("div",{className:"mb-3 p-3 bg-white rounded-full shadow-sm group-hover:scale-110 transition-transform",children:u.jsx(yl,{className:cn("w-5 h-5",j?"text-blue-600":"text-slate-400")})}),u.jsx("p",{className:"text-sm font-medium text-slate-900",children:j?"Drop files here":"Click to upload "+(c?"Hero Image":"files")}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"videos"===e?"MP4, WebM (Max 100MB)":"document"===e?"PDF (Max 10MB)":"JPG, PNG, WebP (Max 5MB)"}),u.jsx("input",{type:"file",className:"hidden",multiple:!c,accept:p,onClick:e=>e.stopPropagation(),onChange:e=>{e.target.files&&processFiles(Array.from(e.target.files)),e.target.value=""}})]}),b.length>0&&u.jsx(u.Fragment,{children:"document"===e?u.jsx("div",{className:"grid gap-4 grid-cols-1",children:b.map(e=>u.jsxs("div",{className:"relative group rounded-xl overflow-hidden bg-slate-100 border border-slate-200 shadow-sm hover:shadow-md transition-all flex items-center p-3 gap-3",children:[u.jsx("div",{className:"p-2 bg-red-50 rounded text-red-600",children:u.jsx(wi,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:e.fileName||"Document"}),u.jsx("p",{className:"text-xs text-slate-500",children:"PDF Document"})]}),u.jsx(Button$1,{variant:"destructive",size:"icon",className:"h-7 w-7",onClick:s=>{s.stopPropagation(),handleRemoveMedia(e.id)},children:u.jsx(Il,{className:"w-3 h-3"})})]},e.id))}):c?u.jsx("div",{className:"grid gap-4 grid-cols-1",children:b.map(e=>u.jsxs("div",{className:"relative group rounded-xl overflow-hidden bg-slate-100 border border-slate-200 shadow-sm hover:shadow-md transition-all aspect-video max-w-lg",children:[u.jsx("img",{src:e.url,alt:"Hero",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/50 p-1 rounded-lg",children:u.jsx(Button$1,{variant:"destructive",size:"icon",className:"h-7 w-7",onClick:s=>{s.stopPropagation(),handleRemoveMedia(e.id)},children:u.jsx(Il,{className:"w-3 h-3"})})}),u.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:u.jsx("span",{className:"text-[10px] text-yellow-300 font-bold uppercase tracking-wider",children:"Primary Hero"})})]},e.id))}):u.jsx(SortableMediaGrid,{media:b.map((e,s)=>({id:e.id,url:e.url,type:"video"===e.type?"video":"pdf"===e.type?"pdf":"image",category:e.category,fileName:e.fileName,isPrimary:e.isPrimary,displayOrder:e.displayOrder??s})),onReorder:e=>{(e=>{const s=e[0];if(s)if("image"===s.type){const s=e.map(e=>e.id),a=m.filter(e=>!s.includes(e.id));persistMedia([...a,...e],void 0,void 0)}else if("video"===s.type){const s=e.map(e=>e.id),a=h.filter(e=>!s.includes(e.id));persistMedia(void 0,[...a,...e],void 0)}})(e.map(e=>({id:e.id,url:e.url,type:e.type,category:e.category,isPrimary:e.isPrimary,displayOrder:e.displayOrder,fileName:e.fileName})))},onRemove:handleRemoveMedia})})]})};return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Development Media"}),u.jsx("p",{className:"text-slate-600",children:"Visuals are critical for engagement. Start with a stunning hero image."})]}),u.jsxs("div",{className:"w-full md:w-80 bg-white p-4 rounded-xl border border-slate-200 shadow-sm space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium mb-1",children:[u.jsx("span",{className:"text-slate-700",children:"Media Quality Score"}),u.jsxs("span",{className:cn(_>=100?"text-green-600":"text-blue-600"),children:[Math.round(_),"%"]})]}),u.jsx(Progress,{value:_,className:"h-2"}),u.jsxs("div",{className:"space-y-1 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[j?u.jsx(Ha,{className:"w-3.5 h-3.5 text-green-500"}):u.jsx(Va,{className:"w-3.5 h-3.5 text-amber-500"}),u.jsx("span",{className:j?"text-slate-600":"text-slate-400",children:"Hero Image (Required)"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[N?u.jsx(Ha,{className:"w-3.5 h-3.5 text-green-500"}):u.jsx(Va,{className:"w-3.5 h-3.5 text-slate-300"}),u.jsxs("span",{className:N?"text-slate-600":"text-slate-400",children:["Gallery Images (",b,"/3+)"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[k?u.jsx(Ha,{className:"w-3.5 h-3.5 text-green-500"}):u.jsx(Va,{className:"w-3.5 h-3.5 text-amber-500"}),u.jsx("span",{className:k?"text-slate-600":"text-slate-400",children:"Brochure/Documents (Required)"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{children:[u.jsxs(ta,{className:"bg-slate-50/50 border-b border-slate-100 pb-4",children:[u.jsxs(ra,{className:"text-lg flex items-center gap-2",children:[u.jsx(sl,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," Hero Image"]}),u.jsx(na,{children:"The main face of your development. This appears at the top of your listing."})]}),u.jsx(sa,{className:"pt-6",children:u.jsx(UploadSection,{category:"hero",title:"Hero Image",description:"Upload a high-quality image that best represents your development.",icon:sl,isHero:!0})})]}),u.jsxs(ef,{value:l,onValueChange:c,className:"w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Media Gallery"}),u.jsxs(tf,{className:"bg-slate-100",children:[u.jsx(rf,{value:"gallery",children:"Photos"}),u.jsx(rf,{value:"videos",children:"Videos"}),u.jsxs(rf,{value:"docs",children:["Documents",f.length>0&&u.jsx(Badge,{variant:"secondary",className:"ml-2 h-5 px-1",children:f.length})]})]})]}),u.jsx(nf,{value:"gallery",className:"mt-0 space-y-6",children:u.jsx(ea,{children:u.jsxs(sa,{className:"pt-6 grid gap-8",children:[u.jsx(UploadSection,{category:"outdoors",title:"Exterior & Outdoors",description:"Facades, gardens, and landscaping.",icon:pl}),u.jsx(UploadSection,{category:"general",title:"Interior & Living",description:"Living areas, bedrooms, and finishes.",icon:zi}),u.jsx(UploadSection,{category:"amenities",title:"Amenities",description:"Pool, gym, and shared spaces.",icon:di}),u.jsx(UploadSection,{category:"photo",title:"Location & Views",description:"Neighborhood and scenic views.",icon:lo}),u.jsx(UploadSection,{category:"render",title:"Aerial & Drone",description:"Site overview and scale.",icon:ko})]})})}),u.jsxs(nf,{value:"videos",className:"mt-0 space-y-4",children:[u.jsx(ea,{children:u.jsx(sa,{className:"pt-6",children:u.jsx(UploadSection,{category:"videos",title:"Videos & Virtual Tours",description:"Upload walkthroughs (MP4).",icon:kl,acceptedTypes:"video/*"})})}),u.jsxs(ea,{children:[u.jsxs(ta,{className:"pb-3",children:[u.jsxs(ra,{className:"text-base flex items-center gap-2",children:[u.jsx(kl,{className:"w-4 h-4 text-purple-500"}),"Add Video Link"]}),u.jsx(na,{children:"Paste a YouTube or Vimeo URL to embed"})]}),u.jsx(sa,{children:u.jsx(VideoUrlInput,{onAdd:e=>{const s={id:`video-${Date.now()}`,url:e,type:"video",category:"videos",isPrimary:!1,displayOrder:h.length,fileName:e.includes("youtube")?"YouTube Video":e.includes("vimeo")?"Vimeo Video":"Video Link"};var a;"image"===(a=s).type?persistMedia([...m,a],void 0,void 0):"video"===a.type?persistMedia(void 0,[...h,a],void 0):"pdf"!==a.type&&"document"!==a.type||persistMedia(void 0,void 0,[...f,a]),Gr.success("Video link added!")}})})]})]}),u.jsx(nf,{value:"docs",className:"mt-0",children:u.jsx(ea,{children:u.jsx(sa,{className:"pt-6",children:u.jsx(UploadSection,{category:"document",title:"Brochures & Floor Plans",description:"Downloadable PDFs for buyers.",icon:wi,acceptedTypes:"application/pdf"})})})})]})]})]})},UnitTypesStep:function UnitTypesPhase(){const{unitTypes:e,addUnitType:s,updateUnitType:a,removeUnitType:l,validatePhase:c,unitTypeDraft:p,setUnitTypeDraft:m,saveWorkflowStepData:h}=BH(),[f,g]=re.useState(!1),[b,j]=re.useState(null),[N,k]=re.useState("basic"),[_,T]=re.useState({name:"",description:"",bedrooms:1,bathrooms:1,parkingKind:"none",parkingBays:0,garageLayout:void 0,sizeFrom:0,sizeTo:0,yardSize:0,priceFrom:0,priceTo:0,extras:[],totalUnits:0,availableUnits:0,reservedUnits:0,features:{kitchen:[],bathroom:[],flooring:[],storage:[],climate:[],outdoor:[],security:[],other:[]}}),[E,A]=re.useState([]),[L,O]=re.useState([]),I=At.upload.presign.useMutation();re.useEffect(()=>{if(f&&!b){const e=setTimeout(()=>{m({..._,baseMedia:{gallery:E,floorPlans:L,renders:[]}})},500);return()=>clearTimeout(e)}},[_,E,L,f,b,m]);const resetForm=()=>{T({name:"",description:"",bedrooms:1,bathrooms:1,parkingKind:"open",parkingBays:1,garageLayout:void 0,sizeFrom:0,sizeTo:0,yardSize:0,priceFrom:0,priceTo:0,extras:[],totalUnits:0,availableUnits:0,reservedUnits:0,features:{kitchen:[],bathroom:[],flooring:[],storage:[],climate:[],outdoor:[],security:[],other:[]}}),A([]),O([]),j(null),k("basic")},handleOpenDialog=e=>{if(e){j(e.id);let s,a="none",l=e.parkingBays??e.parking_bays??0;const c=e.parking,u=e.parkingType||e.parking_type;"carport"===c?a="carport":"garage"===c?a="garage":"none"===c?a="none":"1"!==c&&"2"!==c||(a="covered"===u?"covered":"open"),"1"!==c&&"2"!==c||l&&!(l<1)||(l=Number(c)),"none"!==a&&(!l||l<1)&&(l=1),"garage"===a&&("tandem"===u&&(s="tandem"),"side-by-side"===u&&(s="side-by-side")),T({...e,parkingKind:a,parkingBays:l,garageLayout:s,extras:e.extras||[],features:e.features||{kitchen:[],bathroom:[],flooring:[],storage:[],climate:[],outdoor:[],security:[],other:[]}}),A(e.baseMedia?.gallery||[]),O(e.baseMedia?.floorPlans||[])}else p?(Gr.info("Resumed your unsaved unit type",{icon:u.jsx(el,{className:"w-4 h-4 text-blue-500"})}),T({...p,features:p.features||{kitchen:[],bathroom:[],flooring:[],storage:[],climate:[],outdoor:[],security:[],other:[]}}),A(p.baseMedia?.gallery||[]),O(p.baseMedia?.floorPlans||[]),j(null)):resetForm();g(!0)},handleFeatureToggle=(e,s)=>{T(a=>{const l=a.features?.[e]||[],c=l.includes(s)?l.filter(e=>e!==s):[...l,s];return{...a,features:{...a.features,[e]:c}}})},handleSave=(s=!1)=>{if(!_.name)return Gr.error("Unit Name is required");if(!_.priceFrom)return Gr.error("Base Price is required");if(!_.totalUnits&&0!==_.totalUnits)return Gr.error("Total Units is required");const a=(_.priceFrom||0)+(_.extras||[]).reduce((e,s)=>e+(Number(s.price)||0),0),l=_.parkingKind||"none",c="none"===l?0:_.parkingBays||1;let u=null;"garage"===l?u=_.garageLayout:"open"!==l&&"covered"!==l||(u=l);const p={..._,id:b||`unit-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,priceTo:a,parking:l,parkingBays:c,parkingType:u,features:_.features,baseMedia:{gallery:E,floorPlans:L,renders:[]},specifications:{builtInFeatures:{},finishes:{},electrical:{prepaidElectricity:!1}},amenities:{standard:[],additional:[]},displayOrder:b?e.find(e=>e.id===b)?.displayOrder||0:e.length,isActive:!0,updatedAt:new Date,createdAt:b?void 0:new Date};if(b){console.log("[UnitTypesPhase] Updating unit (canonical):",b);const s=e.map(e=>e.id===b?{...e,...p}:e);h("unit_types",{unitTypes:s}),Gr.success("Unit type updated")}else{console.log("[UnitTypesPhase] Creating new unit (canonical):",p.id);const s=[...e,p];h("unit_types",{unitTypes:s}),m(null),Gr.success("Unit type created")}s?setTimeout(()=>{resetForm(),m(null),T(e=>({...e,name:""})),k("basic")},100):g(!1)},handleMediaUpload=async(e,s)=>{for(const a of e){const{url:e,publicUrl:l}=await I.mutateAsync({filename:a.name,contentType:a.type});await fetch(e,{method:"PUT",body:a,headers:{"Content-Type":a.type}});const c={id:`u-${Date.now()}-${Math.random()}`,url:l,type:"image",category:"gallery"===s?"photo":"floorplan",isPrimary:"gallery"===s&&0===E.length,displayOrder:0,fileName:a.name};"gallery"===s?A(e=>[...e,c]):O(e=>[...e,c])}Gr.success("Upload complete")};return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Unit Types"}),u.jsx("p",{className:"text-slate-600",children:"Configure your diverse unit mix."})]}),u.jsxs(Button$1,{onClick:()=>handleOpenDialog(),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[u.jsx(Mo,{className:"w-4 h-4 mr-2"})," Add Unit Type"]})]}),0===e.length?u.jsxs(ea,{className:"border-2 border-dashed border-slate-300 py-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(Zi,{className:"w-12 h-12 text-slate-300"})}),u.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No Unit Types defined"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Create your first unit type to start selling."}),u.jsx(Button$1,{onClick:()=>handleOpenDialog(),variant:"outline",children:"Create Unit Type"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>u.jsxs(ea,{className:"group hover:shadow-lg transition-all border-slate-200",children:[u.jsxs("div",{className:"h-40 bg-slate-100 relative",children:[e.baseMedia?.gallery?.[0]?u.jsx("img",{src:e.baseMedia.gallery[0].url,className:"w-full h-full object-cover"}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:u.jsx(zi,{className:"w-8 h-8"})}),u.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(Button$1,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>handleOpenDialog(e),children:u.jsx(Po,{className:"w-4 h-4"})}),u.jsx(Button$1,{size:"icon",variant:"destructive",className:"h-8 w-8",onClick:()=>l(e.id),children:u.jsx(ul,{className:"w-4 h-4"})})]})]}),u.jsxs(ta,{className:"pb-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx(ra,{className:"text-lg",children:e.name}),u.jsx(Badge,{variant:"outline",className:cn(e.availableUnits>0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"),children:e.availableUnits>0?`${e.availableUnits} Avail`:"Sold Out"})]}),u.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["R ",e.priceFrom?.toLocaleString()," ",e.priceTo>e.priceFrom&&`- R ${e.priceTo?.toLocaleString()}`]})]}),u.jsx(sa,{className:"text-sm text-slate-600 space-y-1",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ba,{className:"w-3.5 h-3.5"})," ",e.bedrooms]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ya,{className:"w-3.5 h-3.5"})," ",e.bathrooms]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(HouseMeasureIcon,{className:"w-3.5 h-3.5"})," ",e.sizeFrom,"m"]}),e.yardSize&&e.yardSize>0&&u.jsxs("span",{className:"flex items-center gap-1 text-green-700 bg-green-50 px-1.5 py-0.5 rounded-full text-xs border border-green-100",children:[u.jsx(mo,{className:"w-3 h-3"})," ",e.yardSize,"m"]})]})})]},e.id))}),u.jsx(Dialog,{open:f,onOpenChange:g,children:u.jsxs(DialogContent,{className:"sm:max-w-4xl h-[75vh] flex flex-col p-0 gap-0",children:[u.jsx(DialogHeader,{className:"px-6 py-4 border-b",children:u.jsx(DialogTitle,{children:b?"Edit Unit Type":"Add Unit Type"})}),u.jsxs(ef,{value:N,onValueChange:k,className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"px-6 py-2 bg-slate-50 border-b",children:u.jsxs(tf,{className:"grid grid-cols-5 w-full",children:[u.jsx(rf,{value:"basic",children:"Basic Info"}),u.jsx(rf,{value:"pricing",children:"Pricing"}),u.jsx(rf,{value:"media",children:"Media"}),u.jsx(rf,{value:"features",children:"Features"}),u.jsx(rf,{value:"stock",children:"Stock"})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[u.jsx(nf,{value:"basic",className:"mt-0 space-y-6",children:u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Label$1,{children:["Unit Type Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Input,{value:_.name,onChange:e=>T(s=>({...s,name:e.target.value})),placeholder:"e.g. 2 Bedroom Garden Apartment"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Description"}),u.jsx(Textarea,{value:_.description,onChange:e=>T(s=>({...s,description:e.target.value})),placeholder:"Highlight unique features..."})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Bedrooms"}),u.jsxs(Select$1,{value:_.bedrooms?.toString()??"1",onValueChange:e=>T(s=>({...s,bedrooms:parseFloat(e)})),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"0",children:"Studio"}),u.jsx(SelectItem,{value:"1",children:"1"}),u.jsx(SelectItem,{value:"2",children:"2"}),u.jsx(SelectItem,{value:"3",children:"3"}),u.jsx(SelectItem,{value:"4",children:"4"}),u.jsx(SelectItem,{value:"5",children:"5+"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Bathrooms"}),u.jsxs(Select$1,{value:_.bathrooms?.toString()??"1",onValueChange:e=>T(s=>({...s,bathrooms:parseFloat(e)})),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"1",children:"1"}),u.jsx(SelectItem,{value:"1.5",children:"1.5"}),u.jsx(SelectItem,{value:"2",children:"2"}),u.jsx(SelectItem,{value:"2.5",children:"2.5"}),u.jsx(SelectItem,{value:"3",children:"3"}),u.jsx(SelectItem,{value:"3.5",children:"3.5"}),u.jsx(SelectItem,{value:"4",children:"4+"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Parking Type"}),u.jsxs(Select$1,{value:_.parkingKind||"none",onValueChange:e=>{const s=e;T(e=>({...e,parkingKind:s,parkingBays:"none"===s?0:e.parkingBays||1,garageLayout:"garage"===s?e.garageLayout:void 0}))},children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{})}),u.jsx(SelectContent,{children:GH.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Parking Bays"}),u.jsx(Input,{type:"number",value:_.parkingBays??"",disabled:"none"===_.parkingKind,min:"none"===_.parkingKind?0:1,onFocus:e=>e.target.select(),onChange:e=>{const s=e.target.value,a=""===s?void 0:Number(s);T(e=>({...e,parkingBays:"none"===e.parkingKind?0:Math.max(1,Number.isFinite(a)?a:1)}))}})]}),"garage"===_.parkingKind&&(_.parkingBays||0)>=2&&u.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-1",children:[u.jsx(Label$1,{children:"Garage Layout"}),u.jsxs(Select$1,{value:_.garageLayout||"",onValueChange:e=>T(s=>({...s,garageLayout:e})),children:[u.jsx(SelectTrigger,{children:u.jsx(SelectValue,{placeholder:"Select layout..."})}),u.jsx(SelectContent,{children:YH.map(e=>u.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Unit Size (m)"}),u.jsx(Input,{type:"number",placeholder:"e.g. 70",value:_.sizeFrom||"",onFocus:e=>e.target.select(),onChange:e=>T(s=>({...s,sizeFrom:+e.target.value,sizeTo:+e.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{children:"Erf/Garden Size (Optional)"}),u.jsx(Input,{type:"number",placeholder:"m",value:_.yardSize||"",onFocus:e=>e.target.select(),onChange:e=>T(s=>({...s,yardSize:+e.target.value}))})]})]})]})}),u.jsx(nf,{value:"pricing",className:"mt-0 space-y-6",children:u.jsxs("div",{className:"space-y-8 max-w-3xl",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx(Label$1,{className:"text-base font-semibold text-slate-900 border-b pb-2 block",children:"1. Unit Pricing Strategy"}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"space-y-3 max-w-sm",children:[u.jsx(Label$1,{className:"text-slate-900 font-medium",children:"Base Price (Starting From)"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:"R"}),u.jsx(Input,{className:"pl-8 h-11 text-lg font-semibold text-slate-900",type:"number",placeholder:"0",value:_.priceFrom||"",onFocus:e=>e.target.select(),onChange:e=>T(s=>({...s,priceFrom:+e.target.value}))})]})}),u.jsx("p",{className:"text-xs text-slate-500",children:"The base cost of the unit excluding any optional extras."})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Label$1,{className:"text-sm font-medium",children:"Optional Extras / Upgrades"}),u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>T(e=>({...e,extras:[...e.extras||[],{label:"",price:0}]})),children:[u.jsx(Mo,{className:"w-3 h-3 mr-1"})," Add Extra"]})]}),0===(_.extras?.length||0)?u.jsx("div",{className:"text-center p-6 border-2 border-dashed border-slate-100 rounded-xl bg-slate-50/50",children:u.jsx("p",{className:"text-sm text-slate-400",children:"No optional extras added."})}):u.jsxs("div",{className:"space-y-3",children:[_.extras.map((e,s)=>u.jsxs("div",{className:"flex gap-3 items-center animate-in slide-in-from-left-2 fade-in",children:[u.jsx(Input,{placeholder:"Item Label (e.g. Pool, AC)",value:e.label,onChange:e=>{const a=[..._.extras||[]];a[s].label=e.target.value,T(e=>({...e,extras:a}))},className:"flex-1"}),u.jsxs("div",{className:"relative w-32",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"R"}),u.jsx(Input,{type:"number",placeholder:"Price",value:0===e.price?"":e.price,onChange:e=>{const a=[..._.extras||[]];a[s].price=+e.target.value,T(e=>({...e,extras:a}))},className:"pl-6"})]}),u.jsx(Button$1,{size:"icon",variant:"ghost",className:"text-red-400 hover:text-red-500 hover:bg-red-50",onClick:()=>{const e=(_.extras||[]).filter((e,a)=>a!==s);T(s=>({...s,extras:e}))},children:u.jsx(ul,{className:"w-4 h-4"})})]},s)),u.jsx("div",{className:"flex justify-end pt-2 border-t border-slate-100",children:u.jsxs("p",{className:"text-sm text-slate-500",children:["Max Potential Price:"," ",u.jsxs("strong",{className:"text-slate-900",children:["R"," ",((_.priceFrom||0)+(_.extras||[]).reduce((e,s)=>e+(s.price||0),0)).toLocaleString()]})]})})]})]})]})]}),u.jsxs("div",{className:"space-y-4 opacity-75",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[u.jsx(Label$1,{className:"text-base font-semibold text-slate-900",children:"2. Monthly Costs"}),u.jsx(Badge,{variant:"secondary",className:"font-normal text-xs",children:"Configured globally"})]}),u.jsx("div",{className:"p-4 bg-slate-50 rounded-lg text-sm text-slate-500",children:"Rates, Taxes, and Levies are now configured at the Development level (Overview Phase). They will apply to all units unless specific overrides are built later."})]})]})}),u.jsxs(nf,{value:"media",className:"mt-0 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[u.jsx(zi,{className:"w-4 h-4"})," Unit Gallery"]}),u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>document.getElementById("unit-gallery-upload")?.click(),children:[u.jsx(yl,{className:"w-3 h-3 mr-2"})," Upload Photos"]})]}),u.jsx("input",{id:"unit-gallery-upload",type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:e=>e.target.files&&handleMediaUpload(Array.from(e.target.files),"gallery")}),u.jsx("div",{className:"bg-slate-50/50 rounded-xl p-4 border border-slate-200 min-h-[200px]",children:0===E.length?u.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-12 text-center hover:bg-slate-50 cursor-pointer transition-colors flex flex-col items-center justify-center h-full",onClick:()=>document.getElementById("unit-gallery-upload")?.click(),children:[u.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm mb-3",children:u.jsx(zi,{className:"w-6 h-6 text-slate-400"})}),u.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Click to upload unit photos"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Drag and drop reordering enabled"})]}):u.jsx(SortableMediaGrid,{media:E.map((e,s)=>({id:e.id,url:e.url,type:"image",category:"photo",fileName:e.fileName,isPrimary:0===s,displayOrder:s})),onReorder:e=>{A(e.map((e,s)=>({id:e.id,url:e.url,type:"image",category:"photo",isPrimary:0===s,displayOrder:s,fileName:e.fileName})))},onRemove:e=>A(s=>s.filter(s=>s.id!==e)),onSetPrimary:e=>{A(s=>{const a=s.find(s=>s.id===e);if(!a)return s;return[a,...s.filter(s=>s.id!==e)]})},className:"grid-cols-2 md:grid-cols-4 lg:grid-cols-5"})})]}),u.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[u.jsx(Zi,{className:"w-4 h-4"})," Floor Plans"]}),u.jsxs(Button$1,{size:"sm",variant:"outline",onClick:()=>document.getElementById("floorplan-upload")?.click(),children:[u.jsx(yl,{className:"w-3 h-3 mr-2"})," Upload Floor Plans"]})]}),u.jsx("input",{id:"floorplan-upload",type:"file",className:"hidden",multiple:!0,accept:"image/*,application/pdf",onChange:e=>e.target.files&&handleMediaUpload(Array.from(e.target.files),"floorPlans")}),u.jsx("div",{className:"bg-slate-50/50 rounded-xl p-4 border border-slate-200",children:0===L.length?u.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>document.getElementById("floorplan-upload")?.click(),children:u.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload PDF/Images"})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:L.map(e=>u.jsxs("div",{className:"relative group flex items-start p-3 bg-white rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded mr-3",children:u.jsx(yi,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:e.fileName||"Floor Plan"}),u.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"pdf"===e.type?"PDF Document":"Image File"})]}),u.jsx("button",{onClick:()=>O(s=>s.filter(s=>s.id!==e.id)),className:"text-slate-400 hover:text-red-500 transition-colors p-1",children:u.jsx(Il,{className:"w-4 h-4"})})]},e.id))})})]})]}),u.jsx(nf,{value:"features",className:"mt-0 space-y-6",children:u.jsx("div",{className:"space-y-6",children:Object.entries(QH).map(([e,s])=>{const a=e,l=_.features?.[a]||[],c=l.filter(e=>!s.includes(e));return u.jsxs(ea,{className:"border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs(ta,{className:"py-3 px-4 bg-slate-50/50 border-b flex flex-row items-center justify-between",children:[u.jsx(ra,{className:"text-sm capitalize text-slate-700",children:e}),l.length>0&&u.jsxs(Badge,{variant:"secondary",className:"font-normal text-xs",children:[l.length," selected"]})]}),u.jsxs(sa,{className:"p-6 space-y-6",children:[u.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.map(s=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Checkbox,{id:`${e}-${s}`,checked:l.includes(s),onCheckedChange:()=>handleFeatureToggle(a,s)}),u.jsx(Label$1,{htmlFor:`${e}-${s}`,className:"text-sm font-normal cursor-pointer select-none",children:s})]},s))}),c.length>0&&u.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-100",children:[u.jsx(Label$1,{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Custom additions"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>u.jsxs("div",{className:"flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-1 rounded text-sm border border-blue-100",children:[u.jsx("span",{children:e}),u.jsx("button",{type:"button",onClick:()=>handleFeatureToggle(a,e),className:"hover:bg-blue-100 rounded-full p-0.5 transition-colors",children:u.jsx(Il,{className:"w-3 h-3"})})]},e))})]}),u.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[u.jsx(Input,{placeholder:`Add other ${e} feature...`,className:"h-9 text-sm max-w-sm",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const s=e.currentTarget,c=s.value.trim();c&&!l.includes(c)&&(handleFeatureToggle(a,c),s.value="")}}}),u.jsxs(Button$1,{type:"button",variant:"ghost",size:"sm",className:"h-9 px-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50",onClick:e=>{const s=e.currentTarget.previousElementSibling,c=s.value.trim();c&&!l.includes(c)&&(handleFeatureToggle(a,c),s.value="")},children:[u.jsx(Mo,{className:"w-4 h-4 mr-1"})," Add"]})]})]})]},e)})})}),u.jsx(nf,{value:"stock",className:"mt-0 space-y-6",children:u.jsxs("div",{className:"p-6 bg-slate-50/50 border rounded-xl space-y-8",children:[u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-green-600",children:"Available Units"}),u.jsx(Input,{type:"number",className:"border-green-200 focus:border-green-500",value:_.availableUnits||"",onFocus:e=>e.target.select(),onChange:e=>T(s=>({...s,availableUnits:+e.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-blue-600",children:"Reserved / Under Offer"}),u.jsx(Input,{type:"number",className:"border-blue-200 focus:border-blue-500",value:_.reservedUnits||"",onFocus:e=>e.target.select(),onChange:e=>T(s=>({...s,reservedUnits:+e.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-slate-600",children:"Sold Units (Historical)"}),u.jsx(Input,{type:"number",value:(_.totalUnits||0)-(_.availableUnits||0)-(_.reservedUnits||0),disabled:!0,className:"bg-slate-100"})]})]}),u.jsx("div",{className:"pt-4 border-t border-slate-200",children:u.jsxs("div",{className:"flex gap-4 items-end",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(Label$1,{children:"Total Units (Auto-Calculated Override)"}),u.jsx(Input,{type:"number",value:_.totalUnits||"",onChange:e=>T(s=>({...s,totalUnits:+e.target.value})),className:"font-semibold"}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Normally: Available ",_.availableUnits||0," + Reserved"," ",_.reservedUnits||0," + Sold = Total"]})]}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:cn("p-3 rounded-lg text-center font-bold border",(_.availableUnits||0)>0?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"),children:(_.availableUnits||0)>0?"AVAILABLE":"SOLD OUT / LISTING"})})]})})]})})]}),(()=>{const e=["basic","pricing","media","features","stock"],s={basic:"Basic Info",pricing:"Pricing",media:"Media",features:"Features",stock:"Stock"},a=e.indexOf(N),l=0===a,c=a===e.length-1,p=c?"":s[e[a+1]],m=l?"":s[e[a-1]];return u.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-between items-center",children:[u.jsx(Button$1,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),u.jsxs("div",{className:"flex gap-2",children:[!l&&u.jsxs(Button$1,{variant:"outline",onClick:()=>k(e[a-1]),children:[" ",m]}),c?u.jsxs("div",{className:"flex gap-2",children:[!b&&u.jsx(Button$1,{variant:"outline",onClick:()=>handleSave(!0),children:"Save & Add Another"}),u.jsx(Button$1,{onClick:()=>handleSave(!1),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:b?"Update Unit Type":"Save Unit Type"})]}):u.jsxs(Button$1,{onClick:()=>k(e[a+1]),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:["Next: ",p," "]})]})]})})()]})]})})]})},ReviewStep:function FinalisationPhase(){const[,e]=useLocation(),{user:s}=useAuth(),a="super_admin"===s?.role,l=BH(),c=l.getWizardData(),{classification:p,listingIdentity:m,setPhase:h,reset:f,validateForPublish:g,residentialConfig:b}=l,j=l.editingId,[N,k]=re.useState(!1),[_,T]=re.useState(!1),[E,A]=re.useState("desktop"),L=At.developer.createDevelopment.useMutation(),O=At.developer.updateDevelopment.useMutation(),I=At.developer.publishDevelopment.useMutation(),$=g(),z=$?.errors||[],U=[],H=0===z.length,asOptionalString=e=>{if("string"!=typeof e)return;const s=e.trim();return s.length?s:void 0},toInt2=(e,s)=>{const a="number"==typeof e?e:Number(String(e??"").trim());return Number.isFinite(a)?Math.trunc(a):s},toNumber=(e,s)=>{const a="number"==typeof e?e:Number(String(e??"").trim());return Number.isFinite(a)?a:s},computeUnitTotalFrom=e=>{var s;const a=toNumber(e?.basePriceFrom??e?.priceFrom,0)+(s=e?.extras,Array.isArray(s)?s.reduce((e,s)=>{const a=toNumber(s?.price,0);return e+(a>0?a:0)},0):0);return Number.isFinite(a)?a:0},normalizeUnitTypesV2=e=>Array.isArray(e)?e.map(e=>{const s=toNumber(e?.basePriceFrom??e?.priceFrom,0),a=null!=e?.parking&&["0","1","2","3","4"].includes(String(e.parking))?toInt2(e.parking,0):0,l=Math.max(0,toInt2(e?.parkingBays,a||0)),c=(e=>{const s=String(e??"").trim().toLowerCase();return["none","open","covered","carport","garage"].includes(s)?s:""===s||"null"===s||"undefined"===s?"none":"1"===s||"2"===s||"street"===s?"open":"none"})(e?.parkingType??e?.parking),u=null!=e?.unitSize?toInt2(e.unitSize,0):void 0,p=null!=e?.totalUnits?Math.max(0,toInt2(e.totalUnits,0)):void 0,m=null!=e?.availableUnits?Math.max(0,toInt2(e.availableUnits,0)):void 0;return{id:"string"==typeof e?.id?e.id:void 0,name:String(e?.name??"").trim()||"Unnamed Unit",bedrooms:Math.max(0,toInt2(e?.bedrooms,0)),bathrooms:Math.max(0,toNumber(e?.bathrooms,0)),unitSize:u&&u>0?u:void 0,basePriceFrom:s>0?s:0,extras:Array.isArray(e?.extras)?e.extras:void 0,parkingType:c,parkingBays:"none"===c?0:l,totalUnits:p,availableUnits:m,isActive:"boolean"==typeof e?.isActive?e.isActive:void 0,structuralType:e?.structuralType,baseMedia:e?.baseMedia}}):[],q=c.unitTypes??[],Z="land"===c.developmentType,Y=re.useMemo(()=>Z?[]:normalizeUnitTypesV2(q),[Z,q]),X=re.useMemo(()=>{if(Z)return{priceFrom:void 0,priceTo:void 0};const e=q.map(computeUnitTotalFrom).filter(e=>e>0);return 0===e.length?{priceFrom:void 0,priceTo:void 0}:{priceFrom:Math.min(...e),priceTo:Math.max(...e)}},[Z,q]),ReviewSection=({title:e,icon:s,step:a,data:l,onEdit:c})=>u.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden mb-4",children:[u.jsxs("div",{className:"bg-slate-50 px-4 py-3 flex justify-between items-center border-b border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(s,{className:"w-4 h-4 text-slate-500"}),u.jsx("h3",{className:"font-semibold text-sm text-slate-800",children:e})]}),u.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:c,className:"h-7 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[u.jsx(Po,{className:"w-3 h-3 mr-1"})," Edit"]})]}),u.jsx("div",{className:"p-4 text-sm text-slate-600",children:l})]}),renderUnitPriceLabel=e=>{const s=computeUnitTotalFrom(e);return!s||s<=0?"---":s.toLocaleString()},renderUnitSizeLabel=e=>{const s=toInt2(e?.unitSize,0);return s>0?`${s}m`:""};return u.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in fade-in duration-500 pb-12",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Review & Publish"}),u.jsx("p",{className:"text-slate-600",children:"Finalize your listing details before going live."})]}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs(ea,{className:H?"border-green-200 shadow-sm":"border-red-200 shadow-sm",children:[u.jsx(ta,{className:H?"bg-green-50/50 pb-4":"bg-red-50/50 pb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:H?"p-2 bg-green-100 rounded-full text-green-600":"p-2 bg-red-100 rounded-full text-red-600",children:H?u.jsx(Ha,{className:"w-6 h-6"}):u.jsx(gl,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx(ra,{className:H?"text-green-900":"text-red-900",children:H?"Ready to Publish":"Action Required"}),u.jsx(na,{className:H?"text-green-700":"text-red-700",children:H?"All required fields are complete. You can schedule or publish now.":`Please resolve ${z.length} error${z.length>1?"s":""} to continue.`})]})]})}),(!H||U.length>0)&&u.jsxs(sa,{className:"pt-4 space-y-3",children:[z.map((e,s)=>u.jsxs(Alert,{variant:"destructive",children:[u.jsx(Va,{className:"h-4 w-4"}),u.jsx(AlertTitle,{children:"Missing Requirement"}),u.jsx(AlertDescription,{children:e})]},`err-${s}`)),U.map((e,s)=>u.jsxs(Alert,{className:"bg-amber-50 border-amber-200 text-amber-800",children:[u.jsx(gl,{className:"h-4 w-4 text-amber-600"}),u.jsx(AlertTitle,{className:"text-amber-900",children:"Recommendation"}),u.jsx(AlertDescription,{children:e})]},`warn-${s}`))]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Listing Details"}),u.jsx(ReviewSection,{title:"Identity & Type",icon:Bi,step:1,onEdit:()=>h(1),data:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs uppercase text-slate-400 font-semibold tracking-wider",children:"Name"}),u.jsx("span",{className:"font-medium text-slate-900",children:c.name||"Untitled"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs uppercase text-slate-400 font-semibold tracking-wider",children:"Type"}),u.jsxs("span",{className:"font-medium text-slate-900 capitalize",children:[p?.type?.replace("_"," ")," "," ",c.ownershipType||"N/A"]})]})]})}),u.jsx(ReviewSection,{title:"Location",icon:lo,step:2,onEdit:()=>h(5),data:u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs uppercase text-slate-400 font-semibold tracking-wider",children:"Address"}),u.jsx("span",{className:"font-medium text-slate-900",children:c.location?.address||"Address not set"}),u.jsx("div",{className:"mt-2 h-24 bg-slate-100 rounded border border-slate-200 flex items-center justify-center text-xs text-slate-400",children:"Map Preview"})]})}),u.jsx(ReviewSection,{title:"Amenities & Features",icon:Wo,step:6,onEdit:()=>h(7),data:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[(c.amenities??[]).map(e=>u.jsx(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:e},e)),0===(c.amenities??[]).length&&u.jsx("span",{className:"text-slate-400 italic",children:"No amenities selected"})]})}),u.jsx(ReviewSection,{title:"Marketing & Media",icon:zi,step:8,onEdit:()=>h(9),data:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("p",{className:"line-clamp-2 italic text-slate-500",children:['"',c.description||"No description provided",'"']}),u.jsxs("div",{className:"flex gap-4 text-xs font-medium text-slate-700 border-t pt-2",children:[u.jsx("span",{children:c.heroImage?" Hero Image":" No Hero"}),u.jsxs("span",{children:[c.media?.photos?.length||0," Photos"]}),u.jsxs("span",{children:[c.media?.videos?.length||0," Videos"]}),u.jsxs("span",{children:[c.media?.documents?.length||0," Docs"]})]}),(c.transferCostsIncluded||c.reservePriceIncluded)&&u.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t",children:[c.transferCostsIncluded&&u.jsx(Badge,{variant:"outline",className:"text-emerald-700 bg-emerald-50 border-emerald-200",children:"Transfer Costs Included"}),c.reservePriceIncluded&&u.jsxs(Badge,{variant:"outline",className:"text-amber-700 bg-amber-50 border-amber-200",children:["Reserve: R"," ",c.reservePriceAmount?.toLocaleString()||"---"]})]}),c.highlights&&c.highlights.length>0&&u.jsxs("div",{className:"pt-3 mt-3 border-t border-slate-100",children:[u.jsx("span",{className:"text-xs font-semibold text-slate-800 uppercase tracking-wider block mb-2",children:"Key Selling Points"}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.highlights.map((e,s)=>u.jsx(Badge,{variant:"secondary",className:"text-[10px] font-normal px-2 py-0.5 bg-slate-100 text-slate-600 border-slate-200",children:e},s))})]})]})}),u.jsx(ReviewSection,{title:"Unit Configuration",icon:Zi,step:9,onEdit:()=>h(10),data:u.jsx("div",{className:"space-y-2",children:0===(c.unitTypes??[]).length?u.jsx("span",{className:"text-red-500 italic",children:"No unit types defined"}):(c.unitTypes??[]).map(e=>u.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded",children:[u.jsx("span",{className:"font-medium",children:e.name}),u.jsxs("div",{className:"flex gap-3 text-xs text-slate-500",children:[u.jsxs("span",{children:[e.bedrooms," Bed"]}),u.jsxs("span",{children:[e.bathrooms," Bath"]}),u.jsxs("span",{children:["R ",renderUnitPriceLabel(e)]}),u.jsxs(Badge,{variant:"outline",className:(toInt2(e?.availableUnits,0)??0)>0?"text-green-600 border-green-200":"text-red-600 border-red-200",children:[toInt2(e?.availableUnits,0)," Avail"]})]})]},e.id))})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{className:"sticky top-6 border-slate-200 shadow-md",children:[u.jsx(ta,{className:"bg-slate-50 border-b pb-4",children:u.jsx(ra,{className:"text-lg",children:"Publishing Controls"})}),u.jsxs(sa,{className:"pt-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs(Button$1,{variant:"outline",className:"w-full text-xs",children:[u.jsx(Ea,{className:"w-3.5 h-3.5 mr-2"})," Schedule"]}),u.jsx(Button$1,{variant:"outline",className:"w-full text-xs",onClick:()=>Gr.success("Draft saved"),children:"Save Draft"})]}),u.jsx(Separator,{}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Button$1,{className:"w-full h-12 text-base bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",disabled:!H,onClick:()=>k(!0),children:[u.jsx(yl,{className:"w-4 h-4 mr-2"}),"Publish Listing"]}),!H&&u.jsx("p",{className:"text-xs text-center text-red-500",children:"Resolve validation errors to publish."}),u.jsx("p",{className:"text-xs text-center text-slate-400",children:"By publishing, you agree to our listing terms."})]})]})]}),u.jsxs(ea,{children:[u.jsx(ta,{className:"pb-2 border-b",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(ra,{className:"text-sm font-medium uppercase tracking-wide text-slate-500",children:"Live Preview Mode"}),u.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>A("desktop"),className:"p-1.5 rounded "+("desktop"===E?"bg-white shadow-sm text-blue-600":"text-slate-400 hover:text-slate-600"),children:u.jsx(bo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>A("mobile"),className:"p-1.5 rounded "+("mobile"===E?"bg-white shadow-sm text-blue-600":"text-slate-400 hover:text-slate-600"),children:u.jsx(Xo,{className:"w-4 h-4"})})]})]})}),u.jsx(sa,{className:"p-0",children:u.jsx("div",{className:"mx-auto bg-slate-100 overflow-hidden transition-all duration-300 "+("mobile"===E?"w-[280px] h-[500px] my-4 rounded-[2rem] border-4 border-slate-800 shadow-xl":"w-full h-[400px]"),children:u.jsxs("div",{className:"bg-white w-full h-full flex flex-col overflow-y-auto",children:[u.jsxs("div",{className:"h-1/3 bg-slate-200 relative",children:[c.heroImage?u.jsx("img",{src:c.heroImage,className:"w-full h-full object-cover"}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:u.jsx(zi,{})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-4",children:u.jsx("h1",{className:"text-white font-bold text-sm leading-tight",children:c.name||"Development Name"})})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-slate-700 uppercase",children:["From R ",renderUnitPriceLabel((c.unitTypes??[])[0])]}),u.jsx("p",{className:"text-[10px] text-slate-500 line-clamp-2",children:c.description||"Description..."})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:(c.unitTypes??[]).slice(0,2).map(e=>u.jsxs("div",{className:"bg-slate-50 p-2 rounded border border-slate-100",children:[u.jsx("div",{className:"text-[10px] font-bold",children:e.name}),u.jsxs("div",{className:"text-[9px] text-slate-500 flex items-center gap-2",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[e.bedrooms," Bed  ",u.jsx(HouseMeasureIcon,{className:"w-3 h-3"})," ",renderUnitSizeLabel(e)]}),e.yardSize&&e.yardSize>0&&u.jsxs("span",{className:"text-green-600 flex items-center gap-0.5",children:[u.jsx(mo,{className:"w-2 h-2"})," ",e.yardSize,"m"]})]})]},e.id))})]})]})})})]})]})]}),u.jsx(Dialog,{open:N,onOpenChange:k,children:u.jsxs(DialogContent,{children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{children:"Confirm Publication"}),u.jsxs(DialogDescription,{children:["You are about to make ",u.jsx("strong",{children:c.name})," live to the public. This will activate search indexing and notifications."]})]}),u.jsx("div",{className:"py-4",children:u.jsxs(Alert,{className:"bg-blue-50 border-blue-200 text-blue-800",children:[u.jsx(Ha,{className:"w-4 h-4 text-blue-600"}),u.jsx(AlertTitle,{className:"text-blue-900",children:"Passed Validation"}),u.jsx(AlertDescription,{children:"Your listing meets 100% of the quality standards."})]})}),u.jsxs(DialogFooter,{children:[u.jsx(Button$1,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),u.jsx(Button$1,{onClick:async()=>{if(!Z&&0===(c.unitTypes??[]).length){console.warn("[FinalisationPhase] No unit types in payload");if(!window.confirm("WARNING: No unit types found in this submission.\n\nSaving now will DELETE ALL existing unit types.\n\nAre you sure you want to continue?"))return}if(!_){T(!0);try{const s=(()=>{const e=[],s=c.heroImage;return s&&e.push({url:s,category:"hero"}),(c.media?.photos??[]).forEach(a=>{a?.url&&a.url!==s&&e.push({url:a.url,category:a.category})}),e})(),u=(c.media?.videos??[]).map(e=>"string"==typeof e?e:e.url).filter(Boolean),p=(c.media?.documents??[]).map(e=>"string"==typeof e?e:e.url).filter(Boolean),h=[];b?.residentialType&&h.push(`cfg:res_type:${b.residentialType}`),b?.communityTypes?.forEach(e=>h.push(`cfg:comm_type:${e}`)),b?.securityFeatures?.forEach(e=>h.push(`cfg:sec_feat:${e}`)),l.landConfig?.landType&&h.push(`cfg:land_type:${l.landConfig.landType}`),l.landConfig?.infrastructure?.forEach(e=>h.push(`cfg:infra:${e}`)),l.commercialConfig?.commercialType&&h.push(`cfg:comm_use:${l.commercialConfig.commercialType}`),l.commercialConfig?.features?.forEach(e=>h.push(`cfg:comm_feat:${e}`)),void 0!==c.hasGoverningBody&&h.push(`cfg:hoa:${c.hasGoverningBody}`),c.governanceType&&h.push(`cfg:governance_type:${c.governanceType}`);const g={name:c.name??"Untitled Development"};let N;if(console.log("[EDIT SAVE] payload.unitTypes[0]:",Y?.[0]),Object.assign(g,{tagline:c.tagline??c.subtitle,subtitle:c.subtitle??c.tagline,description:c.description,developmentType:c.developmentType??"residential",transactionType:c.transactionType,address:c.location?.address,city:c.location?.city||"Unknown",province:c.location?.province||"Unknown",suburb:c.location?.suburb,postalCode:c.location?.postalCode,latitude:c.location?.latitude,longitude:c.location?.longitude,priceFrom:X.priceFrom??c.priceFrom,priceTo:X.priceTo??c.priceTo,monthlyLevyFrom:c.monthlyLevyFrom,monthlyLevyTo:c.monthlyLevyTo,ratesFrom:c.ratesFrom,ratesTo:c.ratesTo,completionDate:asOptionalString(c.completionDate),launchDate:asOptionalString(c.launchDate),status:c.status,totalUnits:c.totalUnits,availableUnits:c.availableUnits,totalDevelopmentArea:c.totalDevelopmentArea,erfSizeFrom:c.erfSizeFrom,erfSizeTo:c.erfSizeTo,floorSizeFrom:c.floorSizeFrom,floorSizeTo:c.floorSizeTo,bedroomsFrom:c.bedroomsFrom,bedroomsTo:c.bedroomsTo,bathroomsFrom:c.bathroomsFrom,bathroomsTo:c.bathroomsTo,petsAllowed:c.petsAllowed,fibreReady:c.fibreReady,solarReady:c.solarReady,waterBackup:c.waterBackup,backupPower:c.backupPower,gatedCommunity:c.gatedCommunity,featured:c.featured,isPhasedDevelopment:c.isPhasedDevelopment,amenities:c.amenities??[],features:h,highlights:c.highlights??[],unitTypes:Y,estateSpecs:void 0!==c.hasGoverningBody||c.governanceType?{hasHOA:c.hasGoverningBody,governanceType:c.governanceType,levyRange:{min:c.monthlyLevyFrom,max:c.monthlyLevyTo}}:void 0,residentialConfig:b,landConfig:l.landConfig,commercialConfig:l.commercialConfig,mixedUseConfig:l.mixedUseConfig,specifications:l.specifications,images:s,videos:u,brochures:p,media:{photos:s,videos:u.map(e=>({url:e})),brochures:p.map(e=>({url:e}))},metaTitle:c.overview?.metaTitle,metaDescription:c.overview?.metaDescription,keywords:c.overview?.keywords}),console.log("[FinalisationPhase] Payload Preview:",g),j)console.log("[FinalisationPhase] Executing UPDATE for ID:",j),await O.mutateAsync({id:j,data:g}),N=j,Gr.success("Development saved successfully!");else{console.log("[FinalisationPhase] Executing CREATE");const e="brand"===m?.identityType||"marketing_agency"===m?.identityType,s={...g,brandProfileId:e?m?.developerBrandProfileId:void 0,marketingBrandProfileId:"marketing_agency"===m?.identityType?m.marketingBrandProfileId:void 0,marketingRole:m?.marketingRole||"exclusive"};N=(await L.mutateAsync(s)).development.id,Gr.success("Development created!")}console.log("[FinalisationPhase] Publishing development:",N),await I.mutateAsync({id:N}),k(!1),JH({particleCount:100,spread:70,origin:{y:.6}}),Gr.success("Development submitted for review!"),f(),e(a?"/admin/overview":"/developer/developments")}catch(s){console.error("[FinalisationPhase] Publish failed:",s);const e=s?.data?.cause??s?.shape?.data?.cause,a=e?.validationErrors,l=e?.errors,c=s?.message||"Failed to publish development",focusField=e=>{const s=e.split("[")[0],a=s.split(".")[0],l={name:4,developmentName:4,nature:4,status:4,ownershipType:4,transactionType:4,address:5,city:5,province:5,suburb:5,postalCode:5,latitude:5,longitude:5,location:5,"location.address":5,"location.city":5,"location.province":5,media:9,images:9,heroImage:9,"media.heroImage":9,"media.heroImage.url":9,unitTypes:10,parkingType:10,parkingBays:10,bedrooms:10,bathrooms:10,basePriceFrom:10},c=l[e]??l[s]??l[a];c&&h(c),setTimeout(()=>{const a=document.querySelector(`[data-field="${e}"]`)||document.querySelector(`[data-field="${s}"]`)||document.querySelector(`[name="${e}"]`)||document.querySelector(`[name="${s}"]`);a?.scrollIntoView({behavior:"smooth",block:"center"}),a?.focus?.()},250)};if(Array.isArray(a)&&a.length>0)return Gr.error(u.jsxs("div",{className:"max-w-md",children:[u.jsx("p",{className:"font-semibold mb-2",children:"Cannot publish development:"}),u.jsx("ul",{className:"space-y-1 text-sm",children:a.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500 mt-0.5",children:""}),u.jsx("span",{children:e.message})]},s))})]}),{duration:1e4}),void(a[0]?.field&&focusField(a[0].field));if(Array.isArray(l)&&l.length>0)return void Gr.error(u.jsxs("div",{className:"max-w-md",children:[u.jsx("p",{className:"font-semibold mb-2",children:"Cannot publish development:"}),u.jsx("ul",{className:"space-y-1 text-sm",children:l.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500 mt-0.5",children:""}),u.jsx("span",{children:e})]},s))})]}),{duration:1e4});Gr.error(c,{description:"Please check your connection and try again."})}finally{T(!1)}}},disabled:_,className:"bg-green-600 hover:bg-green-700",children:_?"Publishing...":"Confirm & Publish"})]})]})})]})}};function WizardEngine({onExit:e,saveStatus:s,lastSavedAt:a}){const{workflowId:l,currentStepId:c,goWorkflowNext:p,goWorkflowBack:m,stepErrors:h,developmentData:f,developmentType:g,listingIdentity:b,setWorkflowStep:j}=BH(),N=l?OH[l]:null,k={...f,developmentType:g,listingIdentity:b},_=N?getVisibleSteps(N,k):[],T=_.findIndex(e=>e.id===c);if(re.useEffect(()=>{N&&-1===T&&_.length>0&&j(_[0].id)},[N,T,_,j]),!l||!g||!f.transactionType)return u.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50/50",children:[u.jsx(WizardHeader,{title:"Project Setup",description:"Define the core structure of your development. These choices determine the workflow.",progressPercent:0,onExit:e,showExit:!!e,saveStatus:s,lastSavedAt:a}),u.jsx("main",{className:"flex-1 py-8 px-4",children:u.jsx("div",{className:"max-w-5xl mx-auto",children:u.jsx(DevelopmentTypePhase,{})})})]});if(!N)return u.jsx("div",{children:"Invalid Workflow"});const E=_[T];if(!E)return u.jsx("div",{children:"Loading step..."});const A=tq[E.componentKey],L=(T+1)/_.length*100,O=c?h[c]:[];return u.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50/50",children:[u.jsx(WizardHeader,{title:E.title,description:E.description,progressPercent:L,onExit:e,showExit:!!e,saveStatus:s,lastSavedAt:a}),u.jsx("main",{className:"flex-1 py-8 px-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[O&&O.length>0&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg animate-in fade-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-red-800 font-semibold mb-2 flex items-center gap-2",children:"Please check the following:"}),u.jsx("ul",{className:"list-disc list-inside text-red-700 text-sm space-y-1 ml-1",children:O.map((e,s)=>u.jsx("li",{children:"string"==typeof e?e:e.message},s))})]}),u.jsxs("div",{className:"mb-20",children:[" ",A?u.jsx(A,{}):u.jsxs("div",{className:"text-center p-12 bg-slate-50 border border-dashed rounded-lg",children:["Component ",E.componentKey," not found"]})]}),u.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200 mt-8",children:[u.jsxs(Button$1,{variant:"outline",onClick:m,disabled:0===T,className:"px-6 h-12 text-slate-600",children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs(Button$1,{onClick:p,size:"lg",className:"px-8 h-12 bg-blue-600 hover:bg-blue-700 shadow-sm transition-all",children:[T===_.length-1?"Review & Publish":"Next",u.jsx(Fa,{className:"w-4 h-4 ml-2"})]})]})]})}),!1]})}function DevelopmentWizard({developmentId:e,isModal:s=!1}){const[,a]=useLocation(),l=new URLSearchParams(window.location.search),c=l.get("draftId"),p=l.get("id"),m=l.get("brandProfileId")?parseInt(l.get("brandProfileId")):void 0,[h,f]=re.useState(c?parseInt(c):void 0),g=e||(p?parseInt(p):void 0),[b,j]=re.useState(!1),[N,k]=re.useState(!1),[_,T]=re.useState(null),E=BH(),{currentPhase:A,setPhase:L,developmentType:O,developmentData:I,classification:$,overview:z,unitTypes:U,finalisation:H,reset:q,saveDraft:Z,hydrateDevelopment:Y}=E,X=At.developer.saveDraft.useMutation(),J=!(c||p),[le,ce]=re.useState(J),de=ae.useMemo(()=>({currentPhase:A,developmentData:I,classification:$,overview:z,unitTypes:U,finalisation:H}),[A,I,$,z,U,H]),{lastSaved:ue,isSaving:me,error:he,saveNow:fe}=useAutoSave(de,{debounceMs:6e4,enabled:!1,onSave:async()=>{await Z(async e=>{const s=await X.mutateAsync({...h?{id:h}:{},...m?{brandProfileId:m}:{},draftData:e});s?.id&&!h&&f(s.id)})}}),ge=ae.useRef(A);re.useEffect(()=>{ge.current!==A&&0!==ge.current&&le&&fe(),ge.current=A},[A,fe,le]);const{data:xe,isLoading:ye,error:be}=At.developer.getDraft.useQuery({id:h},{enabled:!!h&&!g,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),{data:je,isLoading:Ne,error:Se}=At.developer.getDevelopment.useQuery({id:g},{enabled:!!g,retry:!1,refetchOnWindowFocus:!1});re.useEffect(()=>{const e=Se||be||he;e&&T(parseError(e))},[Se,be,he]),re.useEffect(()=>{je&&!le&&(console.log("[EDIT LOAD] unitTypes sample:",je?.unitTypes?.[0],"count:",je?.unitTypes?.length),Y(je),ce(!0),L(11),Gr.success("Development loaded for editing. Navigate back to edit any section."))},[je,le]),re.useEffect(()=>{xe&&xe.draftData&&!le&&(Y(xe.draftData),ce(!0),Gr.success("Draft loaded successfully"))},[xe,le]),re.useEffect(()=>{if(6!==A)return;("land"===O||"commercial"===O)&&L(7)},[A,O,L]),re.useEffect(()=>{wasSessionExpired()&&(clearSessionExpiryFlags(),Gr.success("Session restored"))},[]);const{user:Ce}=useAuth(),_e="super_admin"===Ce?.role,handleExit=()=>j(!0);return u.jsxs(u.Fragment,{children:[u.jsx(DraftManager,{open:N,onOpenChange:k,onResume:()=>k(!1),onStartFresh:()=>{k(!1),f(void 0),q(),window.history.replaceState({},"",window.location.pathname)},wizardType:"development",draftData:{currentStep:A,totalSteps:1,developmentName:I.name||"",address:I.location?.address||"",lastModified:xe?.lastModified||void 0}}),g&&Ne?u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),u.jsx("p",{children:"Loading development data..."})]}):u.jsx(WizardEngine,{onExit:handleExit,saveStatus:me?"saving":he?"error":"saved",lastSavedAt:ue}),_&&u.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:u.jsx(ErrorAlert,{type:_.type,message:_.message,retryable:_.isRecoverable,onDismiss:()=>T(null),show:!0})}),u.jsx(AlertDialog,{open:b,onOpenChange:j,children:u.jsxs(AlertDialogContent,{children:[u.jsxs(AlertDialogHeader,{children:[u.jsx(AlertDialogTitle,{children:"Exit Development Wizard?"}),u.jsx(AlertDialogDescription,{children:"Your progress will be saved as a draft."})]}),u.jsxs(AlertDialogFooter,{children:[u.jsx(AlertDialogCancel,{children:"Continue Editing"}),u.jsx(AlertDialogAction,{onClick:async()=>{try{le&&await fe()}finally{q(),a(_e?"/admin/overview":"/developer")}},children:"Exit"})]})]})})]})}function CreateDevelopmentPage(){return u.jsx(DevelopmentWizard,{})}function DevelopmentCard({id:e,title:s,rating:a,location:l,description:c,image:p,unitTypes:m=[],highlights:h=[],developer:f={name:"",isFeatured:!1},imageCount:g=15,isFeatured:b=!1,isNewBooking:j=!1,status:N,nature:k,onFavoriteClick:_,onContactClick:T}){const[,E]=useLocation();return u.jsxs("div",{className:"group relative bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col md:flex-row h-auto mx-auto w-full",children:[u.jsxs("div",{className:"relative w-full md:w-[40%] h-64 md:h-auto md:min-h-[320px] shrink-0 overflow-hidden cursor-pointer",onClick:()=>E(`/development/${e}`),children:[u.jsx("img",{src:p,alt:s,loading:"lazy",onError:e=>{const s=e.target;s.onerror=null,s.src="https://placehold.co/600x400/e2e8f0/64748b?text=No+Image"},className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsx("div",{className:"absolute top-3 left-3",children:b&&u.jsx(Badge,{className:"bg-slate-800/90 backdrop-blur-sm hover:bg-slate-800 text-white border-0 uppercase text-xs font-semibold",children:"Featured"})}),_&&u.jsx(Button$1,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 rounded-full bg-white/80 hover:bg-white text-slate-700 backdrop-blur-sm h-9 w-9",onClick:e=>{e.stopPropagation(),_()},children:u.jsx($i,{className:"h-5 w-5"})}),g>0&&u.jsxs("div",{className:"absolute bottom-3 left-3 bg-slate-800/80 text-white text-xs px-2.5 py-1 rounded flex items-center gap-1.5 backdrop-blur-sm",children:[u.jsxs("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),u.jsx("circle",{cx:"9",cy:"9",r:"2"}),u.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),u.jsx("span",{className:"font-medium",children:g})]})]}),u.jsxs("div",{className:"flex-1 p-5 sm:p-6 lg:p-8 flex flex-col justify-between min-w-0",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 hover:text-blue-600 transition-colors cursor-pointer flex items-center gap-2 leading-tight",onClick:()=>E(`/development/${e}`),children:[s,a&&u.jsxs("span",{className:"flex items-center gap-1 text-sm font-normal",children:[u.jsx(sl,{className:"h-4 w-4 fill-green-600 text-green-600"}),u.jsx("span",{className:"text-slate-700",children:a.toFixed(1)})]})]}),u.jsxs("div",{className:"flex gap-2",children:["phase"===k&&u.jsx(Badge,{variant:"outline",className:"border-blue-200 text-blue-700 bg-blue-50",children:"New Phase"}),"extension"===k&&u.jsx(Badge,{variant:"outline",className:"border-purple-200 text-purple-700 bg-purple-50",children:"Extension"}),"launching-soon"===N&&u.jsx(Badge,{className:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-100",children:"Launching Soon"}),"sold-out"===N&&u.jsx(Badge,{className:"bg-slate-100 text-slate-600 border-slate-200 hover:bg-slate-200",children:"Sold Out"}),j&&u.jsx(Badge,{className:"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100 uppercase text-xs font-semibold",children:"New Booking"})]})]}),u.jsxs("div",{className:"flex items-center text-slate-600 text-sm mb-3",children:[u.jsx(lo,{className:"h-3.5 w-3.5 mr-1"}),l]})]}),u.jsx("div",{className:"flex gap-3 mb-5 overflow-x-auto pb-2 -mx-2 px-2 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent",children:m.map((e,s)=>{return u.jsxs("div",{className:"flex-none w-[160px] sm:w-[180px] border border-slate-200 rounded-lg p-3 hover:border-blue-400 hover:bg-blue-50/50 transition-colors bg-slate-50/30",children:[u.jsx("div",{className:"text-xs text-slate-600 mb-1 truncate",title:e.label,children:e.label}),u.jsxs("div",{className:"text-lg font-bold text-[#1e1b4b]",children:["From ",(a=e.priceFrom,a>=1e6?`R${(a/1e6).toFixed(1)}m`:`R${(a/1e3).toFixed(0)}k`)]})]},s);var a})}),u.jsx("p",{className:"text-sm sm:text-base text-slate-600 line-clamp-2 mb-5",children:c}),h.length>0&&u.jsxs("div",{className:"mb-5",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-700 block mb-1",children:"Highlights :"}),u.jsx(ResponsiveHighlights,{items:h})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 pt-4 border-t border-slate-100",children:[u.jsxs("div",{children:[f.isFeatured&&u.jsx(Badge,{className:"bg-orange-500 hover:bg-orange-600 text-white text-xs font-semibold mb-1",children:"FEATURED DEALER"}),u.jsx("div",{className:"text-sm font-medium text-slate-900",children:f.name})]}),u.jsx(Button$1,{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2.5 w-full sm:w-auto",onClick:s=>{s.stopPropagation(),T?T():E(`/development/${e}/contact`)},children:"Contact Agent"})]})]})]})}function DevelopmentsDemo(){const[e,s]=re.useState({}),{data:a,isLoading:l}=At.developer.listPublicDevelopments.useQuery({limit:20});return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(MetaControl,{}),u.jsx(ListingNavbar,{}),u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[u.jsx("div",{className:"hidden lg:block lg:col-span-3",children:u.jsx("div",{className:"sticky top-24",children:u.jsx(SidebarFilters,{filters:e,onFilterChange:e=>{s(e),console.log("Filters updated:",e)}})})}),u.jsxs("div",{className:"col-span-1 lg:col-span-9",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[a?a.length:0," New Developments Found"]}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Discover the latest residential developments and off-plan properties"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Button$1,{variant:"outline",className:"lg:hidden border-slate-200 text-slate-600",children:[u.jsx(ro,{className:"h-4 w-4 mr-2"})," Filters"]}),u.jsxs("select",{className:"bg-transparent text-sm font-medium text-slate-600 focus:outline-none cursor-pointer border-none ring-0",children:[u.jsx("option",{children:"Sort by: Featured"}),u.jsx("option",{children:"Price: Low to High"}),u.jsx("option",{children:"Price: High to Low"}),u.jsx("option",{children:"Newest Listed"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center py-20",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}):a&&a.length>0?u.jsx("div",{className:"flex flex-col gap-6",children:a.map(e=>{const s=(e=>{if(!e)return[];let s=e;if("string"==typeof e)try{s=JSON.parse(e)}catch(a){return[]}return Array.isArray(s)?s.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&"url"in e?e.url:"").filter(Boolean):[]})(e.images);return u.jsx(DevelopmentCard,{id:e.slug||String(e.id),title:e.name,rating:Number(e.rating)||0,location:`${e.suburb?e.suburb+", ":""}${e.city}`,description:e.description||"",image:s[0]||"",unitTypes:e.unitTypes,highlights:e.highlights||[],developer:{name:e.developerName||"Unknown Developer",isFeatured:!!e.developerIsFeatured},imageCount:s.length,isFeatured:!!e.isFeatured,isNewBooking:!1},e.id)})}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[u.jsx(ka,{className:"h-16 w-16 text-slate-300 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No developments found"}),u.jsx("p",{className:"text-slate-500 max-w-md",children:"Try adjusting your filters or search criteria to find more developments."})]})]})]})})]})}function MediaLightbox({media:e,initialIndex:s=0,isOpen:a,onClose:l,title:c}){const[p,m]=re.useState(s);re.useEffect(()=>{m(s)},[s]),re.useEffect(()=>{const handleKeyDown=e=>{if(a)switch(e.key){case"Escape":l();break;case"ArrowLeft":goToPrevious();break;case"ArrowRight":goToNext()}};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)},[a,p]),re.useEffect(()=>(document.body.style.overflow=a?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[a]);const goToNext=()=>{m(s=>(s+1)%e.length)},goToPrevious=()=>{m(s=>(s-1+e.length)%e.length)};if(!a||0===e.length)return null;const h=e[p];return u.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:l,children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("div",{className:"text-white",children:[c&&u.jsx("h2",{className:"text-lg font-semibold",children:c}),u.jsxs("p",{className:"text-sm text-white/70",children:[p+1," / ",e.length]})]}),u.jsx(Button$1,{onClick:l,variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full h-10 w-10","aria-label":"Close (Escape)",children:u.jsx(Il,{className:"h-6 w-6"})})]})}),u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:[e.length>1&&u.jsx("button",{onClick:goToPrevious,className:"absolute left-4 top-1/2 -translate-y-1/2 z-50 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all border border-white/10 shadow-lg","aria-label":"Previous image",children:u.jsx(Ra,{className:"h-8 w-8"})}),u.jsx("div",{className:"max-w-7xl max-h-full flex items-center justify-center",children:"video"===h.type?u.jsx("video",{src:h.url,controls:!0,autoPlay:!0,className:"max-w-full max-h-[85vh] rounded-lg shadow-2xl",children:"Your browser does not support the video tag."},h.url):u.jsx("img",{src:h.url,alt:h.alt||`Image ${p+1}`,className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"})}),e.length>1&&u.jsx("button",{onClick:goToNext,className:"absolute right-4 top-1/2 -translate-y-1/2 z-50 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all border border-white/10 shadow-lg","aria-label":"Next image",children:u.jsx(Fa,{className:"h-8 w-8"})})]}),e.length>1&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10 bg-gradient-to-t from-black/80 to-transparent p-4",children:u.jsx("div",{className:"max-w-7xl mx-auto overflow-x-auto",children:u.jsx("div",{className:"flex gap-2 justify-center",children:e.map((e,s)=>u.jsx("button",{onClick:()=>m(s),className:"relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all "+(s===p?"border-white scale-110":"border-white/30 opacity-60 hover:opacity-100"),children:"video"===e.type?u.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center",children:u.jsx(Ao,{className:"h-6 w-6 text-white"})}):u.jsx("img",{src:e.url,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"})},s))})})})]})}function getGalleryStartIndex(e,s){if(!e.length)return 0;if("interior"===s){const s=e.findIndex(e=>"interior"===e.category||"general"===e.category);return-1!==s?s:0}const a=e.findIndex(e=>e.category===s);return-1!==a?a:0}function VideoThumbnailGrid({videos:e,onPlayClick:s,fallbackImage:a}){const l=e.length,renderTile=(e,s,l=!0)=>{const c=function getVideoThumbnail(e){if(e.url&&(e.url.includes("youtube")||e.url.includes("youtu.be"))){const s=e.url.match(/(?:youtu\.be\/|youtube\.com\/.*v=)([^&]+)/),a=s?s[1]:null;return a?`https://img.youtube.com/vi/${a}/mqdefault.jpg`:void 0}}(e)||a;return u.jsxs("div",{className:`relative overflow-hidden group/video ${s}`,children:[c?u.jsx("img",{src:c,className:"w-full h-full object-cover transition-transform duration-700 group-hover/video:scale-105",alt:"Video Thumbnail"}):u.jsx("div",{className:"w-full h-full bg-slate-900"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover/video:bg-black/10 transition-colors"}),l&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/30 group-hover/video:scale-110 transition-transform",children:u.jsx(Ao,{className:"w-3 h-3 text-white fill-current"})})})]})};return 1===l?u.jsx("button",{onClick:s,className:"w-full h-full relative group",children:renderTile(e[0],"w-full h-full")}):2===l?u.jsxs("button",{onClick:s,className:"w-full h-full grid grid-cols-2 gap-0.5",children:[renderTile(e[0],"h-full"),renderTile(e[1],"h-full")]}):3===l?u.jsxs("button",{onClick:s,className:"w-full h-full grid grid-cols-2 gap-0.5",children:[renderTile(e[0],"h-full"),u.jsxs("div",{className:"flex flex-col gap-0.5 h-full",children:[renderTile(e[1],"h-full"),renderTile(e[2],"h-full")]})]}):u.jsx("button",{onClick:s,className:"w-full h-full grid grid-cols-2 grid-rows-2 gap-0.5",children:e.slice(0,4).map((e,s)=>u.jsxs("div",{className:"w-full h-full",children:[renderTile(e,"w-full h-full",!(3===s&&l>4)),3===s&&l>4&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 z-10",children:u.jsxs("span",{className:"text-white font-bold text-sm",children:["+",l-4," More"]})})]},s))})}function DevelopmentGallery({featuredMedia:e,amenityTileImage:s,outdoorsTileImage:a,viewGalleryTileImage:l,totalPhotos:c,totalVideos:p,videoList:m,floorPlans:h,onOpenLightbox:f,indices:g}){const b=p>0&&"video"!==e.type;return u.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-5 gap-3 h-[400px] max-h-[400px] overflow-hidden",children:[u.jsxs("div",{className:"lg:col-span-3 relative rounded-card overflow-hidden shadow-sm h-full max-h-[400px] group bg-slate-900 ring-1 ring-black/5",children:[(()=>{if("video"===e.type){const s=e.video;return u.jsx("video",{src:s.url,className:"w-full h-full object-cover",muted:!0,autoPlay:!0,playsInline:!0})}const s=e.image;return s?u.jsx("img",{src:s.url,alt:"Featured View",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):u.jsx("div",{className:"w-full h-full bg-slate-100 flex items-center justify-center text-slate-400",children:"No Image"})})(),u.jsx("button",{onClick:()=>f("video"===e.type?g.videos:0,"video"===e.type?"Videos":"All Photos"),className:"absolute bottom-3 right-3 bg-white/95 hover:bg-white backdrop-blur-md px-3.5 py-2 rounded-pill font-semibold text-xs shadow-sm border border-white/20 transition-all hover:scale-105 flex items-center gap-2",children:"video"===e.type?u.jsxs(u.Fragment,{children:[u.jsx(Ao,{className:"w-3.5 h-3.5 fill-current"}),u.jsxs("span",{children:["View all ",p>1?p+" ":"","videos"]})]}):u.jsxs("span",{children:["View all ",c," photos"]})})]}),u.jsxs("div",{className:"hidden lg:grid lg:col-span-2 grid-rows-2 gap-3 h-[400px] max-h-[400px]",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 h-[194px]",children:[u.jsxs("button",{onClick:()=>f(g.amenities,"Amenities"),className:"relative rounded-card overflow-hidden shadow-sm hover:shadow-md transition-all group h-[194px] ring-1 ring-black/5 bg-slate-100",children:[s?u.jsx("img",{src:s.url,alt:"Amenities",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 text-xs",children:"No Amenities"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),u.jsx("span",{className:"absolute right-2.5 bottom-2.5 bg-white/95 backdrop-blur-md px-3 py-1.5 rounded-pill font-semibold text-[11px] shadow-sm border border-white/20",children:"Amenities"})]}),u.jsxs("button",{onClick:()=>f(g.outdoors,"Outdoor Spaces"),className:"relative rounded-card overflow-hidden shadow-sm hover:shadow-md transition-all group h-[194px] ring-1 ring-black/5 bg-slate-100",children:[a?u.jsx("img",{src:a.url,alt:"Outdoors",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 text-xs",children:"No Outdoors"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),u.jsx("span",{className:"absolute right-2.5 bottom-2.5 bg-white/95 backdrop-blur-md px-3 py-1.5 rounded-pill font-semibold text-[11px] shadow-sm border border-white/20",children:"Outdoors"})]})]}),u.jsx("div",{className:"h-[194px]",children:b?u.jsxs("div",{className:"relative w-full h-[194px] rounded-card overflow-hidden shadow-sm hover:shadow-md transition-all group ring-1 ring-black/5 bg-black",children:[u.jsx(VideoThumbnailGrid,{videos:m,onPlayClick:()=>f(g.videos,"Videos"),fallbackImage:l?.url}),u.jsxs("span",{className:"absolute right-2.5 bottom-2.5 bg-white/95 backdrop-blur-md px-3 py-1.5 rounded-pill font-semibold text-[11px] shadow-sm border border-white/20 pointer-events-none",children:["Videos (",p,")"]})]}):h&&h.length>0?u.jsxs("button",{onClick:()=>f(g.floorPlans,"Floor Plans"),className:"relative w-full h-[194px] rounded-card overflow-hidden shadow-sm hover:shadow-md transition-all group ring-1 ring-black/5 bg-slate-100",children:[h[0]?.url?u.jsx("img",{src:h[0].url,alt:"Floor Plans",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):null,u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),u.jsx("span",{className:"absolute right-2.5 bottom-2.5 bg-white/95 backdrop-blur-md px-3 py-1.5 rounded-pill font-semibold text-[11px] shadow-sm border border-white/20",children:"Floor Plans"})]}):u.jsxs("button",{onClick:()=>f(0,"All Photos"),className:"relative w-full h-[194px] rounded-card overflow-hidden shadow-sm hover:shadow-md transition-all group ring-1 ring-black/5 bg-slate-100",children:[l?u.jsx("img",{src:l.url,alt:"Gallery",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):null,u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),u.jsx("span",{className:"absolute right-2.5 bottom-2.5 bg-white/95 backdrop-blur-md px-3 py-1.5 rounded-pill font-semibold text-[11px] shadow-sm border border-white/20",children:"View Gallery"})]})})]})]})}function DeveloperOverview({developerName:e,developerLogo:s}){return u.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 shadow-sm",children:[u.jsx("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-slate-200",children:u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Developer Overview"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-100 h-full flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 overflow-hidden border-2 border-slate-200 shrink-0 flex items-center justify-center",children:s?u.jsx("img",{src:s,alt:e,className:"w-full h-full object-cover"}):u.jsx(ka,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-slate-900",children:e}),u.jsx(Badge,{className:"bg-orange-500 hover:bg-orange-600 text-white border-none rounded-full px-3 py-0.5 text-xs font-medium mt-1",children:"VERIFIED DEVELOPER"})]})]}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 text-center border border-slate-100",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:u.jsx("div",{className:"text-2xl font-bold text-orange-500",children:"20+"})}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Years Experience"})]}),u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 text-center border border-slate-100",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:u.jsx("div",{className:"text-2xl font-bold text-orange-500",children:"15"})}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Developments"})]})]})]}),u.jsxs(Button$1,{variant:"outline",className:"w-full justify-between h-12 rounded-lg border-slate-200 hover:bg-slate-50 hover:text-slate-900 group",children:[u.jsx("span",{className:"font-medium text-slate-700",children:"View Developer Profile"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(Fa,{className:"h-4 w-4 text-slate-400"})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-100 flex flex-col h-full",children:[u.jsxs("div",{className:"space-y-4 flex-1",children:[u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{placeholder:"Name",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})}),u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{type:"email",placeholder:"Email",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})}),u.jsx("div",{className:"space-y-1",children:u.jsx(Input,{type:"tel",placeholder:"Phone Number",className:"bg-slate-50 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20 h-11"})})]}),u.jsx(Button$1,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold h-12 rounded-lg mt-6 shadow-sm",children:"Contact Developer"})]})]})]})}const rq={blue:{bg:"bg-blue-50",text:"text-blue-600"},green:{bg:"bg-green-50",text:"text-green-600"},purple:{bg:"bg-purple-50",text:"text-purple-600"},orange:{bg:"bg-orange-50",text:"text-orange-600"}};function StatCard({icon:e,label:s,value:a,color:l}){const c=rq[l];return u.jsx(ea,{className:"shadow-none border border-slate-200/60 bg-slate-50/50",children:u.jsxs(sa,{className:"p-3 flex items-center gap-3",children:[u.jsx("div",{className:`p-1.5 rounded-md ${c.bg} ${c.text}`,children:u.jsx(e,{className:"h-4 w-4"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide",children:s}),u.jsx("p",{className:"font-semibold text-sm text-slate-900",children:a})]})]})})}const nq=[{id:"overview",label:"Overview"},{id:"floor-plans",label:"Floor Plans"},{id:"amenities",label:"Amenities"},{id:"developer",label:"Developer"},{id:"location",label:"Location"}];function SectionNav(){const[e,s]=re.useState("overview"),[a,l]=re.useState(!1);re.useEffect(()=>{const handleScroll2=()=>{l(window.scrollY>500);const e=window.scrollY+100;for(const a of nq){const l=document.getElementById(a.id);if(l){const{offsetTop:c,offsetHeight:u}=l;if(e>=c&&e<c+u){s(a.id);break}}}};return window.addEventListener("scroll",handleScroll2),()=>window.removeEventListener("scroll",handleScroll2)},[]);return u.jsx("nav",{className:cn("bg-white border-b border-slate-200 transition-all duration-300 z-40",a?"sticky top-0 shadow-sm":"relative"),children:u.jsx("div",{className:"container max-w-7xl mx-auto px-4",children:u.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:nq.map(s=>u.jsx("button",{onClick:()=>(e=>{const s=document.getElementById(e);if(s){const e=80,a=s.offsetTop-e;window.scrollTo({top:a,behavior:"smooth"})}})(s.id),className:cn("px-6 py-4 text-sm font-medium whitespace-nowrap transition-colors border-b-2",e===s.id?"text-orange-600 border-orange-600":"text-slate-600 border-transparent hover:text-slate-900"),children:s.label},s.id))})})})}function formatPriceCompact(e){if(null==e||e<=0)return"Price on Request";const s=Math.abs(e);if(s>=1e6){const e=s/1e6;return`R${e%1==0?e.toFixed(0):e.toFixed(1)}M`}if(s>=1e3){const e=s/1e3;return`R${e%1==0?e.toFixed(0):e.toFixed(1)}k`}return`R${Math.round(s).toLocaleString("en-ZA")}`}function DevelopmentOverviewCard({priceFrom:e,priceTo:s,constructionStatus:a="Selling",projectStatus:l,completionDate:c,progressPercentage:p=0,salesMetrics:m}){const h=m?.soldPct??p,f=m?m.total>0:h>0,g=calculateMonthlyRepayment(e,11.75,20),b=s?`${formatPriceCompact(e)} - ${formatPriceCompact(s)}`:formatPriceCompact(e);return u.jsx(ea,{className:"w-full bg-white shadow-sm border-slate-200 mb-8",children:u.jsx(sa,{className:"p-6 lg:p-8",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12",children:[u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Priced From"}),u.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 tracking-tight",children:b})]}),u.jsx("div",{children:u.jsxs("p",{className:"text-slate-600 text-sm font-medium",children:["Est. Repayments From:"," ",u.jsxs("span",{className:"text-slate-900 font-bold",children:[formatSARandShort(g),"/pm"]})]})}),u.jsx(Button$1,{variant:"link",className:"p-0 h-auto text-blue-600 hover:text-blue-700 font-semibold text-sm",children:"Get Pre-Qualified"})]}),u.jsx("div",{className:"hidden lg:block w-px bg-slate-100 self-stretch"}),u.jsxs("div",{className:"flex-1 space-y-6",children:[u.jsx("h3",{className:"text-slate-900 font-bold text-base",children:"Project Status"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Status"}),u.jsx("span",{className:"font-semibold text-slate-900",children:a})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Expected Completion Date"}),u.jsx("span",{className:"font-semibold text-orange-500",children:c||"TBA"})]}),f?u.jsxs("div",{className:"space-y-2 pt-2",children:[u.jsx(Progress,{value:h,className:"h-2.5 bg-slate-100",indicatorClassName:"bg-blue-500"}),u.jsx("p",{className:"text-slate-600 text-xs font-medium",children:m?`${h}% sold out`:`${h}% Complete`})]}):u.jsx("p",{className:"text-slate-500 text-xs italic pt-2",children:"Sales data unavailable"})]})]})]})})})}const sq={Security:["Security","Access","Fencing","CCTV","Guard","Biometric","Perimeter"],Lifestyle:["Pool","Gym","Clubhouse","Park","Garden","Play","Tennis","Squash","Braai","Entertainment"],Convenience:["Fibre","Internet","Backup","Solar","Laundry","Cleaning","Concierge","Lift","Elevator"]},getPrimaryUnitImage=(e,s)=>{const a=e.baseMedia,l=Array.isArray(a?.gallery)?a.gallery:Array.isArray(a)?a:[];return l.find(e=>e?.isPrimary&&e?.url)?.url||l.find(e=>e?.url)?.url||e.primaryImageUrl||e.image||e.coverImage||s||"/assets/placeholder-home.jpg"};function DevelopmentDetail(){const{slug:e}=useParams(),[s,a]=re.useState(!1),[l,c]=re.useState(""),[p,m]=re.useState(0),[h,f]=re.useState(!1),{data:g,isLoading:b}=At.developer.getPublicDevelopmentBySlug.useQuery({slugOrId:e||""},{enabled:!!e}),{data:j}=At.developer.listPublicDevelopments.useQuery({limit:50},{enabled:!!g?.developer?.id});if(b)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})});if(!g)return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"container mx-auto px-4 pt-24 pb-12 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Development Not Found"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"The development you are looking for does not exist or has been removed."}),u.jsx(Button$1,{className:"mt-4",onClick:()=>window.history.back(),children:"Go Back"})]})})]});const parseJSON=e=>{if(!e)return[];if(Array.isArray(e))return e;try{const s=JSON.parse(e);return Array.isArray(s)?s:[]}catch(s){return[]}},formatLabel=e=>e?e.replace(/-/g," ").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",N=parseJSON(g.images),k=parseJSON(g.videos),_=N.map(e=>"string"==typeof e?{url:e,category:"featured"}:{url:e.url,category:e.category||"general",isPrimary:e.isPrimary}),T=k.map(e=>"string"==typeof e?{url:e}:e),E={featuredImage:_.find(e=>e.isPrimary)||_[0],images:_,videos:T},A=function getDevelopmentHeroMedia(e){return e.videos.length>0?{type:"video",video:e.videos[0]}:{type:"image",image:e.featuredImage||e.images[0]}}(E),L=function buildDevelopmentGalleryImages(e){const s=e.featuredImage?[e.featuredImage]:[],a=e.images.filter(s=>!e.featuredImage||s.url!==e.featuredImage.url),l={interior:1,general:1,amenities:2,outdoors:3,photo:4,render:5};return[...s,...[...a].sort((e,s)=>(l[e.category]||99)-(l[s.category]||99))]}(E),O=function getDevelopmentAmenityTileImage(e){return e.images.find(e=>"amenities"===e.category)??e.images[0]}(E),I=function getDevelopmentOutdoorsTileImage(e){return e.images.find(e=>"outdoors"===e.category)??e.images[1]??e.images[0]}(E),$=function getDevelopmentViewGalleryTileImage(e){return e.videos.length>0?e.featuredImage||e.images[0]:e.images.find(e=>"interior"===e.category||"general"===e.category)??e.images[0]??e.featuredImage}(E),z={general:0,amenities:getGalleryStartIndex(L,"amenities"),outdoors:getGalleryStartIndex(L,"outdoors"),videos:0,floorPlans:0},U=parseJSON(g.amenities),H=g.unitTypes||[],q=(()=>{if(!g.estateSpecs)return{};if("object"==typeof g.estateSpecs)return g.estateSpecs;try{return JSON.parse(g.estateSpecs)}catch(e){return{}}})(),Z=(()=>{const e=(g.unitTypes||[]).reduce((e,s)=>{const a=Number(s.totalUnits||0),l=Number(s.availableUnits||0);return e.total+=a>0?a:0,e.available+=l>0?l:0,e},{total:0,available:0});if(e.total<=0)return{soldPct:null,total:0,available:0};const s=Math.min(Math.max(e.available,0),e.total),a=e.total-s;return{soldPct:Math.round(a/e.total*100),total:e.total,available:s}})(),Y={id:g.id,name:g.name,developer:g.developer?.name||"Unknown Developer",developerLogo:g.developer?.logo||null,developerDescription:g.developer?.description||"Professional property developer committed to quality and excellence.",developerWebsite:g.developer?.website||null,developerSlug:g.developer?.slug||null,location:`${g.suburb?g.suburb+", ":""}${g.city}`,address:g.address||"",description:g.description||"",completionDate:g.completionDate?new Date(g.completionDate).toLocaleDateString():null,totalUnits:g.totalUnits||0,availableUnits:g.availableUnits||0,startingPrice:Number(g.priceFrom)||0,developmentType:g.developmentType||"residential",status:g.status,heroMedia:A,amenityTile:O,outdoorTile:I,viewGalleryTile:$,totalPhotos:L.length,totalVideos:T.length,videoList:T,floorPlans:[],indices:z,amenities:U,units:H.map(e=>{const s=e.ownershipType,a=q.ownershipType,l=(e=>{const s=(e||"").toLowerCase();return/house|duplex|simplex|townhouse|freestanding|cluster/.test(s)?"Freehold":"Sectional Title"})(e.structuralType||e.type),c=formatLabel(s||a||l);return{...e,normalizedImage:getPrimaryUnitImage(e,A.image?.url),normalizedOwnership:c,normalizedType:formatLabel(e.structuralType||e.type||"Apartment"),floorSize:e.unitSize||e.sizeFrom||e.size||e.floorSize,landSize:e.erfSize||e.yardSize}})};return u.jsxs(u.Fragment,{children:[u.jsx(MetaControl,{title:`${Y.name} | ${Y.developer}`,description:Y.description,image:"image"===Y.heroMedia.type?Y.heroMedia.image?.url:void 0}),u.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"pt-24 pb-4 container max-w-7xl mx-auto px-4",children:u.jsx(Breadcrumbs,{items:[{label:"Home",href:"/"},{label:Y.location,href:"#"},{label:Y.name,href:`/development/${Y.id}`,active:!0}]})}),u.jsx("div",{className:"w-full bg-white border-b border-slate-200",children:u.jsx("div",{className:"container max-w-7xl mx-auto px-4 py-4",children:u.jsx("div",{className:"relative w-full overflow-hidden",children:u.jsx(DevelopmentGallery,{featuredMedia:Y.heroMedia,amenityTileImage:Y.amenityTile,outdoorsTileImage:Y.outdoorTile,viewGalleryTileImage:Y.viewGalleryTile,totalPhotos:Y.totalPhotos,totalVideos:Y.totalVideos,videoList:Y.videoList,floorPlans:Y.floorPlans,indices:Y.indices,onOpenLightbox:(e,s)=>((e,s)=>{m(e),c(s),a(!0)})(e,s)})})})}),u.jsx("div",{className:"w-full bg-white border-b border-slate-200",children:u.jsx("div",{className:"container max-w-7xl mx-auto px-4 py-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-8 items-start",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("section",{id:"overview",className:"w-full",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsx(StatCard,{icon:Bi,label:"Type",value:formatLabel(g.developmentType),color:"blue"}),u.jsx(StatCard,{icon:Ia,label:"Status",value:formatLabel(g.status),color:"green"}),u.jsx(StatCard,{icon:Bi,label:"Ownership",value:q.ownershipType?formatLabel(q.ownershipType):"",color:"purple"}),u.jsx(StatCard,{icon:Gi,label:"Unit Types",value:(e=>{if(!e||0===e.length)return"";const s=new Set(e.map(e=>e.structuralType||e.category).filter(Boolean));if(1===s.size){const e=Array.from(s)[0];return formatLabel(e)+"s"}return s.size>1?"Various":`${e.length} Unit Types`})(g.unitTypes||[]),color:"orange"})]})}),u.jsx(DevelopmentOverviewCard,{priceFrom:Y.startingPrice,completionDate:Y.completionDate||"",progressPercentage:Z.soldPct??0,constructionStatus:formatLabel(g.status),salesMetrics:Z})]}),u.jsx("div",{className:"w-full lg:w-[360px]",children:u.jsx(ea,{className:"shadow-sm border-slate-200",children:u.jsxs(sa,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center flex-shrink-0 shadow-sm overflow-hidden",children:Y.developerLogo?u.jsx("img",{src:Y.developerLogo,alt:Y.developer,className:"w-full h-full object-cover"}):u.jsx(ka,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-sm text-slate-900 truncate",children:Y.developer}),u.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[u.jsx(fa,{className:"w-3 h-3 text-orange-500 flex-shrink-0"}),u.jsx("span",{className:"text-[10px] font-semibold text-orange-600 uppercase tracking-wide",children:"Verified Developer"})]})]})]}),u.jsx("p",{className:"text-xs text-slate-500 mb-3 leading-relaxed line-clamp-2",children:Y.developerDescription}),Y.developerWebsite&&u.jsxs("a",{href:Y.developerWebsite,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs text-blue-600 hover:underline mb-3",children:[u.jsx(Ai,{className:"w-3 h-3 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Visit Website"})]}),u.jsx(Separator,{className:"bg-slate-100 my-3"}),(()=>{const e=(j||[]).filter(e=>e.developerId===g.developer?.id&&e.id!==g.id).slice(0,3);return 0===e.length?null:u.jsxs("div",{children:[u.jsxs("p",{className:"text-[10px] font-bold text-slate-900 uppercase tracking-wide mb-2 flex items-center gap-1",children:[u.jsx(Ca,{className:"w-3 h-3 text-slate-400 flex-shrink-0"}),"Other Projects"]}),u.jsx("div",{className:"space-y-1 pl-1 border-l-2 border-slate-100",children:e.map(e=>u.jsx("a",{href:`/development/${e.slug}`,className:"text-xs text-slate-600 pl-2 hover:text-blue-600 transition-colors block truncate",children:e.name},e.id))})]})})(),u.jsx(Button$1,{variant:"link",className:"p-0 h-auto text-blue-600 mt-3 text-xs font-medium",children:"View Developer Profile "})]})})})]})})}),u.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-slate-200 shadow-sm",children:u.jsx("div",{className:"container max-w-7xl mx-auto",children:u.jsx(SectionNav,{})})}),u.jsx("div",{className:"w-full py-8",children:u.jsx("div",{className:"container max-w-7xl mx-auto px-4",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-8 items-start",children:[u.jsxs("main",{className:"w-full min-w-0 space-y-8",children:[u.jsx("section",{className:"w-full",children:u.jsxs(ea,{className:"border-slate-200 shadow-sm",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsxs(ra,{className:"font-bold text-slate-900",children:["About ",Y.name]})}),u.jsxs(sa,{className:"p-6",children:[u.jsx("div",{className:"text-slate-600 leading-relaxed whitespace-pre-line overflow-hidden transition-all duration-300 "+(h?"":"line-clamp-6"),children:Y.description||"Experience luxury living in this exclusive new development. Providing state-of-the-art amenities and modern architectural design, this is the perfect place to call home."}),u.jsx(Button$1,{variant:"link",className:"p-0 h-auto text-blue-600 font-medium mt-4 hover:text-blue-700",onClick:()=>f(!h),children:h?"Show Less":"Read Full Description"})]})]})}),u.jsx(Separator,{className:"bg-slate-200"}),u.jsxs("section",{className:"w-full bg-slate-50 p-4 rounded-lg font-mono text-[10px] overflow-auto border border-slate-200",children:[u.jsx("h4",{className:"font-bold text-red-500 mb-2",children:"DEBUG DATA DUMP (As Requested)"}),u.jsx("pre",{children:JSON.stringify({id:Y.id,name:Y.name,firstUnitType:Y.units?.[0]?{id:Y.units[0].id,developmentId:Y.units[0].developmentId,structuralType:Y.units[0].structuralType,bedrooms:Y.units[0].bedrooms,bathrooms:Y.units[0].bathrooms,unitSize:Y.units[0].unitSize,sizeFrom:Y.units[0].sizeFrom,erfSize:Y.units[0].erfSize,basePriceFrom:Y.units[0].basePriceFrom,baseMedia:JSON.stringify(Y.units[0].baseMedia).slice(0,200)+"...",baseMediaType:typeof Y.units[0].baseMedia,imagesType:typeof Y.units[0].images}:"No units found"},null,2)})]}),u.jsxs("section",{id:"floor-plans",className:"w-full",children:[u.jsx("div",{className:"mb-6",children:u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Available Units"})}),(()=>{const e=(Y.units||[]).filter(e=>{const s=Number(e.bedrooms);return Number.isFinite(s)&&s>=0});if(0===e.length)return u.jsxs("div",{className:"w-full text-center py-12 bg-slate-50 rounded-lg border border-dashed border-slate-300",children:[u.jsx(Bi,{className:"mx-auto h-8 w-8 text-slate-300 mb-2"}),u.jsx("p",{className:"text-slate-500 font-medium",children:"Detailed unit configurations coming soon."}),u.jsx("p",{className:"text-xs text-slate-400",children:"Contact the developer for floor plans."})]});const s=Array.from(new Set(e.map(e=>Number(e.bedrooms)))).sort((e,s)=>e-s),a=s[0]?.toString()||"0";return u.jsxs(ef,{defaultValue:a,className:"w-full",children:[u.jsx(tf,{className:"bg-transparent p-0 flex flex-wrap gap-2 h-auto mb-6 justify-start",children:s.map(s=>{const a=e.filter(e=>Number(e.bedrooms)===s),l=Array.from(new Set(a.map(e=>e.normalizedType)));let c="Apartments";return l.map(e=>e.toLowerCase()).every(e=>e.includes("house")||e.includes("simplex")||e.includes("duplex"))?c="Houses":1===l.length&&(c=`${l[0]}s`),u.jsxs(rf,{value:s.toString(),className:"rounded-full border border-slate-200 bg-white px-6 py-2.5 text-sm font-medium text-slate-600 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 shadow-sm transition-all",children:[s," Bedroom"," ",u.jsx("span",{className:"ml-1 opacity-70 font-normal",children:c})]},s)})}),s.map(s=>u.jsx(nf,{value:s.toString(),className:"mt-0 focus-visible:outline-none",children:u.jsx("div",{className:"relative w-full",children:u.jsxs(Carousel,{opts:{align:"start",loop:!0},className:"w-full",children:[u.jsx(CarouselContent,{className:"-ml-4",children:e.filter(e=>Number(e.bedrooms)===s).map(e=>{const s=e.landSize&&Number(e.landSize)>0;return!s&&(e.parking||e.parkingBays),u.jsx(CarouselItem,{className:"pl-4 md:basis-1/2 lg:basis-1/2",children:u.jsxs(ea,{className:"overflow-hidden hover:shadow-md transition-all duration-300 border-slate-200 h-full flex flex-col",children:[u.jsxs("div",{className:"relative w-full aspect-[16/10] bg-slate-200 overflow-hidden group",children:[u.jsx("img",{src:e.normalizedImage,alt:e.normalizedType,onError:e=>{const s=e.currentTarget;s.src.includes("placeholder")||(s.src="/assets/placeholder-home.jpg")},className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-[10px] p-1 truncate font-mono z-10",children:["src: ",e.normalizedImage.split("/").pop()]})]}),u.jsxs(sa,{className:"p-4 space-y-4 flex-1 flex flex-col",children:[u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:formatPriceCompact(e.basePriceFrom)}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:e.normalizedType}),e.basePriceTo&&Number(e.basePriceTo)>0&&e.basePriceTo>e.basePriceFrom&&u.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["- ",formatPriceCompact(e.basePriceTo)]})]})}),u.jsxs("div",{className:"flex items-center justify-between gap-1 py-2 border-t border-b border-slate-100 mt-auto min-h-[50px]",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[u.jsx(HouseMeasureIcon,{className:"h-3.5 w-3.5 text-slate-400 mb-1"}),u.jsx("span",{className:"text-xs font-semibold text-slate-700 whitespace-nowrap",children:e.floorSize?`${e.floorSize}m`:""})]}),u.jsx("div",{className:"h-6 w-px bg-slate-100 shrink-0"}),u.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[u.jsx(ja,{className:"h-3.5 w-3.5 text-slate-400 mb-1"}),u.jsxs("span",{className:"text-xs font-semibold text-slate-700 whitespace-nowrap",children:[e.bedrooms," Bed"]})]}),u.jsx("div",{className:"h-6 w-px bg-slate-100 shrink-0"}),u.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[u.jsx(ya,{className:"h-3.5 w-3.5 text-slate-400 mb-1"}),u.jsxs("span",{className:"text-xs font-semibold text-slate-700 whitespace-nowrap",children:[e.bathrooms," Bath"]})]}),(e.parking||e.parkingBays)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-6 w-px bg-slate-100 shrink-0"}),u.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[u.jsx(Ma,{className:"h-3.5 w-3.5 text-slate-400 mb-1"}),u.jsx("span",{className:"text-xs font-semibold text-slate-700 whitespace-nowrap",children:e.parking||e.parkingBays})]})]}),s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-6 w-px bg-slate-100 shrink-0"}),u.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[u.jsx(mo,{className:"h-3.5 w-3.5 text-slate-400 mb-1"}),u.jsxs("span",{className:"text-xs font-semibold text-slate-700 whitespace-nowrap",children:[e.landSize,"m"]})]})]})]}),u.jsx("div",{className:"pt-1",children:u.jsx(Button$1,{variant:"outline",className:"w-full border-blue-200 text-blue-600 hover:bg-blue-50 h-9 text-xs font-bold rounded-md shadow-none uppercase tracking-wide",children:"Request callback"})})]})]})},e.id)})}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx(CarouselPrevious,{className:"absolute -left-4 top-1/2 -translate-y-1/2 bg-white shadow-md border-slate-200"}),u.jsx(CarouselNext,{className:"absolute -right-4 top-1/2 -translate-y-1/2 bg-white shadow-md border-slate-200"})]})]})})},s))]})})()]}),u.jsx(Separator,{className:"bg-slate-200"}),(()=>{const e=g.estateSpecs||{},formatLabel2=e=>e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"",s=[];if(e.ownershipType||e.powerBackup||e.waterSupply){if(e.ownershipType&&s.push({icon:Bi,label:"Ownership Type",value:formatLabel2(e.ownershipType)}),e.powerBackup&&"none"!==e.powerBackup&&s.push({icon:$l,label:"Power Backup",value:formatLabel2(e.powerBackup)}),e.securityFeatures?.length>0){const a=e.securityFeatures.length;s.push({icon:Ko,label:"Security",value:a>2?`${a} Features`:e.securityFeatures.map(formatLabel2).join(", ")})}e.waterSupply&&s.push({icon:ci,label:"Water Supply",value:formatLabel2(e.waterSupply)}),e.internetAccess&&"none"!==e.internetAccess&&s.push({icon:Dl,label:"Internet",value:formatLabel2(e.internetAccess)}),e.flooring&&s.push({icon:Zi,label:"Flooring",value:formatLabel2(e.flooring)}),e.parkingType&&"none"!==e.parkingType&&s.push({icon:Ma,label:"Parking",value:formatLabel2(e.parkingType)}),e.petFriendly&&s.push({icon:Ha,label:"Pet Friendly",value:formatLabel2(e.petFriendly)}),e.electricitySupply&&s.push({icon:$l,label:"Electricity",value:formatLabel2(e.electricitySupply)})}return 0===s.length?null:u.jsx("section",{id:"amenities",className:"w-full",children:u.jsxs(ea,{className:"shadow-sm border border-slate-200 bg-white",children:[u.jsx(ta,{className:"bg-slate-50/50 border-b border-slate-100",children:u.jsx(ra,{className:"font-bold text-slate-900",children:"Development Specifications"})}),u.jsx(sa,{className:"p-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map((e,s)=>{const a=e.icon;return u.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 rounded-lg",children:[u.jsx(a,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm text-slate-500",children:e.label}),u.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:e.value})]})]},s)})})})]})})})(),Y.amenities.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(Separator,{className:"bg-slate-200"}),u.jsxs("section",{id:"amenities-list",className:"w-full",children:[u.jsx("div",{className:"mb-6",children:u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Lifestyle & Features"})}),(()=>{const e=(e=>{const s={Security:[],Lifestyle:[],Convenience:[],Other:[]},a=new Set,normalize2=e=>e.toLowerCase();return e.forEach(e=>{let l=!1;for(const[c,u]of Object.entries(sq))if(u.some(s=>normalize2(e).includes(normalize2(s)))&&!a.has(e)){s[c].push(e),a.add(e),l=!0;break}l||s.Other.push(e)}),Object.fromEntries(Object.entries(s).filter(([e,s])=>s.length>0))})(Y.amenities),s={Security:Ko,Lifestyle:ml,Convenience:$l,Other:Ha};return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Object.entries(e).map(([e,a])=>{const l=s[e]||Ha;return u.jsxs(ea,{className:"shadow-none border-none bg-transparent",children:[u.jsx(ta,{className:"px-0 pt-0 pb-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(l,{className:"h-5 w-5 text-blue-600"})}),u.jsx(ra,{className:"text-lg font-bold text-slate-900",children:"Other"===e?"General Features":e})]})}),u.jsx(sa,{className:"px-0 pb-0",children:u.jsx("div",{className:"grid grid-cols-1 gap-y-3",children:a.map((e,s)=>u.jsxs("div",{className:"flex items-start gap-3 group",children:[u.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-blue-600 transition-colors"}),u.jsx("span",{className:"text-slate-600 group-hover:text-slate-900 transition-colors capitalize",children:e.replace(/_/g," ")})]},s))})})]},e)})})})()]})]}),u.jsx(Separator,{className:"bg-slate-200"}),u.jsx("section",{id:"developer",className:"w-full",children:u.jsx(DeveloperOverview,{developerName:Y.developer,developerLogo:Y.developerLogo})}),u.jsx(Separator,{className:"bg-slate-200"}),u.jsxs("section",{id:"location",className:"w-full space-y-6",children:[u.jsx(NearbyLandmarks,{property:{id:g.id,title:g.name,latitude:g.latitude||"0",longitude:g.longitude||"0"}}),u.jsx(ea,{className:"border-slate-200 shadow-sm",children:u.jsx(sa,{className:"p-6",children:u.jsx(SuburbInsights,{suburbId:g.suburbId||0,suburbName:g.suburb||g.city,isDevelopment:!0})})}),u.jsx(LocalityGuide,{suburb:g.suburb||g.city,city:g.city})]})]}),u.jsx("aside",{className:"w-full lg:w-[360px] space-y-4",children:u.jsx("div",{className:"lg:sticky lg:top-24 space-y-4",children:u.jsxs(ea,{className:"shadow-sm border-slate-200",children:[u.jsx(ta,{className:"bg-slate-50 border-b border-slate-100 py-3 px-4",children:u.jsx(ra,{className:"text-sm font-bold text-slate-800",children:"Interested in This Development?"})}),u.jsxs(sa,{className:"p-4 space-y-2.5",children:[u.jsxs(Button$1,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white h-10 text-sm font-semibold shadow-sm",children:[u.jsx(li,{className:"mr-2 h-4 w-4"}),"Download Brochure"]}),u.jsxs(Button$1,{variant:"outline",className:"w-full h-10 border-blue-200 text-blue-600 hover:bg-blue-50 text-sm font-medium",children:[u.jsx(Eo,{className:"mr-2 h-4 w-4"}),"Schedule a Viewing"]}),u.jsxs(Button$1,{variant:"ghost",className:"w-full h-9 text-slate-600 hover:text-slate-900 text-xs",children:[u.jsx(oo,{className:"mr-2 h-3.5 w-3.5"}),"Contact Sales Team"]})]})]})})})]})})})]}),u.jsx(Footer$1,{}),u.jsx(MediaLightbox,{media:Y.unifiedMedia,initialIndex:p,isOpen:s,onClose:()=>a(!1),title:l})]})}const aq=cva(["inline-flex items-center justify-center gap-2","whitespace-nowrap rounded-lg text-sm font-semibold","transition-all duration-300 ease-in-out","outline-none focus-visible:ring-4 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-60","[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0"],{variants:{variant:{primary:["bg-gradient-to-r from-blue-500 to-indigo-600","text-white shadow-md","hover:shadow-lg hover:scale-[1.02]","active:scale-[0.98] active:shadow-sm","focus-visible:ring-blue-500/50","disabled:from-blue-400 disabled:to-indigo-500"],success:["bg-gradient-to-r from-green-500 to-emerald-600","text-white shadow-md","hover:shadow-lg hover:scale-[1.02]","active:scale-[0.98] active:shadow-sm","focus-visible:ring-green-500/50","disabled:from-green-400 disabled:to-emerald-500"],warning:["bg-gradient-to-r from-orange-500 to-red-600","text-white shadow-md","hover:shadow-lg hover:scale-[1.02]","active:scale-[0.98] active:shadow-sm","focus-visible:ring-orange-500/50","disabled:from-orange-400 disabled:to-red-500"],outline:["border-2 border-gray-300 bg-white","text-gray-700 shadow-sm","hover:border-blue-500 hover:text-blue-600 hover:shadow-md","active:scale-[0.98]","focus-visible:ring-gray-300/50","disabled:border-gray-200 disabled:text-gray-400"]},size:{default:"h-10 px-6 py-2.5",sm:"h-8 px-4 py-2 text-xs",lg:"h-12 px-8 py-3 text-base",icon:"size-10"}},defaultVariants:{variant:"primary",size:"default"}}),iq=re.forwardRef(({className:e,variant:s,size:a,loading:l=!1,icon:c,iconRight:p,children:m,disabled:h,...f},g)=>{const b=h||l;return u.jsxs("button",{ref:g,className:cn(aq({variant:s,size:a,className:e})),disabled:b,...f,children:[l&&u.jsx(no,{className:"animate-spin","aria-label":"Loading","aria-hidden":"false"}),!l&&c&&u.jsx(c,{"aria-hidden":"true"}),m&&u.jsx("span",{children:m}),!l&&p&&u.jsx(p,{"aria-hidden":"true"})]})});iq.displayName="GradientButton";const GradientProgressIndicator=({steps:e,currentStep:s,completedSteps:a=[],onStepClick:l,className:c})=>{const isStepCompleted=e=>a.includes(e),isStepActive=e=>e===s;return u.jsxs("div",{className:cn("w-full",c),children:[u.jsx("div",{className:"hidden sm:block",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-5 left-0 right-0 h-1 bg-gray-200 -z-10"}),u.jsx("div",{className:"absolute top-5 left-0 h-1 bg-gradient-to-r from-blue-500 to-indigo-600 -z-10 transition-all duration-500 ease-in-out",style:{width:a.length/(e.length-1)*100+"%"}}),u.jsx("div",{className:"flex justify-between items-start",children:e.map((s,a)=>{const c=s.icon,p=isStepCompleted(s.id),m=isStepActive(s.id),h=(f=s.id,isStepCompleted(f)&&void 0!==l);var f;return u.jsxs("div",{className:"flex flex-col items-center relative",style:{width:100/e.length+"%"},children:[u.jsx("button",{type:"button",onClick:()=>h&&l?.(s.id),disabled:!h,className:cn("w-10 h-10 rounded-full flex items-center justify-center","border-2 transition-all duration-300 ease-in-out","focus:outline-none focus:ring-4 focus:ring-blue-500/20",m&&["bg-gradient-to-r from-blue-500 to-indigo-600","border-transparent text-white shadow-md","scale-110"],p&&!m&&["bg-gradient-to-r from-green-500 to-emerald-600","border-transparent text-white shadow-md"],!m&&!p&&["bg-white border-gray-300 text-gray-400"],h&&["cursor-pointer","hover:scale-105 hover:shadow-lg"],!h&&"cursor-default"),"aria-label":`${s.title}${p?" (completed)":m?" (current)":""}`,"aria-current":m?"step":void 0,children:p&&!m?u.jsx(Ia,{className:"w-5 h-5",strokeWidth:3}):u.jsx(c,{className:"w-5 h-5"})}),u.jsx("span",{className:cn("mt-2 text-xs font-medium text-center transition-colors duration-300","max-w-[80px] sm:max-w-none",m&&"text-blue-600",p&&!m&&"text-green-600",!m&&!p&&"text-gray-500"),children:s.title})]},s.id)})})]})}),u.jsxs("div",{className:"sm:hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:e.map(e=>{const s=isStepCompleted(e.id),a=isStepActive(e.id);return u.jsx("div",{className:cn("h-2 rounded-full transition-all duration-300",a&&"w-8 bg-gradient-to-r from-blue-500 to-indigo-600",s&&!a&&"w-6 bg-gradient-to-r from-green-500 to-emerald-600",!a&&!s&&"w-6 bg-gray-300"),"aria-hidden":"true"},e.id)})}),u.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",s," of ",e.length]})]}),u.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4",children:e.map(e=>{if(e.id!==s)return null;const a=e.icon;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-md",children:u.jsx(a,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.title}),u.jsx("p",{className:"text-xs text-gray-500",children:"Current step"})]})]},e.id)})})]})]})};GradientProgressIndicator.displayName="GradientProgressIndicator";const oq=re.forwardRef(({className:e,label:s,error:a,required:l,helperText:c,containerClassName:p,id:m,...h},f)=>{const g=m||`input-${re.useId()}`,b=!!a;return u.jsxs("div",{className:cn("space-y-2",p),children:[s&&u.jsxs("label",{htmlFor:g,className:"block text-sm font-medium text-gray-700",children:[s,l&&u.jsx("span",{className:"ml-1 bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent font-semibold","aria-label":"required",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{ref:f,id:g,className:cn("w-full px-4 py-2.5 rounded-lg","text-sm text-gray-900 placeholder:text-gray-400","border-2 bg-white","transition-all duration-300 ease-in-out","outline-none","border-gray-300","focus:border-transparent","focus:ring-4 focus:ring-blue-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(59_130_246_/_0.5)]",b&&["border-red-300","focus:ring-red-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(239_68_68_/_0.5)]","animate-shake"],"disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed disabled:opacity-60",e),"aria-invalid":b,"aria-describedby":a?`${g}-error`:c?`${g}-helper`:void 0,...h}),u.jsx("div",{className:cn("absolute inset-0 rounded-lg pointer-events-none","bg-gradient-to-r from-blue-500 to-indigo-600","opacity-0 transition-opacity duration-300","-z-10"),"aria-hidden":"true"})]}),a&&u.jsx("p",{id:`${g}-error`,className:"text-sm bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent font-medium animate-in fade-in slide-in-from-top-1 duration-200",role:"alert",children:a}),!a&&c&&u.jsx("p",{id:`${g}-helper`,className:"text-sm text-gray-500",children:c})]})});oq.displayName="GradientInput";const lq=re.forwardRef(({className:e,label:s,error:a,required:l,helperText:c,containerClassName:p,autoResize:m=!1,id:h,onChange:f,...g},b)=>{const j=h||`textarea-${re.useId()}`,N=!!a,k=re.useRef(null),_=re.useCallback(()=>{const e=k.current;e&&m&&(e.style.height="auto",e.style.height=`${e.scrollHeight}px`)},[m]);re.useEffect(()=>{_()},[_,g.value]);const T=re.useCallback(e=>{k.current=e,"function"==typeof b?b(e):b&&(b.current=e)},[b]);return u.jsxs("div",{className:cn("space-y-2",p),children:[s&&u.jsxs("label",{htmlFor:j,className:"block text-sm font-medium text-gray-700",children:[s,l&&u.jsx("span",{className:"ml-1 bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent font-semibold","aria-label":"required",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{ref:T,id:j,className:cn("w-full px-4 py-2.5 rounded-lg","text-sm text-gray-900 placeholder:text-gray-400","border-2 bg-white","transition-all duration-300 ease-in-out","outline-none","resize-none","border-gray-300","focus:border-transparent","focus:ring-4 focus:ring-blue-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(59_130_246_/_0.5)]",N&&["border-red-300","focus:ring-red-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(239_68_68_/_0.5)]","animate-shake"],"disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed disabled:opacity-60",m&&"overflow-hidden",e),"aria-invalid":N,"aria-describedby":a?`${j}-error`:c?`${j}-helper`:void 0,onChange:e=>{_(),f?.(e)},...g}),u.jsx("div",{className:cn("absolute inset-0 rounded-lg pointer-events-none","bg-gradient-to-r from-blue-500 to-indigo-600","opacity-0 transition-opacity duration-300","-z-10"),"aria-hidden":"true"})]}),a&&u.jsx("p",{id:`${j}-error`,className:"text-sm bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent font-medium animate-in fade-in slide-in-from-top-1 duration-200",role:"alert",children:a}),!a&&c&&u.jsx("p",{id:`${j}-helper`,className:"text-sm text-gray-500",children:c})]})});lq.displayName="GradientTextarea";const cq=re.forwardRef(({label:e,error:s,required:a,helperText:l,containerClassName:c,placeholder:p,value:m,onValueChange:h,children:f,disabled:g},b)=>{const j=`select-${re.useId()}`,N=!!s;return u.jsxs("div",{className:cn("space-y-2",c),children:[e&&u.jsxs("label",{htmlFor:j,className:"block text-sm font-medium text-gray-700",children:[e,a&&u.jsx("span",{className:"ml-1 bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent font-semibold","aria-label":"required",children:"*"})]}),u.jsxs(_h,{value:m,onValueChange:h,disabled:g,children:[u.jsxs(Ph,{ref:b,id:j,className:cn("w-full px-4 py-2.5 rounded-lg","text-sm text-gray-900","border-2 bg-white","transition-all duration-300 ease-in-out","outline-none","flex items-center justify-between","border-gray-300","focus:border-transparent","focus:ring-4 focus:ring-blue-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(59_130_246_/_0.5)]",N&&["border-red-300","focus:ring-red-500/20","focus:shadow-[0_0_0_2px_transparent,0_0_0_4px_rgb(239_68_68_/_0.5)]","animate-shake"],"disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed disabled:opacity-60","data-[placeholder]:text-gray-400"),"aria-invalid":N,"aria-describedby":s?`${j}-error`:l?`${j}-helper`:void 0,children:[u.jsx(Th,{placeholder:p}),u.jsx(Eh,{asChild:!0,children:u.jsx($a,{className:"w-4 h-4 text-gray-400"})})]}),u.jsx(Ah,{children:u.jsx(Mh,{className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden","rounded-lg border-2 border-gray-200 bg-white shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=top]:slide-in-from-bottom-2"),position:"popper",sideOffset:4,children:u.jsx(Lh,{className:"p-1",children:f})})})]}),s&&u.jsx("p",{id:`${j}-error`,className:"text-sm bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent font-medium animate-in fade-in slide-in-from-top-1 duration-200",role:"alert",children:s}),!s&&l&&u.jsx("p",{id:`${j}-helper`,className:"text-sm text-gray-500",children:l})]})});cq.displayName="GradientSelect";const dq=re.forwardRef(({className:e,children:s,...a},l)=>u.jsxs(Dh,{ref:l,className:cn("relative flex w-full cursor-pointer select-none items-center","rounded-md py-2 pl-8 pr-2 text-sm outline-none","transition-colors duration-200","text-gray-900","hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50","focus:bg-gradient-to-r focus:from-blue-50 focus:to-indigo-50","data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-500 data-[state=checked]:to-indigo-600","data-[state=checked]:text-white data-[state=checked]:font-medium","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Ih,{children:u.jsx(Ia,{className:"h-4 w-4"})})}),u.jsx(Oh,{children:s})]}));dq.displayName="GradientSelectItem";const uq=re.forwardRef(({className:e,label:s,description:a,error:l,containerClassName:c,id:p,...m},h)=>{const f=p||`checkbox-${re.useId()}`,g=!!l;return u.jsxs("div",{className:cn("space-y-2",c),children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(_m,{ref:h,id:f,className:cn("peer h-5 w-5 shrink-0 rounded-md border-2","transition-all duration-300 ease-in-out","outline-none cursor-pointer","border-gray-300 bg-white","focus-visible:ring-4 focus-visible:ring-blue-500/20","focus-visible:border-blue-500","data-[state=checked]:border-transparent","data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-500 data-[state=checked]:to-indigo-600","data-[state=checked]:shadow-md","hover:border-blue-400","data-[state=checked]:hover:shadow-lg data-[state=checked]:hover:scale-105",g&&["border-red-300","focus-visible:ring-red-500/20","focus-visible:border-red-500"],"disabled:cursor-not-allowed disabled:opacity-50","disabled:hover:border-gray-300 disabled:hover:scale-100",e),"aria-invalid":g,"aria-describedby":l?`${f}-error`:a?`${f}-description`:void 0,...m,children:u.jsx(Tm,{className:cn("flex items-center justify-center text-white","animate-in zoom-in-50 duration-200"),children:u.jsx(Ia,{className:"h-4 w-4",strokeWidth:3})})}),(s||a)&&u.jsxs("div",{className:"flex-1 space-y-1",children:[s&&u.jsx("label",{htmlFor:f,className:cn("text-sm font-medium leading-none cursor-pointer","peer-disabled:cursor-not-allowed peer-disabled:opacity-70",g?"text-red-600":"text-gray-900"),children:s}),a&&u.jsx("p",{id:`${f}-description`,className:cn("text-sm leading-snug",g?"text-red-500":"text-gray-500"),children:a})]})]}),l&&u.jsx("p",{id:`${f}-error`,className:"text-sm bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent font-medium animate-in fade-in slide-in-from-top-1 duration-200 ml-8",role:"alert",children:l})]})});uq.displayName="GradientCheckbox";const pq=[{id:1,title:"Agency Info",icon:ka},{id:2,title:"Contact Details",icon:Eo},{id:3,title:"Review",icon:wi}],mq=["Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Free State","Limpopo","Mpumalanga","North West","Northern Cape"];function AgencySetupWizard(){const[e,s]=re.useState(1),[a,l]=re.useState([]),[,c]=useLocation(),[p,m]=re.useState(!1),[h,f]=re.useState(!1),[g,b]=re.useState(!1),{register:j,handleSubmit:N,reset:k,watch:_,setValue:T,formState:{errors:E}}=useForm({mode:"onChange",defaultValues:{name:"",slug:"",description:"",website:"",email:"",phone:"",address:"",city:"",province:"",logo:null,termsAccepted:!1}}),A=At.agency.createOnboarding.useMutation(),{data:L}=At.auth.me.useQuery(),O=_();re.useEffect(()=>{if(O.name&&!O.slug){const e=O.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");T("slug",e)}},[O.name,O.slug,T]);const{lastSaved:I,isSaving:$,error:z}=useAutoSave({step:e,completedSteps:a,...O},{storageKey:"agency-registration-draft",debounceMs:2e3,enabled:e>1&&!A.isPending,onError:e=>{console.error("Auto-save error:",e),Gr.error("Failed to auto-save draft")}});re.useEffect(()=>{const e=localStorage.getItem("agency-registration-draft");if(e)try{const s=JSON.parse(e);(s.step>1||s.name||s.email)&&m(!0)}catch(s){console.error("Error parsing draft:",s),localStorage.removeItem("agency-registration-draft")}},[]),re.useEffect(()=>{L?.email&&!O.email&&T("email",L.email)},[L,O.email,T]);const validateStep=e=>{switch(e){case 1:return!(!O.name||!O.slug);case 2:return!!(O.email&&O.city&&O.province);case 3:return O.termsAccepted;default:return!1}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:[u.jsx(DraftManager,{open:p,onOpenChange:m,onResume:()=>{m(!1);const e=localStorage.getItem("agency-registration-draft");if(e)try{const a=JSON.parse(e);k({name:a.name||"",slug:a.slug||"",description:a.description||"",website:a.website||"",email:a.email||L?.email||"",phone:a.phone||"",address:a.address||"",city:a.city||"",province:a.province||"",logo:a.logo||null,termsAccepted:!1}),s(a.step||1),l(a.completedSteps||[]),Gr.success("Draft restored successfully!")}catch(a){console.error("Error restoring draft:",a),Gr.error("Failed to restore draft")}},onStartFresh:()=>{m(!1),localStorage.removeItem("agency-registration-draft"),k(),s(1),l([]),Gr.info("Starting fresh registration")},wizardType:"listing",draftData:{currentStep:e,totalSteps:3,developmentName:O.name,address:O.city&&O.province?`${O.city}, ${O.province}`:void 0,lastModified:I||void 0}}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center relative",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Agency Registration"}),u.jsx("p",{className:"text-gray-600",children:"Join our platform as a verified real estate agency"}),e>1&&u.jsx("div",{className:"absolute top-0 right-0",children:u.jsx(SaveStatusIndicator,{lastSaved:I,isSaving:$,error:z,variant:"compact"})})]}),u.jsx("div",{className:"mb-8",children:u.jsx(GradientProgressIndicator,{steps:pq,currentStep:e,completedSteps:a,onStepClick:e=>{a.includes(e)&&s(e)}})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border-2 border-white p-8",children:u.jsxs("form",{onSubmit:N(async e=>{try{if(!e.termsAccepted)return void Gr.error("Please accept the terms and conditions");await A.mutateAsync({basicInfo:{name:e.name,description:e.description||"A professional real estate agency",email:e.email,phone:e.phone||"",website:e.website||"",address:e.address||"",city:e.city,province:e.province},branding:{logoUrl:e.logo||void 0,primaryColor:"#3B82F6",secondaryColor:"#6366F1",tagline:"",companyName:e.name},teamEmails:[],planId:1}),Gr.success("Agency registered successfully!"),localStorage.removeItem("agency-registration-draft"),c("/agency/success")}catch(s){console.error(s),Gr.error(s.message||"Failed to register agency")}}),className:"space-y-6",children:[1===e&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Agency Information"}),u.jsx("p",{className:"text-gray-600",children:"Tell us about your real estate agency"})]}),u.jsx(oq,{label:"Agency Name",placeholder:"e.g. Premier Properties",required:!0,...j("name",{required:"Agency name is required"}),error:E.name?.message}),u.jsx(oq,{label:"URL Slug",placeholder:"premier-properties",required:!0,...j("slug",{required:"Slug is required"}),error:E.slug?.message,helperText:"This will be used in your agency's URL"}),u.jsx(lq,{label:"Agency Description",placeholder:"Tell us about your agency...",rows:4,autoResize:!0,...j("description"),helperText:"Brief overview of your agency and services"}),u.jsx(oq,{label:"Website",type:"url",placeholder:"https://www.example.com",...j("website"),helperText:"Your agency website (optional)"})]}),2===e&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Contact Details"}),u.jsx("p",{className:"text-gray-600",children:"How can clients reach your agency?"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(oq,{label:"Email Address",type:"email",placeholder:"contact@agency.com",required:!0,...j("email",{required:"Email is required"}),error:E.email?.message}),u.jsx(oq,{label:"Phone Number",type:"tel",placeholder:"+27 12 345 6789",...j("phone")})]}),u.jsx(oq,{label:"Physical Address",placeholder:"123 Main Street",...j("address")}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(oq,{label:"City",placeholder:"Cape Town",required:!0,...j("city",{required:"City is required"}),error:E.city?.message}),u.jsx(cq,{label:"Province",placeholder:"Select province",required:!0,value:O.province,onValueChange:e=>T("province",e),error:E.province?.message,children:mq.map(e=>u.jsx(dq,{value:e,children:e},e))})]})]}),3===e&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Review & Submit"}),u.jsx("p",{className:"text-gray-600",children:"Please review your information before submitting"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-100",children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),"Agency Information"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Agency Name"}),u.jsx("p",{className:"font-medium text-gray-900",children:O.name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"URL Slug"}),u.jsx("p",{className:"font-medium text-gray-900",children:O.slug})]}),O.website&&u.jsxs("div",{className:"col-span-2",children:[u.jsx("p",{className:"text-gray-600",children:"Website"}),u.jsx("p",{className:"font-medium text-gray-900",children:O.website})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-100",children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Eo,{className:"w-5 h-5 text-green-600"}),"Contact Details"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Email"}),u.jsx("p",{className:"font-medium text-gray-900",children:O.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Phone"}),u.jsx("p",{className:"font-medium text-gray-900",children:O.phone||"Not specified"})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("p",{className:"text-gray-600",children:"Location"}),u.jsxs("p",{className:"font-medium text-gray-900",children:[O.city,", ",O.province]})]})]})]})]}),u.jsx(uq,{label:"I accept the Terms and Conditions",description:"By checking this box, you agree to our Agency Terms of Service and Privacy Policy.",checked:O.termsAccepted,onCheckedChange:e=>T("termsAccepted",e),error:O.termsAccepted||3!==e?void 0:"You must accept the terms to continue"})]}),u.jsxs("div",{className:"flex justify-between items-center pt-6 border-t-2 border-gray-100",children:[u.jsx(iq,{type:"button",variant:"outline",onClick:()=>{e>1&&s(e-1)},disabled:1===e,children:"Back"}),u.jsxs("div",{className:"flex gap-3",children:[e<3&&u.jsx(iq,{type:"button",variant:"outline",icon:g?Ia:Fo,onClick:async()=>{f(!0),b(!1);try{await new Promise(e=>setTimeout(e,500)),b(!0),Gr.success("Draft saved successfully!"),setTimeout(()=>b(!1),2e3)}catch(e){console.error("Error saving draft:",e),Gr.error("Failed to save draft")}finally{f(!1)}},disabled:h,children:g?"Saved":h?"Saving...":"Save Draft"}),e<3?u.jsx(iq,{type:"button",variant:"primary",onClick:()=>{validateStep(e)?(l([...a,e]),s(e+1)):Gr.error("Please fill in all required fields")},disabled:!validateStep(e),children:"Next Step"}):u.jsx(iq,{type:"submit",variant:"success",loading:A.isPending,disabled:!O.termsAccepted,children:"Submit Application"})]})]})]})})]})]})}const hq={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},fq={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-red-500"},gq={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4"};function AvatarBubble({src:e,alt:s,name:a,size:l="md",status:c=null,onClick:p,className:m=""}){const[h,f]=re.useState(!1),g=!!p,b=s||a||"User",j=a?function getInitials(e){const s=e.trim().split(" ");return s.length>=2?`${s[0][0]}${s[s.length-1][0]}`.toUpperCase():e.slice(0,2).toUpperCase()}(a):null;return u.jsxs(kb.div,{className:cn(hq[l],"rounded-full overflow-hidden shadow-md","relative flex-shrink-0",g&&"cursor-pointer",m),onClick:p,whileHover:g?{scale:1.05}:void 0,whileTap:g?{scale:.95}:void 0,transition:{duration:.15,ease:"easeOut"},role:g?"button":void 0,"aria-label":g?`View ${b}'s profile`:b,tabIndex:g?0:void 0,onKeyDown:g?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),p?.())}:void 0,children:[e&&!h?u.jsx("img",{src:e,alt:b,className:"w-full h-full object-cover",onError:()=>f(!0)}):j?u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-indigo-600 text-white font-semibold",children:j}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:u.jsx(Sl,{className:"w-1/2 h-1/2"})}),c&&u.jsx("div",{className:cn(gq[l],fq[c],"absolute bottom-0 right-0","rounded-full border-2 border-white","shadow-sm"),"aria-label":`Status: ${c}`})]})}const xq={text:"h-4 rounded",card:"h-64 rounded-lg",avatar:"w-10 h-10 rounded-full",video:"aspect-[9/16] rounded-lg",custom:""};function ModernSkeleton({variant:e="text",width:s,height:a,className:l="",count:c=1}){const p={width:s||("text"===e?"100%":void 0),height:a},m=Array.from({length:c},(s,a)=>u.jsx(kb.div,{className:cn(xq[e],"bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200","bg-[length:200%_100%]",l),style:p,animate:{backgroundPosition:["0% 0%","100% 0%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},"aria-label":"Loading...",role:"status"},a));return c>1?u.jsx("div",{className:"space-y-3",children:m}):m[0]}function PropertyCardSkeleton(){return u.jsxs("div",{className:"modern-card p-0 overflow-hidden",role:"status","aria-label":"Loading property",children:[u.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[u.jsx(ModernSkeleton,{variant:"custom",className:"absolute inset-0 rounded-t-lg"}),u.jsx("div",{className:"absolute top-3 left-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"80px",height:"24px",className:"rounded-full"})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"40px",height:"40px",className:"rounded-full"})})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"50%",height:"28px",className:"rounded"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"text",width:"90%"}),u.jsx(ModernSkeleton,{variant:"text",width:"70%"})]}),u.jsx(ModernSkeleton,{variant:"text",width:"60%"}),u.jsxs("div",{className:"flex items-center gap-4 pt-1",children:[u.jsx(ModernSkeleton,{variant:"text",width:"50px"}),u.jsx(ModernSkeleton,{variant:"text",width:"50px"}),u.jsx(ModernSkeleton,{variant:"text",width:"60px"})]})]})]})}function VideoCardSkeleton(){return u.jsxs("div",{className:"modern-card p-0 overflow-hidden",role:"status","aria-label":"Loading video",children:[u.jsxs("div",{className:"relative aspect-[9/16] overflow-hidden bg-gray-100",children:[u.jsx(ModernSkeleton,{variant:"custom",className:"absolute inset-0 rounded-t-lg"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(ModernSkeleton,{variant:"custom",width:"64px",height:"64px",className:"rounded-full"})}),u.jsx("div",{className:"absolute bottom-3 right-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"48px",height:"24px",className:"rounded"})}),u.jsx("div",{className:"absolute bottom-3 left-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"60px",height:"24px",className:"rounded"})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"40px",height:"40px",className:"rounded-full"})})]}),u.jsxs("div",{className:"p-3 space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"text",width:"95%"}),u.jsx(ModernSkeleton,{variant:"text",width:"75%"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ModernSkeleton,{variant:"avatar",className:"w-6 h-6"}),u.jsx(ModernSkeleton,{variant:"text",width:"100px"})]})]})]})}function NeighbourhoodCardSkeleton(){return u.jsxs("div",{className:"modern-card p-0 overflow-hidden",role:"status","aria-label":"Loading neighbourhood",children:[u.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden bg-gray-100",children:[u.jsx(ModernSkeleton,{variant:"custom",className:"absolute inset-0 rounded-t-lg"}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(ModernSkeleton,{variant:"custom",width:"80px",height:"36px",className:"rounded-full"})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"60%",height:"28px",className:"rounded bg-white/30"}),u.jsx(ModernSkeleton,{variant:"custom",width:"40%",height:"20px",className:"rounded bg-white/30"})]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"text",width:"60px"}),u.jsx(ModernSkeleton,{variant:"custom",width:"100px",height:"24px",className:"rounded"})]}),u.jsx(ModernSkeleton,{variant:"custom",width:"60px",height:"24px",className:"rounded"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"80px",height:"28px",className:"rounded-full"}),u.jsx(ModernSkeleton,{variant:"custom",width:"90px",height:"28px",className:"rounded-full"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ModernSkeleton,{variant:"text",width:"100px"}),u.jsx(ModernSkeleton,{variant:"text",width:"90px"})]})]})]})}function InsightCardSkeleton(){return u.jsxs("div",{className:"modern-card p-0 overflow-hidden",role:"status","aria-label":"Loading insight",children:[u.jsxs("div",{className:"relative p-4 bg-gradient-to-br from-gray-300 to-gray-400",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"40px",height:"40px",className:"rounded-full bg-white/30"}),u.jsx(ModernSkeleton,{variant:"custom",width:"60px",height:"24px",className:"rounded-full bg-white/30"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"120px",height:"36px",className:"rounded bg-white/30"}),u.jsx(ModernSkeleton,{variant:"custom",width:"100px",height:"20px",className:"rounded bg-white/30"})]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"80%",height:"20px",className:"rounded"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"text",width:"100%"}),u.jsx(ModernSkeleton,{variant:"text",width:"95%"}),u.jsx(ModernSkeleton,{variant:"text",width:"70%"})]})]}),u.jsx("div",{className:"relative h-32 overflow-hidden bg-gray-100",children:u.jsx(ModernSkeleton,{variant:"custom",className:"absolute inset-0"})}),u.jsx("div",{className:"px-4 pb-4 pt-2",children:u.jsx(ModernSkeleton,{variant:"text",width:"100px"})})]})}function VideoPlaybackDemo(){const{videoRef:e,containerRef:s,isPlaying:a,isBuffering:l,error:c,inView:p,retry:m}=useVideoPlayback({preloadNext:!0,threshold:.5});return u.jsxs(ModernCard,{children:[u.jsxs("div",{ref:s,className:"relative",children:[u.jsx("video",{ref:e,src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",poster:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",className:"w-full h-64 object-cover rounded-lg",loop:!0,muted:!0,playsInline:!0}),u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[u.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+(p?"bg-green-500 text-white":"bg-gray-500 text-white"),children:p?"In View":"Out of View"}),u.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+(a?"bg-blue-500 text-white":"bg-gray-500 text-white"),children:a?"Playing":"Paused"})]}),l&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:u.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3",children:u.jsx(no,{className:"w-8 h-8 text-indigo-600 animate-spin"})})}),c&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:u.jsxs("div",{className:"text-center p-4",children:[u.jsx(Va,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),u.jsx("p",{className:"text-white text-sm mb-3",children:c.message}),u.jsx("button",{onClick:m,className:"accent-btn px-4 py-2 text-white text-sm",children:"Retry"})]})})]}),u.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"In Viewport:"}),u.jsx("span",{className:"font-medium",children:p?"Yes":"No"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Playing:"}),u.jsx("span",{className:"font-medium",children:a?"Yes":"No"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Buffering:"}),u.jsx("span",{className:"font-medium",children:l?"Yes":"No"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Error:"}),u.jsx("span",{className:"font-medium",children:c?"Yes":"No"})]})]})]})}function ExploreComponentDemo(){const[e,s]=re.useState("all"),[a,l]=re.useState(!1),[c,p]=re.useState("default"),[m,h]=re.useState(!1),[f,g]=re.useState("md");return u.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Explore Component Library"}),u.jsx("p",{className:"text-gray-600",children:"Hybrid Modern + Soft UI Design System - Interactive Component Showcase"}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Route: ",u.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded",children:"/explore/component-demo"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Interactive Controls"}),u.jsx(ModernCard,{className:"p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Variant"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>p("default"),className:"px-3 py-1 rounded text-sm "+("default"===c?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Default"}),u.jsx("button",{onClick:()=>p("glass"),className:"px-3 py-1 rounded text-sm "+("glass"===c?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Glass"}),u.jsx("button",{onClick:()=>p("elevated"),className:"px-3 py-1 rounded text-sm "+("elevated"===c?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Elevated"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button State"}),u.jsxs("button",{onClick:()=>h(!m),className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:[m?"Enable":"Disable"," Buttons"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pill Size"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>g("sm"),className:"px-3 py-1 rounded text-sm "+("sm"===f?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Small"}),u.jsx("button",{onClick:()=>g("md"),className:"px-3 py-1 rounded text-sm "+("md"===f?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Medium"}),u.jsx("button",{onClick:()=>g("lg"),className:"px-3 py-1 rounded text-sm "+("lg"===f?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700"),children:"Large"})]})]})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"ModernCard"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Versatile card component with hover animations and multiple variants"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(ModernCard,{variant:"default",hoverable:!0,children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Default Card"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Clean white background with subtle shadow. Hover to see lift animation."})]}),u.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 p-6 rounded-lg",children:u.jsxs(ModernCard,{variant:"glass",hoverable:!0,children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Glass Card"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Semi-transparent with blur effect. Perfect for overlays."})]})}),u.jsxs(ModernCard,{variant:"elevated",hoverable:!0,children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Elevated Card"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Higher elevation with larger shadow. Use for important content."})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Interactive Card (Click Me!)"}),u.jsx(ModernCard,{variant:c,onClick:()=>alert("Card clicked!"),className:"max-w-md",children:u.jsxs("div",{className:"p-4",children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Clickable Card"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["This card has an onClick handler. Try clicking it! Current variant: ",c]})]})})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"IconButton"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Icon buttons with smooth animations and multiple variants. Try hovering and clicking!"}),u.jsxs("div",{className:"flex flex-wrap gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Default Variant"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(IconButton,{icon:$i,onClick:()=>alert("Liked!"),label:"Like",size:"sm",disabled:m}),u.jsx(IconButton,{icon:$i,onClick:()=>alert("Liked!"),label:"Like",size:"md",disabled:m}),u.jsx(IconButton,{icon:$i,onClick:()=>alert("Liked!"),label:"Like",size:"lg",disabled:m})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Glass Variant (on gradient)"}),u.jsxs("div",{className:"flex gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 p-4 rounded-lg",children:[u.jsx(IconButton,{icon:Wo,onClick:()=>alert("Shared!"),label:"Share",variant:"glass",size:"sm",disabled:m}),u.jsx(IconButton,{icon:Wo,onClick:()=>alert("Shared!"),label:"Share",variant:"glass",size:"md",disabled:m}),u.jsx(IconButton,{icon:Wo,onClick:()=>alert("Shared!"),label:"Share",variant:"glass",size:"lg",disabled:m})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Accent Variant"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(IconButton,{icon:Ao,onClick:()=>alert("Playing!"),label:"Play",variant:"accent",size:"sm",disabled:m}),u.jsx(IconButton,{icon:Ao,onClick:()=>alert("Playing!"),label:"Play",variant:"accent",size:"md",disabled:m}),u.jsx(IconButton,{icon:Ao,onClick:()=>alert("Playing!"),label:"Play",variant:"accent",size:"lg",disabled:m})]})]})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-4",children:m?" Buttons are disabled":"Use the controls above to disable buttons"})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"MicroPill"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Category chips with selection states. Click to select, hover for animation."}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Default Variant (Size: ",f,")"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(MicroPill,{label:"All",selected:"all"===e,onClick:()=>s("all"),size:f}),u.jsx(MicroPill,{label:"Houses",icon:Bi,selected:"houses"===e,onClick:()=>s("houses"),size:f}),u.jsx(MicroPill,{label:"Apartments",icon:ka,selected:"apartments"===e,onClick:()=>s("apartments"),size:f}),u.jsx(MicroPill,{label:"Developments",icon:Li,selected:"developments"===e,onClick:()=>s("developments"),size:f})]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Accent Variant (Size: ",f,")"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(MicroPill,{label:"Featured",icon:el,variant:"accent",selected:"featured"===e,onClick:()=>s("featured"),size:f}),u.jsx(MicroPill,{label:"Near You",icon:lo,variant:"accent",selected:"near"===e,onClick:()=>s("near"),size:f})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Disabled State"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(MicroPill,{label:"Disabled",disabled:!0,size:f}),u.jsx(MicroPill,{label:"Disabled Selected",selected:!0,disabled:!0,size:f})]})]})]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently selected: ",u.jsx("strong",{children:e})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"AvatarBubble"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"User avatars with status indicators and fallback states"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Size Variants"}),u.jsxs("div",{className:"flex items-end gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=1",alt:"User",size:"xs"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"xs"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=2",alt:"User",size:"sm"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"sm"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=3",alt:"User",size:"md"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"md"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=4",alt:"User",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"lg"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=5",alt:"User",size:"xl"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"xl"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Status Indicators"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=6",alt:"Online User",status:"online",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Online"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=7",alt:"Busy User",status:"busy",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busy"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=8",alt:"Offline User",status:"offline",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Offline"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Fallback States"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{name:"John Doe",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Initials"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(AvatarBubble,{alt:"No Image",size:"lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Icon"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Interactive (Clickable)"}),u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=9",alt:"Clickable Avatar",size:"xl",status:"online",onClick:()=>alert("Avatar clicked!")})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"InsightCard (Refactored)"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Market insights with modern design, accent colors, and rich micro-interactions"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:1,title:"Sandton Property Market Surging",description:"Average property prices in Sandton have increased significantly over the past quarter, driven by high demand and limited supply.",insightType:"market-trend",data:{value:"R 2.5M",change:12.5,label:"Average price"},imageUrl:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400"},onClick:()=>alert("Market trend clicked!")})}),u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:2,title:"Cape Town Coastal Properties",description:"Coastal property prices are showing signs of stabilization with slight decreases in some areas.",insightType:"price-analysis",data:{value:"R 4.2M",change:-3.2,label:"Median price"},imageUrl:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=400"},onClick:()=>alert("Price analysis clicked!")})}),u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:3,title:"Best Time to Invest",description:"Market analysis suggests Q2 2024 is optimal for Johannesburg investments with favorable interest rates.",insightType:"investment-tip",data:{value:"8.5%",change:2.1,label:"Rental yield"}},onClick:()=>alert("Investment tip clicked!")})}),u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:4,title:"Rosebank: The New Business Hub",description:"Rosebank is emerging as a prime business district with new developments and excellent transport links.",insightType:"area-spotlight",imageUrl:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400"},onClick:()=>alert("Area spotlight clicked!")})}),u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:5,title:"Understanding Transfer Costs",description:"Learn about the various costs involved in property transfers, including transfer duty and legal fees.",insightType:"investment-tip"},onClick:()=>alert("Simple insight clicked!")})}),u.jsx("div",{children:u.jsx(InsightCard,{insight:{id:6,title:"Pretoria East Boom",description:"The Pretoria East property market is experiencing unprecedented growth with new developments.",insightType:"market-trend",data:{value:"R 1.8M",change:18.7,label:"Average price"},imageUrl:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400"},onClick:()=>alert("Boom insight clicked!")})})]}),u.jsx("div",{className:"mt-6",children:u.jsxs(ModernCard,{className:"p-6 bg-purple-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-purple-900",children:"Micro-interactions"}),u.jsxs("ul",{className:"space-y-2 text-sm text-purple-800",children:[u.jsx("li",{children:" Icon: Scale 1.1 + 5 rotation on hover"}),u.jsx("li",{children:" Badge: Fade in from right with 0.1s delay"}),u.jsx("li",{children:" Data: Fade in from bottom with 0.15s delay"}),u.jsx("li",{children:" Change indicator: Slides right 2px on hover"}),u.jsx("li",{children:" Image: Scales to 1.05 on hover (500ms smooth)"}),u.jsx("li",{children:" Arrow: Continuous pulse animation (0  4px  0)"}),u.jsx("li",{children:" Title: Color transition to indigo on card hover"})]})]})}),u.jsx("div",{className:"mt-6",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[" For complete documentation, see"," ",u.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"client/src/components/explore-discovery/cards/InsightCard.README.md"})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Video Playback Hook"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Viewport-based auto-play/pause with IntersectionObserver. Scroll the video in/out of view to see it work!"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(VideoPlaybackDemo,{}),u.jsxs(ModernCard,{children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Auto-play when 50% visible in viewport"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Auto-pause when exiting viewport"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Buffering state detection"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Error handling with retry logic"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Exponential backoff for retries (max 3)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:""}),u.jsx("span",{children:"Low-bandwidth mode support"})]})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:u.jsxs("p",{className:"text-xs text-blue-800",children:[u.jsx("strong",{children:"Tip:"})," Scroll the page to see the video auto-play/pause based on viewport visibility!"]})})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Skeleton States"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Skeleton loaders with subtle pulse animation that match actual card layouts precisely. Requirements: 7.4"}),u.jsxs("button",{onClick:()=>l(!a),className:"accent-btn px-6 py-3 mb-6 text-white",children:[a?"Hide":"Show"," Skeleton Loaders"]}),a&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"PropertyCard Skeleton"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Matches PropertyCard layout: Image (aspect-[4/3]), price, title (2 lines), location, features"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(PropertyCardSkeleton,{}),u.jsx(PropertyCardSkeleton,{}),u.jsx(PropertyCardSkeleton,{})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"VideoCard Skeleton"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Matches VideoCard layout: Thumbnail (aspect-[9/16]), play button, badges, title, creator"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(VideoCardSkeleton,{}),u.jsx(VideoCardSkeleton,{}),u.jsx(VideoCardSkeleton,{}),u.jsx(VideoCardSkeleton,{})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"NeighbourhoodCard Skeleton"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Matches NeighbourhoodCard layout: Image (aspect-[16/10]), follow button, name overlay, stats, highlights"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(NeighbourhoodCardSkeleton,{}),u.jsx(NeighbourhoodCardSkeleton,{}),u.jsx(NeighbourhoodCardSkeleton,{})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"InsightCard Skeleton"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Matches InsightCard layout: Gradient header, icon, badge, data value, title, description, image"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(InsightCardSkeleton,{}),u.jsx(InsightCardSkeleton,{}),u.jsx(InsightCardSkeleton,{})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Base Skeleton Variants"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Reusable skeleton primitives for custom layouts"}),u.jsx(ModernCard,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Text Variant"}),u.jsx(ModernSkeleton,{variant:"text"}),u.jsx(ModernSkeleton,{variant:"text",width:"80%"}),u.jsx(ModernSkeleton,{variant:"text",width:"60%"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Avatar Variant"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(ModernSkeleton,{variant:"avatar"}),u.jsx(ModernSkeleton,{variant:"avatar"}),u.jsx(ModernSkeleton,{variant:"avatar"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Card Variant"}),u.jsx(ModernSkeleton,{variant:"card"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Dimensions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ModernSkeleton,{variant:"custom",width:"200px",height:"40px",className:"rounded-lg"}),u.jsx(ModernSkeleton,{variant:"custom",width:"150px",height:"30px",className:"rounded-full"}),u.jsx(ModernSkeleton,{variant:"custom",width:"100%",height:"120px",className:"rounded-xl"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Multiple Lines (count prop)"}),u.jsx(ModernSkeleton,{variant:"text",count:4})]})]})})]}),u.jsxs(ModernCard,{className:"p-6 bg-purple-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-purple-900",children:"Animation Details"}),u.jsxs("ul",{className:"space-y-2 text-sm text-purple-800",children:[u.jsx("li",{children:" Subtle pulse animation using gradient background position"}),u.jsx("li",{children:" 1.5s duration with linear easing for smooth continuous motion"}),u.jsx("li",{children:" Gradient: from-gray-200 via-gray-100 to-gray-200"}),u.jsx("li",{children:" Background size: 200% width for smooth sweep effect"}),u.jsx("li",{children:" Respects prefers-reduced-motion (Framer Motion handles this)"}),u.jsx("li",{children:' ARIA labels for accessibility (role="status", aria-label="Loading...")'})]})]}),u.jsxs(ModernCard,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Usage Example"}),u.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:u.jsx("pre",{className:"text-xs",children:'import { \n  PropertyCardSkeleton,\n  VideoCardSkeleton,\n  NeighbourhoodCardSkeleton,\n  InsightCardSkeleton,\n  ModernSkeleton \n} from \'@/components/ui/soft/ModernSkeleton\';\n\n// Use card-specific skeletons\nfunction PropertyFeed() {\n  const { data, isLoading } = useQuery(\'properties\');\n  \n  if (isLoading) {\n    return (\n      <div className="grid grid-cols-3 gap-6">\n        <PropertyCardSkeleton />\n        <PropertyCardSkeleton />\n        <PropertyCardSkeleton />\n      </div>\n    );\n  }\n  \n  return <PropertyGrid properties={data} />;\n}\n\n// Use base skeleton for custom layouts\nfunction CustomCard() {\n  return (\n    <div className="modern-card p-4">\n      <div className="flex items-center gap-3 mb-3">\n        <ModernSkeleton variant="avatar" />\n        <div className="flex-1">\n          <ModernSkeleton variant="text" width="60%" />\n          <ModernSkeleton variant="text" width="40%" />\n        </div>\n      </div>\n      <ModernSkeleton variant="text" count={3} />\n    </div>\n  );\n}'})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Side-by-Side Comparison"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Skeleton layouts match actual card layouts precisely for seamless loading states"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skeleton State"}),u.jsx(PropertyCardSkeleton,{})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Loaded State"}),u.jsxs(ModernCard,{className:"p-0 overflow-hidden",children:[u.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=400&h=300&fit=crop",alt:"Property",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-black/70 backdrop-blur-sm rounded-full text-white text-xs font-medium",children:"Residential"})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx("div",{className:"text-xl font-bold text-gray-900",children:"R 2,500,000"}),u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Modern Family Home in Sandton"}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(lo,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Sandton, Johannesburg"})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Bi,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:"4"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Bi,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:"3"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Bi,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:"350m"})]})]})]})]})]})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Interactive Example"}),u.jsxs(ModernCard,{hoverable:!0,className:"max-w-md",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx(AvatarBubble,{src:"https://i.pravatar.cc/150?img=8",alt:"Agent",size:"lg",status:"online"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold",children:"Luxury Villa in Sandton"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Sandton, Johannesburg"})]})]}),u.jsx("img",{src:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=400&h=300&fit=crop",alt:"Property",className:"w-full h-48 object-cover rounded-lg mb-4"}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx(MicroPill,{label:"5 Beds",icon:Bi,size:"sm"}),u.jsx(MicroPill,{label:"4 Baths",size:"sm"}),u.jsx(MicroPill,{label:"450 m",size:"sm"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"R 8,500,000"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(IconButton,{icon:$i,onClick:()=>{},label:"Save"}),u.jsx(IconButton,{icon:Wo,onClick:()=>{},label:"Share"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Animation Examples"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"All animations respect prefers-reduced-motion and use smooth easing curves"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ModernCard,{children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Hover Animations"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Hover over these elements to see subtle lift and scale effects"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(ModernCard,{variant:"default",hoverable:!0,className:"p-3",children:u.jsx("p",{className:"text-sm",children:"Hover me - Subtle lift (2px)"})}),u.jsx(ModernCard,{variant:"elevated",hoverable:!0,className:"p-3",children:u.jsx("p",{className:"text-sm",children:"Hover me - Scale + Shadow"})})]})]}),u.jsxs(ModernCard,{children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Press Animations"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click these elements to see press feedback"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(ModernCard,{variant:"default",onClick:()=>{},className:"p-3",children:u.jsx("p",{className:"text-sm",children:"Click me - Scale down (0.98)"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(IconButton,{icon:$i,onClick:()=>{},label:"Press animation"}),u.jsx(MicroPill,{label:"Press me",onClick:()=>{}})]})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Design Tokens"}),u.jsx(ModernCard,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Shadows"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"p-3 bg-white rounded-lg",style:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"sm: Subtle"}),u.jsx("div",{className:"p-3 bg-white rounded-lg",style:{boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.08)"},children:"md: Default"}),u.jsx("div",{className:"p-3 bg-white rounded-lg",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:"lg: Elevated"}),u.jsx("div",{className:"p-3 bg-white rounded-lg",style:{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:"xl: High"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Border Radius"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:"lg: 1rem (16px)"}),u.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:"xl: 1.5rem (24px)"}),u.jsx("div",{className:"p-3 bg-indigo-100 rounded-full",children:"pill: 9999px"})]})]})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Usage Guide"}),u.jsx(ModernCard,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Importing Components"}),u.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:"import { ModernCard } from '@/components/ui/soft/ModernCard';\nimport { IconButton } from '@/components/ui/soft/IconButton';\nimport { MicroPill } from '@/components/ui/soft/MicroPill';\nimport { AvatarBubble } from '@/components/ui/soft/AvatarBubble';\nimport { ModernSkeleton } from '@/components/ui/soft/ModernSkeleton';"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Design Tokens"}),u.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:"import { designTokens } from '@/lib/design-tokens';\n\n// Access tokens\nconst shadow = designTokens.shadows.md;\nconst radius = designTokens.borderRadius.lg;\nconst spacing = designTokens.spacing.md;"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Animation Variants"}),u.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:"import { cardVariants, buttonVariants } from '@/lib/animations/exploreAnimations';\nimport { motion } from 'framer-motion';\n\n<motion.div variants={cardVariants} initial=\"initial\" animate=\"animate\">\n  Content\n</motion.div>"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Tailwind Utilities"}),u.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:"// Available custom utilities\n.modern-card       // Default card with shadow\n.glass-overlay     // Glass effect with blur\n.modern-btn        // Modern button style\n.accent-btn        // Accent gradient button"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Best Practices"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[u.jsx("li",{children:"Use ModernCard for all card-based layouts"}),u.jsx("li",{children:"Apply hoverable prop only when cards are interactive"}),u.jsx("li",{children:"Use glass variant for overlays on images/videos"}),u.jsx("li",{children:"Always provide aria-label for IconButtons"}),u.jsx("li",{children:"Use MicroPill for filters and category selection"}),u.jsx("li",{children:"Respect prefers-reduced-motion in custom animations"}),u.jsx("li",{children:"Use skeleton loaders during data fetching"})]})]})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Video Preloading System"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Intelligent video preloading with network speed detection and adaptive loading."}),u.jsxs(ModernCard,{className:"p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:" Preload next 2 videos in feed automatically"}),u.jsx("li",{children:" Network speed detection using Network Information API"}),u.jsx("li",{children:" Low-bandwidth mode with poster images"}),u.jsx("li",{children:" Manual play button for slow connections"}),u.jsx("li",{children:" Adaptive loading based on connection quality"}),u.jsx("li",{children:" Automatic cleanup of out-of-range preloaded videos"})]})]}),u.jsxs(ModernCard,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Usage Example"}),u.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:u.jsx("pre",{className:"text-xs",children:"import { useVideoPreload } from '@/hooks/useVideoPreload';\n\nconst { isLowBandwidth, networkInfo, isPreloaded } = useVideoPreload({\n  currentIndex: 0,\n  videoUrls: videos.map(v => v.url),\n  preloadCount: 2,\n  onNetworkChange: (info) => {\n    console.log('Network changed:', info);\n  },\n});\n\n// Use in video component\n<video\n  src={video.url}\n  preload={isPreloaded(video.url) ? 'auto' : 'metadata'}\n  poster={video.thumbnailUrl}\n/>\n\n// Show manual play button in low-bandwidth mode\n{isLowBandwidth && !isPlaying && (\n  <button onClick={play}>\n    <Play /> Tap to play\n  </button>\n)}"})})]}),u.jsx("div",{className:"mt-6",children:u.jsxs(ModernCard,{className:"p-6 bg-blue-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-blue-900",children:"Network Detection"}),u.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"The hook automatically detects low-bandwidth connections based on:"}),u.jsxs("ul",{className:"space-y-2 text-sm text-blue-700",children:[u.jsx("li",{children:" Save Data Mode: User has enabled data saver in browser"}),u.jsx("li",{children:" Connection Type: 2g or slow-2g connections"}),u.jsx("li",{children:" Downlink Speed: < 1.5 Mbps"}),u.jsx("li",{children:" Round-Trip Time: > 300ms"})]})]})}),u.jsx("div",{className:"mt-6",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[" For complete documentation, see"," ",u.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"client/src/hooks/useVideoPreload.README.md"})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"FilterPanel (Refactored)"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Modern filter panel with Zustand integration and Airbnb-inspired chip-style filters."}),u.jsxs(ModernCard,{className:"p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:" Zustand store integration for global state management"}),u.jsx("li",{children:" Modern chip-style filters using MicroPill component"}),u.jsx("li",{children:" Subtle shadows instead of heavy neumorphism"}),u.jsx("li",{children:" Clear Apply and Reset buttons with animations"}),u.jsx("li",{children:" Smooth slide-in animation with spring physics"}),u.jsx("li",{children:" Filter count indicator and active filter display"}),u.jsx("li",{children:" Persists to localStorage automatically"}),u.jsx("li",{children:" Keyboard accessible with proper ARIA labels"})]})]}),u.jsxs(ModernCard,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Usage Example"}),u.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:u.jsx("pre",{className:"text-xs",children:"import { FilterPanel } from '@/components/explore-discovery/FilterPanel';\nimport { useExploreFiltersStore } from '@/store/exploreFiltersStore';\n\nfunction MyComponent() {\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const { getFilterCount } = useExploreFiltersStore();\n\n  const handleApplyFilters = () => {\n    // Trigger data fetch with current filter state\n    console.log('Filters applied!');\n  };\n\n  return (\n    <>\n      <button onClick={() => setIsFilterOpen(true)}>\n        Filters ({getFilterCount()})\n      </button>\n\n      <FilterPanel\n        isOpen={isFilterOpen}\n        onClose={() => setIsFilterOpen(false)}\n        onApply={handleApplyFilters}\n      />\n    </>\n  );\n}"})})]}),u.jsx("div",{className:"mt-6",children:u.jsxs(ModernCard,{className:"p-6 bg-indigo-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-indigo-900",children:"Simplified API"}),u.jsx("p",{className:"text-sm text-indigo-800 mb-3",children:"The refactored FilterPanel has a much simpler API compared to the old version:"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-indigo-900 mb-2",children:"Old API (13 props):"}),u.jsxs("ul",{className:"space-y-1 text-indigo-700 text-xs",children:[u.jsx("li",{children:" isOpen, onClose"}),u.jsx("li",{children:" propertyType, onPropertyTypeChange"}),u.jsx("li",{children:" priceMin, priceMax, onPriceChange"}),u.jsx("li",{children:" residentialFilters, onResidentialFiltersChange"}),u.jsx("li",{children:" developmentFilters, onDevelopmentFiltersChange"}),u.jsx("li",{children:" landFilters, onLandFiltersChange"}),u.jsx("li",{children:" filterCount, onClearAll"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-indigo-900 mb-2",children:"New API (3 props):"}),u.jsxs("ul",{className:"space-y-1 text-indigo-700 text-xs",children:[u.jsx("li",{children:" isOpen"}),u.jsx("li",{children:" onClose"}),u.jsx("li",{children:" onApply (optional)"})]}),u.jsx("p",{className:"text-indigo-600 mt-2 text-xs",children:"All filter state is managed by Zustand! "})]})]})]})}),u.jsx("div",{className:"mt-6",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[" For complete documentation, see"," ",u.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"client/src/components/explore-discovery/FilterPanel.README.md"})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Mobile Filter Bottom Sheet"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Drag-to-close bottom sheet with snap points, keyboard navigation, and focus trap."}),u.jsxs(ModernCard,{className:"p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:" Drag-to-close functionality with velocity detection"}),u.jsx("li",{children:" Snap points: Half (50%) and Full (90%)"}),u.jsx("li",{children:" Keyboard navigation with Tab/Shift+Tab"}),u.jsx("li",{children:" Focus trap - focus stays within sheet"}),u.jsx("li",{children:" Escape key to close"}),u.jsx("li",{children:" Full feature parity with desktop side panel"}),u.jsx("li",{children:" WCAG AA accessibility compliance"}),u.jsx("li",{children:" Touch-optimized with 44x44px minimum targets"})]})]}),u.jsxs(ModernCard,{className:"p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Responsive Wrapper"}),u.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:u.jsx("pre",{className:"text-xs",children:"import { ResponsiveFilterPanel } from '@/components/explore-discovery/ResponsiveFilterPanel';\n\n// Automatically uses mobile bottom sheet on mobile, desktop panel on desktop\n<ResponsiveFilterPanel\n  isOpen={isOpen}\n  onClose={() => setIsOpen(false)}\n  onApply={() => console.log('Filters applied')}\n/>"})})]}),u.jsxs(ModernCard,{className:"p-6 bg-green-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-green-900",children:"Snap Point Behavior"}),u.jsxs("div",{className:"space-y-3 text-sm text-green-800",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium mb-1",children:"Automatic Snapping:"}),u.jsxs("ul",{className:"space-y-1 text-green-700 text-xs ml-4",children:[u.jsx("li",{children:" Drag down from full  Snaps to half"}),u.jsx("li",{children:" Drag down from half  Closes sheet"}),u.jsx("li",{children:" Drag up from half  Snaps to full"}),u.jsx("li",{children:" Fast swipe down  Closes immediately"}),u.jsx("li",{children:" Fast swipe up  Opens to full immediately"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium mb-1",children:"Thresholds:"}),u.jsxs("ul",{className:"space-y-1 text-green-700 text-xs ml-4",children:[u.jsx("li",{children:" Velocity: 500px/s"}),u.jsx("li",{children:" Offset: 20% down, 10% up"})]})]})]})]}),u.jsx("div",{className:"mt-6",children:u.jsxs(ModernCard,{className:"p-6 bg-blue-50",children:[u.jsx("h3",{className:"font-semibold mb-3 text-blue-900",children:"Keyboard Shortcuts"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Tab"}),u.jsx("p",{className:"text-blue-700 text-xs",children:"Next element"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Shift + Tab"}),u.jsx("p",{className:"text-blue-700 text-xs",children:"Previous element"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Escape"}),u.jsx("p",{className:"text-blue-700 text-xs",children:"Close sheet"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"Enter/Space"}),u.jsx("p",{className:"text-blue-700 text-xs",children:"Activate button"})]})]})]})}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("p",{className:"text-sm text-gray-600",children:[" For complete documentation, see"," ",u.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"client/src/components/explore-discovery/MobileFilterBottomSheet.README.md"})]}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" To test on desktop, resize your browser to mobile width (<768px) or use device emulation"})]})]}),u.jsxs("section",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500 text-sm",children:"Explore Frontend Refinement - Component Library v1.0"}),u.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Built with React, Framer Motion, and Tailwind CSS"})]})]})})}function LocationAutocomplete({value:e="",onValueChange:s,onLocationSelect:a,placeholder:l="Enter location...",type:c="all",className:p}){const[m,h]=re.useState(!1),[f,g]=re.useState(e),[b,j]=re.useState("");re.useEffect(()=>{const e=setTimeout(()=>{j(f)},300);return()=>clearTimeout(e)},[f]);const{data:N,isLoading:k}=At.location.searchLocations.useQuery({query:b,type:c,limit:10},{enabled:b.length>2});return u.jsxs(Popover,{open:m,onOpenChange:h,children:[u.jsx(PopoverTrigger,{asChild:!0,children:u.jsxs("div",{className:`relative ${p}`,children:[u.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{value:f,onChange:e=>{return a=e.target.value,console.log("LocationAutocomplete input changed:",a),g(a),void s(a);var a},placeholder:l,className:"pl-10 pr-10",onFocus:()=>{f.length>2&&h(!0)}}),(k||b!==f)&&u.jsx(no,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground animate-spin"})]})}),u.jsx(PopoverContent,{className:"w-full p-0",align:"start",children:u.jsxs(Command,{children:[u.jsx(CommandInput,{placeholder:"Search locations...",value:f,onValueChange:g}),u.jsxs(CommandList,{children:[u.jsx(CommandEmpty,{children:f.length<3?"Type at least 3 characters to search":"No locations found"}),N&&N.length>0&&u.jsx(CommandGroup,{heading:"Locations",children:N.map(e=>u.jsxs(CommandItem,{value:`${e.name}-${e.type}`,onSelect:()=>(e=>{console.log("Location selected:",e),g(e.name),s(e.name),a&&a(e),h(!1)})(e),className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(lo,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium",children:e.name}),u.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"capitalize",children:e.type}),e.provinceName&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{children:e.provinceName})]}),e.cityName&&"city"!==e.type&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{children:e.cityName})]}),e.postalCode&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{children:e.postalCode})]}),1===e.isMetro&&u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Metro"})]})]})]},`${e.type}-${e.id}`))})]})]})})]})}const vq=["places"],yq={width:"100%",height:"200px"},bq={width:"100%",height:"600px"},jq={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1};function MapPreview({center:e,onLocationChange:s,className:a="",showExpandButton:l=!0,initialExpanded:c=!1}){const[p,m]=re.useState(c),[h,f]=re.useState(e),[g,b]=re.useState(!1),[j,N]=re.useState(null),k=re.useRef(null),{isLoaded:_,loadError:T}=useJsApiLoader({googleMapsApiKey:"AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4",libraries:vq});re.useEffect(()=>{f(e)},[e]);const E=re.useCallback(async(e,a)=>{if(s){b(!0),N(null);try{const l=new google.maps.Geocoder,c=await l.geocode({location:{lat:e,lng:a}});if(c.results[0]){const l=c.results[0].address_components||[],getComponent=e=>{const s=l.find(s=>s.types.includes(e));return s?.long_name},u=getComponent("sublocality")||getComponent("sublocality_level_1")||getComponent("neighborhood"),p=getComponent("locality")||getComponent("administrative_area_level_2"),m=getComponent("administrative_area_level_1");s({lat:e,lng:a,address:c.results[0].formatted_address,suburb:u||void 0,city:p||void 0,province:m||void 0})}else N("No address found for this location")}catch(l){console.error("Reverse geocoding error:",l),N("Failed to retrieve address")}finally{b(!1)}}},[s]),A=re.useCallback(async e=>{if(!e.latLng)return;const s=e.latLng.lat(),a=e.latLng.lng();f({lat:s,lng:a}),await E(s,a)},[E]),L=re.useCallback(e=>{k.current=e},[]),O=re.useCallback(()=>{k.current=null},[]),I=re.useCallback(()=>{m(e=>!e)},[]);return T?u.jsx(Alert,{variant:"destructive",className:a,children:u.jsx(AlertDescription,{children:"Unable to load map. Please check your internet connection."})}):_?p?u.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:u.jsx(ea,{className:"w-full max-w-6xl max-h-[90vh] overflow-hidden",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white/95 backdrop-blur-sm border-b p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Adjust Location"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[g&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx(no,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{children:"Updating address..."})]}),u.jsx(Button$1,{variant:"ghost",size:"sm",onClick:I,className:"h-8 w-8 p-0",children:u.jsx(Il,{className:"h-4 w-4"})})]})]}),u.jsx(GoogleMap,{mapContainerStyle:bq,center:h,zoom:15,onLoad:L,onUnmount:O,options:jq,children:u.jsx(fg,{position:h,draggable:!0,onDragEnd:A})}),u.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:u.jsxs(Alert,{className:"bg-white/95 backdrop-blur-sm",children:[u.jsx(lo,{className:"h-4 w-4"}),u.jsx(AlertDescription,{children:"Drag the marker to adjust the location. The address will update automatically."})]})}),j&&u.jsx("div",{className:"absolute top-20 left-4 right-4 z-10",children:u.jsx(Alert,{variant:"destructive",className:"bg-white/95 backdrop-blur-sm",children:u.jsx(AlertDescription,{children:j})})})]})})}):u.jsxs(ea,{className:`overflow-hidden relative ${a}`,children:[u.jsx(GoogleMap,{mapContainerStyle:yq,center:h,zoom:13,onLoad:L,onUnmount:O,options:{...jq,zoomControl:!1,scaleControl:!1,gestureHandling:"none"},children:u.jsx(fg,{position:h})}),l&&u.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors cursor-pointer group",children:u.jsxs(Button$1,{variant:"secondary",size:"sm",onClick:I,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(po,{className:"h-4 w-4 mr-2"}),"Expand Map"]})}),l&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",onClick:I,children:u.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto cursor-pointer",children:u.jsxs("p",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[u.jsx(po,{className:"h-4 w-4"}),"Click to expand and adjust location"]})})})]}):u.jsx(ea,{className:`p-8 ${a}`,children:u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx(no,{className:"h-8 w-8 animate-spin text-primary mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading map preview..."})]})})}function LocationAutocompleteWithMap({value:e="",onValueChange:s,onLocationSelect:a,placeholder:l="Enter location...",type:c="all",className:p,showMapPreview:m=!0,label:h="Location"}){const[f,g]=re.useState(null),b=re.useCallback(e=>{const s=e.latitude?parseFloat(e.latitude):0,l=e.longitude?parseFloat(e.longitude):0,c={name:e.name,latitude:s,longitude:l,suburb:"suburb"===e.type?e.name:void 0,city:e.cityName||("city"===e.type?e.name:void 0),province:e.provinceName||("province"===e.type?e.name:void 0),postalCode:e.postalCode};g(c),a&&a(c)},[a]),j=re.useCallback(e=>{if(!f)return;const s={...f,latitude:e.lat,longitude:e.lng,address:e.address,suburb:e.suburb||f.suburb,city:e.city||f.city,province:e.province||f.province};g(s),a&&a(s)},[f,a]);return u.jsxs("div",{className:`space-y-4 ${p}`,children:[u.jsxs("div",{className:"space-y-2",children:[h&&u.jsx(Label$1,{children:h}),u.jsx(LocationAutocomplete,{value:e,onValueChange:s,onLocationSelect:b,placeholder:l,type:c})]}),m&&f&&f.latitude&&f.longitude&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Label$1,{className:"text-sm text-slate-600",children:"Map Preview - Click to expand and adjust location"}),u.jsx(MapPreview,{center:{lat:f.latitude,lng:f.longitude},onLocationChange:j,showExpandButton:!0}),f.address&&u.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[u.jsx("span",{className:"font-medium",children:"Selected:"})," ",f.address]})]})]})}function MapPreviewDemo(){const[e,s]=re.useState(""),[a,l]=re.useState(null);return u.jsx("div",{className:"container mx-auto py-8 max-w-4xl",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Map Preview Demo"}),u.jsx("p",{className:"text-slate-600 mt-2",children:"Test the location autocomplete with map preview feature"})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Location Selection"}),u.jsx(na,{children:"Search for a location and see it on the map. Click the map to expand and adjust the marker."})]}),u.jsx(sa,{children:u.jsx(LocationAutocompleteWithMap,{value:e,onValueChange:s,onLocationSelect:l,placeholder:"Search for a location...",showMapPreview:!0,label:"Select Location"})})]}),a&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Selected Location Data"})}),u.jsx(sa,{children:u.jsx("pre",{className:"bg-slate-100 p-4 rounded-lg overflow-auto",children:JSON.stringify(a,null,2)})})]})]})})}function SubscriptionPlans(){const[,e]=useLocation(),[s,a]=re.useState("agent"),{data:l,isLoading:c}=At.subscription.getPlans.useQuery({category:s}),{data:p}=At.subscription.getMySubscription.useQuery(),getCategoryIcon=e=>{switch(e){case"agent":return u.jsx(Sl,{className:"h-5 w-5"});case"agency":return u.jsx(ka,{className:"h-5 w-5"});case"developer":return u.jsx(Io,{className:"h-5 w-5"})}};return c?u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(Navbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-24",children:u.jsx("div",{className:"text-center",children:"Loading plans..."})})]}):u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(Navbar,{}),u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Start with a 14-day free trial of our premium features. No credit card required."})]}),u.jsxs(ef,{value:s,onValueChange:e=>a(e),className:"mb-12",children:[u.jsxs(tf,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[u.jsxs(rf,{value:"agent",className:"flex items-center gap-2",children:[getCategoryIcon("agent"),u.jsx("span",{className:"hidden sm:inline",children:"Agents"})]}),u.jsxs(rf,{value:"agency",className:"flex items-center gap-2",children:[getCategoryIcon("agency"),u.jsx("span",{className:"hidden sm:inline",children:"Agencies"})]}),u.jsxs(rf,{value:"developer",className:"flex items-center gap-2",children:[getCategoryIcon("developer"),u.jsx("span",{className:"hidden sm:inline",children:"Developers"})]})]}),u.jsx(nf,{value:s,children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:l?.map(s=>{return u.jsxs(ea,{className:"relative overflow-hidden transition-all hover:shadow-xl "+(s.is_trial_plan?"border-2 border-blue-500 shadow-lg scale-105":"border border-slate-200"),children:[s.is_trial_plan&&u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(Badge,{className:"bg-blue-600 text-white",children:"Most Popular"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"p-3 rounded-lg "+(s.is_trial_plan?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"),children:(c=s.name,c.toLowerCase().includes("elite")||c.toLowerCase().includes("enterprise")?u.jsx(ai,{className:"h-6 w-6"}):c.toLowerCase().includes("pro")||c.toLowerCase().includes("growth")?u.jsx($l,{className:"h-6 w-6"}):u.jsx(Ia,{className:"h-6 w-6"}))}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.display_name}),s.is_free_plan&&u.jsx(Badge,{variant:"outline",children:"Free"})]})]}),u.jsxs("div",{className:"mb-6",children:[s.is_free_plan?u.jsx("div",{className:"text-3xl font-bold text-slate-900",children:"Free"}):u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:"text-4xl font-bold text-slate-900",children:(l=s.price_zar,`R${(l/100).toLocaleString()}`)}),u.jsx("span",{className:"text-slate-600",children:"/month"})]}),s.trial_days>0&&!s.is_free_plan&&u.jsxs("div",{className:"text-sm text-blue-600 font-medium mt-1",children:[s.trial_days,"-day free trial included"]})]}),u.jsx("ul",{className:"space-y-3 mb-8",children:s.features.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[u.jsx(Ia,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),u.jsx("span",{children:e})]},s))}),(a=s.plan_id,p?.subscription?.plan_id===a?u.jsx(Button$1,{disabled:!0,className:"w-full",variant:"outline",children:"Current Plan"}):u.jsx(Button$1,{className:"w-full "+(s.is_trial_plan?"bg-blue-600 hover:bg-blue-700":"bg-slate-900 hover:bg-slate-800"),onClick:()=>e(`/subscribe?plan=${s.plan_id}`),children:s.is_free_plan?"Get Started":s.is_trial_plan?"Start Free Trial":"Subscribe"}))]})]},s.plan_id);var a,l,c})})})]}),u.jsx("div",{className:"max-w-4xl mx-auto mt-12 p-6 bg-blue-50 border border-blue-200 rounded-xl",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx($l,{className:"h-6 w-6 text-blue-600 shrink-0 mt-1"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Full-Feature Free Trial"}),u.jsx("p",{className:"text-sm text-blue-800",children:"Start with 14 days of our premium tier absolutely free. No credit card required. After the trial, you'll be automatically downgraded to the free plan unless you choose to upgrade."})]})]})})]})]})}const wq={},Nq=function preload(e,s,a){let l=Promise.resolve();if(s&&s.length>0){let allSettled=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");l=allSettled(s.map(e=>{if((e=function(e){return"/"+e}(e))in wq)return;wq[e]=!0;const s=e.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const c=document.createElement("link");return c.rel=s?"stylesheet":"modulepreload",s||(c.as="script"),c.crossOrigin="",c.href=e,a&&c.setAttribute("nonce",a),document.head.appendChild(c),s?new Promise((s,a)=>{c.addEventListener("load",s),c.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function handlePreloadError(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return l.then(s=>{for(const e of s||[])"rejected"===e.status&&handlePreloadError(e.reason);return e().catch(handlePreloadError)})},Sq=[{id:"main",label:"MAIN",items:[{id:"overview",label:"Overview",icon:Ki,path:"/developer/dashboard"},{id:"developments",label:"Developments",icon:ka,path:"/developer/developments"},{id:"drafts",label:"My Drafts",icon:ji,path:"/developer/drafts"},{id:"leads",label:"Leads",icon:Cl,path:"/developer/leads"}]},{id:"operations",label:"OPERATIONS",collapsible:!0,items:[{id:"messages",label:"Messages",icon:xo,path:"/developer/messages"},{id:"tasks",label:"Tasks",icon:tl,path:"/developer/tasks"},{id:"reports",label:"Reports",icon:wi,path:"/developer/reports"}]},{id:"growth",label:"GROWTH",collapsible:!0,items:[{id:"analytics",label:"Analytics",icon:fl,path:"/developer/analytics"},{id:"explore",label:"Explore Analytics",icon:kl,path:"/developer/explore"},{id:"campaigns",label:"Campaigns",icon:ho,path:"/developer/campaigns"},{id:"performance",label:"Performance",icon:ol,path:"/developer/performance"}]},{id:"settings",label:"SETTINGS",items:[{id:"team",label:"Team",icon:wl,path:"/developer/settings/team"},{id:"subscription",label:"Subscription",icon:Da,path:"/developer/subscription"},{id:"settings",label:"Settings",icon:qo,path:"/developer/settings"}]}];function EnhancedSidebar({className:e}){const[s,a]=re.useState(new Set),[l,c]=useLocation(),{data:p}=At.developer.getProfile.useQuery(),{data:m}=At.developer.getUnreadNotificationsCount.useQuery(void 0,{refetchInterval:3e4,retry:!1,onError:()=>{console.log("Notification count temporarily unavailable")}}),h=m?.count||0,f=p?.name||"Developer",g=f.substring(0,2).toUpperCase(),getBadgeColor=e=>{switch(e){case"blue":default:return"bg-blue-500";case"green":return"bg-green-500";case"red":return"bg-red-500";case"yellow":return"bg-yellow-500"}},b=Sq.map(e=>({...e,items:e.items.map(e=>"messages"===e.id&&h>0?{...e,badge:h,badgeColor:"blue"}:e)}));return u.jsxs("aside",{className:cn("flex flex-col h-full bg-white border-r border-gray-100","w-64 transition-all duration-300 shadow-soft",e),children:[u.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-gray-100",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-soft",children:u.jsx("span",{className:"text-white font-bold text-sm",children:g})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-base font-semibold text-gray-900",children:f}),u.jsx("p",{className:"text-xs text-gray-500",children:"Mission Control"})]})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:b.map(e=>{const p=s.has(e.id);return u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"px-6 mb-2",children:e.collapsible?u.jsxs("button",{onClick:()=>{return s=e.id,void a(e=>{const a=new Set(e);return a.has(s)?a.delete(s):a.add(s),a});var s},className:"flex items-center justify-between w-full text-xs font-semibold text-gray-500 uppercase tracking-wider hover:text-gray-700 transition-colors",children:[u.jsx("span",{children:e.label}),p?u.jsx(Fa,{className:"w-4 h-4"}):u.jsx($a,{className:"w-4 h-4"})]}):u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.label})}),!p&&u.jsx("div",{className:"space-y-1 px-3",children:e.items.map(e=>{const s="/developer"===(a=e.path)||"/developer/dashboard"===a?"/developer"===l||"/developer/dashboard"===l:l.startsWith(a);var a;const p=e.icon;return u.jsxs("button",{onClick:()=>c(e.path),className:cn("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 w-full text-left","group relative",s?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 font-medium shadow-soft":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[s&&u.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full shadow-soft"}),u.jsx(p,{className:cn("w-5 h-5 transition-colors",s?"text-blue-600":"text-gray-400 group-hover:text-gray-600")}),u.jsx("span",{className:"flex-1",children:e.label}),e.badge&&e.badge>0&&u.jsx("span",{className:cn("flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-semibold text-white",getBadgeColor(e.badgeColor),"animate-pulse"),children:e.badge>99?"99+":e.badge})]},e.id)})})]},e.id)})}),u.jsx("div",{className:"border-t border-gray-100 p-4",children:u.jsxs("button",{onClick:()=>c("/developer/notifications"),className:cn("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 w-full text-left","hover:bg-gray-50 relative","/developer/notifications"===l?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 font-medium shadow-soft":"text-gray-700"),children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Notifications"}),h>0&&u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse shadow-soft"})]})})]})}function DeveloperTopNav(){const[,e]=useLocation(),{user:s,logout:a}=useAuth(),[l,c]=re.useState("");return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-gray-100 bg-white/80 backdrop-blur-xl px-6 shadow-soft transition-all duration-200",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"default",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-soft hover:shadow-hover rounded-xl transition-all duration-200",children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Quick Action"]})}),u.jsxs(DropdownMenuContent,{align:"start",className:"w-56 rounded-xl shadow-hover",children:[u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/developments/new"),children:[u.jsx(ka,{className:"h-4 w-4 mr-2"}),"Create Development"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/units/new"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add Unit"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/leads/new"),children:[u.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Add Lead"]}),u.jsx(DropdownMenuSeparator,{}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/reports"),children:[u.jsx(wi,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/analytics"),children:[u.jsx(Da,{className:"h-4 w-4 mr-2"}),"View Analytics"]})]})]})}),u.jsx("div",{className:"flex-1 max-w-2xl mx-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search developments, leads, units...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",size:"icon",className:"relative rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx(wa,{className:"h-5 w-5 text-gray-600"}),!1]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-80 rounded-xl shadow-hover",children:[u.jsx("div",{className:"p-3 border-b border-gray-100",children:u.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(wa,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"No new notifications"})]})}),u.jsx("div",{className:"p-2 border-t border-gray-100",children:u.jsx(Button$1,{variant:"ghost",className:"w-full text-sm rounded-lg",onClick:()=>e("/developer/notifications"),children:"View All Notifications"})})]})]}),u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",size:"icon",className:"relative rounded-xl hover:bg-gray-100 transition-colors",children:[u.jsx(xo,{className:"h-5 w-5 text-gray-600"}),!1]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-80 rounded-xl shadow-hover",children:[u.jsx("div",{className:"p-3 border-b border-gray-100",children:u.jsx("h3",{className:"font-semibold text-sm",children:"Messages"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(xo,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"No new messages"})]})}),u.jsx("div",{className:"p-2 border-t border-gray-100",children:u.jsx(Button$1,{variant:"ghost",className:"w-full text-sm rounded-lg",onClick:()=>e("/developer/messages"),children:"View All Messages"})})]})]}),u.jsxs(DropdownMenu,{children:[u.jsx(DropdownMenuTrigger,{asChild:!0,children:u.jsxs(Button$1,{variant:"ghost",className:"flex items-center gap-2 rounded-xl hover:bg-gray-100 transition-colors px-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-soft",children:s?.name?.substring(0,2).toUpperCase()||"DE"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block",children:s?.name||"Developer"})]})}),u.jsxs(DropdownMenuContent,{align:"end",className:"w-56 rounded-xl shadow-hover",children:[u.jsxs("div",{className:"p-3 border-b border-gray-100",children:[u.jsx("p",{className:"text-sm font-semibold",children:s?.name||"Developer"}),u.jsx("p",{className:"text-xs text-gray-500",children:s?.email})]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/settings"),children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Settings"]}),u.jsxs(DropdownMenuItem,{onClick:()=>e("/developer/analytics"),children:[u.jsx(Da,{className:"h-4 w-4 mr-2"}),"Analytics"]}),u.jsx(DropdownMenuSeparator,{}),u.jsxs(DropdownMenuItem,{onClick:async()=>{await a(),e("/login")},className:"text-red-600",children:[u.jsx(io,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})}function DeveloperLayout({children:e}){return u.jsxs("div",{className:"flex h-screen w-screen bg-[#F4F7FA]",children:[u.jsx(EnhancedSidebar,{}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(DeveloperTopNav,{}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const Cq=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"}];function WelcomeHeader({developerName:e="Developer",onTimeRangeChange:s,selectedTimeRange:a="30d"}){const[l,c]=re.useState(a);return u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[(()=>{const e=(new Date).getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"})(),", ",e,"! "]}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your developments today"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ea,{className:"w-5 h-5 text-gray-400"}),u.jsx("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:Cq.map(e=>u.jsx("button",{onClick:()=>(e=>{c(e),s?.(e)})(e.value),className:cn("px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",l===e.value?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:e.label},e.value))})]})]})}function KPICard({title:e,value:s,change:a,trend:l="neutral",icon:c,iconColor:p="text-blue-600",gradientFrom:m="from-blue-500",gradientTo:h="to-indigo-600",loading:f=!1}){return f?u.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse shadow-soft",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),u.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"}),u.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"})]})]}):u.jsxs("div",{className:cn("bg-white rounded-xl border border-gray-100 p-6 shadow-soft","hover:shadow-hover hover:scale-[1.02] transition-all duration-200","cursor-pointer group"),children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:cn("w-12 h-12 rounded-xl flex items-center justify-center","bg-gradient-to-br shadow-soft",m,h,"group-hover:scale-110 transition-transform duration-200"),children:u.jsx(c,{className:"w-6 h-6 text-white"})}),void 0!==a&&u.jsxs("div",{className:cn("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold",(()=>{switch(l){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})()),children:[(()=>{switch(l){case"up":return u.jsx(fl,{className:"w-4 h-4"});case"down":return u.jsx(hl,{className:"w-4 h-4"});default:return u.jsx(yo,{className:"w-4 h-4"})}})(),u.jsxs("span",{children:[Math.abs(a),"%"]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s})]}),u.jsx("div",{className:cn("mt-4 h-1 rounded-full bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-200",m,h)})]})}function KPIGrid({timeRange:e="30d"}){const{data:s,isLoading:a,error:l}=At.developer.getDashboardKPIs.useQuery({timeRange:e,forceRefresh:!1});if(l)return u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:[u.jsx("p",{className:"font-medium",children:"Failed to load KPIs"}),u.jsx("p",{className:"text-sm mt-1",children:l.message})]});const formatNumber=e=>e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString(),formatPercentage=e=>`${e.toFixed(1)}%`,getTrend=e=>e>0?"up":e<0?"down":"neutral";return u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[u.jsx(KPICard,{title:"Total Leads",value:a?"...":formatNumber(s?.totalLeads||0),change:s?.trends.totalLeads,trend:getTrend(s?.trends.totalLeads||0),icon:Cl,gradientFrom:"from-blue-500",gradientTo:"to-blue-600",loading:a}),u.jsx(KPICard,{title:"Qualified Leads",value:a?"...":formatNumber(s?.qualifiedLeads||0),change:s?.trends.qualifiedLeads,trend:getTrend(s?.trends.qualifiedLeads||0),icon:bl,gradientFrom:"from-green-500",gradientTo:"to-green-600",loading:a}),u.jsx(KPICard,{title:"Conversion Rate",value:a?"...":formatPercentage(s?.conversionRate||0),change:s?.trends.conversionRate,trend:getTrend(s?.trends.conversionRate||0),icon:fl,gradientFrom:"from-purple-500",gradientTo:"to-purple-600",loading:a}),u.jsx(KPICard,{title:"Units Sold",value:a?"...":`${s?.unitsSold||0}/${(s?.unitsSold||0)+(s?.unitsAvailable||0)}`,change:s?.trends.unitsSold,trend:getTrend(s?.trends.unitsSold||0),icon:Bi,gradientFrom:"from-orange-500",gradientTo:"to-orange-600",loading:a}),u.jsx(KPICard,{title:"Affordability Match",value:a?"...":formatPercentage(s?.affordabilityMatchPercent||0),change:s?.trends.affordabilityMatchPercent,trend:getTrend(s?.trends.affordabilityMatchPercent||0),icon:ii,gradientFrom:"from-teal-500",gradientTo:"to-teal-600",loading:a}),u.jsx(KPICard,{title:"Marketing Score",value:a?"...":Math.round(s?.marketingPerformanceScore||0),change:s?.trends.marketingPerformanceScore,trend:getTrend(s?.trends.marketingPerformanceScore||0),icon:ol,gradientFrom:"from-pink-500",gradientTo:"to-pink-600",loading:a})]})}const kq={lead_new:{icon:Sl,color:"text-blue-600",bgColor:"bg-blue-50"},lead_qualified:{icon:bl,color:"text-green-600",bgColor:"bg-green-50"},lead_unqualified:{icon:Nl,color:"text-gray-600",bgColor:"bg-gray-50"},otp_generated:{icon:wi,color:"text-purple-600",bgColor:"bg-purple-50"},viewing_scheduled:{icon:Ea,color:"text-orange-600",bgColor:"bg-orange-50"},viewing_completed:{icon:Ua,color:"text-green-600",bgColor:"bg-green-50"},media_uploaded:{icon:zi,color:"text-teal-600",bgColor:"bg-teal-50"},price_updated:{icon:ii,color:"text-yellow-600",bgColor:"bg-yellow-50"},unit_sold:{icon:Bi,color:"text-green-600",bgColor:"bg-green-50"},unit_reserved:{icon:Bi,color:"text-blue-600",bgColor:"bg-blue-50"},development_created:{icon:ka,color:"text-indigo-600",bgColor:"bg-indigo-50"},development_updated:{icon:ka,color:"text-blue-600",bgColor:"bg-blue-50"},campaign_launched:{icon:ho,color:"text-pink-600",bgColor:"bg-pink-50"},campaign_paused:{icon:ho,color:"text-gray-600",bgColor:"bg-gray-50"},team_member_added:{icon:wl,color:"text-green-600",bgColor:"bg-green-50"},team_member_removed:{icon:jl,color:"text-red-600",bgColor:"bg-red-50"}};function ActivityItem({activityType:e,title:s,description:a,createdAt:l,onClick:c}){const p=kq[e]||{icon:wi,color:"text-gray-600",bgColor:"bg-gray-50"},m=p.icon;return u.jsxs("div",{onClick:c,className:cn("flex items-start gap-3 p-3 rounded-lg transition-all duration-200",c?"cursor-pointer hover:bg-gray-50":"","group"),children:[u.jsx("div",{className:cn("flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center",p.bgColor,"group-hover:scale-110 transition-transform duration-200"),children:u.jsx(m,{className:cn("w-5 h-5",p.color)})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s}),a&&u.jsx("p",{className:"text-sm text-gray-600 mt-0.5 line-clamp-2",children:a}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{try{return formatDistanceToNow(new Date(e),{addSuffix:!0})}catch{return"Recently"}})(l)})]}),c&&u.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})}function ActivityFeed({limit:e=20,showHeader:s=!0,className:a}){const[l,c]=re.useState(!1),{data:p,isLoading:m,error:h,refetch:f}=At.developer.getActivityFeed.useQuery({limit:e,offset:0},{refetchInterval:6e4}),handleRefresh=async()=>{c(!0),await f(),setTimeout(()=>c(!1),500)};return h?u.jsx("div",{className:cn("bg-white rounded-xl border border-gray-200 p-6",a),children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-red-600",children:"Failed to load activities"}),u.jsx("button",{onClick:handleRefresh,className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Try again"})]})}):u.jsxs("div",{className:cn("bg-white rounded-xl border border-gray-200",a),children:[s&&u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(la,{className:"w-5 h-5 text-gray-600"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),p&&p.length>0&&u.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-50 text-blue-600 rounded-full",children:p.length})]}),u.jsx("button",{onClick:handleRefresh,disabled:l,className:cn("p-2 rounded-lg hover:bg-gray-100 transition-colors",l&&"animate-spin"),title:"Refresh activities",children:u.jsx(Oo,{className:"w-4 h-4 text-gray-600"})})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:m?u.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((e,s)=>u.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))}):p&&p.length>0?u.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:p.map(e=>u.jsx(ActivityItem,{activityType:e.activityType,title:e.title,description:e.description||void 0,createdAt:e.createdAt,onClick:()=>{e.relatedEntityType&&e.relatedEntityId&&console.log("Navigate to:",e.relatedEntityType,e.relatedEntityId)}},e.id))}):u.jsxs("div",{className:"p-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:u.jsx(la,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No activities yet"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Your recent activities will appear here"})]})}),p&&p.length>=e&&u.jsx("div",{className:"p-4 border-t border-gray-200 text-center",children:u.jsx("a",{href:"/developer/activities",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"View all activities "})})]})}const _q=[{id:"add-development",label:"Add Development",description:"Create a new development project",icon:ka,path:"/developer/developments/new",gradientFrom:"from-blue-500",gradientTo:"to-indigo-600"},{id:"add-unit",label:"Add Unit",description:"Add units to your development",icon:Bi,path:"/developer/units/new",gradientFrom:"from-green-500",gradientTo:"to-emerald-600"},{id:"upload-media",label:"Upload to Explore",description:"Share content on Explore feed",icon:zi,path:"/explore/upload",gradientFrom:"from-purple-500",gradientTo:"to-pink-600"},{id:"launch-campaign",label:"Launch Campaign",description:"Start a marketing campaign",icon:ho,path:"/developer/campaigns/new",gradientFrom:"from-orange-500",gradientTo:"to-red-600",requiresTier:"basic"},{id:"add-team-member",label:"Add Team Member",description:"Invite a team member",icon:wl,path:"/developer/settings/team",gradientFrom:"from-teal-500",gradientTo:"to-cyan-600"}];function QuickActions({className:e}){const[,s]=useLocation(),[a,l]=re.useState(null),{data:c}=At.developer.getSubscription.useQuery(),isActionDisabled=e=>{if(!e.requiresTier)return!1;if(!c)return!1;const s={free_trial:0,basic:1,premium:2};return s[c.tier]<s[e.requiresTier]},getDisabledReason=e=>e.requiresTier?`Upgrade to ${e.requiresTier} plan to use this feature`:"";return u.jsxs("div",{className:cn("bg-white rounded-xl border border-gray-100 p-6 shadow-soft",e),children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx($l,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:_q.map(e=>{const c=e.icon,p=isActionDisabled(e),m=a===e.id;return u.jsxs("button",{onClick:()=>(e=>{isActionDisabled(e)?s("/developer/settings/subscription"):e.onClick?e.onClick():e.path&&s(e.path)})(e),onMouseEnter:()=>l(e.id),onMouseLeave:()=>l(null),disabled:p,className:cn("relative group p-4 rounded-xl border-2 transition-all duration-200","text-left",p?"border-gray-100 bg-gray-50 cursor-not-allowed opacity-60":"border-gray-100 hover:border-transparent hover:shadow-hover hover:scale-105 cursor-pointer"),title:p?getDisabledReason(e):e.description,children:[!p&&u.jsx("div",{className:cn("absolute inset-0 rounded-xl bg-gradient-to-br opacity-0 group-hover:opacity-100 transition-opacity duration-200",e.gradientFrom,e.gradientTo)}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:cn("w-12 h-12 rounded-xl flex items-center justify-center mb-3 transition-all duration-200 shadow-soft",p?"bg-gray-200":cn("bg-gradient-to-br",e.gradientFrom,e.gradientTo,"group-hover:bg-white/20")),children:[u.jsx(c,{className:cn("w-6 h-6 transition-colors duration-300",p?"text-gray-400":"text-white")}),p&&u.jsx(ao,{className:"absolute -top-1 -right-1 w-4 h-4 text-gray-500"})]}),u.jsx("h3",{className:cn("font-semibold mb-1 transition-colors duration-300",p?"text-gray-500":"text-gray-900 group-hover:text-white"),children:e.label}),u.jsx("p",{className:cn("text-sm transition-colors duration-300",p?"text-gray-400":"text-gray-600 group-hover:text-white/90"),children:e.description}),!p&&m&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(Mo,{className:"w-5 h-5 text-white animate-in fade-in zoom-in duration-200"})})]})]},e.id)})}),u.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Quick access to your most common tasks"})]})}function Overview(){const[e,s]=re.useState("30d"),{data:a,isLoading:l,error:c}=At.developer.getProfile.useQuery(),{data:p,isLoading:m,error:h}=At.developer.getDevelopments.useQuery(),f=!p||0===p.length;if(l||m)return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"h-24 bg-slate-100 rounded-2xl animate-pulse"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>u.jsx("div",{className:"h-32 bg-slate-100 rounded-2xl animate-pulse"},e))})]});if(c||h)return u.jsx(ea,{className:"card",children:u.jsx(sa,{className:"py-12",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Unable to Load Dashboard"}),u.jsx("p",{className:"text-slate-600",children:c?.message||h?.message||"An error occurred while loading your dashboard"})]}),u.jsx(Button$1,{onClick:()=>window.location.reload(),children:"Retry"})]})})});if(!a)return u.jsx(ea,{className:"card",children:u.jsx(sa,{className:"py-12",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx(ka,{className:"w-8 h-8 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Complete Your Developer Profile"}),u.jsx("p",{className:"text-slate-600",children:"You need to complete your developer profile before accessing the dashboard."})]}),u.jsx(Button$1,{onClick:()=>window.location.href="/developer/setup",children:"Complete Profile Setup"})]})})});if(a&&"pending"===a.status)return u.jsx(ea,{className:"card",children:u.jsx(sa,{className:"py-12",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 mx-auto bg-amber-100 rounded-full flex items-center justify-center",children:u.jsx(Ya,{className:"w-8 h-8 text-amber-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Profile Under Review"}),u.jsx("p",{className:"text-slate-600",children:"Your developer profile has been submitted and is currently under review by our admin team. You'll receive an email notification once your profile is approved."}),u.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"This usually takes 1-2 business days."})]}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>window.location.href="/developer/setup",children:"Edit Profile"}),u.jsx(Button$1,{onClick:()=>window.location.reload(),children:"Refresh Status"})]})]})})});if(a&&"rejected"===a.status)return u.jsx(ea,{className:"card",children:u.jsx(sa,{className:"py-12",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Profile Rejected"}),u.jsx("p",{className:"text-slate-600",children:"Unfortunately, your developer profile was not approved."}),a.rejectionReason&&u.jsxs("p",{className:"text-sm text-slate-600 mt-2 p-3 bg-red-50 rounded-lg",children:[u.jsx("strong",{children:"Reason:"})," ",a.rejectionReason]})]}),u.jsx(Button$1,{onClick:()=>window.location.href="/developer/setup",children:"Update and Resubmit Profile"})]})})});if(f)return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-8 px-4",children:[u.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[u.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-3xl rotate-6 opacity-20 blur-xl animate-pulse"}),u.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-blue-600 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-blue-500/30 transform hover:scale-105 transition-transform duration-300",children:u.jsx(ka,{className:"w-16 h-16 text-white"})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Welcome to Your Dashboard!"}),u.jsx("p",{className:"text-slate-600 text-lg md:text-xl leading-relaxed",children:"Get started by creating your first development project. Add units, capture leads, and watch your business grow."})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs(Button$1,{size:"lg",className:"gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg shadow-blue-500/30 rounded-full px-8 py-6 text-base font-semibold transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-blue-500/40",onClick:()=>window.location.href="/developer/developments/new",children:[u.jsx(Mo,{className:"w-5 h-5"}),"Create Your First Development"]}),u.jsx(Button$1,{size:"lg",variant:"outline",className:"rounded-full px-8 py-6 text-base font-semibold border-2 border-slate-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300",onClick:()=>window.open("https://docs.example.com","_blank"),children:"View Documentation"})]}),u.jsxs(ea,{className:"w-full max-w-3xl mt-8 border-0 shadow-xl shadow-slate-200/50 rounded-3xl overflow-hidden bg-white/80 backdrop-blur-sm",children:[u.jsxs(ta,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100/50 pb-6",children:[u.jsx(ra,{className:"text-2xl font-bold text-slate-800",children:"Quick Start Guide"}),u.jsx(na,{className:"text-base text-slate-600",children:"Follow these steps to get your developer account up and running"})]}),u.jsx(sa,{className:"p-8",children:u.jsx("div",{className:"space-y-6",children:[{number:1,title:"Create a Development",description:"Add your property development project with details, location, and images",gradient:"from-blue-500 to-blue-600"},{number:2,title:"Add Units",description:"Define your available units with pricing, floor plans, and specifications",gradient:"from-indigo-500 to-indigo-600"},{number:3,title:"Capture Leads",description:"Use the affordability calculator to qualify buyers and capture high-quality leads",gradient:"from-purple-500 to-purple-600"},{number:4,title:"Track Performance",description:"Monitor your leads, conversions, and sales analytics in real-time",gradient:"from-pink-500 to-pink-600"}].map(e=>u.jsxs("div",{className:"flex items-start gap-5 group",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${e.gradient} flex items-center justify-center font-bold text-white text-lg flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.number}),u.jsxs("div",{className:"flex-1 pt-1",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1 group-hover:text-blue-600 transition-colors",children:e.title}),u.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.description})]})]},e.number))})})]})]});const g=p?.length||0;return u.jsxs("div",{className:"space-y-6",children:[u.jsx(WelcomeHeader,{developerName:a?.name||"Developer",selectedTimeRange:e,onTimeRangeChange:s}),u.jsx(KPIGrid,{timeRange:e}),u.jsx(QuickActions,{}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(ActivityFeed,{})}),u.jsx("div",{className:"space-y-4",children:u.jsxs(ea,{className:"card",children:[u.jsxs(ta,{children:[u.jsx(ra,{className:"text-lg",children:"Quick Stats"}),u.jsx(na,{children:"Your portfolio at a glance"})]}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Bi,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-slate-600",children:"Developments"})]}),u.jsx("span",{className:"font-semibold",children:g})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Cl,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-slate-600",children:"Total Leads"})]}),u.jsx("span",{className:"font-semibold",children:0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fl,{className:"w-4 h-4 text-purple-600"}),u.jsx("span",{className:"text-sm text-slate-600",children:"Qualified"})]}),u.jsx("span",{className:"font-semibold",children:0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ka,{className:"w-4 h-4 text-orange-600"}),u.jsx("span",{className:"text-sm text-slate-600",children:"Units"})]}),u.jsx("span",{className:"font-semibold",children:"0"})]})]})]})})]})]})}const DevelopmentsList=()=>{const[,e]=useLocation(),[s,a]=re.useState(""),{data:l,isLoading:c,refetch:p}=At.developer.getDevelopments.useQuery(),m=At.developer.deleteDevelopment.useMutation({onSuccess:()=>{Gr.success("Development deleted successfully"),p()},onError:e=>{Gr.error(e.message||"Failed to delete development")}}),h=(l||[]).filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.city&&e.city.toLowerCase().includes(s.toLowerCase()));return u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Developments"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage all your property developments in one place"})]}),u.jsxs(Button$1,{className:"bg-accent hover:bg-accent/90",onClick:()=>e("/developer/create-development"),children:[u.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add New Development"]})]}),u.jsx(ea,{children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search developments...",className:"pl-10",value:s,onChange:e=>a(e.target.value)})]}),u.jsxs(Button$1,{variant:"outline",children:[u.jsx(Si,{className:"h-4 w-4 mr-2"}),"Filters"]})]})})}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.map(s=>{s.id||console.warn("[DevelopmentsList] Item missing ID:",s);const a=(e=>{let s=[];if(!e)return[];if(Array.isArray(e))s=e;else if("string"==typeof e)try{const a=JSON.parse(e);Array.isArray(a)?s=a:"string"==typeof a&&(s=[a])}catch(a){e.startsWith("http")&&(s=[e])}return s.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&e.url?e.url:null).filter(e=>"string"==typeof e&&e.length>0)})(s.images);return u.jsx(EntityStatusCard,{type:"development",data:{...s,status:s.isPublished?"published":"approved"===s.approvalStatus?"approved":"pending"===s.approvalStatus?"pending":"rejected"===s.approvalStatus?"rejected":"draft",images:a,priceFrom:s.priceFrom},readiness:calculateDevelopmentReadiness({name:s.name,description:s.description,address:s.address||s.city,latitude:s.latitude,longitude:s.longitude,images:a,priceFrom:s.priceFrom}),onEdit:s=>e(`/developer/create-development?id=${s}`),onDelete:e=>((e,s)=>{if(!e||"number"!=typeof e)return console.error("[DevelopmentsList] Cannot delete: Invalid ID",{devId:e,devName:s}),void Gr.error("Cannot delete: Missing development ID");window.confirm(`Are you sure you want to delete "${s}"? This action cannot be undone.`)&&m.mutate({id:e})})(e,s.name),onView:s=>e(`/development/${s}`)},s.id)}),0===h.length&&u.jsx("div",{className:"text-center py-12 bg-white rounded-lg border border-dashed text-slate-500",children:"No developments found matching your search."})]})]})},MessagesCenter=()=>{const[e,s]=re.useState(0),[a,l]=re.useState(""),c=[{id:1,name:"Sarah Johnson",avatar:"SJ",lastMessage:"Thanks for the update on the Riverside project...",time:"2:45 PM",unread:2,online:!0},{id:2,name:"Michael Chen",avatar:"MC",lastMessage:"Can we schedule a viewing for next week?",time:"11:30 AM",unread:0,online:!1},{id:3,name:"Emma Rodriguez",avatar:"ER",lastMessage:"The floor plans look great!",time:"Yesterday",unread:0,online:!0},{id:4,name:"David Wilson",avatar:"DW",lastMessage:"When will the construction be completed?",time:"Yesterday",unread:1,online:!1},{id:5,name:"Lisa Thompson",avatar:"LT",lastMessage:"Interested in the penthouse unit",time:"Oct 12",unread:0,online:!1}];return u.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[u.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"typ-h2 mb-4",children:"Messages"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search conversations...",className:"input w-full pl-10"}),u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:c.map(a=>u.jsx("div",{className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 "+(e===a.id?"bg-blue-50":""),onClick:()=>s(a.id),children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:a.avatar}),a.online&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("h4",{className:"font-medium truncate",children:a.name}),u.jsx("span",{className:"text-xs text-gray-500",children:a.time})]}),u.jsx("p",{className:"text-sm text-gray-500 truncate",children:a.lastMessage})]}),a.unread>0&&u.jsx("div",{className:"ml-2 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:a.unread})]})},a.id))})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:c.find(s=>s.id===e)?.avatar||"SJ"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"font-medium",children:c.find(s=>s.id===e)?.name||"Sarah Johnson"}),u.jsx("p",{className:"text-xs text-green-500",children:"Online"})]}),u.jsxs("div",{className:"ml-auto flex space-x-2",children:[u.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),u.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:u.jsx("div",{className:"space-y-4",children:[{id:1,sender:"Sarah Johnson",content:"Hi there! I'm interested in the Riverside Apartments project. Could you provide more details about the available units?",time:"10:30 AM",isOwn:!1},{id:2,sender:"You",content:"Hello Sarah! I'd be happy to help. We currently have 3-bedroom and 4-bedroom units available with stunning river views.",time:"10:32 AM",isOwn:!0},{id:3,sender:"Sarah Johnson",content:"That sounds perfect! What's the pricing for these units? Also, when is the expected completion date?",time:"10:35 AM",isOwn:!1},{id:4,sender:"You",content:"The 3-bedroom units start at R2.8M and the 4-bedroom units at R3.9M. Construction is expected to be completed by Q2 2026.",time:"10:38 AM",isOwn:!0},{id:5,sender:"Sarah Johnson",content:"Thanks for the update on the Riverside project. I'd like to schedule a viewing for next weekend if possible.",time:"2:45 PM",isOwn:!1}].map(e=>u.jsx("div",{className:"flex "+(e.isOwn?"justify-end":"justify-start"),children:u.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-16 "+(e.isOwn?"bg-blue-500 text-white rounded-br-none":"bg-white border border-gray-200 rounded-bl-none"),children:[u.jsx("p",{children:e.content}),u.jsx("p",{className:"text-xs mt-1 "+(e.isOwn?"text-blue-100":"text-gray-500"),children:e.time})]})},e.id))})}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&l("")},className:"flex items-center",children:[u.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),u.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Type your message...",className:"flex-1 input mx-2"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!a.trim(),children:"Send"})]})})]})]})};function LeadsManager(){return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"typ-h2",children:"Lead Management"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Track and manage all your property leads"})]})}),u.jsx(ea,{className:"card",children:u.jsx(sa,{className:"p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Input,{placeholder:"Search leads...",className:"input pl-10"})]}),u.jsxs(Select$1,{children:[u.jsx(SelectTrigger,{className:"w-40",children:u.jsx(SelectValue,{placeholder:"Filter Status"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"new",children:"New"}),u.jsx(SelectItem,{value:"contacted",children:"Contacted"}),u.jsx(SelectItem,{value:"viewing",children:"Viewing"}),u.jsx(SelectItem,{value:"offer",children:"Offer"}),u.jsx(SelectItem,{value:"closed",children:"Closed"})]})]}),u.jsxs(Button$1,{variant:"outline",className:"btn btn-secondary",children:[u.jsx(Si,{className:"h-4 w-4 mr-2"}),"Filters"]})]})})}),u.jsxs(ea,{className:"card",children:[u.jsx(ta,{children:u.jsx(ra,{className:"typ-h3",children:"Lead Table"})}),u.jsx(sa,{children:u.jsxs(Table,{className:"table-soft table-soft--comfortable",children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Name"}),u.jsx(TableHead,{children:"Contact"}),u.jsx(TableHead,{children:"Source"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{children:"Assignee"})]})}),u.jsx(TableBody,{children:u.jsxs(TableRow,{children:[u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:u.jsx(Badge,{variant:"secondary",children:"New"})}),u.jsx(TableCell,{children:"-"})]})})]})})]})]})}const SettingsPanel=()=>{const[e,s]=re.useState(!1),{data:a,refetch:l}=At.developer.getSubscription.useQuery(void 0,{staleTime:0,refetchOnMount:!0}),c=At.developer.resetDevelopmentCount.useMutation({onSuccess:e=>{Gr.success(e.message),l()},onError:e=>{Gr.error(e.message||"Failed to sync usage")}}),[p,m]=re.useState({companyName:"Skyline Developments",registrationNumber:"2021/123456/07",vatNumber:"4123456789",contactPerson:"James Mitchell",email:"contact@skyline-developments.co.za",phone:"+27 11 123 4567",website:"www.skyline-developments.co.za",address:"123 Construction Avenue, Sandton, Johannesburg, 2196",bio:"Leading property developers specializing in high-end residential and commercial projects across South Africa."}),[h,f]=re.useState({plan:"Professional",nextBilling:"Nov 30, 2025",amount:"R2,499.00",paymentMethod:"Visa ending in 4532"}),handleInputChange=e=>{const{name:s,value:a}=e.target;m(e=>({...e,[s]:a}))};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"typ-h2",children:"Settings"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"typ-h3 mb-4",children:"Company Details"}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),console.log("Settings saved:",p)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),u.jsx("input",{type:"text",name:"companyName",value:p.companyName,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),u.jsx("input",{type:"text",name:"registrationNumber",value:p.registrationNumber,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VAT Number"}),u.jsx("input",{type:"text",name:"vatNumber",value:p.vatNumber,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),u.jsx("input",{type:"text",name:"contactPerson",value:p.contactPerson,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:p.email,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),u.jsx("input",{type:"url",name:"website",value:p.website,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),u.jsx("input",{type:"text",name:"address",value:p.address,onChange:handleInputChange,className:"input w-full"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Bio"}),u.jsx("textarea",{name:"bio",value:p.bio,onChange:handleInputChange,rows:3,className:"input w-full"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"typ-h3",children:"Team Members"}),u.jsx("button",{className:"btn btn-secondary",children:"+ Add Member"})]}),u.jsx("div",{className:"space-y-3",children:[{name:"James Mitchell",role:"Administrator",email:"james@skyline-developments.co.za",status:"Active"},{name:"Sarah Johnson",role:"Project Manager",email:"sarah@skyline-developments.co.za",status:"Active"},{name:"Michael Chen",role:"Sales Agent",email:"michael@skyline-developments.co.za",status:"Active"},{name:"Emma Rodriguez",role:"Marketing Specialist",email:"emma@skyline-developments.co.za",status:"Away"}].map((e,s)=>u.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium mr-3",children:e.name.split(" ").map(e=>e[0]).join("")}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:e.name}),u.jsx("div",{className:"text-sm text-gray-500",children:e.role})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"text-sm text-gray-500 mr-4",children:e.email}),u.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("Active"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status}),u.jsx("button",{className:"ml-4 text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]},s))})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("h3",{className:"typ-h3 mb-4 flex items-center gap-2",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),"Subscription Usage"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-16",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Current Tier"}),u.jsx("div",{className:"font-medium text-lg capitalize",children:a?.tier?.replace("_"," ")||"Loading..."})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-12",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Developments"}),u.jsxs("div",{className:"font-medium",children:[a?.usage?.developmentsCount??0," /"," ",a?.limits?.maxDevelopments??1]})]}),u.jsxs("button",{onClick:async()=>{s(!0);try{await c.mutateAsync()}finally{s(!1)}},disabled:e,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",children:[u.jsx(Oo,{className:"w-4 h-4 "+(e?"animate-spin":"")}),e?"Syncing...":"Sync"]})]}),u.jsxs("div",{className:"p-3 border border-gray-200 rounded-12",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Leads This Month"}),u.jsxs("div",{className:"font-medium",children:[a?.usage?.leadsThisMonth??0," /"," ",a?.limits?.maxLeadsPerMonth??50]})]}),u.jsxs("div",{className:"p-3 border border-gray-200 rounded-12",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Team Members"}),u.jsxs("div",{className:"font-medium",children:[a?.usage?.teamMembersCount??0," /"," ",a?.limits?.maxTeamMembers??1]})]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"typ-h3 mb-4",children:"Billing Summary"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-blue-50 rounded-16",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Current Plan"}),u.jsx("div",{className:"font-medium text-lg",children:h.plan})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Next Billing Date"}),u.jsx("div",{className:"font-medium",children:h.nextBilling})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Amount"}),u.jsx("div",{className:"font-medium text-lg",children:h.amount})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Payment Method"}),u.jsx("div",{className:"font-medium",children:h.paymentMethod})]}),u.jsx("button",{className:"btn btn-secondary w-full",children:"Update Payment Method"}),u.jsx("button",{className:"btn btn-outline w-full",children:"View Billing History"})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"typ-h3 mb-4",children:"Notifications"}),u.jsx("div",{className:"space-y-3",children:[{title:"New Lead Assigned",description:"You have been assigned a new lead for Riverside Apartments",time:"2 hours ago"},{title:"Document Approved",description:"Your building plans for Skyline Towers have been approved",time:"1 day ago"},{title:"Payment Received",description:"Payment of R150,000 received from client",time:"2 days ago"}].map((e,s)=>u.jsxs("div",{className:"p-3 border border-gray-200 rounded-16",children:[u.jsx("div",{className:"font-medium",children:e.title}),u.jsx("div",{className:"text-sm text-gray-500 mt-1",children:e.description}),u.jsx("div",{className:"text-xs text-gray-400 mt-2",children:e.time})]},s))})]})]})]})]})};function TeamManagement(){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"typ-h2",children:"Team"}),u.jsx(Button$1,{className:"btn btn-primary",children:"Invite Member"})]}),u.jsxs(ea,{className:"card",children:[u.jsx(ta,{children:u.jsx(ra,{className:"typ-h3",children:"Internal Team"})}),u.jsx(sa,{children:u.jsxs(Table,{className:"table-soft table-soft--comfortable",children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Name"}),u.jsx(TableHead,{children:"Role"}),u.jsx(TableHead,{children:"Permissions"})]})}),u.jsx(TableBody,{children:u.jsxs(TableRow,{children:[u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"})]})})]})})]}),u.jsxs(ea,{className:"card",children:[u.jsx(ta,{children:u.jsx(ra,{className:"typ-h3",children:"External Agents"})}),u.jsx(sa,{children:u.jsxs(Table,{className:"table-soft table-soft--comfortable",children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Name"}),u.jsx(TableHead,{children:"Agency"}),u.jsx(TableHead,{children:"Performance"})]})}),u.jsx(TableBody,{children:u.jsxs(TableRow,{children:[u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"}),u.jsx(TableCell,{children:"-"})]})})]})})]})]})}function MetricCard({title:e,value:s,change:a,changeType:l="neutral",icon:c,className:p}){return u.jsx(ea,{className:cn("card metric-card hover:shadow-lg transition-shadow duration-200",p),children:u.jsx(sa,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),u.jsx("p",{className:"typ-h3 text-3xl font-bold",children:s}),a&&u.jsxs("div",{className:cn("text-sm font-medium flex items-center gap-1","positive"===l&&"text-green-600","negative"===l&&"text-red-600","neutral"===l&&"text-muted-foreground"),children:["positive"===l&&"","negative"===l&&"",u.jsx("span",{children:a})]})]}),c&&u.jsx("div",{className:"p-3 bg-muted rounded-12",children:u.jsx(c,{className:"h-6 w-6 text-primary"})})]})})})}const Pq=[{month:"Jan",views:2400,clicks:1200},{month:"Feb",views:3200,clicks:1600},{month:"Mar",views:2800,clicks:1400},{month:"Apr",views:3900,clicks:2100},{month:"May",views:4200,clicks:2400},{month:"Jun",views:5100,clicks:2900}],AnalyticsPanel=()=>{const[e,s]=re.useState("30d"),{data:a,isLoading:l,error:c,refetch:p}=At.developer.getDashboardKPIs.useQuery({timeRange:e,forceRefresh:!1});return c?u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[u.jsx(Va,{className:"h-12 w-12 text-red-500 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Error loading analytics"}),u.jsx("p",{className:"text-slate-500 mb-4",children:c.message}),u.jsx(Button$1,{onClick:()=>p(),children:"Try Again"})]}):u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Analytics"}),u.jsx("p",{className:"text-muted-foreground",children:"Track your development performance and marketing metrics"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Select$1,{value:e,onValueChange:e=>s(e),children:[u.jsxs(SelectTrigger,{className:"w-[180px]",children:[u.jsx(Ea,{className:"mr-2 h-4 w-4"}),u.jsx(SelectValue,{placeholder:"Select Range"})]}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"7d",children:"Last 7 Days"}),u.jsx(SelectItem,{value:"30d",children:"Last 30 Days"}),u.jsx(SelectItem,{value:"90d",children:"Last 90 Days"})]})]}),u.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>p(),title:"Refresh Data",children:u.jsx(Da,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l?Array(4).fill(0).map((e,s)=>u.jsxs(ea,{className:"p-6 space-y-2",children:[u.jsx(Skeleton,{className:"h-4 w-24"}),u.jsx(Skeleton,{className:"h-8 w-16"}),u.jsx(Skeleton,{className:"h-4 w-32"})]},s)):u.jsxs(u.Fragment,{children:[u.jsx(MetricCard,{title:"Total Leads",value:a?.totalLeads.toLocaleString()||"0",change:`${a?.trends.totalLeads>0?"+":""}${a?.trends.totalLeads}%`,changeType:a?.trends.totalLeads>=0?"positive":"negative",icon:Cl}),u.jsx(MetricCard,{title:"Qualified Leads",value:a?.qualifiedLeads.toLocaleString()||"0",change:`${a?.trends.qualifiedLeads>0?"+":""}${a?.trends.qualifiedLeads}%`,changeType:a?.trends.qualifiedLeads>=0?"positive":"negative",icon:wo}),u.jsx(MetricCard,{title:"Marketing Score",value:`${a?.marketingPerformanceScore||0}/100`,change:`${a?.trends.marketingPerformanceScore>0?"+":""}${a?.trends.marketingPerformanceScore}%`,changeType:a?.trends.marketingPerformanceScore>=0?"positive":"negative",icon:fl}),u.jsx(MetricCard,{title:"Units Sold",value:a?.unitsSold.toLocaleString()||"0",change:`${a?.unitsAvailable} Available`,changeType:"neutral",icon:Da})]})}),u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsx(ra,{children:"Traffic Overview (Live Data Coming Soon)"})}),u.jsx(sa,{children:u.jsx(GA,{width:"100%",height:350,children:u.jsxs(GR,{data:Pq,children:[u.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(CR,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),u.jsx(_R,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),u.jsx(WA,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),u.jsx(bR,{type:"monotone",dataKey:"views",stroke:"#3b82f6",strokeWidth:2,name:"Views",dot:{strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:2}}),u.jsx(bR,{type:"monotone",dataKey:"clicks",stroke:"#10b981",strokeWidth:2,name:"Clicks",dot:{strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:2}})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.jsxs(ea,{className:"col-span-1 lg:col-span-2",children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex justify-between items-center",children:[u.jsx("span",{children:"Performance Insights"}),u.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Based on ",e," activity"]})]})}),u.jsx(sa,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-sm text-slate-500",children:"Conversion Rate"}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:[a?.conversionRate,"%"]}),u.jsxs("span",{className:"text-xs mb-1 "+(a?.trends.conversionRate>=0?"text-green-600":"text-red-600"),children:[a?.trends.conversionRate>0?"+":"",a?.trends.conversionRate,"%"]})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Leads converting to sales"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-sm text-slate-500",children:"Affordability Match"}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:[a?.affordabilityMatchPercent,"%"]}),u.jsxs("span",{className:"text-xs mb-1 "+(a?.trends.affordabilityMatchPercent>=0?"text-green-600":"text-red-600"),children:[a?.trends.affordabilityMatchPercent>0?"+":"",a?.trends.affordabilityMatchPercent,"%"]})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Leads matching price range"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-sm text-slate-500",children:"Lead Response"}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"2.4h"}),u.jsx("span",{className:"text-xs mb-1 text-green-600",children:"-5%"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Avg time to action lead"})]})]})})]})})]})};function MarketingCampaigns(){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"typ-h2",children:"Marketing & Campaigns"}),u.jsx(Button$1,{className:"btn btn-primary",children:"Boost Development"})]}),u.jsxs(ea,{className:"card",children:[u.jsxs(ta,{children:[u.jsx(ra,{className:"typ-h3",children:"Active Campaigns"}),u.jsx(na,{children:"Impressions, clicks, cost, ROI"})]}),u.jsx(sa,{children:u.jsx("div",{className:"text-sm text-muted-foreground",children:"No active campaigns."})})]}),u.jsxs(ea,{className:"card",children:[u.jsxs(ta,{children:[u.jsx(ra,{className:"typ-h3",children:"Order Placements"}),u.jsx(na,{children:"Order banners or featured placements"})]}),u.jsx(sa,{children:u.jsx("div",{className:"text-sm text-muted-foreground",children:"Coming soon."})})]})]})}const Tq={free_trial:{label:"Free Trial",icon:Ti,color:"bg-purple-100 text-purple-700 border-purple-200",gradient:"from-purple-500 to-pink-500"},basic:{label:"Basic",icon:$l,color:"bg-blue-100 text-blue-700 border-blue-200",gradient:"from-blue-500 to-cyan-500"},premium:{label:"Premium",icon:ai,color:"bg-amber-100 text-amber-700 border-amber-200",gradient:"from-amber-500 to-orange-500"}};function BillingPanel(){const[,e]=useLocation(),{data:s,isLoading:a,refetch:l}=At.developer.getSubscription.useQuery(void 0,{staleTime:0,refetchOnMount:!0}),c=s?.subscription,p=c?.limits,m=c?.usage,h=(()=>{if(!c?.trialEndsAt)return null;const e=new Date,s=new Date(c.trialEndsAt),a=Math.ceil((s.getTime()-e.getTime())/864e5);return a>0?a:0})(),getUsagePercent=(e,s)=>s>=999999?0:Math.min(e/s*100,100),isUnlimited=e=>e>=999999;if(a)return u.jsx("div",{className:"space-y-4",children:u.jsx(ea,{className:"animate-pulse",children:u.jsx(sa,{className:"h-48"})})});if(!c)return u.jsx("div",{className:"space-y-4",children:u.jsx(ea,{children:u.jsxs(sa,{className:"py-12 text-center",children:[u.jsx(Ti,{className:"w-12 h-12 mx-auto text-slate-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Subscription"}),u.jsx("p",{className:"text-slate-600 mb-4",children:"Start your free trial to access all features"}),u.jsxs(Button$1,{onClick:()=>e("/subscription-plans"),className:"bg-blue-600 hover:bg-blue-700",children:[u.jsx(el,{className:"w-4 h-4 mr-2"}),"Start Free Trial"]})]})})});const f=Tq[c.tier]||Tq.free_trial,g=f.icon;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ea,{className:"overflow-hidden",children:[u.jsx("div",{className:`h-2 bg-gradient-to-r ${f.gradient}`}),u.jsx(ta,{className:"pb-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:cn("p-3 rounded-xl",f.color),children:u.jsx(g,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsxs(ra,{className:"text-2xl flex items-center gap-2",children:[f.label,u.jsx(Badge,{variant:"outline",className:cn("ml-2",f.color),children:"active"===c.status?"Active":c.status})]}),u.jsx(na,{className:"mt-1",children:"free_trial"===c.tier&&null!==h?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Qa,{className:"w-4 h-4"}),h>0?`${h} days remaining`:"Trial expired"]}):"Your current subscription plan"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>l(),className:"gap-2",children:[u.jsx(Oo,{className:"w-4 h-4"}),"Refresh"]}),"premium"!==c.tier&&u.jsxs(Button$1,{onClick:()=>e("/developer/plans"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:["Upgrade",u.jsx(ha,{className:"w-4 h-4 ml-2"})]})]})]})}),u.jsxs(sa,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(fl,{className:"w-4 h-4 text-blue-600"}),"Current Usage"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[u.jsx(ka,{className:"w-4 h-4 text-blue-600"}),"Developments"]}),u.jsxs("span",{className:"text-sm font-semibold",children:[m?.developmentsCount||0," /"," ",isUnlimited(p?.maxDevelopments||1)?"":p?.maxDevelopments]})]}),u.jsx(Progress,{value:getUsagePercent(m?.developmentsCount||0,p?.maxDevelopments||1),className:"h-2"}),!isUnlimited(p?.maxDevelopments||1)&&getUsagePercent(m?.developmentsCount||0,p?.maxDevelopments||1)>=80&&u.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Approaching limit"})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[u.jsx(Cl,{className:"w-4 h-4 text-green-600"}),"Leads This Month"]}),u.jsxs("span",{className:"text-sm font-semibold",children:[m?.leadsThisMonth||0," /"," ",isUnlimited(p?.maxLeadsPerMonth||50)?"":p?.maxLeadsPerMonth]})]}),u.jsx(Progress,{value:getUsagePercent(m?.leadsThisMonth||0,p?.maxLeadsPerMonth||50),className:"h-2"})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[u.jsx(Cl,{className:"w-4 h-4 text-purple-600"}),"Team Members"]}),u.jsxs("span",{className:"text-sm font-semibold",children:[m?.teamMembersCount||0," /"," ",isUnlimited(p?.maxTeamMembers||1)?"":p?.maxTeamMembers]})]}),u.jsx(Progress,{value:getUsagePercent(m?.teamMembersCount||0,p?.maxTeamMembers||1),className:"h-2"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-semibold text-slate-900",children:"Features"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsx(FeatureBadge,{label:"CRM Integration",enabled:p?.crmIntegrationEnabled||!1}),u.jsx(FeatureBadge,{label:"Advanced Analytics",enabled:p?.advancedAnalyticsEnabled||!1}),u.jsx(FeatureBadge,{label:"Bond Integration",enabled:p?.bondIntegrationEnabled||!1}),u.jsx(FeatureBadge,{label:`${p?.analyticsRetentionDays||30} Days Analytics`,enabled:!0})]})]})]})]}),u.jsxs(ea,{children:[u.jsxs(ta,{children:[u.jsx(ra,{className:"text-lg",children:"Billing History"}),u.jsx(na,{children:"Your past invoices and payments"})]}),u.jsx(sa,{children:u.jsxs(Table,{children:[u.jsx(TableHeader,{children:u.jsxs(TableRow,{children:[u.jsx(TableHead,{children:"Date"}),u.jsx(TableHead,{children:"Description"}),u.jsx(TableHead,{children:"Amount"}),u.jsx(TableHead,{children:"Status"}),u.jsx(TableHead,{children:"Receipt"})]})}),u.jsx(TableBody,{children:u.jsx(TableRow,{children:u.jsx(TableCell,{colSpan:5,className:"text-center py-8 text-slate-500",children:"No invoices yet. Upgrade to a paid plan to see billing history."})})})]})})]}),"free_trial"===c.tier&&u.jsx(ea,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:u.jsx(sa,{className:"py-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:u.jsx(el,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Ready to grow?"}),u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upgrade to Basic or Premium to unlock more developments, leads, and premium features."}),u.jsxs(Button$1,{onClick:()=>e("/developer/plans"),className:"bg-blue-600 hover:bg-blue-700",children:["View Plans",u.jsx(ha,{className:"w-4 h-4 ml-2"})]})]})]})})})]})}function FeatureBadge({label:e,enabled:s}){return u.jsxs("div",{className:cn("flex items-center gap-2 p-3 rounded-lg text-sm font-medium transition-colors",s?"bg-green-50 text-green-700 border border-green-200":"bg-slate-100 text-slate-500 border border-slate-200"),children:[s?u.jsx(Ia,{className:"w-4 h-4 text-green-600"}):u.jsx(Il,{className:"w-4 h-4 text-slate-400"}),e]})}function DeveloperCampaignsPage(){return u.jsx(u.Fragment,{children:u.jsx(MarketingCampaigns,{})})}function DeveloperPerformancePage(){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Track your development performance metrics"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Lead Conversion",value:"0%",icon:ol,gradient:"from-blue-500 to-blue-600"},{title:"Sales Growth",value:"0%",icon:fl,gradient:"from-green-500 to-green-600"},{title:"Lead Quality",value:"0%",icon:Cl,gradient:"from-purple-500 to-purple-600"},{title:"Revenue",value:"R0",icon:ii,gradient:"from-orange-500 to-orange-600"}].map((e,s)=>u.jsxs(ea,{className:"shadow-soft rounded-xl border-gray-100",children:[u.jsxs(ta,{className:"pb-2",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.gradient} flex items-center justify-center shadow-soft mb-3`,children:u.jsx(e.icon,{className:"w-6 h-6 text-white"})}),u.jsx(na,{children:e.title})]}),u.jsx(sa,{children:u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.value})})]},s))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ea,{className:"shadow-soft rounded-xl border-gray-100",children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Performance Over Time"}),u.jsx(na,{children:"Track your key metrics month by month"})]}),u.jsx(sa,{children:u.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-500",children:"Chart placeholder"})})})]}),u.jsxs(ea,{className:"shadow-soft rounded-xl border-gray-100",children:[u.jsxs(ta,{children:[u.jsx(ra,{children:"Development Comparison"}),u.jsx(na,{children:"Compare performance across developments"})]}),u.jsx(sa,{children:u.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-500",children:"Chart placeholder"})})})]})]})]})}const Eq=[{id:"free_trial",name:"Free Trial",tier:"free_trial",price:0,priceDisplay:"Free",period:"14 days",description:"Try all features free for 14 days",icon:Ti,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-100 text-purple-700",borderColor:"border-purple-500",isPopular:!0,isFree:!0,features:[{label:"1 Development",included:!0},{label:"50 Leads/month",included:!0},{label:"1 Team Member",included:!0},{label:"30 Days Analytics",included:!0},{label:"Basic Dashboard",included:!0},{label:"CRM Integration",included:!1},{label:"Advanced Analytics",included:!1},{label:"Bond Calculator",included:!1}]},{id:"basic",name:"Basic",tier:"basic",price:149900,priceDisplay:"R1,499",period:"/month",description:"For growing developers",icon:$l,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-100 text-blue-700",borderColor:"border-blue-500",isPopular:!1,isFree:!1,features:[{label:"5 Developments",included:!0},{label:"200 Leads/month",included:!0},{label:"5 Team Members",included:!0},{label:"90 Days Analytics",included:!0},{label:"Priority Support",included:!0},{label:"CRM Integration",included:!1},{label:"Advanced Analytics",included:!0},{label:"Bond Calculator",included:!0}]},{id:"premium",name:"Premium",tier:"premium",price:399900,priceDisplay:"R3,999",period:"/month",description:"For enterprise developers",icon:ai,color:"from-amber-500 to-orange-500",bgColor:"bg-amber-100 text-amber-700",borderColor:"border-amber-500",isPopular:!1,isFree:!1,features:[{label:"Unlimited Developments",included:!0},{label:"Unlimited Leads",included:!0},{label:"50 Team Members",included:!0},{label:"365 Days Analytics",included:!0},{label:"Dedicated Account Manager",included:!0},{label:"CRM Integration",included:!0},{label:"Advanced Analytics",included:!0},{label:"Bond Calculator",included:!0}]}];function DeveloperPlans(){const[,e]=useLocation(),[s,a]=re.useState(null),[l,c]=re.useState(!1),{data:p,refetch:m}=At.developer.getSubscription.useQuery(void 0,{staleTime:0}),h=At.developer.upgradeSubscription.useMutation({onSuccess:s=>{c(!1),a(null),m(),e("/developer/dashboard")},onError:e=>{alert(`Upgrade failed: ${e.message}`)}}),f=p?.subscription?.tier;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs(Button$1,{variant:"ghost",className:"mb-6",onClick:()=>e("/developer/dashboard"),children:[u.jsx(ua,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs(Badge,{className:"mb-4 bg-blue-100 text-blue-700 hover:bg-blue-100",children:[u.jsx(el,{className:"w-3 h-3 mr-1"}),"Developer Plans"]}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:"Scale Your Property Development Business"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Choose the perfect plan for your needs. All plans include our core platform features."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Eq.map(s=>{const l=s.icon,p=f===s.tier;return u.jsxs(ea,{className:cn("relative overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1",s.isPopular&&"ring-2 ring-purple-500 shadow-xl scale-[1.02]",p&&"ring-2 ring-green-500"),children:[u.jsx("div",{className:cn("h-2 bg-gradient-to-r",s.color)}),s.isPopular&&u.jsx("div",{className:"absolute top-6 right-4",children:u.jsx(Badge,{className:"bg-purple-600 text-white shadow-lg",children:"Most Popular"})}),p&&u.jsx("div",{className:"absolute top-6 right-4",children:u.jsx(Badge,{className:"bg-green-600 text-white shadow-lg",children:"Current Plan"})}),u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:cn("p-4 rounded-2xl",s.bgColor),children:u.jsx(l,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.name}),u.jsx("p",{className:"text-sm text-slate-500",children:s.description})]})]}),u.jsxs("div",{className:"mb-8",children:[s.isFree?u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:"text-5xl font-bold text-slate-900",children:"Free"}),u.jsxs("span",{className:"text-slate-500",children:["for ",s.period]})]}):u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-5xl font-bold text-slate-900",children:s.priceDisplay}),u.jsx("span",{className:"text-slate-500",children:s.period})]}),s.isFree&&u.jsx("p",{className:"text-sm text-purple-600 font-medium mt-2",children:"Then R0/month on Free tier, or upgrade"})]}),u.jsx("ul",{className:"space-y-4 mb-8",children:s.features.map((e,s)=>u.jsxs("li",{className:cn("flex items-center gap-3 text-sm",e.included?"text-slate-700":"text-slate-400"),children:[e.included?u.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-green-100 flex items-center justify-center",children:u.jsx(Ia,{className:"w-3 h-3 text-green-600"})}):u.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-slate-100 flex items-center justify-center",children:u.jsx(Il,{className:"w-3 h-3 text-slate-400"})}),u.jsx("span",{className:e.included?"font-medium":"line-through",children:e.label})]},s))}),p?u.jsx(Button$1,{disabled:!0,className:"w-full h-12",variant:"outline",children:"Current Plan"}):u.jsx(Button$1,{className:cn("w-full h-12 font-semibold transition-all",s.isPopular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg":s.isFree?"bg-slate-900 hover:bg-slate-800":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700"),onClick:()=>(s=>{s.tier!==f&&("free_trial"!==s.tier?(a(s),c(!0)):e("/developer/dashboard"))})(s),children:s.isFree?"Start Free Trial":`Upgrade to ${s.name}`})]})]},s.id)})}),u.jsxs("div",{className:"max-w-4xl mx-auto mt-16",children:[u.jsx("h2",{className:"text-2xl font-bold text-center text-slate-900 mb-8",children:"Compare All Features"}),u.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200",children:[u.jsx("th",{className:"text-left p-4 text-slate-700 font-semibold",children:"Feature"}),u.jsx("th",{className:"text-center p-4 text-purple-700 font-semibold",children:"Free Trial"}),u.jsx("th",{className:"text-center p-4 text-blue-700 font-semibold",children:"Basic"}),u.jsx("th",{className:"text-center p-4 text-amber-700 font-semibold",children:"Premium"})]})}),u.jsxs("tbody",{children:[u.jsx(ComparisonRow,{label:"Developments",values:["1","5","Unlimited"],icon:ka}),u.jsx(ComparisonRow,{label:"Leads/Month",values:["50","200","Unlimited"],icon:Cl}),u.jsx(ComparisonRow,{label:"Team Members",values:["1","5","50"],icon:Cl}),u.jsx(ComparisonRow,{label:"Analytics Retention",values:["30 days","90 days","365 days"],icon:fl}),u.jsx(ComparisonRow,{label:"CRM Integration",values:[!1,!1,!0],icon:Ji}),u.jsx(ComparisonRow,{label:"Advanced Analytics",values:[!1,!0,!0],icon:fl}),u.jsx(ComparisonRow,{label:"Bond Calculator",values:[!1,!0,!0],icon:$l}),u.jsx(ComparisonRow,{label:"Priority Support",values:[!1,!0,!0],icon:ai})]})]})})]}),u.jsxs("div",{className:"text-center mt-16 pb-12",children:[u.jsx("p",{className:"text-slate-600 mb-4",children:"Need a custom plan for your enterprise?"}),u.jsx(Button$1,{variant:"outline",className:"border-slate-300",onClick:()=>window.location.href="mailto:developers@listify.co.za",children:"Contact Sales"})]})]})}),u.jsx(Dialog,{open:l,onOpenChange:c,children:u.jsxs(DialogContent,{className:"sm:max-w-md",children:[u.jsxs(DialogHeader,{children:[u.jsx(DialogTitle,{className:"text-xl",children:"Confirm Upgrade"}),u.jsx(DialogDescription,{children:"You're about to upgrade your subscription."})]}),s&&u.jsxs("div",{className:"py-4",children:[u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl mb-4",children:[u.jsx("div",{className:cn("p-3 rounded-xl",s.bgColor),children:(()=>{const e=s.icon;return u.jsx(e,{className:"w-6 h-6"})})()}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg",children:s.name}),u.jsxs("p",{className:"text-slate-600",children:[s.priceDisplay,s.period]})]})]}),u.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[u.jsx("p",{children:" Your limits will be upgraded immediately"}),u.jsx("p",{children:" All existing data will be preserved"}),u.jsx("p",{children:" You can downgrade anytime"})]}),!s.isFree&&u.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:[u.jsx("strong",{children:"Note:"})," Payment integration coming soon. For now, upgrades are activated instantly for testing."]})]}),u.jsxs(DialogFooter,{className:"gap-2 sm:gap-0",children:[u.jsx(Button$1,{variant:"outline",onClick:()=>c(!1),disabled:h.isPending,children:"Cancel"}),u.jsx(Button$1,{onClick:()=>{s&&h.mutate({tier:s.tier})},disabled:h.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:h.isPending?"Upgrading...":"Confirm Upgrade"})]})]})})]})}function ComparisonRow({label:e,values:s,icon:a}){return u.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[u.jsxs("td",{className:"p-4 text-slate-700 font-medium flex items-center gap-2",children:[u.jsx(a,{className:"w-4 h-4 text-slate-400"}),e]}),s.map((e,s)=>u.jsx("td",{className:"p-4 text-center",children:"boolean"==typeof e?e?u.jsx(Ia,{className:"w-5 h-5 text-green-600 mx-auto"}):u.jsx(Il,{className:"w-5 h-5 text-slate-300 mx-auto"}):u.jsx("span",{className:"font-semibold text-slate-700",children:e})},s))]})}function PlaceholderContent({title:e}){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-2",children:e}),u.jsx("p",{className:"text-slate-500",children:"This module is coming soon!"})]})}const Aq=re.lazy(()=>Nq(()=>import("./MyDrafts-BsBy5VPt.js"),[]));function LoadingSpinner(){return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function DeveloperRoutes(){return u.jsx(DeveloperLayout,{children:u.jsxs(Switch$2,{children:[u.jsx(Route,{path:"/developer",component:Overview}),u.jsx(Route,{path:"/developer/dashboard",component:Overview}),u.jsx(Route,{path:"/developer/developments",component:DevelopmentsList}),u.jsx(Route,{path:"/developer/developments/new",component:CreateDevelopmentPage}),u.jsx(Route,{path:"/developer/create-development",component:CreateDevelopmentPage}),u.jsx(Route,{path:"/developer/drafts",children:u.jsx(re.Suspense,{fallback:u.jsx(LoadingSpinner,{}),children:u.jsx(Aq,{})})}),u.jsx(Route,{path:"/developer/leads",component:LeadsManager}),u.jsx(Route,{path:"/developer/messages",component:MessagesCenter}),u.jsx(Route,{path:"/developer/tasks",component:()=>u.jsx(PlaceholderContent,{title:"Tasks"})}),u.jsx(Route,{path:"/developer/reports",component:()=>u.jsx(PlaceholderContent,{title:"Reports"})}),u.jsx(Route,{path:"/developer/analytics",component:AnalyticsPanel}),u.jsx(Route,{path:"/developer/explore",component:()=>u.jsx(PlaceholderContent,{title:"Explore Analytics"})}),u.jsx(Route,{path:"/developer/campaigns",component:MarketingCampaigns}),u.jsx(Route,{path:"/developer/campaigns/new",component:DeveloperCampaignsPage}),u.jsx(Route,{path:"/developer/performance",component:DeveloperPerformancePage}),u.jsx(Route,{path:"/developer/settings",component:SettingsPanel}),u.jsx(Route,{path:"/developer/settings/team",component:TeamManagement}),u.jsx(Route,{path:"/developer/subscription",component:BillingPanel}),u.jsx(Route,{path:"/developer/settings/subscription",component:BillingPanel}),u.jsx(Route,{path:"/developer/plans",component:DeveloperPlans}),u.jsx(Route,{path:"/developer/notifications",component:()=>u.jsx(PlaceholderContent,{title:"Notifications"})}),u.jsx(Route,{children:u.jsx(Redirect,{to:"/developer/dashboard"})})]})})}function DeveloperDirectoryPage(){const[,e]=useLocation(),[s,a]=re.useState(""),[l,c]=re.useState("all"),{data:p,isLoading:m}=At.brandProfile.listBrandProfiles.useQuery({search:s||void 0,brandTier:"all"!==l?l:void 0,isVisible:!0,limit:50}),h={national:"National Developer",regional:"Regional Developer",boutique:"Boutique Developer"},f={national:"bg-indigo-100 text-indigo-700",regional:"bg-blue-100 text-blue-700",boutique:"bg-emerald-100 text-emerald-700"};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"bg-gradient-to-b from-indigo-900 to-indigo-800 text-white pt-24 pb-12",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Recognised Developers"}),u.jsx("p",{className:"text-indigo-200 text-lg mb-8",children:"Discover trusted property developers across South Africa. Browse developments, view track records, and find your next investment."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-xl mx-auto",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),u.jsx(Input,{placeholder:"Search developers...",value:s,onChange:e=>a(e.target.value),className:"pl-10 h-12 bg-white/10 border-white/20 text-white placeholder:text-indigo-200 focus:bg-white focus:text-slate-900 focus:placeholder:text-slate-400"})]}),u.jsxs(Select$1,{value:l,onValueChange:c,children:[u.jsx(SelectTrigger,{className:"w-full sm:w-48 h-12 bg-white/10 border-white/20 text-white",children:u.jsx(SelectValue,{placeholder:"All Developers"})}),u.jsxs(SelectContent,{children:[u.jsx(SelectItem,{value:"all",children:"All Developers"}),u.jsx(SelectItem,{value:"national",children:"National"}),u.jsx(SelectItem,{value:"regional",children:"Regional"}),u.jsx(SelectItem,{value:"boutique",children:"Boutique"})]})]})]})]})})}),u.jsx("div",{className:"container py-12",children:m?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(no,{className:"h-12 w-12 animate-spin text-indigo-600"})}):p&&p.length>0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("p",{className:"text-slate-600",children:["Showing ",u.jsx("span",{className:"font-semibold text-slate-900",children:p.length})," ","developers"]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(s=>u.jsx(ea,{className:"group border-slate-200 hover:border-indigo-300 hover:shadow-lg transition-all cursor-pointer",onClick:()=>e(`/developer/${s.slug}`),children:u.jsxs(sa,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-100 overflow-hidden border border-slate-200 shrink-0 group-hover:border-indigo-300 transition-colors",children:s.logoUrl?u.jsx("img",{src:s.logoUrl,alt:s.brandName,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-600 text-white text-xl font-bold",children:s.brandName.charAt(0)})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-slate-900 group-hover:text-indigo-600 transition-colors truncate",children:s.brandName}),s.brandTier&&u.jsx(Badge,{className:`mt-1 border-0 text-xs ${f[s.brandTier]||"bg-slate-100 text-slate-700"}`,children:h[s.brandTier]||s.brandTier})]})]}),s.headOfficeLocation&&u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500 mb-3",children:[u.jsx(lo,{className:"h-4 w-4"}),u.jsx("span",{className:"truncate",children:s.headOfficeLocation})]}),s.about&&u.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-4",children:s.about}),s.propertyFocus&&s.propertyFocus.length>0&&u.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[s.propertyFocus.slice(0,3).map(e=>u.jsx(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-600 border-0 text-xs capitalize",children:e.replace(/_/g," ")},e)),s.propertyFocus.length>3&&u.jsxs(Badge,{variant:"secondary",className:"bg-slate-100 text-slate-600 border-0 text-xs",children:["+",s.propertyFocus.length-3," more"]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[s.totalLeadsReceived&&s.totalLeadsReceived>0?u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[u.jsx(Bi,{className:"h-4 w-4"}),u.jsxs("span",{children:[s.totalLeadsReceived," buyer enquiries"]})]}):u.jsx("div",{}),u.jsxs(Button$1,{variant:"ghost",size:"sm",className:"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 -mr-2",children:["View Profile",u.jsx(Fa,{className:"h-4 w-4 ml-1"})]})]})]})},s.id))})]}):u.jsxs("div",{className:"text-center py-20",children:[u.jsx(ka,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Developers Found"}),u.jsx("p",{className:"text-slate-500 mb-6",children:s?`No developers match "${s}". Try a different search.`:"No developers are currently listed in the directory."}),u.jsx(Button$1,{variant:"outline",onClick:()=>{a(""),c("all")},children:"Clear Filters"})]})}),u.jsx("div",{className:"bg-slate-100 py-8",children:u.jsx("div",{className:"container",children:u.jsx("p",{className:"text-center text-sm text-slate-500 max-w-2xl mx-auto",children:"Developer names and logos are used for identification purposes only and do not imply partnership or endorsement. Information is provided for reference and may not reflect current status."})})})]})}function DeveloperBrandProfilePage(){const[,e]=useRoute("/developer/:slug"),[,s]=useLocation(),a=e?.slug||"",{data:l,isLoading:c,error:p}=At.developer.getPublicDeveloperBySlug.useQuery({slug:a},{enabled:!!a,retry:!1}),{data:m,isLoading:h}=At.developer.getPublicDevelopmentsForProfile.useQuery({profileType:l?.type||"subscriber",profileId:l?.id||0},{enabled:!!l});if(c)return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"flex items-center justify-center py-40",children:u.jsx(no,{className:"h-12 w-12 animate-spin text-indigo-600"})})]});if(p||!l)return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsxs(wr,{children:[u.jsx("title",{children:"Developer Not Found | Property Listify"}),u.jsx("meta",{name:"robots",content:"noindex"})]}),u.jsx(ListingNavbar,{}),u.jsxs("div",{className:"container py-20 text-center",children:[u.jsx(Va,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Developer Not Found"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"The developer profile you're looking for doesn't exist or has been removed."}),u.jsx(Button$1,{onClick:()=>s("/developers"),children:"Browse All Developers"})]})]});const f={"@context":"https://schema.org","@type":"RealEstateAgent",name:l.name,image:l.logo,description:l.description,url:window.location.href,address:l.address?{"@type":"PostalAddress",streetAddress:l.address}:void 0,telephone:l.phones&&l.phones.length>0?l.phones[0]:void 0,email:l.emails&&l.emails.length>0?l.emails[0]:void 0,sameAs:l.website?[l.website]:[]};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsxs(wr,{children:[u.jsx("title",{children:`${l.name} - Property Developer Profile | Property Listify`}),u.jsx("meta",{name:"description",content:l.description?l.description.slice(0,160):`Learn more about ${l.name}, a property developer on Property Listify.`}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(f)})]}),u.jsx(ListingNavbar,{}),u.jsx("div",{className:"bg-gradient-to-b from-indigo-900 to-indigo-800 text-white pt-24 pb-16",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[u.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-2xl bg-white/10 overflow-hidden border-2 border-white/20 shrink-0 flex items-center justify-center",children:l.logo?u.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full object-cover"}):u.jsx(ka,{className:"h-12 w-12 text-white/50"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:l.name}),l.stats.isVerified&&u.jsxs(Badge,{className:"bg-emerald-500/20 text-emerald-100 border-emerald-500/50 flex items-center gap-1",children:[u.jsx(CheckCircle,{className:"h-3 w-3"}),"Verified"]}),l.stats.isTrusted&&u.jsxs(Badge,{className:"bg-indigo-500/20 text-indigo-100 border-indigo-500/50 flex items-center gap-1",children:[u.jsx(Zo,{className:"h-3 w-3"}),"Trusted Partner"]})]}),l.address&&u.jsxs("div",{className:"flex items-center gap-2 text-indigo-200 mb-3",children:[u.jsx(lo,{className:"h-4 w-4"}),u.jsx("span",{children:l.address})]}),l.description&&u.jsx("p",{className:"text-indigo-100 text-lg max-w-2xl mb-4 leading-relaxed line-clamp-3",children:l.description}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-indigo-200",children:[l.stats.establishedYear&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(Ea,{className:"h-4 w-4"}),u.jsxs("span",{children:["Est. ",l.stats.establishedYear]})]}),l.website&&u.jsxs("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[u.jsx(Ai,{className:"h-4 w-4"}),u.jsx("span",{children:"Website"})]})]})]})]})})}),u.jsxs("div",{className:"container py-12",children:[u.jsxs("div",{className:"mb-12",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[u.jsx(ka,{className:"h-6 w-6 text-indigo-600"}),"Developments by ",l.name]})}),!h&&m&&m.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{let s=[];try{const a="string"==typeof e.images?JSON.parse(e.images):e.images;Array.isArray(a)&&(s=a.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&"url"in e?e.url:"").filter(Boolean))}catch(a){s=[]}return u.jsx(DevelopmentCard,{id:e.slug||String(e.id),title:e.name,rating:Number(e.rating)||0,location:`${e.suburb?e.suburb+", ":""}${e.city}`,description:e.description||"",image:s[0]||"",unitTypes:e.unitTypes||[],highlights:e.highlights||[],developer:{name:l.name,isFeatured:!!l.stats.isVerified},imageCount:s.length,isFeatured:!!e.isFeatured,status:e.status,nature:e.nature},e.id)})}):h?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>u.jsx("div",{className:"h-96 bg-slate-200 rounded-xl animate-pulse"},e))}):u.jsxs("div",{className:"bg-slate-100 rounded-xl p-12 text-center",children:[u.jsx(Home,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No Developments Listed"}),u.jsx("p",{className:"text-slate-500",children:"This developer does not have any active listings on Property Listify."})]})]}),u.jsx(Separator,{className:"my-8"}),"brand"===l.type&&u.jsxs("div",{className:"bg-slate-100 rounded-xl p-6 mt-8 text-center max-w-2xl mx-auto",children:[u.jsxs("p",{className:"text-slate-600 mb-3",children:["Are you part of the ",u.jsx("strong",{children:l.name})," team?"]}),u.jsx(Button$1,{variant:"outline",className:"border-indigo-200 text-indigo-600 hover:bg-indigo-50",onClick:()=>s("/developer/setup"),children:"Claim This Profile"})]})]}),u.jsx("div",{className:"bg-slate-100 py-6",children:u.jsx("div",{className:"container",children:u.jsx("p",{className:"text-center text-sm text-slate-500 max-w-2xl mx-auto",children:"Developer information is provided for identification purposes only."})})})]})}function CompareProperties(){const{comparedProperties:e,removeFromComparison:s,clearComparison:a}=useComparison(),[,l]=useLocation(),{data:c,isLoading:p}=At.properties.search.useQuery({status:"available",limit:100},{enabled:e.length>0});if(0===e.length)return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-20",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Compare Properties"}),u.jsx("p",{className:"text-slate-600 mb-8",children:"You haven't selected any properties to compare yet. Add properties from the listings page to get started."}),u.jsxs(Button$1,{onClick:()=>l("/properties"),variant:"default",children:[u.jsx(ua,{className:"mr-2 h-4 w-4"}),"Browse Properties"]})]})})]});const m=(c?.filter(s=>e.includes(s.id))||[]).map(normalizePropertyForUI).filter(e=>null!==e);if(p)return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsx("div",{className:"container mx-auto px-4 py-20",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(no,{className:"h-8 w-8 animate-spin text-blue-600"})})})]});return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(ListingNavbar,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Compare Properties"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Button$1,{variant:"outline",onClick:()=>l("/properties"),children:[u.jsx(ua,{className:"mr-2 h-4 w-4"}),"Back to Properties"]}),u.jsx(Button$1,{variant:"outline",onClick:a,children:"Clear All"})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[u.jsx("th",{className:"text-left p-4 font-medium text-slate-700 sticky left-0 bg-slate-50 z-10",children:"Property"}),m.map(e=>u.jsx("th",{className:"p-4 min-w-[280px]",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative h-48 rounded-lg overflow-hidden",children:[u.jsx("img",{src:e.images[0]||"/placeholder-property.jpg",alt:e.title,className:"w-full h-full object-cover"}),u.jsx("button",{onClick:()=>s(parseInt(e.id)),className:"absolute top-2 right-2 bg-white/90 hover:bg-white rounded-full p-1.5 transition-colors",children:u.jsx(Il,{className:"h-4 w-4 text-slate-600"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-2",children:e.title}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:["R ",e.price.toLocaleString()]})]}),u.jsx(Button$1,{onClick:()=>l(`/property/${e.id}`),className:"w-full",size:"sm",children:"View Details"})]})},e.id))]})}),u.jsx("tbody",{children:[{label:"Price",key:"price",format:e=>`R ${e?.toLocaleString()}`},{label:"Property Type",key:"propertyType"},{label:"Listing Type",key:"listingType"},{label:"Bedrooms",key:"bedrooms"},{label:"Bathrooms",key:"bathrooms"},{label:"Area (sqm)",key:"area",format:e=>`${e} sqm`},{label:"City",key:"city"},{label:"Address",key:"address"}].map((e,s)=>{const a=m.map(s=>s[e.key]),l=a.every(e=>e===a[0]);return u.jsxs("tr",{className:"border-b border-slate-100 "+(s%2==0?"bg-white":"bg-slate-50/50"),children:[u.jsx("td",{className:"p-4 font-medium text-slate-700 sticky left-0 bg-inherit z-10",children:e.label}),m.map(s=>{const a=s[e.key],c=e.format?e.format(a):a||"N/A";return u.jsx("td",{className:"p-4 text-center "+(!l&&a?"bg-blue-50/50":""),children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[!l&&a&&u.jsx("span",{className:"text-blue-600",children:u.jsx(Ia,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-slate-900",children:c})]})},s.id)})]},e.key)})})]})})}),u.jsxs("div",{className:"mt-8 text-center text-sm text-slate-600",children:[u.jsx("p",{children:"Differences between properties are highlighted in blue."}),u.jsx("p",{className:"mt-1",children:"You can compare up to 4 properties at once."})]})]})]})}const Mq={colors:{primary:{gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",light:"#f0f4ff",base:"#667eea",dark:"#5a67d8",subtle:"#e9ecff"},secondary:{gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",light:"#fff5f7",base:"#f093fb"},neutral:{white:"#ffffff",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray900:"#111827"},accent:{blue:"#3b82f6",green:"#10b981",yellow:"#f59e0b",purple:"#8b5cf6"}},shadows:{soft:"0 2px 8px rgba(0, 0, 0, 0.04), 0 4px 16px rgba(0, 0, 0, 0.06)",softHover:"0 4px 12px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.12)",softLarge:"0 8px 24px rgba(0, 0, 0, 0.08), 0 16px 48px rgba(0, 0, 0, 0.12)",primaryGlow:"0 4px 16px rgba(102, 126, 234, 0.3)"},borderRadius:{soft:"12px",softLarge:"16px"},transitions:{fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",base:"300ms cubic-bezier(0.4, 0, 0.2, 1)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","5xl":"6rem"},typography:{fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{medium:"500",semibold:"600",bold:"700"},lineHeight:{relaxed:"1.625"}},zIndex:{sticky:1020}},Lq={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-20,transition:{duration:.3,ease:[.4,0,.2,1]}}},Dq={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}},exit:{transition:{staggerChildren:.05,staggerDirection:-1}}},Oq={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-10,transition:{duration:.2,ease:[.4,0,.2,1]}}},Iq={rest:{scale:1},hover:{scale:1.02,transition:{duration:.2,ease:[.4,0,.2,1]}},tap:{scale:.98,transition:{duration:.1,ease:[.4,0,.2,1]}}},getDeviceType=()=>{if("undefined"==typeof window)return"desktop";const e=window.innerWidth;return e<768?"mobile":e<1024?"tablet":"desktop"};let $q=null;const getSessionId=()=>{if($q)return $q;if("undefined"!=typeof window&&window.sessionStorage){const e=sessionStorage.getItem("advertise_session_id");if(e)return $q=e,$q}return $q=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,"undefined"!=typeof window&&window.sessionStorage&&sessionStorage.setItem("advertise_session_id",$q),$q},getUserId=()=>{if("undefined"!=typeof window)try{return localStorage.getItem("user_id")||void 0}catch{return}},getReferrer=()=>{if("undefined"!=typeof window)return document.referrer||void 0},getBaseMetadata=()=>({deviceType:getDeviceType(),sessionId:getSessionId(),userId:getUserId(),referrer:getReferrer(),timestamp:(new Date).toISOString()}),trackCTAClick=e=>{const s={eventType:"cta_click",...getBaseMetadata(),...e};"undefined"!=typeof window&&window.gtag&&window.gtag("event","cta_click",{event_category:"engagement",event_label:e.ctaLabel,cta_location:e.ctaLocation,cta_href:e.ctaHref,...getBaseMetadata()}),sendToAnalytics(s)},Rq=new Set,trackScrollDepth=e=>{if(Rq.has(e.percentage))return;Rq.add(e.percentage);const s={eventType:"scroll_depth",...getBaseMetadata(),...e};"undefined"!=typeof window&&window.gtag&&window.gtag("event","scroll_depth",{event_category:"engagement",event_label:`${e.percentage}%`,scroll_percentage:e.percentage,section:e.section,...getBaseMetadata()}),sendToAnalytics(s)},trackFAQExpand=e=>{const s={eventType:"faq_expand",...getBaseMetadata(),...e};"undefined"!=typeof window&&window.gtag&&window.gtag("event","faq_expand",{event_category:"engagement",event_label:e.question,faq_index:e.index,...getBaseMetadata()}),sendToAnalytics(s)},sendToAnalytics=async e=>{try{0;const s="/api/analytics/track";await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0})}catch(s){console.error("Analytics tracking error:",s)}},CTAButton=({label:e,href:s,variant:a,onClick:l,className:c="",fullWidth:p=!1})=>{const m="primary"===a,h={background:Mq.colors.primary.gradient,color:Mq.colors.neutral.white,boxShadow:Mq.shadows.soft,borderRadius:Mq.borderRadius.soft,transition:`all ${Mq.transitions.base}`},f={background:"transparent",color:Mq.colors.primary.base,border:`2px solid ${Mq.colors.primary.base}`,borderRadius:Mq.borderRadius.soft,transition:`all ${Mq.transitions.base}`};return u.jsx(kb.a,{href:s,onClick:a=>{trackCTAClick({ctaLabel:e,ctaLocation:"hero",ctaHref:s}),l&&(a.preventDefault(),l())},className:`cta-button cta-button--${a} inline-flex items-center justify-center px-8 py-3.5 text-base sm:text-lg font-semibold no-underline cursor-pointer ${p?"w-full":""} ${c}`,style:m?h:f,variants:Iq,initial:"rest",whileHover:"hover",whileTap:"tap","aria-label":e,children:e})},CTAButtonGroup=({primaryCTA:e,secondaryCTA:s,className:a=""})=>u.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 ${a}`,children:[u.jsx(CTAButton,{label:e.label,href:e.href,variant:"primary",onClick:e.onClick}),u.jsx(CTAButton,{label:s.label,href:s.href,variant:"secondary",onClick:s.onClick})]}),Fq=[320,640,768,1024,1280,1536,1920];function OptimizedImage({src:e,alt:s,className:a,width:l,height:c,priority:p=!1,objectFit:m="cover",sizes:h="100vw",onLoad:f,onError:g}){const[b,j]=re.useState(!1),[N,k]=re.useState(p),[_,T]=re.useState(!1),E=re.useRef(null);re.useEffect(()=>{if(p||!E.current)return;const e=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&(k(!0),e.disconnect())})},{rootMargin:"50px"});return e.observe(E.current),()=>{e.disconnect()}},[p]);const A=function generateSrcSet(e,s){return s.map(s=>`${e}?w=${s} ${s}w`).join(", ")}(e,Fq),L=function generateWebPSrcSet(e,s){return s.map(s=>`${e}?w=${s}&format=webp ${s}w`).join(", ")}(e,Fq);return u.jsxs("div",{className:cn("relative overflow-hidden bg-gray-100",a),style:{width:l,height:c},children:[!b&&!_&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse"}),_&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center text-gray-400",children:[u.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("p",{className:"text-sm",children:"Image not available"})]})}),N&&!_&&u.jsxs("picture",{children:[u.jsx("source",{type:"image/webp",srcSet:L,sizes:h}),u.jsx("img",{ref:E,src:e,srcSet:A,sizes:h,alt:s,loading:p?"eager":"lazy",decoding:"async",onLoad:()=>{j(!0),f?.()},onError:()=>{T(!0),g?.()},className:cn("w-full h-full transition-opacity duration-300",b?"opacity-100":"opacity-0","cover"===m&&"object-cover","contain"===m&&"object-contain","fill"===m&&"object-fill","none"===m&&"object-none","scale-down"===m&&"object-scale-down"),style:{width:l||"100%",height:c||"100%"}})]})]})}const BillboardBanner=({imageUrl:e,alt:s,developmentName:a,tagline:l,ctaLabel:c="View Development",href:p,onClick:m})=>u.jsxs(kb.a,{href:p,onClick:()=>{m&&m()},className:"block relative w-full group cursor-pointer",variants:Lq,initial:"initial",animate:"animate",whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:300,damping:30},"aria-label":`View ${a} development`,children:[u.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{background:`linear-gradient(135deg, ${Mq.colors.primary.light}, ${Mq.colors.secondary.light})`,filter:"blur(20px)",zIndex:-1}}),u.jsxs("div",{className:"relative w-full h-[400px] sm:h-[450px] lg:h-[500px] rounded-3xl overflow-hidden bg-white",style:{boxShadow:Mq.shadows.softLarge},children:[u.jsx(OptimizedImage,{src:e,alt:s,priority:!0,objectFit:"cover",className:"w-full h-full transition-transform duration-500 group-hover:scale-105",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 720px"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),u.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 sm:p-8 lg:p-10",children:[u.jsx(kb.h3,{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2 leading-tight",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:a}),u.jsx(kb.p,{className:"text-base sm:text-lg lg:text-xl text-white/90 mb-4 leading-relaxed",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:l}),u.jsxs(kb.div,{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full text-sm sm:text-base font-medium backdrop-blur-md transition-all duration-300 group-hover:gap-3",style:{background:"rgba(255, 255, 255, 0.95)",boxShadow:Mq.shadows.soft},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[u.jsx("span",{className:"text-gray-900",children:c}),u.jsx("svg",{className:"w-4 h-4 text-gray-900 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),u.jsx("div",{className:"absolute top-4 left-4 px-4 py-2 rounded-full text-xs sm:text-sm font-medium backdrop-blur-md",style:{background:"rgba(255, 255, 255, 0.9)",boxShadow:Mq.shadows.soft},children:" Featured Development"})]})]}),TrustSignals=({signals:e})=>0===e.length?null:u.jsxs(kb.div,{className:"pt-8",variants:Dq,initial:"initial",animate:"animate",children:[u.jsx(kb.p,{className:"text-sm text-gray-500 text-center lg:text-left mb-4",variants:Lq,children:"Trusted by leading property professionals"}),u.jsx(kb.div,{className:"flex flex-wrap items-center justify-center lg:justify-start gap-6",variants:Dq,children:e.map((e,s)=>u.jsx(kb.div,{variants:Oq,className:"flex items-center",children:"logo"===e.type&&e.imageUrl?u.jsx("div",{className:"h-8 px-4 flex items-center justify-center rounded-lg",style:{background:Mq.colors.neutral.gray50,boxShadow:Mq.shadows.soft},children:u.jsx(OptimizedImage,{src:e.imageUrl,alt:e.content,priority:!0,objectFit:"contain",className:"h-6 w-auto opacity-70 hover:opacity-100 transition-opacity",sizes:"96px"})}):u.jsx("div",{className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-600",style:{background:Mq.colors.neutral.gray50,boxShadow:Mq.shadows.soft},children:e.content})},s))})]}),BackgroundOrbs=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] rounded-full pointer-events-none",style:{background:Mq.colors.primary.gradient,opacity:.25,filter:"blur(80px)",transform:"translate(30%, -30%)",zIndex:-10},"aria-hidden":"true"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] rounded-full pointer-events-none",style:{background:Mq.colors.secondary.gradient,opacity:.3,filter:"blur(80px)",transform:"translate(-30%, 30%)",zIndex:-10},"aria-hidden":"true"})]}),HeroSection=({headline:e,subheadline:s,primaryCTA:a,secondaryCTA:l,billboard:c,trustSignals:p})=>u.jsxs("section",{className:"hero-section relative overflow-hidden","aria-labelledby":"hero-headline","aria-describedby":"hero-subheadline",role:"banner",style:{background:`linear-gradient(135deg, ${Mq.colors.primary.light} 0%, ${Mq.colors.neutral.white} 50%, ${Mq.colors.secondary.light} 100%)`,minHeight:"max(90vh, 640px)"},children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28 lg:py-32",children:u.jsxs(kb.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-10 lg:gap-12 items-center",variants:Dq,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},children:[u.jsxs(kb.div,{className:"text-center lg:text-left space-y-6",variants:Oq,children:[u.jsx(kb.h1,{id:"hero-headline",className:"text-4xl md:text-5xl font-bold leading-tight",variants:Lq,style:{background:Mq.colors.primary.gradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:e}),u.jsx(kb.p,{id:"hero-subheadline",className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto lg:mx-0",variants:Lq,children:s}),u.jsx(kb.div,{className:"justify-center lg:justify-start",variants:Lq,children:u.jsx(CTAButtonGroup,{primaryCTA:a,secondaryCTA:l})}),p.length>0&&u.jsx(TrustSignals,{signals:p})]}),u.jsx(kb.div,{className:"relative",variants:Oq,children:u.jsx(BillboardBanner,{imageUrl:c.imageUrl,alt:c.alt,developmentName:c.developmentName,tagline:c.tagline,ctaLabel:c.ctaLabel,href:c.href})})]})}),u.jsx(BackgroundOrbs,{})]}),MobileStickyCTA=({label:e,href:s,isVisible:a,onDismiss:l,onClick:c,className:p=""})=>{const[m,h]=re.useState(!1);re.useEffect(()=>{a||h(!1)},[a]);const f=a&&!m;return u.jsx(AnimatePresence,{children:f&&u.jsx(kb.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:`mobile-sticky-cta md:hidden ${p}`,style:{position:"fixed",bottom:0,left:0,right:0,zIndex:Mq.zIndex.sticky,padding:"1rem",paddingBottom:"calc(1rem + env(safe-area-inset-bottom))",background:Mq.colors.neutral.white,boxShadow:"0 -4px 12px rgba(0, 0, 0, 0.1)",borderTop:`1px solid ${Mq.colors.neutral.gray200}`},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(kb.a,{href:s,onClick:a=>{trackCTAClick({ctaLabel:e,ctaLocation:"mobile_sticky",ctaHref:s}),c&&(a.preventDefault(),c())},className:"flex-1",whileTap:{scale:.98},style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.875rem 1.5rem",fontSize:Mq.typography.fontSize.lg,fontWeight:Mq.typography.fontWeight.semibold,borderRadius:Mq.borderRadius.soft,background:Mq.colors.primary.gradient,color:Mq.colors.neutral.white,textDecoration:"none",boxShadow:Mq.shadows.soft,transition:`all ${Mq.transitions.base}`},"aria-label":e,children:e}),u.jsx(kb.button,{onClick:e=>{e.stopPropagation(),h(!0),"undefined"!=typeof window&&window.gtag&&window.gtag("event","sticky_cta_dismiss",{event_category:"engagement",timestamp:(new Date).toISOString()}),l&&l()},whileTap:{scale:.9},className:"dismiss-button",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:Mq.borderRadius.soft,background:Mq.colors.neutral.gray100,border:"none",cursor:"pointer",transition:`all ${Mq.transitions.base}`},"aria-label":"Dismiss sticky CTA",children:u.jsx(Il,{size:20,style:{color:Mq.colors.neutral.gray600}})})]})})})},Bq=[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:"anonymous"},{rel:"dns-prefetch",href:"https://images.unsplash.com"}];function initAdvertisePagePerformance(){!function injectResourceHints(e){"undefined"!=typeof document&&e.forEach(e=>{const s=document.createElement("link");s.rel=e.rel,s.href=e.href,e.as&&s.setAttribute("as",e.as),e.type&&s.setAttribute("type",e.type),e.crossorigin&&s.setAttribute("crossorigin",e.crossorigin),document.head.appendChild(s)})}(Bq),function inlineCriticalCSS(e){if("undefined"==typeof document)return;const s=document.createElement("style");s.textContent=e,document.head.appendChild(s)}("\n  /* Critical CSS for above-the-fold content */\n  /* NOTE: Removed universal selector reset (* { margin: 0; padding: 0; }) as it was\n     overriding Tailwind utilities. Tailwind's Preflight reset is sufficient. */\n\n  body {\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  /* Hero section critical styles */\n  .hero-section {\n    min-height: max(90vh, 640px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  /* CTA button critical styles */\n  .cta-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 1rem 2rem;\n    border-radius: 9999px;\n    font-weight: 600;\n    transition: all 0.3s ease;\n  }\n\n  /* Prevent layout shift */\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n")}const PerformanceOptimizer=()=>(re.useEffect(()=>{initAdvertisePagePerformance()},[]),null),zq=[{id:"skip-to-main",label:"Skip to main content",targetId:"main-content"},{id:"skip-to-partner-selection",label:"Skip to partner selection",targetId:"partner-selection-heading"},{id:"skip-to-value-proposition",label:"Skip to benefits",targetId:"value-proposition-heading"},{id:"skip-to-faq",label:"Skip to FAQ",targetId:"faq-heading"}],SkipLinks=({links:e=zq})=>u.jsxs("nav",{"aria-label":"Skip navigation links",style:{position:"absolute",top:0,left:0,zIndex:9999},children:[u.jsx("ul",{style:{listStyle:"none",margin:0,padding:0},children:e.map(e=>u.jsx("li",{children:u.jsx("a",{href:`#${e.targetId}`,onClick:s=>((e,s)=>{e.preventDefault();const a=document.getElementById(s);a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"start"}))})(s,e.targetId),className:"skip-link",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden",padding:`${Mq.spacing.md} ${Mq.spacing.lg}`,background:Mq.colors.primary.base,color:Mq.colors.neutral.white,textDecoration:"none",borderRadius:Mq.borderRadius.soft,fontWeight:Mq.typography.fontWeight.semibold,fontSize:Mq.typography.fontSize.base,boxShadow:Mq.shadows.softLarge,transition:`all ${Mq.transitions.fast}`},children:e.label})},e.id))}),u.jsx("style",{children:`\n        .skip-link:focus {\n          position: fixed !important;\n          left: ${Mq.spacing.md} !important;\n          top: ${Mq.spacing.md} !important;\n          width: auto !important;\n          height: auto !important;\n          overflow: visible !important;\n          z-index: 10000 !important;\n        }\n        \n        .skip-link:focus:hover {\n          transform: translateY(-2px);\n          box-shadow: ${Mq.shadows.primaryGlow};\n        }\n      `})]});function Breadcrumb({items:e,className:s=""}){const a={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,s)=>({"@type":"ListItem",position:s+1,name:e.label,item:`${window.location.origin}${e.href}`}))};return u.jsxs(u.Fragment,{children:[u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),u.jsx("nav",{"aria-label":"Breadcrumb",className:`py-4 ${s}`,children:u.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[u.jsx("li",{children:u.jsx(rc,{href:"/",className:"flex items-center text-slate-600 hover:text-blue-600 transition-colors","aria-label":"Home",children:u.jsx(Bi,{className:"h-4 w-4"})})}),e.map((s,a)=>{const l=a===e.length-1;return u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx(Fa,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"}),l?u.jsx("span",{className:"text-slate-900 font-medium","aria-current":"page",children:s.label}):u.jsx(rc,{href:s.href,className:"text-slate-600 hover:text-blue-600 transition-colors",children:s.label})]},s.href)})]})})]})}function AdvertiseBreadcrumb(){return u.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(Breadcrumb,{items:[{label:"Advertise With Us",href:"/advertise"}]})})}function SEOHead({title:e="Advertise With Us | Reach High-Intent Property Buyers",description:s="Advertise your properties, developments, and services to thousands of verified home seekers across South Africa. AI-powered visibility, verified leads, and full dashboard control.",canonicalUrl:a="https://platform.com/advertise",ogImage:l="/images/advertise-og-image.jpg",ogType:c="website"}){return u.jsxs(wr,{children:[u.jsx("title",{children:e}),u.jsx("meta",{name:"title",content:e}),u.jsx("meta",{name:"description",content:s}),u.jsx("link",{rel:"canonical",href:a}),u.jsx("meta",{property:"og:type",content:c}),u.jsx("meta",{property:"og:url",content:a}),u.jsx("meta",{property:"og:title",content:e}),u.jsx("meta",{property:"og:description",content:s}),u.jsx("meta",{property:"og:image",content:l}),u.jsx("meta",{property:"og:image:width",content:"1200"}),u.jsx("meta",{property:"og:image:height",content:"630"}),u.jsx("meta",{property:"og:site_name",content:"Property Platform"}),u.jsx("meta",{property:"og:locale",content:"en_ZA"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:url",content:a}),u.jsx("meta",{name:"twitter:title",content:e}),u.jsx("meta",{name:"twitter:description",content:s}),u.jsx("meta",{name:"twitter:image",content:l}),u.jsx("meta",{name:"twitter:image:alt",content:"Advertise With Us - Property Platform"}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"language",content:"English"}),u.jsx("meta",{name:"revisit-after",content:"7 days"}),u.jsx("meta",{name:"author",content:"Property Platform"}),u.jsx("meta",{name:"keywords",content:"property advertising, real estate marketing, property developers, estate agents, property leads, South Africa property, property promotion, real estate advertising"})]})}function StructuredData({pageUrl:e="https://platform.com/advertise",organizationName:s="Property Platform",organizationUrl:a="https://platform.com",organizationLogo:l="https://platform.com/logo.png"}){const c={"@context":"https://schema.org","@type":"WebPage","@id":`${e}#webpage`,url:e,name:"Advertise With Us",description:"Advertising opportunities for property professionals on South Africa's leading property platform",inLanguage:"en-ZA",isPartOf:{"@type":"WebSite","@id":`${a}#website`,url:a,name:s},breadcrumb:{"@id":`${e}#breadcrumb`},potentialAction:{"@type":"ReadAction",target:[e]}},p={"@context":"https://schema.org","@type":"Service","@id":`${e}#service`,name:"Property Advertising Platform",description:"Comprehensive advertising solutions for property developers, estate agents, banks, bond originators, and service providers",provider:{"@type":"Organization","@id":`${a}#organization`,name:s,url:a,logo:{"@type":"ImageObject",url:l}},serviceType:"Property Advertising",areaServed:{"@type":"Country",name:"South Africa"},audience:{"@type":"Audience",audienceType:"Property Professionals"},offers:{"@type":"AggregateOffer",priceCurrency:"ZAR",availability:"https://schema.org/InStock",offerCount:4,offers:[{"@type":"Offer",name:"Agent Plans",description:"Advertising plans for estate agents"},{"@type":"Offer",name:"Developer Plans",description:"Advertising plans for property developers"},{"@type":"Offer",name:"Bank/Loan Provider Plans",description:"Advertising plans for financial institutions"},{"@type":"Offer",name:"Service Provider Plans",description:"Advertising plans for property service providers"}]}},m={"@context":"https://schema.org","@type":"Organization","@id":`${a}#organization`,name:s,url:a,logo:{"@type":"ImageObject",url:l,width:250,height:60},description:"South Africa's leading property platform connecting buyers, sellers, and property professionals",address:{"@type":"PostalAddress",addressCountry:"ZA"},contactPoint:{"@type":"ContactPoint",contactType:"Sales",availableLanguage:["English","Afrikaans"]}},h={"@context":"https://schema.org","@type":"BreadcrumbList","@id":`${e}#breadcrumb`,itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:a},{"@type":"ListItem",position:2,name:"Advertise With Us",item:e}]};return u.jsxs(wr,{children:[u.jsx("script",{type:"application/ld+json",children:JSON.stringify(c)}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(p)}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(m)}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(h)})]})}const useAdvertiseAnalytics=()=>{re.useEffect(()=>{(()=>{const e={eventType:"page_view",...getBaseMetadata(),page:window.location.pathname,title:document.title};"undefined"!=typeof window&&window.gtag&&window.gtag("event","page_view",{page_path:window.location.pathname,page_title:document.title,...getBaseMetadata()}),sendToAnalytics(e)})(),Rq.clear()},[]),re.useEffect(()=>{if("undefined"==typeof window)return;const e=[25,50,75,100],s=new Set;let a=!1;const throttledHandleScroll=()=>{a||(window.requestAnimationFrame(()=>{(()=>{const a=window.innerHeight,l=document.documentElement.scrollHeight,c=window.scrollY||document.documentElement.scrollTop,u=Math.round((c+a)/l*100);e.forEach(e=>{u>=e&&!s.has(e)&&(s.add(e),trackScrollDepth({percentage:e}))})})(),a=!1}),a=!0)};return window.addEventListener("scroll",throttledHandleScroll,{passive:!0}),()=>{window.removeEventListener("scroll",throttledHandleScroll)}},[]);return{trackCTA:re.useCallback(e=>{trackCTAClick(e)},[]),trackScroll:re.useCallback(e=>{trackScrollDepth(e)},[]),trackPartnerType:re.useCallback(e=>{(e=>{const s={eventType:"partner_type_click",...getBaseMetadata(),...e};"undefined"!=typeof window&&window.gtag&&window.gtag("event","partner_type_click",{event_category:"engagement",event_label:e.partnerType,...getBaseMetadata()}),sendToAnalytics(s)})(e)},[]),trackFAQ:re.useCallback(e=>{trackFAQExpand(e)},[])}};class AdvertiseErrorBoundary extends re.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){this.setState({errorInfo:s}),this.props.onError&&this.props.onError(e,s),this.logErrorToService(e,s)}logErrorToService(e,s){try{console.error("Error logged to monitoring service:",{error:e.message,section:this.props.sectionName,componentStack:s.componentStack})}catch(a){console.error("Failed to log error to monitoring service:",a)}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{style:{padding:`${Mq.spacing["5xl"]} ${Mq.spacing.xl}`,background:Mq.colors.neutral.gray50,minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},role:"alert","aria-live":"assertive",children:u.jsxs(kb.div,{variants:Lq,initial:"initial",animate:"animate",style:{maxWidth:"600px",textAlign:"center",padding:Mq.spacing["5xl"],background:Mq.colors.neutral.white,borderRadius:Mq.borderRadius.softLarge,boxShadow:Mq.shadows.soft},children:[u.jsx("div",{style:{color:"#f59e0b",marginBottom:Mq.spacing.lg},"aria-hidden":"true",children:u.jsx(gl,{size:64,style:{margin:"0 auto"}})}),u.jsx("h2",{style:{fontSize:Mq.typography.fontSize["3xl"],fontWeight:Mq.typography.fontWeight.bold,color:Mq.colors.neutral.gray900,marginBottom:Mq.spacing.md},children:this.props.showSectionName&&this.props.sectionName?`${this.props.sectionName} Error`:"Something Went Wrong"}),u.jsx("p",{style:{fontSize:Mq.typography.fontSize.lg,color:Mq.colors.neutral.gray600,marginBottom:Mq.spacing.xl,lineHeight:Mq.typography.lineHeight.relaxed},children:"We encountered an unexpected error while loading this section. Don't worry, our team has been notified and is working on a fix."}),!1,u.jsxs("div",{style:{display:"flex",gap:Mq.spacing.md,justifyContent:"center",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:this.handleReset,style:{display:"inline-flex",alignItems:"center",gap:Mq.spacing.sm,padding:`${Mq.spacing.md} ${Mq.spacing.xl}`,background:Mq.colors.primary.gradient,color:Mq.colors.neutral.white,border:"none",borderRadius:Mq.borderRadius.soft,fontSize:Mq.typography.fontSize.base,fontWeight:Mq.typography.fontWeight.medium,cursor:"pointer",transition:`all ${Mq.transitions.base}`,boxShadow:Mq.shadows.soft},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=Mq.shadows.softHover},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=Mq.shadows.soft},"aria-label":"Try again",children:[u.jsx(Oo,{size:18}),"Try Again"]}),u.jsxs("button",{onClick:this.handleReload,style:{display:"inline-flex",alignItems:"center",gap:Mq.spacing.sm,padding:`${Mq.spacing.md} ${Mq.spacing.xl}`,background:Mq.colors.neutral.white,color:Mq.colors.primary.dark,border:`2px solid ${Mq.colors.primary.dark}`,borderRadius:Mq.borderRadius.soft,fontSize:Mq.typography.fontSize.base,fontWeight:Mq.typography.fontWeight.medium,cursor:"pointer",transition:`all ${Mq.transitions.base}`},onMouseEnter:e=>{e.currentTarget.style.background=Mq.colors.primary.light},onMouseLeave:e=>{e.currentTarget.style.background=Mq.colors.neutral.white},"aria-label":"Reload page",children:[u.jsx(Oo,{size:18}),"Reload Page"]}),u.jsxs("button",{onClick:this.handleGoHome,style:{display:"inline-flex",alignItems:"center",gap:Mq.spacing.sm,padding:`${Mq.spacing.md} ${Mq.spacing.xl}`,background:"transparent",color:Mq.colors.neutral.gray600,border:`1px solid ${Mq.colors.neutral.gray300}`,borderRadius:Mq.borderRadius.soft,fontSize:Mq.typography.fontSize.base,fontWeight:Mq.typography.fontWeight.medium,cursor:"pointer",transition:`all ${Mq.transitions.base}`},onMouseEnter:e=>{e.currentTarget.style.background=Mq.colors.neutral.gray50},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},"aria-label":"Go to home page",children:[u.jsx(Bi,{size:18}),"Go Home"]})]})]})}):this.props.children}}const MinimalErrorFallback=({sectionName:e,onRetry:s})=>u.jsxs("div",{style:{padding:Mq.spacing.xl,background:Mq.colors.neutral.gray50,borderRadius:Mq.borderRadius.soft,textAlign:"center"},role:"alert","aria-live":"polite",children:[u.jsx("p",{style:{color:Mq.colors.neutral.gray600,fontSize:Mq.typography.fontSize.base,marginBottom:Mq.spacing.md},children:e?`Unable to load ${e}`:"Unable to load this section"}),s&&u.jsx("button",{onClick:s,style:{padding:`${Mq.spacing.sm} ${Mq.spacing.lg}`,background:Mq.colors.primary.gradient,color:Mq.colors.neutral.white,border:"none",borderRadius:Mq.borderRadius.soft,fontSize:Mq.typography.fontSize.sm,fontWeight:Mq.typography.fontWeight.medium,cursor:"pointer"},"aria-label":"Retry loading section",children:"Retry"})]}),SectionErrorBoundary=({children:e,sectionName:s,minimal:a=!1})=>u.jsx(AdvertiseErrorBoundary,{sectionName:s,showSectionName:!0,fallback:a?u.jsx(MinimalErrorFallback,{sectionName:s}):void 0,children:e}),SkeletonBase=({className:e="",style:s={},"aria-label":a})=>u.jsx("div",{className:`skeleton-base ${e}`,style:{background:`linear-gradient(90deg, ${Mq.colors.neutral.gray200} 25%, ${Mq.colors.neutral.gray100} 50%, ${Mq.colors.neutral.gray200} 75%)`,backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:Mq.borderRadius.soft,...s},role:"status","aria-label":a||"Loading content","aria-live":"polite",children:u.jsx("style",{children:"\n      @keyframes shimmer {\n        0% { background-position: 200% 0; }\n        100% { background-position: -200% 0; }\n      }\n    "})}),HeroSectionSkeleton=()=>u.jsx("div",{className:"hero-skeleton",style:{background:`linear-gradient(135deg, ${Mq.colors.primary.light} 0%, ${Mq.colors.neutral.white} 50%, ${Mq.colors.secondary.light} 100%)`,minHeight:"max(90vh, 640px)",padding:"3rem 1rem"},role:"region","aria-label":"Loading hero section",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(SkeletonBase,{style:{height:"3rem",width:"100%"},"aria-label":"Loading headline"}),u.jsx(SkeletonBase,{style:{height:"3rem",width:"90%"},"aria-label":"Loading headline"}),u.jsx(SkeletonBase,{style:{height:"3rem",width:"80%"},"aria-label":"Loading headline"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"100%"},"aria-label":"Loading subheadline"}),u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"95%"},"aria-label":"Loading subheadline"})]}),u.jsxs("div",{className:"flex gap-4 justify-center lg:justify-start",children:[u.jsx(SkeletonBase,{style:{height:"3.5rem",width:"10rem"},"aria-label":"Loading primary button"}),u.jsx(SkeletonBase,{style:{height:"3.5rem",width:"10rem"},"aria-label":"Loading secondary button"})]}),u.jsxs("div",{className:"flex gap-6 justify-center lg:justify-start",children:[u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"8rem"},"aria-label":"Loading trust signal"}),u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"8rem"},"aria-label":"Loading trust signal"}),u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"8rem"},"aria-label":"Loading trust signal"})]})]}),u.jsx("div",{children:u.jsx(SkeletonBase,{style:{height:"400px",width:"100%",borderRadius:Mq.borderRadius.softLarge},"aria-label":"Loading billboard banner"})})]})})}),FeaturesGridSkeleton=()=>u.jsx("div",{className:"features-grid-skeleton",style:{padding:`${Mq.spacing["5xl"]} ${Mq.spacing.xl}`,background:Mq.colors.neutral.gray50},role:"region","aria-label":"Loading features grid",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsx("div",{className:"text-center mb-12 space-y-4",children:u.jsx(SkeletonBase,{style:{height:"2.5rem",width:"20rem",margin:"0 auto"},"aria-label":"Loading section title"})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>u.jsx("div",{style:{padding:Mq.spacing.xl,background:Mq.colors.neutral.white,borderRadius:Mq.borderRadius.softLarge,boxShadow:Mq.shadows.soft},children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(SkeletonBase,{style:{height:"2.5rem",width:"2.5rem"},"aria-label":`Loading feature icon ${s+1}`}),u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"70%"},"aria-label":`Loading feature title ${s+1}`}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(SkeletonBase,{style:{height:"1rem",width:"100%"},"aria-label":`Loading feature description ${s+1}`}),u.jsx(SkeletonBase,{style:{height:"1rem",width:"95%"},"aria-label":`Loading feature description ${s+1}`}),u.jsx(SkeletonBase,{style:{height:"1rem",width:"85%"},"aria-label":`Loading feature description ${s+1}`})]})]})},s))})]})}),SocialProofSkeleton=()=>u.jsx("div",{className:"social-proof-skeleton",style:{padding:`${Mq.spacing["5xl"]} ${Mq.spacing.xl}`,background:Mq.colors.neutral.white},role:"region","aria-label":"Loading social proof",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[...Array(4)].map((e,s)=>u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(SkeletonBase,{style:{height:"3rem",width:"8rem",margin:"0 auto"},"aria-label":`Loading metric value ${s+1}`}),u.jsx(SkeletonBase,{style:{height:"1rem",width:"10rem",margin:"0 auto"},"aria-label":`Loading metric label ${s+1}`})]},s))}),u.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:[...Array(6)].map((e,s)=>u.jsx(SkeletonBase,{style:{height:"3rem",width:"8rem"},"aria-label":`Loading partner logo ${s+1}`},s))})]})}),FAQSectionSkeleton=()=>u.jsx("div",{className:"faq-skeleton",style:{padding:`${Mq.spacing["5xl"]} ${Mq.spacing.xl}`,background:Mq.colors.neutral.white},role:"region","aria-label":"Loading FAQ section",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsx("div",{className:"text-center mb-12 space-y-4",children:u.jsx(SkeletonBase,{style:{height:"2.5rem",width:"20rem",margin:"0 auto"},"aria-label":"Loading section title"})}),u.jsx("div",{className:"space-y-4",children:[...Array(8)].map((e,s)=>u.jsx("div",{style:{padding:Mq.spacing.lg,background:Mq.colors.neutral.gray50,borderRadius:Mq.borderRadius.soft},children:u.jsx(SkeletonBase,{style:{height:"1.5rem",width:"80%"},"aria-label":`Loading FAQ question ${s+1}`})},s))})]})}),SectionLoader=({minHeight:e="400px",message:s="Loading content..."})=>u.jsxs("div",{className:"section-loader",style:{minHeight:e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:Mq.spacing["5xl"]},role:"status","aria-label":s,"aria-live":"polite",children:[u.jsx(kb.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"3rem",height:"3rem",border:`4px solid ${Mq.colors.neutral.gray200}`,borderTopColor:Mq.colors.primary.dark,borderRadius:"50%"},"aria-hidden":"true"}),u.jsx("p",{style:{marginTop:Mq.spacing.lg,color:Mq.colors.neutral.gray600,fontSize:Mq.typography.fontSize.lg},children:s})]}),MetricsPlaceholder=()=>u.jsx("div",{style:{padding:`${Mq.spacing["5xl"]} ${Mq.spacing.xl}`,background:Mq.colors.neutral.white},role:"region","aria-label":"Social proof metrics",children:u.jsxs("div",{className:"container mx-auto max-w-7xl",children:[u.jsx("div",{style:{background:Mq.colors.neutral.gray100,padding:Mq.spacing.lg,borderRadius:Mq.borderRadius.soft,marginBottom:Mq.spacing.xl,textAlign:"center"},role:"status","aria-live":"polite",children:u.jsxs("p",{style:{color:Mq.colors.neutral.gray600,fontSize:Mq.typography.fontSize.sm},children:[u.jsx(Va,{size:16,style:{display:"inline",marginRight:"0.5rem",verticalAlign:"middle"}}),"Metrics are temporarily unavailable. Please check back later."]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{value:"---",label:"Verified Leads Generated",note:"Data temporarily unavailable"},{value:"---",label:"Properties Promoted",note:"Data temporarily unavailable"},{value:"---",label:"Partner Satisfaction",note:"Data temporarily unavailable"},{value:"---",label:"Active Partners",note:"Data temporarily unavailable"}].map((e,s)=>u.jsxs("div",{style:{textAlign:"center",padding:Mq.spacing.lg,background:Mq.colors.neutral.gray50,borderRadius:Mq.borderRadius.soft},children:[u.jsx("div",{style:{fontSize:Mq.typography.fontSize["4xl"],fontWeight:Mq.typography.fontWeight.bold,color:Mq.colors.neutral.gray400,marginBottom:Mq.spacing.sm},children:e.value}),u.jsx("div",{style:{fontSize:Mq.typography.fontSize.sm,color:Mq.colors.neutral.gray600,marginBottom:Mq.spacing.xs},children:e.label}),u.jsx("div",{style:{fontSize:Mq.typography.fontSize.xs,color:Mq.colors.neutral.gray500,fontStyle:"italic"},children:e.note})]},s))})]})}),PartnerTypeCard=({icon:e,title:s,benefit:a,href:l,onClick:c,className:p=""})=>u.jsxs(kb.a,{href:l,onClick:e=>{((e,s)=>{"undefined"!=typeof window&&window.gtag&&window.gtag("event","partner_type_click",{partnerType:e,location:"partner_selection",href:s,timestamp:(new Date).toISOString()}),console.log("Partner Type Click:",{partnerType:e,href:s})})(s,l),c&&(e.preventDefault(),c())},className:`partner-type-card block no-underline bg-white rounded-2xl p-6 md:p-8 cursor-pointer relative overflow-hidden transition-all duration-300 ${p}`,variants:Oq,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-50px"},whileHover:"hover",whileTap:"tap",style:{boxShadow:Mq.shadows.soft},"aria-label":`Learn more about ${s} advertising`,children:[u.jsx(kb.div,{className:"absolute inset-0 pointer-events-none",style:{background:Mq.colors.primary.gradient},initial:{opacity:0},whileHover:{opacity:.03}}),u.jsxs("div",{className:"relative z-10",children:[u.jsx(kb.div,{className:"w-16 h-16 rounded-xl flex items-center justify-center mb-6",style:{background:Mq.colors.primary.light},whileHover:{scale:1.05,background:Mq.colors.primary.subtle},transition:{duration:.3},children:u.jsx(e,{size:32,style:{color:Mq.colors.primary.base},"aria-hidden":"true"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 leading-tight",children:s}),u.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-6",children:a}),u.jsxs(kb.div,{className:"inline-flex items-center gap-2 text-base font-semibold",style:{color:Mq.colors.primary.base},whileHover:{x:4},transition:{duration:.2},children:[u.jsx("span",{children:"Learn More"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:u.jsx("path",{d:"M6 3L11 8L6 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),Vq=[{id:"agent",icon:Bi,title:"Real Estate Agent",benefit:"Showcase your listings to thousands of verified buyers and renters actively searching for properties.",href:"/advertise/agents"},{id:"developer",icon:ka,title:"Property Developer",benefit:"Promote your developments with immersive media, reach qualified buyers, and track leads in real-time.",href:"/advertise/developers"},{id:"bank",icon:Wi,title:"Bank / Financial Institution",benefit:"Connect with home buyers at the perfect moment and offer tailored financing solutions.",href:"/advertise/banks"},{id:"bond-originator",icon:wi,title:"Bond Originator",benefit:"Capture high-intent leads looking for home loans and grow your origination pipeline.",href:"/advertise/bond-originators"},{id:"service-provider",icon:Ol,title:"Property Service Provider",benefit:"Reach homeowners and property managers who need your services, from maintenance to renovations.",href:"/advertise/service-providers"}],PartnerSelectionSection=({partnerTypes:e=Vq,title:s="Who Are You Advertising As?",subtitle:a="Choose your partner type to see tailored advertising solutions",className:l=""})=>u.jsx("section",{className:`partner-selection-section py-20 md:py-28 bg-gray-50 ${l}`,"aria-labelledby":"partner-selection-heading","aria-describedby":"partner-selection-description",role:"region",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[u.jsx("h2",{id:"partner-selection-heading",className:"text-3xl md:text-4xl font-semibold leading-tight mb-4",children:s}),u.jsx("p",{id:"partner-selection-description",className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto",children:a})]}),u.jsx(kb.div,{variants:Dq,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 partner-cards-grid",role:"list","aria-label":"Partner type options",children:e.map((e,s)=>u.jsx("div",{role:"listitem",children:u.jsx(PartnerTypeCard,{icon:e.icon,title:e.title,benefit:e.benefit,href:e.href,index:s})},e.id))})]})});function useScrollAnimation(e={}){const{threshold:s=.1,rootMargin:a="0px",triggerOnce:l=!0,enabled:c=!0}=e,u=re.useRef(null),[p,m]=re.useState(!1),[h,f]=re.useState(!1),g="undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return re.useEffect(()=>{if(!c||g)return m(!0),void f(!0);const e=u.current;if(!e)return;if(h&&l)return;const p=new IntersectionObserver(e=>{e.forEach(e=>{const s=e.isIntersecting;m(s),s&&(f(!0),l&&p.disconnect())})},{threshold:s,rootMargin:a});return p.observe(e),()=>{p.disconnect()}},[s,a,l,c,g,h]),{ref:u,isVisible:p,hasBeenVisible:h}}const FeatureBlock=({icon:e,headline:s,description:a,index:l,className:c=""})=>{const{ref:p,isVisible:m}=useScrollAnimation({threshold:.2,triggerOnce:!0});return u.jsxs(kb.div,{ref:p,className:`feature-block ${c}`,variants:Lq,initial:"initial",animate:m?"animate":"initial",transition:{duration:.4,delay:.1*l,ease:[.4,0,.2,1]},style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:Mq.spacing.lg},children:[u.jsx(kb.div,{style:{width:"72px",height:"72px",borderRadius:Mq.borderRadius.softLarge,background:Mq.colors.primary.light,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},whileHover:{scale:[1,1.1,1],background:Mq.colors.primary.subtle},transition:{scale:{duration:.6,ease:"easeInOut"},background:{duration:.3}},children:u.jsx(e,{size:36,style:{color:Mq.colors.primary.base},"aria-hidden":"true"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 leading-tight",children:s}),u.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:a})]})]})},Uq=[{icon:ol,headline:"High-Intent Audience",description:"Connect with verified home seekers actively searching for properties. Our platform attracts serious buyers and renters, not casual browsers."},{icon:el,headline:"AI-Driven Visibility",description:"Smart algorithms ensure your listings reach the right audience at the right time. Maximize exposure with intelligent content distribution."},{icon:Ua,headline:"Verified Leads",description:"Receive qualified inquiries from authenticated users. Every lead is validated for authenticity, saving you time and increasing conversion rates."},{icon:Da,headline:"Dashboard Control",description:"Track performance, manage campaigns, and optimize your advertising strategy with comprehensive analytics and real-time insights."}],ValuePropositionSection=({className:e=""})=>u.jsx("section",{className:`value-proposition-section py-20 md:py-28 bg-white ${e}`,"aria-labelledby":"value-proposition-heading","aria-describedby":"value-proposition-description",role:"region",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[u.jsx(kb.h2,{id:"value-proposition-heading",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},className:"text-3xl md:text-4xl font-semibold leading-tight mb-4",children:"Why Advertise With Us?"}),u.jsx(kb.p,{id:"value-proposition-description",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:.1},className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto",children:"Join South Africa's fastest-growing property platform and reach thousands of verified home seekers"})]}),u.jsx(kb.div,{variants:Dq,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",role:"list","aria-label":"Platform benefits",children:Uq.map((e,s)=>u.jsx("div",{role:"listitem",children:u.jsx(FeatureBlock,{icon:e.icon,headline:e.headline,description:e.description,index:s})},e.headline))})]})}),Hq=[{id:1,title:"Create Profile",description:"Sign up in seconds and set up your professional partner profile.",icon:wl},{id:2,title:"Post Listing or Ad",description:"Upload your properties or create targeted ad campaigns with our easy tools.",icon:yl},{id:3,title:"Receive Leads",description:"Get verified, high-intent leads directly to your dashboard and inbox.",icon:fl}],HowItWorksSection=()=>u.jsxs("section",{className:"py-20 md:py-28 bg-white relative overflow-hidden",children:[u.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/4 left-0 w-64 h-64 bg-blue-50 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-1/4 right-0 w-64 h-64 bg-purple-50 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[u.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),u.jsx("p",{className:"text-lg text-gray-600",children:"Get started in under 2 minutes. Our streamlined process helps you reach buyers faster."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[u.jsx("div",{className:"hidden md:block absolute top-12 left-1/6 right-1/6 h-0.5 bg-gradient-to-r from-gray-200 via-blue-100 to-gray-200 z-0"}),Hq.map((e,s)=>u.jsxs(kb.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2*s},className:"relative z-10 flex flex-col items-center text-center",children:[u.jsxs("div",{className:"w-24 h-24 rounded-2xl bg-white shadow-lg mb-6 flex items-center justify-center border border-gray-100 relative group transition-transform hover:-translate-y-1 duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsx(e.icon,{className:"w-10 h-10 text-blue-600 relative z-10"}),u.jsx("div",{className:"absolute -top-3 -right-3 w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md",children:e.id})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},e.id))]}),u.jsxs("div",{className:"mt-16 text-center",children:[u.jsxs("a",{href:"/register/partner",className:"inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:["Start Now",u.jsx(pa,{className:"ml-2 w-5 h-5"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No credit card required for signup"})]})]})]}),qq=[{name:"Starter",price:"R999",period:"/mo",description:"Essential tools for individual agents to get started.",features:["Up to 5 Active Listings","Basic Listing Promotion","Standard Email Support","Basic Performance Analytics","Mobile App Access"],ctaLabel:"Get Started",ctaHref:"/register?plan=starter"},{name:"Professional",price:"R2,499",period:"/mo",description:"Advanced features for growing agencies and top performers.",features:["Unlimited Active Listings","Priority Search Placement","Verified Agent Badge","Advanced Lead Analytics","WhatsApp Lead Integration","Team Management (up to 5)"],ctaLabel:"Start Free Trial",ctaHref:"/register?plan=professional",isPopular:!0},{name:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large developers and franchises.",features:["API Access & Integrations","Dedicated Account Manager","Custom Branding Options","Multi-Office Management","Custom Reporting & Exports","SLA & Priority Support"],ctaLabel:"Contact Sales",ctaHref:"/contact/enterprise"}],PricingPreviewSection=({title:e="Simple, Transparent Pricing",subtitle:s="Choose the plan that fits your business needs. No hidden fees."})=>u.jsx("section",{className:"pricing-preview-section py-20 md:py-28 bg-gray-50","aria-labelledby":"pricing-preview-heading",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(kb.div,{className:"text-center mb-12 md:mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5},children:[u.jsx("h2",{id:"pricing-preview-heading",className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:e}),u.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:s})]}),u.jsx(kb.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",variants:Dq,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-50px"},children:qq.map((e,s)=>u.jsxs(kb.div,{variants:Oq,className:"relative flex flex-col bg-white rounded-2xl shadow-lg overflow-hidden border-2 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl "+(e.isPopular?"border-blue-500 ring-4 ring-blue-500/10":"border-transparent"),children:[e.isPopular&&u.jsxs("div",{className:"absolute top-0 right-0 bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1",children:[u.jsx(sl,{className:"w-3 h-3 fill-current"}),"MOST POPULAR"]}),u.jsxs("div",{className:"p-8 flex-grow",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),u.jsxs("div",{className:"flex items-baseline mb-4",children:[u.jsx("span",{className:"text-4xl font-extrabold text-gray-900",children:e.price}),e.period&&u.jsx("span",{className:"text-gray-500 ml-1",children:e.period})]}),u.jsx("p",{className:"text-gray-600 mb-6 text-sm leading-relaxed",children:e.description}),u.jsx("ul",{className:"space-y-4 mb-8",children:e.features.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-green-100 flex items-center justify-center mt-0.5",children:u.jsx(Ia,{className:"w-3 h-3 text-green-600"})}),u.jsx("span",{className:"text-gray-600 text-sm",children:e})]},s))})]}),u.jsx("div",{className:"p-8 pt-0 mt-auto",children:u.jsx(CTAButton,{label:e.ctaLabel,href:e.ctaHref,variant:e.isPopular?"primary":"secondary",fullWidth:!0,className:e.isPopular?"shadow-blue-200":""})})]},e.name))}),u.jsx(kb.div,{className:"text-center mt-12",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},children:u.jsx("p",{className:"text-gray-500 text-sm",children:"Prices exclude VAT. Annual billing available with 2 months free."})})]})}),Wq=re.lazy(()=>Nq(()=>import("./FeaturesGridSection-C6yXw7kO.js"),[]).then(e=>(console.log(" FeaturesGridSection loaded successfully"),e)).catch(e=>{throw console.error(" Failed to load FeaturesGridSection:",e),e})),Zq=re.lazy(()=>Nq(()=>import("./SocialProofSection-CuRmsIgn.js"),[]).then(e=>(console.log(" SocialProofSection loaded successfully"),e)).catch(e=>{throw console.error(" Failed to load SocialProofSection:",e),e})),Kq=re.lazy(()=>Nq(()=>import("./FinalCTASection-BW0P6UDm.js"),[]).then(e=>(console.log(" FinalCTASection loaded successfully"),e)).catch(e=>{throw console.error(" Failed to load FinalCTASection:",e),e})),Gq=re.lazy(()=>Nq(()=>import("./FAQSection-D1lPnq7v.js"),[]).then(e=>(console.log(" FAQSection loaded successfully"),e)).catch(e=>{throw console.error(" Failed to load FAQSection:",e),e}));function AdvertiseWithUs(){useAdvertiseAnalytics();const e=((e="hero-section")=>{const[s,a]=re.useState(!1);return re.useEffect(()=>{const handleScroll2=()=>{const s=document.getElementById(e);if(!s)return;const l=s.getBoundingClientRect().bottom,c=window.innerHeight;a(l<.2*c)};return handleScroll2(),window.addEventListener("scroll",handleScroll2,{passive:!0}),()=>{window.removeEventListener("scroll",handleScroll2)}},[e]),s})("hero-section"),[s,a]=re.useState(!1),[l]=re.useState(!1),c=[{value:"150,000+",label:"Verified Leads Generated",icon:fl},{value:"25,000+",label:"Properties Promoted",icon:sl},{value:"4.8/5",label:"Partner Satisfaction",icon:fa},{value:"500+",label:"Active Partners",icon:Cl}];return u.jsxs(u.Fragment,{children:[u.jsx(SEOHead,{title:"Advertise With Us | Reach High-Intent Property Buyers",description:"Advertise your properties, developments, and services to thousands of verified home seekers across South Africa. AI-powered visibility, verified leads, and full dashboard control.",canonicalUrl:"https://platform.com/advertise",ogImage:"https://platform.com/images/advertise-og-image.jpg",ogType:"website"}),u.jsx(StructuredData,{pageUrl:"https://platform.com/advertise",organizationName:"Property Platform",organizationUrl:"https://platform.com",organizationLogo:"https://platform.com/logo.png"}),u.jsx(PerformanceOptimizer,{}),u.jsx(SkipLinks,{}),u.jsx(EnhancedNavbar,{}),u.jsx("div",{className:"w-full bg-slate-50 border-b border-slate-200",children:u.jsx(AdvertiseBreadcrumb,{})}),u.jsxs("main",{id:"main-content",className:"advertise-page bg-white",children:[u.jsx(SectionErrorBoundary,{sectionName:"Hero Section",children:u.jsx("section",{id:"hero-section","aria-labelledby":"hero-heading",children:s?u.jsx(HeroSectionSkeleton,{}):u.jsx(HeroSection,{headline:"Reach High-Intent Property Buyers Across South Africa",subheadline:"Advertise your properties, developments, and services to thousands of verified home seekers. AI-powered visibility, verified leads, and full dashboard control.",primaryCTA:{label:"Get Started",href:"/role-selection",variant:"primary"},secondaryCTA:{label:"Request a Demo",href:"/contact",variant:"secondary"},billboard:{imageUrl:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",alt:"Luxury development showcase",developmentName:"Sandton Heights",tagline:"Premium Living in the Heart of Sandton",ctaLabel:"View Development",href:"/developments/sandton-heights"},trustSignals:[{type:"text",content:"Trusted by 500+ Developers"},{type:"text",content:"2M+ Monthly Visitors"},{type:"text",content:"150k+ Leads Generated"}]})})}),u.jsx(SectionErrorBoundary,{sectionName:"Partner Selection",children:u.jsx("section",{id:"partner-selection","aria-labelledby":"partner-selection-heading",children:u.jsx(PartnerSelectionSection,{})})}),u.jsx(SectionErrorBoundary,{sectionName:"Value Proposition",children:u.jsx("section",{id:"value-proposition","aria-labelledby":"value-proposition-heading",children:u.jsx(ValuePropositionSection,{})})}),u.jsx(SectionErrorBoundary,{sectionName:"How It Works",children:u.jsx("section",{id:"how-it-works","aria-labelledby":"how-it-works-heading",children:u.jsx(HowItWorksSection,{})})}),u.jsx(SectionErrorBoundary,{sectionName:"Features Grid",children:u.jsx(re.Suspense,{fallback:u.jsx(FeaturesGridSkeleton,{}),children:u.jsx("section",{id:"features-grid","aria-labelledby":"features-grid-heading",children:u.jsx(Wq,{})})})}),u.jsx(SectionErrorBoundary,{sectionName:"Social Proof",children:u.jsx(re.Suspense,{fallback:u.jsx(SocialProofSkeleton,{}),children:u.jsx("section",{id:"social-proof","aria-labelledby":"social-proof-heading",children:l?u.jsx(MetricsPlaceholder,{}):u.jsx(Zq,{metrics:c})})})}),u.jsx(SectionErrorBoundary,{sectionName:"Pricing Preview",children:u.jsx("section",{id:"pricing-preview","aria-labelledby":"pricing-preview-heading",children:u.jsx(PricingPreviewSection,{})})}),u.jsx(SectionErrorBoundary,{sectionName:"Final CTA",children:u.jsx(re.Suspense,{fallback:u.jsx(SectionLoader,{minHeight:"300px",message:"Loading final call-to-action..."}),children:u.jsx("section",{id:"final-cta","aria-labelledby":"final-cta-heading",children:u.jsx(Kq,{headline:"Ready to Grow Your Business?",subtext:"Join hundreds of successful partners already advertising on South Africa's fastest-growing property platform.",primaryCTA:{label:"Get Started Now",href:"/role-selection"},secondaryCTA:{label:"Schedule a Demo",href:"/contact"}})})})}),u.jsx(SectionErrorBoundary,{sectionName:"FAQ",children:u.jsx(re.Suspense,{fallback:u.jsx(FAQSectionSkeleton,{}),children:u.jsx("section",{id:"faq","aria-labelledby":"faq-heading",children:u.jsx(Gq,{})})})})]}),u.jsx(MobileStickyCTA,{label:"Start Advertising",href:"/role-selection",isVisible:e}),u.jsx(Footer$1,{})]})}function RoleSelection(){const[,e]=useLocation(),s=[{id:"developer",title:"Property Developer",description:"Register your development company and showcase your projects",icon:ka,gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-50 to-indigo-50",route:"/developer/setup",features:["List your developments","Manage project portfolio","Capture qualified leads","Track sales performance"]},{id:"agency",title:"Real Estate Agency",description:"Register your agency and manage your team of agents",icon:Cl,gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",route:"/agency/setup",features:["Manage your agency profile","Invite and manage agents","List properties","Track team performance"]},{id:"agent",title:"Real Estate Agent",description:"Join as an independent agent or request to join an agency",icon:Za,gradient:"from-purple-500 to-pink-600",bgGradient:"from-purple-50 to-pink-50",route:"/agent/setup",features:["Create your agent profile","List properties","Manage your listings","Connect with clients"]}];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"Choose Your Role"}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select how you'd like to use our platform. You can always add more roles later."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:s.map(s=>{const a=s.icon;return u.jsxs("div",{className:"group relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border-2 border-white p-8 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br ${s.gradient} flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300`,children:u.jsx(a,{className:"w-10 h-10 text-white"})})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:`text-2xl font-bold bg-gradient-to-r ${s.gradient} bg-clip-text text-transparent mb-3`,children:s.title}),u.jsx("p",{className:"text-gray-600 mb-6",children:s.description}),u.jsx("div",{className:`bg-gradient-to-br ${s.bgGradient} rounded-xl p-4 mb-6`,children:u.jsx("ul",{className:"space-y-2 text-left",children:s.features.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx(pa,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-gray-500"}),u.jsx("span",{children:e})]},s))})})]}),u.jsx(iq,{variant:"primary",className:"w-full",onClick:()=>e(s.route),children:"Get Started"})]},s.id)})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"inline-block bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border-2 border-white p-6 max-w-2xl",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("strong",{children:"Not sure which role to choose?"})," No problem! You can explore the platform as a regular user and upgrade to a professional account anytime."]}),u.jsx("button",{onClick:()=>e("/"),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Continue as a regular user "})]})})]})})}function RegistrationSuccess({role:e="developer"}){const[,s]=useLocation(),a={developer:{title:"Developer Registration Complete!",subtitle:"Your application has been submitted for review",dashboardRoute:"/developer-dashboard",dashboardLabel:"Go to Developer Dashboard",gradient:"from-blue-600 to-indigo-600",nextSteps:["Our team will review your application within 2-3 business days","You'll receive an email notification once approved","Meanwhile, you can explore the platform and set up your profile","Start preparing your development listings for when you're approved"]},agency:{title:"Agency Registration Complete!",subtitle:"Welcome to the platform!",dashboardRoute:"/agency-dashboard",dashboardLabel:"Go to Agency Dashboard",gradient:"from-green-600 to-emerald-600",nextSteps:["Set up your agency branding and profile","Invite agents to join your agency","Start listing properties","Explore subscription plans for additional features"]},agent:{title:"Agent Registration Complete!",subtitle:"Welcome to the platform!",dashboardRoute:"/agent/dashboard",dashboardLabel:"Go to Agent Dashboard",gradient:"from-purple-600 to-pink-600",nextSteps:["Complete your agent profile","Add your specializations and coverage areas","Start listing properties","Connect with potential clients"]}}[e];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:u.jsx("div",{className:"max-w-3xl w-full",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl border-2 border-white p-8 md:p-12",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${a.gradient} flex items-center justify-center animate-in zoom-in duration-500`,children:u.jsx(Ua,{className:"w-12 h-12 text-white"})})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:`text-3xl md:text-4xl font-bold bg-gradient-to-r ${a.gradient} bg-clip-text text-transparent mb-3`,children:a.title}),u.jsx("p",{className:"text-xl text-gray-600",children:a.subtitle})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 mb-8",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What happens next?"}),u.jsx("ul",{className:"space-y-3",children:a.nextSteps.map((e,s)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(pa,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-blue-600"}),u.jsx("span",{className:"text-gray-700",children:e})]},s))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx(iq,{variant:"primary",className:"flex-1",icon:Ki,onClick:()=>s(a.dashboardRoute),children:a.dashboardLabel}),u.jsx(iq,{variant:"outline",className:"flex-1",icon:Bi,onClick:()=>s("/"),children:"Back to Home"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["Need help? Contact our support team at"," ",u.jsx("a",{href:"mailto:support@example.com",className:"text-blue-600 hover:text-blue-700 font-medium",children:"support@example.com"})]})})]})})})}function MarketInsights({stats:e,locationName:s,type:a}){const formatPrice2=e=>e>=1e6?`R${(e/1e6).toFixed(2)}M`:`R${(e/1e3).toFixed(0)}k`;return u.jsx("div",{className:"py-16 bg-white border-t border-slate-100",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-primary",children:[u.jsx(la,{className:"h-5 w-5"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Market Data"})]}),u.jsxs("h2",{className:"text-3xl font-bold text-slate-900 mb-8",children:[s," Property Insights"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(ea,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-100",children:u.jsxs(sa,{className:"p-6",children:[u.jsx("div",{className:"flex justify-between items-start mb-4",children:u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:u.jsx(ii,{className:"h-6 w-6"})})}),u.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Average Price"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:formatPrice2(e.avgPrice)}),u.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Based on active listings"})]})}),u.jsx(ea,{className:"bg-gradient-to-br from-purple-50 to-white border-purple-100",children:u.jsxs(sa,{className:"p-6",children:[u.jsx("div",{className:"flex justify-between items-start mb-4",children:u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg text-purple-600",children:u.jsx(Bi,{className:"h-6 w-6"})})}),u.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Total Properties"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.totalListings}),u.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[u.jsxs("span",{className:"text-slate-600 font-medium",children:[e.saleCount||0," For Sale"]}),u.jsx("span",{className:"text-slate-300",children:"|"}),u.jsxs("span",{className:"text-slate-600 font-medium",children:[e.rentalCount||0," To Rent"]})]})]})}),u.jsxs(ea,{className:"bg-gradient-to-br from-indigo-50 to-white border-indigo-100 md:col-span-2",children:[u.jsx(ta,{className:"pb-2",children:u.jsx(ra,{className:"text-base font-medium text-slate-700",children:"Price Distribution"})}),u.jsx(sa,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Entry Level"}),u.jsx("span",{className:"font-bold",children:formatPrice2(e.minPrice||0)})]}),u.jsxs("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden flex",children:[u.jsx("div",{className:"w-1/4 bg-indigo-300"}),u.jsx("div",{className:"w-1/2 bg-indigo-500"}),u.jsx("div",{className:"w-1/4 bg-indigo-700"})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Luxury Level"}),u.jsx("span",{className:"font-bold",children:formatPrice2(e.maxPrice||0)})]})]})})]})]})]})})}function useAttribution(e,s){const a=re.useRef(s);re.useEffect(function updateAttribution(){s!==a.current&&null!=e.attributionControl&&(null!=a.current&&e.attributionControl.removeAttribution(a.current),null!=s&&e.attributionControl.addAttribution(s)),a.current=s},[e,s])}const Yq=re.createContext(null);function useLeafletContext(){const e=re.use(Yq);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function useEventHandlers(e,s){const a=re.useRef(void 0);re.useEffect(function addEventHandlers(){return null!=s&&e.instance.on(s),a.current=s,function removeEventHandlers(){null!=a.current&&e.instance.off(a.current),a.current=null}},[e,s])}function withPane(e,s){const a=e.pane??s.pane;return a?{...e,pane:a}:e}var Qq,Xq={exports:{}};
/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Jq=function requireLeafletSrc(){return Qq||(Qq=1,function(e){var s="1.9.4";function extend2(e){var s,a,l,c;for(a=1,l=arguments.length;a<l;a++)for(s in c=arguments[a])e[s]=c[s];return e}var a=Object.create||function(){function F(){}return function(e){return F.prototype=e,new F}}();function bind(e,s){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var l=a.call(arguments,2);return function(){return e.apply(s,l.length?l.concat(a.call(arguments)):arguments)}}var l=0;function stamp(e){return"_leaflet_id"in e||(e._leaflet_id=++l),e._leaflet_id}function throttle2(e,s,a){var l,c,u,p;return p=function(){l=!1,c&&(u.apply(a,c),c=!1)},u=function(){l?c=arguments:(e.apply(a,arguments),setTimeout(p,s),l=!0)},u}function wrapNum(e,s,a){var l=s[1],c=s[0],u=l-c;return e===l&&a?e:((e-c)%u+u)%u+c}function falseFn(){return!1}function formatNum(e,s){if(!1===s)return e;var a=Math.pow(10,void 0===s?6:s);return Math.round(e*a)/a}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function splitWords(e){return trim(e).split(/\s+/)}function setOptions(e,s){for(var l in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?a(e.options):{}),s)e.options[l]=s[l];return e.options}function getParamString(e,s,a){var l=[];for(var c in e)l.push(encodeURIComponent(a?c.toUpperCase():c)+"="+encodeURIComponent(e[c]));return(s&&-1!==s.indexOf("?")?"&":"?")+l.join("&")}var c=/\{ *([\w_ -]+) *\}/g;function template(e,s){return e.replace(c,function(e,a){var l=s[a];if(void 0===l)throw new Error("No value provided for variable "+e);return"function"==typeof l&&(l=l(s)),l})}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function indexOf(e,s){for(var a=0;a<e.length;a++)if(e[a]===s)return a;return-1}var p="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function getPrefixed(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var m=0;function timeoutDefer(e){var s=+new Date,a=Math.max(0,16-(s-m));return m=s+a,window.setTimeout(e,a)}var h=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,f=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function requestAnimFrame(e,s,a){if(!a||h!==timeoutDefer)return h.call(window,bind(e,s));e.call(s)}function cancelAnimFrame(e){e&&f.call(window,e)}var g={__proto__:null,extend:extend2,create:a,bind:bind,get lastId(){return l},stamp:stamp,throttle:throttle2,wrapNum:wrapNum,falseFn:falseFn,formatNum:formatNum,trim:trim,splitWords:splitWords,setOptions:setOptions,getParamString:getParamString,template:template,isArray:u,indexOf:indexOf,emptyImageUrl:p,requestFn:h,cancelFn:f,requestAnimFrame:requestAnimFrame,cancelAnimFrame:cancelAnimFrame};function Class(){}function checkDeprecatedMixinEvents(e){if("undefined"!=typeof L&&L&&L.Mixin){e=u(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}Class.extend=function(e){var NewClass=function(){setOptions(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=NewClass.__super__=this.prototype,l=a(s);for(var c in l.constructor=NewClass,NewClass.prototype=l,this)Object.prototype.hasOwnProperty.call(this,c)&&"prototype"!==c&&"__super__"!==c&&(NewClass[c]=this[c]);return e.statics&&extend2(NewClass,e.statics),e.includes&&(checkDeprecatedMixinEvents(e.includes),extend2.apply(null,[l].concat(e.includes))),extend2(l,e),delete l.statics,delete l.includes,l.options&&(l.options=s.options?a(s.options):{},extend2(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,a=l._initHooks.length;e<a;e++)l._initHooks[e].call(this)}},NewClass},Class.include=function(e){var s=this.prototype.options;return extend2(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},Class.mergeOptions=function(e){return extend2(this.prototype.options,e),this},Class.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),a="function"==typeof e?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};var b={on:function(e,s,a){if("object"==typeof e)for(var l in e)this._on(l,e[l],s);else for(var c=0,u=(e=splitWords(e)).length;c<u;c++)this._on(e[c],s,a);return this},off:function(e,s,a){if(arguments.length)if("object"==typeof e)for(var l in e)this._off(l,e[l],s);else{e=splitWords(e);for(var c=1===arguments.length,u=0,p=e.length;u<p;u++)c?this._off(e[u]):this._off(e[u],s,a)}else delete this._events;return this},_on:function(e,s,a,l){if("function"==typeof s){if(!1===this._listens(e,s,a)){a===this&&(a=void 0);var c={fn:s,ctx:a};l&&(c.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(c)}}else console.warn("wrong listener type: "+typeof s)},_off:function(e,s,a){var l,c,u;if(this._events&&(l=this._events[e]))if(1!==arguments.length)if("function"==typeof s){var p=this._listens(e,s,a);if(!1!==p){var m=l[p];this._firingCount&&(m.fn=falseFn,this._events[e]=l=l.slice()),l.splice(p,1)}}else console.warn("wrong listener type: "+typeof s);else{if(this._firingCount)for(c=0,u=l.length;c<u;c++)l[c].fn=falseFn;delete this._events[e]}},fire:function(e,s,a){if(!this.listens(e,a))return this;var l=extend2({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var c=this._events[e];if(c){this._firingCount=this._firingCount+1||1;for(var u=0,p=c.length;u<p;u++){var m=c[u],h=m.fn;m.once&&this.off(e,h,m.ctx),h.call(m.ctx||this,l)}this._firingCount--}}return a&&this._propagateEvent(l),this},listens:function(e,s,a,l){"string"!=typeof e&&console.warn('"string" type argument expected');var c=s;"function"!=typeof s&&(l=!!s,c=void 0,a=void 0);var u=this._events&&this._events[e];if(u&&u.length&&!1!==this._listens(e,c,a))return!0;if(l)for(var p in this._eventParents)if(this._eventParents[p].listens(e,s,a,l))return!0;return!1},_listens:function(e,s,a){if(!this._events)return!1;var l=this._events[e]||[];if(!s)return!!l.length;a===this&&(a=void 0);for(var c=0,u=l.length;c<u;c++)if(l[c].fn===s&&l[c].ctx===a)return c;return!1},once:function(e,s,a){if("object"==typeof e)for(var l in e)this._on(l,e[l],s,!0);else for(var c=0,u=(e=splitWords(e)).length;c<u;c++)this._on(e[c],s,a,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[stamp(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[stamp(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,extend2({layer:e.target,propagatedFrom:e.target},e),!0)}};b.addEventListener=b.on,b.removeEventListener=b.clearAllEventListeners=b.off,b.addOneTimeEventListener=b.once,b.fireEvent=b.fire,b.hasEventListeners=b.listens;var j=Class.extend(b);function Point(e,s,a){this.x=a?Math.round(e):e,this.y=a?Math.round(s):s}var N=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function toPoint(e,s,a){return e instanceof Point?e:u(e)?new Point(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new Point(e.x,e.y):new Point(e,s,a)}function Bounds(e,s){if(e)for(var a=s?[e,s]:e,l=0,c=a.length;l<c;l++)this.extend(a[l])}function toBounds(e,s){return!e||e instanceof Bounds?e:new Bounds(e,s)}function LatLngBounds(e,s){if(e)for(var a=s?[e,s]:e,l=0,c=a.length;l<c;l++)this.extend(a[l])}function toLatLngBounds(e,s){return e instanceof LatLngBounds?e:new LatLngBounds(e,s)}function LatLng(e,s,a){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,void 0!==a&&(this.alt=+a)}function toLatLng(e,s,a){return e instanceof LatLng?e:u(e)&&"object"!=typeof e[0]?3===e.length?new LatLng(e[0],e[1],e[2]):2===e.length?new LatLng(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new LatLng(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===s?null:new LatLng(e,s,a)}Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(e){return this.clone()._add(toPoint(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(toPoint(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new Point(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new Point(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(e){var s=(e=toPoint(e)).x-this.x,a=e.y-this.y;return Math.sqrt(s*s+a*a)},equals:function(e){return(e=toPoint(e)).x===this.x&&e.y===this.y},contains:function(e){return e=toPoint(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+formatNum(this.x)+", "+formatNum(this.y)+")"}},Bounds.prototype={extend:function(e){var s,a;if(!e)return this;if(e instanceof Point||"number"==typeof e[0]||"x"in e)s=a=toPoint(e);else if(s=(e=toBounds(e)).min,a=e.max,!s||!a)return this;return this.min||this.max?(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=s.clone(),this.max=a.clone()),this},getCenter:function(e){return toPoint((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return toPoint(this.min.x,this.max.y)},getTopRight:function(){return toPoint(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,a;return(e="number"==typeof e[0]||e instanceof Point?toPoint(e):toBounds(e))instanceof Bounds?(s=e.min,a=e.max):s=a=e,s.x>=this.min.x&&a.x<=this.max.x&&s.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=toBounds(e);var s=this.min,a=this.max,l=e.min,c=e.max,u=c.x>=s.x&&l.x<=a.x,p=c.y>=s.y&&l.y<=a.y;return u&&p},overlaps:function(e){e=toBounds(e);var s=this.min,a=this.max,l=e.min,c=e.max,u=c.x>s.x&&l.x<a.x,p=c.y>s.y&&l.y<a.y;return u&&p},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var s=this.min,a=this.max,l=Math.abs(s.x-a.x)*e,c=Math.abs(s.y-a.y)*e;return toBounds(toPoint(s.x-l,s.y-c),toPoint(a.x+l,a.y+c))},equals:function(e){return!!e&&(e=toBounds(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},LatLngBounds.prototype={extend:function(e){var s,a,l=this._southWest,c=this._northEast;if(e instanceof LatLng)s=e,a=e;else{if(!(e instanceof LatLngBounds))return e?this.extend(toLatLng(e)||toLatLngBounds(e)):this;if(s=e._southWest,a=e._northEast,!s||!a)return this}return l||c?(l.lat=Math.min(s.lat,l.lat),l.lng=Math.min(s.lng,l.lng),c.lat=Math.max(a.lat,c.lat),c.lng=Math.max(a.lng,c.lng)):(this._southWest=new LatLng(s.lat,s.lng),this._northEast=new LatLng(a.lat,a.lng)),this},pad:function(e){var s=this._southWest,a=this._northEast,l=Math.abs(s.lat-a.lat)*e,c=Math.abs(s.lng-a.lng)*e;return new LatLngBounds(new LatLng(s.lat-l,s.lng-c),new LatLng(a.lat+l,a.lng+c))},getCenter:function(){return new LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof LatLng||"lat"in e?toLatLng(e):toLatLngBounds(e);var s,a,l=this._southWest,c=this._northEast;return e instanceof LatLngBounds?(s=e.getSouthWest(),a=e.getNorthEast()):s=a=e,s.lat>=l.lat&&a.lat<=c.lat&&s.lng>=l.lng&&a.lng<=c.lng},intersects:function(e){e=toLatLngBounds(e);var s=this._southWest,a=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),u=c.lat>=s.lat&&l.lat<=a.lat,p=c.lng>=s.lng&&l.lng<=a.lng;return u&&p},overlaps:function(e){e=toLatLngBounds(e);var s=this._southWest,a=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),u=c.lat>s.lat&&l.lat<a.lat,p=c.lng>s.lng&&l.lng<a.lng;return u&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return!!e&&(e=toLatLngBounds(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s))},isValid:function(){return!(!this._southWest||!this._northEast)}},LatLng.prototype={equals:function(e,s){return!!e&&(e=toLatLng(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===s?1e-9:s))},toString:function(e){return"LatLng("+formatNum(this.lat,e)+", "+formatNum(this.lng,e)+")"},distanceTo:function(e){return T.distance(this,toLatLng(e))},wrap:function(){return T.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,a=s/Math.cos(Math.PI/180*this.lat);return toLatLngBounds([this.lat-s,this.lng-a],[this.lat+s,this.lng+a])},clone:function(){return new LatLng(this.lat,this.lng,this.alt)}};var k,_={latLngToPoint:function(e,s){var a=this.projection.project(e),l=this.scale(s);return this.transformation._transform(a,l)},pointToLatLng:function(e,s){var a=this.scale(s),l=this.transformation.untransform(e,a);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,a=this.scale(e);return new Bounds(this.transformation.transform(s.min,a),this.transformation.transform(s.max,a))},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?wrapNum(e.lng,this.wrapLng,!0):e.lng;return new LatLng(this.wrapLat?wrapNum(e.lat,this.wrapLat,!0):e.lat,s,e.alt)},wrapLatLngBounds:function(e){var s=e.getCenter(),a=this.wrapLatLng(s),l=s.lat-a.lat,c=s.lng-a.lng;if(0===l&&0===c)return e;var u=e.getSouthWest(),p=e.getNorthEast();return new LatLngBounds(new LatLng(u.lat-l,u.lng-c),new LatLng(p.lat-l,p.lng-c))}},T=extend2({},_,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var a=Math.PI/180,l=e.lat*a,c=s.lat*a,u=Math.sin((s.lat-e.lat)*a/2),p=Math.sin((s.lng-e.lng)*a/2),m=u*u+Math.cos(l)*Math.cos(c)*p*p,h=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m));return this.R*h}}),E=6378137,A={R:E,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,a=this.MAX_LATITUDE,l=Math.max(Math.min(a,e.lat),-a),c=Math.sin(l*s);return new Point(this.R*e.lng*s,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(e){var s=180/Math.PI;return new LatLng((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:(k=E*Math.PI,new Bounds([-k,-k],[k,k]))};function Transformation(e,s,a,l){if(u(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=s,this._c=a,this._d=l}function toTransformation(e,s,a,l){return new Transformation(e,s,a,l)}Transformation.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new Point((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};var O,I=extend2({},T,{code:"EPSG:3857",projection:A,transformation:(O=.5/(Math.PI*A.R),toTransformation(O,.5,-O,.5))}),$=extend2({},I,{code:"EPSG:900913"});function svgCreate(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function pointsToPath(e,s){var a,l,c,u,p,m,h="";for(a=0,c=e.length;a<c;a++){for(l=0,u=(p=e[a]).length;l<u;l++)h+=(l?"L":"M")+(m=p[l]).x+" "+m.y;h+=s?Ue.svg?"z":"x":""}return h||"M0 0"}var z,U=document.documentElement.style,H="ActiveXObject"in window,q=H&&!document.addEventListener,Z="msLaunchUri"in navigator&&!("documentMode"in document),Y=userAgentContains2("webkit"),X=userAgentContains2("android"),J=userAgentContains2("android 2")||userAgentContains2("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=X&&userAgentContains2("Google")&&re<537&&!("AudioNode"in window),le=!!window.opera,ce=!Z&&userAgentContains2("chrome"),de=userAgentContains2("gecko")&&!Y&&!le&&!H,ue=!ce&&userAgentContains2("safari"),me=userAgentContains2("phantom"),he="OTransition"in U,fe=0===navigator.platform.indexOf("Win"),ge=H&&"transition"in U,xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!J,ye="MozPerspective"in U,be=!window.L_DISABLE_3D&&(ge||xe||ye)&&!he&&!me,je="undefined"!=typeof orientation||userAgentContains2("mobile"),Ne=je&&Y,Se=je&&xe,Ce=!window.PointerEvent&&window.MSPointerEvent,_e=!(!window.PointerEvent&&!Ce),Pe="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(Pe||_e),Ee=je&&le,Ae=je&&de,Le=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",falseFn,s),window.removeEventListener("testPassiveEventSupport",falseFn,s)}catch(a){}return e}(),Ie=!!document.createElement("canvas").getContext,$e=!(!document.createElementNS||!svgCreate("svg").createSVGRect),Fe=!!$e&&((z=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(z.firstChild&&z.firstChild.namespaceURI)),Be=!$e&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&"object"==typeof s.adj}catch(a){return!1}}(),ze=0===navigator.platform.indexOf("Mac"),Ve=0===navigator.platform.indexOf("Linux");function userAgentContains2(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ue={ie:H,ielt9:q,edge:Z,webkit:Y,android:X,android23:J,androidStock:ae,opera:le,chrome:ce,gecko:de,safari:ue,phantom:me,opera12:he,win:fe,ie3d:ge,webkit3d:xe,gecko3d:ye,any3d:be,mobile:je,mobileWebkit:Ne,mobileWebkit3d:Se,msPointer:Ce,pointer:_e,touch:Te,touchNative:Pe,mobileOpera:Ee,mobileGecko:Ae,retina:Le,passiveEvents:Oe,canvas:Ie,svg:$e,vml:Be,inlineSvg:Fe,mac:ze,linux:Ve},He=Ue.msPointer?"MSPointerDown":"pointerdown",qe=Ue.msPointer?"MSPointerMove":"pointermove",We=Ue.msPointer?"MSPointerUp":"pointerup",Ze=Ue.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:He,touchmove:qe,touchend:We,touchcancel:Ze},Ge={touchstart:_onPointerStart,touchmove:_handlePointer,touchend:_handlePointer,touchcancel:_handlePointer},Ye={},Qe=!1;function addPointerListener(e,s,a){return"touchstart"===s&&_addPointerDocListener(),Ge[s]?(a=Ge[s].bind(this,a),e.addEventListener(Ke[s],a,!1),a):(console.warn("wrong event specified:",s),falseFn)}function removePointerListener(e,s,a){Ke[s]?e.removeEventListener(Ke[s],a,!1):console.warn("wrong event specified:",s)}function _globalPointerDown(e){Ye[e.pointerId]=e}function _globalPointerMove(e){Ye[e.pointerId]&&(Ye[e.pointerId]=e)}function _globalPointerUp(e){delete Ye[e.pointerId]}function _addPointerDocListener(){Qe||(document.addEventListener(He,_globalPointerDown,!0),document.addEventListener(qe,_globalPointerMove,!0),document.addEventListener(We,_globalPointerUp,!0),document.addEventListener(Ze,_globalPointerUp,!0),Qe=!0)}function _handlePointer(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){for(var a in s.touches=[],Ye)s.touches.push(Ye[a]);s.changedTouches=[s],e(s)}}function _onPointerStart(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&preventDefault2(s),_handlePointer(e,s)}function makeDblclick(e){var s,a,l={};for(a in e)s=e[a],l[a]=s&&s.bind?s.bind(e):s;return e=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Xe=200;function addDoubleTapListener(e,s){e.addEventListener("dblclick",s);var a,l=0;function simDblclick(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var c=getPropagationPath(e);if(!c.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||c.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var u=Date.now();u-l<=Xe?2===++a&&s(makeDblclick(e)):a=1,l=u}}}else a=e.detail}return e.addEventListener("click",simDblclick),{dblclick:s,simDblclick:simDblclick}}function removeDoubleTapListener(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Je,et,tt,rt,nt,st=testProp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),at=testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it="webkitTransition"===at||"OTransition"===at?at+"End":"transitionend";function get2(e){return"string"==typeof e?document.getElementById(e):e}function getStyle(e,s){var a=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!a||"auto"===a)&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);a=l?l[s]:null}return"auto"===a?null:a}function create$1(e,s,a){var l=document.createElement(e);return l.className=s||"",a&&a.appendChild(l),l}function remove(e){var s=e.parentNode;s&&s.removeChild(e)}function empty(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function toFront(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function toBack(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function hasClass(e,s){if(void 0!==e.classList)return e.classList.contains(s);var a=getClass(e);return a.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(a)}function addClass(e,s){if(void 0!==e.classList)for(var a=splitWords(s),l=0,c=a.length;l<c;l++)e.classList.add(a[l]);else if(!hasClass(e,s)){var u=getClass(e);setClass(e,(u?u+" ":"")+s)}}function removeClass(e,s){void 0!==e.classList?e.classList.remove(s):setClass(e,trim((" "+getClass(e)+" ").replace(" "+s+" "," ")))}function setClass(e,s){void 0===e.className.baseVal?e.className=s:e.className.baseVal=s}function getClass(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function setOpacity(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&_setOpacityIE(e,s)}function _setOpacityIE(e,s){var a=!1,l="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(l)}catch(c){if(1===s)return}s=Math.round(100*s),a?(a.Enabled=100!==s,a.Opacity=s):e.style.filter+=" progid:"+l+"(opacity="+s+")"}function testProp(e){for(var s=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in s)return e[a];return!1}function setTransform(e,s,a){var l=s||new Point(0,0);e.style[st]=(Ue.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(a?" scale("+a+")":"")}function setPosition(e,s){e._leaflet_pos=s,Ue.any3d?setTransform(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function getPosition(e){return e._leaflet_pos||new Point(0,0)}if("onselectstart"in document)Je=function(){on(window,"selectstart",preventDefault2)},et=function(){off(window,"selectstart",preventDefault2)};else{var ot=testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Je=function(){if(ot){var e=document.documentElement.style;tt=e[ot],e[ot]="none"}},et=function(){ot&&(document.documentElement.style[ot]=tt,tt=void 0)}}function disableImageDrag(){on(window,"dragstart",preventDefault2)}function enableImageDrag(){off(window,"dragstart",preventDefault2)}function preventOutline(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(restoreOutline(),rt=e,nt=e.style.outlineStyle,e.style.outlineStyle="none",on(window,"keydown",restoreOutline))}function restoreOutline(){rt&&(rt.style.outlineStyle=nt,rt=void 0,nt=void 0,off(window,"keydown",restoreOutline))}function getSizedParentNode(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function getScale2(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var lt={__proto__:null,TRANSFORM:st,TRANSITION:at,TRANSITION_END:it,get:get2,getStyle:getStyle,create:create$1,remove:remove,empty:empty,toFront:toFront,toBack:toBack,hasClass:hasClass,addClass:addClass,removeClass:removeClass,setClass:setClass,getClass:getClass,setOpacity:setOpacity,testProp:testProp,setTransform:setTransform,setPosition:setPosition,getPosition:getPosition,get disableTextSelection(){return Je},get enableTextSelection(){return et},disableImageDrag:disableImageDrag,enableImageDrag:enableImageDrag,preventOutline:preventOutline,restoreOutline:restoreOutline,getSizedParentNode:getSizedParentNode,getScale:getScale2};function on(e,s,a,l){if(s&&"object"==typeof s)for(var c in s)addOne(e,c,s[c],a);else for(var u=0,p=(s=splitWords(s)).length;u<p;u++)addOne(e,s[u],a,l);return this}var ct="_leaflet_events";function off(e,s,a,l){if(1===arguments.length)batchRemove(e),delete e[ct];else if(s&&"object"==typeof s)for(var c in s)removeOne(e,c,s[c],a);else if(s=splitWords(s),2===arguments.length)batchRemove(e,function(e){return-1!==indexOf(s,e)});else for(var u=0,p=s.length;u<p;u++)removeOne(e,s[u],a,l);return this}function batchRemove(e,s){for(var a in e[ct]){var l=a.split(/\d/)[0];s&&!s(l)||removeOne(e,l,null,null,a)}}var dt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function addOne(e,s,a,l){var c=s+stamp(a)+(l?"_"+stamp(l):"");if(e[ct]&&e[ct][c])return this;var handler=function(s){return a.call(l||e,s||window.event)},u=handler;!Ue.touchNative&&Ue.pointer&&0===s.indexOf("touch")?handler=addPointerListener(e,s,handler):Ue.touch&&"dblclick"===s?handler=addDoubleTapListener(e,handler):"addEventListener"in e?"touchstart"===s||"touchmove"===s||"wheel"===s||"mousewheel"===s?e.addEventListener(dt[s]||s,handler,!!Ue.passiveEvents&&{passive:!1}):"mouseenter"===s||"mouseleave"===s?(handler=function(s){s=s||window.event,isExternalTarget(e,s)&&u(s)},e.addEventListener(dt[s],handler,!1)):e.addEventListener(s,u,!1):e.attachEvent("on"+s,handler),e[ct]=e[ct]||{},e[ct][c]=handler}function removeOne(e,s,a,l,c){c=c||s+stamp(a)+(l?"_"+stamp(l):"");var u=e[ct]&&e[ct][c];if(!u)return this;!Ue.touchNative&&Ue.pointer&&0===s.indexOf("touch")?removePointerListener(e,s,u):Ue.touch&&"dblclick"===s?removeDoubleTapListener(e,u):"removeEventListener"in e?e.removeEventListener(dt[s]||s,u,!1):e.detachEvent("on"+s,u),e[ct][c]=null}function stopPropagation2(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function disableScrollPropagation(e){return addOne(e,"wheel",stopPropagation2),this}function disableClickPropagation(e){return on(e,"mousedown touchstart dblclick contextmenu",stopPropagation2),e._leaflet_disable_click=!0,this}function preventDefault2(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function stop(e){return preventDefault2(e),stopPropagation2(e),this}function getPropagationPath(e){if(e.composedPath)return e.composedPath();for(var s=[],a=e.target;a;)s.push(a),a=a.parentNode;return s}function getMousePosition(e,s){if(!s)return new Point(e.clientX,e.clientY);var a=getScale2(s),l=a.boundingClientRect;return new Point((e.clientX-l.left)/a.x-s.clientLeft,(e.clientY-l.top)/a.y-s.clientTop)}var ut=Ue.linux&&Ue.chrome?window.devicePixelRatio:Ue.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function getWheelDelta(e){return Ue.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/ut:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function isExternalTarget(e,s){var a=s.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch(pW){return!1}return a!==e}var pt={__proto__:null,on:on,off:off,stopPropagation:stopPropagation2,disableScrollPropagation:disableScrollPropagation,disableClickPropagation:disableClickPropagation,preventDefault:preventDefault2,stop:stop,getPropagationPath:getPropagationPath,getMousePosition:getMousePosition,getWheelDelta:getWheelDelta,isExternalTarget:isExternalTarget,addListener:on,removeListener:off},mt=j.extend({run:function(e,s,a,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=getPosition(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=requestAnimFrame(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,a=1e3*this._duration;s<a?this._runFrame(this._easeOut(s/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var a=this._startPos.add(this._offset.multiplyBy(e));s&&a._round(),setPosition(this._el,a),this.fire("step")},_complete:function(){cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ht=j.extend({options:{crs:I,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=setOptions(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=bind(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),void 0!==s.zoom&&(this._zoom=this._limitZoom(s.zoom)),s.center&&void 0!==s.zoom&&this.setView(toLatLng(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=at&&Ue.any3d&&!Ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),on(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,a){return s=void 0===s?this._zoom:this._limitZoom(s),e=this._limitCenter(toLatLng(e),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a&&(void 0!==a.animate&&(a.zoom=extend2({animate:a.animate},a.zoom),a.pan=extend2({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,a.zoom):this._tryAnimatedPan(e,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,s,a.pan&&a.pan.noMoveStart),this)},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(Ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(Ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,a){var l=this.getZoomScale(s),c=this.getSize().divideBy(2),u=(e instanceof Point?e:this.latLngToContainerPoint(e)).subtract(c).multiplyBy(1-1/l),p=this.containerPointToLatLng(c.add(u));return this.setView(p,s,{zoom:a})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():toLatLngBounds(e);var a=toPoint(s.paddingTopLeft||s.padding||[0,0]),l=toPoint(s.paddingBottomRight||s.padding||[0,0]),c=this.getBoundsZoom(e,!1,a.add(l));if((c="number"==typeof s.maxZoom?Math.min(s.maxZoom,c):c)===1/0)return{center:e.getCenter(),zoom:c};var u=l.subtract(a).divideBy(2),p=this.project(e.getSouthWest(),c),m=this.project(e.getNorthEast(),c);return{center:this.unproject(p.add(m).divideBy(2).add(u),c),zoom:c}},fitBounds:function(e,s){if(!(e=toLatLngBounds(e)).isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,s);return this.setView(a.center,a.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(s=s||{},!(e=toPoint(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==s.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),!1!==s.animate){addClass(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,a){if(!1===(a=a||{}).animate||!Ue.any3d)return this.setView(e,s,a);this._stop();var l=this.project(this.getCenter()),c=this.project(e),u=this.getSize(),p=this._zoom;e=toLatLng(e),s=void 0===s?p:s;var m=Math.max(u.x,u.y),h=m*this.getZoomScale(p,s),f=c.distanceTo(l)||1,g=1.42,b=g*g;function r2(e){var s=(h*h-m*m+(e?-1:1)*b*b*f*f)/(2*(e?h:m)*b*f),a=Math.sqrt(s*s+1)-s;return a<1e-9?-18:Math.log(a)}function sinh(e){return(Math.exp(e)-Math.exp(-e))/2}function cosh(e){return(Math.exp(e)+Math.exp(-e))/2}function tanh(e){return sinh(e)/cosh(e)}var j=r2(0);function w(e){return m*(cosh(j)/cosh(j+g*e))}function u2(e){return m*(cosh(j)*tanh(j+g*e)-sinh(j))/b}function easeOut2(e){return 1-Math.pow(1-e,1.5)}var N=Date.now(),k=(r2(1)-j)/g,_=a.duration?1e3*a.duration:1e3*k*.8;function frame2(){var a=(Date.now()-N)/_,u=easeOut2(a)*k;a<=1?(this._flyToFrame=requestAnimFrame(frame2,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(u2(u)/f)),p),this.getScaleZoom(m/w(u),p),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),frame2.call(this),this},flyToBounds:function(e,s){var a=this._getBoundsCenterZoom(e,s);return this.flyTo(a.center,a.zoom,s)},setMaxBounds:function(e){return e=toLatLngBounds(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var a=this.getCenter(),l=this._limitCenter(a,this._zoom,toLatLngBounds(e));return a.equals(l)||this.panTo(l,s),this._enforcingBounds=!1,this},panInside:function(e,s){var a=toPoint((s=s||{}).paddingTopLeft||s.padding||[0,0]),l=toPoint(s.paddingBottomRight||s.padding||[0,0]),c=this.project(this.getCenter()),u=this.project(e),p=this.getPixelBounds(),m=toBounds([p.min.add(a),p.max.subtract(l)]),h=m.getSize();if(!m.contains(u)){this._enforcingBounds=!0;var f=u.subtract(m.getCenter()),g=m.extend(u).getSize().subtract(h);c.x+=f.x<0?-g.x:g.x,c.y+=f.y<0?-g.y:g.y,this.panTo(this.unproject(c),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=extend2({animate:!1,pan:!0},!0===e?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),l=s.divideBy(2).round(),c=a.divideBy(2).round(),u=l.subtract(c);return u.x||u.y?(e.animate&&e.pan?this.panBy(u):(e.pan&&this._rawPanBy(u),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=extend2({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=bind(this._handleGeolocationResponse,this),a=bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,a,e):navigator.geolocation.getCurrentPosition(s,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,a=e.message||(1===s?"permission denied":2===s?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=new LatLng(e.coords.latitude,e.coords.longitude),a=s.toBounds(2*e.coords.accuracy),l=this._locateOptions;if(l.setView){var c=this.getBoundsZoom(a);this.setView(s,l.maxZoom?Math.min(c,l.maxZoom):c)}var u={latlng:s,bounds:a,timestamp:e.timestamp};for(var p in e.coords)"number"==typeof e.coords[p]&&(u[p]=e.coords[p]);this.fire("locationfound",u)}},addHandler:function(e,s){if(!s)return this;var a=this[e]=new s(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(s){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cancelAnimFrame(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)remove(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var a=create$1("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),s||this._mapPane);return e&&(this._panes[e]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new LatLngBounds(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,a){e=toLatLngBounds(e),a=toPoint(a||[0,0]);var l=this.getZoom()||0,c=this.getMinZoom(),u=this.getMaxZoom(),p=e.getNorthWest(),m=e.getSouthEast(),h=this.getSize().subtract(a),f=toBounds(this.project(m,l),this.project(p,l)).getSize(),g=Ue.any3d?this.options.zoomSnap:1,b=h.x/f.x,j=h.y/f.y,N=s?Math.max(b,j):Math.min(b,j);return l=this.getScaleZoom(N,l),g&&(l=Math.round(l/(g/100))*(g/100),l=s?Math.ceil(l/g)*g:Math.floor(l/g)*g),Math.max(c,Math.min(u,l))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var a=this._getTopLeftPoint(e,s);return new Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var a=this.options.crs;return s=void 0===s?this._zoom:s,a.scale(e)/a.scale(s)},getScaleZoom:function(e,s){var a=this.options.crs;s=void 0===s?this._zoom:s;var l=a.zoom(e*a.scale(s));return isNaN(l)?1/0:l},project:function(e,s){return s=void 0===s?this._zoom:s,this.options.crs.latLngToPoint(toLatLng(e),s)},unproject:function(e,s){return s=void 0===s?this._zoom:s,this.options.crs.pointToLatLng(toPoint(e),s)},layerPointToLatLng:function(e){var s=toPoint(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){return this.project(toLatLng(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(toLatLng(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(toLatLngBounds(e))},distance:function(e,s){return this.options.crs.distance(toLatLng(e),toLatLng(s))},containerPointToLayerPoint:function(e){return toPoint(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return toPoint(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(toPoint(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(e)))},mouseEventToContainerPoint:function(e){return getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=get2(e);if(!s)throw new Error("Map container not found.");if(s._leaflet_id)throw new Error("Map container is already initialized.");on(s,"scroll",this._onScroll,this),this._containerId=stamp(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ue.any3d,addClass(e,"leaflet-container"+(Ue.touch?" leaflet-touch":"")+(Ue.retina?" leaflet-retina":"")+(Ue.ielt9?" leaflet-oldie":"")+(Ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=getStyle(e,"position");"absolute"!==s&&"relative"!==s&&"fixed"!==s&&"sticky"!==s&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),setPosition(this._mapPane,new Point(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(addClass(e.markerPane,"leaflet-zoom-hide"),addClass(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,a){setPosition(this._mapPane,new Point(0,0));var l=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var c=this._zoom!==s;this._moveStart(c,a)._move(e,s)._moveEnd(c),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,a,l){void 0===s&&(s=this._zoom);var c=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?a&&a.pinch&&this.fire("zoom",a):((c||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[stamp(this._container)]=this;var s=e?off:on;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ue.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cancelAnimFrame(this._resizeRequest),this._resizeRequest=requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var a,l=[],c="mouseout"===s||"mouseover"===s,u=e.target||e.srcElement,p=!1;u;){if((a=this._targets[stamp(u)])&&("click"===s||"preclick"===s)&&this._draggableMoved(a)){p=!0;break}if(a&&a.listens(s,!0)){if(c&&!isExternalTarget(u,e))break;if(l.push(a),c)break}if(u===this._container)break;u=u.parentNode}return l.length||p||c||!this.listens(s,!0)||(l=[this]),l},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(s))){var a=e.type;"mousedown"===a&&preventOutline(s),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,a){if("click"===e.type){var l=extend2({},e);l.type="preclick",this._fireDOMEvent(l,l.type,a)}var c=this._findEventTargets(e,s);if(a){for(var u=[],p=0;p<a.length;p++)a[p].listens(s,!0)&&u.push(a[p]);c=u.concat(c)}if(c.length){"contextmenu"===s&&preventDefault2(e);var m=c[0],h={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var f=m.getLatLng&&(!m._radius||m._radius<=10);h.containerPoint=f?this.latLngToContainerPoint(m.getLatLng()):this.mouseEventToContainerPoint(e),h.layerPoint=this.containerPointToLayerPoint(h.containerPoint),h.latlng=f?m.getLatLng():this.layerPointToLatLng(h.layerPoint)}for(p=0;p<c.length;p++)if(c[p].fire(s,h,!0),h.originalEvent._stopped||!1===c[p].options.bubblingMouseEvents&&-1!==indexOf(this._mouseEvents,s))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return getPosition(this._mapPane)||new Point(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){return(e&&void 0!==s?this._getNewPixelOrigin(e,s):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var a=this.getSize()._divideBy(2);return this.project(e,s)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,a){var l=this._getNewPixelOrigin(a,s);return this.project(e,s)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,s,a){var l=this._getNewPixelOrigin(a,s);return toBounds([this.project(e.getSouthWest(),s)._subtract(l),this.project(e.getNorthWest(),s)._subtract(l),this.project(e.getSouthEast(),s)._subtract(l),this.project(e.getNorthEast(),s)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,a){if(!a)return e;var l=this.project(e,s),c=this.getSize().divideBy(2),u=new Bounds(l.subtract(c),l.add(c)),p=this._getBoundsOffset(u,a,s);return Math.abs(p.x)<=1&&Math.abs(p.y)<=1?e:this.unproject(l.add(p),s)},_limitOffset:function(e,s){if(!s)return e;var a=this.getPixelBounds(),l=new Bounds(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(l,s))},_getBoundsOffset:function(e,s,a){var l=toBounds(this.project(s.getNorthEast(),a),this.project(s.getSouthWest(),a)),c=l.min.subtract(e.min),u=l.max.subtract(e.max);return new Point(this._rebound(c.x,-u.x),this._rebound(c.y,-u.y))},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),a=this.getMaxZoom(),l=Ue.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(s,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var a=this._getCenterOffset(e)._trunc();return!(!0!==(s&&s.animate)&&!this.getSize().contains(a)||(this.panBy(a,s),0))},_createAnimProxy:function(){var e=this._proxy=create$1("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var s=st,a=this._proxy.style[s];setTransform(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){remove(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();setTransform(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||!1===a.animate||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(s),c=this._getCenterOffset(e)._divideBy(1-1/l);return!(!0!==a.animate&&!this.getSize().contains(c)||(requestAnimFrame(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,s,!0)},this),0))},_animateZoom:function(e,s,a,l){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(bind(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function createMap(e,s){return new ht(e,s)}var ft=Class.extend({options:{position:"topright"},initialize:function(e){setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),a=this.getPosition(),l=e._controlCorners[a];return addClass(s,"leaflet-control"),-1!==a.indexOf("bottom")?l.insertBefore(s,l.firstChild):l.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(remove(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),control=function(e){return new ft(e)};ht.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",a=this._controlContainer=create$1("div",s+"control-container",this._container);function createCorner(l,c){var u=s+l+" "+s+c;e[l+c]=create$1("div",u,a)}createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)remove(this._controlCorners[e]);remove(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gt=ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,a,l){return a<l?-1:l<a?1:0}},initialize:function(e,s,a){for(var l in setOptions(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[l],l);for(l in s)this._addLayer(s[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ft.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(stamp(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){addClass(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(addClass(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):removeClass(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=create$1("div",e),a=this.options.collapsed;s.setAttribute("aria-haspopup",!0),disableClickPropagation(s),disableScrollPropagation(s);var l=this._section=create$1("section",e+"-list");a&&(this._map.on("click",this.collapse,this),on(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=create$1("a",e+"-toggle",s);c.href="#",c.title="Layers",c.setAttribute("role","button"),on(c,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){preventDefault2(e),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=create$1("div",e+"-base",l),this._separator=create$1("div",e+"-separator",l),this._overlaysList=create$1("div",e+"-overlays",l),s.appendChild(l)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&stamp(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:a}),this.options.sortLayers&&this._layers.sort(bind(function(e,s){return this.options.sortFunction(e.layer,s.layer,e.name,s.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;empty(this._baseLayersList),empty(this._overlaysList),this._layerControlInputs=[];var e,s,a,l,c=0;for(a=0;a<this._layers.length;a++)l=this._layers[a],this._addItem(l),s=s||l.overlay,e=e||!l.overlay,c+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&c>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(stamp(e.target)),a=s.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;a&&this._map.fire(a,s)},_createRadioElement:function(e,s){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=a,l.firstChild},_addItem:function(e){var s,a=document.createElement("label"),l=this._map.hasLayer(e.layer);e.overlay?((s=document.createElement("input")).type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=l):s=this._createRadioElement("leaflet-base-layers_"+stamp(this),l),this._layerControlInputs.push(s),s.layerId=stamp(e.layer),on(s,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+e.name;var u=document.createElement("span");return a.appendChild(u),u.appendChild(s),u.appendChild(c),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var e,s,a=this._layerControlInputs,l=[],c=[];this._handlingClick=!0;for(var u=a.length-1;u>=0;u--)e=a[u],s=this._getLayer(e.layerId).layer,e.checked?l.push(s):e.checked||c.push(s);for(u=0;u<c.length;u++)this._map.hasLayer(c[u])&&this._map.removeLayer(c[u]);for(u=0;u<l.length;u++)this._map.hasLayer(l[u])||this._map.addLayer(l[u]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,s,a=this._layerControlInputs,l=this._map.getZoom(),c=a.length-1;c>=0;c--)e=a[c],s=this._getLayer(e.layerId).layer,e.disabled=void 0!==s.options.minZoom&&l<s.options.minZoom||void 0!==s.options.maxZoom&&l>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,on(e,"click",preventDefault2),this.expand();var s=this;setTimeout(function(){off(e,"click",preventDefault2),s._preventClick=!1})}}),layers=function(e,s,a){return new gt(e,s,a)},xt=ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",a=create$1("div",s+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,s+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,s+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,a,l,c){var u=create$1("a",a,l);return u.innerHTML=e,u.href="#",u.title=s,u.setAttribute("role","button"),u.setAttribute("aria-label",s),disableClickPropagation(u),on(u,"click",stop),on(u,"click",c,this),on(u,"click",this._refocusOnMap,this),u},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";removeClass(this._zoomInButton,s),removeClass(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(addClass(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(addClass(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xt,this.addControl(this.zoomControl))});var zoom=function(e){return new xt(e)},vt=ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",a=create$1("div",s),l=this.options;return this._addScales(l,s+"-line",a),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,a){e.metric&&(this._mScale=create$1("div",s,a)),e.imperial&&(this._iScale=create$1("div",s,a))},_update:function(){var e=this._map,s=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),a=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,a,s/e)},_updateImperial:function(e){var s,a,l,c=3.2808399*e;c>5280?(s=c/5280,a=this._getRoundNum(s),this._updateScale(this._iScale,a+" mi",a/s)):(l=this._getRoundNum(c),this._updateScale(this._iScale,l+" ft",l/c))},_updateScale:function(e,s,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),a=e/s;return s*(a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1)}}),scale2=function(e){return new vt(e)},yt='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bt=ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ue.inlineSvg?yt+" ":"")+"Leaflet</a>"},initialize:function(e){setOptions(this,e),this._attributions={}},onAdd:function(e){for(var s in e.attributionControl=this,this._container=create$1("div","leaflet-control-attribution"),disableClickPropagation(this._container),e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&(new bt).addTo(this)});var attribution=function(e){return new bt(e)};ft.Layers=gt,ft.Zoom=xt,ft.Scale=vt,ft.Attribution=bt,control.layers=layers,control.zoom=zoom,control.scale=scale2,control.attribution=attribution;var jt=Class.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jt.addTo=function(e,s){return e.addHandler(s,this),this};var wt={Events:b},Nt=Ue.touch?"touchstart mousedown":"mousedown",St=j.extend({options:{clickTolerance:3},initialize:function(e,s,a,l){setOptions(this,l),this._element=e,this._dragStartTarget=s||e,this._preventOutline=a},enable:function(){this._enabled||(on(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(St._dragging===this&&this.finishDrag(!0),off(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!hasClass(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)St._dragging===this&&this.finishDrag();else if(!(St._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(St._dragging=this,this._preventOutline&&preventOutline(this._element),disableImageDrag(),Je(),this._moving))){this.fire("down");var s=e.touches?e.touches[0]:e,a=getSizedParentNode(this._element);this._startPoint=new Point(s.clientX,s.clientY),this._startPos=getPosition(this._element),this._parentScale=getScale2(a);var l="mousedown"===e.type;on(document,l?"mousemove":"touchmove",this._onMove,this),on(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var s=e.touches&&1===e.touches.length?e.touches[0]:e,a=new Point(s.clientX,s.clientY)._subtract(this._startPoint);(a.x||a.y)&&(Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,preventDefault2(e),this._moved||(this.fire("dragstart"),this._moved=!0,addClass(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),setPosition(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),off(document,"mousemove touchmove",this._onMove,this),off(document,"mouseup touchend touchcancel",this._onUp,this),enableImageDrag(),et();var s=this._moved&&this._moving;this._moving=!1,St._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function clipPolygon(e,s,a){var l,c,u,p,m,h,f,g,b,j=[1,4,2,8];for(c=0,f=e.length;c<f;c++)e[c]._code=_getBitCode(e[c],s);for(p=0;p<4;p++){for(g=j[p],l=[],c=0,u=(f=e.length)-1;c<f;u=c++)m=e[c],h=e[u],m._code&g?h._code&g||((b=_getEdgeIntersection(h,m,g,s,a))._code=_getBitCode(b,s),l.push(b)):(h._code&g&&((b=_getEdgeIntersection(h,m,g,s,a))._code=_getBitCode(b,s),l.push(b)),l.push(m));e=l}return e}function polygonCenter(e,s){var a,l,c,u,p,m,h,f,g;if(!e||0===e.length)throw new Error("latlngs not passed");isFlat(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var b=toLatLng([0,0]),j=toLatLngBounds(e);j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest())<1700&&(b=centroid(e));var N=e.length,k=[];for(a=0;a<N;a++){var _=toLatLng(e[a]);k.push(s.project(toLatLng([_.lat-b.lat,_.lng-b.lng])))}for(m=h=f=0,a=0,l=N-1;a<N;l=a++)c=k[a],u=k[l],p=c.y*u.x-u.y*c.x,h+=(c.x+u.x)*p,f+=(c.y+u.y)*p,m+=3*p;g=0===m?k[0]:[h/m,f/m];var T=s.unproject(toPoint(g));return toLatLng([T.lat+b.lat,T.lng+b.lng])}function centroid(e){for(var s=0,a=0,l=0,c=0;c<e.length;c++){var u=toLatLng(e[c]);s+=u.lat,a+=u.lng,l++}return toLatLng([s/l,a/l])}var Ct,kt={__proto__:null,clipPolygon:clipPolygon,polygonCenter:polygonCenter,centroid:centroid};function simplify(e,s){if(!s||!e.length)return e.slice();var a=s*s;return e=_simplifyDP(e=_reducePoints(e,a),a)}function pointToSegmentDistance(e,s,a){return Math.sqrt(_sqClosestPointOnSegment(e,s,a,!0))}function closestPointOnSegment(e,s,a){return _sqClosestPointOnSegment(e,s,a)}function _simplifyDP(e,s){var a=e.length,l=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(a);l[0]=l[a-1]=1,_simplifyDPStep(e,l,s,0,a-1);var c,u=[];for(c=0;c<a;c++)l[c]&&u.push(e[c]);return u}function _simplifyDPStep(e,s,a,l,c){var u,p,m,h=0;for(p=l+1;p<=c-1;p++)(m=_sqClosestPointOnSegment(e[p],e[l],e[c],!0))>h&&(u=p,h=m);h>a&&(s[u]=1,_simplifyDPStep(e,s,a,l,u),_simplifyDPStep(e,s,a,u,c))}function _reducePoints(e,s){for(var a=[e[0]],l=1,c=0,u=e.length;l<u;l++)_sqDist(e[l],e[c])>s&&(a.push(e[l]),c=l);return c<u-1&&a.push(e[u-1]),a}function clipSegment(e,s,a,l,c){var u,p,m,h=l?Ct:_getBitCode(e,a),f=_getBitCode(s,a);for(Ct=f;;){if(!(h|f))return[e,s];if(h&f)return!1;m=_getBitCode(p=_getEdgeIntersection(e,s,u=h||f,a,c),a),u===h?(e=p,h=m):(s=p,f=m)}}function _getEdgeIntersection(e,s,a,l,c){var u,p,m=s.x-e.x,h=s.y-e.y,f=l.min,g=l.max;return 8&a?(u=e.x+m*(g.y-e.y)/h,p=g.y):4&a?(u=e.x+m*(f.y-e.y)/h,p=f.y):2&a?(u=g.x,p=e.y+h*(g.x-e.x)/m):1&a&&(u=f.x,p=e.y+h*(f.x-e.x)/m),new Point(u,p,c)}function _getBitCode(e,s){var a=0;return e.x<s.min.x?a|=1:e.x>s.max.x&&(a|=2),e.y<s.min.y?a|=4:e.y>s.max.y&&(a|=8),a}function _sqDist(e,s){var a=s.x-e.x,l=s.y-e.y;return a*a+l*l}function _sqClosestPointOnSegment(e,s,a,l){var c,u=s.x,p=s.y,m=a.x-u,h=a.y-p,f=m*m+h*h;return f>0&&((c=((e.x-u)*m+(e.y-p)*h)/f)>1?(u=a.x,p=a.y):c>0&&(u+=m*c,p+=h*c)),m=e.x-u,h=e.y-p,l?m*m+h*h:new Point(u,p)}function isFlat(e){return!u(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function _flat(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),isFlat(e)}function polylineCenter(e,s){var a,l,c,u,p,m,h,f;if(!e||0===e.length)throw new Error("latlngs not passed");isFlat(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var g=toLatLng([0,0]),b=toLatLngBounds(e);b.getNorthWest().distanceTo(b.getSouthWest())*b.getNorthEast().distanceTo(b.getNorthWest())<1700&&(g=centroid(e));var j=e.length,N=[];for(a=0;a<j;a++){var k=toLatLng(e[a]);N.push(s.project(toLatLng([k.lat-g.lat,k.lng-g.lng])))}for(a=0,l=0;a<j-1;a++)l+=N[a].distanceTo(N[a+1])/2;if(0===l)f=N[0];else for(a=0,u=0;a<j-1;a++)if(p=N[a],m=N[a+1],(u+=c=p.distanceTo(m))>l){h=(u-l)/c,f=[m.x-h*(m.x-p.x),m.y-h*(m.y-p.y)];break}var _=s.unproject(toPoint(f));return toLatLng([_.lat+g.lat,_.lng+g.lng])}var _t={__proto__:null,simplify:simplify,pointToSegmentDistance:pointToSegmentDistance,closestPointOnSegment:closestPointOnSegment,clipSegment:clipSegment,_getEdgeIntersection:_getEdgeIntersection,_getBitCode:_getBitCode,_sqClosestPointOnSegment:_sqClosestPointOnSegment,isFlat:isFlat,_flat:_flat,polylineCenter:polylineCenter},Pt={project:function(e){return new Point(e.lng,e.lat)},unproject:function(e){return new LatLng(e.y,e.x)},bounds:new Bounds([-180,-90],[180,90])},Tt={R:6378137,R_MINOR:6356752.314245179,bounds:new Bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var s=Math.PI/180,a=this.R,l=e.lat*s,c=this.R_MINOR/a,u=Math.sqrt(1-c*c),p=u*Math.sin(l),m=Math.tan(Math.PI/4-l/2)/Math.pow((1-p)/(1+p),u/2);return l=-a*Math.log(Math.max(m,1e-10)),new Point(e.lng*s*a,l)},unproject:function(e){for(var s,a=180/Math.PI,l=this.R,c=this.R_MINOR/l,u=Math.sqrt(1-c*c),p=Math.exp(-e.y/l),m=Math.PI/2-2*Math.atan(p),h=0,f=.1;h<15&&Math.abs(f)>1e-7;h++)s=u*Math.sin(m),s=Math.pow((1-s)/(1+s),u/2),m+=f=Math.PI/2-2*Math.atan(p*s)-m;return new LatLng(m*a,e.x*a/l)}},Et={__proto__:null,LonLat:Pt,Mercator:Tt,SphericalMercator:A},At=extend2({},T,{code:"EPSG:3395",projection:Tt,transformation:function(){var e=.5/(Math.PI*Tt.R);return toTransformation(e,.5,-e,.5)}()}),Mt=extend2({},T,{code:"EPSG:4326",projection:Pt,transformation:toTransformation(1/180,1,-1/180,.5)}),Lt=extend2({},_,{projection:Pt,transformation:toTransformation(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var a=s.lng-e.lng,l=s.lat-e.lat;return Math.sqrt(a*a+l*l)},infinite:!0});_.Earth=T,_.EPSG3395=At,_.EPSG3857=I,_.EPSG900913=$,_.EPSG4326=Mt,_.Simple=Lt;var Dt=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[stamp(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[stamp(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var a=this.getEvents();s.on(a,this),this.once("remove",function(){s.off(a,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=stamp(e);return this._layers[s]||(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var s=stamp(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return stamp(e)in this._layers},eachLayer:function(e,s){for(var a in this._layers)e.call(s,this._layers[a]);return this},_addLayers:function(e){for(var s=0,a=(e=e?u(e)?e:[e]:[]).length;s<a;s++)this.addLayer(e[s])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[stamp(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=stamp(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,a=this._getZoomSpan();for(var l in this._zoomBoundLayers){var c=this._zoomBoundLayers[l].options;e=void 0===c.minZoom?e:Math.min(e,c.minZoom),s=void 0===c.maxZoom?s:Math.max(s,c.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ot=Dt.extend({initialize:function(e,s){var a,l;if(setOptions(this,s),this._layers={},e)for(a=0,l=e.length;a<l;a++)this.addLayer(e[a])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s,a,l=Array.prototype.slice.call(arguments,1);for(s in this._layers)(a=this._layers[s])[e]&&a[e].apply(a,l);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var a in this._layers)e.call(s,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return stamp(e)}}),layerGroup=function(e,s){return new Ot(e,s)},It=Ot.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ot.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ot.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new LatLngBounds;for(var s in this._layers){var a=this._layers[s];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),featureGroup=function(e,s){return new It(e,s)},$t=Class.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var a=this._getIconUrl(e);if(!a){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(a,s&&"IMG"===s.tagName?s:null);return this._setIconStyles(l,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),l},_setIconStyles:function(e,s){var a=this.options,l=a[s+"Size"];"number"==typeof l&&(l=[l,l]);var c=toPoint(l),u=toPoint("shadow"===s&&a.shadowAnchor||a.iconAnchor||c&&c.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(a.className||""),u&&(e.style.marginLeft=-u.x+"px",e.style.marginTop=-u.y+"px"),c&&(e.style.width=c.x+"px",e.style.height=c.y+"px")},_createImg:function(e,s){return(s=s||document.createElement("img")).src=e,s},_getIconUrl:function(e){return Ue.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function icon(e){return new $t(e)}var Rt=$t.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Rt.imagePath&&(Rt.imagePath=this._detectIconPath()),(this.options.imagePath||Rt.imagePath)+$t.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var strip=function(e,s,a){var l=s.exec(e);return l&&l[a]};return(e=strip(e,/^url\((['"])?(.+)\1\)$/,2))&&strip(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=create$1("div","leaflet-default-icon-path",document.body),s=getStyle(e,"background-image")||getStyle(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s))return s;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Ft=jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new St(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),addClass(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,a=s._map,l=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,u=getPosition(s._icon),p=a.getPixelBounds(),m=a.getPixelOrigin(),h=toBounds(p.min._subtract(m).add(c),p.max._subtract(m).subtract(c));if(!h.contains(u)){var f=toPoint((Math.max(h.max.x,u.x)-h.max.x)/(p.max.x-h.max.x)-(Math.min(h.min.x,u.x)-h.min.x)/(p.min.x-h.min.x),(Math.max(h.max.y,u.y)-h.max.y)/(p.max.y-h.max.y)-(Math.min(h.min.y,u.y)-h.min.y)/(p.min.y-h.min.y)).multiplyBy(l);a.panBy(f,{animate:!1}),this._draggable._newPos._add(f),this._draggable._startPos._add(f),setPosition(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(cancelAnimFrame(this._panRequest),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,a=s._shadow,l=getPosition(s._icon),c=s._map.layerPointToLatLng(l);a&&setPosition(a,l),s._latlng=c,e.latlng=c,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){cancelAnimFrame(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Bt=Dt.extend({options:{icon:new Rt,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){setOptions(this,s),this._latlng=toLatLng(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=toLatLng(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),l=!1;a!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(a.title=e.title),"IMG"===a.tagName&&(a.alt=e.alt||"")),addClass(a,s),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&on(a,"focus",this._panOnFocus,this);var c=e.icon.createShadow(this._shadow),u=!1;c!==this._shadow&&(this._removeShadow(),u=!0),c&&(addClass(c,s),c.alt=""),this._shadow=c,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&u&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&off(this._icon,"focus",this._panOnFocus,this),remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&remove(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&setPosition(this._icon,e),this._shadow&&setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ft)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ft(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&setOpacity(this._icon,e),this._shadow&&setOpacity(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,a=s.iconSize?toPoint(s.iconSize):toPoint(0,0),l=s.iconAnchor?toPoint(s.iconAnchor):toPoint(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:a.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function marker(e,s){return new Bt(e,s)}var zt=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return setOptions(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vt=zt.extend({options:{fill:!0,radius:10},initialize:function(e,s){setOptions(this,s),this._latlng=toLatLng(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=toLatLng(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return zt.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,a=this._clickTolerance(),l=[e+a,s+a];this._pxBounds=new Bounds(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function circleMarker(e,s){return new Vt(e,s)}var Ut=Vt.extend({initialize:function(e,s,a){if("number"==typeof s&&(s=extend2({},a,{radius:s})),setOptions(this,s),this._latlng=toLatLng(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:zt.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,a=this._map,l=a.options.crs;if(l.distance===T.distance){var c=Math.PI/180,u=this._mRadius/T.R/c,p=a.project([s+u,e]),m=a.project([s-u,e]),h=p.add(m).divideBy(2),f=a.unproject(h).lat,g=Math.acos((Math.cos(u*c)-Math.sin(s*c)*Math.sin(f*c))/(Math.cos(s*c)*Math.cos(f*c)))/c;(isNaN(g)||0===g)&&(g=u/Math.cos(Math.PI/180*s)),this._point=h.subtract(a.getPixelOrigin()),this._radius=isNaN(g)?0:h.x-a.project([f,e-g]).x,this._radiusY=h.y-p.y}else{var b=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(b).x}this._updateBounds()}});function circle(e,s,a){return new Ut(e,s,a)}var Ht=zt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){setOptions(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s,a,l=1/0,c=null,u=_sqClosestPointOnSegment,p=0,m=this._parts.length;p<m;p++)for(var h=this._parts[p],f=1,g=h.length;f<g;f++){var b=u(e,s=h[f-1],a=h[f],!0);b<l&&(l=b,c=u(e,s,a))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return polylineCenter(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=toLatLng(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new LatLngBounds,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],a=isFlat(e),l=0,c=e.length;l<c;l++)a?(s[l]=toLatLng(e[l]),this._bounds.extend(s[l])):s[l]=this._convertLatLngs(e[l]);return s},_project:function(){var e=new Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new Point(e,e);this._rawPxBounds&&(this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,a){var l,c,u=e[0]instanceof LatLng,p=e.length;if(u){for(c=[],l=0;l<p;l++)c[l]=this._map.latLngToLayerPoint(e[l]),a.extend(c[l]);s.push(c)}else for(l=0;l<p;l++)this._projectLatlngs(e[l],s,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var s,a,l,c,u,p,m,h=this._parts;for(s=0,l=0,c=this._rings.length;s<c;s++)for(a=0,u=(m=this._rings[s]).length;a<u-1;a++)(p=clipSegment(m[a],m[a+1],e,a,!0))&&(h[l]=h[l]||[],h[l].push(p[0]),p[1]===m[a+1]&&a!==u-2||(h[l].push(p[1]),l++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,a=0,l=e.length;a<l;a++)e[a]=simplify(e[a],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var a,l,c,u,p,m,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,u=this._parts.length;a<u;a++)for(l=0,c=(p=(m=this._parts[a]).length)-1;l<p;c=l++)if((s||0!==l)&&pointToSegmentDistance(e,m[c],m[l])<=h)return!0;return!1}});function polyline(e,s){return new Ht(e,s)}Ht._flat=_flat;var qt=Ht.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return polygonCenter(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=Ht.prototype._convertLatLngs.call(this,e),a=s.length;return a>=2&&s[0]instanceof LatLng&&s[0].equals(s[a-1])&&s.pop(),s},_setLatLngs:function(e){Ht.prototype._setLatLngs.call(this,e),isFlat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return isFlat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,a=new Point(s,s);if(e=new Bounds(e.min.subtract(a),e.max.add(a)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var l,c=0,u=this._rings.length;c<u;c++)(l=clipPolygon(this._rings[c],e,!0)).length&&this._parts.push(l)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s,a,l,c,u,p,m,h,f=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(c=0,m=this._parts.length;c<m;c++)for(u=0,p=(h=(s=this._parts[c]).length)-1;u<h;p=u++)a=s[u],l=s[p],a.y>e.y!=l.y>e.y&&e.x<(l.x-a.x)*(e.y-a.y)/(l.y-a.y)+a.x&&(f=!f);return f||Ht.prototype._containsPoint.call(this,e,!0)}});function polygon(e,s){return new qt(e,s)}var Wt=It.extend({initialize:function(e,s){setOptions(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s,a,l,c=u(e)?e:e.features;if(c){for(s=0,a=c.length;s<a;s++)((l=c[s]).geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var p=this.options;if(p.filter&&!p.filter(e))return this;var m=geometryToLayer(e,p);return m?(m.feature=asFeature(e),m.defaultOptions=m.options,this.resetStyle(m),p.onEachFeature&&p.onEachFeature(e,m),this.addLayer(m)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=extend2({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&("function"==typeof s&&(s=s(e.feature)),e.setStyle(s))}});function geometryToLayer(e,s){var a,l,c,u,p="Feature"===e.type?e.geometry:e,m=p?p.coordinates:null,h=[],f=s&&s.pointToLayer,g=s&&s.coordsToLatLng||coordsToLatLng;if(!m&&!p)return null;switch(p.type){case"Point":return _pointToLayer(f,e,a=g(m),s);case"MultiPoint":for(c=0,u=m.length;c<u;c++)a=g(m[c]),h.push(_pointToLayer(f,e,a,s));return new It(h);case"LineString":case"MultiLineString":return l=coordsToLatLngs(m,"LineString"===p.type?0:1,g),new Ht(l,s);case"Polygon":case"MultiPolygon":return l=coordsToLatLngs(m,"Polygon"===p.type?1:2,g),new qt(l,s);case"GeometryCollection":for(c=0,u=p.geometries.length;c<u;c++){var b=geometryToLayer({geometry:p.geometries[c],type:"Feature",properties:e.properties},s);b&&h.push(b)}return new It(h);case"FeatureCollection":for(c=0,u=p.features.length;c<u;c++){var j=geometryToLayer(p.features[c],s);j&&h.push(j)}return new It(h);default:throw new Error("Invalid GeoJSON object.")}}function _pointToLayer(e,s,a,l){return e?e(s,a):new Bt(a,l&&l.markersInheritOptions&&l)}function coordsToLatLng(e){return new LatLng(e[1],e[0],e[2])}function coordsToLatLngs(e,s,a){for(var l,c=[],u=0,p=e.length;u<p;u++)l=s?coordsToLatLngs(e[u],s-1,a):(a||coordsToLatLng)(e[u]),c.push(l);return c}function latLngToCoords(e,s){return void 0!==(e=toLatLng(e)).alt?[formatNum(e.lng,s),formatNum(e.lat,s),formatNum(e.alt,s)]:[formatNum(e.lng,s),formatNum(e.lat,s)]}function latLngsToCoords(e,s,a,l){for(var c=[],u=0,p=e.length;u<p;u++)c.push(s?latLngsToCoords(e[u],isFlat(e[u])?0:s-1,a,l):latLngToCoords(e[u],l));return!s&&a&&c.length>0&&c.push(c[0].slice()),c}function getFeature(e,s){return e.feature?extend2({},e.feature,{geometry:s}):asFeature(s)}function asFeature(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Zt={toGeoJSON:function(e){return getFeature(this,{type:"Point",coordinates:latLngToCoords(this.getLatLng(),e)})}};function geoJSON(e,s){return new Wt(e,s)}Bt.include(Zt),Ut.include(Zt),Vt.include(Zt),Ht.include({toGeoJSON:function(e){var s=!isFlat(this._latlngs);return getFeature(this,{type:(s?"Multi":"")+"LineString",coordinates:latLngsToCoords(this._latlngs,s?1:0,!1,e)})}}),qt.include({toGeoJSON:function(e){var s=!isFlat(this._latlngs),a=s&&!isFlat(this._latlngs[0]),l=latLngsToCoords(this._latlngs,a?2:s?1:0,!0,e);return s||(l=[l]),getFeature(this,{type:(a?"Multi":"")+"Polygon",coordinates:l})}}),Ot.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(a){s.push(a.toGeoJSON(e).geometry.coordinates)}),getFeature(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===s)return this.toMultiPoint(e);var a="GeometryCollection"===s,l=[];return this.eachLayer(function(s){if(s.toGeoJSON){var c=s.toGeoJSON(e);if(a)l.push(c.geometry);else{var u=asFeature(c);"FeatureCollection"===u.type?l.push.apply(l,u.features):l.push(u)}}}),a?getFeature(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});var Kt=geoJSON,Gt=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,a){this._url=e,this._bounds=toLatLngBounds(s),setOptions(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&toFront(this._image),this},bringToBack:function(){return this._map&&toBack(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=toLatLngBounds(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,s=this._image=e?this._url:create$1("img");addClass(s,"leaflet-image-layer"),this._zoomAnimated&&addClass(s,"leaflet-zoom-animated"),this.options.className&&addClass(s,this.options.className),s.onselectstart=falseFn,s.onmousemove=falseFn,s.onload=bind(this.fire,this,"load"),s.onerror=bind(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(s.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=s.src:(s.src=this._url,s.alt=this.options.alt)},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;setTransform(this._image,a,s)},_reset:function(){var e=this._image,s=new Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=s.getSize();setPosition(e,s.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){setOpacity(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),imageOverlay=function(e,s,a){return new Gt(e,s,a)},Yt=Gt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,s=this._image=e?this._url:create$1("video");if(addClass(s,"leaflet-image-layer"),this._zoomAnimated&&addClass(s,"leaflet-zoom-animated"),this.options.className&&addClass(s,this.options.className),s.onselectstart=falseFn,s.onmousemove=falseFn,s.onloadeddata=bind(this.fire,this,"load"),e){for(var a=s.getElementsByTagName("source"),l=[],c=0;c<a.length;c++)l.push(a[c].src);this._url=a.length>0?l:[s.src]}else{u(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var m=create$1("source");m.src=this._url[p],s.appendChild(m)}}}});function videoOverlay(e,s,a){return new Yt(e,s,a)}var Qt=Gt.extend({_initImage:function(){var e=this._image=this._url;addClass(e,"leaflet-image-layer"),this._zoomAnimated&&addClass(e,"leaflet-zoom-animated"),this.options.className&&addClass(e,this.options.className),e.onselectstart=falseFn,e.onmousemove=falseFn}});function svgOverlay(e,s,a){return new Qt(e,s,a)}var Xt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof LatLng||u(e))?(this._latlng=toLatLng(e),setOptions(this,s)):(setOptions(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&setOpacity(this._container,1),this.bringToFront(),this.options.interactive&&(addClass(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(setOpacity(this._container,0),this._removeTimeout=setTimeout(bind(remove,void 0,this._container),200)):remove(this._container),this.options.interactive&&(removeClass(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=toLatLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&toFront(this._container),this},bringToBack:function(){return this._map&&toBack(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof It){s=null;var a=this._source._layers;for(var l in a)if(a[l]._map){s=a[l];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else{if(!s.getBounds)throw new Error("Unable to get source layer LatLng.");e=s.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof s)e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=toPoint(this.options.offset),a=this._getAnchor();this._zoomAnimated?setPosition(this._container,e.add(a)):s=s.add(e).add(a);var l=this._containerBottom=-s.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=l+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(e,s,a,l){var c=s;return c instanceof e||(c=new e(l).setContent(s)),a&&c.setLatLng(a),c}}),Dt.include({_initOverlay:function(e,s,a,l){var c=a;return c instanceof e?(setOptions(c,l),c._source=this):(c=s&&!l?s:new e(l,this)).setContent(a),c}});var Jt=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Xt.prototype.openOn.call(this,e)},onAdd:function(e){Xt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zt||this._source.on("preclick",stopPropagation2))},onRemove:function(e){Xt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zt||this._source.off("preclick",stopPropagation2))},getEvents:function(){var e=Xt.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=create$1("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=create$1("div",e+"-content-wrapper",s);if(this._contentNode=create$1("div",e+"-content",a),disableClickPropagation(s),disableScrollPropagation(this._contentNode),on(s,"contextmenu",stopPropagation2),this._tipContainer=create$1("div",e+"-tip-container",s),this._tip=create$1("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=create$1("a",e+"-close-button",s);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',on(l,"click",function(e){preventDefault2(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),s.width=a+1+"px",s.whiteSpace="",s.height="";var l=e.offsetHeight,c=this.options.maxHeight,u="leaflet-popup-scrolled";c&&l>c?(s.height=c+"px",addClass(e,u)):removeClass(e,u),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();setPosition(this._container,s.add(a))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,s=parseInt(getStyle(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+s,l=this._containerWidth,c=new Point(this._containerLeft,-a-this._containerBottom);c._add(getPosition(this._container));var u=e.layerPointToContainerPoint(c),p=toPoint(this.options.autoPanPadding),m=toPoint(this.options.autoPanPaddingTopLeft||p),h=toPoint(this.options.autoPanPaddingBottomRight||p),f=e.getSize(),g=0,b=0;u.x+l+h.x>f.x&&(g=u.x+l-f.x+h.x),u.x-g-m.x<0&&(g=u.x-m.x),u.y+a+h.y>f.y&&(b=u.y+a-f.y+h.y),u.y-b-m.y<0&&(b=u.y-m.y),(g||b)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([g,b]))}},_getAnchor:function(){return toPoint(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),popup=function(e,s){return new Jt(e,s)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(e,s,a){return this._initOverlay(Jt,e,s,a).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Dt.include({bindPopup:function(e,s){return this._popup=this._initOverlay(Jt,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof It||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){stop(e);var s=e.layer||e.target;this._popup._source!==s||s instanceof zt?(this._popup._source=s,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var er=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Xt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Xt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Xt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=create$1("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+stamp(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,a,l=this._map,c=this._container,u=l.latLngToContainerPoint(l.getCenter()),p=l.layerPointToContainerPoint(e),m=this.options.direction,h=c.offsetWidth,f=c.offsetHeight,g=toPoint(this.options.offset),b=this._getAnchor();"top"===m?(s=h/2,a=f):"bottom"===m?(s=h/2,a=0):"center"===m?(s=h/2,a=f/2):"right"===m?(s=0,a=f/2):"left"===m?(s=h,a=f/2):p.x<u.x?(m="right",s=0,a=f/2):(m="left",s=h+2*(g.x+b.x),a=f/2),e=e.subtract(toPoint(s,a,!0)).add(g).add(b),removeClass(c,"leaflet-tooltip-right"),removeClass(c,"leaflet-tooltip-left"),removeClass(c,"leaflet-tooltip-top"),removeClass(c,"leaflet-tooltip-bottom"),addClass(c,"leaflet-tooltip-"+m),setPosition(c,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&setOpacity(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return toPoint(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tooltip=function(e,s){return new er(e,s)};ht.include({openTooltip:function(e,s,a){return this._initOverlay(er,e,s,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Dt.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(er,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var s=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[s](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof It||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s="function"==typeof e.getElement&&e.getElement();s&&(on(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),on(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s="function"==typeof e.getElement&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var s,a,l=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(s=this._map.mouseEventToContainerPoint(e.originalEvent),a=this._map.containerPointToLayerPoint(s),l=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(l)}});var tr=$t.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&"DIV"===e.tagName?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(empty(s),s.appendChild(a.html)):s.innerHTML=!1!==a.html?a.html:"",a.bgPos){var l=toPoint(a.bgPos);s.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function divIcon(e){return new tr(e)}$t.Default=Rt;var rr=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){setOptions(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),remove(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=throttle2(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof Point?e:new Point(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s,a=this.getPane().children,l=-e(-1/0,1/0),c=0,u=a.length;c<u;c++)s=a[c].style.zIndex,a[c]!==this._container&&s&&(l=e(l,+s));isFinite(l)&&(this.options.zIndex=l+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ue.ielt9){setOpacity(this._container,this.options.opacity);var e=+new Date,s=!1,a=!1;for(var l in this._tiles){var c=this._tiles[l];if(c.current&&c.loaded){var u=Math.min(1,(e-c.loaded)/200);setOpacity(c.el,u),u<1?s=!0:(c.active?a=!0:this._onOpaqueTile(c),c.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),s&&(cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this))}},_onOpaqueTile:falseFn,_initContainer:function(){this._container||(this._container=create$1("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(void 0!==e){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=s-Math.abs(e-a),this._onUpdateLevel(a)):(remove(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var l=this._levels[e],c=this._map;return l||((l=this._levels[e]={}).el=create$1("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=s,l.origin=c.project(c.unproject(c.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,c.getCenter(),c.getZoom()),falseFn(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:falseFn,_onRemoveLevel:falseFn,_onCreateLevel:falseFn,_pruneTiles:function(){if(this._map){var e,s,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(s=this._tiles[e]).retain=s.current;for(e in this._tiles)if((s=this._tiles[e]).current&&!s.active){var l=s.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)remove(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,a,l){var c=Math.floor(e/2),u=Math.floor(s/2),p=a-1,m=new Point(+c,+u);m.z=+p;var h=this._tileCoordsToKey(m),f=this._tiles[h];return f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),p>l&&this._retainParent(c,u,p,l))},_retainChildren:function(e,s,a,l){for(var c=2*e;c<2*e+2;c++)for(var u=2*s;u<2*s+2;u++){var p=new Point(c,u);p.z=a+1;var m=this._tileCoordsToKey(p),h=this._tiles[m];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),a+1<l&&this._retainChildren(c,u,a+1,l))}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return void 0!==s.minNativeZoom&&e<s.minNativeZoom?s.minNativeZoom:void 0!==s.maxNativeZoom&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,a,l){var c=Math.round(s);c=void 0!==this.options.maxZoom&&c>this.options.maxZoom||void 0!==this.options.minZoom&&c<this.options.minZoom?void 0:this._clampZoom(c);var u=this.options.updateWhenZooming&&c!==this._tileZoom;l&&!u||(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==c&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,s)},_setZoomTransform:function(e,s,a){var l=this._map.getZoomScale(a,e.zoom),c=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(s,a)).round();Ue.any3d?setTransform(e.el,c,l):setPosition(e.el,c)},_resetGrid:function(){var e=this._map,s=e.options.crs,a=this._tileSize=this.getTileSize(),l=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],l).x/a.x),Math.ceil(e.project([0,s.wrapLng[1]],l).x/a.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],l).y/a.x),Math.ceil(e.project([s.wrapLat[1],0],l).y/a.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var s=this._map,a=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),l=s.getZoomScale(a,this._tileZoom),c=s.project(e,this._tileZoom).floor(),u=s.getSize().divideBy(2*l);return new Bounds(c.subtract(u),c.add(u))},_update:function(e){var s=this._map;if(s){var a=this._clampZoom(s.getZoom());if(void 0===e&&(e=s.getCenter()),void 0!==this._tileZoom){var l=this._getTiledPixelBounds(e),c=this._pxBoundsToTileRange(l),u=c.getCenter(),p=[],m=this.options.keepBuffer,h=new Bounds(c.getBottomLeft().subtract([m,-m]),c.getTopRight().add([m,-m]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var f in this._tiles){var g=this._tiles[f].coords;g.z===this._tileZoom&&h.contains(new Point(g.x,g.y))||(this._tiles[f].current=!1)}if(Math.abs(a-this._tileZoom)>1)this._setView(e,a);else{for(var b=c.min.y;b<=c.max.y;b++)for(var j=c.min.x;j<=c.max.x;j++){var N=new Point(j,b);if(N.z=this._tileZoom,this._isValidTile(N)){var k=this._tiles[this._tileCoordsToKey(N)];k?k.current=!0:p.push(N)}}if(p.sort(function(e,s){return e.distanceTo(u)-s.distanceTo(u)}),0!==p.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(j=0;j<p.length;j++)this._addTile(p[j],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var a=this._globalTileRange;if(!s.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!s.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return toLatLngBounds(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,a=this.getTileSize(),l=e.scaleBy(a),c=l.add(a);return[s.unproject(l,e.z),s.unproject(c,e.z)]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),a=new LatLngBounds(s[0],s[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),a=new Point(+s[0],+s[1]);return a.z=+s[2],a},_removeTile:function(e){var s=this._tiles[e];s&&(remove(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){addClass(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=falseFn,e.onmousemove=falseFn,Ue.ielt9&&this.options.opacity<1&&setOpacity(e,this.options.opacity)},_addTile:function(e,s){var a=this._getTilePos(e),l=this._tileCoordsToKey(e),c=this.createTile(this._wrapCoords(e),bind(this._tileReady,this,e));this._initTile(c),this.createTile.length<2&&requestAnimFrame(bind(this._tileReady,this,e,null,c)),setPosition(c,a),this._tiles[l]={el:c,coords:e,current:!0},s.appendChild(c),this.fire("tileloadstart",{tile:c,coords:e})},_tileReady:function(e,s,a){s&&this.fire("tileerror",{error:s,tile:a,coords:e});var l=this._tileCoordsToKey(e);(a=this._tiles[l])&&(a.loaded=+new Date,this._map._fadeAnimated?(setOpacity(a.el,0),cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),s||(addClass(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ue.ielt9||!this._map._fadeAnimated?requestAnimFrame(this._pruneTiles,this):setTimeout(bind(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new Point(this._wrapX?wrapNum(e.x,this._wrapX):e.x,this._wrapY?wrapNum(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new Bounds(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function gridLayer(e){return new rr(e)}var nr=rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,(s=setOptions(this,s)).detectRetina&&Ue.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),"string"==typeof s.subdomains&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&void 0===s&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var a=document.createElement("img");return on(a,"load",bind(this._tileOnLoad,this,s,a)),on(a,"error",bind(this._tileOnError,this,s,a)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var s={r:Ue.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=a),s["-y"]=a}return template(this._url,extend2(s,this.options))},_tileOnLoad:function(e,s){Ue.ielt9?setTimeout(bind(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,a){var l=this.options.errorTileUrl;l&&s.getAttribute("src")!==l&&(s.src=l),e(a,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom;return this.options.zoomReverse&&(e=s-e),e+this.options.zoomOffset},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((s=this._tiles[e].el).onload=falseFn,s.onerror=falseFn,!s.complete)){s.src=p;var a=this._tiles[e].coords;remove(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:a})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",p),rr.prototype._removeTile.call(this,e)},_tileReady:function(e,s,a){if(this._map&&(!a||a.getAttribute("src")!==p))return rr.prototype._tileReady.call(this,e,s,a)}});function tileLayer(e,s){return new nr(e,s)}var sr=nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var a=extend2({},this.defaultWmsParams);for(var l in s)l in this.options||(a[l]=s[l]);var c=(s=setOptions(this,s)).detectRetina&&Ue.retina?2:1,u=this.getTileSize();a.width=u.x*c,a.height=u.y*c,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,nr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),a=this._crs,l=toBounds(a.project(s[0]),a.project(s[1])),c=l.min,u=l.max,p=(this._wmsVersion>=1.3&&this._crs===Mt?[c.y,c.x,u.y,u.x]:[c.x,c.y,u.x,u.y]).join(","),m=nr.prototype.getTileUrl.call(this,e);return m+getParamString(this.wmsParams,m,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+p},setParams:function(e,s){return extend2(this.wmsParams,e),s||this.redraw(),this}});function tileLayerWMS(e,s){return new sr(e,s)}nr.WMS=sr,tileLayer.wms=tileLayerWMS;var ar=Dt.extend({options:{padding:.1},initialize:function(e){setOptions(this,e),stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var a=this._map.getZoomScale(s,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,s),u=l.multiplyBy(-a).add(c).subtract(this._map._getNewPixelOrigin(e,s));Ue.any3d?setTransform(this._container,u,a):setPosition(this._container,u)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),a=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new Bounds(a,a.add(s.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ir=ar.extend({options:{tolerance:0},getEvents:function(){var e=ar.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");on(e,"mousemove",this._onMouseMove,this),on(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),on(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){cancelAnimFrame(this._redrawRequest),delete this._ctx,remove(this._container),off(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ar.prototype._update.call(this);var e=this._bounds,s=this._container,a=e.getSize(),l=Ue.retina?2:1;setPosition(s,e.min),s.width=l*a.x,s.height=l*a.y,s.style.width=a.x+"px",s.style.height=a.y+"px",Ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[stamp(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,a=s.next,l=s.prev;a?a.prev=l:this._drawLast=l,l?l.next=a:this._drawFirst=a,delete e._order,delete this._layers[stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var s,a,l=e.options.dashArray.split(/[, ]+/),c=[];for(a=0;a<l.length;a++){if(s=Number(l[a]),isNaN(s))return;c.push(s)}e.options._dashArray=c}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bounds,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var a=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var a,l,c,u,p=e._parts,m=p.length,h=this._ctx;if(m){for(h.beginPath(),a=0;a<m;a++){for(l=0,c=p[a].length;l<c;l++)u=p[a][l],h[l?"lineTo":"moveTo"](u.x,u.y);s&&h.closePath()}this._fillStroke(h,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var s=e._point,a=this._ctx,l=Math.max(Math.round(e._radius),1),c=(Math.max(Math.round(e._radiusY),1)||l)/l;1!==c&&(a.save(),a.scale(1,c)),a.beginPath(),a.arc(s.x,s.y/c,l,0,2*Math.PI,!1),1!==c&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,s){var a=s.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var s,a,l=this._map.mouseEventToLayerPoint(e),c=this._drawFirst;c;c=c.next)(s=c.layer).options.interactive&&s._containsPoint(l)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(s))&&(a=s);this._fireEvent(!!a&&[a],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(removeClass(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var a,l,c=this._drawFirst;c;c=c.next)(a=c.layer).options.interactive&&a._containsPoint(s)&&(l=a);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(addClass(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(bind(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,a){this._map._fireDOMEvent(s,a||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var a=s.next,l=s.prev;a&&(a.prev=l,l?l.next=a:a&&(this._drawFirst=a),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e))}},_bringToBack:function(e){var s=e._order;if(s){var a=s.next,l=s.prev;l&&(l.next=a,a?a.prev=l:l&&(this._drawLast=l),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e))}}});function canvas(e){return Ue.canvas?new ir(e):null}var or=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lr={_initContainer:function(){this._container=create$1("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ar.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=or("shape");addClass(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=or("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[stamp(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;remove(s),e.removeInteractiveTarget(s),delete this._layers[stamp(e)]},_updateStyle:function(e){var s=e._stroke,a=e._fill,l=e.options,c=e._container;c.stroked=!!l.stroke,c.filled=!!l.fill,l.stroke?(s||(s=e._stroke=or("stroke")),c.appendChild(s),s.weight=l.weight+"px",s.color=l.color,s.opacity=l.opacity,l.dashArray?s.dashStyle=u(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=l.lineCap.replace("butt","flat"),s.joinstyle=l.lineJoin):s&&(c.removeChild(s),e._stroke=null),l.fill?(a||(a=e._fill=or("fill")),c.appendChild(a),a.color=l.fillColor||l.color,a.opacity=l.fillOpacity):a&&(c.removeChild(a),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),a=Math.round(e._radius),l=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+a+","+l+" 0,23592600")},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){toFront(e._container)},_bringToBack:function(e){toBack(e._container)}},cr=Ue.vml?or:svgCreate,dr=ar.extend({_initContainer:function(){this._container=cr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){remove(this._container),off(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ar.prototype._update.call(this);var e=this._bounds,s=e.getSize(),a=this._container;this._svgSize&&this._svgSize.equals(s)||(this._svgSize=s,a.setAttribute("width",s.x),a.setAttribute("height",s.y)),setPosition(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=cr("path");e.options.className&&addClass(s,e.options.className),e.options.interactive&&addClass(s,"leaflet-interactive"),this._updateStyle(e),this._layers[stamp(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){remove(e._path),e.removeInteractiveTarget(e._path),delete this._layers[stamp(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,a=e.options;s&&(a.stroke?(s.setAttribute("stroke",a.color),s.setAttribute("stroke-opacity",a.opacity),s.setAttribute("stroke-width",a.weight),s.setAttribute("stroke-linecap",a.lineCap),s.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?s.setAttribute("stroke-dasharray",a.dashArray):s.removeAttribute("stroke-dasharray"),a.dashOffset?s.setAttribute("stroke-dashoffset",a.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),a.fill?(s.setAttribute("fill",a.fillColor||a.color),s.setAttribute("fill-opacity",a.fillOpacity),s.setAttribute("fill-rule",a.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,pointsToPath(e._parts,s))},_updateCircle:function(e){var s=e._point,a=Math.max(Math.round(e._radius),1),l="a"+a+","+(Math.max(Math.round(e._radiusY),1)||a)+" 0 1,0 ",c=e._empty()?"M0 0":"M"+(s.x-a)+","+s.y+l+2*a+",0 "+l+2*-a+",0 ";this._setPath(e,c)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){toFront(e._path)},_bringToBack:function(e){toBack(e._path)}});function svg(e){return Ue.svg||Ue.vml?new dr(e):null}Ue.vml&&dr.include(lr),ht.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var s=this._paneRenderers[e];return void 0===s&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&canvas(e)||svg(e)}});var ur=qt.extend({initialize:function(e,s){qt.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=toLatLngBounds(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function rectangle(e,s){return new ur(e,s)}dr.create=cr,dr.pointsToPath=pointsToPath,Wt.geometryToLayer=geometryToLayer,Wt.coordsToLatLng=coordsToLatLng,Wt.coordsToLatLngs=coordsToLatLngs,Wt.latLngToCoords=latLngToCoords,Wt.latLngsToCoords=latLngsToCoords,Wt.getFeature=getFeature,Wt.asFeature=asFeature,ht.mergeOptions({boxZoom:!0});var pr=jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){remove(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Je(),disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(e),on(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=create$1("div","leaflet-zoom-box",this._container),addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new Bounds(this._point,this._startPoint),a=s.getSize();setPosition(this._box,s.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(remove(this._box),removeClass(this._container,"leaflet-crosshair")),et(),enableImageDrag(),off(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(bind(this._resetState,this),0);var s=new LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",pr),ht.mergeOptions({doubleClickZoom:!0});var mr=jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,a=s.getZoom(),l=s.options.zoomDelta,c=e.originalEvent.shiftKey?a-l:a+l;"center"===s.options.doubleClickZoom?s.setZoom(c):s.setZoomAround(e.containerPoint,c)}});ht.addInitHook("addHandler","doubleClickZoom",mr),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hr=jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new St(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){removeClass(this._map._container,"leaflet-grab"),removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=toLatLngBounds(this._map.options.maxBounds);this._offsetLimit=toBounds(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),a=this._initialWorldOffset,l=this._draggable._newPos.x,c=(l-s+a)%e+s-a,u=(l+s+a)%e-s-a,p=Math.abs(c+a)<Math.abs(u+a)?c:u;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=p},_onDragEnd:function(e){var s=this._map,a=s.options,l=!a.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),l)s.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),u=(this._lastTime-this._times[0])/1e3,p=a.easeLinearity,m=c.multiplyBy(p/u),h=m.distanceTo([0,0]),f=Math.min(a.inertiaMaxSpeed,h),g=m.multiplyBy(f/h),b=f/(a.inertiaDeceleration*p),j=g.multiplyBy(-b/2).round();j.x||j.y?(j=s._limitOffset(j,s.options.maxBounds),requestAnimFrame(function(){s.panBy(j,{duration:b,easeLinearity:p,noMoveStart:!0,animate:!0})})):s.fire("moveend")}}});ht.addInitHook("addHandler","dragging",hr),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fr=jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),on(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,a=e.scrollTop||s.scrollTop,l=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(l,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s,a,l=this._panKeys={},c=this.keyCodes;for(s=0,a=c.left.length;s<a;s++)l[c.left[s]]=[-1*e,0];for(s=0,a=c.right.length;s<a;s++)l[c.right[s]]=[e,0];for(s=0,a=c.down.length;s<a;s++)l[c.down[s]]=[0,e];for(s=0,a=c.up.length;s<a;s++)l[c.up[s]]=[0,-1*e]},_setZoomDelta:function(e){var s,a,l=this._zoomKeys={},c=this.keyCodes;for(s=0,a=c.zoomIn.length;s<a;s++)l[c.zoomIn[s]]=e;for(s=0,a=c.zoomOut.length;s<a;s++)l[c.zoomOut[s]]=-e},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s,a=e.keyCode,l=this._map;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(s=this._panKeys[a],e.shiftKey&&(s=toPoint(s).multiplyBy(3)),l.options.maxBounds&&(s=l._limitOffset(toPoint(s),l.options.maxBounds)),l.options.worldCopyJump){var c=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(s)));l.panTo(c)}else l.panBy(s)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[a]);else{if(27!==a||!l._popup||!l._popup.options.closeOnEscapeKey)return;l.closePopup()}stop(e)}}});ht.addInitHook("addHandler","keyboard",fr),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gr=jt.extend({addHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=getWheelDelta(e),a=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(bind(this._performZoom,this),l),stop(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(4*this._map.options.wheelPxPerZoomLevel),c=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,u=a?Math.ceil(c/a)*a:c,p=e._limitZoom(s+(this._delta>0?u:-u))-s;this._delta=0,this._startTime=null,p&&("center"===e.options.scrollWheelZoom?e.setZoom(s+p):e.setZoomAround(this._lastMousePos,s+p))}});ht.addInitHook("addHandler","scrollWheelZoom",gr);var xr=600;ht.mergeOptions({tapHold:Ue.touchNative&&Ue.safari&&Ue.mobile,tapTolerance:15});var vr=jt.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var s=e.touches[0];this._startPos=this._newPos=new Point(s.clientX,s.clientY),this._holdTimeout=setTimeout(bind(function(){this._cancel(),this._isTapValid()&&(on(document,"touchend",preventDefault2),on(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),xr),on(document,"touchend touchcancel contextmenu",this._cancel,this),on(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function cancelClickPrevent(){off(document,"touchend",preventDefault2),off(document,"touchend touchcancel",cancelClickPrevent)},_cancel:function(){clearTimeout(this._holdTimeout),off(document,"touchend touchcancel contextmenu",this._cancel,this),off(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new Point(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});a._simulated=!0,s.target.dispatchEvent(a)}});ht.addInitHook("addHandler","tapHold",vr),ht.mergeOptions({touchZoom:Ue.touch,bounceAtZoomLimits:!0});var yr=jt.extend({addHooks:function(){addClass(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){removeClass(this._map._container,"leaflet-touch-zoom"),off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(e.touches&&2===e.touches.length&&!s._animatingZoom&&!this._zooming){var a=s.mouseEventToContainerPoint(e.touches[0]),l=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),"center"!==s.options.touchZoom&&(this._pinchStartLatLng=s.containerPointToLatLng(a.add(l)._divideBy(2))),this._startDist=a.distanceTo(l),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend touchcancel",this._onTouchEnd,this),preventDefault2(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var s=this._map,a=s.mouseEventToContainerPoint(e.touches[0]),l=s.mouseEventToContainerPoint(e.touches[1]),c=a.distanceTo(l)/this._startDist;if(this._zoom=s.getScaleZoom(c,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&c<1||this._zoom>s.getMaxZoom()&&c>1)&&(this._zoom=s._limitZoom(this._zoom)),"center"===s.options.touchZoom){if(this._center=this._startLatLng,1===c)return}else{var u=a._add(l)._divideBy(2)._subtract(this._centerPoint);if(1===c&&0===u.x&&0===u.y)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),cancelAnimFrame(this._animRequest);var p=bind(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=requestAnimFrame(p,this,!0),preventDefault2(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,cancelAnimFrame(this._animRequest),off(document,"touchmove",this._onTouchMove,this),off(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ht.addInitHook("addHandler","touchZoom",yr),ht.BoxZoom=pr,ht.DoubleClickZoom=mr,ht.Drag=hr,ht.Keyboard=fr,ht.ScrollWheelZoom=gr,ht.TapHold=vr,ht.TouchZoom=yr,e.Bounds=Bounds,e.Browser=Ue,e.CRS=_,e.Canvas=ir,e.Circle=Ut,e.CircleMarker=Vt,e.Class=Class,e.Control=ft,e.DivIcon=tr,e.DivOverlay=Xt,e.DomEvent=pt,e.DomUtil=lt,e.Draggable=St,e.Evented=j,e.FeatureGroup=It,e.GeoJSON=Wt,e.GridLayer=rr,e.Handler=jt,e.Icon=$t,e.ImageOverlay=Gt,e.LatLng=LatLng,e.LatLngBounds=LatLngBounds,e.Layer=Dt,e.LayerGroup=Ot,e.LineUtil=_t,e.Map=ht,e.Marker=Bt,e.Mixin=wt,e.Path=zt,e.Point=Point,e.PolyUtil=kt,e.Polygon=qt,e.Polyline=Ht,e.Popup=Jt,e.PosAnimation=mt,e.Projection=Et,e.Rectangle=ur,e.Renderer=ar,e.SVG=dr,e.SVGOverlay=Qt,e.TileLayer=nr,e.Tooltip=er,e.Transformation=Transformation,e.Util=g,e.VideoOverlay=Yt,e.bind=bind,e.bounds=toBounds,e.canvas=canvas,e.circle=circle,e.circleMarker=circleMarker,e.control=control,e.divIcon=divIcon,e.extend=extend2,e.featureGroup=featureGroup,e.geoJSON=geoJSON,e.geoJson=Kt,e.gridLayer=gridLayer,e.icon=icon,e.imageOverlay=imageOverlay,e.latLng=toLatLng,e.latLngBounds=toLatLngBounds,e.layerGroup=layerGroup,e.map=createMap,e.marker=marker,e.point=toPoint,e.polygon=polygon,e.polyline=polyline,e.popup=popup,e.rectangle=rectangle,e.setOptions=setOptions,e.stamp=stamp,e.svg=svg,e.svgOverlay=svgOverlay,e.tileLayer=tileLayer,e.tooltip=tooltip,e.transformation=toTransformation,e.version=s,e.videoOverlay=videoOverlay;var br=window.L;e.noConflict=function(){return window.L=br,this},window.L=e}(Xq.exports)),Xq.exports}();function createElementObject(e,s,a){return Object.freeze({instance:e,context:s,container:a})}function createElementHook(e,s){return null==s?function useImmutableLeafletElement(s,a){const l=re.useRef(void 0);return l.current||(l.current=e(s,a)),l}:function useMutableLeafletElement(a,l){const c=re.useRef(void 0);c.current||(c.current=e(a,l));const u=re.useRef(a),{instance:p}=c.current;return re.useEffect(function updateElementProps(){u.current!==a&&(s(p,a,u.current),u.current=a)},[p,a,s]),c}}function createLayerHook(e){return function useLayer(s){const a=useLeafletContext(),l=e(withPane(s,a),a);return useAttribution(a.map,s.attribution),useEventHandlers(l.current,s.eventHandlers),function useLayerLifecycle(e,s){re.useEffect(function addLayer(){return(s.layerContainer??s.map).addLayer(e.instance),function removeLayer(){s.layerContainer?.removeLayer(e.instance),s.map.removeLayer(e.instance)}},[s,e])}(l.current,a),l}}function useMapEvents(e){const s=function useMap(){return useLeafletContext().map}();return re.useEffect(function addMapEventHandlers(){return s.on(e),function removeMapEventHandlers(){s.off(e)}},[s,e]),s}function MapContainerComponent({bounds:e,boundsOptions:s,center:a,children:l,className:c,id:u,placeholder:p,style:m,whenReady:h,zoom:f,...g},b){const[j]=re.useState({className:c,id:u,style:m}),[N,k]=re.useState(null),_=re.useRef(void 0);re.useImperativeHandle(b,()=>N?.map??null,[N]);const T=re.useCallback(l=>{if(null!==l&&!_.current){const c=new Jq.Map(l,g);_.current=c,null!=a&&null!=f?c.setView(a,f):null!=e&&c.fitBounds(e,s),null!=h&&c.whenReady(h),k(function createLeafletContext(e){return Object.freeze({__version:1,map:e})}(c))}},[]);re.useEffect(()=>()=>{N?.map.remove()},[N]);const E=N?ae.createElement(Yq,{value:N},l):p??null;return ae.createElement("div",{...j,ref:T},E)}const eW=re.forwardRef(MapContainerComponent),tW=function createLayerComponent(e,s){return function createContainerComponent(e){function ContainerComponent(s,a){const{instance:l,context:c}=e(s).current;re.useImperativeHandle(a,()=>l);const{children:u}=s;return null==u?null:ae.createElement(Yq,{value:c},u)}return re.forwardRef(ContainerComponent)}(createLayerHook(createElementHook(e,s)))}(function createMarker({position:e,...s},a){const l=new Jq.Marker(e,s);return createElementObject(l,function extendContext(e,s){return Object.freeze({...e,...s})}(a,{overlayContainer:l}))},function updateMarker(e,s,a){s.position!==a.position&&e.setLatLng(s.position),null!=s.icon&&s.icon!==a.icon&&e.setIcon(s.icon),null!=s.zIndexOffset&&s.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(s.zIndexOffset),null!=s.opacity&&s.opacity!==a.opacity&&e.setOpacity(s.opacity),null!=e.dragging&&s.draggable!==a.draggable&&(!0===s.draggable?e.dragging.enable():e.dragging.disable())}),rW=function createOverlayComponent(e,s){return function createDivOverlayComponent(e){function OverlayComponent(s,a){const[l,c]=re.useState(!1),{instance:u}=e(s,c).current;re.useImperativeHandle(a,()=>u),re.useEffect(function updateOverlay(){l&&u.update()},[u,l,s.children]);const p=u._contentNode;return p?Fr.createPortal(s.children,p):null}return re.forwardRef(OverlayComponent)}(function createDivOverlayHook(e,s){return function useDivOverlay(a,l){const c=useLeafletContext(),u=e(withPane(a,c),c);return useAttribution(c.map,a.attribution),useEventHandlers(u.current,a.eventHandlers),s(u.current,c,a,l),u}}(createElementHook(e),s))}(function createPopup(e,s){return createElementObject(new Jq.Popup(e,s.overlayContainer),s)},function usePopupLifecycle(e,s,{position:a},l){re.useEffect(function addPopup(){const{instance:c}=e;function onPopupOpen(e){e.popup===c&&(c.update(),l(!0))}function onPopupClose(e){e.popup===c&&l(!1)}return s.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==s.overlayContainer?(null!=a&&c.setLatLng(a),c.openOn(s.map)):s.overlayContainer.bindPopup(c),function removePopup(){s.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(c)}},[e,s,l,a])}),nW=function createTileLayerComponent(e,s){return function createLeafComponent(e){function LeafComponent(s,a){const{instance:l}=e(s).current;return re.useImperativeHandle(a,()=>l),null}return re.forwardRef(LeafComponent)}(createLayerHook(createElementHook(e,s)))}(function createTileLayer({url:e,...s},a){return createElementObject(new Jq.TileLayer(e,withPane(s,a)),a)},function updateTileLayer(e,s,a){!function updateGridLayer(e,s,a){const{opacity:l,zIndex:c}=s;null!=l&&l!==a.opacity&&e.setOpacity(l),null!=c&&c!==a.zIndex&&e.setZIndex(c)}(e,s,a);const{url:l}=s;null!=l&&l!==a.url&&e.setUrl(l)}),sW={school:zo,hospital:Fi,shopping:Yo,transport:Ma,restaurant:lo,bank:lo,park:lo,university:zo},aW={school:"text-blue-600",hospital:"text-red-600",shopping:"text-green-600",transport:"text-purple-600",restaurant:"text-orange-600",bank:"text-yellow-600",park:"text-emerald-600",university:"text-indigo-600"};function NearbyAmenitiesMap({center:e=[-26.2041,28.0473],radius:s=2,showControls:a=!0,onAmenitySelect:l,className:c}){const[p,m]=re.useState(e),[h,f]=re.useState(s),[g,b]=re.useState({school:!0,hospital:!0,shopping:!0,transport:!0,restaurant:!1,bank:!1,park:!1,university:!1}),[j,N]=re.useState([]),[k,_]=re.useState(null),T=At.location.getNearbyAmenities.useQuery({latitude:p[0],longitude:p[1],radius:h,types:Object.entries(g).filter(([e,s])=>s).map(([e])=>e),limit:50}),E=re.useCallback(e=>{m(e)},[]),A=re.useCallback(e=>{b(s=>({...s,[e]:!s[e]}))},[]),L=re.useCallback(e=>{f(e)},[]),O=re.useCallback(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{const s=[e.coords.latitude,e.coords.longitude];m(s)},e=>{console.error("Error getting current location:",e)})},[]),getAmenityIcon=e=>{const s=sW[e]||lo;return u.jsx(s,{className:"h-4 w-4"})},getAmenityColor=e=>aW[e]||"text-gray-600";return re.useEffect(()=>{T.data&&N(T.data)},[T.data]),u.jsxs("div",{className:`space-y-4 ${c}`,children:[a&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(lo,{className:"h-5 w-5"}),"Nearby Amenities"]})}),u.jsxs(sa,{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:O,className:"flex-1",children:[u.jsx(So,{className:"h-4 w-4 mr-2"}),"My Location"]}),u.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>m(e),className:"flex-1",children:[u.jsx(lo,{className:"h-4 w-4 mr-2"}),"Reset View"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Label$1,{children:"Search Radius"}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[h,"km"]})]}),u.jsx(Slider,{value:[h],onValueChange:([e])=>L(e),max:10,min:.5,step:.5,className:"w-full"})]}),u.jsx(Separator,{}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Label$1,{children:"Amenity Types"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(g).map(([e,s])=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Switch,{checked:s,onCheckedChange:()=>A(e),id:`amenity-${e}`}),u.jsxs(Label$1,{htmlFor:`amenity-${e}`,className:"text-sm flex items-center gap-2 capitalize",children:[getAmenityIcon(e),e]})]},e))})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Found ",j.length," amenities within ",h,"km"]})]})]}),u.jsx(ea,{className:"overflow-hidden",children:u.jsx(sa,{className:"p-0",children:u.jsxs(eW,{center:p,zoom:13,style:{height:"500px",width:"100%"},className:"z-0",children:[u.jsx(nW,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.jsx(MapEventHandler,{onMove:E}),j.map(e=>u.jsx(tW,{position:[e.latitude,e.longitude],eventHandlers:{click:()=>{_(e),l?.(e)}},children:u.jsx(rW,{className:"amenity-popup",children:u.jsxs("div",{className:"p-2 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:getAmenityColor(e.type),children:getAmenityIcon(e.type)}),u.jsx("h3",{className:"font-semibold",children:e.name})]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsx("p",{className:"text-muted-foreground",children:e.address}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded capitalize",children:e.type}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.distance,"km away"]})]}),e.rating&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(sl,{className:"h-3 w-3 text-yellow-500 fill-current"}),u.jsx("span",{className:"text-xs",children:e.rating.toFixed(1)})]})]})]})})},e.id))]})})}),j.length>0&&u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(ra,{className:"text-lg",children:["Nearby Amenities (",j.length,")"]})}),u.jsx(sa,{className:"space-y-2 max-h-64 overflow-y-auto",children:j.sort((e,s)=>e.distance-s.distance).map(e=>u.jsx("div",{className:"p-3 rounded-lg border cursor-pointer transition-colors "+(k?.id===e.id?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>{_(e),m([e.latitude,e.longitude])},children:u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:getAmenityColor(e.type),children:getAmenityIcon(e.type)}),u.jsx("h4",{className:"font-medium",children:e.name})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.address}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Badge,{variant:"outline",className:"text-xs capitalize",children:e.type}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.distance,"km"]}),e.rating&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(sl,{className:"h-3 w-3 text-yellow-500 fill-current"}),u.jsx("span",{className:"text-xs",children:e.rating.toFixed(1)})]})]})]})})},e.id))})]}),0===j.length&&T.isSuccess&&u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center",children:[u.jsx(Vi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-muted-foreground",children:["No amenities found within ",h,"km of this location."]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try increasing the search radius or enabling more amenity types."})]})}),T.isLoading&&u.jsx(ea,{children:u.jsxs(sa,{className:"p-6 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),u.jsx("p",{className:"text-muted-foreground",children:"Searching for nearby amenities..."})]})})]})}function MapEventHandler({onMove:e}){return useMapEvents({moveend:s=>{const a=s.target.getCenter();e([a.lat,a.lng])}}),null}function AmenitiesSection({location:e}){return u.jsx("div",{className:"bg-white border-y border-slate-100 py-12 w-full",children:u.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12",children:[e&&e.latitude&&e.longitude&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-left",children:"Lifestyle & Amenities"}),u.jsx(NearbyAmenitiesMap,{center:[Number(e.latitude),Number(e.longitude)],radius:2,className:"w-full"})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-8 text-left",children:"Property Services"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{icon:"",title:"Home Loan"},{icon:"",title:"Home Interiors"},{icon:"",title:"Valuation"},{icon:"",title:"Prop Mgmt"},{icon:"",title:"Legal"},{icon:"",title:"Rentals"}].map((e,s)=>u.jsxs("div",{className:"flex flex-col items-start text-left p-6 rounded-xl bg-slate-50 hover:bg-white hover:shadow-lg transition-all cursor-pointer group border border-slate-100",children:[u.jsx("div",{className:"text-4xl mb-3 group-hover:scale-110 transition-transform",children:e.icon}),u.jsx("span",{className:"font-medium text-slate-700",children:e.title})]},s))})]})]})})}const iW={width:"100%",height:"500px"},oW={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!0,rotateControl:!1,fullscreenControl:!0},lW=["places"];function InteractiveMap({center:e,viewport:s,properties:a=[],className:l=""}){const[c,p]=re.useState(null),[m,h]=re.useState(null),{isLoaded:f,loadError:g}=useJsApiLoader({googleMapsApiKey:"AIzaSyDFkqVkL4jNrcfgV_Pd8p5FMoow8hn3nE4",libraries:lW}),b=re.useCallback(e=>{if(p(e),s){const a=new google.maps.LatLngBounds(new google.maps.LatLng(s.sw_lat,s.sw_lng),new google.maps.LatLng(s.ne_lat,s.ne_lng));e.fitBounds(a)}},[s]),j=re.useCallback(()=>{p(null)},[]);return g?u.jsx(ea,{className:`p-8 ${l}`,children:u.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[u.jsx(lo,{className:"h-12 w-12 text-slate-300 mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Unable to load map"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Please check your internet connection"})]})}):f?u.jsx(ea,{className:`overflow-hidden ${l}`,children:u.jsxs(GoogleMap,{mapContainerStyle:iW,center:e,zoom:s?void 0:12,onLoad:b,onUnmount:j,options:oW,children:[u.jsx(fg,{position:e,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n              <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="16" cy="16" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>\n              </svg>\n            '),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)}}),a.map(e=>u.jsx(fg,{position:{lat:e.latitude,lng:e.longitude},onClick:()=>h(e.id),icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`\n                <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M20 5 L35 35 L5 35 Z" fill="${m===e.id?"#ef4444":"#10b981"}" stroke="white" stroke-width="2"/>\n                </svg>\n              `),scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,35)}},e.id))]})}):u.jsx(ea,{className:`p-8 ${l}`,children:u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx(no,{className:"h-8 w-8 animate-spin text-primary mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading map..."})]})})}function SuburbPage({params:e}){const[s]=useLocation(),{province:a,city:l,suburb:c,action:p,locationId:m}=e,h=new URLSearchParams(s.split("?")[1]||""),f=h.has("propertyType")||h.has("minPrice")||h.has("maxPrice")||h.has("bedrooms");if("list"===h.get("view")||f)return u.jsx(SearchResults,{locationId:m});const{data:g,isLoading:b,error:j}=At.locationPages.getSuburbData.useQuery({provinceSlug:a,citySlug:l,suburbSlug:c}),{data:N}=At.locationPages.getHeroCampaign.useQuery({locationSlug:`${a}/${l}/${c}`,fallbacks:[`${a}/${l}`,a]});if(b)return u.jsx(SuburbPageSkeleton,{});if(j||!g)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-fluid-h3 font-bold mb-2",children:"Location Not Found"}),u.jsx("p",{className:"text-slate-500",children:"We couldn't find the suburb you're looking for."})]})});const{suburb:k,listings:_,stats:T,subLocalities:E=[],insights:A,reviews:L}=g;return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(MetaControl,{}),u.jsxs(wr,{children:[u.jsxs("title",{children:["Properties for Sale in ",k.name,", ",k.cityName," | Real Estate Portal"]}),u.jsx("meta",{name:"description",content:`Find the best homes in ${k.name}, ${k.cityName}. Search ${T.totalListings} properties for sale and rent.`})]}),u.jsx(LocationSchema,{type:"Suburb",name:k.name,description:`Real estate in ${k.name}, ${k.cityName}`,url:`/${a}/${l}/${c}`,breadcrumbs:[{name:"Home",url:"/"},{name:k.provinceName||a,url:`/${a}`},{name:k.cityName||l,url:`/${a}/${l}`},{name:k.name,url:`/${a}/${l}/${c}`}],geo:{latitude:Number(k.latitude),longitude:Number(k.longitude)},stats:T,image:"https://images.unsplash.com/photo-1574362848149-11496d93a7c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1984&q=80"}),u.jsx(LocationPageLayout,{locationName:k.name,locationSlug:`${a}/${l}/${c}`,banner:u.jsx(LocationHeroSection,{locationName:k.name,locationSlug:`${a}/${l}/${c}`,locationType:"suburb",locationId:k.id,backgroundImage:"https://images.unsplash.com/photo-1574362848149-11496d93a7c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1984&q=80",listingCount:T.totalListings,campaign:N,quickLinks:E?.slice(0,10).map(e=>({label:e.name,slug:e.slug}))||[]}),searchStage:null,propertyTypeExplorer:u.jsx(PropertyCategories,{preselectedLocation:{name:k.name,slug:c,provinceSlug:`${a}/${l}`,type:"suburb"}}),popularLocations:E&&E.length>0?u.jsx(ExploreCities,{basePath:"/property-for-sale",queryParams:"?view=list",title:`Neighborhoods in ${k.name}`,description:`Explore popular residential areas and neighborhoods within ${k.name}.`,customLocations:E.map(e=>({name:e.name,province:k.name,slug:e.slug,provinceSlug:`${a}/${l}/${c}`,propertyCount:e.listingCount?`${e.listingCount.toLocaleString()}+ Properties`:void 0}))}):void 0,buyerCTA:u.jsxs("div",{className:"py-8 text-center bg-blue-50 rounded-lg mx-4 md:mx-0",children:[u.jsxs("h3",{className:"text-fluid-h4 font-bold mb-2",children:["Looking for a home in ",k.name,"?"]}),u.jsx("p",{className:"mb-4 text-slate-600",children:"Get alerts when new properties are listed."}),u.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700",children:"Set Property Alert"})]}),listingsFeed:u.jsxs("div",{className:"space-y-12",children:[u.jsx("div",{className:"py-fluid-xl bg-white",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"flex justify-between items-end mb-8",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-fluid-h2 font-bold mb-3",children:["Homes in ",k.name]}),u.jsxs("p",{className:"text-muted-foreground text-base max-w-2xl",children:["Browse a selection of properties for sale in ",k.name,"."]})]}),u.jsx(rc,{href:`/property-for-sale/${a}/${l}/${c}?view=list`,children:u.jsxs(Button$1,{variant:"outline",className:"hidden md:flex gap-2",children:["View all properties ",u.jsx(pa,{className:"h-4 w-4"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.slice(0,8).map((e,s)=>{const a=normalizePropertyForUI(e);return a?u.jsx(PropertyCard$2,{...a},s):null})}),u.jsx("div",{className:"mt-8 text-center md:hidden",children:u.jsx(rc,{href:`/property-for-sale/${a}/${l}/${c}?view=list`,children:u.jsxs(Button$1,{variant:"outline",className:"w-full gap-2",children:["View all properties ",u.jsx(pa,{className:"h-4 w-4"})]})})})]})}),u.jsx(MarketInsights,{stats:T,locationName:k.name,type:"suburb"}),u.jsx("div",{className:"container py-8",children:u.jsx(SuburbInsights,{suburbId:k.id,suburbName:k.name,pros:A?.pros,cons:A?.cons,reviews:L,rating:4.8})}),k.latitude&&k.longitude&&u.jsxs("div",{className:"py-4",children:[u.jsxs("h2",{className:"text-fluid-h2 font-bold mb-6",children:["Explore ",k.name," on the Map"]}),u.jsx(InteractiveMap,{center:{lat:Number(k.latitude),lng:Number(k.longitude)},viewport:k.viewport_ne_lat?{ne_lat:Number(k.viewport_ne_lat),ne_lng:Number(k.viewport_ne_lng),sw_lat:Number(k.viewport_sw_lat),sw_lng:Number(k.viewport_sw_lng)}:void 0,properties:_.map(e=>({id:e.id,latitude:Number(e.latitude),longitude:Number(e.longitude),title:e.title,price:e.price}))})]}),u.jsx(AmenitiesSection,{location:{latitude:Number(k.latitude),longitude:Number(k.longitude)}}),k.id&&u.jsx(SimilarLocationsSection,{locationId:k.id,currentLocationName:k.name})]}),exploreMore:u.jsx(DiscoverProperties,{initialCity:k.cityName,locationName:k.name}),finalCTA:u.jsx(FinalCTA,{locationName:k.name,provinceSlug:a,citySlug:l,suburbSlug:c})})]})}function SimilarLocationsSection({locationId:e,currentLocationName:s}){const{data:a,isLoading:l}=useSimilarLocations({locationId:e,limit:5});return u.jsx(SimilarLocations,{locations:a||[],currentLocationName:s,isLoading:l})}function SuburbPageSkeleton(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"h-[400px] bg-slate-200 animate-pulse"}),u.jsxs("div",{className:"container py-8 space-y-8",children:[u.jsx(Skeleton,{className:"h-12 w-full max-w-2xl"}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"}),u.jsx(Skeleton,{className:"h-40 w-full"})]})]})]})}function LegacyCityRedirect({params:e}){const[,s]=useLocation(),{province:a,city:l}=e;return re.useEffect(()=>{s(`/property-for-sale/${a}/${l}`,{replace:!0})},[a,l,s]),u.jsx(RedirectMessage,{})}function LegacySuburbRedirect({params:e}){const[,s]=useLocation(),{province:a,city:l,suburb:c}=e;return re.useEffect(()=>{s(`/property-for-sale/${a}/${l}/${c}`,{replace:!0})},[a,l,c,s]),u.jsx(RedirectMessage,{})}function LegacyProvinceRedirect({params:e}){const[,s]=useLocation(),{province:a}=e;return re.useEffect(()=>{s(`/property-for-sale/${a}`,{replace:!0})},[a,s]),u.jsx(RedirectMessage,{})}function OldLegacyCityRedirect({params:e}){const[,s]=useLocation(),{slug:a}=e;return re.useEffect(()=>{const e=kp[a.toLowerCase()]||"gauteng";s(`/property-for-sale/${e}/${a}`,{replace:!0})},[a,s]),u.jsx(RedirectMessage,{})}function RedirectMessage(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[u.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-full mb-4 animate-bounce"}),u.jsx("p",{className:"text-slate-500",children:"Redirecting to new location..."})]})})}function Router(){return function useGuestDataMigration(){const{isAuthenticated:e,loading:s}=useAuth(),{getGuestData:a,clearGuestData:l,getActivityCounts:c}=useGuestActivity(),u=At.guestMigration.migrateGuestData.useMutation({onSuccess:e=>{(e.migratedViews>0||e.migratedFavorites>0)&&Gr.success(`Welcome back! We've saved your ${e.migratedViews} viewed properties and ${e.migratedFavorites} favorites.`),l()},onError:e=>{console.error("Guest migration error:",e)}});return re.useEffect(()=>{if(!s&&e&&!u.isLoading){const e=c();if(e.viewed>0||e.favorites>0){const e=a();u.mutate({viewedProperties:e.viewedProperties,favoriteProperties:e.favoriteProperties})}}},[e,s]),{isMigrating:u.isLoading}}(),function useKeyboardMode(){re.useEffect(()=>{let e=!1;const handleKeyDown=s=>{"Tab"!==s.key||e||(e=!0,document.body.classList.add("keyboard-navigation"))},handleMouseDown=()=>{e&&(e=!1,document.body.classList.remove("keyboard-navigation"))};return window.addEventListener("keydown",handleKeyDown),window.addEventListener("mousedown",handleMouseDown),()=>{window.removeEventListener("keydown",handleKeyDown),window.removeEventListener("mousedown",handleMouseDown),document.body.classList.remove("keyboard-navigation")}},[])}(),u.jsxs(u.Fragment,{children:[u.jsx(SkipToContent,{targetId:"main-content"}),u.jsxs(Switch$2,{children:[u.jsx(Route,{path:"/",component:Home$1}),u.jsx(Route,{path:"/property-for-sale",component:SearchResults}),u.jsx(Route,{path:"/property-to-rent",component:SearchResults}),u.jsx(Route,{path:"/property-for-sale/:province/:city/:suburb",component:SuburbPage}),u.jsx(Route,{path:"/property-to-rent/:province/:city/:suburb",component:SuburbPage}),u.jsx(Route,{path:"/property-for-sale/:province/:city",component:CityPage}),u.jsx(Route,{path:"/property-to-rent/:province/:city",component:CityPage}),u.jsx(Route,{path:"/property-for-sale/:province",component:ProvincePage}),u.jsx(Route,{path:"/property-to-rent/:province",component:ProvincePage}),u.jsx(Route,{path:"/developer/:rest*",component:DeveloperRoutes}),u.jsx(Route,{path:"/developers",component:DeveloperDirectoryPage}),u.jsx(Route,{path:"/developer/:slug",component:DeveloperBrandProfilePage}),u.jsx(Route,{path:"/:action/:suburb/:city/:province/:locationId",component:SuburbPage}),u.jsx(Route,{path:"/:action/:city/:province/:locationId",component:CityPage}),u.jsx(Route,{path:"/:action/:province/:locationId",component:ProvincePage}),u.jsx(Route,{path:"/properties",component:SearchResults}),u.jsx(Route,{path:"/property/:id",component:PropertyDetail}),u.jsx(Route,{path:"/favorites",component:Favorites}),u.jsx(Route,{path:"/agents",component:Agents}),u.jsx(Route,{path:"/agent/dashboard",component:AgentDashboard}),u.jsx(Route,{path:"/agent/listings",component:AgentListings}),u.jsx(Route,{path:"/agent/leads",component:AgentLeadsEnhanced}),u.jsx(Route,{path:"/agent/marketing",component:AgentMarketingHub}),u.jsx(Route,{path:"/agent/earnings",component:AgentEarnings}),u.jsx(Route,{path:"/agent/analytics",component:AgentAnalytics}),u.jsx(Route,{path:"/agent/productivity",component:AgentProductivity}),u.jsx(Route,{path:"/agent/training",component:AgentTrainingSupport}),u.jsx(Route,{path:"/agent/settings",component:AgentSettings}),u.jsx(Route,{path:"/agent/setup",component:AgentSetup}),u.jsx(Route,{path:"/agent/profile/:agentId",component:AgentPublicProfile}),u.jsx(Route,{path:"/agent/:id",component:AgentDetail}),u.jsx(Route,{path:"/agent/:id",component:AgentDetail}),u.jsx(Route,{path:"/city/:slug",component:OldLegacyCityRedirect}),u.jsx(Route,{path:"/suburb/:city/:suburb",component:e=>u.jsx(LegacySuburbRedirect,{params:{...e.params,province:"gauteng"}})}),u.jsx(Route,{path:"/listings/create",component:ListingWizard}),u.jsx(Route,{path:"/listing-template",component:ListingTemplate}),u.jsx(Route,{path:"/developments/create",component:CreateDevelopmentPage}),u.jsx(Route,{path:"/development-wizard",component:CreateDevelopmentPage}),u.jsx(Route,{path:"/new-developments",component:DevelopmentsDemo}),u.jsx(Route,{path:"/developments",component:()=>(window.location.replace("/new-developments"),null)}),u.jsx(Route,{path:"/development/:slug",component:DevelopmentDetail}),u.jsx(Route,{path:"/agency/setup",component:AgencySetupWizard}),u.jsx(Route,{path:"/agency/success",component:()=>u.jsx(RegistrationSuccess,{role:"agency"})}),u.jsx(Route,{path:"/agent/success",component:()=>u.jsx(RegistrationSuccess,{role:"agent"})}),u.jsx(Route,{path:"/explore/home",component:ExploreHome}),u.jsx(Route,{path:"/explore/shorts",component:ExploreShorts}),u.jsx(Route,{path:"/explore/upload",component:ExploreUpload}),u.jsx(Route,{path:"/explore/component-demo",component:ExploreComponentDemo}),u.jsx(Route,{path:"/map-preview-demo",component:MapPreviewDemo}),u.jsx(Route,{path:"/explore",component:ExploreFeed}),u.jsx(Route,{path:"/partner/:partnerId",component:PartnerProfile}),u.jsx(Route,{path:"/compare",component:CompareProperties}),u.jsx(Route,{path:"/login",component:Login}),u.jsx(Route,{path:"/forgot-password",component:ForgotPassword}),u.jsx(Route,{path:"/reset-password",component:ResetPassword}),u.jsx(Route,{path:"/accept-invitation",component:AcceptInvitation}),u.jsx(Route,{path:"/role-selection",component:RoleSelection}),u.jsx(Route,{path:"/advertise",component:AdvertiseWithUs}),u.jsx(Route,{path:"/advertise-with-us",component:()=>(window.location.href="/advertise",null)}),u.jsx(Route,{path:"/advertise with us",component:()=>(window.location.href="/advertise",null)}),u.jsx(Route,{path:"/subscription-plans",component:SubscriptionPlans}),u.jsx(Route,{path:"/admin",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(OverviewPage,{})})}),u.jsx(Route,{path:"/admin/ecosystem",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(EcosystemOverviewPage,{})})}),u.jsx(Route,{path:"/admin/overview",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(OverviewPage,{})})}),u.jsx(Route,{path:"/admin/agencies",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(AgenciesPage,{})})}),u.jsx(Route,{path:"/admin/users",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(UsersPage,{})})}),u.jsx(Route,{path:"/admin/developers",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(DevelopersPage,{})})}),u.jsx(Route,{path:"/admin/properties",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(PropertiesPage,{})})}),u.jsx(Route,{path:"/admin/revenue",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(RevenueCenterPage,{})})}),u.jsx(Route,{path:"/admin/monetization",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(LocationMonetizationPage,{})})}),u.jsx(Route,{path:"/admin/subscriptions",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(SubscriptionManagementPage,{})})}),u.jsx(Route,{path:"/admin/marketing",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(MarketingCampaignsPage,{})})}),u.jsx(Route,{path:"/admin/marketing/create",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(CreateCampaignWizard,{})})}),u.jsx(Route,{path:"/admin/marketing/:id",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(CampaignDetailsPage,{})})}),u.jsx(Route,{path:"/admin/analytics",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(AnalyticsPage,{})})}),u.jsx(Route,{path:"/admin/marketing/campaign/:id",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(CampaignInsights,{})})}),u.jsx(Route,{path:"/admin/lovable-hub",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(LovableIntegrationHub,{})})}),u.jsx(Route,{path:"/admin/approvals",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(UnifiedApprovalsPage,{})})}),u.jsx(Route,{path:"/admin/listing-approvals",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(ListingOversight,{})})}),u.jsx(Route,{path:"/admin/agent-approvals",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(AgentApprovals,{})})}),u.jsx(Route,{path:"/admin/development-approvals",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(DevelopmentOversight,{})})}),u.jsx(Route,{path:"/admin/partners",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(PartnerNetworkPage,{})})}),u.jsx(Route,{path:"/admin/publisher",component:()=>u.jsx(SuperAdminDashboard,{children:u.jsx(SuperAdminPublisher,{})})}),u.jsx(Route,{path:"/admin/review/:id",component:AdminPropertyReview}),u.jsx(Route,{path:"/dashboard",component:Dashboard}),u.jsx(Route,{path:"/agency/dashboard",component:AgencyDashboard}),u.jsx(Route,{path:"/agency/subscription",component:AgencySubscriptionPage}),u.jsx(Route,{path:"/agency/onboarding",component:AgencyOnboarding}),u.jsx(Route,{path:"/admin/subscription-management",component:SubscriptionManagementPage}),u.jsx(Route,{path:"/admin/plan-editor",component:PlanEditor}),u.jsx(Route,{path:"/admin/revenue-center",component:RevenueCenterPage}),u.jsx(Route,{path:"/agency/onboarding/success",component:OnboardingSuccess}),u.jsx(Route,{path:"/agency/invite",component:InviteAgents}),u.jsx(Route,{path:"/agency/agents",component:AgentManagement}),u.jsx(Route,{path:"/user/dashboard",children:u.jsx(RequireRole,{role:"user",children:u.jsx(UserDashboard,{})})}),u.jsx(Route,{path:"/agency/*",children:u.jsx(RequireRole,{role:"agency_admin",children:u.jsx(AgencyDashboard,{})})}),u.jsx(Route,{path:"/agent/*",children:u.jsx(RequireRole,{role:"agent",children:u.jsx(AgentDashboard,{})})}),u.jsx(Route,{path:"/:province/:city/:suburb",component:LegacySuburbRedirect}),u.jsx(Route,{path:"/:province/:city",component:LegacyCityRedirect}),u.jsx(Route,{path:"/:province",component:LegacyProvinceRedirect}),u.jsx(Route,{path:"/404",component:NotFound}),u.jsx(Route,{component:NotFound})]})]})}function App(){return u.jsx(ErrorBoundary,{children:u.jsx(BrandingProvider,{children:u.jsx(ThemeProvider,{defaultTheme:"light",children:u.jsx(GuestActivityProvider,{children:u.jsx(ComparisonProvider,{children:u.jsxs(TooltipProvider,{children:[u.jsx(Toaster2,{}),u.jsx(Router,{}),u.jsx(ComparisonBar,{}),u.jsx(GuestUserBanner,{})]})})})})})})}const cW=re.createContext(void 0),AuthProvider=({children:e})=>{const[s,a]=re.useState(null),l=null!==s;return u.jsx(cW.Provider,{value:{user:s,isAuthenticated:l,login:async(e,s)=>{console.log("Attempting to log in with:",e,s),a({id:"1",name:e,role:"admin"})},logout:async()=>{console.log("Logging out"),a(null)}},children:e})},dW=new class{#ne;#F;#p;#se;#ae;#ie;#oe;#le;constructor(e={}){this.#ne=e.queryCache||new Y,this.#F=e.mutationCache||new z,this.#p=e.defaultOptions||{},this.#se=new Map,this.#ae=new Map,this.#ie=0}mount(){this.#ie++,1===this.#ie&&(this.#oe=j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#ne.onFocus())}),this.#le=_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#ne.onOnline())}))}unmount(){this.#ie--,0===this.#ie&&(this.#oe?.(),this.#oe=void 0,this.#le?.(),this.#le=void 0)}isFetching(e){return this.#ne.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#F.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#ne.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),a=this.#ne.build(this,s),l=a.state.data;return void 0===l?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(resolveStaleTime(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(l))}getQueriesData(e){return this.#ne.findAll(e).map(({queryKey:e,state:s})=>[e,s.data])}setQueryData(e,s,a){const l=this.defaultQueryOptions({queryKey:e}),c=this.#ne.get(l.queryHash),u=c?.state.data,p=function functionalUpdate(e,s){return"function"==typeof e?e(s):e}(s,u);if(void 0!==p)return this.#ne.build(this,l).setData(p,{...a,manual:!0})}setQueriesData(e,s,a){return k.batch(()=>this.#ne.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,s,a)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#ne.get(s.queryHash)?.state}removeQueries(e){const s=this.#ne;k.batch(()=>{s.findAll(e).forEach(e=>{s.remove(e)})})}resetQueries(e,s){const a=this.#ne;return k.batch(()=>(a.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const a={revert:!0,...s},l=k.batch(()=>this.#ne.findAll(e).map(e=>e.cancel(a)));return Promise.all(l).then(noop$6).catch(noop$6)}invalidateQueries(e,s={}){return k.batch(()=>(this.#ne.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const a={...s,cancelRefetch:s.cancelRefetch??!0},l=k.batch(()=>this.#ne.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let s=e.fetch(void 0,a);return a.throwOnError||(s=s.catch(noop$6)),"paused"===e.state.fetchStatus?Promise.resolve():s}));return Promise.all(l).then(noop$6)}fetchQuery(e){const s=this.defaultQueryOptions(e);void 0===s.retry&&(s.retry=!1);const a=this.#ne.build(this,s);return a.isStaleByTime(resolveStaleTime(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$6).catch(noop$6)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$6).catch(noop$6)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _.isOnline()?this.#F.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#ne}getMutationCache(){return this.#F}getDefaultOptions(){return this.#p}setDefaultOptions(e){this.#p=e}setQueryDefaults(e,s){this.#se.set(hashKey(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#se.values()],a={};return s.forEach(s=>{partialMatchKey(e,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(e,s){this.#ae.set(hashKey(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#ae.values()],a={};return s.forEach(s=>{partialMatchKey(e,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#p.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),void 0===s.refetchOnReconnect&&(s.refetchOnReconnect="always"!==s.networkMode),void 0===s.throwOnError&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===b&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#p.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#ne.clear(),this.#F.clear()}}({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnMount:!1,refetchOnReconnect:!0},mutations:{retry:1,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),redirectToLoginIfUnauthorized=e=>{if(!(e instanceof lt))return;if("undefined"==typeof window)return;"Please login (10001)"===e.message&&(window.location.href=getLoginUrl())};dW.getQueryCache().subscribe(e=>{if("updated"===e.type&&"error"===e.action.type){const s=e.query.state.error;redirectToLoginIfUnauthorized(s),console.error("[API Query Error]",s)}}),dW.getMutationCache().subscribe(e=>{if("updated"===e.type&&"error"===e.action.type){const s=e.mutation.state.error;redirectToLoginIfUnauthorized(s);const a=s?.data?.zodError;a?console.error("[API Mutation Error] Zod validation:",a):console.error("[API Mutation Error]",s.message,{code:s?.data?.code})}});const uW=At.createClient({links:[function httpBatchLink(e){var s,a;const l=function resolveHTTPLinkOptions(e){return{url:e.url.toString(),fetch:e.fetch,transformer:(s=e.transformer,s?"input"in s?s:{input:s,output:s}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}),methodOverride:e.methodOverride};var s}(e),c=null!==(s=e.maxURLLength)&&void 0!==s?s:1/0,u=null!==(a=e.maxItems)&&void 0!==a?a:1/0;return()=>{const batchLoader=s=>({validate(e){if(c===1/0&&u===1/0)return!0;if(e.length>u)return!1;const a=e.map(e=>e.path).join(","),p=e.map(e=>e.input);return getUrl((0,pt.default)((0,pt.default)({},l),{},{type:s,path:a,inputs:p,signal:null})).length<=c},async fetch(a){const c=a.map(e=>e.path).join(","),u=a.map(e=>e.input),p=function allAbortSignals(...e){const s=new AbortController,a=e.length;let l=0;const onAbort=()=>{++l===a&&s.abort()};for(const c of e)(null==c?void 0:c.aborted)?onAbort():null==c||c.addEventListener("abort",onAbort,{once:!0});return s.signal}(...a.map(e=>e.signal)),m=await jsonHttpRequester((0,pt.default)((0,pt.default)({},l),{},{path:c,inputs:u,type:s,headers:()=>e.headers?"function"==typeof e.headers?e.headers({opList:a}):e.headers:{},signal:p}));return(Array.isArray(m.json)?m.json:a.map(()=>m.json)).map(e=>({meta:m.meta,json:e}))}}),s={query:dataLoader(batchLoader("query")),mutation:dataLoader(batchLoader("mutation"))};return({op:e})=>observable(a=>{
/* istanbul ignore if -- @preserve */
if("subscription"===e.type)throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");let c;return s[e.type].load(e).then(e=>{c=e;const s=transformResult(e.json,l.transformer.output);s.ok?(a.next({context:e.meta,result:s.result}),a.complete()):a.error(lt.from(s.error,{meta:e.meta}))}).catch(e=>{a.error(lt.from(e,{meta:null==c?void 0:c.meta}))}),()=>{}})}}({url:"/api/trpc",transformer:Ir,async fetch(e,s){const a=await globalThis.fetch(e,{...s??{},credentials:"include"}),l=a.headers.get("content-type")||"";if(!l.includes("application/json")){let s="";try{s=(await a.clone().text()).slice(0,300)}catch{}const c="string"==typeof e?e:e.url;throw new Error([`Backend returned non-JSON response (status ${a.status}).`,`URL: ${c}`,`Content-Type: ${l||"(missing)"}`,s?`Body: ${s}`:"Body: (empty)","","Most likely causes:","- Backend server is not running (start with: pnpm dev)","- Proxy configuration issue","- Upstream server error returned HTML/text instead of JSON"].join("\n"))}return a}})]});Wt.createRoot(document.getElementById("root")).render(u.jsx(ae.StrictMode,{children:u.jsx(yr,{children:u.jsx(AuthProvider,{children:u.jsx(At.Provider,{client:uW,queryClient:dW,children:u.jsx(QueryClientProvider,{client:dW,children:u.jsx(App,{})})})})})})),console.log("[Main] App rendered with TRPC and QueryClient providers");export{AlertDialog as A,Button$1 as B,ea as C,fl as D,wl as E,wi as F,Dq as G,Oq as H,zi as I,Lq as J,CTAButtonGroup as K,no as L,lo as M,trackCTAClick as N,OptimizedImage as O,Mo as P,$a as Q,AnimatePresence as R,trackFAQExpand as S,ul as T,Cl as U,kl as V,Gr as a,sa as b,ta as c,ra as d,na as e,ka as f,Qa as g,formatDistanceToNow as h,aa as i,u as j,ji as k,AlertDialogContent as l,AlertDialogHeader as m,AlertDialogTitle as n,Va as o,AlertDialogDescription as p,AlertDialogFooter as q,re as r,AlertDialogCancel as s,At as t,useLocation as u,AlertDialogAction as v,kb as w,Mq as x,useScrollAnimation as y,ho as z};
